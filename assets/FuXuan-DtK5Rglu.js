import{T as u,S as B,A as H,U as D,C as N,h as g,i as c,j as F,k as G,w as y,a as M}from"./index-CUUFLx9X.js";import{f as x,h as w}from"./conditionalFinalizers-CYc97pLI.js";import"./vendor-PqicMVLa.js";const q=(a,_)=>{const i=u.wrappedFixedT(_).get(null,"conditionals","Characters.FuXuan"),{basic:E,skill:f,ult:S,talent:v}=M.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:C,SOURCE_SKILL:o,SOURCE_ULT:A,SOURCE_TALENT:L,SOURCE_TECHNIQUE:z,SOURCE_TRACE:r,SOURCE_MEMO:j,SOURCE_E1:U,SOURCE_E2:X,SOURCE_E4:Y,SOURCE_E6:P}=B.character("1208"),T=f(a,.12,.132),s=f(a,.06,.066),d=v(a,.18,.196),I=E(a,.5,.55),R=S(a,1,1.08),k=.05,b=133,O={skillActive:!0,talentActive:!0,e6TeamHpLostPercent:1.2},h={skillActive:!0,talentActive:!0,teammateHPValue:8e3},m={talentActive:{id:"talentActive",formItem:"switch",text:i("Content.talentActive.text"),content:i("Content.talentActive.content",{talentDmgReductionValue:u.precisionRound(100*d)})},skillActive:{id:"skillActive",formItem:"switch",text:i("Content.skillActive.text"),content:i("Content.skillActive.content",{skillHpBuffValue:u.precisionRound(100*s),skillCrBuffValue:u.precisionRound(100*T)})},e6TeamHpLostPercent:{id:"e6TeamHpLostPercent",formItem:"slider",text:i("Content.e6TeamHpLostPercent.text"),content:i("Content.e6TeamHpLostPercent.content"),min:0,max:1.2,percent:!0,disabled:a<6}},V={talentActive:m.talentActive,skillActive:m.skillActive,teammateHPValue:{id:"teammateHPValue",formItem:"slider",text:i("TeammateContent.teammateHPValue.text"),content:i("TeammateContent.teammateHPValue.content",{skillHpBuffValue:u.precisionRound(100*s)}),min:0,max:1e4}};return{activeAbilities:[H.BASIC,H.ULT],content:()=>Object.values(m),teammateContent:()=>Object.values(V),defaults:()=>O,teammateDefaults:()=>h,precomputeEffects:(t,e,l)=>{const n=e.characterConditionals;return t.BASIC_HP_SCALING.buff(I,C),t.ULT_HP_SCALING.buff(R,A),t.ULT_HP_SCALING.buff(a>=6?2*n.e6TeamHpLostPercent:0,P),t.BASIC_TOUGHNESS_DMG.buff(10,C),t.ULT_TOUGHNESS_DMG.buff(20,A),t.HEAL_TYPE.set(D,r),t.HEAL_SCALING.buff(k,r),t.HEAL_FLAT.buff(b,r),t},precomputeMutualEffects:(t,e,l)=>{const n=e.characterConditionals;t.CR.buffTeam(n.skillActive?T:0,o),t.CD.buffTeam(a>=1&&n.skillActive?.3:0,U),t.DMG_RED_MULTI.multiplyTeam(n.talentActive?1-d:1,L)},precomputeTeammateEffects:(t,e,l)=>{const n=e.characterConditionals,p=n.skillActive?s*n.teammateHPValue:0;t.HP.buffTeam(p,o),t.UNCONVERTIBLE_HP_BUFF.buffTeam(p,o),t.DMG_RED_MULTI.multiplyTeam(n.skillActive?1-.65:1,o)},finalizeCalculations:(t,e,l)=>{x(t)},gpuFinalizeCalculations:()=>w(),dynamicConditionals:[{id:"FuXuanHpConditional",type:N.ABILITY,activation:g.CONTINUOUS,dependsOn:[c.HP],chainsTo:[c.HP],condition:function(t,e,l){return e.characterConditionals.skillActive},effect:function(t,e,l){F(c.HP,c.HP,this,t,e,l,o,n=>n*s)},gpu:function(t,e){const l=t.characterConditionals;return G(c.HP,c.HP,this,t,e,`${s} * convertibleValue`,`${y(l.skillActive)}`)}}]}};export{q as default};
