import{T as S,S as N,A as D,e as y,K as f,q as F,w as r,C as M,h as x,i as o,j as w,k as G,a as P}from"./baseOptimizerWorker-D9p07sLo.js";var V=(a,p)=>{const n=S.wrappedFixedT(p).get(null,"conditionals","Characters.Firefly"),{basic:d,skill:B,ult:E,talent:l}=P.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:C,SOURCE_SKILL:A,SOURCE_ULT:u,SOURCE_TALENT:h,SOURCE_TECHNIQUE:Y,SOURCE_TRACE:s,SOURCE_MEMO:$,SOURCE_E1:g,SOURCE_E2:z,SOURCE_E4:K,SOURCE_E6:R}=N.character("1310"),b=d(a,1,1.1),O=d(a,2,2.2),_=B(a,2,2.2),m=B(a,2,2.2),I=E(a,60,66),k=E(a,.2,.22),v=l(a,.3,.34),T=l(a,.4,.44),L={enhancedStateActive:!0,enhancedStateSpdBuff:!0,superBreakDmg:!0,atkToBeConversion:!0,talentDmgReductionBuff:!0,e1DefShred:!0,e4ResBuff:!0,e6Buffs:!0},U={enhancedStateActive:{id:"enhancedStateActive",formItem:"switch",text:n("Content.enhancedStateActive.text"),content:n("Content.enhancedStateActive.content")},enhancedStateSpdBuff:{id:"enhancedStateSpdBuff",formItem:"switch",text:n("Content.enhancedStateSpdBuff.text"),content:n("Content.enhancedStateSpdBuff.content",{ultSpdBuff:I})},superBreakDmg:{id:"superBreakDmg",formItem:"switch",text:n("Content.superBreakDmg.text"),content:n("Content.superBreakDmg.content")},atkToBeConversion:{id:"atkToBeConversion",formItem:"switch",text:n("Content.atkToBeConversion.text"),content:n("Content.atkToBeConversion.content")},talentDmgReductionBuff:{id:"talentDmgReductionBuff",formItem:"switch",text:n("Content.talentDmgReductionBuff.text"),content:n("Content.talentDmgReductionBuff.content",{talentResBuff:S.precisionRound(100*v),talentDmgReductionBuff:S.precisionRound(100*T)})},e1DefShred:{id:"e1DefShred",formItem:"switch",text:n("Content.e1DefShred.text"),content:n("Content.e1DefShred.content"),disabled:a<1},e4ResBuff:{id:"e4ResBuff",formItem:"switch",text:n("Content.e4ResBuff.text"),content:n("Content.e4ResBuff.content"),disabled:a<4},e6Buffs:{id:"e6Buffs",formItem:"switch",text:n("Content.e6Buffs.text"),content:n("Content.e6Buffs.content"),disabled:a<6}};return{activeAbilities:[D.BASIC,D.SKILL],content:()=>Object.values(U),defaults:()=>L,initializeConfigurations:(t,i,c)=>{i.characterConditionals.superBreakDmg&&t.ENEMY_WEAKNESS_BROKEN.config(1,s)},precomputeEffects:(t,i,c)=>{const e=i.characterConditionals;return t.RES.buff(e.enhancedStateActive?v:0,h),t.SPD.buff(e.enhancedStateActive&&e.enhancedStateSpdBuff?I:0,u),t.BREAK_EFFICIENCY_BOOST.buff(e.enhancedStateActive?.5:0,u),t.DMG_RED_MULTI.multiply(e.enhancedStateActive&&e.talentDmgReductionBuff?1-T:1,h),y(t,F,e.enhancedStateActive&&t.a[f.ENEMY_WEAKNESS_BROKEN]?k:0,u),t.DEF_PEN.buff(a>=1&&e.e1DefShred&&e.enhancedStateActive?.15:0,g),t.RES.buff(a>=4&&e.e4ResBuff&&e.enhancedStateActive?.5:0,K),t.FIRE_RES_PEN.buff(a>=6&&e.e6Buffs&&e.enhancedStateActive?.2:0,R),t.BREAK_EFFICIENCY_BOOST.buff(a>=6&&e.e6Buffs&&e.enhancedStateActive?.5:0,R),t.BASIC_ATK_SCALING.buff(e.enhancedStateActive?O:b,C),t.BASIC_TOUGHNESS_DMG.buff(e.enhancedStateActive?15:10,C),t.SKILL_TOUGHNESS_DMG.buff(e.enhancedStateActive?30:20,A),t},finalizeCalculations:(t,i,c)=>{const e=i.characterConditionals;t.SUPER_BREAK_MODIFIER.buff(e.superBreakDmg&&e.enhancedStateActive&&t.a[f.BE]>=2?.35:0,s),t.SUPER_BREAK_MODIFIER.buff(e.superBreakDmg&&e.enhancedStateActive&&t.a[f.BE]>=3.6?.15:0,s),t.SKILL_ATK_SCALING.buff(e.enhancedStateActive?.2*Math.min(3.6,t.a[f.BE])+m:_,A)},gpuFinalizeCalculations:(t,i)=>{const c=t.characterConditionals;return`
if (x.BE >= 2.00 && ${r(c.superBreakDmg&&c.enhancedStateActive)}) { x.SUPER_BREAK_MODIFIER += 0.35; }
if (x.BE >= 3.60 && ${r(c.superBreakDmg&&c.enhancedStateActive)}) { x.SUPER_BREAK_MODIFIER += 0.15; }

if (${r(c.enhancedStateActive)}) {
  x.SKILL_ATK_SCALING += 0.2 * min(3.60, x.BE) + ${m};
} else {
  x.SKILL_ATK_SCALING += ${_};
}
      `},dynamicConditionals:[{id:"FireflyConversionConditional",type:M.ABILITY,activation:x.CONTINUOUS,dependsOn:[o.ATK],chainsTo:[o.BE],condition:function(t,i,c){return i.characterConditionals.atkToBeConversion&&t.a[f.ATK]>1800},effect:function(t,i,c){w(o.ATK,o.BE,this,t,i,c,s,e=>.008*Math.floor((e-1800)/10))},gpu:function(t,i){const c=t.characterConditionals;return G(o.ATK,o.BE,this,t,i,"0.008 * floor((convertibleValue - 1800) / 10)",`${r(c.atkToBeConversion)} && x.ATK > 1800`)}}]}};export{V as default};
