import{T as r,S as x,d as S,N as W,A as C,C as w,h as K,i as s,K as z,j as P,k as j,w as Y,a as Q}from"./index-CUUFLx9X.js";import{s as V,a as $}from"./conditionalFinalizers-CYc97pLI.js";import"./vendor-PqicMVLa.js";const te=(t,m)=>{const n=r.wrappedFixedT(m).get(null,"conditionals","Characters.Aventurine"),a=r.wrappedFixedT(m).get(null,"conditionals","Common.ShieldAbility"),{basic:A,skill:T,ult:E,talent:h}=Q.ULT_BASIC_3_SKILL_TALENT_5,{SOURCE_BASIC:b,SOURCE_SKILL:l,SOURCE_ULT:d,SOURCE_TALENT:u,SOURCE_TECHNIQUE:q,SOURCE_TRACE:B,SOURCE_MEMO:J,SOURCE_E1:R,SOURCE_E2:I,SOURCE_E4:O,SOURCE_E6:L}=x.character("1304"),p=A(t,1,1.1),y=E(t,2.7,2.916),D=E(t,.15,.162),_=h(t,.25,.275),U=h(t,.5,.55),g=t>=4?10:7,v=T(t,.24,.256),F=T(t,320,356),N=.07,H=96,G={shieldAbility:S,defToCrBoost:!0,fuaHitsOnTarget:g,fortifiedWagerBuff:!0,enemyUnnervedDebuff:!0,e2ResShred:!0,e4DefBuff:!0,e6ShieldStacks:3},k={fortifiedWagerBuff:!0,enemyUnnervedDebuff:!0,e2ResShred:!0},c={shieldAbility:{id:"shieldAbility",formItem:"select",text:a("Text"),content:a("Content"),options:[{display:a("Skill"),value:S,label:a("Skill")},{display:a("Trace"),value:W,label:a("Trace")}],fullWidth:!0},defToCrBoost:{id:"defToCrBoost",formItem:"switch",text:n("Content.defToCrBoost.text"),content:n("Content.defToCrBoost.content")},fortifiedWagerBuff:{id:"fortifiedWagerBuff",formItem:"switch",text:n("Content.fortifiedWagerBuff.text"),content:n("Content.fortifiedWagerBuff.content",{talentResScaling:r.precisionRound(100*U)})},enemyUnnervedDebuff:{id:"enemyUnnervedDebuff",formItem:"switch",text:n("Content.enemyUnnervedDebuff.text"),content:n("Content.enemyUnnervedDebuff.content",{ultCdBoost:r.precisionRound(100*D)})},fuaHitsOnTarget:{id:"fuaHitsOnTarget",formItem:"slider",text:n("Content.fuaHitsOnTarget.text"),content:n("Content.fuaHitsOnTarget.content",{talentDmgScaling:r.precisionRound(100*_)}),min:0,max:g},e2ResShred:{id:"e2ResShred",formItem:"switch",text:n("Content.e2ResShred.text"),content:n("Content.e2ResShred.content"),disabled:t<2},e4DefBuff:{id:"e4DefBuff",formItem:"switch",text:n("Content.e4DefBuff.text"),content:n("Content.e4DefBuff.content"),disabled:t<4},e6ShieldStacks:{id:"e6ShieldStacks",formItem:"slider",text:n("Content.e6ShieldStacks.text"),content:n("Content.e6ShieldStacks.content"),min:0,max:3,disabled:t<6}},M={fortifiedWagerBuff:c.fortifiedWagerBuff,enemyUnnervedDebuff:c.enemyUnnervedDebuff,e2ResShred:c.e2ResShred};return{activeAbilities:[C.BASIC,C.ULT,C.FUA],content:()=>Object.values(c),teammateContent:()=>Object.values(M),defaults:()=>G,teammateDefaults:()=>k,precomputeEffects:(e,o,f)=>{const i=o.characterConditionals;return e.DEF_P.buff(t>=4&&i.e4DefBuff?.4:0,O),e.ELEMENTAL_DMG.buff(t>=6?Math.min(1.5,.5*i.e6ShieldStacks):0,L),e.BASIC_DEF_SCALING.buff(p,b),e.ULT_DEF_SCALING.buff(y,d),e.FUA_DEF_SCALING.buff(_*i.fuaHitsOnTarget,u),e.BASIC_TOUGHNESS_DMG.buff(10,b),e.ULT_TOUGHNESS_DMG.buff(30,d),e.FUA_TOUGHNESS_DMG.buff(10/3*i.fuaHitsOnTarget,u),i.shieldAbility==S&&(e.SHIELD_SCALING.buff(v,l),e.SHIELD_FLAT.buff(F,l)),i.shieldAbility==0&&(e.SHIELD_SCALING.buff(N,l),e.SHIELD_FLAT.buff(H,l)),e},precomputeMutualEffects:(e,o,f)=>{const i=o.characterConditionals;e.RES.buffTeam(i.fortifiedWagerBuff?U:0,u),e.CD.buffTeam(i.enemyUnnervedDebuff?D:0,d),e.CD.buffTeam(t>=1&&i.fortifiedWagerBuff?.2:0,R),e.RES_PEN.buffTeam(t>=2&&i.e2ResShred?.12:0,I)},finalizeCalculations:(e,o,f)=>{V(e)},gpuFinalizeCalculations:()=>$(),dynamicConditionals:[{id:"AventurineConversionConditional",type:w.ABILITY,activation:K.CONTINUOUS,dependsOn:[s.DEF],chainsTo:[s.CR],condition:function(e,o,f){return o.characterConditionals.defToCrBoost&&e.a[z.DEF]>1600},effect:function(e,o,f){P(s.DEF,s.CR,this,e,o,f,B,i=>Math.min(.48,.02*Math.floor((i-1600)/100)))},gpu:function(e,o){const f=e.characterConditionals;return j(s.DEF,s.CR,this,e,o,"min(0.48, 0.02 * floor((convertibleValue - 1600) / 100))",`${Y(f.defToCrBoost)} && x.DEF > 1600`)}}]}};export{te as default};
