import{T as d,S as N,d as E,N as f,A as _,e as v,f as G,q as w,C as x,h as M,i as c,j as D,k as K,w as Y,a as P}from"./baseOptimizerWorker-D9p07sLo.js";import{k as z,l as j}from"./conditionalFinalizers-Dw6EAy4d.js";var J=(e,B)=>{const n=d.wrappedFixedT(B).get(null,"conditionals","Characters.Gallagher"),s=d.wrappedFixedT(B).get(null,"conditionals","Common.HealAbility"),{basic:l,skill:A,talent:b}=P.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:C,SOURCE_SKILL:T,SOURCE_ULT:S,SOURCE_TALENT:r,SOURCE_TECHNIQUE:V,SOURCE_TRACE:O,SOURCE_MEMO:q,SOURCE_E1:R,SOURCE_E2:g,SOURCE_E4:Q,SOURCE_E6:h}=N.character("1301"),p=l(e,1,1.1),I=l(e,2.5,2.75),L=l(e,1.5,1.65),m=b(e,.12,.132),U=A(e,1600,1768),y=b(e,640,707.2),H={healAbility:f,basicEnhanced:!0,breakEffectToOhbBoost:!0,e1ResBuff:!0,e2ResBuff:!0,e6BeBuff:!0,targetBesotted:!0},k={targetBesotted:!0,e2ResBuff:!0},u={healAbility:{id:"healAbility",formItem:"select",text:s("Text"),content:s("Content"),options:[{display:s("Skill"),value:E,label:s("Skill")},{display:s("Talent"),value:f,label:s("Talent")}],fullWidth:!0},basicEnhanced:{id:"basicEnhanced",formItem:"switch",text:n("Content.basicEnhanced.text"),content:n("Content.basicEnhanced.content")},breakEffectToOhbBoost:{id:"breakEffectToOhbBoost",formItem:"switch",text:n("Content.breakEffectToOhbBoost.text"),content:n("Content.breakEffectToOhbBoost.content")},targetBesotted:{id:"targetBesotted",formItem:"switch",text:n("Content.targetBesotted.text"),content:n("Content.targetBesotted.content",{talentBesottedScaling:d.precisionRound(100*m)})},e1ResBuff:{id:"e1ResBuff",formItem:"switch",text:n("Content.e1ResBuff.text"),content:n("Content.e1ResBuff.content"),disabled:e<1},e2ResBuff:{id:"e2ResBuff",formItem:"switch",text:n("Content.e2ResBuff.text"),content:n("Content.e2ResBuff.content"),disabled:e<2},e6BeBuff:{id:"e6BeBuff",formItem:"switch",text:n("Content.e6BeBuff.text"),content:n("Content.e6BeBuff.content"),disabled:e<6}},F={targetBesotted:u.targetBesotted,e2ResBuff:u.e2ResBuff};return{activeAbilities:[_.BASIC,_.ULT],content:()=>Object.values(u),teammateContent:()=>Object.values(F),defaults:()=>H,teammateDefaults:()=>k,precomputeEffects:(t,o,i)=>{const a=o.characterConditionals;return t.RES.buff(e>=1&&a.e1ResBuff?.5:0,R),t.BE.buff(e>=6?.2:0,h),t.BREAK_EFFICIENCY_BOOST.buff(e>=6?.2:0,h),t.BASIC_ATK_SCALING.buff(a.basicEnhanced?I:p,C),t.ULT_ATK_SCALING.buff(L,S),t.BASIC_TOUGHNESS_DMG.buff(a.basicEnhanced?30:10,C),t.ULT_TOUGHNESS_DMG.buff(20,S),a.healAbility==E&&(t.HEAL_TYPE.set(E,T),t.HEAL_FLAT.buff(U,T)),a.healAbility==f&&(t.HEAL_TYPE.set(f,r),t.HEAL_FLAT.buff(y,r)),t},precomputeMutualEffects:(t,o,i)=>{const a=o.characterConditionals;t.RES.buff(e>=2&&a.e2ResBuff?.3:0,g),v(t,w,a.targetBesotted?m:0,r,G.TEAM)},finalizeCalculations:t=>{z(t)},gpuFinalizeCalculations:()=>j(),dynamicConditionals:[{id:"GallagherConversionConditional",type:x.ABILITY,activation:M.CONTINUOUS,dependsOn:[c.BE],chainsTo:[c.OHB],condition:function(t,o,i){return o.characterConditionals.breakEffectToOhbBoost},effect:function(t,o,i){o.characterConditionals,D(c.BE,c.OHB,this,t,o,i,O,a=>Math.min(.75,.5*a))},gpu:function(t,o){const i=t.characterConditionals;return K(c.BE,c.OHB,this,t,o,"min(0.75, 0.50 * convertibleValue)",`${Y(i.breakEffectToOhbBoost)}`)}}]}};export{J as default};
