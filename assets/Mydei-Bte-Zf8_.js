import{T as o,S as N,A as r,K as g,w as d,C as D,h as x,i as l,j as y,k as G,a as M}from"./index-uKR0oAWy.js";import"./vendor-PqicMVLa.js";const $=(n,T)=>{const i=o.wrappedFixedT(T).get(null,"conditionals","Characters.Mydei.Content"),{basic:p,skill:s,ult:I,talent:b}=M.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:S,SOURCE_SKILL:f,SOURCE_ULT:u,SOURCE_TALENT:C,SOURCE_TECHNIQUE:K,SOURCE_TRACE:E,SOURCE_MEMO:F,SOURCE_E1:k,SOURCE_E2:U,SOURCE_E4:R,SOURCE_E6:w}=N.character("1404"),v=p(n,.5,.55),h=s(n,.9,.99),_=s(n,1.1,1.21),m=s(n,2.8,3.08),B=I(n,1.6,1.728),P={skillEnhances:2,vendettaState:!0,hpToCrConversion:!0,e1EnhancedSkillBuff:!0,e2DefPen:!0,e4CdBuff:!0},A={},O={skillEnhances:{id:"skillEnhances",formItem:"slider",text:i("skillEnhances.text"),content:i("skillEnhances.content",{SkillPrimaryScaling:o.precisionRound(h*100),SkillAdjacentScaling:o.precisionRound(s(n,50,55)),EnhancedSkillPrimaryScaling:o.precisionRound(_*100),EnhancedSkillAdjacentScaling:o.precisionRound(s(n,66,72.6)),EnhancedSkill2PrimaryScaling:o.precisionRound(m*100),EnhancedSkill2AdjacentScaling:o.precisionRound(s(n,168,184.8))}),min:0,max:2},vendettaState:{id:"vendettaState",formItem:"switch",text:i("vendettaState.text"),content:i("vendettaState.content",{HpRestoration:o.precisionRound(b(n,25,27))})},hpToCrConversion:{id:"hpToCrConversion",formItem:"switch",text:i("hpToCrConversion.text"),content:i("hpToCrConversion.content")},e1EnhancedSkillBuff:{id:"e1EnhancedSkillBuff",formItem:"switch",text:i("e1EnhancedSkillBuff.text"),content:i("e1EnhancedSkillBuff.content"),disabled:n<1},e2DefPen:{id:"e2DefPen",formItem:"switch",text:i("e2DefPen.text"),content:i("e2DefPen.content"),disabled:n<2},e4CdBuff:{id:"e4CdBuff",formItem:"switch",text:i("e4CdBuff.text"),content:i("e4CdBuff.content"),disabled:n<4}},H={};return{activeAbilities:[r.BASIC,r.SKILL,r.ULT],content:()=>Object.values(O),teammateContent:()=>Object.values(H),defaults:()=>P,teammateDefaults:()=>A,precomputeEffects:(t,e,c)=>{const a=e.characterConditionals;t.BASIC_HP_SCALING.buff(v,S),t.SKILL_HP_SCALING.buff(a.skillEnhances==0?h:0,f),t.SKILL_HP_SCALING.buff(a.skillEnhances==1?_:0,f),t.SKILL_HP_SCALING.buff(a.skillEnhances==2?m:0,f),t.SKILL_HP_SCALING.buff(n>=1&&a.e1EnhancedSkillBuff&&a.skillEnhances==2?.3:0,k),t.ULT_HP_SCALING.buff(B,u),t.DEF_PEN.buff(n>=2&&a.e2DefPen&&a.vendettaState?.15:0,U),t.CD.buff(n>=4&&a.e4CdBuff?.3:0,R),t.BASIC_TOUGHNESS_DMG.buff(10,S),t.SKILL_TOUGHNESS_DMG.buff(a.skillEnhances>1?30:20,f),t.ULT_TOUGHNESS_DMG.buff(20,u)},calculateBasicEffects:(t,e,c)=>{const L=e.characterConditionals.hpToCrConversion?Math.max(0,Math.min(.48,.016*Math.floor((t.c.a[g.HP]-5e3)/100))):0;t.CR.buff(L,E),t.UNCONVERTIBLE_CR_BUFF.buff(L,E)},gpuCalculateBasicEffects:(t,e)=>{const c=t.characterConditionals;return`
if (${d(c.hpToCrConversion)}) {
  let buffValue: f32 = max(0, min(0.48, 0.016 * floor((c.HP - 5000) / 100)));
  x.CR += buffValue;
  x.UNCONVERTIBLE_CR_BUFF += buffValue;
}
`},finalizeCalculations:(t,e,c)=>{e.characterConditionals.vendettaState&&t.DEF.set(0,C)},gpuFinalizeCalculations:(t,e)=>{const c=t.characterConditionals;return`
if (${d(c.vendettaState)}) {
  x.DEF = 0;
}
`},dynamicConditionals:[{id:"MydeiHpConditional",type:D.ABILITY,activation:x.CONTINUOUS,dependsOn:[l.HP],chainsTo:[l.HP],condition:function(t,e,c){return e.characterConditionals.vendettaState},effect:function(t,e,c){e.characterConditionals,y(l.HP,l.HP,this,t,e,c,C,a=>a*.5)},gpu:function(t,e){const c=t.characterConditionals;return G(l.HP,l.HP,this,t,e,"0.50 * convertibleValue",`${d(c.vendettaState)}`)}}]}};export{$ as default};
