import{T as s,S as k,A as r,p as B,D as m,e as G,f as M,K,w,a as H}from"./baseOptimizerWorker-D9p07sLo.js";var z=(t,p)=>{const a=s.wrappedFixedT(p).get(null,"conditionals","Characters.BlackSwan"),{basic:h,skill:D,ult:d,talent:E}=H.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:l,SOURCE_SKILL:S,SOURCE_ULT:R,SOURCE_TALENT:c,SOURCE_TECHNIQUE:F,SOURCE_TRACE:A,SOURCE_MEMO:v,SOURCE_E1:i,SOURCE_E2:x,SOURCE_E4:L,SOURCE_E6:V}=k.character("1307"),T=E(t,.12,.132),C=d(t,.25,.27),_=D(t,.208,.22),I=h(t,.6,.66),O=D(t,.9,.99),N=d(t,1.2,1.3),b=E(t,2.4,2.64),U=E(t,.65,.68),y={ehrToDmgBoost:!0,epiphanyDebuff:!0,defDecreaseDebuff:!0,arcanaStacks:7,e1ResReduction:!0,e4EffResPen:!0},P={epiphanyDebuff:!0,defDecreaseDebuff:!0,e1ResReduction:!0,e4EffResPen:!0},f={ehrToDmgBoost:{id:"ehrToDmgBoost",formItem:"switch",text:a("Content.ehrToDmgBoost.text"),content:a("Content.ehrToDmgBoost.content")},epiphanyDebuff:{id:"epiphanyDebuff",formItem:"switch",text:a("Content.epiphanyDebuff.text"),content:a("Content.epiphanyDebuff.content",{epiphanyDmgTakenBoost:s.precisionRound(100*C)})},defDecreaseDebuff:{id:"defDecreaseDebuff",formItem:"switch",text:a("Content.defDecreaseDebuff.text"),content:a("Content.defDecreaseDebuff.content",{defShredValue:s.precisionRound(100*_)})},arcanaStacks:{id:"arcanaStacks",formItem:"slider",text:a("Content.arcanaStacks.text"),content:a("Content.arcanaStacks.content",{dotScaling:s.precisionRound(100*b),arcanaStackMultiplier:s.precisionRound(100*T)}),min:1,max:50},e1ResReduction:{id:"e1ResReduction",formItem:"switch",text:a("Content.e1ResReduction.text"),content:a("Content.e1ResReduction.content"),disabled:t<1},e4EffResPen:{id:"e4EffResPen",formItem:"switch",text:a("Content.e4EffResPen.text"),content:a("Content.e4EffResPen.content"),disabled:t<4}},g={epiphanyDebuff:f.epiphanyDebuff,defDecreaseDebuff:f.defDecreaseDebuff,e1ResReduction:f.e1ResReduction,e4EffResPen:f.e4EffResPen};return{activeAbilities:[r.BASIC,r.SKILL,r.ULT,r.DOT],content:()=>Object.values(f),teammateContent:()=>Object.values(g),defaults:()=>y,teammateDefaults:()=>P,precomputeEffects:(e,o,u)=>{const n=o.characterConditionals;e.BASIC_ATK_SCALING.buff(I,l),e.SKILL_ATK_SCALING.buff(O,S),e.ULT_ATK_SCALING.buff(N,R),e.DOT_ATK_SCALING.buff(b+T*n.arcanaStacks,c),B(e,m,n.arcanaStacks>=7?.2:0,c),e.BASIC_TOUGHNESS_DMG.buff(10,l),e.SKILL_TOUGHNESS_DMG.buff(20,S),e.ULT_TOUGHNESS_DMG.buff(20,R),e.DOT_CHANCE.set(U,c),e.DOT_SPLIT.set(.05,c),e.DOT_STACKS.set(n.arcanaStacks,c)},precomputeMutualEffects:(e,o,u)=>{const n=o.characterConditionals;G(e,m,n.epiphanyDebuff?C:0,R,M.TEAM),e.DEF_PEN.buffTeam(n.defDecreaseDebuff?_:0,S),e.WIND_RES_PEN.buffTeam(t>=1&&n.e1ResReduction?.25:0,i),e.FIRE_RES_PEN.buffTeam(t>=1&&n.e1ResReduction?.25:0,i),e.PHYSICAL_RES_PEN.buffTeam(t>=1&&n.e1ResReduction?.25:0,i),e.LIGHTNING_RES_PEN.buffTeam(t>=1&&n.e1ResReduction?.25:0,i),e.EFFECT_RES_PEN.buffTeam(t>=4&&n.epiphanyDebuff&&n.e4EffResPen?.1:0,L)},finalizeCalculations:(e,o,u)=>{const n=o.characterConditionals;e.ELEMENTAL_DMG.buff(n.ehrToDmgBoost?Math.min(.72,.6*e.a[K.EHR]):0,A)},gpuFinalizeCalculations:(e,o)=>{const u=e.characterConditionals;return`
if (${w(u.ehrToDmgBoost)}) {
  x.ELEMENTAL_DMG += min(0.72, 0.60 * x.EHR);
}
`}}};export{z as default};
