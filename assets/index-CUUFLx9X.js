const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/March7th-DVnQiPPp.js","assets/conditionalFinalizers-CYc97pLI.js","assets/vendor-PqicMVLa.js","assets/DanHeng-BZ5h8-Ik.js","assets/Himeko-Cmc0o24P.js","assets/Welt-DwFq6NYX.js","assets/Kafka-BYt3KEy5.js","assets/SilverWolf-DirH4gNx.js","assets/Arlan-CP55c10d.js","assets/Asta-BBcVW-Ee.js","assets/Herta-DXEUJljC.js","assets/Bronya-B3NweLvm.js","assets/Seele-DJhbABmH.js","assets/Serval-Ckz4YHci.js","assets/Gepard-DlnpYOq3.js","assets/Natasha-BZ0mebbZ.js","assets/Pela-Cw2Il8fq.js","assets/Clara-CCEI3roK.js","assets/Sampo-BxWkoO0m.js","assets/Hook-92TpFeqU.js","assets/Lynx--qOWCipK.js","assets/Luka-C9veEUgE.js","assets/Topaz-C4YCY0QD.js","assets/Qingque-TiBsaMv5.js","assets/Tingyun-CikkOX5Y.js","assets/Luocha-GmokNBG9.js","assets/JingYuan-CcbUhT4C.js","assets/Blade-H5QddvTm.js","assets/Sushang-C_uH49ej.js","assets/Yukong-BoIi44u-.js","assets/FuXuan-DtK5Rglu.js","assets/Yanqing-DsEwncgL.js","assets/Guinaifen-DC0qTT1v.js","assets/Bailu-DzYoFFkN.js","assets/Jingliu-B25F4U4m.js","assets/ImbibitorLunae-DUL4xWY7.js","assets/Xueyi-Ba1FdANg.js","assets/Hanya-B2Ab89a8.js","assets/Huohuo-CxP3JjS8.js","assets/Jiaoqiu-DmjMNy4j.js","assets/Feixiao-Bg69609P.js","assets/Yunli-DG9aL-iW.js","assets/Lingsha-BcVeTxqk.js","assets/Moze-Bce73C38.js","assets/March7thImaginary-DBS6m_sj.js","assets/Fugue-CJANrzjL.js","assets/Gallagher-DBAG3-GE.js","assets/Argenti-DK_RrPNm.js","assets/RuanMei-Ds4Eleuu.js","assets/Aventurine-C6gIS6u0.js","assets/DrRatio-5J9L4_uJ.js","assets/Sparkle-B7yiBHTi.js","assets/BlackSwan-4Uq79qwx.js","assets/Acheron-DV-VQ7-N.js","assets/Robin-CD0QtkQ4.js","assets/Firefly-BRl_vUKK.js","assets/Misha-BvkmWx5J.js","assets/Sunday-GcQJKlvx.js","assets/Jade-B3zeiMaH.js","assets/Boothill-CHNOiBly.js","assets/Rappa-SqNG-Q7W.js","assets/TheHerta-CmnPt7pb.js","assets/Aglaea-BjihDzsm.js","assets/Tribbie-D2dvWiJI.js","assets/Mydei-CsZbnCaj.js","assets/Anaxa-BMSxwBud.js","assets/Castorice-Be30DI8c.js","assets/TrailblazerDestruction-IUlAT2uI.js","assets/TrailblazerPreservation-B3w2qrxU.js","assets/TrailblazerHarmony-B69Uql_O.js","assets/TrailblazerRemembrance-Dp2BvH4H.js"])))=>i.map(i=>d[i]);
var Vm=Object.defineProperty;var Pm=(e,t,n)=>t in e?Vm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ae=(e,t,n)=>Pm(e,typeof t!="symbol"?t+"":t,n);import{s as zc,i as v,v as Io,t as J0,P as Fm,d as Ft,j as i,F as S,D as Wt,u as K,M as Vt,B as z,T as ye,a as gt,R as Tt,b as bs,S as Sn,c as Rn,e as Ba,f as U,r as E,g as J,h as $t,k as Gl,l as Qs,m as _c,n as $s,o as zo,I as Qc,p as xa,q as $c,w as Bt,x as Yt,C as zn,y as _n,z as Ii,A as qc,E as ed,G as Bm,H as td,J as ad,K as ze,L as yn,N as zt,O as wn,Q as nd,U as Qn,V as A0,W as gl,X as Hm,Y as vm,Z as id,_ as _o,$ as sd,a0 as Tl,a1 as j0,a2 as Ts,a3 as Xm,a4 as ld,a5 as Qo,a6 as od,a7 as rd,a8 as km,a9 as Ym,aa as wm,ab as Nm,ac as hs,ad as Nn,ae as Om,af as Um,ag as cd,ah as Km,ai as dd,aj as Jm,ak as $o,al as Am,am as jm,an as zm,ao as _m,ap as Qm,aq as ts,ar as $m,as as qm,at as z0,au as ud,av as md,aw as bd,ax as eb,ay as tb,az as hd,aA as ab,aB as Ni,aC as ca,aD as Nt,aE as xo,aF as Va,aG as pd,aH as Xa,aI as ka,aJ as nb,aK as ib,aL as Sd,aM as qo,aN as sb,aO as lb,aP as ob,aQ as rb,aR as cb,aS as qs,aT as As,aU as db,aV as ub,aW as mb,aX as Rd,aY as e0,aZ as bb,a_ as hb,a$ as fd,b0 as pb,b1 as Sb,b2 as Rb,b3 as fb,b4 as Gb,b5 as Gd,b6 as gb,b7 as _0,b8 as gd,b9 as Q0,ba as Tb,bb as t0,bc as yb,bd as Zb,be as Cb,bf as Db}from"./vendor-PqicMVLa.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const Eb={1001:{id:"1001",name:"March 7th",rarity:4,path:"Preservation",element:"Ice",traces:{"Ice DMG Boost":.224,"DEF%":.225,"Effect RES":.1},traceTree:[{id:"1001201",stat:"Ice DMG Boost",value:.032,pre:null,children:[]},{id:"1001202",stat:"DEF%",value:.05,pre:null,children:[{id:"1001203",stat:"Ice DMG Boost",value:.032,pre:"1001202",children:[]}]},{id:"1001204",stat:"Effect RES",value:.04,pre:null,children:[]},{id:"1001205",stat:"Ice DMG Boost",value:.048,pre:null,children:[{id:"1001206",stat:"Effect RES",value:.06,pre:"1001205",children:[]}]},{id:"1001207",stat:"DEF%",value:.075,pre:null,children:[]},{id:"1001208",stat:"Ice DMG Boost",value:.048,pre:null,children:[{id:"1001209",stat:"Ice DMG Boost",value:.064,pre:"1001208",children:[]},{id:"1001210",stat:"DEF%",value:.1,pre:"1001208",children:[]}]}],max_sp:120,stats:{HP:1058.4,ATK:511.56,DEF:573.3,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1002:{id:"1002",name:"Dan Heng",rarity:4,path:"Hunt",element:"Wind",traces:{"DEF%":.125,"Wind DMG Boost":.224,"ATK%":.18},traceTree:[{id:"1002201",stat:"Wind DMG Boost",value:.032,pre:null,children:[]},{id:"1002202",stat:"ATK%",value:.04,pre:null,children:[{id:"1002203",stat:"Wind DMG Boost",value:.032,pre:"1002202",children:[]}]},{id:"1002204",stat:"DEF%",value:.05,pre:null,children:[]},{id:"1002205",stat:"Wind DMG Boost",value:.048,pre:null,children:[{id:"1002206",stat:"ATK%",value:.06,pre:"1002205",children:[]}]},{id:"1002207",stat:"Wind DMG Boost",value:.048,pre:null,children:[]},{id:"1002208",stat:"DEF%",value:.075,pre:null,children:[{id:"1002209",stat:"ATK%",value:.08,pre:"1002208",children:[]},{id:"1002210",stat:"Wind DMG Boost",value:.064,pre:"1002208",children:[]}]}],max_sp:100,stats:{HP:882,ATK:546.84,DEF:396.9,SPD:110,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1003:{id:"1003",name:"Himeko",rarity:5,path:"Erudition",element:"Fire",traces:{"Fire DMG Boost":.224,"ATK%":.18,"Effect RES":.1},traceTree:[{id:"1003201",stat:"Fire DMG Boost",value:.032,pre:null,children:[]},{id:"1003202",stat:"ATK%",value:.04,pre:null,children:[{id:"1003203",stat:"Fire DMG Boost",value:.032,pre:"1003202",children:[]},{id:"1003204",stat:"Effect RES",value:.04,pre:"1003202",children:[]}]},{id:"1003205",stat:"Fire DMG Boost",value:.048,pre:null,children:[{id:"1003206",stat:"ATK%",value:.06,pre:"1003205",children:[]},{id:"1003207",stat:"Fire DMG Boost",value:.048,pre:"1003205",children:[]}]},{id:"1003208",stat:"Effect RES",value:.06,pre:null,children:[]},{id:"1003209",stat:"ATK%",value:.08,pre:null,children:[]},{id:"1003210",stat:"Fire DMG Boost",value:.064,pre:null,children:[]}],max_sp:120,stats:{HP:1047.816,ATK:756.756,DEF:436.59,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1004:{id:"1004",name:"Welt",rarity:5,path:"Nihility",element:"Imaginary",traces:{"Imaginary DMG Boost":.144,"Effect RES":.1,"ATK%":.28},traceTree:[{id:"1004201",stat:"ATK%",value:.04,pre:null,children:[{id:"1004210",stat:"ATK%",value:.08,pre:"1004201",children:[]}]},{id:"1004202",stat:"Imaginary DMG Boost",value:.032,pre:null,children:[{id:"1004203",stat:"ATK%",value:.04,pre:"1004202",children:[{id:"1004204",stat:"Effect RES",value:.04,pre:"1004203",children:[]}]}]},{id:"1004205",stat:"ATK%",value:.06,pre:null,children:[{id:"1004206",stat:"Imaginary DMG Boost",value:.048,pre:"1004205",children:[{id:"1004207",stat:"ATK%",value:.06,pre:"1004206",children:[]}]}]},{id:"1004208",stat:"Effect RES",value:.06,pre:null,children:[]},{id:"1004209",stat:"Imaginary DMG Boost",value:.064,pre:null,children:[]}],max_sp:120,stats:{HP:1125.432,ATK:620.928,DEF:509.355,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1005:{id:"1005",name:"Kafka",rarity:5,path:"Nihility",element:"Lightning",traces:{"Effect Hit Rate":.18,"HP%":.1,"ATK%":.28},traceTree:[{id:"1005201",stat:"ATK%",value:.04,pre:null,children:[{id:"1005210",stat:"ATK%",value:.08,pre:"1005201",children:[]}]},{id:"1005202",stat:"Effect Hit Rate",value:.04,pre:null,children:[{id:"1005203",stat:"ATK%",value:.04,pre:"1005202",children:[{id:"1005204",stat:"HP%",value:.04,pre:"1005203",children:[]}]}]},{id:"1005205",stat:"ATK%",value:.06,pre:null,children:[{id:"1005206",stat:"Effect Hit Rate",value:.06,pre:"1005205",children:[{id:"1005207",stat:"ATK%",value:.06,pre:"1005206",children:[]}]}]},{id:"1005208",stat:"HP%",value:.06,pre:null,children:[]},{id:"1005209",stat:"Effect Hit Rate",value:.08,pre:null,children:[]}],max_sp:120,stats:{HP:1086.624,ATK:679.14,DEF:485.1,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1006:{id:"1006",name:"Silver Wolf",rarity:5,path:"Nihility",element:"Quantum",traces:{"Effect Hit Rate":.18,"Quantum DMG Boost":.08,"ATK%":.28},traceTree:[{id:"1006201",stat:"ATK%",value:.04,pre:null,children:[{id:"1006210",stat:"ATK%",value:.08,pre:"1006201",children:[]}]},{id:"1006202",stat:"Effect Hit Rate",value:.04,pre:null,children:[{id:"1006203",stat:"ATK%",value:.04,pre:"1006202",children:[{id:"1006204",stat:"Quantum DMG Boost",value:.032,pre:"1006203",children:[]}]}]},{id:"1006205",stat:"ATK%",value:.06,pre:null,children:[{id:"1006206",stat:"Effect Hit Rate",value:.06,pre:"1006205",children:[{id:"1006207",stat:"ATK%",value:.06,pre:"1006206",children:[]}]}]},{id:"1006208",stat:"Quantum DMG Boost",value:.048,pre:null,children:[]},{id:"1006209",stat:"Effect Hit Rate",value:.08,pre:null,children:[]}],max_sp:110,stats:{HP:1047.816,ATK:640.332,DEF:460.845,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1008:{id:"1008",name:"Arlan",rarity:4,path:"Destruction",element:"Lightning",traces:{"HP%":.1,"ATK%":.28,"Effect RES":.18},traceTree:[{id:"1008201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"1008202",stat:"Effect RES",value:.04,pre:null,children:[{id:"1008203",stat:"ATK%",value:.04,pre:"1008202",children:[{id:"1008204",stat:"HP%",value:.04,pre:"1008203",children:[]}]}]},{id:"1008205",stat:"ATK%",value:.06,pre:null,children:[{id:"1008206",stat:"Effect RES",value:.06,pre:"1008205",children:[{id:"1008207",stat:"ATK%",value:.06,pre:"1008206",children:[]}]}]},{id:"1008208",stat:"HP%",value:.06,pre:null,children:[{id:"1008209",stat:"Effect RES",value:.08,pre:"1008208",children:[]},{id:"1008210",stat:"ATK%",value:.08,pre:"1008208",children:[]}]}],max_sp:110,stats:{HP:1199.52,ATK:599.76,DEF:330.75,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1009:{id:"1009",name:"Asta",rarity:4,path:"Harmony",element:"Fire",traces:{"CRIT Rate":.067,"Fire DMG Boost":.224,"DEF%":.225},traceTree:[{id:"1009201",stat:"Fire DMG Boost",value:.032,pre:null,children:[{id:"1009204",stat:"CRIT Rate",value:.027,pre:"1009201",children:[]},{id:"1009207",stat:"Fire DMG Boost",value:.048,pre:"1009201",children:[]}]},{id:"1009202",stat:"DEF%",value:.05,pre:null,children:[{id:"1009203",stat:"Fire DMG Boost",value:.032,pre:"1009202",children:[]}]},{id:"1009205",stat:"Fire DMG Boost",value:.048,pre:null,children:[{id:"1009206",stat:"DEF%",value:.075,pre:"1009205",children:[]}]},{id:"1009208",stat:"CRIT Rate",value:.04,pre:null,children:[{id:"1009209",stat:"DEF%",value:.1,pre:"1009208",children:[]},{id:"1009210",stat:"Fire DMG Boost",value:.064,pre:"1009208",children:[]}]}],max_sp:120,stats:{HP:1023.12,ATK:511.56,DEF:463.05,SPD:106,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1013:{id:"1013",name:"Herta",rarity:4,path:"Erudition",element:"Ice",traces:{"Ice DMG Boost":.224,"DEF%":.225,"CRIT Rate":.067},traceTree:[{id:"1013201",stat:"Ice DMG Boost",value:.032,pre:null,children:[]},{id:"1013202",stat:"DEF%",value:.05,pre:null,children:[{id:"1013203",stat:"Ice DMG Boost",value:.032,pre:"1013202",children:[]},{id:"1013204",stat:"CRIT Rate",value:.027,pre:"1013202",children:[]}]},{id:"1013205",stat:"Ice DMG Boost",value:.048,pre:null,children:[{id:"1013206",stat:"DEF%",value:.075,pre:"1013205",children:[]},{id:"1013207",stat:"Ice DMG Boost",value:.048,pre:"1013205",children:[]}]},{id:"1013208",stat:"CRIT Rate",value:.04,pre:null,children:[]},{id:"1013209",stat:"DEF%",value:.1,pre:null,children:[]},{id:"1013210",stat:"Ice DMG Boost",value:.064,pre:null,children:[]}],max_sp:110,stats:{HP:952.56,ATK:582.12,DEF:396.9,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1101:{id:"1101",name:"Bronya",rarity:5,path:"Harmony",element:"Wind",traces:{"Effect RES":.1,"Wind DMG Boost":.224,"CRIT DMG":.24},traceTree:[{id:"1101201",stat:"Wind DMG Boost",value:.032,pre:null,children:[{id:"1101204",stat:"Effect RES",value:.04,pre:"1101201",children:[]},{id:"1101207",stat:"Wind DMG Boost",value:.048,pre:"1101201",children:[]}]},{id:"1101202",stat:"CRIT DMG",value:.053,pre:null,children:[{id:"1101203",stat:"Wind DMG Boost",value:.032,pre:"1101202",children:[]}]},{id:"1101205",stat:"Wind DMG Boost",value:.048,pre:null,children:[{id:"1101206",stat:"CRIT DMG",value:.08,pre:"1101205",children:[]}]},{id:"1101208",stat:"Effect RES",value:.06,pre:null,children:[{id:"1101209",stat:"CRIT DMG",value:.107,pre:"1101208",children:[]},{id:"1101210",stat:"Wind DMG Boost",value:.064,pre:"1101208",children:[]}]}],max_sp:120,stats:{HP:1241.856,ATK:582.12,DEF:533.61,SPD:99,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1102:{id:"1102",name:"Seele",rarity:5,path:"Hunt",element:"Quantum",traces:{"DEF%":.125,"ATK%":.28,"CRIT DMG":.24},traceTree:[{id:"1102201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"1102202",stat:"CRIT DMG",value:.053,pre:null,children:[{id:"1102203",stat:"ATK%",value:.04,pre:"1102202",children:[]}]},{id:"1102204",stat:"DEF%",value:.05,pre:null,children:[]},{id:"1102205",stat:"ATK%",value:.06,pre:null,children:[{id:"1102206",stat:"CRIT DMG",value:.08,pre:"1102205",children:[]}]},{id:"1102207",stat:"ATK%",value:.06,pre:null,children:[]},{id:"1102208",stat:"DEF%",value:.075,pre:null,children:[{id:"1102209",stat:"CRIT DMG",value:.107,pre:"1102208",children:[]},{id:"1102210",stat:"ATK%",value:.08,pre:"1102208",children:[]}]}],max_sp:120,stats:{HP:931.392,ATK:640.332,DEF:363.825,SPD:115,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1103:{id:"1103",name:"Serval",rarity:4,path:"Erudition",element:"Lightning",traces:{"CRIT Rate":.187,"Effect Hit Rate":.18,"Effect RES":.1},traceTree:[{id:"1103201",stat:"CRIT Rate",value:.027,pre:null,children:[]},{id:"1103202",stat:"Effect Hit Rate",value:.04,pre:null,children:[{id:"1103203",stat:"CRIT Rate",value:.027,pre:"1103202",children:[]},{id:"1103204",stat:"Effect RES",value:.04,pre:"1103202",children:[]}]},{id:"1103205",stat:"CRIT Rate",value:.04,pre:null,children:[{id:"1103206",stat:"Effect Hit Rate",value:.06,pre:"1103205",children:[]},{id:"1103207",stat:"CRIT Rate",value:.04,pre:"1103205",children:[]}]},{id:"1103208",stat:"Effect RES",value:.06,pre:null,children:[]},{id:"1103209",stat:"Effect Hit Rate",value:.08,pre:null,children:[]},{id:"1103210",stat:"CRIT Rate",value:.053,pre:null,children:[]}],max_sp:100,stats:{HP:917.28,ATK:652.68,DEF:374.85,SPD:104,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1104:{id:"1104",name:"Gepard",rarity:5,path:"Preservation",element:"Ice",traces:{"DEF%":.125,"Ice DMG Boost":.224,"Effect RES":.18},traceTree:[{id:"1104201",stat:"Ice DMG Boost",value:.032,pre:null,children:[]},{id:"1104202",stat:"Effect RES",value:.04,pre:null,children:[{id:"1104203",stat:"Ice DMG Boost",value:.032,pre:"1104202",children:[]}]},{id:"1104204",stat:"DEF%",value:.05,pre:null,children:[]},{id:"1104205",stat:"Ice DMG Boost",value:.048,pre:null,children:[{id:"1104206",stat:"Effect RES",value:.06,pre:"1104205",children:[]}]},{id:"1104207",stat:"Ice DMG Boost",value:.048,pre:null,children:[]},{id:"1104208",stat:"DEF%",value:.075,pre:null,children:[{id:"1104209",stat:"Effect RES",value:.08,pre:"1104208",children:[]},{id:"1104210",stat:"Ice DMG Boost",value:.064,pre:"1104208",children:[]}]}],max_sp:100,stats:{HP:1397.088,ATK:543.312,DEF:654.885,SPD:92,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1105:{id:"1105",name:"Natasha",rarity:4,path:"Abundance",element:"Physical",traces:{"HP%":.28,"Effect RES":.18,"DEF%":.125},traceTree:[{id:"1105201",stat:"HP%",value:.04,pre:null,children:[]},{id:"1105202",stat:"Effect RES",value:.04,pre:null,children:[{id:"1105203",stat:"HP%",value:.04,pre:"1105202",children:[{id:"1105204",stat:"DEF%",value:.05,pre:"1105203",children:[]}]}]},{id:"1105205",stat:"HP%",value:.06,pre:null,children:[{id:"1105206",stat:"Effect RES",value:.06,pre:"1105205",children:[{id:"1105207",stat:"HP%",value:.06,pre:"1105206",children:[]}]}]},{id:"1105208",stat:"DEF%",value:.075,pre:null,children:[]},{id:"1105209",stat:"Effect RES",value:.08,pre:null,children:[]},{id:"1105210",stat:"HP%",value:.08,pre:null,children:[]}],max_sp:90,stats:{HP:1164.24,ATK:476.28,DEF:507.15,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1106:{id:"1106",name:"Pela",rarity:4,path:"Nihility",element:"Ice",traces:{"ATK%":.18,"Effect Hit Rate":.1,"Ice DMG Boost":.224},traceTree:[{id:"1106201",stat:"Ice DMG Boost",value:.032,pre:null,children:[{id:"1106210",stat:"Ice DMG Boost",value:.064,pre:"1106201",children:[]}]},{id:"1106202",stat:"ATK%",value:.04,pre:null,children:[{id:"1106203",stat:"Ice DMG Boost",value:.032,pre:"1106202",children:[{id:"1106204",stat:"Effect Hit Rate",value:.04,pre:"1106203",children:[]}]}]},{id:"1106205",stat:"Ice DMG Boost",value:.048,pre:null,children:[{id:"1106206",stat:"ATK%",value:.06,pre:"1106205",children:[{id:"1106207",stat:"Ice DMG Boost",value:.048,pre:"1106206",children:[]}]}]},{id:"1106208",stat:"Effect Hit Rate",value:.06,pre:null,children:[]},{id:"1106209",stat:"ATK%",value:.08,pre:null,children:[]}],max_sp:110,stats:{HP:987.84,ATK:546.84,DEF:463.05,SPD:105,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1107:{id:"1107",name:"Clara",rarity:5,path:"Destruction",element:"Physical",traces:{"HP%":.1,"ATK%":.28,"Physical DMG Boost":.144},traceTree:[{id:"1107201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"1107202",stat:"Physical DMG Boost",value:.032,pre:null,children:[{id:"1107203",stat:"ATK%",value:.04,pre:"1107202",children:[{id:"1107204",stat:"HP%",value:.04,pre:"1107203",children:[]}]}]},{id:"1107205",stat:"ATK%",value:.06,pre:null,children:[{id:"1107206",stat:"Physical DMG Boost",value:.048,pre:"1107205",children:[{id:"1107207",stat:"ATK%",value:.06,pre:"1107206",children:[]}]}]},{id:"1107208",stat:"HP%",value:.06,pre:null,children:[{id:"1107209",stat:"Physical DMG Boost",value:.064,pre:"1107208",children:[]},{id:"1107210",stat:"ATK%",value:.08,pre:"1107208",children:[]}]}],max_sp:110,stats:{HP:1241.856,ATK:737.352,DEF:485.1,SPD:90,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1108:{id:"1108",name:"Sampo",rarity:4,path:"Nihility",element:"Wind",traces:{"Effect Hit Rate":.18,"Effect RES":.1,"ATK%":.28},traceTree:[{id:"1108201",stat:"ATK%",value:.04,pre:null,children:[{id:"1108210",stat:"ATK%",value:.08,pre:"1108201",children:[]}]},{id:"1108202",stat:"Effect Hit Rate",value:.04,pre:null,children:[{id:"1108203",stat:"ATK%",value:.04,pre:"1108202",children:[{id:"1108204",stat:"Effect RES",value:.04,pre:"1108203",children:[]}]}]},{id:"1108205",stat:"ATK%",value:.06,pre:null,children:[{id:"1108206",stat:"Effect Hit Rate",value:.06,pre:"1108205",children:[{id:"1108207",stat:"ATK%",value:.06,pre:"1108206",children:[]}]}]},{id:"1108208",stat:"Effect RES",value:.06,pre:null,children:[]},{id:"1108209",stat:"Effect Hit Rate",value:.08,pre:null,children:[]}],max_sp:120,stats:{HP:1023.12,ATK:617.4,DEF:396.9,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1109:{id:"1109",name:"Hook",rarity:4,path:"Destruction",element:"Fire",traces:{"CRIT DMG":.133,"ATK%":.28,"HP%":.18},traceTree:[{id:"1109201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"1109202",stat:"HP%",value:.04,pre:null,children:[{id:"1109203",stat:"ATK%",value:.04,pre:"1109202",children:[{id:"1109204",stat:"CRIT DMG",value:.053,pre:"1109203",children:[]}]}]},{id:"1109205",stat:"ATK%",value:.06,pre:null,children:[{id:"1109206",stat:"HP%",value:.06,pre:"1109205",children:[{id:"1109207",stat:"ATK%",value:.06,pre:"1109206",children:[]}]}]},{id:"1109208",stat:"CRIT DMG",value:.08,pre:null,children:[{id:"1109209",stat:"HP%",value:.08,pre:"1109208",children:[]},{id:"1109210",stat:"ATK%",value:.08,pre:"1109208",children:[]}]}],max_sp:120,stats:{HP:1340.64,ATK:617.4,DEF:352.8,SPD:94,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1110:{id:"1110",name:"Lynx",rarity:4,path:"Abundance",element:"Quantum",traces:{"HP%":.28,"DEF%":.225,"Effect RES":.1},traceTree:[{id:"1110201",stat:"HP%",value:.04,pre:null,children:[]},{id:"1110202",stat:"DEF%",value:.05,pre:null,children:[{id:"1110203",stat:"HP%",value:.04,pre:"1110202",children:[{id:"1110204",stat:"Effect RES",value:.04,pre:"1110203",children:[]}]}]},{id:"1110205",stat:"HP%",value:.06,pre:null,children:[{id:"1110206",stat:"DEF%",value:.075,pre:"1110205",children:[{id:"1110207",stat:"HP%",value:.06,pre:"1110206",children:[]}]}]},{id:"1110208",stat:"Effect RES",value:.06,pre:null,children:[]},{id:"1110209",stat:"DEF%",value:.1,pre:null,children:[]},{id:"1110210",stat:"HP%",value:.08,pre:null,children:[]}],max_sp:100,stats:{HP:1058.4,ATK:493.92,DEF:551.25,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1111:{id:"1111",name:"Luka",rarity:4,path:"Nihility",element:"Physical",traces:{"Effect Hit Rate":.18,"DEF%":.125,"ATK%":.28},traceTree:[{id:"1111201",stat:"ATK%",value:.04,pre:null,children:[{id:"1111210",stat:"ATK%",value:.08,pre:"1111201",children:[]}]},{id:"1111202",stat:"Effect Hit Rate",value:.04,pre:null,children:[{id:"1111203",stat:"ATK%",value:.04,pre:"1111202",children:[{id:"1111204",stat:"DEF%",value:.05,pre:"1111203",children:[]}]}]},{id:"1111205",stat:"ATK%",value:.06,pre:null,children:[{id:"1111206",stat:"Effect Hit Rate",value:.06,pre:"1111205",children:[{id:"1111207",stat:"ATK%",value:.06,pre:"1111206",children:[]}]}]},{id:"1111208",stat:"DEF%",value:.075,pre:null,children:[]},{id:"1111209",stat:"Effect Hit Rate",value:.08,pre:null,children:[]}],max_sp:130,stats:{HP:917.28,ATK:582.12,DEF:485.1,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1112:{id:"1112",name:"Topaz & Numby",rarity:5,path:"Hunt",element:"Fire",traces:{"HP%":.1,"Fire DMG Boost":.224,"CRIT Rate":.12},traceTree:[{id:"1112201",stat:"Fire DMG Boost",value:.032,pre:null,children:[]},{id:"1112202",stat:"CRIT Rate",value:.027,pre:null,children:[{id:"1112203",stat:"Fire DMG Boost",value:.032,pre:"1112202",children:[]}]},{id:"1112204",stat:"HP%",value:.04,pre:null,children:[]},{id:"1112205",stat:"Fire DMG Boost",value:.048,pre:null,children:[{id:"1112206",stat:"CRIT Rate",value:.04,pre:"1112205",children:[]}]},{id:"1112207",stat:"Fire DMG Boost",value:.048,pre:null,children:[]},{id:"1112208",stat:"HP%",value:.06,pre:null,children:[{id:"1112209",stat:"CRIT Rate",value:.053,pre:"1112208",children:[]},{id:"1112210",stat:"Fire DMG Boost",value:.064,pre:"1112208",children:[]}]}],max_sp:130,stats:{HP:931.392,ATK:620.928,DEF:412.335,SPD:110,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1201:{id:"1201",name:"Qingque",rarity:4,path:"Erudition",element:"Quantum",traces:{"ATK%":.28,"Quantum DMG Boost":.144,"DEF%":.125},traceTree:[{id:"1201201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"1201202",stat:"Quantum DMG Boost",value:.032,pre:null,children:[{id:"1201203",stat:"ATK%",value:.04,pre:"1201202",children:[]},{id:"1201204",stat:"DEF%",value:.05,pre:"1201202",children:[]}]},{id:"1201205",stat:"ATK%",value:.06,pre:null,children:[{id:"1201206",stat:"Quantum DMG Boost",value:.048,pre:"1201205",children:[]},{id:"1201207",stat:"ATK%",value:.06,pre:"1201205",children:[]}]},{id:"1201208",stat:"DEF%",value:.075,pre:null,children:[]},{id:"1201209",stat:"Quantum DMG Boost",value:.064,pre:null,children:[]},{id:"1201210",stat:"ATK%",value:.08,pre:null,children:[]}],max_sp:140,stats:{HP:1023.12,ATK:652.68,DEF:441,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1202:{id:"1202",name:"Tingyun",rarity:4,path:"Harmony",element:"Lightning",traces:{"Lightning DMG Boost":.08,"ATK%":.28,"DEF%":.225},traceTree:[{id:"1202201",stat:"ATK%",value:.04,pre:null,children:[{id:"1202204",stat:"Lightning DMG Boost",value:.032,pre:"1202201",children:[]},{id:"1202207",stat:"ATK%",value:.06,pre:"1202201",children:[]}]},{id:"1202202",stat:"DEF%",value:.05,pre:null,children:[{id:"1202203",stat:"ATK%",value:.04,pre:"1202202",children:[]}]},{id:"1202205",stat:"ATK%",value:.06,pre:null,children:[{id:"1202206",stat:"DEF%",value:.075,pre:"1202205",children:[]}]},{id:"1202208",stat:"Lightning DMG Boost",value:.048,pre:null,children:[{id:"1202209",stat:"DEF%",value:.1,pre:"1202208",children:[]},{id:"1202210",stat:"ATK%",value:.08,pre:"1202208",children:[]}]}],max_sp:130,stats:{HP:846.72,ATK:529.2,DEF:396.9,SPD:112,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1203:{id:"1203",name:"Luocha",rarity:5,path:"Abundance",element:"Imaginary",traces:{"ATK%":.28,"HP%":.18,"DEF%":.125},traceTree:[{id:"1203201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"1203202",stat:"HP%",value:.04,pre:null,children:[{id:"1203203",stat:"ATK%",value:.04,pre:"1203202",children:[{id:"1203204",stat:"DEF%",value:.05,pre:"1203203",children:[]}]}]},{id:"1203205",stat:"ATK%",value:.06,pre:null,children:[{id:"1203206",stat:"HP%",value:.06,pre:"1203205",children:[{id:"1203207",stat:"ATK%",value:.06,pre:"1203206",children:[]}]}]},{id:"1203208",stat:"DEF%",value:.075,pre:null,children:[]},{id:"1203209",stat:"HP%",value:.08,pre:null,children:[]},{id:"1203210",stat:"ATK%",value:.08,pre:null,children:[]}],max_sp:100,stats:{HP:1280.664,ATK:756.756,DEF:363.825,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1204:{id:"1204",name:"Jing Yuan",rarity:5,path:"Erudition",element:"Lightning",traces:{"ATK%":.28,"CRIT Rate":.12,"DEF%":.125},traceTree:[{id:"1204201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"1204202",stat:"CRIT Rate",value:.027,pre:null,children:[{id:"1204203",stat:"ATK%",value:.04,pre:"1204202",children:[]},{id:"1204204",stat:"DEF%",value:.05,pre:"1204202",children:[]}]},{id:"1204205",stat:"ATK%",value:.06,pre:null,children:[{id:"1204206",stat:"CRIT Rate",value:.04,pre:"1204205",children:[]},{id:"1204207",stat:"ATK%",value:.06,pre:"1204205",children:[]}]},{id:"1204208",stat:"DEF%",value:.075,pre:null,children:[]},{id:"1204209",stat:"CRIT Rate",value:.053,pre:null,children:[]},{id:"1204210",stat:"ATK%",value:.08,pre:null,children:[]}],max_sp:130,stats:{HP:1164.24,ATK:698.544,DEF:485.1,SPD:99,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1205:{id:"1205",name:"Blade",rarity:5,path:"Destruction",element:"Wind",traces:{"Effect RES":.1,"HP%":.28,"CRIT Rate":.12},traceTree:[{id:"1205201",stat:"HP%",value:.04,pre:null,children:[]},{id:"1205202",stat:"CRIT Rate",value:.027,pre:null,children:[{id:"1205203",stat:"HP%",value:.04,pre:"1205202",children:[{id:"1205204",stat:"Effect RES",value:.04,pre:"1205203",children:[]}]}]},{id:"1205205",stat:"HP%",value:.06,pre:null,children:[{id:"1205206",stat:"CRIT Rate",value:.04,pre:"1205205",children:[{id:"1205207",stat:"HP%",value:.06,pre:"1205206",children:[]}]}]},{id:"1205208",stat:"Effect RES",value:.06,pre:null,children:[{id:"1205209",stat:"CRIT Rate",value:.053,pre:"1205208",children:[]},{id:"1205210",stat:"HP%",value:.08,pre:"1205208",children:[]}]}],max_sp:130,stats:{HP:1358.28,ATK:543.312,DEF:485.1,SPD:97,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1206:{id:"1206",name:"Sushang",rarity:4,path:"Hunt",element:"Physical",traces:{"DEF%":.125,"ATK%":.28,"HP%":.18},traceTree:[{id:"1206201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"1206202",stat:"HP%",value:.04,pre:null,children:[{id:"1206203",stat:"ATK%",value:.04,pre:"1206202",children:[]}]},{id:"1206204",stat:"DEF%",value:.05,pre:null,children:[]},{id:"1206205",stat:"ATK%",value:.06,pre:null,children:[{id:"1206206",stat:"HP%",value:.06,pre:"1206205",children:[]}]},{id:"1206207",stat:"ATK%",value:.06,pre:null,children:[]},{id:"1206208",stat:"DEF%",value:.075,pre:null,children:[{id:"1206209",stat:"HP%",value:.08,pre:"1206208",children:[]},{id:"1206210",stat:"ATK%",value:.08,pre:"1206208",children:[]}]}],max_sp:120,stats:{HP:917.28,ATK:564.48,DEF:418.95,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1207:{id:"1207",name:"Yukong",rarity:4,path:"Harmony",element:"Imaginary",traces:{"ATK%":.1,"Imaginary DMG Boost":.224,"HP%":.18},traceTree:[{id:"1207201",stat:"Imaginary DMG Boost",value:.032,pre:null,children:[{id:"1207204",stat:"ATK%",value:.04,pre:"1207201",children:[]},{id:"1207207",stat:"Imaginary DMG Boost",value:.048,pre:"1207201",children:[]}]},{id:"1207202",stat:"HP%",value:.04,pre:null,children:[{id:"1207203",stat:"Imaginary DMG Boost",value:.032,pre:"1207202",children:[]}]},{id:"1207205",stat:"Imaginary DMG Boost",value:.048,pre:null,children:[{id:"1207206",stat:"HP%",value:.06,pre:"1207205",children:[]}]},{id:"1207208",stat:"ATK%",value:.06,pre:null,children:[{id:"1207209",stat:"HP%",value:.08,pre:"1207208",children:[]},{id:"1207210",stat:"Imaginary DMG Boost",value:.064,pre:"1207208",children:[]}]}],max_sp:130,stats:{HP:917.28,ATK:599.76,DEF:374.85,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1208:{id:"1208",name:"Fu Xuan",rarity:5,path:"Preservation",element:"Quantum",traces:{"Effect RES":.1,"CRIT Rate":.187,"HP%":.18},traceTree:[{id:"1208201",stat:"CRIT Rate",value:.027,pre:null,children:[]},{id:"1208202",stat:"HP%",value:.04,pre:null,children:[{id:"1208203",stat:"CRIT Rate",value:.027,pre:"1208202",children:[]}]},{id:"1208204",stat:"Effect RES",value:.04,pre:null,children:[]},{id:"1208205",stat:"CRIT Rate",value:.04,pre:null,children:[{id:"1208206",stat:"HP%",value:.06,pre:"1208205",children:[]}]},{id:"1208207",stat:"CRIT Rate",value:.04,pre:null,children:[]},{id:"1208208",stat:"Effect RES",value:.06,pre:null,children:[{id:"1208209",stat:"HP%",value:.08,pre:"1208208",children:[]},{id:"1208210",stat:"CRIT Rate",value:.053,pre:"1208208",children:[]}]}],max_sp:135,stats:{HP:1474.704,ATK:465.696,DEF:606.375,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1209:{id:"1209",name:"Yanqing",rarity:5,path:"Hunt",element:"Ice",traces:{"HP%":.1,"ATK%":.28,"Ice DMG Boost":.144},traceTree:[{id:"1209201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"1209202",stat:"Ice DMG Boost",value:.032,pre:null,children:[{id:"1209203",stat:"ATK%",value:.04,pre:"1209202",children:[]}]},{id:"1209204",stat:"HP%",value:.04,pre:null,children:[]},{id:"1209205",stat:"ATK%",value:.06,pre:null,children:[{id:"1209206",stat:"Ice DMG Boost",value:.048,pre:"1209205",children:[]}]},{id:"1209207",stat:"ATK%",value:.06,pre:null,children:[]},{id:"1209208",stat:"HP%",value:.06,pre:null,children:[{id:"1209209",stat:"Ice DMG Boost",value:.064,pre:"1209208",children:[]},{id:"1209210",stat:"ATK%",value:.08,pre:"1209208",children:[]}]}],max_sp:140,stats:{HP:892.584,ATK:679.14,DEF:412.335,SPD:109,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1210:{id:"1210",name:"Guinaifen",rarity:4,path:"Nihility",element:"Fire",traces:{"Break Effect":.24,"Effect Hit Rate":.1,"Fire DMG Boost":.224},traceTree:[{id:"1210201",stat:"Fire DMG Boost",value:.032,pre:null,children:[{id:"1210210",stat:"Fire DMG Boost",value:.064,pre:"1210201",children:[]}]},{id:"1210202",stat:"Break Effect",value:.053,pre:null,children:[{id:"1210203",stat:"Fire DMG Boost",value:.032,pre:"1210202",children:[{id:"1210204",stat:"Effect Hit Rate",value:.04,pre:"1210203",children:[]}]}]},{id:"1210205",stat:"Fire DMG Boost",value:.048,pre:null,children:[{id:"1210206",stat:"Break Effect",value:.08,pre:"1210205",children:[{id:"1210207",stat:"Fire DMG Boost",value:.048,pre:"1210206",children:[]}]}]},{id:"1210208",stat:"Effect Hit Rate",value:.06,pre:null,children:[]},{id:"1210209",stat:"Break Effect",value:.107,pre:null,children:[]}],max_sp:120,stats:{HP:882,ATK:582.12,DEF:441,SPD:106,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1211:{id:"1211",name:"Bailu",rarity:5,path:"Abundance",element:"Lightning",traces:{"HP%":.28,"DEF%":.225,"Effect RES":.1},traceTree:[{id:"1211201",stat:"HP%",value:.04,pre:null,children:[]},{id:"1211202",stat:"DEF%",value:.05,pre:null,children:[{id:"1211203",stat:"HP%",value:.04,pre:"1211202",children:[{id:"1211204",stat:"Effect RES",value:.04,pre:"1211203",children:[]}]}]},{id:"1211205",stat:"HP%",value:.06,pre:null,children:[{id:"1211206",stat:"DEF%",value:.075,pre:"1211205",children:[{id:"1211207",stat:"HP%",value:.06,pre:"1211206",children:[]}]}]},{id:"1211208",stat:"Effect RES",value:.06,pre:null,children:[]},{id:"1211209",stat:"DEF%",value:.1,pre:null,children:[]},{id:"1211210",stat:"HP%",value:.08,pre:null,children:[]}],max_sp:100,stats:{HP:1319.472,ATK:562.716,DEF:485.1,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1212:{id:"1212",name:"Jingliu",rarity:5,path:"Destruction",element:"Ice",traces:{"HP%":.1,"CRIT DMG":.373,SPD:9},traceTree:[{id:"1212201",stat:"CRIT DMG",value:.053,pre:null,children:[]},{id:"1212202",stat:"SPD",value:2,pre:null,children:[{id:"1212203",stat:"CRIT DMG",value:.053,pre:"1212202",children:[{id:"1212204",stat:"HP%",value:.04,pre:"1212203",children:[]}]}]},{id:"1212205",stat:"CRIT DMG",value:.08,pre:null,children:[{id:"1212206",stat:"SPD",value:3,pre:"1212205",children:[{id:"1212207",stat:"CRIT DMG",value:.08,pre:"1212206",children:[]}]}]},{id:"1212208",stat:"HP%",value:.06,pre:null,children:[{id:"1212209",stat:"SPD",value:4,pre:"1212208",children:[]},{id:"1212210",stat:"CRIT DMG",value:.107,pre:"1212208",children:[]}]}],max_sp:140,stats:{HP:1435.896,ATK:679.14,DEF:485.1,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1213:{id:"1213",name:"Dan Heng • Imbibitor Lunae",rarity:5,path:"Destruction",element:"Imaginary",traces:{"HP%":.1,"Imaginary DMG Boost":.224,"CRIT Rate":.12},traceTree:[{id:"1213201",stat:"Imaginary DMG Boost",value:.032,pre:null,children:[]},{id:"1213202",stat:"CRIT Rate",value:.027,pre:null,children:[{id:"1213203",stat:"Imaginary DMG Boost",value:.032,pre:"1213202",children:[{id:"1213204",stat:"HP%",value:.04,pre:"1213203",children:[]}]}]},{id:"1213205",stat:"Imaginary DMG Boost",value:.048,pre:null,children:[{id:"1213206",stat:"CRIT Rate",value:.04,pre:"1213205",children:[{id:"1213207",stat:"Imaginary DMG Boost",value:.048,pre:"1213206",children:[]}]}]},{id:"1213208",stat:"HP%",value:.06,pre:null,children:[{id:"1213209",stat:"CRIT Rate",value:.053,pre:"1213208",children:[]},{id:"1213210",stat:"Imaginary DMG Boost",value:.064,pre:"1213208",children:[]}]}],max_sp:140,stats:{HP:1241.856,ATK:698.544,DEF:363.825,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1214:{id:"1214",name:"Xueyi",rarity:4,path:"Destruction",element:"Quantum",traces:{"Quantum DMG Boost":.08,"Break Effect":.373,"HP%":.18},traceTree:[{id:"1214201",stat:"Break Effect",value:.053,pre:null,children:[]},{id:"1214202",stat:"HP%",value:.04,pre:null,children:[{id:"1214203",stat:"Break Effect",value:.053,pre:"1214202",children:[{id:"1214204",stat:"Quantum DMG Boost",value:.032,pre:"1214203",children:[]}]}]},{id:"1214205",stat:"Break Effect",value:.08,pre:null,children:[{id:"1214206",stat:"HP%",value:.06,pre:"1214205",children:[{id:"1214207",stat:"Break Effect",value:.08,pre:"1214206",children:[]}]}]},{id:"1214208",stat:"Quantum DMG Boost",value:.048,pre:null,children:[{id:"1214209",stat:"HP%",value:.08,pre:"1214208",children:[]},{id:"1214210",stat:"Break Effect",value:.107,pre:"1214208",children:[]}]}],max_sp:120,stats:{HP:1058.4,ATK:599.76,DEF:396.9,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1215:{id:"1215",name:"Hanya",rarity:4,path:"Harmony",element:"Physical",traces:{"HP%":.1,"ATK%":.28,SPD:9},traceTree:[{id:"1215201",stat:"ATK%",value:.04,pre:null,children:[{id:"1215204",stat:"HP%",value:.04,pre:"1215201",children:[]},{id:"1215207",stat:"ATK%",value:.06,pre:"1215201",children:[]}]},{id:"1215202",stat:"SPD",value:2,pre:null,children:[{id:"1215203",stat:"ATK%",value:.04,pre:"1215202",children:[]}]},{id:"1215205",stat:"ATK%",value:.06,pre:null,children:[{id:"1215206",stat:"SPD",value:3,pre:"1215205",children:[]}]},{id:"1215208",stat:"HP%",value:.06,pre:null,children:[{id:"1215209",stat:"SPD",value:4,pre:"1215208",children:[]},{id:"1215210",stat:"ATK%",value:.08,pre:"1215208",children:[]}]}],max_sp:140,stats:{HP:917.28,ATK:564.48,DEF:352.8,SPD:110,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1217:{id:"1217",name:"Huohuo",rarity:5,path:"Abundance",element:"Wind",traces:{"HP%":.28,"Effect RES":.18,SPD:5},traceTree:[{id:"1217201",stat:"HP%",value:.04,pre:null,children:[]},{id:"1217202",stat:"Effect RES",value:.04,pre:null,children:[{id:"1217203",stat:"HP%",value:.04,pre:"1217202",children:[{id:"1217204",stat:"SPD",value:2,pre:"1217203",children:[]}]}]},{id:"1217205",stat:"HP%",value:.06,pre:null,children:[{id:"1217206",stat:"Effect RES",value:.06,pre:"1217205",children:[{id:"1217207",stat:"HP%",value:.06,pre:"1217206",children:[]}]}]},{id:"1217208",stat:"SPD",value:3,pre:null,children:[]},{id:"1217209",stat:"Effect RES",value:.08,pre:null,children:[]},{id:"1217210",stat:"HP%",value:.08,pre:null,children:[]}],max_sp:140,stats:{HP:1358.28,ATK:601.524,DEF:509.355,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1218:{id:"1218",name:"Jiaoqiu",rarity:5,path:"Nihility",element:"Fire",traces:{"Fire DMG Boost":.144,SPD:5,"Effect Hit Rate":.28},traceTree:[{id:"1218201",stat:"Effect Hit Rate",value:.04,pre:null,children:[{id:"1218210",stat:"Effect Hit Rate",value:.08,pre:"1218201",children:[]}]},{id:"1218202",stat:"Fire DMG Boost",value:.032,pre:null,children:[{id:"1218203",stat:"Effect Hit Rate",value:.04,pre:"1218202",children:[{id:"1218204",stat:"SPD",value:2,pre:"1218203",children:[]}]}]},{id:"1218205",stat:"Effect Hit Rate",value:.06,pre:null,children:[{id:"1218206",stat:"Fire DMG Boost",value:.048,pre:"1218205",children:[{id:"1218207",stat:"Effect Hit Rate",value:.06,pre:"1218206",children:[]}]}]},{id:"1218208",stat:"SPD",value:3,pre:null,children:[]},{id:"1218209",stat:"Fire DMG Boost",value:.064,pre:null,children:[]}],max_sp:100,stats:{HP:1358.28,ATK:601.524,DEF:509.355,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1220:{id:"1220",name:"Feixiao",rarity:5,path:"Hunt",element:"Wind",traces:{"DEF%":.125,"ATK%":.28,"CRIT Rate":.12},traceTree:[{id:"1220201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"1220202",stat:"CRIT Rate",value:.027,pre:null,children:[{id:"1220203",stat:"ATK%",value:.04,pre:"1220202",children:[]}]},{id:"1220204",stat:"DEF%",value:.05,pre:null,children:[]},{id:"1220205",stat:"ATK%",value:.06,pre:null,children:[{id:"1220206",stat:"CRIT Rate",value:.04,pre:"1220205",children:[]}]},{id:"1220207",stat:"ATK%",value:.06,pre:null,children:[]},{id:"1220208",stat:"DEF%",value:.075,pre:null,children:[{id:"1220209",stat:"CRIT Rate",value:.053,pre:"1220208",children:[]},{id:"1220210",stat:"ATK%",value:.08,pre:"1220208",children:[]}]}],max_sp:12,stats:{HP:1047.816,ATK:601.524,DEF:388.08,SPD:112,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1221:{id:"1221",name:"Yunli",rarity:5,path:"Destruction",element:"Physical",traces:{"CRIT Rate":.067,"ATK%":.28,"HP%":.18},traceTree:[{id:"1221201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"1221202",stat:"HP%",value:.04,pre:null,children:[{id:"1221203",stat:"ATK%",value:.04,pre:"1221202",children:[{id:"1221204",stat:"CRIT Rate",value:.027,pre:"1221203",children:[]}]}]},{id:"1221205",stat:"ATK%",value:.06,pre:null,children:[{id:"1221206",stat:"HP%",value:.06,pre:"1221205",children:[{id:"1221207",stat:"ATK%",value:.06,pre:"1221206",children:[]}]}]},{id:"1221208",stat:"CRIT Rate",value:.04,pre:null,children:[{id:"1221209",stat:"HP%",value:.08,pre:"1221208",children:[]},{id:"1221210",stat:"ATK%",value:.08,pre:"1221208",children:[]}]}],max_sp:240,stats:{HP:1358.28,ATK:679.14,DEF:460.845,SPD:94,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1222:{id:"1222",name:"Lingsha",rarity:5,path:"Abundance",element:"Fire",traces:{"Break Effect":.373,"HP%":.18,"ATK%":.1},traceTree:[{id:"1222201",stat:"Break Effect",value:.053,pre:null,children:[]},{id:"1222202",stat:"HP%",value:.04,pre:null,children:[{id:"1222203",stat:"Break Effect",value:.053,pre:"1222202",children:[{id:"1222204",stat:"ATK%",value:.04,pre:"1222203",children:[]}]}]},{id:"1222205",stat:"Break Effect",value:.08,pre:null,children:[{id:"1222206",stat:"HP%",value:.06,pre:"1222205",children:[{id:"1222207",stat:"Break Effect",value:.08,pre:"1222206",children:[]}]}]},{id:"1222208",stat:"ATK%",value:.06,pre:null,children:[]},{id:"1222209",stat:"HP%",value:.08,pre:null,children:[]},{id:"1222210",stat:"Break Effect",value:.107,pre:null,children:[]}],max_sp:110,stats:{HP:1358.28,ATK:679.14,DEF:436.59,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1223:{id:"1223",name:"Moze",rarity:4,path:"Hunt",element:"Lightning",traces:{"HP%":.1,"CRIT DMG":.373,"ATK%":.18},traceTree:[{id:"1223201",stat:"CRIT DMG",value:.053,pre:null,children:[]},{id:"1223202",stat:"ATK%",value:.04,pre:null,children:[{id:"1223203",stat:"CRIT DMG",value:.053,pre:"1223202",children:[]}]},{id:"1223204",stat:"HP%",value:.04,pre:null,children:[]},{id:"1223205",stat:"CRIT DMG",value:.08,pre:null,children:[{id:"1223206",stat:"ATK%",value:.06,pre:"1223205",children:[]}]},{id:"1223207",stat:"CRIT DMG",value:.08,pre:null,children:[]},{id:"1223208",stat:"HP%",value:.06,pre:null,children:[{id:"1223209",stat:"ATK%",value:.08,pre:"1223208",children:[]},{id:"1223210",stat:"CRIT DMG",value:.107,pre:"1223208",children:[]}]}],max_sp:120,stats:{HP:811.44,ATK:599.76,DEF:352.8,SPD:111,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1224:{id:"1224",name:"March 7th",rarity:4,path:"Hunt",element:"Imaginary",traces:{"DEF%":.125,"ATK%":.28,"CRIT DMG":.24},traceTree:[{id:"1224201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"1224202",stat:"CRIT DMG",value:.053,pre:null,children:[{id:"1224203",stat:"ATK%",value:.04,pre:"1224202",children:[]}]},{id:"1224204",stat:"DEF%",value:.05,pre:null,children:[]},{id:"1224205",stat:"ATK%",value:.06,pre:null,children:[{id:"1224206",stat:"CRIT DMG",value:.08,pre:"1224205",children:[]}]},{id:"1224207",stat:"ATK%",value:.06,pre:null,children:[]},{id:"1224208",stat:"DEF%",value:.075,pre:null,children:[{id:"1224209",stat:"CRIT DMG",value:.107,pre:"1224208",children:[]},{id:"1224210",stat:"ATK%",value:.08,pre:"1224208",children:[]}]}],max_sp:110,stats:{HP:1058.4,ATK:564.48,DEF:441,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1225:{id:"1225",name:"Fugue",rarity:5,path:"Nihility",element:"Fire",traces:{"Break Effect":.24,"HP%":.1,SPD:14},traceTree:[{id:"1225201",stat:"SPD",value:2,pre:null,children:[{id:"1225210",stat:"SPD",value:4,pre:"1225201",children:[]}]},{id:"1225202",stat:"Break Effect",value:.053,pre:null,children:[{id:"1225203",stat:"SPD",value:2,pre:"1225202",children:[{id:"1225204",stat:"HP%",value:.04,pre:"1225203",children:[]}]}]},{id:"1225205",stat:"SPD",value:3,pre:null,children:[{id:"1225206",stat:"Break Effect",value:.08,pre:"1225205",children:[{id:"1225207",stat:"SPD",value:3,pre:"1225206",children:[]}]}]},{id:"1225208",stat:"HP%",value:.06,pre:null,children:[]},{id:"1225209",stat:"Break Effect",value:.107,pre:null,children:[]}],max_sp:130,stats:{HP:1125.432,ATK:582.12,DEF:557.865,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1301:{id:"1301",name:"Gallagher",rarity:4,path:"Abundance",element:"Fire",traces:{"HP%":.18,"Effect RES":.28,"Break Effect":.133},traceTree:[{id:"1301201",stat:"Effect RES",value:.04,pre:null,children:[]},{id:"1301202",stat:"Break Effect",value:.053,pre:null,children:[{id:"1301203",stat:"Effect RES",value:.04,pre:"1301202",children:[{id:"1301204",stat:"HP%",value:.04,pre:"1301203",children:[]}]}]},{id:"1301205",stat:"Effect RES",value:.06,pre:null,children:[{id:"1301206",stat:"Break Effect",value:.08,pre:"1301205",children:[{id:"1301207",stat:"Effect RES",value:.06,pre:"1301206",children:[]}]}]},{id:"1301208",stat:"HP%",value:.06,pre:null,children:[]},{id:"1301209",stat:"Effect RES",value:.08,pre:null,children:[]},{id:"1301210",stat:"HP%",value:.08,pre:null,children:[]}],max_sp:110,stats:{HP:1305.36,ATK:529.2,DEF:441,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1302:{id:"1302",name:"Argenti",rarity:5,path:"Erudition",element:"Physical",traces:{"ATK%":.28,"Physical DMG Boost":.144,"HP%":.1},traceTree:[{id:"1302201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"1302202",stat:"Physical DMG Boost",value:.032,pre:null,children:[{id:"1302203",stat:"ATK%",value:.04,pre:"1302202",children:[]},{id:"1302204",stat:"HP%",value:.04,pre:"1302202",children:[]}]},{id:"1302205",stat:"ATK%",value:.06,pre:null,children:[{id:"1302206",stat:"Physical DMG Boost",value:.048,pre:"1302205",children:[]},{id:"1302207",stat:"ATK%",value:.06,pre:"1302205",children:[]}]},{id:"1302208",stat:"HP%",value:.06,pre:null,children:[]},{id:"1302209",stat:"Physical DMG Boost",value:.064,pre:null,children:[]},{id:"1302210",stat:"ATK%",value:.08,pre:null,children:[]}],max_sp:180,stats:{HP:1047.816,ATK:737.352,DEF:363.825,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1303:{id:"1303",name:"Ruan Mei",rarity:5,path:"Harmony",element:"Ice",traces:{SPD:5,"Break Effect":.373,"DEF%":.225},traceTree:[{id:"1303201",stat:"Break Effect",value:.053,pre:null,children:[{id:"1303204",stat:"SPD",value:2,pre:"1303201",children:[]},{id:"1303207",stat:"Break Effect",value:.08,pre:"1303201",children:[]}]},{id:"1303202",stat:"DEF%",value:.05,pre:null,children:[{id:"1303203",stat:"Break Effect",value:.053,pre:"1303202",children:[]}]},{id:"1303205",stat:"Break Effect",value:.08,pre:null,children:[{id:"1303206",stat:"DEF%",value:.075,pre:"1303205",children:[]}]},{id:"1303208",stat:"SPD",value:3,pre:null,children:[{id:"1303209",stat:"DEF%",value:.1,pre:"1303208",children:[]},{id:"1303210",stat:"Break Effect",value:.107,pre:"1303208",children:[]}]}],max_sp:130,stats:{HP:1086.624,ATK:659.736,DEF:485.1,SPD:104,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1304:{id:"1304",name:"Aventurine",rarity:5,path:"Preservation",element:"Imaginary",traces:{"Effect RES":.1,"DEF%":.35,"Imaginary DMG Boost":.144},traceTree:[{id:"1304201",stat:"DEF%",value:.05,pre:null,children:[]},{id:"1304202",stat:"Imaginary DMG Boost",value:.032,pre:null,children:[{id:"1304203",stat:"DEF%",value:.05,pre:"1304202",children:[]}]},{id:"1304204",stat:"Effect RES",value:.04,pre:null,children:[]},{id:"1304205",stat:"DEF%",value:.075,pre:null,children:[{id:"1304206",stat:"Imaginary DMG Boost",value:.048,pre:"1304205",children:[]}]},{id:"1304207",stat:"DEF%",value:.075,pre:null,children:[]},{id:"1304208",stat:"Effect RES",value:.06,pre:null,children:[{id:"1304209",stat:"Imaginary DMG Boost",value:.064,pre:"1304208",children:[]},{id:"1304210",stat:"DEF%",value:.1,pre:"1304208",children:[]}]}],max_sp:110,stats:{HP:1203.048,ATK:446.292,DEF:654.885,SPD:106,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1305:{id:"1305",name:"Dr. Ratio",rarity:5,path:"Hunt",element:"Imaginary",traces:{"DEF%":.125,"ATK%":.28,"CRIT Rate":.12},traceTree:[{id:"1305201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"1305202",stat:"CRIT Rate",value:.027,pre:null,children:[{id:"1305203",stat:"ATK%",value:.04,pre:"1305202",children:[]}]},{id:"1305204",stat:"DEF%",value:.05,pre:null,children:[]},{id:"1305205",stat:"ATK%",value:.06,pre:null,children:[{id:"1305206",stat:"CRIT Rate",value:.04,pre:"1305205",children:[]}]},{id:"1305207",stat:"ATK%",value:.06,pre:null,children:[]},{id:"1305208",stat:"DEF%",value:.075,pre:null,children:[{id:"1305209",stat:"CRIT Rate",value:.053,pre:"1305208",children:[]},{id:"1305210",stat:"ATK%",value:.08,pre:"1305208",children:[]}]}],max_sp:140,stats:{HP:1047.816,ATK:776.16,DEF:460.845,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1306:{id:"1306",name:"Sparkle",rarity:5,path:"Harmony",element:"Quantum",traces:{"Effect RES":.1,"HP%":.28,"CRIT DMG":.24},traceTree:[{id:"1306201",stat:"HP%",value:.04,pre:null,children:[{id:"1306204",stat:"Effect RES",value:.04,pre:"1306201",children:[]},{id:"1306207",stat:"HP%",value:.06,pre:"1306201",children:[]}]},{id:"1306202",stat:"CRIT DMG",value:.053,pre:null,children:[{id:"1306203",stat:"HP%",value:.04,pre:"1306202",children:[]}]},{id:"1306205",stat:"HP%",value:.06,pre:null,children:[{id:"1306206",stat:"CRIT DMG",value:.08,pre:"1306205",children:[]}]},{id:"1306208",stat:"Effect RES",value:.06,pre:null,children:[{id:"1306209",stat:"CRIT DMG",value:.107,pre:"1306208",children:[]},{id:"1306210",stat:"HP%",value:.08,pre:"1306208",children:[]}]}],max_sp:110,stats:{HP:1397.088,ATK:523.908,DEF:485.1,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1307:{id:"1307",name:"Black Swan",rarity:5,path:"Nihility",element:"Wind",traces:{"Wind DMG Boost":.144,"Effect Hit Rate":.1,"ATK%":.28},traceTree:[{id:"1307201",stat:"ATK%",value:.04,pre:null,children:[{id:"1307210",stat:"ATK%",value:.08,pre:"1307201",children:[]}]},{id:"1307202",stat:"Wind DMG Boost",value:.032,pre:null,children:[{id:"1307203",stat:"ATK%",value:.04,pre:"1307202",children:[{id:"1307204",stat:"Effect Hit Rate",value:.04,pre:"1307203",children:[]}]}]},{id:"1307205",stat:"ATK%",value:.06,pre:null,children:[{id:"1307206",stat:"Wind DMG Boost",value:.048,pre:"1307205",children:[{id:"1307207",stat:"ATK%",value:.06,pre:"1307206",children:[]}]}]},{id:"1307208",stat:"Effect Hit Rate",value:.06,pre:null,children:[]},{id:"1307209",stat:"Wind DMG Boost",value:.064,pre:null,children:[]}],max_sp:120,stats:{HP:1086.624,ATK:659.736,DEF:485.1,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1308:{id:"1308",name:"Acheron",rarity:5,path:"Nihility",element:"Lightning",traces:{"CRIT DMG":.24,"Lightning DMG Boost":.08,"ATK%":.28},traceTree:[{id:"1308201",stat:"ATK%",value:.04,pre:null,children:[{id:"1308210",stat:"ATK%",value:.08,pre:"1308201",children:[]}]},{id:"1308202",stat:"CRIT DMG",value:.053,pre:null,children:[{id:"1308203",stat:"ATK%",value:.04,pre:"1308202",children:[{id:"1308204",stat:"Lightning DMG Boost",value:.032,pre:"1308203",children:[]}]}]},{id:"1308205",stat:"ATK%",value:.06,pre:null,children:[{id:"1308206",stat:"CRIT DMG",value:.08,pre:"1308205",children:[{id:"1308207",stat:"ATK%",value:.06,pre:"1308206",children:[]}]}]},{id:"1308208",stat:"Lightning DMG Boost",value:.048,pre:null,children:[]},{id:"1308209",stat:"CRIT DMG",value:.107,pre:null,children:[]}],max_sp:9,stats:{HP:1125.432,ATK:698.544,DEF:436.59,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1309:{id:"1309",name:"Robin",rarity:5,path:"Harmony",element:"Physical",traces:{SPD:5,"ATK%":.28,"HP%":.18},traceTree:[{id:"1309201",stat:"ATK%",value:.04,pre:null,children:[{id:"1309204",stat:"SPD",value:2,pre:"1309201",children:[]},{id:"1309207",stat:"ATK%",value:.06,pre:"1309201",children:[]}]},{id:"1309202",stat:"HP%",value:.04,pre:null,children:[{id:"1309203",stat:"ATK%",value:.04,pre:"1309202",children:[]}]},{id:"1309205",stat:"ATK%",value:.06,pre:null,children:[{id:"1309206",stat:"HP%",value:.06,pre:"1309205",children:[]}]},{id:"1309208",stat:"SPD",value:3,pre:null,children:[{id:"1309209",stat:"HP%",value:.08,pre:"1309208",children:[]},{id:"1309210",stat:"ATK%",value:.08,pre:"1309208",children:[]}]}],max_sp:160,stats:{HP:1280.664,ATK:640.332,DEF:485.1,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1310:{id:"1310",name:"Firefly",rarity:5,path:"Destruction",element:"Fire",traces:{SPD:5,"Break Effect":.373,"Effect RES":.18},traceTree:[{id:"1310201",stat:"Break Effect",value:.053,pre:null,children:[]},{id:"1310202",stat:"Effect RES",value:.04,pre:null,children:[{id:"1310203",stat:"Break Effect",value:.053,pre:"1310202",children:[{id:"1310204",stat:"SPD",value:2,pre:"1310203",children:[]}]}]},{id:"1310205",stat:"Break Effect",value:.08,pre:null,children:[{id:"1310206",stat:"Effect RES",value:.06,pre:"1310205",children:[{id:"1310207",stat:"Break Effect",value:.08,pre:"1310206",children:[]}]}]},{id:"1310208",stat:"SPD",value:3,pre:null,children:[{id:"1310209",stat:"Effect RES",value:.08,pre:"1310208",children:[]},{id:"1310210",stat:"Break Effect",value:.107,pre:"1310208",children:[]}]}],max_sp:240,stats:{HP:814.968,ATK:523.908,DEF:776.16,SPD:104,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1312:{id:"1312",name:"Misha",rarity:4,path:"Destruction",element:"Ice",traces:{"CRIT Rate":.067,"Ice DMG Boost":.224,"DEF%":.225},traceTree:[{id:"1312201",stat:"Ice DMG Boost",value:.032,pre:null,children:[]},{id:"1312202",stat:"DEF%",value:.05,pre:null,children:[{id:"1312203",stat:"Ice DMG Boost",value:.032,pre:"1312202",children:[{id:"1312204",stat:"CRIT Rate",value:.027,pre:"1312203",children:[]}]}]},{id:"1312205",stat:"Ice DMG Boost",value:.048,pre:null,children:[{id:"1312206",stat:"DEF%",value:.075,pre:"1312205",children:[{id:"1312207",stat:"Ice DMG Boost",value:.048,pre:"1312206",children:[]}]}]},{id:"1312208",stat:"CRIT Rate",value:.04,pre:null,children:[{id:"1312209",stat:"DEF%",value:.1,pre:"1312208",children:[]},{id:"1312210",stat:"Ice DMG Boost",value:.064,pre:"1312208",children:[]}]}],max_sp:100,stats:{HP:1270.08,ATK:599.76,DEF:396.9,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1313:{id:"1313",name:"Sunday",rarity:5,path:"Harmony",element:"Imaginary",traces:{"DEF%":.125,"CRIT DMG":.373,"Effect RES":.18},traceTree:[{id:"1313201",stat:"CRIT DMG",value:.053,pre:null,children:[{id:"1313204",stat:"DEF%",value:.05,pre:"1313201",children:[]},{id:"1313207",stat:"CRIT DMG",value:.08,pre:"1313201",children:[]}]},{id:"1313202",stat:"Effect RES",value:.04,pre:null,children:[{id:"1313203",stat:"CRIT DMG",value:.053,pre:"1313202",children:[]}]},{id:"1313205",stat:"CRIT DMG",value:.08,pre:null,children:[{id:"1313206",stat:"Effect RES",value:.06,pre:"1313205",children:[]}]},{id:"1313208",stat:"DEF%",value:.075,pre:null,children:[{id:"1313209",stat:"Effect RES",value:.08,pre:"1313208",children:[]},{id:"1313210",stat:"CRIT DMG",value:.107,pre:"1313208",children:[]}]}],max_sp:130,stats:{HP:1241.856,ATK:640.332,DEF:533.61,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1314:{id:"1314",name:"Jade",rarity:5,path:"Erudition",element:"Quantum",traces:{"Quantum DMG Boost":.224,"ATK%":.18,"Effect RES":.1},traceTree:[{id:"1314201",stat:"Quantum DMG Boost",value:.032,pre:null,children:[]},{id:"1314202",stat:"ATK%",value:.04,pre:null,children:[{id:"1314203",stat:"Quantum DMG Boost",value:.032,pre:"1314202",children:[]},{id:"1314204",stat:"Effect RES",value:.04,pre:"1314202",children:[]}]},{id:"1314205",stat:"Quantum DMG Boost",value:.048,pre:null,children:[{id:"1314206",stat:"ATK%",value:.06,pre:"1314205",children:[]},{id:"1314207",stat:"Quantum DMG Boost",value:.048,pre:"1314205",children:[]}]},{id:"1314208",stat:"Effect RES",value:.06,pre:null,children:[]},{id:"1314209",stat:"ATK%",value:.08,pre:null,children:[]},{id:"1314210",stat:"Quantum DMG Boost",value:.064,pre:null,children:[]}],max_sp:140,stats:{HP:1086.624,ATK:659.736,DEF:509.355,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1315:{id:"1315",name:"Boothill",rarity:5,path:"Hunt",element:"Physical",traces:{"HP%":.1,"Break Effect":.373,"ATK%":.18},traceTree:[{id:"1315201",stat:"Break Effect",value:.053,pre:null,children:[]},{id:"1315202",stat:"ATK%",value:.04,pre:null,children:[{id:"1315203",stat:"Break Effect",value:.053,pre:"1315202",children:[]}]},{id:"1315204",stat:"HP%",value:.04,pre:null,children:[]},{id:"1315205",stat:"Break Effect",value:.08,pre:null,children:[{id:"1315206",stat:"ATK%",value:.06,pre:"1315205",children:[]}]},{id:"1315207",stat:"Break Effect",value:.08,pre:null,children:[]},{id:"1315208",stat:"HP%",value:.06,pre:null,children:[{id:"1315209",stat:"ATK%",value:.08,pre:"1315208",children:[]},{id:"1315210",stat:"Break Effect",value:.107,pre:"1315208",children:[]}]}],max_sp:115,stats:{HP:1203.048,ATK:620.928,DEF:436.59,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1317:{id:"1317",name:"Rappa",rarity:5,path:"Erudition",element:"Imaginary",traces:{"ATK%":.28,SPD:9,"Break Effect":.133},traceTree:[{id:"1317201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"1317202",stat:"SPD",value:2,pre:null,children:[{id:"1317203",stat:"ATK%",value:.04,pre:"1317202",children:[]},{id:"1317204",stat:"Break Effect",value:.053,pre:"1317202",children:[]}]},{id:"1317205",stat:"ATK%",value:.06,pre:null,children:[{id:"1317206",stat:"SPD",value:3,pre:"1317205",children:[]},{id:"1317207",stat:"ATK%",value:.06,pre:"1317205",children:[]}]},{id:"1317208",stat:"Break Effect",value:.08,pre:null,children:[]},{id:"1317209",stat:"SPD",value:4,pre:null,children:[]},{id:"1317210",stat:"ATK%",value:.08,pre:null,children:[]}],max_sp:140,stats:{HP:1086.624,ATK:717.948,DEF:460.845,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1401:{id:"1401",name:"The Herta",rarity:5,path:"Erudition",element:"Ice",traces:{"Ice DMG Boost":.224,"ATK%":.18,SPD:5},traceTree:[{id:"1401201",stat:"Ice DMG Boost",value:.032,pre:null,children:[]},{id:"1401202",stat:"ATK%",value:.04,pre:null,children:[{id:"1401203",stat:"Ice DMG Boost",value:.032,pre:"1401202",children:[]},{id:"1401204",stat:"SPD",value:2,pre:"1401202",children:[]}]},{id:"1401205",stat:"Ice DMG Boost",value:.048,pre:null,children:[{id:"1401206",stat:"ATK%",value:.06,pre:"1401205",children:[]},{id:"1401207",stat:"Ice DMG Boost",value:.048,pre:"1401205",children:[]}]},{id:"1401208",stat:"SPD",value:3,pre:null,children:[]},{id:"1401209",stat:"ATK%",value:.08,pre:null,children:[]},{id:"1401210",stat:"Ice DMG Boost",value:.064,pre:null,children:[]}],max_sp:220,stats:{HP:1164.24,ATK:679.14,DEF:485.1,SPD:99,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1402:{id:"1402",name:"Aglaea",rarity:5,path:"Remembrance",element:"Lightning",traces:{"DEF%":.125,"CRIT Rate":.12,"Lightning DMG Boost":.224},traceTree:[{id:"1402201",stat:"Lightning DMG Boost",value:.032,pre:null,children:[{id:"1402202",stat:"CRIT Rate",value:.027,pre:"1402201",children:[]},{id:"1402203",stat:"Lightning DMG Boost",value:.032,pre:"1402201",children:[]}]},{id:"1402204",stat:"DEF%",value:.05,pre:null,children:[]},{id:"1402205",stat:"Lightning DMG Boost",value:.048,pre:null,children:[]},{id:"1402206",stat:"CRIT Rate",value:.04,pre:null,children:[]},{id:"1402207",stat:"Lightning DMG Boost",value:.048,pre:null,children:[]},{id:"1402208",stat:"DEF%",value:.075,pre:null,children:[{id:"1402209",stat:"CRIT Rate",value:.053,pre:"1402208",children:[{id:"1402210",stat:"Lightning DMG Boost",value:.064,pre:"1402209",children:[]}]}]}],max_sp:350,stats:{HP:1241.856,ATK:698.544,DEF:485.1,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1403:{id:"1403",name:"Tribbie",rarity:5,path:"Harmony",element:"Quantum",traces:{"HP%":.1,"CRIT DMG":.373,"CRIT Rate":.12},traceTree:[{id:"1403201",stat:"CRIT DMG",value:.053,pre:null,children:[{id:"1403204",stat:"HP%",value:.04,pre:"1403201",children:[]},{id:"1403207",stat:"CRIT DMG",value:.08,pre:"1403201",children:[]}]},{id:"1403202",stat:"CRIT Rate",value:.027,pre:null,children:[{id:"1403203",stat:"CRIT DMG",value:.053,pre:"1403202",children:[]}]},{id:"1403205",stat:"CRIT DMG",value:.08,pre:null,children:[{id:"1403206",stat:"CRIT Rate",value:.04,pre:"1403205",children:[]}]},{id:"1403208",stat:"HP%",value:.06,pre:null,children:[{id:"1403209",stat:"CRIT Rate",value:.053,pre:"1403208",children:[]},{id:"1403210",stat:"CRIT DMG",value:.107,pre:"1403208",children:[]}]}],max_sp:120,stats:{HP:1047.816,ATK:523.908,DEF:727.65,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1404:{id:"1404",name:"Mydei",rarity:5,path:"Destruction",element:"Imaginary",traces:{SPD:5,"CRIT DMG":.373,"HP%":.18},traceTree:[{id:"1404201",stat:"CRIT DMG",value:.053,pre:null,children:[]},{id:"1404202",stat:"HP%",value:.04,pre:null,children:[{id:"1404203",stat:"CRIT DMG",value:.053,pre:"1404202",children:[{id:"1404204",stat:"SPD",value:2,pre:"1404203",children:[]}]}]},{id:"1404205",stat:"CRIT DMG",value:.08,pre:null,children:[{id:"1404206",stat:"HP%",value:.06,pre:"1404205",children:[{id:"1404207",stat:"CRIT DMG",value:.08,pre:"1404206",children:[]}]}]},{id:"1404208",stat:"SPD",value:3,pre:null,children:[{id:"1404209",stat:"HP%",value:.08,pre:"1404208",children:[]},{id:"1404210",stat:"CRIT DMG",value:.107,pre:"1404208",children:[]}]}],max_sp:160,stats:{HP:1552.32,ATK:426.888,DEF:194.04,SPD:95,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1405:{id:"1405",name:"Anaxa",rarity:5,path:"Erudition",element:"Wind",traces:{"Wind DMG Boost":.224,"CRIT Rate":.12,"HP%":.1},traceTree:[{id:"1405201_3.2v4",stat:"Wind DMG Boost",value:.032,pre:null,children:[]},{id:"1405202_3.2v4",stat:"CRIT Rate",value:.027,pre:null,children:[{id:"1405203_3.2v4",stat:"Wind DMG Boost",value:.032,pre:"1405202_3.2v4",children:[]},{id:"1405204_3.2v4",stat:"HP%",value:.04,pre:"1405202_3.2v4",children:[]}]},{id:"1405205_3.2v4",stat:"Wind DMG Boost",value:.048,pre:null,children:[{id:"1405206_3.2v4",stat:"CRIT Rate",value:.04,pre:"1405205_3.2v4",children:[]},{id:"1405207_3.2v4",stat:"Wind DMG Boost",value:.048,pre:"1405205_3.2v4",children:[]}]},{id:"1405208_3.2v4",stat:"HP%",value:.06,pre:null,children:[]},{id:"1405209_3.2v4",stat:"CRIT Rate",value:.053,pre:null,children:[]},{id:"1405210_3.2v4",stat:"Wind DMG Boost",value:.064,pre:null,children:[]}],max_sp:140,stats:{HP:970.2,ATK:756.756,DEF:557.865,SPD:97,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!0},1407:{id:"1407",name:"Castorice",rarity:5,path:"Remembrance",element:"Quantum",traces:{"CRIT DMG":.133,"Quantum DMG Boost":.144,"CRIT Rate":.187},traceTree:[{id:"1407201_3.2v4",stat:"CRIT Rate",value:.027,pre:null,children:[{id:"1407202_3.2v4",stat:"Quantum DMG Boost",value:.032,pre:"1407201_3.2v4",children:[]},{id:"1407203_3.2v4",stat:"CRIT Rate",value:.027,pre:"1407201_3.2v4",children:[]}]},{id:"1407204_3.2v4",stat:"CRIT DMG",value:.053,pre:null,children:[]},{id:"1407205_3.2v4",stat:"CRIT Rate",value:.04,pre:null,children:[]},{id:"1407206_3.2v4",stat:"Quantum DMG Boost",value:.048,pre:null,children:[]},{id:"1407207_3.2v4",stat:"CRIT Rate",value:.04,pre:null,children:[]},{id:"1407208_3.2v4",stat:"CRIT DMG",value:.08,pre:null,children:[{id:"1407209_3.2v4",stat:"Quantum DMG Boost",value:.064,pre:"1407208_3.2v4",children:[{id:"1407210_3.2v4",stat:"CRIT Rate",value:.053,pre:"1407209_3.2v4",children:[]}]}]}],max_sp:0,stats:{HP:1629.936,ATK:523.908,DEF:485.1,SPD:95,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!0},8001:{id:"8001",name:"Trailblazer",rarity:5,path:"Destruction",element:"Physical",traces:{"DEF%":.125,"ATK%":.28,"HP%":.18},traceTree:[{id:"8001201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"8001202",stat:"HP%",value:.04,pre:null,children:[{id:"8001203",stat:"ATK%",value:.04,pre:"8001202",children:[{id:"8001204",stat:"DEF%",value:.05,pre:"8001203",children:[]}]}]},{id:"8001205",stat:"ATK%",value:.06,pre:null,children:[{id:"8001206",stat:"HP%",value:.06,pre:"8001205",children:[{id:"8001207",stat:"ATK%",value:.06,pre:"8001206",children:[]}]}]},{id:"8001208",stat:"DEF%",value:.075,pre:null,children:[{id:"8001209",stat:"HP%",value:.08,pre:"8001208",children:[]},{id:"8001210",stat:"ATK%",value:.08,pre:"8001208",children:[]}]}],max_sp:120,stats:{HP:1203.048,ATK:620.928,DEF:460.845,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8002:{id:"8002",name:"Trailblazer",rarity:5,path:"Destruction",element:"Physical",traces:{"DEF%":.125,"ATK%":.28,"HP%":.18},traceTree:[{id:"8002201",stat:"ATK%",value:.04,pre:null,children:[]},{id:"8002202",stat:"HP%",value:.04,pre:null,children:[{id:"8002203",stat:"ATK%",value:.04,pre:"8002202",children:[{id:"8002204",stat:"DEF%",value:.05,pre:"8002203",children:[]}]}]},{id:"8002205",stat:"ATK%",value:.06,pre:null,children:[{id:"8002206",stat:"HP%",value:.06,pre:"8002205",children:[{id:"8002207",stat:"ATK%",value:.06,pre:"8002206",children:[]}]}]},{id:"8002208",stat:"DEF%",value:.075,pre:null,children:[{id:"8002209",stat:"HP%",value:.08,pre:"8002208",children:[]},{id:"8002210",stat:"ATK%",value:.08,pre:"8002208",children:[]}]}],max_sp:120,stats:{HP:1203.048,ATK:620.928,DEF:460.845,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8003:{id:"8003",name:"Trailblazer",rarity:5,path:"Preservation",element:"Fire",traces:{"HP%":.1,"DEF%":.35,"ATK%":.18},traceTree:[{id:"8003201",stat:"DEF%",value:.05,pre:null,children:[]},{id:"8003202",stat:"ATK%",value:.04,pre:null,children:[{id:"8003203",stat:"DEF%",value:.05,pre:"8003202",children:[]}]},{id:"8003204",stat:"HP%",value:.04,pre:null,children:[]},{id:"8003205",stat:"DEF%",value:.075,pre:null,children:[{id:"8003206",stat:"ATK%",value:.06,pre:"8003205",children:[]}]},{id:"8003207",stat:"DEF%",value:.075,pre:null,children:[]},{id:"8003208",stat:"HP%",value:.06,pre:null,children:[{id:"8003209",stat:"ATK%",value:.08,pre:"8003208",children:[]},{id:"8003210",stat:"DEF%",value:.1,pre:"8003208",children:[]}]}],max_sp:120,stats:{HP:1241.856,ATK:601.524,DEF:606.375,SPD:95,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8004:{id:"8004",name:"Trailblazer",rarity:5,path:"Preservation",element:"Fire",traces:{"HP%":.1,"DEF%":.35,"ATK%":.18},traceTree:[{id:"8004201",stat:"DEF%",value:.05,pre:null,children:[]},{id:"8004202",stat:"ATK%",value:.04,pre:null,children:[{id:"8004203",stat:"DEF%",value:.05,pre:"8004202",children:[]}]},{id:"8004204",stat:"HP%",value:.04,pre:null,children:[]},{id:"8004205",stat:"DEF%",value:.075,pre:null,children:[{id:"8004206",stat:"ATK%",value:.06,pre:"8004205",children:[]}]},{id:"8004207",stat:"DEF%",value:.075,pre:null,children:[]},{id:"8004208",stat:"HP%",value:.06,pre:null,children:[{id:"8004209",stat:"ATK%",value:.08,pre:"8004208",children:[]},{id:"8004210",stat:"DEF%",value:.1,pre:"8004208",children:[]}]}],max_sp:120,stats:{HP:1241.856,ATK:601.524,DEF:606.375,SPD:95,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8005:{id:"8005",name:"Trailblazer",rarity:5,path:"Harmony",element:"Imaginary",traces:{"Effect RES":.1,"Break Effect":.373,"Imaginary DMG Boost":.144},traceTree:[{id:"8005201",stat:"Break Effect",value:.053,pre:null,children:[{id:"8005204",stat:"Effect RES",value:.04,pre:"8005201",children:[]},{id:"8005207",stat:"Break Effect",value:.08,pre:"8005201",children:[]}]},{id:"8005202",stat:"Imaginary DMG Boost",value:.032,pre:null,children:[{id:"8005203",stat:"Break Effect",value:.053,pre:"8005202",children:[]}]},{id:"8005205",stat:"Break Effect",value:.08,pre:null,children:[{id:"8005206",stat:"Imaginary DMG Boost",value:.048,pre:"8005205",children:[]}]},{id:"8005208",stat:"Effect RES",value:.06,pre:null,children:[{id:"8005209",stat:"Imaginary DMG Boost",value:.064,pre:"8005208",children:[]},{id:"8005210",stat:"Break Effect",value:.107,pre:"8005208",children:[]}]}],max_sp:140,stats:{HP:1086.624,ATK:446.292,DEF:679.14,SPD:105,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8006:{id:"8006",name:"Trailblazer",rarity:5,path:"Harmony",element:"Imaginary",traces:{"Effect RES":.1,"Break Effect":.373,"Imaginary DMG Boost":.144},traceTree:[{id:"8006201",stat:"Break Effect",value:.053,pre:null,children:[{id:"8006204",stat:"Effect RES",value:.04,pre:"8006201",children:[]},{id:"8006207",stat:"Break Effect",value:.08,pre:"8006201",children:[]}]},{id:"8006202",stat:"Imaginary DMG Boost",value:.032,pre:null,children:[{id:"8006203",stat:"Break Effect",value:.053,pre:"8006202",children:[]}]},{id:"8006205",stat:"Break Effect",value:.08,pre:null,children:[{id:"8006206",stat:"Imaginary DMG Boost",value:.048,pre:"8006205",children:[]}]},{id:"8006208",stat:"Effect RES",value:.06,pre:null,children:[{id:"8006209",stat:"Imaginary DMG Boost",value:.064,pre:"8006208",children:[]},{id:"8006210",stat:"Break Effect",value:.107,pre:"8006208",children:[]}]}],max_sp:140,stats:{HP:1086.624,ATK:446.292,DEF:679.14,SPD:105,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8007:{id:"8007",name:"Trailblazer",rarity:5,path:"Remembrance",element:"Ice",traces:{"ATK%":.14,"HP%":.14,"CRIT DMG":.373},traceTree:[{id:"8007201",stat:"CRIT DMG",value:.053,pre:null,children:[{id:"8007202",stat:"ATK%",value:.04,pre:"8007201",children:[]},{id:"8007203",stat:"CRIT DMG",value:.053,pre:"8007201",children:[]}]},{id:"8007204",stat:"ATK%",value:.04,pre:null,children:[]},{id:"8007205",stat:"CRIT DMG",value:.08,pre:null,children:[]},{id:"8007206",stat:"HP%",value:.06,pre:null,children:[]},{id:"8007207",stat:"CRIT DMG",value:.08,pre:null,children:[]},{id:"8007208",stat:"ATK%",value:.06,pre:null,children:[{id:"8007209",stat:"HP%",value:.08,pre:"8007208",children:[{id:"8007210",stat:"CRIT DMG",value:.107,pre:"8007209",children:[]}]}]}],max_sp:160,stats:{HP:1047.816,ATK:543.312,DEF:630.63,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8008:{id:"8008",name:"Trailblazer",rarity:5,path:"Remembrance",element:"Ice",traces:{"ATK%":.14,"HP%":.14,"CRIT DMG":.373},traceTree:[{id:"8008201",stat:"CRIT DMG",value:.053,pre:null,children:[{id:"8008202",stat:"ATK%",value:.04,pre:"8008201",children:[]},{id:"8008203",stat:"CRIT DMG",value:.053,pre:"8008201",children:[]}]},{id:"8008204",stat:"ATK%",value:.04,pre:null,children:[]},{id:"8008205",stat:"CRIT DMG",value:.08,pre:null,children:[]},{id:"8008206",stat:"HP%",value:.06,pre:null,children:[]},{id:"8008207",stat:"CRIT DMG",value:.08,pre:null,children:[]},{id:"8008208",stat:"ATK%",value:.06,pre:null,children:[{id:"8008209",stat:"HP%",value:.08,pre:"8008208",children:[{id:"8008210",stat:"CRIT DMG",value:.107,pre:"8008209",children:[]}]}]}],max_sp:160,stats:{HP:1047.816,ATK:543.312,DEF:630.63,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1}},Ib={2e4:{id:"20000",name:"Arrows",rarity:3,path:"Hunt",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20001:{id:"20001",name:"Cornucopia",rarity:3,path:"Abundance",stats:{HP:952.56,ATK:264.6,DEF:264.6},unreleased:!1},20002:{id:"20002",name:"Collapsing Sky",rarity:3,path:"Destruction",stats:{HP:846.72,ATK:370.44,DEF:198.45},unreleased:!1},20003:{id:"20003",name:"Amber",rarity:3,path:"Preservation",stats:{HP:846.72,ATK:264.6,DEF:330.75},unreleased:!1},20004:{id:"20004",name:"Void",rarity:3,path:"Nihility",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20005:{id:"20005",name:"Chorus",rarity:3,path:"Harmony",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20006:{id:"20006",name:"Data Bank",rarity:3,path:"Erudition",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20007:{id:"20007",name:"Darting Arrow",rarity:3,path:"Hunt",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20008:{id:"20008",name:"Fine Fruit",rarity:3,path:"Abundance",stats:{HP:952.56,ATK:317.52,DEF:198.45},unreleased:!1},20009:{id:"20009",name:"Shattered Home",rarity:3,path:"Destruction",stats:{HP:846.72,ATK:370.44,DEF:198.45},unreleased:!1},20010:{id:"20010",name:"Defense",rarity:3,path:"Preservation",stats:{HP:952.56,ATK:264.6,DEF:264.6},unreleased:!1},20011:{id:"20011",name:"Loop",rarity:3,path:"Nihility",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20012:{id:"20012",name:"Meshing Cogs",rarity:3,path:"Harmony",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20013:{id:"20013",name:"Passkey",rarity:3,path:"Erudition",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20014:{id:"20014",name:"Adversarial",rarity:3,path:"Hunt",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20015:{id:"20015",name:"Multiplication",rarity:3,path:"Abundance",stats:{HP:952.56,ATK:317.52,DEF:198.45},unreleased:!1},20016:{id:"20016",name:"Mutual Demise",rarity:3,path:"Destruction",stats:{HP:846.72,ATK:370.44,DEF:198.45},unreleased:!1},20017:{id:"20017",name:"Pioneering",rarity:3,path:"Preservation",stats:{HP:952.56,ATK:264.6,DEF:264.6},unreleased:!1},20018:{id:"20018",name:"Hidden Shadow",rarity:3,path:"Nihility",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20019:{id:"20019",name:"Mediation",rarity:3,path:"Harmony",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20020:{id:"20020",name:"Sagacity",rarity:3,path:"Erudition",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20021:{id:"20021",name:"Shadowburn",rarity:3,path:"Remembrance",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20022:{id:"20022",name:"Reminiscence",rarity:3,path:"Remembrance",stats:{HP:635.04,ATK:423.36,DEF:264.6},unreleased:!1},21e3:{id:"21000",name:"Post-Op Conversation",rarity:4,path:"Abundance",stats:{HP:1058.4,ATK:423.36,DEF:330.75},unreleased:!1},21001:{id:"21001",name:"Good Night and Sleep Well",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21002:{id:"21002",name:"Day One of My New Life",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:370.44,DEF:463.05},unreleased:!1},21003:{id:"21003",name:"Only Silence Remains",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21004:{id:"21004",name:"Memories of the Past",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21005:{id:"21005",name:"The Moles Welcome You",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21006:{id:"21006",name:"The Birth of the Self",rarity:4,path:"Erudition",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21007:{id:"21007",name:"Shared Feeling",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21008:{id:"21008",name:"Eyes of the Prey",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21009:{id:"21009",name:"Landau's Choice",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21010:{id:"21010",name:"Swordplay",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21011:{id:"21011",name:"Planetary Rendezvous",rarity:4,path:"Harmony",stats:{HP:1058.4,ATK:423.36,DEF:330.75},unreleased:!1},21012:{id:"21012",name:"A Secret Vow",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21013:{id:"21013",name:"Make the World Clamor",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21014:{id:"21014",name:"Perfect Timing",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21015:{id:"21015",name:"Resolution Shines As Pearls of Sweat",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21016:{id:"21016",name:"Trend of the Universal Market",rarity:4,path:"Preservation",stats:{HP:1058.4,ATK:370.44,DEF:396.9},unreleased:!1},21017:{id:"21017",name:"Subscribe for More!",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21018:{id:"21018",name:"Dance! Dance! Dance!",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21019:{id:"21019",name:"Under the Blue Sky",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21020:{id:"21020",name:"Geniuses' Repose",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21021:{id:"21021",name:"Quid Pro Quo",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21022:{id:"21022",name:"Fermata",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21023:{id:"21023",name:"We Are Wildfire",rarity:4,path:"Preservation",stats:{HP:740.88,ATK:476.28,DEF:463.05},unreleased:!1},21024:{id:"21024",name:"River Flows in Spring",rarity:4,path:"Hunt",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21025:{id:"21025",name:"Past and Future",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21026:{id:"21026",name:"Woof! Walk Time!",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21027:{id:"21027",name:"The Seriousness of Breakfast",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21028:{id:"21028",name:"Warmth Shortens Cold Nights",rarity:4,path:"Abundance",stats:{HP:1058.4,ATK:370.44,DEF:396.9},unreleased:!1},21029:{id:"21029",name:"We Will Meet Again",rarity:4,path:"Nihility",stats:{HP:846.72,ATK:529.2,DEF:330.75},unreleased:!1},21030:{id:"21030",name:"This Is Me!",rarity:4,path:"Preservation",stats:{HP:846.72,ATK:370.44,DEF:529.2},unreleased:!1},21031:{id:"21031",name:"Return to Darkness",rarity:4,path:"Hunt",stats:{HP:846.72,ATK:529.2,DEF:330.75},unreleased:!1},21032:{id:"21032",name:"Carve the Moon, Weave the Clouds",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21033:{id:"21033",name:"Nowhere to Run",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:529.2,DEF:264.6},unreleased:!1},21034:{id:"21034",name:"Today Is Another Peaceful Day",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:529.2,DEF:330.75},unreleased:!1},21035:{id:"21035",name:"What Is Real?",rarity:4,path:"Abundance",stats:{HP:1058.4,ATK:423.36,DEF:330.75},unreleased:!1},21036:{id:"21036",name:"Dreamville Adventure",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21037:{id:"21037",name:"Final Victor",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21038:{id:"21038",name:"Flames Afar",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21039:{id:"21039",name:"Destiny's Threads Forewoven",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:370.44,DEF:463.05},unreleased:!1},21040:{id:"21040",name:"The Day The Cosmos Fell",rarity:4,path:"Erudition",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21041:{id:"21041",name:"It's Showtime",rarity:4,path:"Nihility",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21042:{id:"21042",name:"Indelible Promise",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21043:{id:"21043",name:"Concert for Two",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:370.44,DEF:463.05},unreleased:!1},21044:{id:"21044",name:"Boundless Choreo",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21045:{id:"21045",name:"After the Charmony Fall",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21046:{id:"21046",name:"Poised to Bloom",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21047:{id:"21047",name:"Shadowed by Night",rarity:4,path:"Hunt",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21048:{id:"21048",name:"Dream's Montage",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21050:{id:"21050",name:"Victory In a Blink",rarity:4,path:"Remembrance",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21051:{id:"21051",name:"Geniuses' Greetings",rarity:4,path:"Remembrance",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21052:{id:"21052",name:"Sweat Now, Cry Less",rarity:4,path:"Remembrance",stats:{HP:1058.4,ATK:529.2,DEF:198.45},unreleased:!1},22e3:{id:"22000",name:"Before the Tutorial Mission Starts",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},22001:{id:"22001",name:"Hey, Over Here",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},22002:{id:"22002",name:"For Tomorrow's Journey",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},22003:{id:"22003",name:"Ninja Record: Sound Hunt",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},22004:{id:"22004",name:"The Great Cosmic Enterprise",rarity:4,path:"Erudition",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!0},23e3:{id:"23000",name:"Night on the Milky Way",rarity:5,path:"Erudition",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23001:{id:"23001",name:"In the Night",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23002:{id:"23002",name:"Something Irreplaceable",rarity:5,path:"Destruction",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23003:{id:"23003",name:"But the Battle Isn't Over",rarity:5,path:"Harmony",stats:{HP:1164.24,ATK:529.2,DEF:463.05},unreleased:!1},23004:{id:"23004",name:"In the Name of the World",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23005:{id:"23005",name:"Moment of Victory",rarity:5,path:"Preservation",stats:{HP:1058.4,ATK:476.28,DEF:595.35},unreleased:!1},23006:{id:"23006",name:"Patience Is All You Need",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23007:{id:"23007",name:"Incessant Rain",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23008:{id:"23008",name:"Echoes of the Coffin",rarity:5,path:"Abundance",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23009:{id:"23009",name:"The Unreachable Side",rarity:5,path:"Destruction",stats:{HP:1270.08,ATK:582.12,DEF:330.75},unreleased:!1},23010:{id:"23010",name:"Before Dawn",rarity:5,path:"Erudition",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23011:{id:"23011",name:"She Already Shut Her Eyes",rarity:5,path:"Preservation",stats:{HP:1270.08,ATK:423.36,DEF:529.2},unreleased:!1},23012:{id:"23012",name:"Sleep Like the Dead",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23013:{id:"23013",name:"Time Waits for No One",rarity:5,path:"Abundance",stats:{HP:1270.08,ATK:476.28,DEF:463.05},unreleased:!1},23014:{id:"23014",name:"I Shall Be My Own Sword",rarity:5,path:"Destruction",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23015:{id:"23015",name:"Brighter Than the Sun",rarity:5,path:"Destruction",stats:{HP:1058.4,ATK:635.04,DEF:396.9},unreleased:!1},23016:{id:"23016",name:"Worrisome, Blissful",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23017:{id:"23017",name:"Night of Fright",rarity:5,path:"Abundance",stats:{HP:1164.24,ATK:476.28,DEF:529.2},unreleased:!1},23018:{id:"23018",name:"An Instant Before A Gaze",rarity:5,path:"Erudition",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23019:{id:"23019",name:"Past Self in Mirror",rarity:5,path:"Harmony",stats:{HP:1058.4,ATK:529.2,DEF:529.2},unreleased:!1},23020:{id:"23020",name:"Baptism of Pure Thought",rarity:5,path:"Hunt",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!1},23021:{id:"23021",name:"Earthly Escapade",rarity:5,path:"Harmony",stats:{HP:1164.24,ATK:529.2,DEF:463.05},unreleased:!1},23022:{id:"23022",name:"Reforged Remembrance",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23023:{id:"23023",name:"Inherently Unjust Destiny",rarity:5,path:"Preservation",stats:{HP:1058.4,ATK:423.36,DEF:661.5},unreleased:!1},23024:{id:"23024",name:"Along the Passing Shore",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:635.04,DEF:396.9},unreleased:!1},23025:{id:"23025",name:"Whereabouts Should Dreams Rest",rarity:5,path:"Destruction",stats:{HP:1164.24,ATK:476.28,DEF:529.2},unreleased:!1},23026:{id:"23026",name:"Flowing Nightglow",rarity:5,path:"Harmony",stats:{HP:952.56,ATK:635.04,DEF:463.05},unreleased:!1},23027:{id:"23027",name:"Sailing Towards a Second Life",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23028:{id:"23028",name:"Yet Hope Is Priceless",rarity:5,path:"Erudition",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!1},23029:{id:"23029",name:"Those Many Springs",rarity:5,path:"Nihility",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!1},23030:{id:"23030",name:"Dance at Sunset",rarity:5,path:"Destruction",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23031:{id:"23031",name:"I Venture Forth to Hunt",rarity:5,path:"Hunt",stats:{HP:952.56,ATK:635.04,DEF:463.05},unreleased:!1},23032:{id:"23032",name:"Scent Alone Stays True",rarity:5,path:"Abundance",stats:{HP:1058.4,ATK:529.2,DEF:529.2},unreleased:!1},23033:{id:"23033",name:"Ninjutsu Inscription: Dazzling Evilbreaker",rarity:5,path:"Erudition",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!1},23034:{id:"23034",name:"A Grounded Ascent",rarity:5,path:"Harmony",stats:{HP:1164.24,ATK:476.28,DEF:529.2},unreleased:!1},23035:{id:"23035",name:"Long Road Leads Home",rarity:5,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:661.5},unreleased:!1},23036:{id:"23036",name:"Time Woven Into Gold",rarity:5,path:"Remembrance",stats:{HP:1058.4,ATK:635.04,DEF:396.9},unreleased:!1},23037:{id:"23037",name:"Into the Unreachable Veil",rarity:5,path:"Erudition",stats:{HP:952.56,ATK:635.04,DEF:463.05},unreleased:!1},23038:{id:"23038",name:"If Time Were a Flower",rarity:5,path:"Harmony",stats:{HP:1270.08,ATK:529.2,DEF:396.9},unreleased:!1},23039:{id:"23039",name:"Flame of Blood, Blaze My Path",rarity:5,path:"Destruction",stats:{HP:1375.92,ATK:476.28,DEF:396.9},unreleased:!1},23040:{id:"23040",name:"Make Farewells More Beautiful",rarity:5,path:"Remembrance",stats:{HP:1270.08,ATK:529.2,DEF:396.9},unreleased:!0},23041:{id:"23041",name:"Life Should Be Cast to Flames",rarity:5,path:"Erudition",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!0},24e3:{id:"24000",name:"On the Fall of an Aeon",rarity:5,path:"Destruction",stats:{HP:1058.4,ATK:529.2,DEF:396.9},unreleased:!1},24001:{id:"24001",name:"Cruising in the Stellar Sea",rarity:5,path:"Hunt",stats:{HP:952.56,ATK:529.2,DEF:463.05},unreleased:!1},24002:{id:"24002",name:"Texture of Memories",rarity:5,path:"Preservation",stats:{HP:1058.4,ATK:423.36,DEF:529.2},unreleased:!1},24003:{id:"24003",name:"Solitary Healing",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:529.2,DEF:396.9},unreleased:!1},24004:{id:"24004",name:"Eternal Calculus",rarity:5,path:"Erudition",stats:{HP:1058.4,ATK:529.2,DEF:396.9},unreleased:!1},24005:{id:"24005",name:"Memory's Curtain Never Falls",rarity:5,path:"Remembrance",stats:{HP:1058.4,ATK:529.2,DEF:396.9},unreleased:!1}},xb=[{id:"320",name:"Giant Tree of Rapt Brooding",skills:"Increases the wearer's SPD by <b>6%</b>. When the wearer's SPD is <b>135</b>/<b>180</b> or higher, the wearer and their memosprite's Outgoing Healing increases by <b>12%</b>/<b>20%</b>."},{id:"319",name:"Bone Collection's Serene Demesne",skills:"Increases the wearer's Max HP by <b>12%</b>. When the wearer's Max HP is <b>5000</b> or higher, increases the wearer's and their memosprite's CRIT DMG by <b>28%</b>."},{id:"318",name:"The Wondrous BananAmusement Park",skills:"Increases the wearer's CRIT DMG by <b>16%</b>. When a target summoned by the wearer is on the field, CRIT DMG additionally increases by <b>32%</b>."},{id:"317",name:"Lushaka, the Sunken Seas",skills:"Increases the wearer's Energy Regeneration Rate by <b>5%</b>. If the wearer is not the first character in the team lineup, then increases the ATK of the first character in the team lineup by <b>12%</b>."},{id:"316",name:"Forge of the Kalpagni Lantern",skills:"Increases the wearer's SPD by <b>6%</b>. When the wearer hits an enemy target that has Fire Weakness, the wearer's Break Effect increases by <b>40%</b>, lasting for <b>1</b> turn(s)."},{id:"315",name:"Duran, Dynasty of Running Wolves",skills:"When an ally uses a Follow-up ATK, the wearer gains 1 stack of Merit, stacking up to <b>5</b> time(s). Each stack of Merit increases the DMG dealt by the wearer's Follow-up ATKs by <b>5%</b>. When there are <b>5</b> stacks, additionally increases the wearer's CRIT DMG by <b>25%</b>."},{id:"314",name:"Izumo Gensei and Takama Divine Realm",skills:"Increases the wearer's ATK by <b>12%</b>. When entering battle, if at least one teammate follows the same Path as the wearer, then the wearer's CRIT Rate increases by <b>12%</b>."},{id:"313",name:"Sigonia, the Unclaimed Desolation",skills:"Increases the wearer's CRIT Rate by <b>4%</b>. When an enemy target gets defeated, the wearer's CRIT DMG increases by <b>4%</b>, stacking up to <b>10</b> time(s)."},{id:"312",name:"Penacony, Land of the Dreams",skills:"Increases wearer's Energy Regeneration Rate by <b>5%</b>. Increases DMG by <b>10%</b> for all other allies that are of the same Type as the wearer."},{id:"311",name:"Firmament Frontline: Glamoth",skills:"Increases the wearer's ATK by <b>12%</b>. When the wearer's SPD is equal to or higher than <b>135</b>/<b>160</b>, the wearer deals <b>12%</b>/<b>18%</b> more DMG."},{id:"310",name:"Broken Keel",skills:"Increases the wearer's Effect RES by <b>10%</b>. When the wearer's Effect RES is at <b>30%</b> or higher, all allies' CRIT DMG increases by <b>10%</b>."},{id:"309",name:"Rutilant Arena",skills:"Increases the wearer's CRIT Rate by <b>8%</b>. When the wearer's current CRIT Rate reaches <b>70%</b> or higher, DMG dealt by Basic ATK and Skill increases by <b>20%</b>."},{id:"308",name:"Sprightly Vonwacq",skills:"Increases the wearer's Energy Regeneration Rate by <b>5%</b>. When the wearer's SPD reaches <b>120</b> or higher, the wearer's action is Advanced Forward by <b>40%</b> immediately upon entering battle."},{id:"307",name:"Talia: Kingdom of Banditry",skills:"Increases the wearer's Break Effect by <b>16%</b>. When the wearer's SPD reaches <b>145</b> or higher, the wearer's Break Effect increases by an extra <b>20%</b>."},{id:"306",name:"Inert Salsotto",skills:"Increases the wearer's CRIT Rate by <b>8%</b>. When the wearer's current CRIT Rate reaches <b>50%</b> or higher, the DMG dealt by the wearer's Ultimate and Follow-up ATK increases by <b>15%</b>."},{id:"305",name:"Celestial Differentiator",skills:"Increases the wearer's CRIT DMG by <b>16%</b>. When the wearer's current CRIT DMG reaches <b>120%</b> or higher, after entering battle, the wearer's CRIT Rate increases by <b>60%</b> until the end of their first attack."},{id:"304",name:"Belobog of the Architects",skills:"Increases the wearer's DEF by <b>15%</b>. When the wearer's Effect Hit Rate is <b>50%</b> or higher, the wearer gains an extra <b>15%</b> DEF."},{id:"303",name:"Pan-Cosmic Commercial Enterprise",skills:"Increases the wearer's Effect Hit Rate by <b>10%</b>. Meanwhile, the wearer's ATK increases by an amount that is equal to <b>25%</b> of the current Effect Hit Rate, up to a maximum of <b>25%</b>."},{id:"302",name:"Fleet of the Ageless",skills:"Increases the wearer's Max HP by <b>12%</b>. When the wearer's SPD reaches <b>120</b> or higher, all allies' ATK increases by <b>8%</b>."},{id:"301",name:"Space Sealing Station",skills:"Increases the wearer's ATK by <b>12%</b>. When the wearer's SPD reaches <b>120</b> or higher, the wearer's ATK increases by an extra <b>12%</b>."},{id:"124",name:"Poet of Mourning Collapse",skills:"Increases Quantum DMG by <b>10%</b>. Decreases the wearer's SPD by <b>8%</b>. Before entering battle, if the wearer's SPD is lower than <b>110</b>/<b>95</b>, increases the wearer's CRIT Rate by <b>20%</b>/<b>32%</b>. This effect applies to the wearer's memosprite at the same time."},{id:"123",name:"Hero of Triumphant Song",skills:"Increases ATK by <b>12%</b>. While the wearer's memosprite is on the field, increases the wearer's SPD by <b>6%</b>. When the wearer's memosprite attacks, increases the wearer's and memosprite's CRIT DMG by <b>30%</b>, lasting for <b>2</b> turn(s)."},{id:"122",name:"Scholar Lost in Erudition",skills:"Increases CRIT Rate by <b>8%</b>. Increases DMG dealt by Skill and Ultimate by <b>20%</b>. After using Ultimate, additionally increases the DMG dealt by the next Skill by <b>25%</b>."},{id:"121",name:"Sacerdos' Relived Ordeal",skills:"Increases SPD by <b>6%</b>. When using Skill or Ultimate on one ally target, increases the ability target's CRIT DMG by <b>18%</b>, lasting for <b>2</b> turn(s). This effect can stack up to <b>2</b> time(s)."},{id:"120",name:"The Wind-Soaring Valorous",skills:"Increases ATK by <b>12%</b>. Increases the wearer's CRIT Rate by <b>6%</b>. After the wearer uses a Follow-up ATK, increases DMG dealt by Ultimate by <b>36%</b>, lasting for <b>1</b> turn(s)."},{id:"119",name:"Iron Cavalry Against the Scourge",skills:"Increases Break Effect by <b>16%</b>. If the wearer's Break Effect is <b>150%</b> or higher, the Break DMG dealt to the enemy target ignores <b>10%</b> of their DEF. If the wearer's Break Effect is <b>250%</b> or higher, the Super Break DMG dealt to the enemy target additionally ignores <b>15%</b> of their DEF."},{id:"118",name:"Watchmaker, Master of Dream Machinations",skills:"Increases Break Effect by <b>16%</b>. When the wearer uses their Ultimate on an ally, all allies' Break Effect increases by <b>30%</b> for <b>2</b> turn(s). This effect cannot be stacked."},{id:"117",name:"Pioneer Diver of Dead Waters",skills:"Increases DMG dealt to enemies with debuffs by <b>12%</b>. Increases CRIT Rate by <b>4%</b>. The wearer deals <b>8%</b>/<b>12%</b> increased CRIT DMG to enemies with at least <b>2</b>/<b>3</b> debuffs. After the wearer inflicts a debuff on enemy targets, the aforementioned effects increase by <b>100%</b>, lasting for <b>1</b> turn(s)."},{id:"116",name:"Prisoner in Deep Confinement",skills:"Increases ATK by <b>12%</b>. For every DoT the enemy target is afflicted with, the wearer will ignore <b>6%</b> of its DEF when dealing DMG to it. This effect is valid for a max of <b>3</b> DoTs."},{id:"115",name:"The Ashblazing Grand Duke",skills:"Increases the DMG dealt by Follow-up ATK by <b>20%</b>. When the wearer uses a Follow-up ATK, increases the wearer's ATK by <b>6%</b> for every time the Follow-up ATK deals DMG. This effect can stack up to <b>8</b> time(s) and lasts for <b>3</b> turn(s). This effect is removed the next time the wearer uses a Follow-up ATK."},{id:"114",name:"Messenger Traversing Hackerspace",skills:"Increases SPD by <b>6%</b>. When the wearer uses their Ultimate on an ally, SPD for all allies increases by <b>12%</b> for <b>1</b> turn(s). This effect cannot be stacked."},{id:"113",name:"Longevous Disciple",skills:"Increases Max HP by <b>12%</b>. When the wearer is hit or has their HP consumed by an ally or themselves, their CRIT Rate increases by <b>8%</b> for <b>2</b> turn(s) and up to <b>2</b> stacks."},{id:"112",name:"Wastelander of Banditry Desert",skills:"Increases Imaginary DMG by <b>10%</b>. When dealing DMG to debuffed enemy targets, the wearer has their CRIT Rate increased by <b>10%</b>. And when they deal DMG to Imprisoned enemy targets, their CRIT DMG increases by <b>20%</b>."},{id:"111",name:"Thief of Shooting Meteor",skills:"Increases Break Effect by <b>16%</b>. Increases the wearer's Break Effect by <b>16%</b>. After the wearer inflicts Weakness Break on an enemy, regenerates <b>3</b> Energy."},{id:"110",name:"Eagle of Twilight Line",skills:"Increases Wind DMG by <b>10%</b>. After the wearer uses their Ultimate, their action is Advanced Forward by <b>25%</b>."},{id:"109",name:"Band of Sizzling Thunder",skills:"Increases Lightning DMG by <b>10%</b>. When the wearer uses their Skill, increases the wearer's ATK by <b>20%</b> for <b>1</b> turn(s)."},{id:"108",name:"Genius of Brilliant Stars",skills:"Increases Quantum DMG by <b>10%</b>. When the wearer deals DMG to the target enemy, ignores <b>10%</b> DEF. If the target enemy has Quantum Weakness, the wearer additionally ignores <b>10%</b> DEF."},{id:"107",name:"Firesmith of Lava-Forging",skills:"Increases Fire DMG by <b>10%</b>. Increases DMG by the wearer's Skill by <b>12%</b>. After unleashing Ultimate, increases the wearer's Fire DMG by <b>12%</b> for the next attack."},{id:"106",name:"Guard of Wuthering Snow",skills:"Reduces DMG taken by <b>8%</b>. At the beginning of the turn, if the wearer's HP percentage is equal to or less than <b>50%</b>, restores HP equal to <b>8%</b> of their Max HP and regenerates <b>5</b> Energy."},{id:"105",name:"Champion of Streetwise Boxing",skills:"Increases Physical DMG by <b>10%</b>. After the wearer attacks or is hit, their ATK increases by <b>5%</b> for the rest of the battle. This effect can stack up to <b>5</b> time(s)."},{id:"104",name:"Hunter of Glacial Forest",skills:"Increases Ice DMG by <b>10%</b>. After the wearer uses their Ultimate, their CRIT DMG increases by <b>25%</b> for <b>2</b> turn(s)."},{id:"103",name:"Knight of Purity Palace",skills:"Increases DEF by <b>15%</b>. Increases the max DMG that can be absorbed by the Shield created by the wearer by <b>20%</b>."},{id:"102",name:"Musketeer of Wild Wheat",skills:"Increases ATK by <b>12%</b>. The wearer's SPD increases by <b>6%</b> and DMG dealt by Basic ATK increases by <b>10%</b>."},{id:"101",name:"Passerby of Wandering Cloud",skills:"Increases Outgoing Healing by <b>10%</b>. At the start of the battle, immediately regenerates 1 Skill Point."}],Zn={characters:Eb,lightCones:Ib,relics:xb},el="v3.2.3",On="3.2v5",$0=e=>`Current version: (${On}) ${e?" - "+e:""}`,q0={1407:$0(""),1405:$0("Added ATK % body to benchmark mains, removed light cone Crit Rate. Now defaults to Main DPS with Sunday/Robin/Huohuo.")},a={ATK_P:"ATK%",ATK:"ATK",BE:"Break Effect",CD:"CRIT DMG",CR:"CRIT Rate",DEF_P:"DEF%",DEF:"DEF",EHR:"Effect Hit Rate",ERR:"Energy Regeneration Rate",Fire_DMG:"Fire DMG Boost",HP_P:"HP%",HP:"HP",Ice_DMG:"Ice DMG Boost",Imaginary_DMG:"Imaginary DMG Boost",Lightning_DMG:"Lightning DMG Boost",OHB:"Outgoing Healing Boost",Physical_DMG:"Physical DMG Boost",Quantum_DMG:"Quantum DMG Boost",RES:"Effect RES",SPD_P:"SPD%",SPD:"SPD",Wind_DMG:"Wind DMG Boost"},Wb=[a.HP_P,a.ATK_P,a.DEF_P,a.HP,a.ATK,a.SPD,a.CR,a.CD,a.EHR,a.BE,a.OHB,a.ERR,a.Physical_DMG,a.Fire_DMG,a.Ice_DMG,a.Lightning_DMG,a.Wind_DMG,a.Quantum_DMG,a.Imaginary_DMG],Wo={[a.HP_P]:{5:{base:6.912,increment:2.4192},4:{base:5.5296,increment:1.9354},3:{base:4.1472,increment:1.4515},2:{base:2.7648,increment:.9677}},[a.ATK_P]:{5:{base:6.912,increment:2.4192},4:{base:5.5296,increment:1.9354},3:{base:4.1472,increment:1.4515},2:{base:2.7648,increment:.9677}},[a.DEF_P]:{5:{base:8.64,increment:3.024},4:{base:6.912,increment:2.4192},3:{base:5.184,increment:1.8144},2:{base:3.456,increment:1.2096}},[a.HP]:{5:{base:112.896,increment:39.5136},4:{base:90.3168,increment:31.61088},3:{base:67.7376,increment:23.70816},2:{base:45.1584,increment:15.80544}},[a.ATK]:{5:{base:56.448,increment:19.7568},4:{base:45.1584,increment:15.80544},3:{base:33.8688,increment:11.85408},2:{base:22.5792,increment:7.90272}},[a.SPD]:{5:{base:4.032,increment:1.4},4:{base:3.226,increment:1.1},3:{base:2.419,increment:1},2:{base:1.613,increment:1}},[a.CR]:{5:{base:5.184,increment:1.8144},4:{base:4.1472,increment:1.4515},3:{base:3.1104,increment:1.0886},2:{base:2.0736,increment:.7258}},[a.CD]:{5:{base:10.368,increment:3.6288},4:{base:8.2944,increment:2.903},3:{base:6.2208,increment:2.1773},2:{base:4.1472,increment:1.4515}},[a.EHR]:{5:{base:6.912,increment:2.4192},4:{base:5.5296,increment:1.9354},3:{base:4.1472,increment:1.4515},2:{base:2.7648,increment:.9677}},[a.BE]:{5:{base:10.368,increment:3.6288},4:{base:8.2944,increment:2.903},3:{base:6.2208,increment:2.1773},2:{base:4.1472,increment:1.4515}},[a.ERR]:{5:{base:3.1104,increment:1.0886},4:{base:2.4883,increment:.8709},3:{base:1.8662,increment:.6532},2:{base:1.2442,increment:.4355}},[a.OHB]:{5:{base:5.5296,increment:1.9354},4:{base:4.4237,increment:1.5483},3:{base:3.3178,increment:1.1612},2:{base:2.2118,increment:.7741}},[a.Physical_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[a.Fire_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[a.Ice_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[a.Lightning_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[a.Wind_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[a.Quantum_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[a.Imaginary_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}}},qt=[a.HP_P,a.ATK_P,a.DEF_P,a.HP,a.ATK,a.DEF,a.SPD,a.CR,a.CD,a.EHR,a.RES,a.BE],ge={[a.SPD]:{5:{high:2.6,mid:2.3,low:2},4:{high:2,mid:1.8,low:1.6},3:{high:1.4,mid:1.3,low:1.2},2:{high:1.2,mid:1.1,low:1}},[a.HP]:{5:{high:42.33751,mid:38.103755,low:33.87},4:{high:33.87,mid:30.483,low:27.096},3:{high:25.402506,mid:22.862253,low:20.322},2:{high:16.935,mid:15.2415,low:13.548}},[a.ATK]:{5:{high:21.168754,mid:19.051877,low:16.935},4:{high:16.935,mid:15.2415,low:13.548},3:{high:10.161,mid:11.431126,low:12.701252},2:{high:8.4675,mid:7.62075,low:6.774}},[a.DEF]:{5:{high:21.168754,mid:19.051877,low:16.935},4:{high:16.935,mid:15.2415,low:13.548},3:{high:10.161,mid:11.431126,low:12.701252},2:{high:8.4675,mid:7.62075,low:6.774}},[a.HP_P]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[a.ATK_P]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[a.DEF_P]:{5:{high:5.4,mid:4.86,low:4.32},4:{high:4.32,mid:3.888,low:3.456},3:{high:2.592,mid:2.916,low:3.24},2:{high:2.16,mid:1.944,low:1.728}},[a.BE]:{5:{high:6.48,mid:5.832,low:5.184},4:{high:5.184,mid:4.6656,low:4.1472},3:{high:3.888,mid:3.4992,low:3.1104},2:{high:2.592,mid:2.3328,low:2.0736}},[a.EHR]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[a.RES]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[a.CR]:{5:{high:3.24,mid:2.916,low:2.592},4:{high:2.592,mid:2.3328,low:2.0736},3:{high:1.5552,mid:1.7496,low:1.944},2:{high:1.296,mid:1.1664,low:1.0368}},[a.CD]:{5:{high:6.48,mid:5.832,low:5.184},4:{high:5.184,mid:4.6656,low:4.1472},3:{high:3.888,mid:3.4992,low:3.1104},2:{high:2.592,mid:2.3328,low:2.0736}}},Mb={[a.HP_P]:"HP %",[a.ATK_P]:"ATK %",[a.DEF_P]:"DEF %",[a.SPD_P]:"SPD %",[a.HP]:"HP",[a.ATK]:"ATK",[a.DEF]:"DEF",[a.SPD]:"SPD",[a.CR]:"CRIT Rate",[a.CD]:"CRIT DMG",[a.EHR]:"Effect HIT",[a.RES]:"Effect RES",[a.BE]:"Break Effect",[a.ERR]:"Energy Regen",[a.OHB]:"Healing Boost",[a.Physical_DMG]:"Physical DMG",[a.Fire_DMG]:"Fire DMG",[a.Ice_DMG]:"Ice DMG",[a.Lightning_DMG]:"Lightning DMG",[a.Wind_DMG]:"Wind DMG",[a.Quantum_DMG]:"Quantum DMG",[a.Imaginary_DMG]:"Imaginary DMG"};a.HP_P+"",a.ATK_P+"",a.DEF_P+"",a.SPD_P+"",a.HP+"",a.ATK+"",a.DEF+"",a.SPD+"",a.CR+"",a.CD+"",a.EHR+"",a.RES+"",a.BE+"",a.ERR+"",a.OHB+"",a.Physical_DMG+"",a.Fire_DMG+"",a.Ice_DMG+"",a.Lightning_DMG+"",a.Wind_DMG+"",a.Quantum_DMG+"",a.Imaginary_DMG+"";a.HP_P+"",a.ATK_P+"",a.DEF_P+"",a.SPD_P+"",a.HP+"",a.ATK+"",a.DEF+"",a.SPD+"",a.CR+"",a.CD+"",a.EHR+"",a.RES+"",a.BE+"",a.ERR+"",a.OHB+"",a.Physical_DMG+"",a.Fire_DMG+"",a.Ice_DMG+"",a.Lightning_DMG+"",a.Wind_DMG+"",a.Quantum_DMG+"",a.Imaginary_DMG+"";a.HP_P+"",a.ATK_P+"",a.DEF_P+"",a.SPD_P+"",a.HP+"",a.ATK+"",a.DEF+"",a.SPD+"",a.CR+"",a.CD+"",a.EHR+"",a.RES+"",a.BE+"",a.ERR+"",a.OHB+"",a.Physical_DMG+"",a.Fire_DMG+"",a.Ice_DMG+"",a.Lightning_DMG+"",a.Wind_DMG+"",a.Quantum_DMG+"",a.Imaginary_DMG+"";const f={Head:"Head",Hands:"Hands",Body:"Body",Feet:"Feet",PlanarSphere:"PlanarSphere",LinkRope:"LinkRope"},Lb={[f.Head]:"Head",[f.Hands]:"Hands",[f.Body]:"Body",[f.Feet]:"Feet",[f.PlanarSphere]:"Sphere",[f.LinkRope]:"Rope"},a0={[f.Head]:[a.HP],[f.Hands]:[a.ATK],[f.Body]:[a.HP_P,a.ATK_P,a.DEF_P,a.CR,a.CD,a.OHB,a.EHR],[f.Feet]:[a.HP_P,a.ATK_P,a.DEF_P,a.SPD],[f.PlanarSphere]:[a.HP_P,a.ATK_P,a.DEF_P,a.Physical_DMG,a.Fire_DMG,a.Ice_DMG,a.Lightning_DMG,a.Wind_DMG,a.Quantum_DMG,a.Imaginary_DMG],[f.LinkRope]:[a.HP_P,a.ATK_P,a.DEF_P,a.BE,a.ERR]},$n={PasserbyOfWanderingCloud:"Passerby of Wandering Cloud",MusketeerOfWildWheat:"Musketeer of Wild Wheat",KnightOfPurityPalace:"Knight of Purity Palace",HunterOfGlacialForest:"Hunter of Glacial Forest",ChampionOfStreetwiseBoxing:"Champion of Streetwise Boxing",GuardOfWutheringSnow:"Guard of Wuthering Snow",FiresmithOfLavaForging:"Firesmith of Lava-Forging",GeniusOfBrilliantStars:"Genius of Brilliant Stars",BandOfSizzlingThunder:"Band of Sizzling Thunder",EagleOfTwilightLine:"Eagle of Twilight Line",ThiefOfShootingMeteor:"Thief of Shooting Meteor",WastelanderOfBanditryDesert:"Wastelander of Banditry Desert",LongevousDisciple:"Longevous Disciple",MessengerTraversingHackerspace:"Messenger Traversing Hackerspace",TheAshblazingGrandDuke:"The Ashblazing Grand Duke",PrisonerInDeepConfinement:"Prisoner in Deep Confinement",PioneerDiverOfDeadWaters:"Pioneer Diver of Dead Waters",WatchmakerMasterOfDreamMachinations:"Watchmaker, Master of Dream Machinations",IronCavalryAgainstTheScourge:"Iron Cavalry Against the Scourge",TheWindSoaringValorous:"The Wind-Soaring Valorous",SacerdosRelivedOrdeal:"Sacerdos' Relived Ordeal",ScholarLostInErudition:"Scholar Lost in Erudition",HeroOfTriumphantSong:"Hero of Triumphant Song",PoetOfMourningCollapse:"Poet of Mourning Collapse"},qn={SpaceSealingStation:"Space Sealing Station",FleetOfTheAgeless:"Fleet of the Ageless",PanCosmicCommercialEnterprise:"Pan-Cosmic Commercial Enterprise",BelobogOfTheArchitects:"Belobog of the Architects",CelestialDifferentiator:"Celestial Differentiator",InertSalsotto:"Inert Salsotto",TaliaKingdomOfBanditry:"Talia: Kingdom of Banditry",SprightlyVonwacq:"Sprightly Vonwacq",RutilantArena:"Rutilant Arena",BrokenKeel:"Broken Keel",FirmamentFrontlineGlamoth:"Firmament Frontline: Glamoth",PenaconyLandOfTheDreams:"Penacony, Land of the Dreams",SigoniaTheUnclaimedDesolation:"Sigonia, the Unclaimed Desolation",IzumoGenseiAndTakamaDivineRealm:"Izumo Gensei and Takama Divine Realm",DuranDynastyOfRunningWolves:"Duran, Dynasty of Running Wolves",ForgeOfTheKalpagniLantern:"Forge of the Kalpagni Lantern",LushakaTheSunkenSeas:"Lushaka, the Sunken Seas",TheWondrousBananAmusementPark:"The Wondrous BananAmusement Park",BoneCollectionsSereneDemesne:"Bone Collection's Serene Demesne",GiantTreeOfRaptBrooding:"Giant Tree of Rapt Brooding"},xi={},g={...$n,...qn},_a=Object.values($n),Qa=Object.values(qn),Un={};for(let e=0;e<Qa.length;e++)Un[Qa[e]]=e;const Ia={};for(let e=0;e<_a.length;e++)Ia[_a[e]]=e;const ni=Object.values($n).length,Vb=Object.values(qn).length,Xi={Abundance:"Abundance",Destruction:"Destruction",Erudition:"Erudition",Harmony:"Harmony",Hunt:"Hunt",Nihility:"Nihility",Preservation:"Preservation",Remembrance:"Remembrance"},er={Physical:"Physical",Quantum:"Quantum",Imaginary:"Imaginary",Ice:"Ice",Wind:"Wind",Fire:"Fire",Lightning:"Lightning"},ei={Physical:a.Physical_DMG,Fire:a.Fire_DMG,Ice:a.Ice_DMG,Lightning:a.Lightning_DMG,Wind:a.Wind_DMG,Quantum:a.Quantum_DMG,Imaginary:a.Imaginary_DMG},un={Physical:"PHYSICAL_RES_PEN",Fire:"FIRE_RES_PEN",Ice:"ICE_RES_PEN",Lightning:"LIGHTNING_RES_PEN",Wind:"WIND_RES_PEN",Quantum:"QUANTUM_RES_PEN",Imaginary:"IMAGINARY_RES_PEN"},m={Sets:g,Parts:f,Stats:a,MainStats:Wb,MainStatsValues:Wo,SubStats:qt,SetsOrnaments:qn,SetsRelics:$n,SetsRelicsNames:_a,SetsOrnamentsNames:Qa,StatsToReadable:Mb,PartsToReadable:Lb,PartsMainStats:a0,RelicSetToIndex:Ia,OrnamentSetToIndex:Un,MAX_INT:2147483647,THREAD_BUFFER_LENGTH:15e4},pa={relic4Piece:"4 Piece",relic2Plus2Piece:"2 + 2 Piece",relic2PlusAny:"2 + Any"},ys="combat",yl="summoner",Zl={ATK:{title:"ATK",key:"ATK",percent:!1},ATK_P:{title:"ATK %",key:"ATK_P",percent:!0},HP:{title:"HP",key:"HP",percent:!1},HP_P:{title:"HP %",key:"HP_P",percent:!0},DEF:{title:"DEF",key:"DEF",percent:!1},DEF_P:{title:"DEF %",key:"DEF_P",percent:!0},CR:{title:"Crit Rate %",key:"CR",percent:!0},CD:{title:"Crit Dmg %",key:"CD",percent:!0},SPD:{title:"SPD",key:"SPD",percent:!1},SPD_P:{title:"SPD %",key:"SPD_P",percent:!0},BE:{title:"BE %",key:"BE",percent:!0},DMG_BOOST:{title:"Dmg Boost %",key:"DMG_BOOST",percent:!0},DEF_PEN:{title:"Def Pen %",key:"DEF_PEN",percent:!0},RES_PEN:{title:"Dmg RES PEN %",key:"RES_PEN",percent:!0},EFFECT_RES_PEN:{title:"Effect RES PEN %",key:"EFFECT_RES_PEN",percent:!0},VULNERABILITY:{title:"Vulnerability %",key:"VULNERABILITY",percent:!0},BREAK_EFFICIENCY:{title:"Break Efficiency %",key:"BREAK_EFFICIENCY",percent:!0}},ot={[g.PasserbyOfWanderingCloud]:"101",[g.MusketeerOfWildWheat]:"102",[g.KnightOfPurityPalace]:"103",[g.HunterOfGlacialForest]:"104",[g.ChampionOfStreetwiseBoxing]:"105",[g.GuardOfWutheringSnow]:"106",[g.FiresmithOfLavaForging]:"107",[g.GeniusOfBrilliantStars]:"108",[g.BandOfSizzlingThunder]:"109",[g.EagleOfTwilightLine]:"110",[g.ThiefOfShootingMeteor]:"111",[g.WastelanderOfBanditryDesert]:"112",[g.LongevousDisciple]:"113",[g.MessengerTraversingHackerspace]:"114",[g.TheAshblazingGrandDuke]:"115",[g.PrisonerInDeepConfinement]:"116",[g.PioneerDiverOfDeadWaters]:"117",[g.WatchmakerMasterOfDreamMachinations]:"118",[g.IronCavalryAgainstTheScourge]:"119",[g.TheWindSoaringValorous]:"120",[g.SacerdosRelivedOrdeal]:"121",[g.ScholarLostInErudition]:"122",[g.HeroOfTriumphantSong]:"123",[g.PoetOfMourningCollapse]:"124",[g.SpaceSealingStation]:"301",[g.FleetOfTheAgeless]:"302",[g.PanCosmicCommercialEnterprise]:"303",[g.BelobogOfTheArchitects]:"304",[g.CelestialDifferentiator]:"305",[g.InertSalsotto]:"306",[g.TaliaKingdomOfBanditry]:"307",[g.SprightlyVonwacq]:"308",[g.RutilantArena]:"309",[g.BrokenKeel]:"310",[g.FirmamentFrontlineGlamoth]:"311",[g.PenaconyLandOfTheDreams]:"312",[g.SigoniaTheUnclaimedDesolation]:"313",[g.IzumoGenseiAndTakamaDivineRealm]:"314",[g.DuranDynastyOfRunningWolves]:"315",[g.ForgeOfTheKalpagniLantern]:"316",[g.LushakaTheSunkenSeas]:"317",[g.TheWondrousBananAmusementPark]:"318",[g.BoneCollectionsSereneDemesne]:"319",[g.GiantTreeOfRaptBrooding]:"320"},as="Default",Gi="Custom",tr="Settings",Wi="Combat Simulation Score",ns="Character Score",za="None",n0="Damage Upgrades",i0="Combat Stats",Da="CPU",Mi="GPU Stable",Li="GPU Experimental",ps="Sacerdos' Relived Ordeal 1x",Ss="Sacerdos' Relived Ordeal 2x",Ra={SET:0,ABILITY:1},ea={SINGLE:0,CONTINUOUS:1};var ce=(e=>(e.BOOLEAN="boolean",e.NUMBER="number",e.SELECT="select",e))(ce||{}),Rt=(e=>(e.AUTO="AUTO",e.CUSTOM="CUSTOM",e.STANDARD="STANDARD",e))(Rt||{});const Pb="modulepreload",Fb=function(e){return"/dreary-quibbles/"+e},ar={},re=function(t,n,l){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),c=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.allSettled(n.map(d=>{if(d=Fb(d),d in ar)return;ar[d]=!0;const u=d.endsWith(".css"),b=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${b}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Pb,u||(p.as="script"),p.crossOrigin="",p.href=d,c&&p.setAttribute("nonce",c),document.head.appendChild(p),u)return new Promise((R,G)=>{p.addEventListener("load",R),p.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(r){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=r,window.dispatchEvent(c),!c.defaultPrevented)throw r}return s.then(r=>{for(const c of r||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})},Bb={1001:()=>re(()=>import("./March7th-DVnQiPPp.js"),__vite__mapDeps([0,1,2])),1002:()=>re(()=>import("./DanHeng-BZ5h8-Ik.js"),__vite__mapDeps([3,2])),1003:()=>re(()=>import("./Himeko-Cmc0o24P.js"),__vite__mapDeps([4,1,2])),1004:()=>re(()=>import("./Welt-DwFq6NYX.js"),__vite__mapDeps([5,1,2])),1005:()=>re(()=>import("./Kafka-BYt3KEy5.js"),__vite__mapDeps([6,1,2])),1006:()=>re(()=>import("./SilverWolf-DirH4gNx.js"),__vite__mapDeps([7,1,2])),1008:()=>re(()=>import("./Arlan-CP55c10d.js"),__vite__mapDeps([8,2])),1009:()=>re(()=>import("./Asta-BBcVW-Ee.js"),__vite__mapDeps([9,2])),1013:()=>re(()=>import("./Herta-DXEUJljC.js"),__vite__mapDeps([10,1,2])),1101:()=>re(()=>import("./Bronya-B3NweLvm.js"),__vite__mapDeps([11,1,2])),1102:()=>re(()=>import("./Seele-DJhbABmH.js"),__vite__mapDeps([12,1,2])),1103:()=>re(()=>import("./Serval-Ckz4YHci.js"),__vite__mapDeps([13,1,2])),1104:()=>re(()=>import("./Gepard-DlnpYOq3.js"),__vite__mapDeps([14,1,2])),1105:()=>re(()=>import("./Natasha-BZ0mebbZ.js"),__vite__mapDeps([15,1,2])),1106:()=>re(()=>import("./Pela-Cw2Il8fq.js"),__vite__mapDeps([16,1,2])),1107:()=>re(()=>import("./Clara-CCEI3roK.js"),__vite__mapDeps([17,1,2])),1108:()=>re(()=>import("./Sampo-BxWkoO0m.js"),__vite__mapDeps([18,2])),1109:()=>re(()=>import("./Hook-92TpFeqU.js"),__vite__mapDeps([19,1,2])),1110:()=>re(()=>import("./Lynx--qOWCipK.js"),__vite__mapDeps([20,1,2])),1111:()=>re(()=>import("./Luka-C9veEUgE.js"),__vite__mapDeps([21,2])),1112:()=>re(()=>import("./Topaz-C4YCY0QD.js"),__vite__mapDeps([22,2])),1201:()=>re(()=>import("./Qingque-TiBsaMv5.js"),__vite__mapDeps([23,1,2])),1202:()=>re(()=>import("./Tingyun-CikkOX5Y.js"),__vite__mapDeps([24,1,2])),1203:()=>re(()=>import("./Luocha-GmokNBG9.js"),__vite__mapDeps([25,1,2])),1204:()=>re(()=>import("./JingYuan-CcbUhT4C.js"),__vite__mapDeps([26,1,2])),1205:()=>re(()=>import("./Blade-H5QddvTm.js"),__vite__mapDeps([27,1,2])),1206:()=>re(()=>import("./Sushang-C_uH49ej.js"),__vite__mapDeps([28,1,2])),1207:()=>re(()=>import("./Yukong-BoIi44u-.js"),__vite__mapDeps([29,2])),1208:()=>re(()=>import("./FuXuan-DtK5Rglu.js"),__vite__mapDeps([30,1,2])),1209:()=>re(()=>import("./Yanqing-DsEwncgL.js"),__vite__mapDeps([31,1,2])),1210:()=>re(()=>import("./Guinaifen-DC0qTT1v.js"),__vite__mapDeps([32,2])),1211:()=>re(()=>import("./Bailu-DzYoFFkN.js"),__vite__mapDeps([33,1,2])),1212:()=>re(()=>import("./Jingliu-B25F4U4m.js"),__vite__mapDeps([34,2])),1213:()=>re(()=>import("./ImbibitorLunae-DUL4xWY7.js"),__vite__mapDeps([35,2])),1214:()=>re(()=>import("./Xueyi-Ba1FdANg.js"),__vite__mapDeps([36,1,2])),1215:()=>re(()=>import("./Hanya-B2Ab89a8.js"),__vite__mapDeps([37,2])),1217:()=>re(()=>import("./Huohuo-CxP3JjS8.js"),__vite__mapDeps([38,1,2])),1218:()=>re(()=>import("./Jiaoqiu-DmjMNy4j.js"),__vite__mapDeps([39,2])),1220:()=>re(()=>import("./Feixiao-Bg69609P.js"),__vite__mapDeps([40,2])),1221:()=>re(()=>import("./Yunli-DG9aL-iW.js"),__vite__mapDeps([41,1,2])),1222:()=>re(()=>import("./Lingsha-BcVeTxqk.js"),__vite__mapDeps([42,1,2])),1223:()=>re(()=>import("./Moze-Bce73C38.js"),__vite__mapDeps([43,1,2])),1224:()=>re(()=>import("./March7thImaginary-DBS6m_sj.js"),__vite__mapDeps([44,1,2])),1225:()=>re(()=>import("./Fugue-CJANrzjL.js"),__vite__mapDeps([45,2])),1301:()=>re(()=>import("./Gallagher-DBAG3-GE.js"),__vite__mapDeps([46,1,2])),1302:()=>re(()=>import("./Argenti-DK_RrPNm.js"),__vite__mapDeps([47,2])),1303:()=>re(()=>import("./RuanMei-Ds4Eleuu.js"),__vite__mapDeps([48,2])),1304:()=>re(()=>import("./Aventurine-C6gIS6u0.js"),__vite__mapDeps([49,1,2])),1305:()=>re(()=>import("./DrRatio-5J9L4_uJ.js"),__vite__mapDeps([50,1,2])),1306:()=>re(()=>import("./Sparkle-B7yiBHTi.js"),__vite__mapDeps([51,2])),1307:()=>re(()=>import("./BlackSwan-4Uq79qwx.js"),__vite__mapDeps([52,2])),1308:()=>re(()=>import("./Acheron-DV-VQ7-N.js"),__vite__mapDeps([53,2])),1309:()=>re(()=>import("./Robin-CD0QtkQ4.js"),__vite__mapDeps([54,1,2])),1310:()=>re(()=>import("./Firefly-BRl_vUKK.js"),__vite__mapDeps([55,2])),1312:()=>re(()=>import("./Misha-BvkmWx5J.js"),__vite__mapDeps([56,2])),1313:()=>re(()=>import("./Sunday-GcQJKlvx.js"),__vite__mapDeps([57,2])),1314:()=>re(()=>import("./Jade-B3zeiMaH.js"),__vite__mapDeps([58,1,2])),1315:()=>re(()=>import("./Boothill-CHNOiBly.js"),__vite__mapDeps([59,2])),1317:()=>re(()=>import("./Rappa-SqNG-Q7W.js"),__vite__mapDeps([60,2])),1401:()=>re(()=>import("./TheHerta-CmnPt7pb.js"),__vite__mapDeps([61,2])),1402:()=>re(()=>import("./Aglaea-BjihDzsm.js"),__vite__mapDeps([62,1,2])),1403:()=>re(()=>import("./Tribbie-D2dvWiJI.js"),__vite__mapDeps([63,1,2])),1404:()=>re(()=>import("./Mydei-CsZbnCaj.js"),__vite__mapDeps([64,2])),1405:()=>re(()=>import("./Anaxa-BMSxwBud.js"),__vite__mapDeps([65,2])),1407:()=>re(()=>import("./Castorice-Be30DI8c.js"),__vite__mapDeps([66,2])),8001:()=>re(()=>import("./TrailblazerDestruction-IUlAT2uI.js"),__vite__mapDeps([67,2])),8002:()=>re(()=>import("./TrailblazerDestruction-IUlAT2uI.js"),__vite__mapDeps([67,2])),8003:()=>re(()=>import("./TrailblazerPreservation-B3w2qrxU.js"),__vite__mapDeps([68,1,2])),8004:()=>re(()=>import("./TrailblazerPreservation-B3w2qrxU.js"),__vite__mapDeps([68,1,2])),8005:()=>re(()=>import("./TrailblazerHarmony-B69Uql_O.js"),__vite__mapDeps([69,2])),8006:()=>re(()=>import("./TrailblazerHarmony-B69Uql_O.js"),__vite__mapDeps([69,2])),8007:()=>re(()=>import("./TrailblazerRemembrance-Dp2BvH4H.js"),__vite__mapDeps([70,2])),8008:()=>re(()=>import("./TrailblazerRemembrance-Dp2BvH4H.js"),__vite__mapDeps([70,2]))},gi=new Map;async function Hb(e){const t=e.map(async n=>{if(!gi.has(n)){const l=Bb[n];if(!l)throw new Error(`No character found for ID: ${n}`);const s=await l();return gi.set(n,s.default),s.default}return Promise.resolve(gi.get(n))});return await Promise.all(t),e.map(n=>gi.get(n))}const ta={get(e,t=!1){const{characterId:n,characterEidolon:l}=e;if(!gi.has(n))throw new Error(`Character ${n} not preloaded.`);return gi.get(n)(l,t)}};var Ue=(e=>(e.optimizerCharacterId="optimizerCharacterId",e.relicScorerSidebarOpen="relicScorerSidebarOpen",e.scoringType="scoringType",e.combatScoreDetails="combatScoreDetails",e.computeEngine="computeEngine",e.showcaseStandardMode="showcaseStandardMode",e.showcaseDarkMode="showcaseDarkMode",e.showcaseUID="showcaseUID",e.showcasePreciseSpd="showcasePreciseSpd",e))(Ue||{});const y={clone(e){return e&&JSON.parse(JSON.stringify(e))},objectHash(e){return zc(e)},sumArray:e=>e.reduce((t,n)=>t+n,0),precisionRound:(e,t=5)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},calculateRelicMainStatValue:(e,t,n)=>m.MainStatsValues[e][t].base+m.MainStatsValues[e][t].increment*n,wrappedFixedT:e=>({get:e?v.getFixedT:vb}),flipStringMapping:e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[n,t])),uuid:()=>Io(),uuidAlphaOnly:()=>Io().replace(/[^a-zA-Z0-9]/g,""),stripTrailingSlashes:e=>e.replace(/\/+$/,""),sleep:e=>new Promise(t=>setTimeout(t,e)),consoleWarnWrapper:e=>{e instanceof Error?console.warn(e.name,e.message):console.warn("An unknown error occurred",e)},validateUuid:e=>{const t=e.trim();return/^\d{9}$/.test(t)?t:null},smoothScrollNearest:(e,t=300)=>{const n=e.getBoundingClientRect(),l=document.documentElement||document.body,s=l.scrollTop,o=n.top+s,r=n.bottom+s,c=l.clientHeight;let d;if(n.top<0)d=o;else if(n.bottom>c)d=r-c+5;else return;const u=performance.now(),b=s,p=d-b;function R(G){const T=G-u,C=Math.min(T/t,1),D=C<.5?2*C*C:1-Math.pow(-2*C+2,2)/2;l.scrollTo(0,b+p*D),T<t&&requestAnimationFrame(R)}requestAnimationFrame(R)}},vb=()=>()=>"",_={success:(e,t=3)=>{const n=y.uuid();console.log("Success message:",e),window.messageApi.open({key:n,type:"success",content:e||"",duration:t,onClick:()=>window.messageApi.destroy(n)})},error:(e,t=3)=>{const n=y.uuid();console.warn("Error message:",e),window.messageApi.open({key:n,type:"error",content:e||"",duration:t,onClick:()=>window.messageApi.destroy(n)})},warning:(e,t=3)=>{const n=y.uuid();console.warn("Warning message:",e),window.messageApi.open({key:n,type:"warning",content:e||"",duration:t,onClick:()=>window.messageApi.destroy(n)})}};var Qt=(e=>(e.PRIMARY="PRIMARY",e.CHARACTER="CHARACTER",e.LIGHTCONE="LIGHTCONE",e.SETS="SETS",e.BASIC_STATS="BASIC_STATS",e.COMBAT_STATS="COMBAT_STATS",e.NONE="NONE",e))(Qt||{});const Xb=Object.fromEntries(Object.entries(g).map(([e,t])=>[e,{id:e,label:t,buffType:"SETS",ability:"SETS"}])),L={character(e){function t(n){return{id:e,label:`${e}_${n}`,ability:n,buffType:"CHARACTER"}}return{SOURCE_BASIC:t("Basic"),SOURCE_SKILL:t("Skill"),SOURCE_ULT:t("Ult"),SOURCE_TALENT:t("Talent"),SOURCE_TECHNIQUE:t("Technique"),SOURCE_TRACE:t("Trace"),SOURCE_MEMO:t("Memo"),SOURCE_E1:t("E1"),SOURCE_E2:t("E2"),SOURCE_E4:t("E4"),SOURCE_E6:t("E6")}},lightCone(e){return{SOURCE_LC:{id:e,label:`${e}_LC`,ability:"LC",buffType:"LIGHTCONE"}}},NONE:{id:"NONE",label:"NONE",buffType:"NONE",ability:"NONE"},...Xb},kb=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.Adversarial"),{SOURCE_LC:l}=L.lightCone("20014"),s=[.1,.12,.14,.16,.18],o={defeatedEnemySpdBuff:!0},r={defeatedEnemySpdBuff:{lc:!0,id:"defeatedEnemySpdBuff",formItem:"switch",text:n("Content.defeatedEnemySpdBuff.text"),content:n("Content.defeatedEnemySpdBuff.content",{SpdBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.SPD_P.buff(b.defeatedEnemySpdBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},Yb=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.Amber"),{SOURCE_LC:l}=L.lightCone("20003"),s=[.16,.2,.24,.28,.32],o={hp50DefBuff:!0},r={hp50DefBuff:{lc:!0,id:"hp50DefBuff",formItem:"switch",text:n("Content.hp50DefBuff.text"),content:n("Content.hp50DefBuff.content",{DefBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.DEF_P.buff(b.hp50DefBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},wb=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.Arrows"),{SOURCE_LC:l}=L.lightCone("20000"),s=[.12,.15,.18,.21,.24],o={critBuff:!0},r={critBuff:{lc:!0,id:"critBuff",formItem:"switch",text:n("Content.critBuff.text"),content:n("Content.critBuff.content",{CritBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.CR.buff(b.critBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},Nb=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.Chorus"),{SOURCE_LC:l}=L.lightCone("20005"),s=[.08,.09,.1,.11,.12],o={inBattleAtkBuff:!0},r={inBattleAtkBuff:{lc:!0,id:"inBattleAtkBuff",formItem:"switch",text:n("Content.inBattleAtkBuff.text"),content:n("Content.inBattleAtkBuff.content",{AtkBuff:y.precisionRound(100*s[e])})}},c={inBattleAtkBuff:r.inBattleAtkBuff};return{content:()=>Object.values(r),teammateContent:()=>Object.values(c),defaults:()=>o,teammateDefaults:()=>({inBattleAtkBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(d,u,b)=>{const p=u.lightConeConditionals;d.ATK_P.buffTeam(p.inBattleAtkBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},UZ=.06,KZ=0;var kt=(e=>(e[e.BASIC=1]="BASIC",e[e.SKILL=2]="SKILL",e[e.ULT=4]="ULT",e[e.FUA=8]="FUA",e[e.DOT=16]="DOT",e[e.BREAK=32]="BREAK",e[e.MEMO_SKILL=64]="MEMO_SKILL",e[e.MEMO_TALENT=128]="MEMO_TALENT",e))(kt||{});const gn=1,wt=2,Mt=4,Sa=8,Cl=16,Rs=32,Td=64,nr=128,Ob=256,Ub=1,Kb=2,Jb=4,Ab=8,jb=64,zb=128,JZ=0,AZ=1;function st(e,t){const n=" ".repeat(t*2);return e.split(`
`).map(l=>n+l).join(`
`)}function ki(e){return e?"true":"false"}function jZ(e){return e?"false":"true"}function _b(e,t){return e.teammateIndex===0?t.teammate0:e.teammateIndex===1?t.teammate1:t.teammate2}function At(e,t,n,l){let s;if(e.teammateIndex!=null){const o=_b(e,n);s={...n,teammateCharacterConditionals:o.characterConditionals,teammateLightConeConditionals:o.lightConeConditionals}}else s=n;e.activation==ea.SINGLE?!n.conditionalState[e.id]&&e.condition(t,s,l)&&(n.conditionalState[e.id]=1,e.effect(t,s,l)):e.activation==ea.CONTINUOUS&&e.condition(t,s,l)&&e.effect(t,s,l)}function fa(e,t){return`
fn evaluate${e.id}(p_x: ptr<function, ComputedStats>, p_m: ptr<function, ComputedStats>, p_sets: ptr<function, Sets>, p_state: ptr<function, ConditionalState>) {
  let x = *p_x;
${st(t.trim(),1)}
}
  `}const yd={HP_P:0,ATK_P:0,DEF_P:0,SPD_P:0,HP:1e-8,ATK:1e-8,DEF:1e-8,SPD:1e-8,CR:1e-8,CD:1e-8,EHR:1e-8,RES:1e-8,BE:1e-8,ERR:1e-8,OHB:1e-8,PHYSICAL_DMG_BOOST:1e-8,FIRE_DMG_BOOST:1e-8,ICE_DMG_BOOST:1e-8,LIGHTNING_DMG_BOOST:1e-8,WIND_DMG_BOOST:1e-8,QUANTUM_DMG_BOOST:1e-8,IMAGINARY_DMG_BOOST:1e-8,ELEMENTAL_DMG:1e-8};function Zd(){return Float32Array.from(Object.values(yd))}const Qb=Zd();class $a{constructor(t=!1,n=!1){Ae(this,"a",Zd());Ae(this,"m");Ae(this,"buffs");Ae(this,"buffsMemo");Ae(this,"trace");Ae(this,"relicSetIndex");Ae(this,"ornamentSetIndex");Ae(this,"sets");Ae(this,"setsArray");Ae(this,"id");Ae(this,"weight");this.m=n?null:new $a(t,!0,()=>this),this.buffs=[],this.buffsMemo=[],this.trace=t,this.relicSetIndex=0,this.ornamentSetIndex=0,this.sets={},this.setsArray=[],this.id=-1,this.weight=0,Object.keys(yd).forEach((l,s)=>{const o=(r,c)=>this.trace&&this.buffs.push({stat:l,key:s,value:r,source:c});Object.defineProperty(this,l,{value:{buff:(r,c)=>{r!=0&&(this.a[s]+=r,o(r,c))},set:(r,c)=>{this.a[s]=r,o(r,c)},get:()=>this.a[s]},writable:!1,enumerable:!0,configurable:!0}),Object.defineProperty(this,`$${l}`,{get:()=>this.a[s],enumerable:!0,configurable:!0})}),Object.defineProperty(this,"#show",{get:()=>this.toBasicStatsObject(),enumerable:!0,configurable:!0})}init(t,n,l,s,o){this.relicSetIndex=t,this.ornamentSetIndex=n,this.sets=l,this.setsArray=s,this.id=o,this.a.set(Qb),this.trace&&(this.buffs=[],this.buffsMemo=[])}initMemo(){this.m.a.set(this.a),this.trace&&(this.m.buffs=[],this.m.buffsMemo=[])}setWeight(t){this.weight=t}set(t,n,l){this.a[t]=n}get(t){return this.a[t]}toBasicStatsObject(){return Cd(this.a,this.weight,this.relicSetIndex,this.ornamentSetIndex)}}function Cd(e,t=0,n=0,l=0){return{"HP%":e[h.HP_P],"ATK%":e[h.ATK_P],"DEF%":e[h.DEF_P],"SPD%":e[h.SPD_P],HP:e[h.HP],ATK:e[h.ATK],DEF:e[h.DEF],SPD:e[h.SPD],"CRIT Rate":e[h.CR],"CRIT DMG":e[h.CD],"Effect Hit Rate":e[h.EHR],"Effect RES":e[h.RES],"Break Effect":e[h.BE],"Energy Regeneration Rate":e[h.ERR],"Outgoing Healing Boost":e[h.OHB],"Physical DMG Boost":e[h.PHYSICAL_DMG_BOOST],"Fire DMG Boost":e[h.FIRE_DMG_BOOST],"Ice DMG Boost":e[h.ICE_DMG_BOOST],"Lightning DMG Boost":e[h.LIGHTNING_DMG_BOOST],"Wind DMG Boost":e[h.WIND_DMG_BOOST],"Quantum DMG Boost":e[h.QUANTUM_DMG_BOOST],"Imaginary DMG Boost":e[h.IMAGINARY_DMG_BOOST],ELEMENTAL_DMG:e[h.ELEMENTAL_DMG],WEIGHT:t,relicSetIndex:n,ornamentSetIndex:l}}const $b={HP_P:{label:"HP %"},ATK_P:{label:"ATK %"},DEF_P:{label:"DEF %"},SPD_P:{label:"SPD %"},HP:{flat:!0,label:"HP"},ATK:{flat:!0,label:"ATK"},DEF:{flat:!0,label:"DEF"},SPD:{flat:!0,default:1e-4,label:"SPD"},CR:{label:"Crit Rate"},CD:{label:"Crit DMG"},EHR:{label:"Effect Hit Rate"},RES:{label:"Effect RES"},BE:{label:"Break Effect"},ERR:{label:"Energy Regeneration Rate"},OHB:{label:"Outgoing Healing Boost"},PHYSICAL_DMG_BOOST:{label:"Physical DMG Boost"},FIRE_DMG_BOOST:{label:"Fire DMG Boost"},ICE_DMG_BOOST:{label:"Ice DMG Boost"},LIGHTNING_DMG_BOOST:{label:"Thunder DMG Boost"},WIND_DMG_BOOST:{label:"Wind DMG Boost"},QUANTUM_DMG_BOOST:{label:"Quantum DMG Boost"},IMAGINARY_DMG_BOOST:{label:"Imaginary DMG Boost"},ELEMENTAL_DMG:{label:"Elemental DMG"},BASE_HP:{flat:!0,label:"Base HP"},BASE_ATK:{flat:!0,label:"Base ATK"},BASE_DEF:{flat:!0,label:"Base DEF"},BASE_SPD:{flat:!0,label:"Base SPD"},MEMO_BASE_HP_SCALING:{label:"Memosprite base HP scaling"},MEMO_BASE_DEF_SCALING:{label:"Memosprite base DEF scaling"},MEMO_BASE_ATK_SCALING:{label:"Memosprite base ATK scaling"},MEMO_BASE_SPD_SCALING:{label:"Memosprite base SPD scaling"},MEMO_BASE_HP_FLAT:{flat:!0,label:"Memosprite base HP flat"},MEMO_BASE_DEF_FLAT:{flat:!0,label:"Memosprite base DEF flat"},MEMO_BASE_ATK_FLAT:{flat:!0,label:"Memosprite base ATK flat"},MEMO_BASE_SPD_FLAT:{flat:!0,label:"Memosprite base SPD flat"},UNCONVERTIBLE_HP_BUFF:{flat:!0,label:"Unconvertible HP"},UNCONVERTIBLE_ATK_BUFF:{flat:!0,label:"Unconvertible ATK"},UNCONVERTIBLE_DEF_BUFF:{flat:!0,label:"Unconvertible DEF"},UNCONVERTIBLE_SPD_BUFF:{flat:!0,label:"Unconvertible SPD"},UNCONVERTIBLE_CR_BUFF:{label:"Unconvertible Crit Rate"},UNCONVERTIBLE_CD_BUFF:{label:"Unconvertible Crit DMG"},UNCONVERTIBLE_EHR_BUFF:{label:"Unconvertible Effect Hit Rate"},UNCONVERTIBLE_BE_BUFF:{label:"Unconvertible Break Effect"},UNCONVERTIBLE_OHB_BUFF:{label:"Unconvertible Outgoing Healing Boost"},UNCONVERTIBLE_RES_BUFF:{label:"Unconvertible Effect RES"},UNCONVERTIBLE_ERR_BUFF:{label:"Unconvertible Energy Regeneration Rate"},DMG_RED_MULTI:{default:1,label:"DMG reduction"},EHP:{flat:!0,label:"Effective HP"},SUMMONS:{flat:!0,label:"Summons"},MEMOSPRITE:{bool:!0,label:"Memosprite"},ENEMY_WEAKNESS_BROKEN:{bool:!0,label:"Enemy weakness broken"},MEMO_BUFF_PRIORITY:{bool:!0,label:"Prioritize memosprite buffs"},DEPRIORITIZE_BUFFS:{bool:!0,label:"Deprioritize buffs"},COMBO_DMG:{flat:!0,label:"Combo DMG"},DOT_CHANCE:{label:"Dot base chance"},EFFECT_RES_PEN:{label:"Effect RES PEN"},DOT_SPLIT:{label:"Dot DMG split"},DOT_STACKS:{flat:!0,label:"Dot stacks"},HEAL_TYPE:{flat:!0,label:"Heal ability type"},HEAL_FLAT:{flat:!0,label:"Heal flat"},HEAL_SCALING:{label:"Heal scaling"},HEAL_VALUE:{flat:!0,label:"Heal value"},SHIELD_FLAT:{flat:!0,label:"Shield flat"},SHIELD_SCALING:{label:"Shield scaling"},SHIELD_VALUE:{flat:!0,label:"Shield value"},SHIELD_BOOST:{label:"Shield boost"},SKILL_OHB:{label:"Skill Outgoing Healing Boost"},ULT_OHB:{label:"Ult Outgoing Healing Boost"},PHYSICAL_RES_PEN:{label:"Physical RES PEN"},FIRE_RES_PEN:{label:"Fire RES PEN"},ICE_RES_PEN:{label:"Ice RES PEN"},LIGHTNING_RES_PEN:{label:"Lightning RES PEN"},WIND_RES_PEN:{label:"Wind RES PEN"},QUANTUM_RES_PEN:{label:"Quantum RES PEN"},IMAGINARY_RES_PEN:{label:"Imaginary RES PEN"},SUPER_BREAK_DEF_PEN:{label:"Super Break DEF PEN"},SUPER_BREAK_DMG_BOOST:{label:"Super Break DMG Boost"},SUPER_BREAK_VULNERABILITY:{label:"Super Break Vulnerability"},ADDITIONAL_DMG_BOOST:{label:"Additional DMG boost"},ULT_ADDITIONAL_DMG_CR_OVERRIDE:{label:"Ult Additional DMG CR override"},ULT_ADDITIONAL_DMG_CD_OVERRIDE:{label:"Ult Additional DMG CD override"},BASIC_DMG_TYPE:{flat:!0,default:gn,label:"Basic DMG type"},SKILL_DMG_TYPE:{flat:!0,default:wt,label:"Skill DMG type"},ULT_DMG_TYPE:{flat:!0,default:Mt,label:"Ult DMG type"},FUA_DMG_TYPE:{flat:!0,default:Sa,label:"Fua DMG type"},DOT_DMG_TYPE:{flat:!0,default:Cl,label:"Dot DMG type"},BREAK_DMG_TYPE:{flat:!0,default:Rs,label:"Break DMG type"},MEMO_SKILL_DMG_TYPE:{flat:!0,default:nr,label:"Memo Skill DMG type"},MEMO_TALENT_DMG_TYPE:{flat:!0,default:nr,label:"Memo Talent DMG type"},ADDITIONAL_DMG_TYPE:{flat:!0,default:Ob,label:"Additional DMG type"},SUPER_BREAK_DMG_TYPE:{flat:!0,default:Rs|Td,label:"Super Break DMG type"}},ir={ATK_SCALING:{separated:!0,label:"ATK scaling"},DEF_SCALING:{separated:!0,label:"DEF scaling"},HP_SCALING:{separated:!0,label:"HP scaling"},SPECIAL_SCALING:{separated:!0,label:"Special scaling"},ATK_P_BOOST:{label:"ATK % boost"},CR_BOOST:{label:"Crit Rate boost"},CD_BOOST:{label:"Crit DMG boost"},DMG_BOOST:{separated:!0,label:"DMG boost"},VULNERABILITY:{label:"Vulnerability"},RES_PEN:{label:"RES PEN"},DEF_PEN:{label:"DEF PEN"},BREAK_DEF_PEN:{label:"Break DEF PEN"},TOUGHNESS_DMG:{flat:!0,separated:!0,label:"Toughness DMG"},SUPER_BREAK_MODIFIER:{label:"Super Break multiplier"},BREAK_EFFICIENCY_BOOST:{label:"Break Efficiency boost"},TRUE_DMG_MODIFIER:{label:"True DMG multiplier"},FINAL_DMG_BOOST:{label:"Final DMG multiplier"},BREAK_DMG_MODIFIER:{separated:!0,label:"Break DMG multiplier"},ADDITIONAL_DMG_SCALING:{separated:!0,label:"Additional DMG scaling"},ADDITIONAL_DMG:{flat:!0,separated:!0,label:"Additional DMG"},DMG:{flat:!0,label:"DMG"}},qb={BASIC:"Basic",SKILL:"Skill",ULT:"Ult",FUA:"Fua",DOT:"Dot",BREAK:"Break",MEMO_SKILL:"Memo Skill",MEMO_TALENT:"Memo Talent"},eh={...$b,...Object.values(kt).filter(e=>typeof e=="number").reduce((e,t)=>{const n=kt[t];return Object.entries(ir).forEach(([l,s])=>{e[`${n}_${l}`]={...s,label:`${qb[n]} ${s.label}`}}),e},{}),...Object.entries(ir).reduce((e,[t,n])=>(n.separated||(e[t]=n),e),{})},is=Object.fromEntries(Object.entries(eh).map(([e,t],n)=>{const l=t;return[e,{name:e,index:n,default:l.default??0,flat:l.flat??!1,whole:l.whole??!1,bool:l.bool??!1,category:l.category??1,label:l.label}]})),Kn=Object.fromEntries(Object.entries(is).map(([e,t])=>[e,t.default])),Dl=Object.values(is).sort((e,t)=>e.index-t.index);function th(){function e(t){return{name:t,abilityDmg:0,additionalDmg:0,breakDmg:0,superBreakDmg:0,jointDmg:0,trueDmg:0,dotDmg:0,memoDmg:0}}return{BASIC_DMG:e("BASIC_DMG"),SKILL_DMG:e("SKILL_DMG"),ULT_DMG:e("ULT_DMG"),FUA_DMG:e("FUA_DMG"),DOT_DMG:e("DOT_DMG"),BREAK_DMG:e("BREAK_DMG"),MEMO_SKILL_DMG:e("MEMO_SKILL_DMG"),MEMO_TALENT_DMG:e("MEMO_TALENT_DMG")}}const h=Object.keys(Kn).reduce((e,t,n)=>(e[t]=n,e),{});class Wa{constructor(t=!1,n=!1,l){Ae(this,"a",Mo());Ae(this,"c");Ae(this,"m");Ae(this,"summoner");Ae(this,"buffs");Ae(this,"buffsMemo");Ae(this,"trace");Ae(this,"dmgSplits");this.c=new $a(t,!0,()=>this),this.m=n?null:new Wa(t,!0,()=>this),this.summoner=n?l:null,this.buffs=[],this.buffsMemo=[],this.trace=t,this.dmgSplits=this.trace?th():null,Object.keys(Kn).forEach((s,o)=>{const r=(b,p)=>this.trace&&this.buffs.push({stat:s,key:o,value:b,source:p}),c=(b,p)=>this.trace&&this.buffsMemo.push({stat:s,key:o,value:b,source:p}),d=(b,p)=>this.trace&&(this.buffs=this.buffs.filter(R=>R.key!==o).concat({stat:s,key:o,value:b,source:p})),u=(b,p)=>this.trace&&(this.buffsMemo=this.buffsMemo.filter(R=>R.key!==o).concat({stat:s,key:o,value:b,source:p}));Object.defineProperty(this,s,{value:{buff:(b,p)=>{b!=0&&(this.a[o]+=b,r(b,p))},buffSingle:(b,p)=>{b!=0&&(this.a[h.DEPRIORITIZE_BUFFS]||(this.a[h.MEMO_BUFF_PRIORITY]?(this.m.a[o]+=b,c(b,p)):(this.a[o]+=b,r(b,p))))},buffMemo:(b,p)=>{b!=0&&(this.a[h.DEPRIORITIZE_BUFFS]||this.m&&(this.m.a[o]+=b,c(b,p)))},buffTeam:(b,p)=>{b!=0&&(this.a[o]+=b,r(b,p),this.m&&(this.m.a[o]+=b,c(b,p)))},buffDual:(b,p)=>{b!=0&&(this.a[h.DEPRIORITIZE_BUFFS]||(this.a[o]+=b,r(b,p),this.m&&(this.m.a[o]+=b,c(b,p))))},buffBaseDual:(b,p)=>{b!=0&&(this.a[o]+=b,r(b,p),this.m&&(this.m.a[o]+=b,c(b,p)))},buffBaseDualDynamic:(b,p,R,G)=>{if(!(b<.001)){this.a[o]+=b,r(b,p),this.m&&(this.m.a[o]+=b,c(b,p));for(const T of R.conditionalRegistry[Lo[s]]??[])At(T,this,R,G)}},multiply:(b,p)=>{this.a[o]*=b,r(b,p)},multiplyTeam:(b,p)=>{this.a[o]*=b,r(b,p),this.m&&(this.m.a[o]*=b,c(b,p))},buffDynamic:(b,p,R,G)=>{if(!(b<.001)){this.a[o]+=b,r(b,p);for(const T of R.conditionalRegistry[Lo[s]]||[])At(T,this,R,G)}},set:(b,p)=>{this.a[o]=b,d(b,p)},config:(b,p)=>{this.a[o]=b,d(b,p),this.m&&(this.m.a[o]=b,u(b,p))},get:()=>this.a[o]},writable:!1,enumerable:!0,configurable:!0}),Object.defineProperty(this,`$${s}`,{get:()=>this.a[o],enumerable:!0,configurable:!0})}),Object.defineProperty(this,"#show",{get:()=>this.toComputedStatsObject(),enumerable:!0,configurable:!0})}setPrecompute(t){this.a.set(t),this.buffs=[],this.buffsMemo=[]}tracePrecompute(t){this.buffs=t.buffs,this.buffsMemo=t.buffsMemo}setBasic(t){this.c=t}get(t){return this.a[t]}toComputedStatsObject(){return Dd(this.a)}}function Dd(e){const t={};for(const n in h){const l=n,s=Ed[l]??l,o=h[l];t[s]=e[o]}return t}function Mo(){return Float32Array.from(Object.values(Kn))}const Ed={ATK_P:a.ATK_P,ATK:a.ATK,BE:a.BE,CD:a.CD,CR:a.CR,DEF_P:a.DEF_P,DEF:a.DEF,EHR:a.EHR,ERR:a.ERR,FIRE_DMG_BOOST:a.Fire_DMG,HP_P:a.HP_P,HP:a.HP,ICE_DMG_BOOST:a.Ice_DMG,IMAGINARY_DMG_BOOST:a.Imaginary_DMG,LIGHTNING_DMG_BOOST:a.Lightning_DMG,OHB:a.OHB,PHYSICAL_DMG_BOOST:a.Physical_DMG,QUANTUM_DMG_BOOST:a.Quantum_DMG,RES:a.RES,SPD_P:a.SPD_P,SPD:a.SPD,WIND_DMG_BOOST:a.Wind_DMG},Lo={ATK_P:a.ATK_P,ATK:a.ATK,BE:a.BE,CD:a.CD,CR:a.CR,DEF_P:a.DEF_P,DEF:a.DEF,EHR:a.EHR,ERR:a.ERR,FIRE_DMG_BOOST:a.Fire_DMG,HP_P:a.HP_P,HP:a.HP,ICE_DMG_BOOST:a.Ice_DMG,IMAGINARY_DMG_BOOST:a.Imaginary_DMG,LIGHTNING_DMG_BOOST:a.Lightning_DMG,OHB:a.OHB,PHYSICAL_DMG_BOOST:a.Physical_DMG,QUANTUM_DMG_BOOST:a.Quantum_DMG,RES:a.RES,SPD_P:a.SPD_P,SPD:a.SPD,WIND_DMG_BOOST:a.Wind_DMG},ah={[un.Physical]:h.PHYSICAL_RES_PEN,[un.Fire]:h.FIRE_RES_PEN,[un.Ice]:h.ICE_RES_PEN,[un.Lightning]:h.LIGHTNING_RES_PEN,[un.Wind]:h.WIND_RES_PEN,[un.Quantum]:h.QUANTUM_RES_PEN,[un.Imaginary]:h.IMAGINARY_RES_PEN};function nh(e,t){return e.a[ah[t]]}const Id={[a.Physical_DMG]:h.PHYSICAL_DMG_BOOST,[a.Fire_DMG]:h.FIRE_DMG_BOOST,[a.Ice_DMG]:h.ICE_DMG_BOOST,[a.Lightning_DMG]:h.LIGHTNING_DMG_BOOST,[a.Wind_DMG]:h.WIND_DMG_BOOST,[a.Quantum_DMG]:h.QUANTUM_DMG_BOOST,[a.Imaginary_DMG]:h.IMAGINARY_DMG_BOOST};function ih(e,t){return e.a[Id[t]]}function sr(e,t,n){const l=Id[t];e.a[l]+=n}const xt={[a.ATK_P]:h.ATK_P,[a.ATK]:h.ATK,[a.BE]:h.BE,[a.CD]:h.CD,[a.CR]:h.CR,[a.DEF_P]:h.DEF_P,[a.DEF]:h.DEF,[a.EHR]:h.EHR,[a.ERR]:h.ERR,[a.Fire_DMG]:h.FIRE_DMG_BOOST,[a.HP_P]:h.HP_P,[a.HP]:h.HP,[a.Ice_DMG]:h.ICE_DMG_BOOST,[a.Imaginary_DMG]:h.IMAGINARY_DMG_BOOST,[a.Lightning_DMG]:h.LIGHTNING_DMG_BOOST,[a.OHB]:h.OHB,[a.Physical_DMG]:h.PHYSICAL_DMG_BOOST,[a.Quantum_DMG]:h.QUANTUM_DMG_BOOST,[a.RES]:h.RES,[a.SPD_P]:h.SPD_P,[a.SPD]:h.SPD,[a.Wind_DMG]:h.WIND_DMG_BOOST};var ss=(e=>(e[e.MAIN=0]="MAIN",e[e.MEMO=1]="MEMO",e[e.DUAL=2]="DUAL",e[e.TEAM=3]="TEAM",e[e.SINGLE=4]="SINGLE",e))(ss||{});function Re(e,t,n,l){switch(e){case 0:t.buff(n,l);break;case 1:t.buffMemo(n,l);break;case 2:t.buffDual(n,l);break;case 3:t.buffTeam(n,l);break;case 4:t.buffSingle(n,l);break}}function zZ(e){return~e}function _Z(e,t,n,l,s=0){n!=0&&(t&e.a[h.BASIC_DMG_TYPE]&&Re(s,e.BASIC_TRUE_DMG_MODIFIER,n,l),t&e.a[h.SKILL_DMG_TYPE]&&Re(s,e.SKILL_TRUE_DMG_MODIFIER,n,l),t&e.a[h.ULT_DMG_TYPE]&&Re(s,e.ULT_TRUE_DMG_MODIFIER,n,l),t&e.a[h.FUA_DMG_TYPE]&&Re(s,e.FUA_TRUE_DMG_MODIFIER,n,l),t&e.a[h.DOT_DMG_TYPE]&&Re(s,e.DOT_TRUE_DMG_MODIFIER,n,l),t&e.a[h.BREAK_DMG_TYPE]&&Re(s,e.BREAK_TRUE_DMG_MODIFIER,n,l),t&e.a[h.MEMO_SKILL_DMG_TYPE]&&Re(s,e.MEMO_SKILL_TRUE_DMG_MODIFIER,n,l),t&e.a[h.MEMO_TALENT_DMG_TYPE]&&Re(s,e.MEMO_TALENT_TRUE_DMG_MODIFIER,n,l))}function Ne(e,t,n,l,s=0){n!=0&&(t&e.a[h.BASIC_DMG_TYPE]&&Re(s,e.BASIC_DMG_BOOST,n,l),t&e.a[h.SKILL_DMG_TYPE]&&Re(s,e.SKILL_DMG_BOOST,n,l),t&e.a[h.ULT_DMG_TYPE]&&Re(s,e.ULT_DMG_BOOST,n,l),t&e.a[h.FUA_DMG_TYPE]&&Re(s,e.FUA_DMG_BOOST,n,l),t&e.a[h.DOT_DMG_TYPE]&&Re(s,e.DOT_DMG_BOOST,n,l),t&e.a[h.BREAK_DMG_TYPE]&&Re(s,e.BREAK_DMG_BOOST,n,l),t&e.a[h.MEMO_SKILL_DMG_TYPE]&&Re(s,e.MEMO_SKILL_DMG_BOOST,n,l),t&e.a[h.MEMO_TALENT_DMG_TYPE]&&Re(s,e.MEMO_TALENT_DMG_BOOST,n,l),t&e.a[h.ADDITIONAL_DMG_TYPE]&&Re(s,e.ADDITIONAL_DMG_BOOST,n,l),t&e.a[h.SUPER_BREAK_DMG_TYPE]&&Re(s,e.SUPER_BREAK_DMG_BOOST,n,l))}function sh(e,t,n,l,s=0){n!=0&&(t&e.a[h.BASIC_DMG_TYPE]&&Re(s,e.BASIC_VULNERABILITY,n,l),t&e.a[h.SKILL_DMG_TYPE]&&Re(s,e.SKILL_VULNERABILITY,n,l),t&e.a[h.ULT_DMG_TYPE]&&Re(s,e.ULT_VULNERABILITY,n,l),t&e.a[h.FUA_DMG_TYPE]&&Re(s,e.FUA_VULNERABILITY,n,l),t&e.a[h.DOT_DMG_TYPE]&&Re(s,e.DOT_VULNERABILITY,n,l),t&e.a[h.BREAK_DMG_TYPE]&&Re(s,e.BREAK_VULNERABILITY,n,l),t&e.a[h.MEMO_SKILL_DMG_TYPE]&&Re(s,e.MEMO_SKILL_VULNERABILITY,n,l),t&e.a[h.MEMO_TALENT_DMG_TYPE]&&Re(s,e.MEMO_TALENT_VULNERABILITY,n,l),t&e.a[h.SUPER_BREAK_DMG_TYPE]&&Re(s,e.SUPER_BREAK_VULNERABILITY,n,l))}function QZ(e,t,n,l,s=0){n!=0&&(t&e.a[h.BASIC_DMG_TYPE]&&Re(s,e.BASIC_RES_PEN,n,l),t&e.a[h.SKILL_DMG_TYPE]&&Re(s,e.SKILL_RES_PEN,n,l),t&e.a[h.ULT_DMG_TYPE]&&Re(s,e.ULT_RES_PEN,n,l),t&e.a[h.FUA_DMG_TYPE]&&Re(s,e.FUA_RES_PEN,n,l),t&e.a[h.DOT_DMG_TYPE]&&Re(s,e.DOT_RES_PEN,n,l),t&e.a[h.BREAK_DMG_TYPE]&&Re(s,e.BREAK_RES_PEN,n,l),t&e.a[h.MEMO_SKILL_DMG_TYPE]&&Re(s,e.MEMO_SKILL_RES_PEN,n,l),t&e.a[h.MEMO_TALENT_DMG_TYPE]&&Re(s,e.MEMO_TALENT_RES_PEN,n,l))}function Jn(e,t,n,l,s=0){n!=0&&(t&e.a[h.BASIC_DMG_TYPE]&&Re(s,e.BASIC_DEF_PEN,n,l),t&e.a[h.SKILL_DMG_TYPE]&&Re(s,e.SKILL_DEF_PEN,n,l),t&e.a[h.ULT_DMG_TYPE]&&Re(s,e.ULT_DEF_PEN,n,l),t&e.a[h.FUA_DMG_TYPE]&&Re(s,e.FUA_DEF_PEN,n,l),t&e.a[h.DOT_DMG_TYPE]&&Re(s,e.DOT_DEF_PEN,n,l),t&e.a[h.BREAK_DMG_TYPE]&&Re(s,e.BREAK_DEF_PEN,n,l),t&e.a[h.MEMO_SKILL_DMG_TYPE]&&Re(s,e.MEMO_SKILL_DEF_PEN,n,l),t&e.a[h.MEMO_TALENT_DMG_TYPE]&&Re(s,e.MEMO_TALENT_DEF_PEN,n,l),t&e.a[h.SUPER_BREAK_DMG_TYPE]&&Re(s,e.SUPER_BREAK_DEF_PEN,n,l))}function $Z(e,t,n,l,s=0){n!=0&&(t&e.a[h.BASIC_DMG_TYPE]&&Re(s,e.BASIC_CR_BOOST,n,l),t&e.a[h.SKILL_DMG_TYPE]&&Re(s,e.SKILL_CR_BOOST,n,l),t&e.a[h.ULT_DMG_TYPE]&&Re(s,e.ULT_CR_BOOST,n,l),t&e.a[h.FUA_DMG_TYPE]&&Re(s,e.FUA_CR_BOOST,n,l),t&e.a[h.MEMO_SKILL_DMG_TYPE]&&Re(s,e.MEMO_SKILL_CR_BOOST,n,l),t&e.a[h.MEMO_TALENT_DMG_TYPE]&&Re(s,e.MEMO_TALENT_CR_BOOST,n,l))}function lh(e,t,n,l,s=0){n!=0&&(t&e.a[h.BASIC_DMG_TYPE]&&Re(s,e.BASIC_CD_BOOST,n,l),t&e.a[h.SKILL_DMG_TYPE]&&Re(s,e.SKILL_CD_BOOST,n,l),t&e.a[h.ULT_DMG_TYPE]&&Re(s,e.ULT_CD_BOOST,n,l),t&e.a[h.FUA_DMG_TYPE]&&Re(s,e.FUA_CD_BOOST,n,l),t&e.a[h.MEMO_SKILL_DMG_TYPE]&&Re(s,e.MEMO_SKILL_CD_BOOST,n,l),t&e.a[h.MEMO_TALENT_DMG_TYPE]&&Re(s,e.MEMO_TALENT_CD_BOOST,n,l))}const oh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.CollapsingSky"),{SOURCE_LC:l}=L.lightCone("20002"),s=[.2,.25,.3,.35,.4],o={basicSkillDmgBuff:!0},r={basicSkillDmgBuff:{lc:!0,formItem:"switch",id:"basicSkillDmgBuff",text:n("Content.basicSkillDmgBuff.text"),content:n("Content.basicSkillDmgBuff.content",{DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;Ne(c,gn|wt,b.basicSkillDmgBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},rh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.Cornucopia"),{SOURCE_LC:l}=L.lightCone("20001"),s=[.12,.15,.18,.21,.24],o={healingBuff:!0},r={healingBuff:{lc:!0,id:"healingBuff",formItem:"switch",text:n("Content.healingBuff.text"),content:n("Content.healingBuff.content",{HealingBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.SKILL_OHB.buff(b.healingBuff?s[e]:0,l),c.ULT_OHB.buff(b.healingBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},ch=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.DartingArrow"),{SOURCE_LC:l}=L.lightCone("20007"),s=[.24,.3,.36,.42,.48],o={defeatedEnemyAtkBuff:!0},r={defeatedEnemyAtkBuff:{lc:!0,id:"defeatedEnemyAtkBuff",formItem:"switch",text:n("Content.defeatedEnemyAtkBuff.text"),content:n("Content.defeatedEnemyAtkBuff.content",{AtkBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ATK_P.buff(b.defeatedEnemyAtkBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},dh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.DataBank"),{SOURCE_LC:l}=L.lightCone("20006"),s=[.28,.35,.42,.49,.56],o={ultDmgBuff:!0},r={ultDmgBuff:{lc:!0,id:"ultDmgBuff",formItem:"switch",text:n("Content.ultDmgBuff.text"),content:n("Content.ultDmgBuff.content",{DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;Ne(c,Mt,b.ultDmgBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},uh=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),mh=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),bh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.HiddenShadow");L.lightCone("20018");const l=[.6,.75,.9,1.05,1.2],s={basicAtkBuff:!0},o={basicAtkBuff:{lc:!0,id:"basicAtkBuff",formItem:"switch",text:n("Content.basicAtkBuff.text"),content:n("Content.basicAtkBuff.content",{MultiplierBonus:y.precisionRound(100*l[e])})}};return{content:()=>Object.values(o),defaults:()=>s,precomputeEffects:(r,c,d)=>{c.lightConeConditionals},finalizeCalculations:(r,c,d)=>{const u=c.lightConeConditionals;r.BASIC_ADDITIONAL_DMG.buff((u.basicAtkBuff?l[e]:0)*r.a[h.ATK],L.NONE)},gpuFinalizeCalculations:(r,c)=>{const d=r.lightConeConditionals;return`
if (${ki(d.basicAtkBuff)}) {
  x.BASIC_ADDITIONAL_DMG += ${l[e]} * x.ATK;
}
      `}}},hh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.Loop"),{SOURCE_LC:l}=L.lightCone("20011"),s=[.24,.3,.36,.42,.48],o={enemySlowedDmgBuff:!0},r={enemySlowedDmgBuff:{lc:!0,id:"enemySlowedDmgBuff",formItem:"switch",text:n("Content.enemySlowedDmgBuff.text"),content:n("Content.enemySlowedDmgBuff.content",{DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ELEMENTAL_DMG.buff(b.enemySlowedDmgBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},ph=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.Mediation"),{SOURCE_LC:l}=L.lightCone("20019"),s=[12,14,16,18,20],o={initialSpdBuff:!1},r={initialSpdBuff:!1},c={initialSpdBuff:{lc:!0,id:"initialSpdBuff",formItem:"switch",text:n("Content.initialSpdBuff.text"),content:n("Content.initialSpdBuff.content",{SpdBuff:s[e]})}},d={initialSpdBuff:c.initialSpdBuff};return{content:()=>Object.values(c),teammateContent:()=>Object.values(d),defaults:()=>o,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(u,b,p)=>{const R=b.lightConeConditionals;u.SPD.buffTeam(R.initialSpdBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},Sh=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Rh=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),fh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.MutualDemise"),{SOURCE_LC:l}=L.lightCone("20016"),s=[.12,.15,.18,.21,.24],o={selfHp80CrBuff:!0},r={selfHp80CrBuff:{lc:!0,id:"selfHp80CrBuff",formItem:"switch",text:n("Content.selfHp80CrBuff.text"),content:n("Content.selfHp80CrBuff.content",{CritBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.CR.buff(b.selfHp80CrBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},Gh=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),gh=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Th=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.Reminiscence"),{SOURCE_LC:l}=L.lightCone("20022"),s=[.08,.09,.1,.11,.12],o={dmgStacks:4},r={dmgStacks:{lc:!0,id:"dmgStacks",formItem:"slider",text:n("Content.dmgStacks.text"),content:n("Content.dmgStacks.content",{DmgBuff:y.precisionRound(s[e]*100)}),min:0,max:4}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ELEMENTAL_DMG.buffDual(b.dmgStacks*s[e],l)},finalizeCalculations:()=>{}}},yh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.Sagacity"),{SOURCE_LC:l}=L.lightCone("20020"),s=[.24,.3,.36,.42,.48],o={postUltAtkBuff:!0},r={postUltAtkBuff:{lc:!0,id:"postUltAtkBuff",formItem:"switch",text:n("Content.postUltAtkBuff.text"),content:n("Content.postUltAtkBuff.content",{AtkBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ATK_P.buff(b.postUltAtkBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},Zh=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Ch=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.ShatteredHome"),{SOURCE_LC:l}=L.lightCone("20009"),s=[.2,.25,.3,.35,.4],o={enemyHp50Buff:!0},r={enemyHp50Buff:{lc:!0,id:"enemyHp50Buff",formItem:"switch",text:n("Content.enemyHp50Buff.text"),content:n("Content.enemyHp50Buff.content",{DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ELEMENTAL_DMG.buff(b.enemyHp50Buff?s[e]:0,l)},finalizeCalculations:()=>{}}},Dh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.Void"),{SOURCE_LC:l}=L.lightCone("20004"),s=[.2,.25,0,30,.35,.4],o={initialEhrBuff:!0},r={initialEhrBuff:{lc:!0,id:"initialEhrBuff",formItem:"switch",text:n("Content.initialEhrBuff.text"),content:n("Content.initialEhrBuff.content",{EhrBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.EHR.buff(b.initialEhrBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},Eh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.AfterTheCharmonyFall"),{SOURCE_LC:l}=L.lightCone("21045"),s=[.08,.1,.12,.14,.16],o={spdBuff:!0},r={spdBuff:{lc:!0,id:"spdBuff",formItem:"switch",text:n("Content.spdBuff.text"),content:n("Content.spdBuff.content",{SpdBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.SPD_P.buff(b.spdBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},Ih=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.ASecretVow"),{SOURCE_LC:l}=L.lightCone("21012"),s=[.2,.25,.3,.35,.4],o={enemyHpHigherDmgBoost:!0},r={enemyHpHigherDmgBoost:{lc:!0,id:"enemyHpHigherDmgBoost",formItem:"switch",text:n("Content.enemyHpHigherDmgBoost.text"),content:n("Content.enemyHpHigherDmgBoost.content",{DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ELEMENTAL_DMG.buff(s[e],l),c.ELEMENTAL_DMG.buff(b.enemyHpHigherDmgBoost?s[e]:0,l)},finalizeCalculations:()=>{}}},xh=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Wh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.BoundlessChoreo"),{SOURCE_LC:l}=L.lightCone("21044"),s=[.24,.3,.36,.42,.48],o={enemyDefReducedSlowed:!0},r={enemyDefReducedSlowed:{lc:!0,id:"enemyDefReducedSlowed",formItem:"switch",text:n("Content.enemyDefReducedSlowed.text"),content:n("Content.enemyDefReducedSlowed.content",{CritBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.CD.buff(b.enemyDefReducedSlowed?s[e]:0,l)},finalizeCalculations:()=>{}}},Mh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.CarveTheMoonWeaveTheClouds"),{SOURCE_LC:l}=L.lightCone("21032"),s=[.1,.125,.15,.175,.2],o=[.12,.15,.18,.21,.24],r=[.06,.075,.09,.105,.12],c={atkBuffActive:!0,cdBuffActive:!1,errBuffActive:!1},d={atkBuffActive:!0,cdBuffActive:!1,errBuffActive:!1},u={atkBuffActive:{lc:!0,id:"atkBuffActive",formItem:"switch",text:n("Content.atkBuffActive.text"),content:n("Content.atkBuffActive.content",{AtkBuff:y.precisionRound(100*s[e]),CritBuff:y.precisionRound(100*o[e]),RegenBuff:y.precisionRound(100*r[e])})},cdBuffActive:{lc:!0,id:"cdBuffActive",formItem:"switch",text:n("Content.cdBuffActive.text"),content:n("Content.cdBuffActive.content",{AtkBuff:y.precisionRound(100*s[e]),CritBuff:y.precisionRound(100*o[e]),RegenBuff:y.precisionRound(100*r[e])})},errBuffActive:{lc:!0,id:"errBuffActive",formItem:"switch",text:n("Content.errBuffActive.text"),content:n("Content.errBuffActive.content",{AtkBuff:y.precisionRound(100*s[e]),CritBuff:y.precisionRound(100*o[e]),RegenBuff:y.precisionRound(100*r[e])})}},b={atkBuffActive:u.atkBuffActive,cdBuffActive:u.cdBuffActive,errBuffActive:u.errBuffActive};return{content:()=>Object.values(u),teammateContent:()=>Object.values(b),defaults:()=>c,teammateDefaults:()=>d,precomputeEffects:()=>{},precomputeMutualEffects:(p,R,G)=>{const T=R.lightConeConditionals;p.ATK_P.buffTeam(T.atkBuffActive?s[e]:0,l),p.CD.buffTeam(T.cdBuffActive?o[e]:0,l),p.ERR.buffTeam(T.errBuffActive?r[e]:0,l)},finalizeCalculations:()=>{}}},Lh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.ConcertForTwo"),{SOURCE_LC:l}=L.lightCone("21043"),s=[.04,.05,.06,.07,.08],o={teammateShieldStacks:4},r={teammateShieldStacks:{lc:!0,id:"teammateShieldStacks",formItem:"slider",text:n("Content.teammateShieldStacks.text"),content:n("Content.teammateShieldStacks.content",{DmgBuff:y.precisionRound(100*s[e])}),min:0,max:4}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ELEMENTAL_DMG.buff(b.teammateShieldStacks*s[e],l)},finalizeCalculations:()=>{}}},Vh=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Ph=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.DayOneOfMyNewLife"),{SOURCE_LC:l}=L.lightCone("21002"),s=[.08,.09,.1,.11,.12],o={dmgResBuff:!0},r={dmgResBuff:!0},c={dmgResBuff:{lc:!0,id:"dmgResBuff",formItem:"switch",text:n("Content.dmgResBuff.text"),content:n("Content.dmgResBuff.content",{ResBuff:y.precisionRound(100*s[e])})}},d={dmgResBuff:c.dmgResBuff};return{content:()=>Object.values(c),teammateContent:()=>Object.values(d),defaults:()=>o,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(u,b,p)=>{const R=b.lightConeConditionals;u.DMG_RED_MULTI.multiplyTeam(R.dmgResBuff?1-s[e]:1,l)},finalizeCalculations:()=>{}}},Fh=(e,t)=>{const{SOURCE_LC:n}=L.lightCone("21039"),l=[.008,.009,.01,.011,.012],s=[.32,.36,.4,.44,.48];return{content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:(o,r,c)=>{o.ELEMENTAL_DMG.buff(Math.min(s[e],Math.floor(o.a[h.DEF]/100)*l[e]),n)},gpuFinalizeCalculations:()=>`
x.ELEMENTAL_DMG += min(${s[e]}, floor(x.DEF / 100) * ${l[e]});
      `}},Bh=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Hh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.DreamvilleAdventure"),{SOURCE_LC:l}=L.lightCone("21036"),s=[.12,.14,.16,.18,.2],o={ultDmgBuff:!1,skillDmgBuff:!1,basicDmgBuff:!1},r={ultDmgBuff:!1,skillDmgBuff:!1,basicDmgBuff:!1},c={ultDmgBuff:{lc:!0,id:"ultDmgBuff",formItem:"switch",text:n("Content.ultDmgBuff.text"),content:n("Content.ultDmgBuff.content",{DmgBuff:y.precisionRound(100*s[e])})},skillDmgBuff:{lc:!0,id:"skillDmgBuff",formItem:"switch",text:n("Content.skillDmgBuff.text"),content:n("Content.skillDmgBuff.content",{DmgBuff:y.precisionRound(100*s[e])})},basicDmgBuff:{lc:!0,id:"basicDmgBuff",formItem:"switch",text:n("Content.basicDmgBuff.text"),content:n("Content.basicDmgBuff.content",{DmgBuff:y.precisionRound(100*s[e])})}},d={ultDmgBuff:c.ultDmgBuff,skillDmgBuff:c.skillDmgBuff,basicDmgBuff:c.basicDmgBuff};return{content:()=>Object.values(c),teammateContent:()=>Object.values(d),defaults:()=>o,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(u,b,p)=>{const R=b.lightConeConditionals;Ne(u,gn,R.basicDmgBuff?s[e]:0,l,ss.TEAM),Ne(u,wt,R.skillDmgBuff?s[e]:0,l,ss.TEAM),Ne(u,Mt,R.ultDmgBuff?s[e]:0,l,ss.TEAM)},finalizeCalculations:()=>{}}},vh=(e,t)=>{const{SOURCE_LC:n}=L.lightCone("21008"),l=[.24,.3,.36,.42,.48];return{content:()=>[],defaults:()=>({}),precomputeEffects:s=>{Ne(s,Cl,l[e],n)},finalizeCalculations:()=>{}}},Xh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.Fermata"),{SOURCE_LC:l}=L.lightCone("21022"),s=[.16,.2,.24,.28,.32],o={enemyShockWindShear:!0},r={enemyShockWindShear:{lc:!0,id:"enemyShockWindShear",formItem:"switch",text:n("Content.enemyShockWindShear.text"),content:n("Content.enemyShockWindShear.content",{DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ELEMENTAL_DMG.buff(b.enemyShockWindShear?s[e]:0,l)},finalizeCalculations:()=>{}}},kh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.FinalVictor"),{SOURCE_LC:l}=L.lightCone("21037"),s=[.08,.09,.1,.11,.12],o={goodFortuneStacks:4},r={goodFortuneStacks:{lc:!0,id:"goodFortuneStacks",formItem:"slider",text:n("Content.goodFortuneStacks.text"),content:n("Content.goodFortuneStacks.content",{CritBuff:y.precisionRound(100*s[e])}),min:0,max:4}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.CD.buff(b.goodFortuneStacks*s[e],l)},finalizeCalculations:()=>{}}},Yh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.FlamesAfar"),{SOURCE_LC:l}=L.lightCone("21038"),s=[.25,.3125,.375,.4375,.5],o={dmgBuff:!0},r={dmgBuff:{lc:!0,id:"dmgBuff",formItem:"switch",text:n("Content.dmgBuff.text"),content:n("Content.dmgBuff.content",{DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ELEMENTAL_DMG.buff(b.dmgBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},wh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.ForTomorrowsJourney"),{SOURCE_LC:l}=L.lightCone("22002"),s=[.18,.21,.24,.27,.3],o={ultDmgBuff:!0},r={ultDmgBuff:{lc:!0,id:"ultDmgBuff",formItem:"switch",text:n("Content.ultDmgBuff.text"),content:n("Content.ultDmgBuff.content",{DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ELEMENTAL_DMG.buff(b.ultDmgBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},Nh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.GeniusesGreetings"),{SOURCE_LC:l}=L.lightCone("21051"),s=[.2,.25,.3,.35,.4],o={basicDmgBoost:!0},r={basicDmgBoost:{lc:!0,id:"basicDmgBoost",formItem:"switch",text:n("Content.basicDmgBoost.text"),content:n("Content.basicDmgBoost.content",{DmgBuff:y.precisionRound(s[e]*100)})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.BASIC_DMG_BOOST.buffDual(b.basicDmgBoost?s[e]:0,l)},finalizeCalculations:()=>{}}},Oh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.GeniusesRepose"),{SOURCE_LC:l}=L.lightCone("21020"),s=[.24,.3,.36,.42,.48],o={defeatedEnemyCdBuff:!0},r={defeatedEnemyCdBuff:{lc:!0,id:"defeatedEnemyCdBuff",formItem:"switch",text:n("Content.defeatedEnemyCdBuff.text"),content:n("Content.defeatedEnemyCdBuff.content",{DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.CD.buff(b.defeatedEnemyCdBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},Uh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.GoodNightAndSleepWell"),{SOURCE_LC:l}=L.lightCone("21001"),s=[.12,.15,.18,.21,.24],o={debuffStacksDmgIncrease:3},r={debuffStacksDmgIncrease:{lc:!0,id:"debuffStacksDmgIncrease",formItem:"slider",text:n("Content.debuffStacksDmgIncrease.text"),content:n("Content.debuffStacksDmgIncrease.content",{DmgBuff:y.precisionRound(100*s[e])}),min:0,max:3}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ELEMENTAL_DMG.buff(b.debuffStacksDmgIncrease*s[e],l)},finalizeCalculations:()=>{}}},Kh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.HeyOverHere"),{SOURCE_LC:l}=L.lightCone("22001"),s=[.16,.19,.22,.25,.28],o={postSkillHealBuff:!0},r={postSkillHealBuff:{lc:!0,id:"postSkillHealBuff",formItem:"switch",text:n("Content.postSkillHealBuff.text"),content:n("Content.postSkillHealBuff.content",{HealingBoost:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.OHB.buff(b.postSkillHealBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},Jh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.IndeliblePromise"),{SOURCE_LC:l}=L.lightCone("21042"),s=[.15,.1875,.225,.2625,.3],o={crBuff:!0},r={crBuff:{lc:!0,id:"crBuff",formItem:"switch",text:n("Content.crBuff.text"),content:n("Content.crBuff.content",{CritBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.CR.buff(b.crBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},Ah=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.ItsShowtime"),{SOURCE_LC:l}=L.lightCone("21041"),s=[.06,.07,.08,.09,.1],o=[.2,.24,.28,.32,.36],r={trickStacks:3},c={trickStacks:{lc:!0,id:"trickStacks",formItem:"slider",text:n("Content.trickStacks.text"),content:n("Content.trickStacks.content",{DmgBuff:y.precisionRound(100*s[e]),AtkBuff:y.precisionRound(100*o[e])}),min:0,max:3}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;d.ELEMENTAL_DMG.buff(p.trickStacks*s[e],l)},finalizeCalculations:()=>{},dynamicConditionals:[{id:"ItsShowtimeConversionConditional",type:Ra.ABILITY,activation:ea.SINGLE,dependsOn:[a.EHR],chainsTo:[a.ATK],condition:function(d,u,b){return d.a[h.EHR]>=.8},effect:function(d,u,b){d.ATK.buffDynamic(o[e]*b.baseATK,l,u,b)},gpu:function(d,u){return fa(this,`
if (
  (*p_state).ItsShowtimeConversionConditional == 0.0 &&
  x.EHR >= 0.80
) {
  (*p_state).ItsShowtimeConversionConditional = 1.0;
  (*p_x).ATK += ${o[e]} * baseATK;
}
    `)}}]}},jh=(e,t)=>{const{SOURCE_LC:n}=L.lightCone("21009"),l=[.16,.18,.2,.22,.24];return{content:()=>[],defaults:()=>({}),precomputeEffects:s=>{s.DMG_RED_MULTI.multiply(1-l[e],n)},finalizeCalculations:()=>{}}},zh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.MakeTheWorldClamor"),{SOURCE_LC:l}=L.lightCone("21013"),s=[.32,.4,.48,.56,.64],o=[20,23,26,29,32],r={ultDmgBuff:!0},c={ultDmgBuff:{lc:!0,id:"ultDmgBuff",formItem:"switch",text:n("Content.ultDmgBuff.text"),content:n("Content.ultDmgBuff.content",{Energy:o[e],DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;Ne(d,Mt,p.ultDmgBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},_h=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Qh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.NinjaRecordSoundHunt"),{SOURCE_LC:l}=L.lightCone("22003"),s=[.18,.225,.27,.315,.36],o={cdBuff:!0},r={cdBuff:{lc:!0,id:"cdBuff",formItem:"switch",text:n("Content.cdBuff.text"),content:n("Content.cdBuff.content",{sValuesCd:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.CD.buff(b.cdBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},$h=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),qh=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.OnlySilenceRemains"),{SOURCE_LC:l}=L.lightCone("21003"),s=[.12,.15,.18,.21,.24],o={enemies2CrBuff:!0},r={enemies2CrBuff:{lc:!0,id:"enemies2CrBuff",formItem:"switch",text:n("Content.enemies2CrBuff.text"),content:n("Content.enemies2CrBuff.content",{CritBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.CR.buff(b.enemies2CrBuff&&u.enemyCount<=2?s[e]:0,l)},finalizeCalculations:()=>{}}},e1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.PastAndFuture"),{SOURCE_LC:l}=L.lightCone("21025"),s=[.16,.2,.24,.28,.32],o={postSkillDmgBuff:!0},r={postSkillDmgBuff:{lc:!0,id:"postSkillDmgBuff",formItem:"switch",text:n("Content.postSkillDmgBuff.text"),content:n("Content.postSkillDmgBuff.content",{DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>[],teammateContent:()=>Object.values(r),defaults:()=>({}),teammateDefaults:()=>o,precomputeEffects:()=>{},precomputeTeammateEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ELEMENTAL_DMG.buffSingle(b.postSkillDmgBuff?s[e]:0,l)},finalizeCalculations:()=>{}}};a.ATK_P+"",a.ATK+"",a.BE+"",a.CD+"",a.CR+"",a.DEF_P+"",a.DEF+"",a.EHR+"",a.ERR+"",a.HP_P+"",a.HP+"",a.OHB+"",a.RES+"",a.SPD_P+"",a.SPD+"";a.HP+"",a.ATK+"",a.DEF+"",a.SPD+"",a.CR+"",a.CD+"",a.EHR+"",a.BE+"",a.OHB+"",a.RES+"",a.ERR+"";const tl={[a.HP]:{stat:a.HP,key:h.HP,property:"HP",unconvertibleProperty:"UNCONVERTIBLE_HP_BUFF",unconvertibleKey:h.UNCONVERTIBLE_HP_BUFF,percentStat:a.HP_P,percentKey:h.HP_P,baseProperty:"baseHP"},[a.ATK]:{stat:a.ATK,key:h.ATK,property:"ATK",unconvertibleProperty:"UNCONVERTIBLE_ATK_BUFF",unconvertibleKey:h.UNCONVERTIBLE_ATK_BUFF,percentStat:a.ATK_P,percentKey:h.ATK_P,baseProperty:"baseATK"},[a.DEF]:{stat:a.DEF,key:h.DEF,property:"DEF",unconvertibleProperty:"UNCONVERTIBLE_DEF_BUFF",unconvertibleKey:h.UNCONVERTIBLE_DEF_BUFF,percentStat:a.DEF_P,percentKey:h.DEF_P,baseProperty:"baseDEF"},[a.SPD]:{stat:a.SPD,key:h.SPD,property:"SPD",unconvertibleProperty:"UNCONVERTIBLE_SPD_BUFF",unconvertibleKey:h.UNCONVERTIBLE_SPD_BUFF,percentStat:a.SPD_P,percentKey:h.SPD_P,baseProperty:"baseSPD"},[a.CR]:{stat:a.CR,key:h.CR,property:"CR",unconvertibleKey:h.UNCONVERTIBLE_CR_BUFF,unconvertibleProperty:"UNCONVERTIBLE_CR_BUFF"},[a.CD]:{stat:a.CD,key:h.CD,property:"CD",unconvertibleKey:h.UNCONVERTIBLE_CD_BUFF,unconvertibleProperty:"UNCONVERTIBLE_CD_BUFF"},[a.EHR]:{stat:a.EHR,key:h.EHR,property:"EHR",unconvertibleKey:h.UNCONVERTIBLE_EHR_BUFF,unconvertibleProperty:"UNCONVERTIBLE_EHR_BUFF"},[a.BE]:{stat:a.BE,key:h.BE,property:"BE",unconvertibleKey:h.UNCONVERTIBLE_BE_BUFF,unconvertibleProperty:"UNCONVERTIBLE_BE_BUFF"},[a.OHB]:{stat:a.OHB,key:h.OHB,property:"OHB",unconvertibleKey:h.UNCONVERTIBLE_OHB_BUFF,unconvertibleProperty:"UNCONVERTIBLE_OHB_BUFF"},[a.RES]:{stat:a.RES,key:h.RES,property:"RES",unconvertibleKey:h.UNCONVERTIBLE_RES_BUFF,unconvertibleProperty:"UNCONVERTIBLE_RES_BUFF"},[a.ERR]:{stat:a.ERR,key:h.ERR,property:"ERR",unconvertibleKey:h.UNCONVERTIBLE_ERR_BUFF,unconvertibleProperty:"UNCONVERTIBLE_ERR_BUFF"}};a.HP,a.ATK,a.DEF,a.SPD,a.CR,a.CD,a.EHR,a.BE,a.OHB,a.RES,a.ERR;function t1(e,t,n,l,s,o,r,c){var D;const d=tl[e],u=tl[t],b=l.a[d.key],p=l.a[d.unconvertibleKey]??0,R=s.conditionalState[n.id]??0,G=b-p;if(G<=0)return;const T=Math.max(0,c(G)),C=T-R;s.conditionalState[n.id]=T,(D=l[u.unconvertibleProperty])==null||D.buff(C,r),l[u.property].buffDynamic(C,r,s,o)}function a1(e,t,n,l,s,o,r,c="true"){const d=tl[e],u=tl[t];return fa(n,`
if (!(${r})) {
  return;
}

let stateValue: f32 = (*p_state).${n.id};
let convertibleValue: f32 = x.${d.property} - x.${d.unconvertibleProperty};

if (!(${c}) || convertibleValue <= 0) {
  return;
}

let buffFull = max(0, ${o});
let buffDelta = buffFull - stateValue;

(*p_state).${n.id} += buffDelta;

(*p_x).${u.unconvertibleProperty} += buffDelta;
(*p_x).${u.property} += buffDelta;
`)}const n1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.PerfectTiming"),{SOURCE_LC:l}=L.lightCone("21014"),s=[.33,.36,.39,.42,.45],o=[.15,.18,.21,.24,.27],r={resToHealingBoost:!0},c={resToHealingBoost:{lc:!0,id:"resToHealingBoost",formItem:"switch",text:n("Content.resToHealingBoost.text"),content:n("Content.resToHealingBoost.content",{Scaling:y.precisionRound(100*s[e]),Limit:y.precisionRound(100*o[e])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:()=>{},finalizeCalculations:(d,u)=>{},dynamicConditionals:[{id:"PerfectTimingConditional",type:Ra.ABILITY,activation:ea.CONTINUOUS,dependsOn:[a.RES],chainsTo:[a.OHB],condition:function(d,u,b){return u.lightConeConditionals.resToHealingBoost},effect:function(d,u,b){t1(a.RES,a.OHB,this,d,u,b,l,p=>Math.min(o[e],s[e]*p))},gpu:function(d,u){const b=d.lightConeConditionals;return a1(a.RES,a.OHB,this,d,u,`min(${o[e]}, ${s[e]} * convertibleValue)`,`${ki(b.resToHealingBoost)}`)}}]}},i1=(e,t,n)=>{const l=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.PlanetaryRendezvous"),{SOURCE_LC:s}=L.lightCone("21011"),o=[.12,.15,.18,.21,.24],r={alliesSameElement:!0},c={alliesSameElement:!0},d={alliesSameElement:{lc:!0,id:"alliesSameElement",formItem:"switch",text:l("Content.alliesSameElement.text"),content:l("Content.alliesSameElement.content",{DmgBuff:y.precisionRound(100*o[e])})}},u={alliesSameElement:d.alliesSameElement};return{content:()=>Object.values(d),teammateContent:()=>Object.values(u),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:(b,p,R)=>{},precomputeMutualEffects:(b,p,R)=>{const G=p.lightConeConditionals;n.element==R.element&&b.ELEMENTAL_DMG.buffTeam(G.alliesSameElement?o[e]:0,s)},finalizeCalculations:()=>{}}},qZ=(e,t,n,l)=>{if(e.c.sets.TheAshblazingGrandDuke>>2){const o=.06*t.setConditionals.valueTheAshblazingGrandDuke;return l-o}else return 0},Ve=e=>function(t,n,l){return t>=e?l:n},eC={SKILL_TALENT_3_ULT_BASIC_5:{basic:Ve(5),skill:Ve(3),ult:Ve(5),talent:Ve(3)},SKILL_BASIC_3_ULT_TALENT_5:{basic:Ve(3),skill:Ve(3),ult:Ve(5),talent:Ve(5)},ULT_TALENT_3_SKILL_BASIC_5:{basic:Ve(5),skill:Ve(5),ult:Ve(3),talent:Ve(3)},ULT_BASIC_3_SKILL_TALENT_5:{basic:Ve(3),skill:Ve(5),ult:Ve(3),talent:Ve(5)},SKILL_ULT_3_BASIC_TALENT_5:{basic:Ve(5),skill:Ve(3),ult:Ve(3),talent:Ve(5)},SKILL_BASIC_MEMO_TALENT_3_ULT_TALENT_MEMO_SKILL_5:{basic:Ve(3),skill:Ve(3),ult:Ve(5),talent:Ve(5),memoTalent:Ve(3),memoSkill:Ve(5)},SKILL_TALENT_MEMO_TALENT_3_ULT_BASIC_MEMO_SKILL_5:{basic:Ve(5),skill:Ve(3),ult:Ve(5),talent:Ve(3),memoTalent:Ve(3),memoSkill:Ve(5)},ULT_BASIC_MEMO_TALENT_3_SKILL_TALENT_MEMO_SKILL_5:{basic:Ve(3),skill:Ve(5),ult:Ve(3),talent:Ve(5),memoTalent:Ve(3),memoSkill:Ve(5)}};function xd(e,t){var n,l,s;return(e.path==t?1:0)+(((n=e.teammate0Metadata)==null?void 0:n.path)==t?1:0)+(((l=e.teammate1Metadata)==null?void 0:l.path)==t?1:0)+(((s=e.teammate2Metadata)==null?void 0:s.path)==t?1:0)}function tC(e,t){var n,l,s;return(e.element==t?1:0)+(((n=e.teammate0Metadata)==null?void 0:n.element)==t?1:0)+(((l=e.teammate1Metadata)==null?void 0:l.element)==t?1:0)+(((s=e.teammate2Metadata)==null?void 0:s.element)==t?1:0)}function aC(e,t){return e.path==t}const s1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.PoisedToBloom"),{SOURCE_LC:l}=L.lightCone("21046"),s=[.16,.2,.24,.28,.32],o={cdBuff:!0},r={cdBuff:!0},c={cdBuff:{lc:!0,id:"cdBuff",formItem:"switch",text:n("Content.cdBuff.text"),content:n("Content.cdBuff.content",{CritBuff:y.precisionRound(100*s[e])})}},d={cdBuff:c.cdBuff};return{content:()=>Object.values(c),teammateContent:()=>Object.values(d),defaults:()=>o,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(u,b,p)=>{const R=b.lightConeConditionals;u.CD.buff(R.cdBuff&&xd(p,p.path)>=2?s[e]:0,l)},finalizeCalculations:()=>{}}},l1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.PostOpConversation"),{SOURCE_LC:l}=L.lightCone("21000"),s=[.12,.15,.18,.21,.24],o={postUltHealingBoost:!0},r={postUltHealingBoost:{lc:!0,id:"postUltHealingBoost",formItem:"switch",text:n("Content.postUltHealingBoost.text"),content:n("Content.postUltHealingBoost.content",{HealingBoost:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ULT_OHB.buff(b.postUltHealingBoost?s[e]:0,l)},finalizeCalculations:()=>{}}},o1=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),r1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.ResolutionShinesAsPearlsOfSweat"),{SOURCE_LC:l}=L.lightCone("21015"),s=[.12,.13,.14,.15,.16],o={targetEnsnared:!0},r={targetEnsnared:!0},c={targetEnsnared:{lc:!0,id:"targetEnsnared",formItem:"switch",text:n("Content.targetEnsnared.text"),content:n("Content.targetEnsnared.content",{BaseChance:y.precisionRound(60+10*e),DefShred:y.precisionRound(100*s[e])})}},d={targetEnsnared:c.targetEnsnared};return{content:()=>Object.values(c),teammateContent:()=>Object.values(d),defaults:()=>o,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(u,b,p)=>{const R=b.lightConeConditionals;u.DEF_PEN.buffTeam(R.targetEnsnared?s[e]:0,l)},finalizeCalculations:()=>{}}},c1=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),d1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.RiverFlowsInSpring"),{SOURCE_LC:l}=L.lightCone("21024"),s=[.08,.09,.1,.11,.12],o=[.12,.15,.18,.21,.24],r={spdDmgBuff:!0},c={spdDmgBuff:{lc:!0,id:"spdDmgBuff",formItem:"switch",text:n("Content.spdDmgBuff.text"),content:n("Content.spdDmgBuff.content",{SpdBuff:y.precisionRound(100*s[e]),DmgBuff:y.precisionRound(100*o[e])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;d.SPD_P.buff(p.spdDmgBuff?s[e]:0,l),d.ELEMENTAL_DMG.buff(p.spdDmgBuff?o[e]:0,l)},finalizeCalculations:()=>{}}},u1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.ShadowedByNight"),{SOURCE_LC:l}=L.lightCone("21047"),s=[.08,.09,.1,.11,.12],o={spdBuff:!0},r={spdBuff:{lc:!0,id:"spdBuff",formItem:"switch",text:n("Content.spdBuff.text"),content:n("Content.spdBuff.content",{SpdBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.SPD_P.buff(b.spdBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},m1=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),b1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.SubscribeForMore"),{SOURCE_LC:l}=L.lightCone("21017"),s=[.24,.3,.36,.42,.48],o={maxEnergyDmgBoost:!0},r={maxEnergyDmgBoost:{lc:!0,id:"maxEnergyDmgBoost",formItem:"switch",text:n("Content.maxEnergyDmgBoost.text"),content:n("Content.maxEnergyDmgBoost.content",{DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;Ne(c,gn|wt,s[e],l),Ne(c,gn|wt,b.maxEnergyDmgBoost?s[e]:0,l)},finalizeCalculations:()=>{}}},h1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.SweatNowCryLess"),{SOURCE_LC:l}=L.lightCone("21052"),s=[.24,.27,.3,.33,.36],o={dmgBoost:!0},r={dmgBoost:{lc:!0,id:"dmgBoost",formItem:"switch",text:n("Content.dmgBoost.text"),content:n("Content.dmgBoost.content",{DmgBuff:y.precisionRound(s[e]*100)})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ELEMENTAL_DMG.buffDual(b.dmgBoost?s[e]:0,l)},finalizeCalculations:()=>{}}},p1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.Swordplay"),{SOURCE_LC:l}=L.lightCone("21010"),s=[.08,.1,.12,.14,.16],o={sameTargetHitStacks:5},r={sameTargetHitStacks:{lc:!0,id:"sameTargetHitStacks",formItem:"slider",text:n("Content.sameTargetHitStacks.text"),content:n("Content.sameTargetHitStacks.content",{DmgBuff:y.precisionRound(100*s[e])}),min:0,max:5}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ELEMENTAL_DMG.buff(b.sameTargetHitStacks*s[e],l)},finalizeCalculations:()=>{}}},S1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.TheBirthOfTheSelf"),{SOURCE_LC:l}=L.lightCone("21006"),s=[.24,.3,.36,.42,.48],o={enemyHp50FuaBuff:!0},r={enemyHp50FuaBuff:{lc:!0,id:"enemyHp50FuaBuff",formItem:"switch",text:n("Content.enemyHp50FuaBuff.text"),content:n("Content.enemyHp50FuaBuff.content",{DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;Ne(c,Sa,s[e],l),Ne(c,Sa,b.enemyHp50FuaBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},R1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.TheDayTheCosmosFell"),{SOURCE_LC:l}=L.lightCone("21040"),s=[.2,.25,.3,.35,.4],o={cdBuffActive:!0},r={cdBuffActive:{lc:!0,id:"cdBuffActive",formItem:"switch",text:n("Content.cdBuffActive.text"),content:n("Content.cdBuffActive.content",{CritBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.CD.buff(b.cdBuffActive?s[e]:0,l)},finalizeCalculations:()=>{}}},f1=(e,t)=>{const{SOURCE_LC:n}=L.lightCone("22004"),l=[.04,.05,.06,.07,.08],s={weaknessTypes:7},o={weaknessTypes:{lc:!0,id:"weaknessTypes",formItem:"slider",text:"Weakness types",content:v.t("BetaMessage",{ns:"conditionals",Version:On}),min:0,max:7}};return{content:()=>Object.values(o),defaults:()=>s,precomputeEffects:(r,c,d)=>{const u=c.lightConeConditionals;r.ELEMENTAL_DMG.buff(u.weaknessTypes*l[e],n)},finalizeCalculations:()=>{}}},G1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.TheMolesWelcomeYou"),{SOURCE_LC:l}=L.lightCone("21005"),s=[.12,.15,.18,.21,.24],o={atkBuffStacks:3},r={atkBuffStacks:{lc:!0,id:"atkBuffStacks",formItem:"slider",text:n("Content.atkBuffStacks.text"),content:n("Content.atkBuffStacks.content",{AtkBuff:y.precisionRound(100*s[e])}),min:0,max:3}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ATK_P.buff(b.atkBuffStacks*s[e],l)},finalizeCalculations:()=>{}}},g1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.TheSeriousnessOfBreakfast"),{SOURCE_LC:l}=L.lightCone("21027"),s=[.12,.15,.18,.21,.24],o=[.04,.05,.06,.07,.08],r={dmgBoost:!0,defeatedEnemyAtkStacks:3},c={dmgBoost:{lc:!0,id:"dmgBoost",formItem:"switch",text:n("Content.dmgBoost.text"),content:n("Content.dmgBoost.content",{DmgBuff:y.precisionRound(100*s[e])})},defeatedEnemyAtkStacks:{lc:!0,id:"defeatedEnemyAtkStacks",formItem:"slider",text:n("Content.defeatedEnemyAtkStacks.text"),content:n("Content.defeatedEnemyAtkStacks.content",{AtkBuff:y.precisionRound(100*o[e])}),min:0,max:3}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;d.ATK_P.buff(p.defeatedEnemyAtkStacks*o[e],l),d.ELEMENTAL_DMG.buff(p.dmgBoost?s[e]:0,l)},finalizeCalculations:()=>{}}},T1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.ThisIsMe");L.lightCone("21030");const l=[.6,.75,.9,1.05,1.2],s={defScalingUltDmg:!1},o={defScalingUltDmg:{lc:!0,id:"defScalingUltDmg",formItem:"switch",text:n("Content.defScalingUltDmg.text"),content:n("Content.defScalingUltDmg.content",{Multiplier:y.precisionRound(100*l[e])})}};return{content:()=>Object.values(o),defaults:()=>s,precomputeEffects:()=>{},finalizeCalculations:()=>{}}},y1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.TodayIsAnotherPeacefulDay"),{SOURCE_LC:l}=L.lightCone("21034"),s=[.002,.0025,.003,.0035,.004],o={maxEnergyDmgBoost:!0},r={maxEnergyDmgBoost:{lc:!0,id:"maxEnergyDmgBoost",formItem:"switch",text:n("Content.maxEnergyDmgBoost.text"),content:n("Content.maxEnergyDmgBoost.content",{DmgStep:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{d.lightConeConditionals.maxEnergyDmgBoost&&c.ELEMENTAL_DMG.buff(Math.min(160,u.baseEnergy)*s[e],l)},finalizeCalculations:()=>{}}},Z1=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),C1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.UnderTheBlueSky"),{SOURCE_LC:l}=L.lightCone("21019"),s=[.12,.15,.18,.21,.24],o={defeatedEnemyCrBuff:!0},r={defeatedEnemyCrBuff:{lc:!0,id:"defeatedEnemyCrBuff",formItem:"switch",text:n("Content.defeatedEnemyCrBuff.text"),content:n("Content.defeatedEnemyCrBuff.content",{CritBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.CR.buff(b.defeatedEnemyCrBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},D1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.VictoryInABlink"),{SOURCE_LC:l}=L.lightCone("21050"),s=[.08,.1,.12,.14,.16],o={teamDmgBuff:!0},r={teamDmgBuff:!0},c={teamDmgBuff:{lc:!0,id:"teamDmgBuff",formItem:"switch",text:n("Content.teamDmgBuff.text"),content:n("Content.teamDmgBuff.content",{DmgBuff:y.precisionRound(s[e]*100)})}},d={teamDmgBuff:c.teamDmgBuff};return{content:()=>Object.values(c),teammateContent:()=>Object.values(d),defaults:()=>o,teammateDefaults:()=>r,precomputeEffects:(u,b,p)=>{},precomputeMutualEffects:(u,b,p)=>{const R=b.lightConeConditionals;u.ELEMENTAL_DMG.buffTeam(R.teamDmgBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},E1=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),I1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.WeAreWildfire"),{SOURCE_LC:l}=L.lightCone("21023"),s=[.08,.1,.12,.14,.16],o=[.3,.35,.4,.45,.5],r={initialDmgReductionBuff:!1},c={initialDmgReductionBuff:!1},d={initialDmgReductionBuff:{lc:!0,id:"initialDmgReductionBuff",formItem:"switch",text:n("Content.initialDmgReductionBuff.text"),content:n("Content.initialDmgReductionBuff.content",{Healing:y.precisionRound(100*o[e]),DmgReduction:s[e]})}},u={initialDmgReductionBuff:d.initialDmgReductionBuff};return{content:()=>Object.values(d),teammateContent:()=>Object.values(u),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:()=>{},precomputeMutualEffects:(b,p,R)=>{const G=p.lightConeConditionals;b.DMG_RED_MULTI.multiplyTeam(G.initialDmgReductionBuff?1-s[e]:1,l)},finalizeCalculations:()=>{}}},x1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.WeWillMeetAgain");L.lightCone("21029");const l=[.48,.6,.72,.84,.96],s={extraDmgProc:!0},o={extraDmgProc:{lc:!0,id:"extraDmgProc",formItem:"switch",text:n("Content.extraDmgProc.text"),content:n("Content.extraDmgProc.content",{Multiplier:y.precisionRound(100*l[e])})}};return{content:()=>Object.values(o),defaults:()=>s,precomputeEffects:(r,c,d)=>{c.lightConeConditionals},finalizeCalculations:(r,c,d)=>{const u=c.lightConeConditionals;r.BASIC_ADDITIONAL_DMG.buff((u.extraDmgProc?l[e]:0)*r.a[h.ATK],L.NONE),r.SKILL_ADDITIONAL_DMG.buff((u.extraDmgProc?l[e]:0)*r.a[h.ATK],L.NONE)},gpuFinalizeCalculations:(r,c)=>{const d=r.lightConeConditionals;return`
if (${ki(d.extraDmgProc)}) {
  x.BASIC_ADDITIONAL_DMG += ${l[e]} * x.ATK;
  x.SKILL_ADDITIONAL_DMG += ${l[e]} * x.ATK;
}
      `}}},W1=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),M1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.WoofWalkTime"),{SOURCE_LC:l}=L.lightCone("21026"),s=[.16,.2,.24,.28,.32],o={enemyBurnedBleeding:!0},r={enemyBurnedBleeding:{lc:!0,id:"enemyBurnedBleeding",formItem:"switch",text:n("Content.enemyBurnedBleeding.text"),content:n("Content.enemyBurnedBleeding.content",{DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ELEMENTAL_DMG.buff(b.enemyBurnedBleeding?s[e]:0,l)},finalizeCalculations:()=>{}}},L1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.AGroundedAscent"),{SOURCE_LC:l}=L.lightCone("23034"),s=[.15,.1725,.195,.2175,.24],o={dmgBuffStacks:3},r={dmgBuffStacks:3},c={dmgBuffStacks:{lc:!0,id:"dmgBuffStacks",formItem:"slider",text:n("Content.dmgBuffStacks.text"),content:n("Content.dmgBuffStacks.content",{DmgBuff:y.precisionRound(100*s[e])}),min:0,max:3}},d={dmgBuffStacks:c.dmgBuffStacks};return{content:()=>Object.values(c),teammateContent:()=>Object.values(d),defaults:()=>o,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(u,b,p)=>{const R=b.lightConeConditionals;b.actorId=="1313"?u.ELEMENTAL_DMG.buffDual(R.dmgBuffStacks*s[e],l):u.ELEMENTAL_DMG.buffSingle(R.dmgBuffStacks*s[e],l)},finalizeCalculations:()=>{}}},V1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.AlongThePassingShore"),{SOURCE_LC:l}=L.lightCone("23024"),s=[.24,.28,.32,.36,.4],o=[.24,.28,.32,.36,.4],r={emptyBubblesDebuff:!0},c={emptyBubblesDebuff:{lc:!0,id:"emptyBubblesDebuff",formItem:"switch",text:n("Content.emptyBubblesDebuff.text"),content:n("Content.emptyBubblesDebuff.content",{UltDmgBoost:y.precisionRound(100*o[e]),DmgBoost:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;d.ELEMENTAL_DMG.buff(p.emptyBubblesDebuff?s[e]:0,l),Ne(d,Mt,p.emptyBubblesDebuff?o[e]:0,l)},finalizeCalculations:()=>{}}},P1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.AnInstantBeforeAGaze"),{SOURCE_LC:l}=L.lightCone("23018"),s=[.0036,.0042,.0048,.0054,.006],o={maxEnergyUltDmgStacks:180},r={maxEnergyUltDmgStacks:{lc:!0,id:"maxEnergyUltDmgStacks",formItem:"slider",text:n("Content.maxEnergyUltDmgStacks.text"),content:n("Content.maxEnergyUltDmgStacks.content",{DmgStep:y.precisionRound(100*s[e])}),min:0,max:180}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;Ne(c,Mt,b.maxEnergyUltDmgStacks*s[e],l)},finalizeCalculations:()=>{}}},F1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.BaptismOfPureThought"),{SOURCE_LC:l}=L.lightCone("23020"),s=[.08,.09,.1,.11,.12],o=[.36,.42,.48,.54,.6],r=[.24,.28,.32,.36,.4],c={debuffCdStacks:3,postUltBuff:!0},d={debuffCdStacks:{lc:!0,id:"debuffCdStacks",formItem:"slider",text:n("Content.debuffCdStacks.text"),content:n("Content.debuffCdStacks.content",{DmgStep:y.precisionRound(100*s[e])}),min:0,max:3},postUltBuff:{lc:!0,id:"postUltBuff",formItem:"switch",text:n("Content.postUltBuff.text"),content:n("Content.postUltBuff.content",{DmgStep:y.precisionRound(100*o[e]),DefIgnore:y.precisionRound(100*r[e])})}};return{content:()=>Object.values(d),defaults:()=>c,precomputeEffects:(u,b,p)=>{const R=b.lightConeConditionals;u.CD.buff(R.debuffCdStacks*s[e],l),u.ELEMENTAL_DMG.buff(R.postUltBuff?o[e]:0,l),Jn(u,Sa,R.postUltBuff?r[e]:0,l)},finalizeCalculations:()=>{}}},B1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.BeforeDawn"),{SOURCE_LC:l}=L.lightCone("23010"),s=[.18,.21,.24,.27,.3],o=[.48,.56,.64,.72,.8],r={fuaDmgBoost:!0},c={fuaDmgBoost:{lc:!0,id:"fuaDmgBoost",formItem:"switch",text:n("Content.fuaDmgBoost.text"),content:n("Content.fuaDmgBoost.content",{DmgBuff:y.precisionRound(100*o[e])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;Ne(d,wt|Mt,s[e],l),Ne(d,Sa,p.fuaDmgBoost?o[e]:0,l)},finalizeCalculations:()=>{}}},H1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.BrighterThanTheSun"),{SOURCE_LC:l}=L.lightCone("23015"),s=[.18,.21,.24,.27,.3],o=[.06,.07,.08,.09,.1],r={dragonsCallStacks:2},c={dragonsCallStacks:{lc:!0,id:"dragonsCallStacks",formItem:"slider",text:n("Content.dragonsCallStacks.text"),content:n("Content.dragonsCallStacks.content",{AtkBuff:y.precisionRound(100*s[e]),RegenBuff:y.precisionRound(100*o[e])}),min:0,max:2}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;d.ATK_P.buff(p.dragonsCallStacks*s[e],l),d.ERR.buff(p.dragonsCallStacks*o[e],l)},finalizeCalculations:()=>{}}},v1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.ButTheBattleIsntOver"),{SOURCE_LC:l}=L.lightCone("23003"),s=[.3,.35,.4,.45,.5],o={postSkillDmgBuff:!0},r={postSkillDmgBuff:{lc:!0,formItem:"switch",id:"postSkillDmgBuff",text:n("Content.postSkillDmgBuff.text"),content:n("Content.postSkillDmgBuff.content",{DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>[],teammateContent:()=>Object.values(r),defaults:()=>({}),teammateDefaults:()=>o,precomputeEffects:()=>{},precomputeTeammateEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ELEMENTAL_DMG.buffSingle(b.postSkillDmgBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},X1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.CruisingInTheStellarSea"),{SOURCE_LC:l}=L.lightCone("24001"),s=[.08,.1,.12,.14,.16],o=[.2,.25,.3,.35,.4],r={enemyHp50CrBoost:!1,enemyDefeatedAtkBuff:!0},c={enemyHp50CrBoost:{lc:!0,id:"enemyHp50CrBoost",formItem:"switch",text:n("Content.enemyHp50CrBoost.text"),content:n("Content.enemyHp50CrBoost.content",{CritBuff:y.precisionRound(100*s[e])})},enemyDefeatedAtkBuff:{lc:!0,id:"enemyDefeatedAtkBuff",formItem:"switch",text:n("Content.enemyDefeatedAtkBuff.text"),content:n("Content.enemyDefeatedAtkBuff.content",{AtkBuff:y.precisionRound(100*o[e])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;d.CR.buff(p.enemyHp50CrBoost?s[e]:0,l),d.ATK_P.buff(p.enemyDefeatedAtkBuff?o[e]:0,l)},finalizeCalculations:()=>{}}},k1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.DanceAtSunset"),{SOURCE_LC:l}=L.lightCone("23030"),s=[.36,.42,.48,.54,.6],o={fuaDmgStacks:2},r={fuaDmgStacks:{lc:!0,formItem:"slider",id:"fuaDmgStacks",text:n("Content.fuaDmgStacks.text"),content:n("Content.fuaDmgStacks.content",{DmgBoost:y.precisionRound(100*s[e])}),min:0,max:2}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;Ne(c,Sa,b.fuaDmgStacks*s[e],l)},finalizeCalculations:()=>{}}},Y1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.EarthlyEscapade"),{SOURCE_LC:l}=L.lightCone("23021"),s=[.1,.11,.12,.13,.14],o=[.28,.35,.42,.49,.56],r={maskActive:!1},c={maskActive:!0},d={maskActive:{lc:!0,id:"maskActive",formItem:"switch",text:n("Content.maskActive.text"),content:n("Content.maskActive.content",{CritRateBuff:y.precisionRound(100*s[e]),CritDmgBuff:y.precisionRound(100*o[e])})}},u={maskActive:d.maskActive};return{content:()=>Object.values(d),teammateContent:()=>Object.values(u),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:()=>{},precomputeTeammateEffects:(b,p,R)=>{const G=p.lightConeConditionals;b.CR.buffTeam(G.maskActive?s[e]:0,l),b.CD.buffTeam(G.maskActive?o[e]:0,l)},finalizeCalculations:()=>{}}},w1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.EchoesOfTheCoffin"),{SOURCE_LC:l}=L.lightCone("23008"),s=[12,14,16,18,20],o=[3,3.5,4,4.5,5],r={postUltSpdBuff:!1},c={postUltSpdBuff:!1},d={postUltSpdBuff:{lc:!0,id:"postUltSpdBuff",formItem:"switch",text:n("Content.postUltSpdBuff.text"),content:n("Content.postUltSpdBuff.content",{EnergyRecovered:y.precisionRound(o[e]),SpdBuff:y.precisionRound(s[e])})}},u={postUltSpdBuff:d.postUltSpdBuff};return{content:()=>Object.values(d),teammateContent:()=>Object.values(u),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:()=>{},precomputeMutualEffects:(b,p,R)=>{const G=p.lightConeConditionals;b.SPD.buffTeam(G.postUltSpdBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},N1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.EternalCalculus"),{SOURCE_LC:l}=L.lightCone("24004"),s=[.04,.05,.06,.07,.08],o=[.08,.1,.12,.14,.16],r={atkBuffStacks:5,spdBuff:!1},c={atkBuffStacks:{lc:!0,id:"atkBuffStacks",formItem:"slider",text:n("Content.atkBuffStacks.text"),content:n("Content.atkBuffStacks.content",{AtkBuff:y.precisionRound(100*s[e])}),min:0,max:5},spdBuff:{lc:!0,id:"spdBuff",formItem:"switch",text:n("Content.spdBuff.text"),content:n("Content.spdBuff.content",{SpdBuff:y.precisionRound(100*o[e])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;d.ATK_P.buff(p.atkBuffStacks*s[e],l),d.SPD_P.buff(p.spdBuff?o[e]:0,l)},finalizeCalculations:()=>{}}},O1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.FlameOfBloodBlazeMyPath.Content"),{SOURCE_LC:l}=L.lightCone("23039"),s=[.3,.35,.4,.45,.5],o={skillUltDmgBoost:!0,bonusBoost:!0},r={skillUltDmgBoost:{lc:!0,id:"skillUltDmgBoost",formItem:"switch",text:n("skillUltDmgBoost.text"),content:n("skillUltDmgBoost.content",{DmgBoost:y.precisionRound(s[e]*100)})},bonusBoost:{lc:!0,id:"bonusBoost",formItem:"switch",text:n("bonusBoost.text"),content:n("bonusBoost.content",{HpConsumption:y.precisionRound((.06+.005*e)*100),BonusDmgBoost:y.precisionRound(s[e]*100)})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;Ne(c,wt|Mt,b.skillUltDmgBoost?s[e]:0,l),Ne(c,wt|Mt,b.skillUltDmgBoost&&b.bonusBoost?s[e]:0,l)},finalizeCalculations:()=>{}}},U1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.FlowingNightglow"),{SOURCE_LC:l}=L.lightCone("23026"),s=[.03,.035,.04,.045,.05],o=[.48,.6,.72,.84,.96],r=[.24,.28,.32,.36,.4],c={cantillationStacks:5,cadenzaActive:!0},d={cadenzaActive:!0},u={cadenzaActive:{lc:!0,id:"cadenzaActive",formItem:"switch",text:n("Content.cadenzaActive.text"),content:n("Content.cadenzaActive.content",{RegenBuff:y.precisionRound(100*s[e]),AtkBuff:y.precisionRound(100*o[e]),DmgBuff:y.precisionRound(100*r[e])})},cantillationStacks:{lc:!0,id:"cantillationStacks",formItem:"slider",text:n("Content.cantillationStacks.text"),content:n("Content.cantillationStacks.content",{RegenBuff:y.precisionRound(100*s[e]),AtkBuff:y.precisionRound(100*o[e]),DmgBuff:y.precisionRound(100*r[e])}),min:0,max:5}},b={cadenzaActive:u.cadenzaActive};return{content:()=>Object.values(u),teammateContent:()=>Object.values(b),defaults:()=>c,teammateDefaults:()=>d,precomputeTeammateEffects:(p,R,G)=>{const T=R.lightConeConditionals;p.ELEMENTAL_DMG.buffTeam(T.cadenzaActive?r[e]:0,l)},precomputeEffects:(p,R,G)=>{const T=R.lightConeConditionals;p.ERR.buff(T.cantillationStacks*s[e],l),p.ATK_P.buff(T.cadenzaActive?o[e]:0,l)},finalizeCalculations:()=>{}}},K1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.IfTimeWereAFlower.Content"),{SOURCE_LC:l}=L.lightCone("23038"),s=[.48,.6,.72,.84,.96],o={presage:!0},r={presage:!0},c={presage:{lc:!0,id:"presage",formItem:"switch",text:n("presage.text"),content:n("presage.content",{CdBuff:y.precisionRound(s[e]*100)})}},d={presage:c.presage};return{content:()=>Object.values(c),teammateContent:()=>Object.values(d),defaults:()=>o,teammateDefaults:()=>r,precomputeEffects:(u,b,p)=>{},precomputeMutualEffects:(u,b,p)=>{const R=b.lightConeConditionals;u.CD.buffTeam(R.presage?s[e]:0,l)},finalizeCalculations:()=>{}}},J1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.IncessantRain"),{SOURCE_LC:l}=L.lightCone("23007"),s=[.12,.14,.16,.18,.2],o=[.12,.14,.16,.18,.2],r={enemy3DebuffsCrBoost:!0,targetCodeDebuff:!0},c={targetCodeDebuff:!0},d={enemy3DebuffsCrBoost:{lc:!0,id:"enemy3DebuffsCrBoost",formItem:"switch",text:n("Content.enemy3DebuffsCrBoost.text"),content:n("Content.enemy3DebuffsCrBoost.content",{CritBuff:y.precisionRound(100*s[e])})},targetCodeDebuff:{lc:!0,id:"targetCodeDebuff",formItem:"switch",text:n("Content.targetCodeDebuff.text"),content:n("Content.targetCodeDebuff.content",{DmgIncrease:y.precisionRound(100*o[e])})}},u={targetCodeDebuff:d.targetCodeDebuff};return{content:()=>Object.values(d),teammateContent:()=>Object.values(u),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:(b,p,R)=>{const G=p.lightConeConditionals;b.CR.buff(G.enemy3DebuffsCrBoost?s[e]:0,l)},precomputeMutualEffects:(b,p,R)=>{const G=p.lightConeConditionals;b.VULNERABILITY.buffTeam(G.targetCodeDebuff?o[e]:0,l)},finalizeCalculations:()=>{}}},A1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.InherentlyUnjustDestiny"),{SOURCE_LC:l}=L.lightCone("23023"),s=[.4,.46,.52,.58,.64],o=[.1,.115,.13,.145,.16],r={shieldCdBuff:!0,targetVulnerability:!0},c={targetVulnerability:!0},d={shieldCdBuff:{lc:!0,id:"shieldCdBuff",formItem:"switch",text:n("Content.shieldCdBuff.text"),content:n("Content.shieldCdBuff.content",{CritBuff:y.precisionRound(100*s[e])})},targetVulnerability:{lc:!0,id:"targetVulnerability",formItem:"switch",text:n("Content.targetVulnerability.text"),content:n("Content.targetVulnerability.content",{baseChance:y.precisionRound(100+15*e),Vulnerability:y.precisionRound(100*o[e])})}},u={targetVulnerability:d.targetVulnerability};return{content:()=>Object.values(d),teammateContent:()=>Object.values(u),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:(b,p,R)=>{const G=p.lightConeConditionals;b.CD.buff(G.shieldCdBuff?s[e]:0,l)},precomputeMutualEffects:(b,p,R)=>{const G=p.lightConeConditionals;b.VULNERABILITY.buffTeam(G.targetVulnerability?o[e]:0,l)},finalizeCalculations:()=>{}}},j1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.InTheNameOfTheWorld"),{SOURCE_LC:l}=L.lightCone("23004"),s=[.24,.28,.32,.36,.4],o=[.24,.28,.32,.36,.4],r=[.18,.21,.24,.27,.3],c={enemyDebuffedDmgBoost:!0,skillAtkBoost:!1},d={enemyDebuffedDmgBoost:{lc:!0,id:"enemyDebuffedDmgBoost",formItem:"switch",text:n("Content.enemyDebuffedDmgBoost.text"),content:n("Content.enemyDebuffedDmgBoost.content",{DmgBuff:y.precisionRound(100*s[e])})},skillAtkBoost:{lc:!0,id:"skillAtkBoost",formItem:"switch",text:n("Content.skillAtkBoost.text"),content:n("Content.skillAtkBoost.content",{EhrBuff:y.precisionRound(100*r[e]),AtkBuff:y.precisionRound(100*o[e])})}};return{content:()=>Object.values(d),defaults:()=>c,precomputeEffects:(u,b,p)=>{const R=b.lightConeConditionals;u.ELEMENTAL_DMG.buff(R.enemyDebuffedDmgBoost?s[e]:0,l)},finalizeCalculations:()=>{}}},z1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.InTheNight"),{SOURCE_LC:l}=L.lightCone("23001"),s=[.06,.07,.08,.09,.1],o=[.12,.14,.16,.18,.2],r={spdScalingBuffs:!0},c={spdScalingBuffs:{lc:!0,id:"spdScalingBuffs",formItem:"switch",text:n("Content.spdScalingBuffs.text"),content:n("Content.spdScalingBuffs.content",{DmgBuff:y.precisionRound(100*s[e]),CritBuff:y.precisionRound(100*o[e])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:()=>{},finalizeCalculations:(d,u,b)=>{const p=u.lightConeConditionals,R=Math.max(0,Math.min(6,Math.floor((d.a[h.SPD]-100)/10)));Ne(d,gn|wt,p.spdScalingBuffs?R*s[e]:0,l),lh(d,Mt,p.spdScalingBuffs?R*o[e]:0,l)},gpuFinalizeCalculations:(d,u)=>{const b=d.lightConeConditionals;return`
if (${ki(b.spdScalingBuffs)}) {
  let stacks = max(0, min(6, floor((x.SPD - 100) / 10)));

  buffAbilityDmg(p_x, BASIC_DMG_TYPE | SKILL_DMG_TYPE, stacks * ${s[e]}, 1);
  buffAbilityCd(p_x, ULT_DMG_TYPE, stacks * ${o[e]}, 1);
}
    `}}},_1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.IntoTheUnreachableVeil"),{SOURCE_LC:l}=L.lightCone("23037"),s=[.6,.7,.8,.9,1],o={skillUltDmgBoost:!0},r={skillUltDmgBoost:{lc:!0,id:"skillUltDmgBoost",formItem:"switch",text:n("Content.skillUltDmgBoost.text"),content:n("Content.skillUltDmgBoost.content",{DmgBuff:y.precisionRound(s[e]*100)})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;Ne(c,wt|Mt,b.skillUltDmgBoost?s[e]:0,l)},finalizeCalculations:()=>{}}},Q1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.IShallBeMyOwnSword"),{SOURCE_LC:l}=L.lightCone("23014"),s=[.14,.165,.19,.215,.24],o=[.12,.14,.16,.18,.2],r={eclipseStacks:3,maxStackDefPen:!0},c={eclipseStacks:{lc:!0,id:"eclipseStacks",formItem:"slider",text:n("Content.eclipseStacks.text"),content:n("Content.eclipseStacks.content",{DmgBuff:y.precisionRound(100*s[e])}),min:0,max:3},maxStackDefPen:{lc:!0,id:"maxStackDefPen",formItem:"switch",text:n("Content.maxStackDefPen.text"),content:n("Content.maxStackDefPen.content",{DefIgnore:y.precisionRound(100*o[e])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;d.ELEMENTAL_DMG.buff(p.eclipseStacks*s[e],l),d.DEF_PEN.buff(p.maxStackDefPen&&p.eclipseStacks==3?o[e]:0,l)},finalizeCalculations:()=>{}}},$1=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.IVentureForthToHunt"),{SOURCE_LC:l}=L.lightCone("23031"),s=[.27,.3,.33,.36,.39],o={luminfluxUltStacks:2},r={luminfluxUltStacks:{lc:!0,id:"luminfluxUltStacks",formItem:"slider",text:n("Content.luminfluxUltStacks.text"),content:n("Content.luminfluxUltStacks.content",{DefIgnore:y.precisionRound(100*s[e])}),min:0,max:2}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;Jn(c,Mt,b.luminfluxUltStacks*s[e],l)},finalizeCalculations:()=>{}}},q1=(e,t)=>{const{SOURCE_LC:n}=L.lightCone("23041"),l=[.6,.7,.8,.9,1],s=[.12,.15,.18,.21,.24],o={defPen:!0,dmgBoost:!0},r={defPen:!0},c={dmgBoost:{lc:!0,id:"dmgBoost",formItem:"switch",text:"DMG boost",content:v.t("BetaMessage",{ns:"conditionals",Version:On})},defPen:{lc:!0,id:"defPen",formItem:"switch",text:"DEF PEN",content:v.t("BetaMessage",{ns:"conditionals",Version:On})}},d={defPen:c.defPen};return{content:()=>Object.values(c),teammateContent:()=>Object.values(d),defaults:()=>o,teammateDefaults:()=>r,precomputeEffects:(u,b,p)=>{const R=b.lightConeConditionals;u.ELEMENTAL_DMG.buff(R.dmgBoost?l[e]:0,n)},precomputeMutualEffects:(u,b,p)=>{const R=b.lightConeConditionals;u.DEF_PEN.buffTeam(R.defPen?s[e]:0,n)},finalizeCalculations:()=>{}}},ep=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.LongRoadLeadsHome"),{SOURCE_LC:l}=L.lightCone("23035"),s=[.18,.21,.24,.27,.3],o={breakVulnerabilityStacks:2},r={breakVulnerabilityStacks:2},c={breakVulnerabilityStacks:{lc:!0,id:"breakVulnerabilityStacks",formItem:"slider",text:n("Content.breakVulnerabilityStacks.text"),content:n("Content.breakVulnerabilityStacks.content",{breakVulnerability:y.precisionRound(100*s[e])}),min:0,max:2}},d={breakVulnerabilityStacks:c.breakVulnerabilityStacks};return{content:()=>Object.values(c),teammateContent:()=>Object.values(d),defaults:()=>o,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(u,b,p)=>{const R=b.lightConeConditionals;sh(u,Rs,R.breakVulnerabilityStacks*s[e],l,ss.TEAM)},finalizeCalculations:()=>{}}},tp=(e,t)=>{const{SOURCE_LC:n}=L.lightCone("23040"),l=[.3,.35,.4,.45,.5],s={deathFlower:!0},o={deathFlower:{lc:!0,id:"deathFlower",formItem:"switch",text:"Death Flower DEF PEN",content:v.t("BetaMessage",{ns:"conditionals",Version:On})}};return{content:()=>Object.values(o),defaults:()=>s,precomputeEffects:(r,c,d)=>{const u=c.lightConeConditionals;r.DEF_PEN.buffDual(u.deathFlower?l[e]:0,n)},finalizeCalculations:()=>{}}},ap=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.MemorysCurtainNeverFalls.Content"),{SOURCE_LC:l}=L.lightCone("24005"),s=[.08,.1,.12,.14,.16],o={teamDmgBoost:!0},r={teamDmgBoost:!0},c={teamDmgBoost:{lc:!0,id:"teamDmgBoost",formItem:"switch",text:n("teamDmgBoost.text"),content:n("teamDmgBoost.content",{DmgBoost:y.precisionRound(s[e]*100)})}},d={teamDmgBoost:c.teamDmgBoost};return{content:()=>Object.values(c),teammateContent:()=>Object.values(d),defaults:()=>o,teammateDefaults:()=>r,precomputeEffects:(u,b,p)=>{b.lightConeConditionals},precomputeMutualEffects:(u,b,p)=>{const R=b.lightConeConditionals;u.ELEMENTAL_DMG.buffTeam(R.teamDmgBoost?s[e]:0,l)},finalizeCalculations:()=>{}}},np=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.MomentOfVictory"),{SOURCE_LC:l}=L.lightCone("23005"),s=[.24,.28,.32,.36,.4],o={selfAttackedDefBuff:!0},r={selfAttackedDefBuff:{lc:!0,id:"selfAttackedDefBuff",formItem:"switch",text:n("Content.selfAttackedDefBuff.text"),content:n("Content.selfAttackedDefBuff.content",{DefBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.DEF_P.buff(b.selfAttackedDefBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},ip=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.NightOfFright"),{SOURCE_LC:l}=L.lightCone("23017"),s=[.024,.028,.032,.036,.04],o={atkBuffStacks:5},r={atkBuffStacks:5},c={atkBuffStacks:{lc:!0,id:"atkBuffStacks",formItem:"slider",text:n("Content.atkBuffStacks.text"),content:n("Content.atkBuffStacks.content",{AtkBuff:y.precisionRound(100*s[e])}),min:0,max:5}},d={atkBuffStacks:c.atkBuffStacks};return{content:()=>Object.values(c),teammateContent:()=>Object.values(d),defaults:()=>o,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(u,b,p)=>{const R=b.lightConeConditionals;u.ATK_P.buffTeam(R.atkBuffStacks*s[e],l)},finalizeCalculations:()=>{}}},sp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.NightOnTheMilkyWay"),{SOURCE_LC:l}=L.lightCone("23000"),s=[.09,.105,.12,.135,.15],o=[.3,.35,.4,.45,.5],r={enemyCountAtkBuff:!0,enemyWeaknessBreakDmgBuff:!0},c={enemyCountAtkBuff:{lc:!0,id:"enemyCountAtkBuff",formItem:"switch",text:n("Content.enemyCountAtkBuff.text"),content:n("Content.enemyCountAtkBuff.content",{AtkBuff:y.precisionRound(100*s[e])})},enemyWeaknessBreakDmgBuff:{lc:!0,id:"enemyWeaknessBreakDmgBuff",formItem:"switch",text:n("Content.enemyWeaknessBreakDmgBuff.text"),content:n("Content.enemyWeaknessBreakDmgBuff.content",{DmgBuff:y.precisionRound(100*o[e])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;d.ATK_P.buff(p.enemyCountAtkBuff?b.enemyCount*s[e]:0,l),d.ELEMENTAL_DMG.buff(p.enemyWeaknessBreakDmgBuff?o[e]:0,l)},finalizeCalculations:()=>{}}},lp=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),op=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.OnTheFallOfAnAeon"),{SOURCE_LC:l}=L.lightCone("24000"),s=[.08,.1,.12,.14,.16],o=[.12,.15,.18,.21,.24],r={atkBoostStacks:4,weaknessBreakDmgBuff:!0},c={atkBoostStacks:{lc:!0,id:"atkBoostStacks",formItem:"slider",text:n("Content.atkBoostStacks.text"),content:n("Content.atkBoostStacks.content",{AtkBuff:y.precisionRound(100*s[e])}),min:0,max:4},weaknessBreakDmgBuff:{lc:!0,id:"weaknessBreakDmgBuff",formItem:"switch",text:n("Content.weaknessBreakDmgBuff.text"),content:n("Content.weaknessBreakDmgBuff.content",{DmgBuff:y.precisionRound(100*o[e])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;d.ATK_P.buff(p.atkBoostStacks*s[e],l),d.ELEMENTAL_DMG.buff(p.weaknessBreakDmgBuff?o[e]:0,l)},finalizeCalculations:()=>{}}},rp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.PastSelfInTheMirror"),{SOURCE_LC:l}=L.lightCone("23019"),s=[.24,.28,.32,.36,.4],o={postUltDmgBuff:!0},r={postUltDmgBuff:!0},c={postUltDmgBuff:{lc:!0,id:"postUltDmgBuff",formItem:"switch",text:n("Content.postUltDmgBuff.text"),content:n("Content.postUltDmgBuff.content",{DmgBuff:y.precisionRound(100*s[e])})}},d={postUltDmgBuff:c.postUltDmgBuff};return{content:()=>Object.values(c),teammateContent:()=>Object.values(d),defaults:()=>o,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(u,b,p)=>{const R=b.lightConeConditionals;u.ELEMENTAL_DMG.buffTeam(R.postUltDmgBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},cp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.PatienceIsAllYouNeed"),{SOURCE_LC:l}=L.lightCone("23006"),s=[.24,.28,.32,.36,.4],o=[.048,.056,.064,.072,.08],r=[.6,.7,.8,.9,1],c={spdStacks:3,dotEffect:!1},d={spdStacks:{lc:!0,id:"spdStacks",formItem:"slider",text:n("Content.spdStacks.text"),content:n("Content.spdStacks.content",{SpdBuff:y.precisionRound(100*o[e])}),min:0,max:3},dotEffect:{lc:!0,id:"dotEffect",formItem:"switch",text:n("Content.dotEffect.text"),content:n("Content.dotEffect.content",{Multiplier:y.precisionRound(100*r[e])})}};return{content:()=>Object.values(d),defaults:()=>c,precomputeEffects:(u,b,p)=>{const R=b.lightConeConditionals;u.SPD_P.buff(R.spdStacks*o[e],l),u.ELEMENTAL_DMG.buff(s[e],l)},finalizeCalculations:()=>{}}},dp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.ReforgedRemembrance"),{SOURCE_LC:l}=L.lightCone("23022"),s=[.05,.06,.07,.08,.09],o=[.072,.079,.086,.093,.1],r={prophetStacks:4},c={prophetStacks:{lc:!0,id:"prophetStacks",formItem:"slider",text:n("Content.prophetStacks.text"),content:n("Content.prophetStacks.content",{AtkBuff:y.precisionRound(100*s[e]),DefIgnore:y.precisionRound(100*o[e])}),min:0,max:4}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;d.ATK_P.buff(p.prophetStacks*s[e],l),Jn(d,Cl,p.prophetStacks*o[e],l)},finalizeCalculations:()=>{}}},up=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.SailingTowardsASecondLife"),{SOURCE_LC:l}=L.lightCone("23027"),s=[.12,.14,.16,.18,.2],o=[.2,.23,.26,.29,.32],r={breakDmgDefShred:!0,spdBuffConditional:!0},c={breakDmgDefShred:{lc:!0,id:"breakDmgDefShred",formItem:"switch",text:n("Content.breakDmgDefShred.text"),content:n("Content.breakDmgDefShred.content",{DefIgnore:y.precisionRound(100*o[e])})},spdBuffConditional:{lc:!0,id:"spdBuffConditional",formItem:"switch",text:n("Content.spdBuffConditional.text"),content:n("Content.spdBuffConditional.content",{SpdBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;Jn(d,Rs,p.breakDmgDefShred?o[e]:0,l)},finalizeCalculations:(d,u,b)=>{},dynamicConditionals:[{id:"SailingTowardsASecondLifeConditional",type:Ra.ABILITY,activation:ea.SINGLE,dependsOn:[a.BE],chainsTo:[a.SPD],condition:function(d,u,b){return u.lightConeConditionals.spdBuffConditional&&d.a[h.BE]>=1.5},effect:(d,u,b)=>{d.SPD.buffDynamic(s[e]*b.baseSPD,l,u,b)},gpu:function(d,u){return fa(this,`
if (
  (*p_state).SailingTowardsASecondLifeConditional == 0.0 &&
  x.BE >= 1.50
) {
  (*p_state).SailingTowardsASecondLifeConditional = 1.0;
  (*p_x).SPD += ${s[e]} * baseSPD;
}
    `)}}]}},mp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.ScentAloneStaysTrue"),{SOURCE_LC:l}=L.lightCone("23032"),s=[.1,.12,.14,.16,.18],o=[.08,.1,.12,.14,.16],r={woefreeState:!0},c={woefreeState:!0,additionalVulnerability:!0},d={woefreeState:{lc:!0,id:"woefreeState",formItem:"switch",text:n("Content.woefreeState.text"),content:n("Content.woefreeState.content",{Vulnerability:y.precisionRound(100*s[e]),AdditionalVulnerability:y.precisionRound(100*o[e])})}},u={woefreeState:d.woefreeState,additionalVulnerability:{lc:!0,id:"additionalVulnerability",formItem:"switch",text:n("TeammateContent.additionalVulnerability.text"),content:n("TeammateContent.additionalVulnerability.content",{Vulnerability:y.precisionRound(100*s[e]),AdditionalVulnerability:y.precisionRound(100*o[e])})}};return{content:()=>Object.values(d),teammateContent:()=>Object.values(u),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:(b,p,R)=>{},precomputeMutualEffects:(b,p,R)=>{const G=p.lightConeConditionals;b.VULNERABILITY.buffTeam(G.woefreeState?s[e]:0,l)},precomputeTeammateEffects:(b,p,R)=>{const G=p.lightConeConditionals;b.VULNERABILITY.buffTeam(G.woefreeState&&G.additionalVulnerability?o[e]:0,l)},finalizeCalculations:(b,p,R)=>{const G=p.lightConeConditionals;b.VULNERABILITY.buff(G.woefreeState&&b.a[h.BE]>=1.5?o[e]:0,l)},gpuFinalizeCalculations:(b,p)=>{const R=b.lightConeConditionals;return`
if (${ki(R.woefreeState)} && x.BE >= 1.50) {
  x.VULNERABILITY += ${o[e]};
}
      `}}},bp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.SheAlreadyShutHerEyes"),{SOURCE_LC:l}=L.lightCone("23011"),s=[.09,.105,.12,.135,.15],o={hpLostDmgBuff:!0},r={hpLostDmgBuff:!0},c={hpLostDmgBuff:{lc:!0,id:"hpLostDmgBuff",formItem:"switch",text:n("Content.hpLostDmgBuff.text"),content:n("Content.hpLostDmgBuff.content",{DmgBuff:y.precisionRound(100*s[e])})}},d={hpLostDmgBuff:c.hpLostDmgBuff};return{content:()=>Object.values(c),teammateContent:()=>Object.values(d),defaults:()=>o,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(u,b,p)=>{const R=b.lightConeConditionals;u.ELEMENTAL_DMG.buffTeam(R.hpLostDmgBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},hp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.SleepLikeTheDead"),{SOURCE_LC:l}=L.lightCone("23012"),s=[.36,.42,.48,.54,.6],o={missedCritCrBuff:!1},r={missedCritCrBuff:{lc:!0,id:"missedCritCrBuff",formItem:"switch",text:n("Content.missedCritCrBuff.text"),content:n("Content.missedCritCrBuff.content",{CritBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.CR.buff(b.missedCritCrBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},pp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.SolitaryHealing"),{SOURCE_LC:l}=L.lightCone("24003"),s=[.24,.3,.36,.42,.48],o={postUltDotDmgBuff:!0},r={postUltDotDmgBuff:{lc:!0,formItem:"switch",id:"postUltDotDmgBuff",text:n("Content.postUltDotDmgBuff.text"),content:n("Content.postUltDotDmgBuff.content",{DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;Ne(c,Cl,b.postUltDotDmgBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},Sp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.SomethingIrreplaceable"),{SOURCE_LC:l}=L.lightCone("23002"),s=[.24,.28,.32,.36,.4],o=[.08,.09,.1,.11,.12],r={dmgBuff:!0},c={dmgBuff:{lc:!0,id:"dmgBuff",formItem:"switch",text:n("Content.dmgBuff.text"),content:n("Content.dmgBuff.content",{Multiplier:y.precisionRound(100*o[e]),DmgBuff:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;d.ELEMENTAL_DMG.buff(p.dmgBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},Rp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.TextureOfMemories"),{SOURCE_LC:l}=L.lightCone("24002"),s=[.12,.15,.18,.21,.24],o=[.16,.2,.24,.28,.32],r={activeShieldDmgDecrease:!0},c={activeShieldDmgDecrease:{lc:!0,id:"activeShieldDmgDecrease",formItem:"switch",text:n("Content.activeShieldDmgDecrease.text"),content:n("Content.activeShieldDmgDecrease.content",{ShieldHp:y.precisionRound(100*o[e]),DmgReduction:y.precisionRound(100*s[e])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;d.DMG_RED_MULTI.multiply(p.activeShieldDmgDecrease?1-s[e]:1,l)},finalizeCalculations:()=>{}}},fp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.TheUnreachableSide"),{SOURCE_LC:l}=L.lightCone("23009"),s=[.24,.28,.32,.36,.4],o={dmgBuff:!0},r={dmgBuff:{lc:!0,id:"dmgBuff",formItem:"switch",text:n("Content.dmgBuff.text"),content:n("Content.dmgBuff.content",{DmgBuff:y.precisionRound(s[e]*100)})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.ELEMENTAL_DMG.buff(b.dmgBuff?s[e]:0,l)},finalizeCalculations:()=>{}}},Gp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.ThoseManySprings"),{SOURCE_LC:l}=L.lightCone("23029"),s=[.1,.12,.14,.16,.18],o=[.14,.16,.18,.2,.22],r={unarmoredVulnerability:!0,corneredVulnerability:!0},c={unarmoredVulnerability:!0,corneredVulnerability:!0},d={unarmoredVulnerability:{lc:!0,id:"unarmoredVulnerability",formItem:"switch",text:n("Content.unarmoredVulnerability.text"),content:n("Content.unarmoredVulnerability.content",{UnarmoredVulnerability:y.precisionRound(s[e]*100),CorneredVulnerability:y.precisionRound(o[e]*100)})},corneredVulnerability:{lc:!0,id:"corneredVulnerability",formItem:"switch",text:n("Content.corneredVulnerability.text"),content:n("Content.corneredVulnerability.content",{UnarmoredVulnerability:y.precisionRound(s[e]*100),CorneredVulnerability:y.precisionRound(o[e]*100)})}},u={unarmoredVulnerability:d.unarmoredVulnerability,corneredVulnerability:d.corneredVulnerability};return{content:()=>Object.values(d),teammateContent:()=>Object.values(u),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:()=>{},precomputeMutualEffects:(b,p,R)=>{const G=p.lightConeConditionals;b.VULNERABILITY.buffTeam(G.unarmoredVulnerability||G.corneredVulnerability?s[e]:0,l),b.VULNERABILITY.buffTeam(G.corneredVulnerability?o[e]:0,l)},finalizeCalculations:()=>{}}},gp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.TimeWaitsForNoOne");L.lightCone("23013");const l=[.36,.42,.48,.54,.6],s={healingBasedDmgProc:!1},o={healingBasedDmgProc:{lc:!0,id:"healingBasedDmgProc",formItem:"switch",text:n("Content.healingBasedDmgProc.text"),content:n("Content.healingBasedDmgProc.content",{Multiplier:y.precisionRound(l[e]*100)})}};return{content:()=>Object.values(o),defaults:()=>s,precomputeEffects:()=>{},finalizeCalculations:()=>{}}},Tp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.TimeWovenIntoGold"),{SOURCE_LC:l}=L.lightCone("23036"),s=[.09,.105,.12,.135,.15],o=[.09,.105,.12,.135,.15],r={brocadeStacks:6,maxStacksBasicDmgBoost:!0},c={brocadeStacks:{lc:!0,id:"brocadeStacks",formItem:"slider",text:n("Content.brocadeStacks.text"),content:n("Content.brocadeStacks.content",{CdBuff:y.precisionRound(s[e]*100),DmgBuff:y.precisionRound(o[e]*100)}),min:0,max:6},maxStacksBasicDmgBoost:{lc:!0,id:"maxStacksBasicDmgBoost",formItem:"switch",text:n("Content.maxStacksBasicDmgBoost.text"),content:n("Content.maxStacksBasicDmgBoost.content",{CdBuff:y.precisionRound(s[e]*100),DmgBuff:y.precisionRound(o[e]*100)})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;d.CD.buffDual(p.brocadeStacks*s[e],l),d.BASIC_DMG_BOOST.buffDual(p.brocadeStacks>=6&&p.maxStacksBasicDmgBoost?p.brocadeStacks*o[e]:0,l)},finalizeCalculations:()=>{}}},yp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.WhereaboutsShouldDreamsRest"),{SOURCE_LC:l}=L.lightCone("23025"),s=[.24,.28,.32,.36,.4],o={routedVulnerability:!0},r={routedVulnerability:{lc:!0,id:"routedVulnerability",formItem:"switch",text:n("Content.routedVulnerability.text"),content:n("Content.routedVulnerability.content",{Vulnerability:s[e]*100})}};return{content:()=>Object.values(r),defaults:()=>o,precomputeEffects:(c,d,u)=>{const b=d.lightConeConditionals;c.VULNERABILITY.buff(b.routedVulnerability?s[e]:0,l)},finalizeCalculations:()=>{}}},Zp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.WorrisomeBlissful"),{SOURCE_LC:l}=L.lightCone("23016"),s=[.3,.35,.4,.45,.5],o=[.12,.14,.16,.18,.2],r={targetTameStacks:2},c={targetTameStacks:2},d={targetTameStacks:{lc:!0,id:"targetTameStacks",formItem:"slider",text:n("Content.targetTameStacks.text"),content:n("Content.targetTameStacks.content",{CritBuff:y.precisionRound(100*o[e])}),min:0,max:2}},u={targetTameStacks:d.targetTameStacks};return{content:()=>Object.values(d),teammateContent:()=>Object.values(u),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:(b,p,R)=>{Ne(b,Sa,s[e],l)},precomputeMutualEffects:(b,p,R)=>{const G=p.lightConeConditionals;b.CD.buffTeam(G.targetTameStacks*o[e],l)},finalizeCalculations:()=>{}}},Cp=(e,t)=>{const n=y.wrappedFixedT(t).get(null,"conditionals","Lightcones.YetHopeIsPriceless"),{SOURCE_LC:l}=L.lightCone("23028"),s=[.12,.14,.16,.18,.2],o=[.2,.24,.28,.32,.36],r={fuaDmgBoost:!0,ultFuaDefShred:!0},c={fuaDmgBoost:{lc:!0,id:"fuaDmgBoost",formItem:"switch",text:n("Content.fuaDmgBoost.text"),content:n("Content.fuaDmgBoost.content",{DmgBuff:y.precisionRound(s[e]*100)})},ultFuaDefShred:{lc:!0,id:"ultFuaDefShred",formItem:"switch",text:n("Content.ultFuaDefShred.text"),content:n("Content.ultFuaDefShred.content",{DefShred:y.precisionRound(s[e]*100)})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(d,u,b)=>{const p=u.lightConeConditionals;Jn(d,Mt|Sa,p.ultFuaDefShred?o[e]:0,l)},finalizeCalculations:(d,u,b)=>{const p=u.lightConeConditionals;Ne(d,Sa,p.fuaDmgBoost?s[e]*Math.min(4,Math.floor(d.a[h.CD]-1.2)/.2):0,l)},gpuFinalizeCalculations:(d,u)=>{const b=d.lightConeConditionals;return`
if (${ki(b.fuaDmgBoost)}) {
  buffAbilityDmg(p_x, FUA_DMG_TYPE, ${s[e]} * min(4, floor(x.CD - 1.20) / 0.20), 1);
}
    `}}},Dp={23e3:sp,23001:z1,23002:Sp,23003:v1,23004:j1,23005:np,23006:cp,23007:J1,23008:w1,23009:fp,23010:B1,23011:bp,23012:hp,23013:gp,23014:Q1,23015:H1,23016:Zp,23017:ip,23018:P1,23019:rp,23020:F1,23021:Y1,23022:dp,23023:A1,23024:V1,23025:yp,23026:U1,23027:up,23028:Cp,23029:Gp,23030:k1,23031:$1,23032:mp,23033:lp,23034:L1,23035:ep,24e3:op,24001:X1,24002:Rp,24003:pp,24004:N1,23036:Tp,23037:_1,23038:K1,23039:O1,23040:tp,23041:q1,24005:ap},Ep={21e3:l1,21001:Uh,21002:Ph,21003:qh,21004:_h,21005:G1,21006:S1,21007:m1,21008:vh,21009:jh,21010:p1,21011:i1,21012:Ih,21013:zh,21014:n1,21015:r1,21016:Z1,21017:b1,21018:Vh,21019:C1,21020:Oh,21021:o1,21022:Xh,21023:I1,21024:d1,21025:e1,21026:M1,21027:g1,21028:E1,21029:x1,21030:T1,21031:c1,21032:Mh,21033:$h,21034:y1,21035:W1,21036:Hh,21037:kh,21038:Yh,21039:Fh,21040:R1,21041:Ah,21042:Jh,21043:Lh,21044:Wh,21045:Eh,21046:s1,21047:u1,21048:Bh,21050:D1,21051:Nh,21052:h1,22e3:xh,22001:Kh,22002:wh,22003:Qh,22004:f1},Ip={2e4:wb,20001:rh,20002:oh,20003:Yb,20004:Dh,20005:Nb,20006:dh,20007:ch,20008:mh,20009:Ch,20010:uh,20011:hh,20012:Sh,20013:Gh,20014:kb,20015:Rh,20016:fh,20017:gh,20018:bh,20019:ph,20020:yh,20021:Zh,20022:Th},xp={...Dp,...Ep,...Ip},aa={get:(e,t=!1)=>{const n=xp[e.lightCone];return!n||e.lightConePath!==e.path&&!(window!=null&&window.WEBGPU_DEBUG)?{content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}:n(e.lightConeSuperimposition-1,t,{element:e.element})}};function Wd(e){var o;const t=I.getScoringMetadata(e.id),n=((o=t==null?void 0:t.traces)==null?void 0:o.deactivated)??[],l={...e.traces},s=[...e.traceTree];for(;s.length;){const r=s.pop();s.push(...r.children),n.includes(r.id)&&l[r.stat]&&(l[r.stat]=Math.max(0,l[r.stat]-r.value))}return l}function ii(){const e={mainStat:a.HP,mainValue:0};for(const t of Object.values(a))e[t]=0;return{set:-1,augmentedStats:e,substats:[]}}function Wp(){return{[a.HP]:0,[a.ATK]:0,[a.DEF]:0}}const s0={SpaceSealingStation:{key:"SpaceSealingStation",index:0,p2c:(e,t)=>{e.ATK_P.buff(.12,L.SpaceSealingStation)}},FleetOfTheAgeless:{key:"FleetOfTheAgeless",index:1,p2c:(e,t)=>{e.HP_P.buff(.12,L.FleetOfTheAgeless)}},PanCosmicCommercialEnterprise:{key:"PanCosmicCommercialEnterprise",index:2,p2c:(e,t)=>{e.EHR.buff(.1,L.PanCosmicCommercialEnterprise)}},BelobogOfTheArchitects:{key:"BelobogOfTheArchitects",index:3,p2c:(e,t)=>{e.DEF_P.buff(.15,L.BelobogOfTheArchitects)}},CelestialDifferentiator:{key:"CelestialDifferentiator",index:4,p2c:(e,t)=>{e.CD.buff(.16,L.CelestialDifferentiator)},p2x:(e,t,n)=>{n.enabledCelestialDifferentiator&&e.c.a[h.CD]>=1.2&&e.CR.buff(.6,L.CelestialDifferentiator)}},InertSalsotto:{key:"InertSalsotto",index:5,p2c:(e,t)=>{e.CR.buff(.08,L.InertSalsotto)}},TaliaKingdomOfBanditry:{key:"TaliaKingdomOfBanditry",index:6,p2c:(e,t)=>{e.BE.buff(.16,L.TaliaKingdomOfBanditry)}},SprightlyVonwacq:{key:"SprightlyVonwacq",index:7,p2c:(e,t)=>{e.ERR.buff(.05,L.SprightlyVonwacq)}},RutilantArena:{key:"RutilantArena",index:8,p2c:(e,t)=>{e.CR.buff(.08,L.RutilantArena)}},BrokenKeel:{key:"BrokenKeel",index:9,p2c:(e,t)=>{e.RES.buff(.1,L.BrokenKeel)}},FirmamentFrontlineGlamoth:{key:"FirmamentFrontlineGlamoth",index:10,p2c:(e,t)=>{e.ATK_P.buff(.12,L.FirmamentFrontlineGlamoth)}},PenaconyLandOfTheDreams:{key:"PenaconyLandOfTheDreams",index:11,p2c:(e,t)=>{e.ERR.buff(.05,L.PenaconyLandOfTheDreams)},p2x:(e,t,n)=>{n.enabledPenaconyLandOfTheDreams&&e.ELEMENTAL_DMG.buffMemo(.1,L.PenaconyLandOfTheDreams)}},SigoniaTheUnclaimedDesolation:{key:"SigoniaTheUnclaimedDesolation",index:12,p2c:(e,t)=>{e.CR.buff(.04,L.SigoniaTheUnclaimedDesolation)},p2x:(e,t,n)=>{e.CD.buff(.04*n.valueSigoniaTheUnclaimedDesolation,L.SigoniaTheUnclaimedDesolation)}},IzumoGenseiAndTakamaDivineRealm:{key:"IzumoGenseiAndTakamaDivineRealm",index:13,p2c:(e,t)=>{e.ATK_P.buff(.12,L.IzumoGenseiAndTakamaDivineRealm)},p2x:(e,t,n)=>{n.enabledIzumoGenseiAndTakamaDivineRealm&&e.CR.buff(.12,L.IzumoGenseiAndTakamaDivineRealm)}},DuranDynastyOfRunningWolves:{key:"DuranDynastyOfRunningWolves",index:14,p2c:(e,t)=>{},p2x:(e,t,n)=>{Ne(e,Sa,.05*n.valueDuranDynastyOfRunningWolves,L.DuranDynastyOfRunningWolves),n.valueDuranDynastyOfRunningWolves>=5&&e.CD.buff(.25,L.DuranDynastyOfRunningWolves)}},ForgeOfTheKalpagniLantern:{key:"ForgeOfTheKalpagniLantern",index:15,p2c:(e,t)=>{e.SPD_P.buff(.06,L.ForgeOfTheKalpagniLantern)},p2x:(e,t,n)=>{n.enabledForgeOfTheKalpagniLantern&&e.BE.buff(.4,L.ForgeOfTheKalpagniLantern)}},LushakaTheSunkenSeas:{key:"LushakaTheSunkenSeas",index:16,p2c:(e,t)=>{e.ERR.buff(.05,L.LushakaTheSunkenSeas)}},TheWondrousBananAmusementPark:{key:"TheWondrousBananAmusementPark",index:17,p2c:(e,t)=>{e.CD.buff(.16,L.TheWondrousBananAmusementPark)},p2x:(e,t,n)=>{n.enabledTheWondrousBananAmusementPark&&e.CD.buff(.32,L.TheWondrousBananAmusementPark)}},BoneCollectionsSereneDemesne:{key:"BoneCollectionsSereneDemesne",index:18,p2c:(e,t)=>{e.HP_P.buff(.12,L.BoneCollectionsSereneDemesne)}},GiantTreeOfRaptBrooding:{key:"GiantTreeOfRaptBrooding",index:19,p2c:(e,t)=>{e.SPD_P.buff(.06,L.GiantTreeOfRaptBrooding)}}},l0={PasserbyOfWanderingCloud:{key:"PasserbyOfWanderingCloud",index:0,p2c:(e,t)=>{e.OHB.buff(.1,L.PasserbyOfWanderingCloud)}},MusketeerOfWildWheat:{key:"MusketeerOfWildWheat",index:1,p2c:(e,t)=>{e.ATK_P.buff(.12,L.MusketeerOfWildWheat)},p4c:(e,t)=>{e.SPD_P.buff(.06,L.MusketeerOfWildWheat)},p4x:(e,t,n)=>{Ne(e,gn,.1,L.MusketeerOfWildWheat)}},KnightOfPurityPalace:{key:"KnightOfPurityPalace",index:2,p2c:(e,t)=>{e.DEF_P.buff(.15,L.KnightOfPurityPalace)},p4x:(e,t,n)=>{e.SHIELD_BOOST.buff(.2,L.KnightOfPurityPalace)}},HunterOfGlacialForest:{key:"HunterOfGlacialForest",index:3,p2c:(e,t)=>{t.elementalDamageType==a.Ice_DMG&&e.ICE_DMG_BOOST.buff(.1,L.HunterOfGlacialForest)},p4x:(e,t,n)=>{n.enabledHunterOfGlacialForest&&e.CD.buff(.25,L.HunterOfGlacialForest)}},ChampionOfStreetwiseBoxing:{key:"ChampionOfStreetwiseBoxing",index:4,p2c:(e,t)=>{t.elementalDamageType==a.Physical_DMG&&e.PHYSICAL_DMG_BOOST.buff(.1,L.ChampionOfStreetwiseBoxing)},p4x:(e,t,n)=>{e.ATK_P.buff(.05*n.valueChampionOfStreetwiseBoxing,L.ChampionOfStreetwiseBoxing)}},GuardOfWutheringSnow:{key:"GuardOfWutheringSnow",index:5,p2c:(e,t)=>{},p2x:(e,t,n)=>{e.DMG_RED_MULTI.multiply(1-.08,L.GuardOfWutheringSnow)}},FiresmithOfLavaForging:{key:"FiresmithOfLavaForging",index:6,p2c:(e,t)=>{t.elementalDamageType==a.Fire_DMG&&e.FIRE_DMG_BOOST.buff(.1,L.FiresmithOfLavaForging)},p4x:(e,t,n)=>{Ne(e,wt,.12,L.FiresmithOfLavaForging),n.enabledFiresmithOfLavaForging&&e.FIRE_DMG_BOOST.buff(.12,L.FiresmithOfLavaForging)}},GeniusOfBrilliantStars:{key:"GeniusOfBrilliantStars",index:7,p2c:(e,t)=>{t.elementalDamageType==a.Quantum_DMG&&e.QUANTUM_DMG_BOOST.buff(.1,L.GeniusOfBrilliantStars)},p4x:(e,t,n)=>{e.DEF_PEN.buff(n.enabledGeniusOfBrilliantStars?.2:.1,L.GeniusOfBrilliantStars)}},BandOfSizzlingThunder:{key:"BandOfSizzlingThunder",index:8,p2c:(e,t)=>{t.elementalDamageType==a.Lightning_DMG&&e.LIGHTNING_DMG_BOOST.buff(.1,L.BandOfSizzlingThunder)},p4x:(e,t,n)=>{n.enabledBandOfSizzlingThunder&&e.ATK_P.buff(.2,L.BandOfSizzlingThunder)}},EagleOfTwilightLine:{key:"EagleOfTwilightLine",index:9,p2c:(e,t)=>{t.elementalDamageType==a.Wind_DMG&&e.WIND_DMG_BOOST.buff(.1,L.EagleOfTwilightLine)}},ThiefOfShootingMeteor:{key:"ThiefOfShootingMeteor",index:10,p2c:(e,t)=>{e.BE.buff(.16,L.ThiefOfShootingMeteor)},p4c:(e,t)=>{e.BE.buff(.16,L.ThiefOfShootingMeteor)}},WastelanderOfBanditryDesert:{key:"WastelanderOfBanditryDesert",index:11,p2c:(e,t)=>{t.elementalDamageType==a.Imaginary_DMG&&e.IMAGINARY_DMG_BOOST.buff(.1,L.WastelanderOfBanditryDesert)},p4x:(e,t,n)=>{e.CD_BOOST.buff(.1*(n.valueWastelanderOfBanditryDesert==2?1:0),L.WastelanderOfBanditryDesert),n.valueWastelanderOfBanditryDesert>0&&e.CR_BOOST.buff(.1,L.WastelanderOfBanditryDesert)}},LongevousDisciple:{key:"LongevousDisciple",index:12,p2c:(e,t)=>{e.HP_P.buff(.12,L.LongevousDisciple)},p4x:(e,t,n)=>{e.CR.buff(.08*n.valueLongevousDisciple,L.LongevousDisciple)}},MessengerTraversingHackerspace:{key:"MessengerTraversingHackerspace",index:13,p2c:(e,t)=>{e.SPD_P.buff(.06,L.MessengerTraversingHackerspace)},p4x:(e,t,n)=>{n.enabledMessengerTraversingHackerspace&&e.SPD_P.buffTeam(.12,L.MessengerTraversingHackerspace)}},TheAshblazingGrandDuke:{key:"TheAshblazingGrandDuke",index:14,p2c:(e,t)=>{},p2x:(e,t,n)=>{Ne(e,Sa,.2,L.TheAshblazingGrandDuke)},p4x:(e,t,n)=>{e.ATK_P.buff(.06*n.valueTheAshblazingGrandDuke,L.TheAshblazingGrandDuke)}},PrisonerInDeepConfinement:{key:"PrisonerInDeepConfinement",index:15,p2c:(e,t)=>{e.ATK_P.buff(.12,L.PrisonerInDeepConfinement)},p4x:(e,t,n)=>{e.DEF_PEN.buff(.06*n.valuePrisonerInDeepConfinement,L.PrisonerInDeepConfinement)}},PioneerDiverOfDeadWaters:{key:"PioneerDiverOfDeadWaters",index:16,p2x:(e,t,n)=>{n.valuePioneerDiverOfDeadWaters>=0&&e.ELEMENTAL_DMG.buff(.12,L.PioneerDiverOfDeadWaters)},p4c:(e,t)=>{e.CR.buff(.04,L.PioneerDiverOfDeadWaters)},p4x:(e,t,n)=>{e.CD_BOOST.buff(Lp[n.valuePioneerDiverOfDeadWaters],L.PioneerDiverOfDeadWaters),n.valuePioneerDiverOfDeadWaters>2&&e.CR.buff(.04,L.PioneerDiverOfDeadWaters)}},WatchmakerMasterOfDreamMachinations:{key:"WatchmakerMasterOfDreamMachinations",index:17,p2c:(e,t)=>{e.BE.buff(.16,L.WatchmakerMasterOfDreamMachinations)},p4x:(e,t,n)=>{n.enabledWatchmakerMasterOfDreamMachinations&&e.BE.buffTeam(.3,L.WatchmakerMasterOfDreamMachinations)}},IronCavalryAgainstTheScourge:{key:"IronCavalryAgainstTheScourge",index:18,p2c:(e,t)=>{e.BE.buff(.16,L.IronCavalryAgainstTheScourge)}},TheWindSoaringValorous:{key:"TheWindSoaringValorous",index:19,p2c:(e,t)=>{e.ATK_P.buff(.12,L.TheWindSoaringValorous)},p4c:(e,t)=>{e.CR.buff(.06,L.TheWindSoaringValorous)},p4x:(e,t,n)=>{n.enabledTheWindSoaringValorous&&Ne(e,Mt,.36,L.TheWindSoaringValorous)}},SacerdosRelivedOrdeal:{key:"SacerdosRelivedOrdeal",index:20,p2c:(e,t)=>{e.SPD_P.buff(.06,L.SacerdosRelivedOrdeal)},p4x:(e,t,n)=>{e.CD.buff(.18*n.valueSacerdosRelivedOrdeal,L.SacerdosRelivedOrdeal)}},ScholarLostInErudition:{key:"ScholarLostInErudition",index:21,p2c:(e,t)=>{e.CR.buff(.08,L.ScholarLostInErudition)},p4x:(e,t,n)=>{Ne(e,Mt|wt,.2,L.ScholarLostInErudition),n.enabledScholarLostInErudition&&Ne(e,wt,.25,L.ScholarLostInErudition)}},HeroOfTriumphantSong:{key:"HeroOfTriumphantSong",index:22,p2c:(e,t)=>{e.ATK_P.buff(.12,L.HeroOfTriumphantSong)},p4x:(e,t,n)=>{n.enabledHeroOfTriumphantSong&&(e.SPD_P.buff(.06,L.HeroOfTriumphantSong),e.CD.buffDual(.3,L.HeroOfTriumphantSong))}},PoetOfMourningCollapse:{key:"PoetOfMourningCollapse",index:23,p2c:(e,t)=>{t.elementalDamageType==a.Quantum_DMG&&e.QUANTUM_DMG_BOOST.buff(.1,L.PoetOfMourningCollapse)},p4c:(e,t)=>{e.SPD_P.buff(-.08,L.PoetOfMourningCollapse)},p4x:(e,t,n)=>{e.CR.buffBaseDual((e.c.a[h.SPD]<110?.2:0)+(e.c.a[h.SPD]<95?.12:0),L.PoetOfMourningCollapse)}}},Mp={...l0,...s0},ct=Object.fromEntries(Object.keys(Mp).map(e=>[e,e])),Lp={[-1]:0,0:0,1:.08,2:.12,3:.16,4:.24},Md=Object.entries(s0).sort((e,t)=>e[1].index-t[1].index).map(e=>e[1]),Vp=Object.entries(s0).sort((e,t)=>e[1].index-t[1].index).map(e=>e[0]),$i=Object.entries(l0).sort((e,t)=>e[1].index-t[1].index).map(e=>e[1]),Ld=Object.entries(l0).sort((e,t)=>e[1].index-t[1].index).map(e=>e[0]);function Pp(e){const t=Object.create(null);for(let n=0;n<4;n++){const l=Ld[e[n]];t[l]=(t[l]??0)+1}return e[4]==e[5]&&(t[Vp[e[4]]]=2),t}function Fp(e,t,n,l){const s={};for(let o=0;o<4;o++){const r=l[o];if(s[r])continue;s[r]=!0;const c=Ld[r],d=n[c]??0;if(d>=2){const u=$i[r];d>=2&&u.p2c&&u.p2c(e,t),d>=4&&u.p4c&&u.p4c(e,t)}}if(l[4]==l[5]){const o=Md[l[4]];o.p2c&&o.p2c(e,t)}}function Bp(e,t){const n=e.a,l=t.characterStatsBreakdown.base,s=t.characterStatsBreakdown.lightCone,o=t.characterStatsBreakdown.traces;switch(n[h.ELEMENTAL_DMG]=0,t.elementalDamageType){case a.Physical_DMG:n[h.ELEMENTAL_DMG]=jt(a.Physical_DMG,l,s,o,e,0);break;case a.Fire_DMG:n[h.ELEMENTAL_DMG]=jt(a.Fire_DMG,l,s,o,e,0);break;case a.Ice_DMG:n[h.ELEMENTAL_DMG]=jt(a.Ice_DMG,l,s,o,e,0);break;case a.Lightning_DMG:n[h.ELEMENTAL_DMG]=jt(a.Lightning_DMG,l,s,o,e,0);break;case a.Wind_DMG:n[h.ELEMENTAL_DMG]=jt(a.Wind_DMG,l,s,o,e,0);break;case a.Quantum_DMG:n[h.ELEMENTAL_DMG]=jt(a.Quantum_DMG,l,s,o,e,0);break;case a.Imaginary_DMG:n[h.ELEMENTAL_DMG]=jt(a.Imaginary_DMG,l,s,o,e,0);break}}function Hp(e,t){const n=t.characterStatsBreakdown.base,l=t.characterStatsBreakdown.lightCone,s=t.characterStatsBreakdown.traces,o=e.a;o[h.SPD]=xs(a.SPD,a.SPD_P,t.baseSPD,l,s,e,0),o[h.HP]=xs(a.HP,a.HP_P,t.baseHP,l,s,e,0),o[h.ATK]=xs(a.ATK,a.ATK_P,t.baseATK,l,s,e,0),o[h.DEF]=xs(a.DEF,a.DEF_P,t.baseDEF,l,s,e,0),o[h.CR]=jt(a.CR,n,l,s,e,0),o[h.CD]=jt(a.CD,n,l,s,e,0),o[h.EHR]=jt(a.EHR,n,l,s,e,0),o[h.RES]=jt(a.RES,n,l,s,e,0),o[h.BE]=jt(a.BE,n,l,s,e,0),o[h.ERR]=jt(a.ERR,n,l,s,e,0),o[h.OHB]=jt(a.OHB,n,l,s,e,0)}function vp(e,t,n){const l=n.lightConeConditionalController,s=n.characterConditionalController;l.calculateBasicEffects&&l.calculateBasicEffects(e,t,n),s.calculateBasicEffects&&s.calculateBasicEffects(e,t,n)}function Xp(e,t,n){const l=t.setConditionals,s=e.a,o=e.c,r=o.sets,c=o.setsArray,d=n.combatBuffs;if(s[h.ATK]+=o.a[h.ATK]+d.ATK+d.ATK_P*n.baseATK,s[h.DEF]+=o.a[h.DEF]+d.DEF+d.DEF_P*n.baseDEF,s[h.HP]+=o.a[h.HP]+d.HP+d.HP_P*n.baseHP,s[h.SPD]+=o.a[h.SPD]+d.SPD+d.SPD_P*n.baseSPD,s[h.CD]+=o.a[h.CD]+d.CD,s[h.CR]+=o.a[h.CR]+d.CR,s[h.BE]+=o.a[h.BE]+d.BE,s[h.EHR]+=o.a[h.EHR],s[h.RES]+=o.a[h.RES],s[h.ERR]+=o.a[h.ERR],s[h.OHB]+=o.a[h.OHB],s[h.BASE_ATK]=n.baseATK,s[h.BASE_DEF]=n.baseDEF,s[h.BASE_HP]=n.baseHP,s[h.BASE_SPD]=n.baseSPD,e.a[h.MEMOSPRITE]){const u=e.m.c,b=e.m.c.a,p=e.m.a;b[h.ATK]=e.a[h.MEMO_BASE_ATK_SCALING]*o.a[h.ATK]+e.a[h.MEMO_BASE_ATK_FLAT],b[h.DEF]=e.a[h.MEMO_BASE_DEF_SCALING]*o.a[h.DEF]+e.a[h.MEMO_BASE_DEF_FLAT],b[h.HP]=e.a[h.MEMO_BASE_HP_SCALING]*o.a[h.HP]+e.a[h.MEMO_BASE_HP_FLAT],b[h.SPD]=e.a[h.MEMO_BASE_SPD_SCALING]*o.a[h.SPD]+e.a[h.MEMO_BASE_SPD_FLAT],p[h.BASE_ATK]=u.a[h.ATK],p[h.BASE_DEF]=u.a[h.DEF],p[h.BASE_HP]=u.a[h.HP],p[h.BASE_SPD]=u.a[h.SPD],p[h.ATK]+=u.a[h.ATK],p[h.DEF]+=u.a[h.DEF],p[h.HP]+=u.a[h.HP],p[h.SPD]+=u.a[h.SPD],p[h.CD]+=o.a[h.CD],p[h.CR]+=o.a[h.CR],p[h.BE]+=o.a[h.BE],p[h.EHR]+=o.a[h.EHR],p[h.RES]+=o.a[h.RES],p[h.ERR]+=o.a[h.ERR],p[h.OHB]+=o.a[h.OHB]}if(s[h.ELEMENTAL_DMG]+=d.DMG_BOOST,s[h.EFFECT_RES_PEN]+=d.EFFECT_RES_PEN,s[h.VULNERABILITY]+=d.VULNERABILITY,s[h.BREAK_EFFICIENCY_BOOST]+=d.BREAK_EFFICIENCY,sr(e,n.elementalDamageType,o.a[h.ELEMENTAL_DMG]),e.a[h.MEMOSPRITE]&&sr(e.m,n.elementalDamageType,o.a[h.ELEMENTAL_DMG]),kp(e,n,l,r,c),s[h.SPD]+=s[h.SPD_P]*n.baseSPD,s[h.ATK]+=s[h.ATK_P]*n.baseATK,s[h.DEF]+=s[h.DEF_P]*n.baseDEF,s[h.HP]+=s[h.HP_P]*n.baseHP,e.a[h.MEMOSPRITE]){const u=e.m.a;u[h.SPD]+=u[h.SPD_P]*u[h.BASE_SPD],u[h.ATK]+=u[h.ATK_P]*u[h.BASE_ATK],u[h.DEF]+=u[h.DEF_P]*u[h.BASE_DEF],u[h.HP]+=u[h.HP_P]*u[h.BASE_HP]}c[4]==c[5]&&(bt(ct.SpaceSealingStation,r)&&At(Vd,e,t,n),bt(ct.FleetOfTheAgeless,r)&&At(Pd,e,t,n),bt(ct.BelobogOfTheArchitects,r)&&At(Fd,e,t,n),bt(ct.PanCosmicCommercialEnterprise,r)&&At(Bd,e,t,n),bt(ct.BrokenKeel,r)&&At(Hd,e,t,n),bt(ct.TaliaKingdomOfBanditry,r)&&At(vd,e,t,n),bt(ct.BoneCollectionsSereneDemesne,r)&&At(Yd,e,t,n),bt(ct.GiantTreeOfRaptBrooding,r)&&At(Xd,e,t,n),bt(ct.GiantTreeOfRaptBrooding,r)&&At(kd,e,t,n));for(const u of n.characterConditionalController.dynamicConditionals??[])At(u,e,t,n);for(const u of n.lightConeConditionalController.dynamicConditionals??[])At(u,e,t,n);for(const u of t.teammateDynamicConditionals??[])At(u,e,t,n);return c[4]==c[5]&&(bt(ct.FirmamentFrontlineGlamoth,r)&&e.a[h.SPD]>=135&&e.ELEMENTAL_DMG.buff(e.a[h.SPD]>=160?.18:.12,L.FirmamentFrontlineGlamoth),bt(ct.RutilantArena,r)&&e.a[h.CR]>=.7&&Ne(e,gn|wt,.2,L.RutilantArena),bt(ct.InertSalsotto,r)&&e.a[h.CR]>=.5&&Ne(e,Mt|Sa,.15,L.InertSalsotto)),Yp(ct.IronCavalryAgainstTheScourge,r)&&e.a[h.BE]>=1.5&&(Jn(e,Rs,.1,L.IronCavalryAgainstTheScourge),Jn(e,Td,e.a[h.BE]>=2.5?.15:0,L.IronCavalryAgainstTheScourge)),e}function kp(e,t,n,l,s){const[o,r,c,d,u,b]=s;if(u==b){const p=Md[u];p.p2x&&p.p2x(e,t,n)}if(o===r&&r===c&&c===d){const p=$i[o];p.p2x&&p.p2x(e,t,n),p.p4x&&p.p4x(e,t,n);return}if(o===r||o===c||o===d){const p=$i[o];p.p2x&&p.p2x(e,t,n)}if((r===c||r===d)&&r!==o){const p=$i[r];p.p2x&&p.p2x(e,t,n)}if(c===d&&c!==o&&c!==r){const p=$i[c];p.p2x&&p.p2x(e,t,n)}}function bt(e,t){return t[e]>>1}function Yp(e,t){return t[e]>>2}function wp(e,t,n,l,s,o,r,c){const d=e.a;if(t!=null&&t.condensedStats)for(const u of t.condensedStats)d[u[0]]+=u[1];if(n!=null&&n.condensedStats)for(const u of n.condensedStats)d[u[0]]+=u[1];if(l!=null&&l.condensedStats)for(const u of l.condensedStats)d[u[0]]+=u[1];if(s!=null&&s.condensedStats)for(const u of s.condensedStats)d[u[0]]+=u[1];if(o!=null&&o.condensedStats)for(const u of o.condensedStats)d[u[0]]+=u[1];if(r!=null&&r.condensedStats)for(const u of r.condensedStats)d[u[0]]+=u[1];c&&e.setWeight(t.weightScore+n.weightScore+l.weightScore+s.weightScore+o.weightScore+r.weightScore)}function jt(e,t,n,l,s,o){return t[e]+n[e]+s.a[xt[e]]+l[e]+o}function xs(e,t,n,l,s,o,r){return n*(1+r+o.a[xt[t]]+s[t]+l[t])+o.a[xt[e]]+s[e]}const Vd={id:"SpaceSealingStationConditional",type:Ra.SET,activation:ea.SINGLE,dependsOn:[a.SPD],chainsTo:[a.ATK],condition:function(e,t,n){return bt(ct.SpaceSealingStation,e.c.sets)&&e.a[h.SPD]>=120},effect:(e,t,n)=>{e.ATK.buffDynamic(.12*n.baseATK,L.SpaceSealingStation,t,n)},gpu:function(){return fa(this,`
if (
  p2((*p_sets).SpaceSealingStation) >= 1 &&
  (*p_state).SpaceSealingStationConditional == 0.0 &&
  x.SPD >= 120
) {
  (*p_state).SpaceSealingStationConditional = 1.0;
  (*p_x).ATK += 0.12 * baseATK;
}
    `)}},Pd={id:"FleetOfTheAgelessConditional",type:Ra.SET,activation:ea.SINGLE,dependsOn:[a.SPD],chainsTo:[a.ATK],condition:function(e,t,n){return bt(ct.FleetOfTheAgeless,e.c.sets)&&e.a[h.SPD]>=120},effect:(e,t,n)=>{e.ATK.buffDynamic(.08*e.a[h.BASE_ATK],L.FleetOfTheAgeless,t,n),e.a[h.MEMOSPRITE]&&e.m.ATK.buffDynamic(.08*e.a[h.BASE_ATK],L.FleetOfTheAgeless,t,n)},gpu:function(){return fa(this,`
if (
  p2((*p_sets).FleetOfTheAgeless) >= 1 &&
  (*p_state).FleetOfTheAgelessConditional == 0.0 &&
  x.SPD >= 120
) {
  (*p_state).FleetOfTheAgelessConditional = 1.0;
  (*p_x).ATK += 0.08 * baseATK;
  (*p_m).ATK += 0.08 * baseATK;
}
    `)}},Fd={id:"BelobogOfTheArchitectsConditional",type:Ra.SET,activation:ea.SINGLE,dependsOn:[a.EHR],chainsTo:[a.DEF],condition:function(e,t,n){return bt(ct.BelobogOfTheArchitects,e.c.sets)&&e.a[h.EHR]>=.5},effect:(e,t,n)=>{e.DEF.buffDynamic(.15*n.baseDEF,L.BelobogOfTheArchitects,t,n)},gpu:function(){return fa(this,`
if (
  p2((*p_sets).BelobogOfTheArchitects) >= 1 &&
  (*p_state).BelobogOfTheArchitectsConditional == 0.0 &&
  x.EHR >= 0.50
) {
  (*p_state).BelobogOfTheArchitectsConditional = 1.0;
  (*p_x).DEF += 0.15 * baseDEF;
}
    `)}},Bd={id:"PanCosmicCommercialEnterpriseConditional",type:Ra.SET,activation:ea.CONTINUOUS,dependsOn:[a.EHR],chainsTo:[a.ATK],condition:function(e,t,n){return bt(ct.PanCosmicCommercialEnterprise,e.c.sets)},effect:function(e,t,n){const l=t.conditionalState[this.id]||0,s=Math.min(.25,.25*e.a[h.EHR])*n.baseATK;return t.conditionalState[this.id]=s,e.ATK.buffDynamic(s-l,L.PanCosmicCommercialEnterprise,t,n),s},gpu:function(){return fa(this,`
if (
  p2((*p_sets).PanCosmicCommercialEnterprise) >= 1
) {
  let stateValue: f32 = (*p_state).PanCosmicCommercialEnterpriseConditional;
  let buffValue: f32 = min(0.25, 0.25 * x.EHR) * baseATK;

  (*p_state).PanCosmicCommercialEnterpriseConditional = buffValue;
  (*p_x).ATK += buffValue - stateValue;
}
    `)}},Hd={id:"BrokenKeelConditional",type:Ra.SET,activation:ea.SINGLE,dependsOn:[a.RES],chainsTo:[a.CD],condition:function(e,t,n){return bt(ct.BrokenKeel,e.c.sets)&&e.a[h.RES]>=.3},effect:function(e,t,n){e.CD.buffDynamic(.1,L.BrokenKeel,t,n),e.a[h.MEMOSPRITE]&&e.m.CD.buffDynamic(.1,L.BrokenKeel,t,n)},gpu:function(){return fa(this,`
if (
  p2((*p_sets).BrokenKeel) >= 1 &&
  (*p_state).BrokenKeelConditional == 0.0 &&
  x.RES >= 0.30
) {
  (*p_state).BrokenKeelConditional = 1.0;
  (*p_x).CD += 0.10;
  (*p_m).CD += 0.10;
}
    `)}},vd={id:"TaliaKingdomOfBanditryConditional",type:Ra.SET,activation:ea.SINGLE,dependsOn:[a.SPD],chainsTo:[a.BE],condition:function(e,t,n){return bt(ct.TaliaKingdomOfBanditry,e.c.sets)&&e.a[h.SPD]>=145},effect:function(e,t,n){e.BE.buffDynamic(.2,L.TaliaKingdomOfBanditry,t,n)},gpu:function(){return fa(this,`
if (
  p2((*p_sets).TaliaKingdomOfBanditry) >= 1 &&
  (*p_state).TaliaKingdomOfBanditryConditional == 0.0 &&
  x.SPD >= 145
) {
  (*p_state).TaliaKingdomOfBanditryConditional = 1.0;
  (*p_x).BE += 0.20;
}
    `)}},Xd={id:"GiantTreeOfRaptBrooding135Conditional",type:Ra.SET,activation:ea.SINGLE,dependsOn:[a.SPD],chainsTo:[a.OHB],condition:function(e,t,n){return bt(ct.GiantTreeOfRaptBrooding,e.c.sets)&&e.a[h.SPD]>=135},effect:(e,t,n)=>{e.OHB.buffDynamic(.12,L.GiantTreeOfRaptBrooding,t,n),e.m.OHB.buffDynamic(.12,L.GiantTreeOfRaptBrooding,t,n)},gpu:function(){return fa(this,`
if (
  p2((*p_sets).GiantTreeOfRaptBrooding) >= 1 &&
  (*p_state).GiantTreeOfRaptBrooding135Conditional == 0.0 &&
  x.SPD >= 135
) {
  (*p_state).GiantTreeOfRaptBrooding135Conditional = 1.0;
  (*p_x).OHB += 0.12;
  (*p_m).OHB += 0.12;
}
    `)}},kd={id:"GiantTreeOfRaptBrooding180Conditional",type:Ra.SET,activation:ea.SINGLE,dependsOn:[a.SPD],chainsTo:[a.OHB],condition:function(e,t,n){return bt(ct.GiantTreeOfRaptBrooding,e.c.sets)&&e.a[h.SPD]>=180},effect:(e,t,n)=>{e.OHB.buffDynamic(.08,L.GiantTreeOfRaptBrooding,t,n),e.m.OHB.buffDynamic(.08,L.GiantTreeOfRaptBrooding,t,n)},gpu:function(){return fa(this,`
if (
  p2((*p_sets).GiantTreeOfRaptBrooding) >= 1 &&
  (*p_state).GiantTreeOfRaptBrooding180Conditional == 0.0 &&
  x.SPD >= 180
) {
  (*p_state).GiantTreeOfRaptBrooding180Conditional = 1.0;
  (*p_x).OHB += 0.08;
  (*p_m).OHB += 0.08;
}
    `)}},Yd={id:"BoneCollectionsSereneDemesneConditional",type:Ra.SET,activation:ea.SINGLE,dependsOn:[a.HP],chainsTo:[a.CD],condition:function(e,t,n){return bt(ct.BoneCollectionsSereneDemesne,e.c.sets)&&e.a[h.HP]>=5e3},effect:(e,t,n)=>{e.CD.buffBaseDualDynamic(.28,L.BoneCollectionsSereneDemesne,t,n)},gpu:function(){return fa(this,`
if (
  p2((*p_sets).BoneCollectionsSereneDemesne) >= 1 &&
  (*p_state).BoneCollectionsSereneDemesneConditional == 0.0 &&
  x.HP >= 5000
) {
  (*p_state).BoneCollectionsSereneDemesneConditional = 1.0;
  (*p_x).CD += 0.28;
  (*p_m).CD += 0.28;
}
    `)}},Np=[Vd,Pd,Fd,Bd,Hd,vd,Xd,kd,Yd];function Op(e,t){const n=ta.get(t),l=aa.get(t),s=Kp();js(s,l.dynamicConditionals??[]),js(s,n.dynamicConditionals??[]),js(s,Np||[]),Hl(s,t.teammate0Metadata,e,0),Hl(s,t.teammate1Metadata,e,1),Hl(s,t.teammate2Metadata,e,2),e.conditionalRegistry=s,e.conditionalState={}}function Hl(e,t,n,l){if(t){const o=(ta.get(t).teammateDynamicConditionals??[]).map(r=>{const c=Up(r,l);return n.teammateDynamicConditionals.push(c),c});js(e,o)}}function Up(e,t){const n={...e,teammateIndex:t};return n.id+=`_Teammate${t}`,n}function Kp(){return{[a.HP]:[],[a.ATK]:[],[a.DEF]:[],[a.SPD]:[],[a.CR]:[],[a.CD]:[],[a.EHR]:[],[a.RES]:[],[a.BE]:[],[a.OHB]:[],[a.ERR]:[]}}function js(e,t){for(const n of t)for(const l of n.dependsOn)e[l].push(n)}function Jp(e,t){const n=[Ap(e)],l=[jp(e)].filter(s=>s.id==t.characterId);for(let s=1;s<e.comboAbilities.length;s++){const o=e.comboAbilities[s];for(const r of n)r.processAbility(o,s);for(const r of l)r.processAbility(o,s)}}function Ap(e,t){return{id:g.ScholarLostInErudition,state:{scholarActivated:!1},processAbility:function(n,l){n=="ULT"&&(this.state.scholarActivated=!0),n=="SKILL"&&this.state.scholarActivated?(this.state.scholarActivated=!1,lr(e,g.ScholarLostInErudition,l,!0)):lr(e,g.ScholarLostInErudition,l,!1)}}}function jp(e,t){return{id:"1407",state:{memoSkillEnhances:3,memoDmgStacks:0,e2Activated:!1},processAbility:function(n,l){let s=this.state.memoDmgStacks;if(n=="MEMO_SKILL"){const o=s+1;si(e,"memoDmgStacks",l,o),si(e,"memoSkillEnhances",l,Math.min(3,o)),s=Math.min(6,s+1)}else n=="MEMO_TALENT"?(si(e,"memoDmgStacks",l,s),si(e,"memoSkillEnhances",l,1)):(s=0,si(e,"memoDmgStacks",l,s),si(e,"memoSkillEnhances",l,1));this.state.memoDmgStacks=s,n=="ULT"&&(this.state.e2Activated=!0),n=="MEMO_SKILL"&&this.state.e2Activated?(this.state.e2Activated=!1,or(e,"e2MemoSkillDmgBoost",l,!0)):or(e,"e2MemoSkillDmgBoost",l,!1)}}}function lr(e,t,n,l){const s=e.comboCharacter.setConditionals[t];s.activations[n]=l}function or(e,t,n,l){const s=e.comboCharacter.characterConditionals[t];s&&(s.activations[n]=l)}function si(e,t,n,l){const s=e.comboCharacter.characterConditionals[t];if(s){const o=s.partitions.find(r=>r.value==l);if(o)s.partitions.forEach(r=>r.activations[n]=!1),o.activations[n]=!0;else{s.partitions.forEach(c=>c.activations[n]=!1);const r={value:l,activations:new Array(e.comboAbilities.length).fill(!1)};r.activations[n]=!0,s.partitions.push(r)}s.partitions=s.partitions.sort((r,c)=>r.value-c.value)}}function zp(e){const t={};for(const n of Object.values(m.Sets))t[n]=Vi[n].selectionOptions?Vi[n].selectionOptions(e):[];return t}const Vi={[g.PasserbyOfWanderingCloud]:{type:ce.BOOLEAN},[g.MusketeerOfWildWheat]:{type:ce.BOOLEAN},[g.KnightOfPurityPalace]:{type:ce.BOOLEAN},[g.HunterOfGlacialForest]:{type:ce.BOOLEAN,modifiable:!0},[g.ChampionOfStreetwiseBoxing]:{type:ce.SELECT,modifiable:!0,selectionOptions:Qp},[g.GuardOfWutheringSnow]:{type:ce.BOOLEAN},[g.FiresmithOfLavaForging]:{type:ce.BOOLEAN,modifiable:!0},[g.GeniusOfBrilliantStars]:{type:ce.BOOLEAN,modifiable:!0},[g.BandOfSizzlingThunder]:{type:ce.BOOLEAN,modifiable:!0},[g.EagleOfTwilightLine]:{type:ce.BOOLEAN},[g.ThiefOfShootingMeteor]:{type:ce.BOOLEAN},[g.WastelanderOfBanditryDesert]:{type:ce.SELECT,selectionOptions:$p,modifiable:!0},[g.LongevousDisciple]:{type:ce.SELECT,selectionOptions:qp,modifiable:!0},[g.MessengerTraversingHackerspace]:{type:ce.BOOLEAN,modifiable:!0},[g.TheAshblazingGrandDuke]:{type:ce.SELECT,selectionOptions:e2,modifiable:!0},[g.PrisonerInDeepConfinement]:{type:ce.SELECT,selectionOptions:t2,modifiable:!0},[g.PioneerDiverOfDeadWaters]:{type:ce.SELECT,selectionOptions:a2,modifiable:!0},[g.WatchmakerMasterOfDreamMachinations]:{type:ce.BOOLEAN,modifiable:!0},[g.IronCavalryAgainstTheScourge]:{type:ce.BOOLEAN},[g.TheWindSoaringValorous]:{type:ce.BOOLEAN,modifiable:!0},[g.SacerdosRelivedOrdeal]:{type:ce.SELECT,modifiable:!0,selectionOptions:_p},[g.ScholarLostInErudition]:{type:ce.BOOLEAN,modifiable:!0},[g.HeroOfTriumphantSong]:{type:ce.BOOLEAN,modifiable:!0},[g.PoetOfMourningCollapse]:{type:ce.BOOLEAN,modifiable:!1},[g.SpaceSealingStation]:{type:ce.BOOLEAN},[g.FleetOfTheAgeless]:{type:ce.BOOLEAN},[g.PanCosmicCommercialEnterprise]:{type:ce.BOOLEAN},[g.BelobogOfTheArchitects]:{type:ce.BOOLEAN},[g.CelestialDifferentiator]:{type:ce.BOOLEAN,modifiable:!0},[g.InertSalsotto]:{type:ce.BOOLEAN},[g.TaliaKingdomOfBanditry]:{type:ce.BOOLEAN},[g.SprightlyVonwacq]:{type:ce.BOOLEAN},[g.RutilantArena]:{type:ce.BOOLEAN},[g.BrokenKeel]:{type:ce.BOOLEAN},[g.FirmamentFrontlineGlamoth]:{type:ce.BOOLEAN},[g.PenaconyLandOfTheDreams]:{type:ce.BOOLEAN},[g.SigoniaTheUnclaimedDesolation]:{type:ce.SELECT,modifiable:!0,selectionOptions:n2},[g.IzumoGenseiAndTakamaDivineRealm]:{type:ce.BOOLEAN,modifiable:!0},[g.DuranDynastyOfRunningWolves]:{type:ce.SELECT,modifiable:!0,selectionOptions:i2},[g.ForgeOfTheKalpagniLantern]:{type:ce.BOOLEAN,modifiable:!0},[g.LushakaTheSunkenSeas]:{type:ce.BOOLEAN},[g.TheWondrousBananAmusementPark]:{type:ce.BOOLEAN,modifiable:!0},[g.BoneCollectionsSereneDemesne]:{type:ce.BOOLEAN},[g.GiantTreeOfRaptBrooding]:{type:ce.BOOLEAN}};function _p(e){const t=[];for(let n=0;n<=2;n++)t.push({display:e("Sacerdos.Display",{stackCount:n}),value:n,label:e("Sacerdos.Label",{stackCount:n,buffValue:y.precisionRound(18*n)})});return t}function Qp(e){const t=[];for(let n=0;n<=5;n++)t.push({display:e("Streetwise.Display",{stackCount:n}),value:n,label:e("Streetwise.Label",{stackCount:n,buffValue:y.precisionRound(5*n)})});return t}function $p(e){return[{display:e("Wastelander.Off.Display"),value:0,label:e("Wastelander.Off.Label")},{display:e("Wastelander.Debuffed.Display"),value:1,label:e("Wastelander.Debuffed.Label")},{display:e("Wastelander.Imprisoned.Display"),value:2,label:e("Wastelander.Imprisoned.Label")}]}function qp(e){const t=[];for(let n=0;n<=2;n++)t.push({display:e("Longevous.Display",{stackCount:n}),value:n,label:e("Longevous.Label",{stackCount:n,buffValue:y.precisionRound(8*n)})});return t}function e2(e){const t=[];for(let n=0;n<=8;n++)t.push({display:e("Ashblazing.Display",{stackCount:n}),value:n,label:e("Ashblazing.Label",{stackCount:n,buffValue:y.precisionRound(6*n)})});return t}function t2(e){const t=[];for(let n=0;n<=3;n++)t.push({display:e("Prisoner.Display",{stackCount:n}),value:n,label:e("Prisoner.Label",{stackCount:n,buffValue:y.precisionRound(6*n)})});return t}function a2(e){return[{display:e("Diver.Off.Display"),value:-1,label:e("Diver.Off.Label")},{display:e("Diver.1Debuff.Display"),value:0,label:e("Diver.1Debuff.Label")},{display:e("Diver.2Debuff.Display"),value:1,label:e("Diver.2Debuff.Label")},{display:e("Diver.2+Debuff.Display"),value:2,label:e("Diver.2+Debuff.Label")},{display:e("Diver.3Debuff.Display"),value:3,label:e("Diver.3Debuff.Label")},{display:e("Diver.3+Debuff.Display"),value:4,label:e("Diver.3+Debuff.Label")}]}function n2(e){const t=[];for(let n=0;n<=10;n++)t.push({display:e("Sigonia.Display",{stackCount:n}),value:n,label:e("Sigonia.Label",{stackCount:n,buffValue:y.precisionRound(4*n)})});return t}function i2(e){const t=[];for(let n=0;n<=5;n++)t.push({display:e("Duran.Display",{stackCount:n}),value:n,label:e("Duran.Label",{stackCount:n,buffValue:y.precisionRound(5*n)})});return t[5].label=e("Duran.Label5"),t}let Ws;const Te={save:()=>{const e=window.store.getState(),t={relics:I.getRelics(),characters:I.getCharacters(),scorerId:e.scorerId,scoringMetadataOverrides:e.scoringMetadataOverrides,showcasePreferences:e.showcasePreferences,optimizerMenuState:e.optimizerMenuState,excludedRelicPotentialCharacters:e.excludedRelicPotentialCharacters,savedSession:e.savedSession,settings:e.settings,version:el,warpRequest:e.warpRequest,relicLocator:{inventoryWidth:e.inventoryWidth,rowLimit:e.rowLimit}};console.log("Saved state");const n=JSON.stringify(t);return localStorage.state=n,Ws=null,n},delayedSave:(e=5e3)=>{Ws&&clearTimeout(Ws),Ws=setTimeout(()=>{Te.save()},e)},load:(e=!0)=>{try{const t=localStorage.state;if(t){const n=JSON.parse(t);return console.log("Loaded SaveState"),I.setStore(n,e),!0}return console.log("No SaveState found"),!1}catch(t){return console.error("Error loading state",t),!1}}};function bn(e,t){return e.includes(t)}function s2(e,t){return e.reduce((n,l)=>(n[l[t]]=l,n),{})}function l2(e){return e.reduce((t,n)=>(t[n]=!0,t),{})}function o2(e){return e.filter((t,n,l)=>l.indexOf(t)===n)}function r2(e){return e.filter(t=>t!=null)}function al(e,t){var p,R;const n=I.getMetadata();n.lightCones,n.characters;const l={};if(!e.characterId)return l;const s=9;if(l.comboAbilities=[null],e.comboAbilities)for(let G=1;G<=9;G++){const T=e.comboAbilities[G];if(T==null)break;l.comboAbilities.push(T)}const o=Cn(e,n),r=ta.get(o),c=aa.get(o),d=e.characterConditionals,u=e.lightConeConditionals,b=e.setConditionals;if(l.comboCharacter={metadata:o,characterConditionals:nl(d,r.content(),r.defaults(),s),lightConeConditionals:nl(u,c.content(),c.defaults(),s),setConditionals:u2(b,s),displayedRelicSets:[],displayedOrnamentSets:[]},l.comboTeammate0=kl(e.teammate0,s,n),l.comboTeammate1=kl(e.teammate1,s,n),l.comboTeammate2=kl(e.teammate2,s,n),e.comboStateJson&&t){const G=JSON.parse(e.comboStateJson);l.comboCharacter.displayedOrnamentSets=((p=G==null?void 0:G.comboCharacter)==null?void 0:p.displayedOrnamentSets)??[],l.comboCharacter.displayedRelicSets=((R=G==null?void 0:G.comboCharacter)==null?void 0:R.displayedRelicSets)??[],d2(l,G)}return Jp(l,e),vl(l.comboCharacter.characterConditionals),vl(l.comboCharacter.lightConeConditionals),vl(l.comboCharacter.setConditionals),c2(e,l),l}function vl(e){if(e){for(const[t,n]of Object.entries(e))if(n.type==ce.NUMBER){const l=n;for(let s=0;s<l.partitions.length;s++){const o=l.partitions[s];if(o.activations[0]){l.partitions.splice(s,1),l.partitions.unshift(o);break}}}}}function Cn(e,t){var n,l,s;return{characterId:e.characterId,characterEidolon:e.characterEidolon,path:(n=t.characters[e.characterId])==null?void 0:n.path,lightCone:e.lightCone,lightConeSuperimposition:e.lightConeSuperimposition,lightConePath:(l=t.lightCones[e.lightCone])==null?void 0:l.path,element:(s=t.characters[e.characterId])==null?void 0:s.element}}function c2(e,t){const n=wi({id:e.characterId}),l=I.getMetadata().characters[e.characterId].scoringMetadata.presets||[];for(const c of l)c.apply(n);const s=[];for(const[c,d]of Object.entries(n.setConditionals)){const u=d[1],b=t.comboCharacter.setConditionals[c];if(!b)s.push(c);else if(b.type==ce.BOOLEAN)for(let p=0;p<t.comboAbilities.length;p++){const R=b.activations[p];if(R==null)break;if(R!=u){s.push(c);break}}else if(b.type==ce.SELECT){for(const p of b.partitions)if(p.value!=u){s.push(c);break}}}const o=s.filter(c=>bn(_a,c)),r=s.filter(c=>bn(Qa,c));t.comboCharacter.displayedRelicSets=Array.from(new Set([...o,...t.comboCharacter.displayedRelicSets])),t.comboCharacter.displayedOrnamentSets=Array.from(new Set([...r,...t.comboCharacter.displayedOrnamentSets]))}function d2(e,t){var n,l,s,o,r;console.log("mergeComboStates"),e.comboCharacter.metadata.characterId==((l=(n=t==null?void 0:t.comboCharacter)==null?void 0:n.metadata)==null?void 0:l.characterId)&&(vn(e.comboCharacter.characterConditionals,(s=t==null?void 0:t.comboCharacter)==null?void 0:s.characterConditionals),vn(e.comboCharacter.lightConeConditionals,(o=t==null?void 0:t.comboCharacter)==null?void 0:o.lightConeConditionals),vn(e.comboCharacter.setConditionals,(r=t==null?void 0:t.comboCharacter)==null?void 0:r.setConditionals),Xl(e.comboTeammate0,t==null?void 0:t.comboTeammate0),Xl(e.comboTeammate1,t==null?void 0:t.comboTeammate1),Xl(e.comboTeammate2,t==null?void 0:t.comboTeammate2))}function Xl(e,t){!e||!t||(vn(e.characterConditionals,t.characterConditionals),vn(e.lightConeConditionals,t.lightConeConditionals),vn(e.relicSetConditionals,t.relicSetConditionals),vn(e.ornamentSetConditionals,t.ornamentSetConditionals))}function vn(e,t){if(t)for(const[n,l]of Object.entries(e)){const s=t[n];if(s&&l.type==s.type)if(l.type==ce.BOOLEAN){const o=l,r=s;r.activations[0]=o.activations[0],e[n]=s}else{const o=l,r=s,c=[],d={};for(let u=0;u<r.partitions.length;u++){const b=r.partitions[u];if(d[b.value])for(let p=0;p<d[b.value].activations.length;p++)d[b.value].activations[p]=d[b.value].activations[p]||r.partitions[u].activations[p];else d[b.value]=b,c.push(b)}for(let u=0;u<o.partitions.length;u++){const b=o.partitions[u];d[b.value]?d[b.value].activations[0]=o.partitions[u].activations[0]:(d[b.value]=b,c.push(b))}r.partitions=c,e[n]=s}}}function nl(e,t,n,l){const s={};for(const o of t)if(!o.disabled){if(o.formItem=="switch"){const r=e[o.id]??n[o.id],c=Array(l).fill(r);s[o.id]={type:ce.BOOLEAN,activations:c}}else if(o.formItem=="slider"){const r=e[o.id]??n[o.id],c=Array(l).fill(!0),d={value:r,activations:c};s[o.id]={type:ce.NUMBER,partitions:[d]}}else if(o.formItem=="select"){const r=e[o.id]??n[o.id],c=Array(l).fill(!0),d={value:r,activations:c};s[o.id]={type:ce.SELECT,partitions:[d]}}}return s}function u2(e,t){const n={};for(const[l,s]of Object.entries(e)){const o=s[1];if(Vi[l].type==ce.SELECT){const r=o,c=Array(t).fill(!0),d={value:r,activations:c};n[l]={type:ce.SELECT,partitions:[d]}}else{const r=Array(t).fill(o);n[l]={type:ce.BOOLEAN,activations:r}}}return n}function kl(e,t,n){var p,R,G,T;if(!(e!=null&&e.characterId))return null;const l=e.characterConditionals||{},s=e.lightConeConditionals||{},o=Cn(e,n),r=ta.get(o),c=aa.get(o),d={},u={};return e.teamRelicSet&&(d[e.teamRelicSet]={type:ce.BOOLEAN,activations:Array(t).fill(!0)}),e.teamOrnamentSet&&(u[e.teamOrnamentSet]={type:ce.BOOLEAN,activations:Array(t).fill(!0)}),{metadata:o,characterConditionals:nl(l,((p=r.teammateContent)==null?void 0:p.call(r))??[],((R=r.teammateDefaults)==null?void 0:R.call(r))??{},t),lightConeConditionals:nl(s,((G=c.teammateContent)==null?void 0:G.call(c))??[],((T=c.teammateDefaults)==null?void 0:T.call(c))??{},t),relicSetConditionals:d,ornamentSetConditionals:u}}function o0(e,t,n){let l;if(e.includes("comboCharacter")){const s=n.comboCharacter;e.includes("RelicSets")?l=s.setConditionals:e.includes("LightCone")?l=s.lightConeConditionals:l=s.characterConditionals}else if(e.includes("comboTeammate")){const s=e.substring(0,14),o=n[s];e.includes("RelicSet")?l=o.relicSetConditionals:e.includes("OrnamentSet")?l=o.ornamentSetConditionals:e.includes("LightCone")?l=o.lightConeConditionals:l=o.characterConditionals}else return null;return l[t]}function wd(e,t){if(!e.id)return null;const n=o0(e.source,e.id,t);if(!n)return null;if(n.type==ce.BOOLEAN){const l=n,s=l.activations;return{comboConditional:l,activations:s,index:e.index,value:s[e.index]}}else if(n.type==ce.NUMBER){const l=n,s=l.partitions[e.partitionIndex].activations;return{comboConditional:l,activations:s,index:e.index,value:s[e.index]}}else if(n.type==ce.SELECT){const l=n,s=l.partitions[e.partitionIndex].activations;return{comboConditional:l,activations:s,index:e.index,value:s[e.index]}}return null}function r0(e,t){const n=JSON.parse(e);return wd(n,t)}function rr(e,t,n){const l=JSON.parse(e);if(!l.id||l.index==0)return;const s=r0(e,n);s&&(s.comboConditional.type==ce.NUMBER||s.comboConditional.type==ce.SELECT||(s.activations[s.index]=t))}function cr(e,t){console.log("updatePartitionActivation");const n=JSON.parse(e);if(!n.id||n.index==0)return;const l=r0(e,t);if(l&&(l.comboConditional.type==ce.NUMBER||l.comboConditional.type==ce.SELECT)){const s=l.comboConditional,o=n.partitionIndex,r=n.index;for(let c=0;c<s.partitions.length;c++){const d=s.partitions[c];d.activations[r]=c==o}window.store.getState().setComboState({...t})}}function Nd(e,t,n){console.log("updateAddPartition");const l=window.store.getState().comboState,s=o0(e,t,l);if(!s)return null;const o=s.partitions[n];s.partitions.push({value:o.value,activations:Array(o.activations.length).fill(!1)}),window.store.getState().setComboState({...l})}function Od(e,t,n){if(console.log("updateDeletePartition"),n==0)return;const l=window.store.getState().comboState,s=o0(e,t,l);if(!s)return null;s.partitions.splice(n,1);for(let o=0;o<s.partitions[0].activations.length;o++){let r=!1;for(let c=0;c<s.partitions.length;c++)if(s.partitions[c].activations[o]){r=!0;break}r||(s.partitions[0].activations[o]=!0)}window.store.getState().setComboState({...l})}function dr(e,t){console.log("updateSelectedSets");const n=window.store.getState().comboState,l=n.comboCharacter.setConditionals;if(t){n.comboCharacter.displayedOrnamentSets=e;for(const s of Object.values(qn))e.includes(s)?l[s].display=!0:l[s].display=!1}else{n.comboCharacter.displayedRelicSets=e;for(const s of Object.values($n))e.includes(s)?l[s].display=!0:l[s].display=!1}c0(n),window.store.getState().setComboState({...n})}function Ud(e,t,n,l){console.log("updateNumberDefaultSelection");const s=window.store.getState().comboState,r=wd({id:t,source:e,index:0,partitionIndex:n},s);if(r&&(r.comboConditional.type==ce.NUMBER||r.comboConditional.type==ce.SELECT)){const c=r.comboConditional;c.partitions[n].value=l,window.store.getState().setComboState({...s})}}function m2(e,t){e.splice(t,1),e.push(e[0])}function Kd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(n==="activations"&&Array.isArray(e[n])&&m2(e[n],t),typeof e[n]=="object"&&e[n]!==null&&Kd(e[n],t))}function Jd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(n==="activations"&&Array.isArray(e[n])&&(e[n][t]=e[n][0]),typeof e[n]=="object"&&e[n]!==null&&Jd(e[n],t))}function ur(e,t){console.log("updateAbilityRotation");const n=window.store.getState().comboState,l=n.comboAbilities;if(!(e>l.length)){if(t==null){if(l.length<=2)return;l.splice(e,1),Kd(n,e)}else l[e]=t,Jd(n,e);window.store.getState().setComboState({...n})}}function c0(e){console.log("updateFormState"),window.optimizerForm.setFieldValue("comboStateJson",JSON.stringify(e)),window.optimizerForm.setFieldValue("comboAbilities",e.comboAbilities);const t=se.getForm();I.replaceCharacterForm(t),Te.delayedSave(1e3)}function Ya(e,t,n=!1){for(const[l,s]of Object.entries(e)){const o=t[l];if(o&&o.type==ce.BOOLEAN)for(let r=0;r<=8;r++)n?o.activations[r]=s[1]:o.activations[r]=s}}function b2(e){var n,l,s,o,r,c,d,u,b,p,R,G;console.log("updateConditionalChange",e);const t=window.store.getState().comboState;e.characterConditionals&&Ya(e.characterConditionals,t.comboCharacter.characterConditionals),e.lightConeConditionals&&Ya(e.lightConeConditionals,t.comboCharacter.lightConeConditionals),e.setConditionals&&Ya(e.setConditionals,t.comboCharacter.setConditionals,!0),(n=e.teammate0)!=null&&n.characterConditionals&&Ya(e.teammate0.characterConditionals,((l=t.comboTeammate0)==null?void 0:l.characterConditionals)??{}),(s=e.teammate0)!=null&&s.lightConeConditionals&&Ya(e.teammate0.lightConeConditionals,((o=t.comboTeammate0)==null?void 0:o.lightConeConditionals)??{}),(r=e.teammate1)!=null&&r.characterConditionals&&Ya(e.teammate1.characterConditionals,((c=t.comboTeammate1)==null?void 0:c.characterConditionals)??{}),(d=e.teammate1)!=null&&d.lightConeConditionals&&Ya(e.teammate1.lightConeConditionals,((u=t.comboTeammate1)==null?void 0:u.lightConeConditionals)??{}),(b=e.teammate2)!=null&&b.characterConditionals&&Ya(e.teammate2.characterConditionals,((p=t.comboTeammate2)==null?void 0:p.characterConditionals)??{}),(R=e.teammate2)!=null&&R.lightConeConditionals&&Ya(e.teammate2.lightConeConditionals,((G=t.comboTeammate2)==null?void 0:G.lightConeConditionals)??{}),window.store.getState().setComboState({...t}),c0(t)}const mr="1313";function Ad(e,t){if((!e.comboStateJson||e.comboStateJson=="{}")&&(e.comboType="simple"),e.comboType=="advanced"){const n=al(e,!0);br(n,e,t)}else{const n=al(e,!1);br(n,e,t)}}function br(e,t,n){const l=f2(t.comboAbilities),s=[];for(let o=0;o<l.length;o++)s.push(h2(o,e,l,t,n));n.actions=s,n.comboDot=t.comboDot||0,n.comboBreak=t.comboBreak||0,n.activeAbilities=n.characterConditionalController.activeAbilities??[],n.activeAbilityFlags=n.activeAbilities.reduce((o,r)=>o|r,0)}function h2(e,t,n,l,s){const o={characterConditionals:{},lightConeConditionals:{},setConditionals:{},teammate0:{characterConditionals:{},lightConeConditionals:{}},teammate1:{characterConditionals:{},lightConeConditionals:{}},teammate2:{characterConditionals:{},lightConeConditionals:{}},teammateDynamicConditionals:[]};return o.actorId=s.characterId,o.actionIndex=e,o.actionType=n[e],o.characterConditionals=ba(e,t.comboCharacter.characterConditionals),o.lightConeConditionals=ba(e,t.comboCharacter.lightConeConditionals),o.setConditionals=R2(e,t.comboCharacter.setConditionals),o.setConditionals=G2(o.setConditionals,s),o.precomputedX=new Wa(l.trace),o.precomputedX.setPrecompute(Mo()),o.precomputedM=o.precomputedX.m,o.precomputedM.setPrecompute(Mo()),t.comboTeammate0&&(o.teammate0.actorId=t.comboTeammate0.metadata.characterId,o.teammate0.characterConditionals=ba(e,t.comboTeammate0.characterConditionals),o.teammate0.lightConeConditionals=ba(e,t.comboTeammate0.lightConeConditionals)),t.comboTeammate1&&(o.teammate1.actorId=t.comboTeammate1.metadata.characterId,o.teammate1.characterConditionals=ba(e,t.comboTeammate1.characterConditionals),o.teammate1.lightConeConditionals=ba(e,t.comboTeammate1.lightConeConditionals)),t.comboTeammate2&&(o.teammate2.actorId=t.comboTeammate2.metadata.characterId,o.teammate2.characterConditionals=ba(e,t.comboTeammate2.characterConditionals),o.teammate2.lightConeConditionals=ba(e,t.comboTeammate2.lightConeConditionals)),p2(o,t,s),Op(o,s),o}function p2(e,t,n){var c,d,u,b,p,R,G,T;const l=ta.get(t.comboCharacter.metadata),s=aa.get(t.comboCharacter.metadata),o=e.precomputedX;n.deprioritizeBuffs&&o.DEPRIORITIZE_BUFFS.set(1,L.NONE),(c=s.initializeConfigurations)==null||c.call(s,o,e,n),(d=l.initializeConfigurations)==null||d.call(l,o,e,n);const r=[t.comboTeammate0,t.comboTeammate1,t.comboTeammate2].filter(C=>{var D;return!!((D=C==null?void 0:C.metadata)!=null&&D.characterId)});for(let C=0;C<r.length;C++){const D=r[C],V={actorId:D.metadata.characterId,characterConditionals:ba(e.actionIndex,D.characterConditionals),lightConeConditionals:ba(e.actionIndex,D.lightConeConditionals)},M=ta.get(D.metadata),x=aa.get(D.metadata);(u=M.initializeTeammateConfigurations)==null||u.call(M,o,V,n),(b=x.initializeTeammateConfigurations)==null||b.call(x,o,V,n)}(p=s.precomputeEffects)==null||p.call(s,o,e,n),(R=l.precomputeEffects)==null||R.call(l,o,e,n),(G=s.precomputeMutualEffects)==null||G.call(s,o,e,n),(T=l.precomputeMutualEffects)==null||T.call(l,o,e,n),S2(e,t,n),o.ENEMY_WEAKNESS_BROKEN.config(o.a[h.ENEMY_WEAKNESS_BROKEN]||n.enemyWeaknessBroken?1:0,L.NONE)}function S2(e,t,n){const l=e.precomputedX,s={},o=[t.comboTeammate0,t.comboTeammate1,t.comboTeammate2].filter(r=>{var c;return!!((c=r==null?void 0:r.metadata)!=null&&c.characterId)});for(let r=0;r<o.length;r++){const c=o[r],d=Object.assign({},o[r]),u={actorId:c.metadata.characterId,characterConditionals:ba(e.actionIndex,c.characterConditionals),lightConeConditionals:ba(e.actionIndex,c.lightConeConditionals)},b=ta.get(c.metadata),p=aa.get(c.metadata);b.precomputeMutualEffects&&b.precomputeMutualEffects(l,u,n),b.precomputeTeammateEffects&&b.precomputeTeammateEffects(l,u,n),p.precomputeMutualEffects&&p.precomputeMutualEffects(l,u,n),p.precomputeTeammateEffects&&p.precomputeTeammateEffects(l,u,n);for(const[R,G]of[...Object.entries(d.relicSetConditionals),...Object.entries(d.ornamentSetConditionals)]){if(G.type==ce.BOOLEAN){if(!G.activations[e.actionIndex])continue}else continue;switch(R){case g.BrokenKeel:l.CD.buffTeam(.1,L.BrokenKeel);break;case g.FleetOfTheAgeless:l.ATK_P.buffTeam(.08,L.FleetOfTheAgeless);break;case g.PenaconyLandOfTheDreams:if(t.comboCharacter.metadata.element!=d.metadata.element)break;l.ELEMENTAL_DMG.buffDual(.1,L.PenaconyLandOfTheDreams);break;case g.LushakaTheSunkenSeas:l.ATK_P.buff(.12,L.LushakaTheSunkenSeas);break;case g.MessengerTraversingHackerspace:if(s[g.MessengerTraversingHackerspace])break;l.SPD_P.buffTeam(.12,L.MessengerTraversingHackerspace);break;case g.WatchmakerMasterOfDreamMachinations:if(s[g.WatchmakerMasterOfDreamMachinations])break;l.BE.buffTeam(.3,L.WatchmakerMasterOfDreamMachinations);break;case ps:u.actorId==mr?l.CD.buffDual(.18,L.SacerdosRelivedOrdeal):l.CD.buffSingle(.18,L.SacerdosRelivedOrdeal);break;case Ss:u.actorId==mr?l.CD.buffDual(.36,L.SacerdosRelivedOrdeal):l.CD.buffSingle(.36,L.SacerdosRelivedOrdeal);break}s[R]=!0}}}function ba(e,t){const n={};for(const[l,s]of Object.entries(t))n[l]=nt(s,e);return n}function nt(e,t){if(e.type==ce.BOOLEAN)return e.activations[t];{const n=e;for(let l=0;l<n.partitions.length;l++){const s=n.partitions[l];if(s.activations[t])return s.value}}return 0}function R2(e,t){return{enabledHunterOfGlacialForest:nt(t[g.HunterOfGlacialForest],e),enabledFiresmithOfLavaForging:nt(t[g.FiresmithOfLavaForging],e),enabledGeniusOfBrilliantStars:nt(t[g.GeniusOfBrilliantStars],e),enabledBandOfSizzlingThunder:nt(t[g.BandOfSizzlingThunder],e),enabledMessengerTraversingHackerspace:nt(t[g.MessengerTraversingHackerspace],e),enabledCelestialDifferentiator:nt(t[g.CelestialDifferentiator],e),enabledWatchmakerMasterOfDreamMachinations:nt(t[g.WatchmakerMasterOfDreamMachinations],e),enabledPenaconyLandOfTheDreams:nt(t[g.PenaconyLandOfTheDreams],e),enabledIzumoGenseiAndTakamaDivineRealm:nt(t[g.IzumoGenseiAndTakamaDivineRealm],e),enabledForgeOfTheKalpagniLantern:nt(t[g.ForgeOfTheKalpagniLantern],e),enabledTheWindSoaringValorous:nt(t[g.TheWindSoaringValorous],e),enabledTheWondrousBananAmusementPark:nt(t[g.TheWondrousBananAmusementPark],e),enabledScholarLostInErudition:nt(t[g.ScholarLostInErudition],e),enabledHeroOfTriumphantSong:nt(t[g.HeroOfTriumphantSong],e),valueChampionOfStreetwiseBoxing:nt(t[g.ChampionOfStreetwiseBoxing],e),valueWastelanderOfBanditryDesert:nt(t[g.WastelanderOfBanditryDesert],e),valueLongevousDisciple:nt(t[g.LongevousDisciple],e),valueTheAshblazingGrandDuke:nt(t[g.TheAshblazingGrandDuke],e),valuePrisonerInDeepConfinement:nt(t[g.PrisonerInDeepConfinement],e),valuePioneerDiverOfDeadWaters:nt(t[g.PioneerDiverOfDeadWaters],e),valueSigoniaTheUnclaimedDesolation:nt(t[g.SigoniaTheUnclaimedDesolation],e),valueDuranDynastyOfRunningWolves:nt(t[g.DuranDynastyOfRunningWolves],e),valueSacerdosRelivedOrdeal:nt(t[g.SacerdosRelivedOrdeal],e)}}function f2(e){const t=["DEFAULT"];for(let n=1;n<=8&&e[n]!=null;n++)t.push(e[n]);return t}function G2(e,t){return{...e,enabledIzumoGenseiAndTakamaDivineRealm:e.enabledIzumoGenseiAndTakamaDivineRealm&&xd(t,t.path)>=2}}console.debug=(...e)=>{let t="%c%s ";e.forEach(n=>{switch(typeof n){case"bigint":case"number":case"boolean":t+="%d ";break;case"string":t+="%s ";break;case"object":case"undefined":default:t+="%o "}}),console.log(t,"color: orange","[DEBUG]",...e)};const B={objectHash:e=>zc(e),arrayOfZeroes:e=>new Array(e).fill(0),arrayOfValue:(e,t)=>new Array(e).fill(t),nullUndefinedToZero:e=>e??0,mergeDefinedValues:(e,t)=>{if(!t)return e;for(const n of Object.keys(e))t[n]!=null&&(e[n]=t[n]);return e},mergeUndefinedValues:(e,t)=>{for(const n of Object.keys(t))e[n]==null&&(e[n]=t[n]);return e},sleep:e=>new Promise(t=>setTimeout(t,e)),relicsToSetArrays:e=>{const t=B.arrayOfValue(Object.values(m.SetsRelics).length,0),n=B.arrayOfValue(Object.values(m.SetsOrnaments).length,0);for(const l of e)if(l)if(l.part==m.Parts.PlanarSphere||l.part==m.Parts.LinkRope){const s=m.OrnamentSetToIndex[l.set];n[s]++}else{const s=m.RelicSetToIndex[l.set];t[s]++}return{relicSets:t,ornamentSets:n}},isFlat:e=>e==m.Stats.HP||e==m.Stats.ATK||e==m.Stats.DEF||e==m.Stats.SPD,randomElement:e=>e[Math.floor(Math.random()*e.length)],isMobile:()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isMobileOrSafari:()=>{const e=navigator.userAgent,t=/Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop|BlackBerry/i.test(e),n=/^((?!chrome|android).)*safari/i.test(e);return t||n},screenshotElementById:async(e,t,n)=>{const l=B.isMobileOrSafari(),s=async()=>{const c=l?9:3,d=1.5,u=1068*d,b=856*d,p={pixelRatio:1,height:b,canvasHeight:b,width:u,canvasWidth:u,skipAutoScale:!0,style:{zoom:d}};let R=0,G;for(;R<c&&(R++,G=await J0(document.getElementById(e),p),!(G.size>12e5)););return l&&(G=await J0(document.getElementById(e),p)),G};function o(r){const c=n||"Hsr-optimizer",d=new Date().toLocaleDateString(hr()).replace(/[^apm\d]+/gi,"-"),u=new Date().toLocaleTimeString(hr()).replace(/[^apm\d]+/gi,"-"),b=`${c}_${d}_${u}.png`;if(t=="clipboard")if(l){const p=new File([r],b,{type:"image/png"});navigator.canShare&&navigator.canShare({files:[p]})?navigator.share({files:[p],title:"",text:""}):Message.error("Unable to save screenshot to clipboard, try the download button to the right")}else try{const p=[new window.ClipboardItem({[r.type]:r})];navigator.clipboard.write(p).then(()=>{Message.success(v.t("charactersTab:ScreenshotMessages.ScreenshotSuccess"))})}catch(p){console.error(p),Message.error(v.t("charactersTab:ScreenshotMessages.ScreenshotFailed"))}if(t=="download"){const p=window.URL.createObjectURL(r),R=document.createElement("a");R.href=p,R.download=b,R.style.display="none",document.body.appendChild(R),R.click(),R.remove(),window.URL.revokeObjectURL(p),Message.success(v.t("charactersTab:ScreenshotMessages.DownloadSuccess"))}}return new Promise(r=>{s().then(c=>{o(c),r()})})},collectById:e=>{const t={};for(const n of e)t[n.id]=n;return t},truncate10ths:e=>Math.floor(e*10)/10,truncate100ths:e=>Math.floor(e*100)/100,truncate1000ths:e=>Math.floor(e*1e3)/1e3,truncate10000ths:e=>Math.floor(e*1e4)/1e4,precisionRound(e,t=5){const n=Math.pow(10,t);return Math.round(e*n)/n},flipMapping:e=>Object.fromEntries(Object.entries(e).map(t=>t.reverse())),clone:e=>e?JSON.parse(JSON.stringify(e)):null,labelFilterOption:(e,t)=>((t==null?void 0:t.label)??"").toLowerCase().includes(e.toLowerCase()),nameFilterOption:(e,t)=>((t==null?void 0:t.name)??"").toLowerCase().includes(e.toLowerCase()),titleFilterOption:(e,t)=>((t==null?void 0:t.title)??"").toLowerCase().includes(e.toLowerCase()),hasMainStat:e=>e==m.Parts.Body||e==m.Parts.Feet||e==m.Parts.LinkRope||e==m.Parts.PlanarSphere,recursiveToCamel:e=>Array.isArray(e)?e.map(t=>B.recursiveToCamel(t)):typeof e=="function"||e!==Object(e)?e:Object.fromEntries(Object.entries(e).map(([t,n])=>[t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,"")),B.recursiveToCamel(n)])),randomId:()=>Io(),stripTrailingSlashes:e=>e.replace(/\/+$/,""),sortRarityDesc:(e,t)=>t.rarity-e.rarity,sumArray:e=>e.reduce((t,n)=>t+n,0),msToReadable:e=>{const t=Math.floor(e/1e3%60),n=Math.floor(e/(1e3*60)%60),l=Math.floor(e/(1e3*60*60)),s=l>0?`${l}:`:"",o=n<10?`0${n}`:`${n}`,r=t<10?`0${t}`:`${t}`;return`${s}${o}:${r}`},filterUnique:e=>e.filter((t,n,l)=>l.indexOf(t)===n)};function hr(){v.resolvedLanguage.replace("_","-")}const g2={[m.Stats.SPD]:[7.613,11.419,16.426,25.032],[m.Stats.HP]:[139.991,281.111,469.647,705.6],[m.Stats.ATK]:[69.996,140.556,234.824,352.8],[m.Stats.HP_P]:[8.571,17.211,28.754,43.2],[m.Stats.ATK_P]:[8.571,17.211,28.754,43.2],[m.Stats.DEF_P]:[10.714,21.514,35.942,54],[m.Stats.CR]:[6.428,12.908,21.565,32.4],[m.Stats.CD]:[12.856,25.817,43.13,64.8],[m.Stats.OHB]:[6.856,13.769,23.003,34.561],[m.Stats.EHR]:[8.571,17.211,28.754,43.2],[m.Stats.BE]:[12.856,25.817,43.13,64.8],[m.Stats.ERR]:[3.857,7.745,12.939,19.439],[m.Stats.Physical_DMG]:[7.714,15.49,25.878,38.88],[m.Stats.Fire_DMG]:[7.714,15.49,25.878,38.88],[m.Stats.Ice_DMG]:[7.714,15.49,25.878,38.88],[m.Stats.Lightning_DMG]:[7.714,15.49,25.878,38.88],[m.Stats.Wind_DMG]:[7.714,15.49,25.878,38.88],[m.Stats.Quantum_DMG]:[7.714,15.49,25.878,38.88],[m.Stats.Imaginary_DMG]:[7.714,15.49,25.878,38.88]},Ct={getMaxedSubstatValue:(e,t=1)=>t==.8?B.precisionRound(ge[e][5].low):t==.9?B.precisionRound(ge[e][5].mid):B.precisionRound(ge[e][5].high),getMaxedStatValue:e=>{if(e==="NONE")return 0;const t=B.isFlat(e)?1:100;return B.precisionRound(g2[e][3]/t)},calculateCv:e=>{let t=0;for(const n of e)if(n!=null&&n.condensedStats)for(const l of n.condensedStats)l[0]==m.Stats.CD&&(t+=l[1]),l[0]==m.Stats.CR&&(t+=l[1]*2);return B.precisionRound(t*100)},getZeroes:()=>({[a.ATK]:0,[a.DEF]:0,[a.HP]:0,[a.ATK_P]:0,[a.DEF_P]:0,[a.HP_P]:0,[a.SPD]:0,[a.SPD_P]:0,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0})};function Yi(e){const t={};return E2(e,t),I2(e,t),D2(e,t),T2(e,t),y2(e,t),Z2(e,t),t}function T2(e,t){t.combatBuffs={ATK:e.combatBuffs.ATK,ATK_P:e.combatBuffs.ATK_P,HP:e.combatBuffs.HP,HP_P:e.combatBuffs.HP_P,DEF:e.combatBuffs.DEF,DEF_P:e.combatBuffs.DEF_P,CR:e.combatBuffs.CR,CD:e.combatBuffs.CD,SPD:e.combatBuffs.SPD,SPD_P:e.combatBuffs.SPD_P,BE:e.combatBuffs.BE,DMG_BOOST:e.combatBuffs.DMG_BOOST,DEF_PEN:e.combatBuffs.DEF_PEN,RES_PEN:e.combatBuffs.RES_PEN,EFFECT_RES_PEN:e.combatBuffs.EFFECT_RES_PEN,VULNERABILITY:e.combatBuffs.VULNERABILITY,BREAK_EFFICIENCY:e.combatBuffs.BREAK_EFFICIENCY}}function y2(e,t){t.resultSort=e.resultSort}function Z2(e,t){t.characterConditionalController=ta.get(t),t.lightConeConditionalController=aa.get(t),Ad(e,t)}const C2={Physical:2,Fire:2,Ice:1,Lightning:1,Wind:1.5,Quantum:.5,Imaginary:.5};function D2(e,t){var r;const n=I.getMetadata(),l=n.characters[e.characterId],s=l.path,o=l.element;t.characterId=e.characterId,t.characterEidolon=e.characterEidolon,t.lightCone=e.lightCone,t.lightConeSuperimposition=e.lightConeSuperimposition,t.lightConePath=(r=n.lightCones[e.lightCone])==null?void 0:r.path,t.path=s,t.element=o,t.elementalDamageType=ei[o],t.elementalResPenType=un[o],t.elementalBreakScaling=C2[o],t.teammate0Metadata=Yl(n,e.teammate0),t.teammate1Metadata=Yl(n,e.teammate1),t.teammate2Metadata=Yl(n,e.teammate2),t.deprioritizeBuffs=e.deprioritizeBuffs}function Yl(e,t){return t&&t.characterId?Cn(t,e):null}function E2(e,t){t.enemyLevel=e.enemyLevel,t.enemyCount=e.enemyCount,t.enemyMaxToughness=e.enemyMaxToughness,t.enemyDamageResistance=e.enemyElementalWeak?0:e.enemyResistance,t.enemyEffectResistance=e.enemyEffectResistance,t.enemyElementalWeak=e.enemyElementalWeak,t.enemyWeaknessBroken=e.enemyWeaknessBroken,t.weaknessBrokenMultiplier=e.enemyWeaknessBroken?1:.9}function I2(e,t){const n=I.getMetadata().characters[e.characterId],l=n.stats,s=I.getMetadata().lightCones[e.lightCone],o=(s==null?void 0:s.stats)||Wp(),r=n.path==(s==null?void 0:s.path)?(s==null?void 0:s.superimpositions[e.lightConeSuperimposition])||{}:{},c={base:{...Ct.getZeroes(),...l},traces:{...Ct.getZeroes(),...Wd(n)},lightCone:{...Ct.getZeroes(),...o,...r}};t.characterStatsBreakdown=c,t.baseHP=Ms(a.HP,c.base,c.lightCone),t.baseATK=Ms(a.ATK,c.base,c.lightCone),t.baseDEF=Ms(a.DEF,c.base,c.lightCone),t.baseSPD=Ms(a.SPD,c.base,c.lightCone),t.baseEnergy=n.max_sp}function Ms(e,t,n){return t[e]+n[e]}async function d0(e){var n;const t=await((n=navigator==null?void 0:navigator.gpu)==null?void 0:n.requestAdapter());return t==null?(console.log("Webgpu not supported"),e&&zG(),null):await t.requestDevice({requiredLimits:{}})}async function jd(e){try{const t=await d0(e);return t||window.store.getState().setSavedSessionKey(Ue.computeEngine,Da),t}catch(t){return console.log(t),null}}function x2(e,t){const n=new Float32Array(t);console.log(n),L2(n),M2(n)}function W2(e){const t=new Wa(!1),n=new Wa(!1),l=Object.keys(Kn).length;return t.setPrecompute(e.slice(0,l)),n.setPrecompute(e.slice(l,l*2)),console.log(t),console.log(n),{ED:t.$ELEMENTAL_DMG,BASIC:t.$BASIC_DMG,SKILL:t.$SKILL_DMG,ULT:t.$ULT_DMG,FUA:t.$FUA_DMG,MEMO_SKILL:t.$MEMO_SKILL_DMG,MEMO_TALENT:t.$MEMO_TALENT_DMG,DOT:t.$DOT_DMG,BREAK:t.$BREAK_DMG,COMBO:t.$COMBO_DMG,EHP:t.$EHP,HEAL:t.$HEAL_VALUE,SHIELD:t.$SHIELD_VALUE,xHP:t.$HP,xATK:t.$ATK,xDEF:t.$DEF,xSPD:t.$SPD,xCR:t.$CR,xCD:t.$CD,xEHR:t.$EHR,xRES:t.$RES,xBE:t.$BE,xERR:t.$ERR,xOHB:t.$OHB,xELEMENTAL_DMG:t.$ELEMENTAL_DMG,mxHP:n.$HP,mxATK:n.$ATK,mxDEF:n.$DEF,mxSPD:n.$SPD,mxCR:n.$CR,mxCD:n.$CD,mxEHR:n.$EHR,mxRES:n.$RES,mxBE:n.$BE,mxERR:n.$ERR,mxOHB:n.$OHB,mxELEMENTAL_DMG:n.$ELEMENTAL_DMG,mxEHP:n.$EHP}}function M2(e){const t=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData")??[];t[1]=W2(e),window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:t})}function pr(e){const t={};for(const n in h){const l=Ed[n]??n,s=h[n];t[l]=e[s]}return t}function L2(e){const t=pr(e);for(const[n,l]of Object.entries(t))t[n]=V2(l);console.log(pr(e))}function V2(e){return y.precisionRound(e,5)}function P2(e,t){let n=`struct ComputedStats {
`;for(const l of Dl)n+=`${l.name}: f32,
`;return n+=`}
`,e+n}const F2=3;function B2(e){const t=[],n=[];Object.values(e).forEach(C=>{for(const D of C)D.chainsTo.length==0?n.push(D):t.push(D)});const l=H2(),s={},o=new Set,r=new Set,c=[],d={},u=[];for(const C of t){d[C.id]=C;for(const D of C.dependsOn)l[D].push(C)}const b=new Set(t.map(C=>C.id));let R=[Sr.reduce((C,D)=>{const V=qi(D,b,l),M=qi(C,b,l);return V>M?D:C})],G=0;const T=100;for(;b.size>0||R.length>0||r.size>0;){if(G++,G>T){console.error("Loop exceeded 100 iterations");break}R.sort((D,V)=>{const M=qi(D,b,l);return qi(V,b,l)-M});let C=R.shift();if(!C&&r.size>0&&(C=[...r][0],r.delete(C)),!C)break;!r.has(C)&&!R.includes(C)&&c.push(C);for(const D of l[C])if(o.has(D.id)||b.has(D.id)){if(s[D.id]>=F2)continue;s[D.id]==null&&(s[D.id]=0),s[D.id]++,o.add(D.id),b.delete(D.id),u.push(D);for(const V of D.chainsTo)!R.includes(V)&&!r.has(V)&&R.push(V)}for(const D of Sr)c.includes(D)||R.push(D);R=Array.from(new Set(R))}return{conditionalSequence:u,terminalConditionals:n}}const Sr=[a.SPD,a.BE,a.EHR,a.CR,a.CD,a.RES,a.DEF,a.ATK,a.OHB,a.ERR,a.HP];function H2(){return{[a.HP]:[],[a.ATK]:[],[a.DEF]:[],[a.SPD]:[],[a.CR]:[],[a.CD]:[],[a.EHR]:[],[a.RES]:[],[a.BE]:[],[a.OHB]:[],[a.ERR]:[]}}function qi(e,t,n,l=new Set){if(l.has(e))return 0;l.add(e);let s=0;for(const o of n[e])if(t.has(o.id)){s++;for(const r of o.chainsTo)s+=qi(r,t,n,l)}return s}function v2(e){let t="";for(const n of e.activeAbilities)n==kt.BASIC&&(t+=`

  /* START BASIC CALC */
  if (abilityType == 1 || actionIndex == 0) {
    let initialDmg = calculateInitial(
      p_x,
      x.BASIC_DMG,
      x.BASIC_HP_SCALING,
      x.BASIC_DEF_SCALING,
      x.BASIC_ATK_SCALING,
      x.BASIC_ATK_P_BOOST
    );
    (*p_x).BASIC_DMG = calculateAbilityDmg(
      p_x,
      baseUniversalMulti,
      baseDmgBoost,
      baseDefPen,
      baseResistance,
      baseSuperBreakInstanceDmg,
      baseBreakEfficiencyBoost,
      initialDmg,
      x.BASIC_DMG_BOOST,
      x.BASIC_VULNERABILITY,
      x.BASIC_DEF_PEN,
      x.BASIC_RES_PEN,
      x.BASIC_CR_BOOST,
      x.BASIC_CD_BOOST,
      x.BASIC_FINAL_DMG_BOOST,
      x.BASIC_BREAK_EFFICIENCY_BOOST,
      x.BASIC_SUPER_BREAK_MODIFIER,
      x.BASIC_BREAK_DMG_MODIFIER,
      x.BASIC_TOUGHNESS_DMG,
      x.BASIC_ADDITIONAL_DMG,
      0, // x.BASIC_ADDITIONAL_DMG_CR_OVERRIDE,
      0, // x.BASIC_ADDITIONAL_DMG_CD_OVERRIDE,
      x.BASIC_TRUE_DMG_MODIFIER,
      m.BASIC_DMG,
    );
  }
  /* END BASIC CALC */
      `),n==kt.SKILL&&(t+=`
  /* START SKILL CALC */
  if (abilityType == 2 || actionIndex == 0) {
    let initialDmg = calculateInitial(
      p_x,
      x.SKILL_DMG,
      x.SKILL_HP_SCALING,
      x.SKILL_DEF_SCALING,
      x.SKILL_ATK_SCALING,
      x.SKILL_ATK_P_BOOST
    );
    (*p_x).SKILL_DMG = calculateAbilityDmg(
      p_x,
      baseUniversalMulti,
      baseDmgBoost,
      baseDefPen,
      baseResistance,
      baseSuperBreakInstanceDmg,
      baseBreakEfficiencyBoost,
      initialDmg,
      x.SKILL_DMG_BOOST,
      x.SKILL_VULNERABILITY,
      x.SKILL_DEF_PEN,
      x.SKILL_RES_PEN,
      x.SKILL_CR_BOOST,
      x.SKILL_CD_BOOST,
      x.SKILL_FINAL_DMG_BOOST,
      0, // x.SKILL_BREAK_EFFICIENCY_BOOST,
      0, // x.SKILL_SUPER_BREAK_MODIFIER,
      0, // x.SKILL_BREAK_DMG_MODIFIER,
      x.SKILL_TOUGHNESS_DMG,
      x.SKILL_ADDITIONAL_DMG,
      0, // x.SKILL_ADDITIONAL_DMG_CR_OVERRIDE,
      0, // x.SKILL_ADDITIONAL_DMG_CD_OVERRIDE,
      x.SKILL_TRUE_DMG_MODIFIER,
      m.SKILL_DMG,
    );
  }
  /* END SKILL CALC */
      `),n==kt.ULT&&(t+=`
  /* START ULT CALC */
  if (abilityType == 4 || actionIndex == 0) {
    let initialDmg = calculateInitial(
      p_x,
      x.ULT_DMG,
      x.ULT_HP_SCALING,
      x.ULT_DEF_SCALING,
      x.ULT_ATK_SCALING,
      x.ULT_ATK_P_BOOST
    );
    (*p_x).ULT_DMG = calculateAbilityDmg(
      p_x,
      baseUniversalMulti,
      baseDmgBoost,
      baseDefPen,
      baseResistance,
      baseSuperBreakInstanceDmg,
      baseBreakEfficiencyBoost,
      initialDmg,
      x.ULT_DMG_BOOST,
      x.ULT_VULNERABILITY,
      x.ULT_DEF_PEN,
      x.ULT_RES_PEN,
      x.ULT_CR_BOOST,
      x.ULT_CD_BOOST,
      x.ULT_FINAL_DMG_BOOST,
      x.ULT_BREAK_EFFICIENCY_BOOST,
      0, // x.ULT_SUPER_BREAK_MODIFIER,
      0, // x.ULT_BREAK_DMG_MODIFIER,
      x.ULT_TOUGHNESS_DMG,
      x.ULT_ADDITIONAL_DMG,
      x.ULT_ADDITIONAL_DMG_CR_OVERRIDE,
      x.ULT_ADDITIONAL_DMG_CD_OVERRIDE,
      x.ULT_TRUE_DMG_MODIFIER,
      m.ULT_DMG,
    );
  }
  /* END ULT CALC */
      `),n==kt.FUA&&(t+=`
  /* START FUA CALC */
  if (abilityType == 8 || actionIndex == 0) {
    let initialDmg = calculateInitial(
      p_x,
      x.FUA_DMG,
      x.FUA_HP_SCALING,
      x.FUA_DEF_SCALING,
      x.FUA_ATK_SCALING,
      x.FUA_ATK_P_BOOST
    );
    (*p_x).FUA_DMG = calculateAbilityDmg(
      p_x,
      baseUniversalMulti,
      baseDmgBoost,
      baseDefPen,
      baseResistance,
      baseSuperBreakInstanceDmg,
      baseBreakEfficiencyBoost,
      initialDmg,
      x.FUA_DMG_BOOST,
      x.FUA_VULNERABILITY,
      x.FUA_DEF_PEN,
      x.FUA_RES_PEN,
      x.FUA_CR_BOOST,
      x.FUA_CD_BOOST,
      0, // x.FUA_FINAL_DMG_BOOST,
      0, // x.FUA_BREAK_EFFICIENCY_BOOST,
      0, // x.FUA_SUPER_BREAK_MODIFIER,
      0, // x.FUA_BREAK_DMG_MODIFIER,
      x.FUA_TOUGHNESS_DMG,
      x.FUA_ADDITIONAL_DMG,
      0, // x.FUA_ADDITIONAL_DMG_CR_OVERRIDE,
      0, // x.FUA_ADDITIONAL_DMG_CD_OVERRIDE,
      x.FUA_TRUE_DMG_MODIFIER,
      0, // m.FUA_DMG,
    );
  }
  /* END FUA CALC */
      `),n==kt.MEMO_SKILL&&(t+=`
  /* START MEMO_SKILL CALC */
  if (abilityType == MEMO_SKILL_ABILITY_TYPE || actionIndex == 0) {
    let initialDmg = calculateInitial(
      p_x,
      x.MEMO_SKILL_DMG,
      x.MEMO_SKILL_HP_SCALING,
      x.MEMO_SKILL_DEF_SCALING,
      x.MEMO_SKILL_ATK_SCALING,
      x.MEMO_SKILL_ATK_P_BOOST
    );
    (*p_x).MEMO_SKILL_DMG = calculateAbilityDmg(
      p_x,
      baseUniversalMulti,
      baseDmgBoost,
      baseDefPen,
      baseResistance,
      baseSuperBreakInstanceDmg,
      baseBreakEfficiencyBoost,
      initialDmg,
      x.MEMO_SKILL_DMG_BOOST,
      0, // x.MEMO_SKILL_VULNERABILITY,
      0, // x.MEMO_SKILL_DEF_PEN,
      0, // x.MEMO_SKILL_RES_PEN,
      0, // x.MEMO_SKILL_CR_BOOST,
      0, // x.MEMO_SKILL_CD_BOOST,
      0, // x.MEMO_SKILL_FINAL_DMG_BOOST,
      0, // x.MEMO_SKILL_BREAK_EFFICIENCY_BOOST,
      0, // x.MEMO_SKILL_SUPER_BREAK_MODIFIER,
      0, // x.MEMO_SKILL_BREAK_DMG_MODIFIER,
      x.MEMO_SKILL_TOUGHNESS_DMG,
      0, // x.MEMO_SKILL_ADDITIONAL_DMG,
      0, // x.MEMO_SKILL_ADDITIONAL_DMG_CR_OVERRIDE,
      0, // x.MEMO_SKILL_ADDITIONAL_DMG_CD_OVERRIDE,
      x.MEMO_SKILL_TRUE_DMG_MODIFIER,
      0, // m.MEMO_DMG,
    );

    (*p_x).MEMO_SKILL_DMG += (*p_m).MEMO_SKILL_DMG;
  }
  /* END MEMO_SKILL CALC */
      `),n==kt.MEMO_TALENT&&(t+=`
  /* START MEMO_TALENT CALC */
  if (abilityType == MEMO_TALENT_ABILITY_TYPE || actionIndex == 0) {
    let initialDmg = calculateInitial(
      p_x,
      x.MEMO_TALENT_DMG,
      x.MEMO_TALENT_HP_SCALING,
      x.MEMO_TALENT_DEF_SCALING,
      x.MEMO_TALENT_ATK_SCALING,
      x.MEMO_TALENT_ATK_P_BOOST
    );
    (*p_x).MEMO_TALENT_DMG = calculateAbilityDmg(
      p_x,
      baseUniversalMulti,
      baseDmgBoost,
      baseDefPen,
      baseResistance,
      baseSuperBreakInstanceDmg,
      baseBreakEfficiencyBoost,
      initialDmg,
      x.MEMO_TALENT_DMG_BOOST,
      0, // x.MEMO_TALENT_VULNERABILITY,
      0, // x.MEMO_TALENT_DEF_PEN,
      0, // x.MEMO_TALENT_RES_PEN,
      0, // x.MEMO_TALENT_CR_BOOST,
      0, // x.MEMO_TALENT_CD_BOOST,
      0, // x.MEMO_TALENT_FINAL_DMG_BOOST,
      0, // x.MEMO_TALENT_BREAK_EFFICIENCY_BOOST,
      0, // x.MEMO_TALENT_SUPER_BREAK_MODIFIER,
      0, // x.MEMO_TALENT_BREAK_DMG_MODIFIER,
      x.MEMO_TALENT_TOUGHNESS_DMG,
      0, // x.MEMO_TALENT_ADDITIONAL_DMG,
      0, // x.MEMO_TALENT_ADDITIONAL_DMG_CR_OVERRIDE,
      0, // x.MEMO_TALENT_ADDITIONAL_DMG_CD_OVERRIDE,
      x.MEMO_TALENT_TRUE_DMG_MODIFIER,
      0, // m.MEMO_DMG,
    );

    (*p_x).MEMO_TALENT_DMG += (*p_m).MEMO_TALENT_DMG;
  }
  /* END MEMO_TALENT CALC */
      `);return t}function Rr(e,t){const n=e.a;return n[h.EHP]=0,Object.keys(Kn).map(s=>{const o=n[h[s]],r=t.DEBUG?` // Stats.${s}`:"";return`${o},${r}`}).join(`
`)}const Z={ATK:{key:"ATK",gpuProperty:"ATK",basicProperty:"ATK",combatProperty:"ATK",basicGridColumn:"ATK",combatGridColumn:"xATK",memoBasicGridColumn:"mATK",memoCombatGridColumn:"mxATK",optimizerKey:h.ATK},DEF:{key:"DEF",gpuProperty:"DEF",basicProperty:"DEF",combatProperty:"DEF",basicGridColumn:"DEF",combatGridColumn:"xDEF",memoBasicGridColumn:"mATK",memoCombatGridColumn:"mxATK",optimizerKey:h.DEF},HP:{key:"HP",gpuProperty:"HP",basicProperty:"HP",combatProperty:"HP",basicGridColumn:"HP",combatGridColumn:"xHP",memoBasicGridColumn:"mATK",memoCombatGridColumn:"mxATK",optimizerKey:h.HP},SPD:{key:"SPD",gpuProperty:"SPD",basicProperty:"SPD",combatProperty:"SPD",basicGridColumn:"SPD",combatGridColumn:"xSPD",memoBasicGridColumn:"mSPD",memoCombatGridColumn:"mxSPD",optimizerKey:h.SPD},CR:{key:"CR",gpuProperty:"CR",basicProperty:"CRIT Rate",combatProperty:"CRIT Rate",basicGridColumn:"CRIT Rate",combatGridColumn:"xCR",memoBasicGridColumn:"mCR",memoCombatGridColumn:"mxCR",optimizerKey:h.CR},CD:{key:"CD",gpuProperty:"CD",basicProperty:"CRIT DMG",combatProperty:"CRIT DMG",basicGridColumn:"CRIT DMG",combatGridColumn:"xCD",memoBasicGridColumn:"mCD",memoCombatGridColumn:"mxCD",optimizerKey:h.CD},EHR:{key:"EHR",gpuProperty:"EHR",basicProperty:"Effect Hit Rate",combatProperty:"Effect Hit Rate",basicGridColumn:"Effect Hit Rate",combatGridColumn:"xEHR",memoBasicGridColumn:"mEHR",memoCombatGridColumn:"mxEHR",optimizerKey:h.EHR},RES:{key:"RES",gpuProperty:"RES",basicProperty:"Effect RES",combatProperty:"Effect RES",basicGridColumn:"Effect RES",combatGridColumn:"xRES",memoBasicGridColumn:"mRES",memoCombatGridColumn:"mxRES",optimizerKey:h.RES},BE:{key:"BE",gpuProperty:"BE",basicProperty:"Break Effect",combatProperty:"Break Effect",basicGridColumn:"Break Effect",combatGridColumn:"xBE",memoBasicGridColumn:"mBE",memoCombatGridColumn:"mxBE",optimizerKey:h.BE},OHB:{key:"OHB",gpuProperty:"OHB",basicProperty:"Outgoing Healing Boost",combatProperty:"Outgoing Healing Boost",basicGridColumn:"Outgoing Healing Boost",combatGridColumn:"xOHB",memoBasicGridColumn:"mOHB",memoCombatGridColumn:"mxOHB",optimizerKey:h.OHB},ERR:{key:"ERR",gpuProperty:"ERR",basicProperty:"Energy Regeneration Rate",combatProperty:"Energy Regeneration Rate",basicGridColumn:"Energy Regeneration Rate",combatGridColumn:"xERR",memoBasicGridColumn:"mERR",memoCombatGridColumn:"mxERR",optimizerKey:h.ERR},ELEMENTAL_DMG:{key:"ELEMENTAL_DMG",gpuProperty:"ELEMENTAL_DMG",basicProperty:"ELEMENTAL_DMG",combatProperty:"ELEMENTAL_DMG",basicGridColumn:"ED",combatGridColumn:"xELEMENTAL_DMG",memoBasicGridColumn:"mELEMENTAL_DMG",memoCombatGridColumn:"mxELEMENTAL_DMG",optimizerKey:h.ELEMENTAL_DMG,isComputedRating:!0},EHP:{key:"EHP",gpuProperty:"EHP",basicProperty:"EHP",combatProperty:"EHP",basicGridColumn:"EHP",combatGridColumn:"EHP",memoBasicGridColumn:"mxEHP",memoCombatGridColumn:"mxEHP",optimizerKey:h.EHP,isComputedRating:!0},BASIC:{key:"BASIC",gpuProperty:"BASIC_DMG",basicProperty:"BASIC_DMG",combatProperty:"BASIC_DMG",basicGridColumn:"BASIC",combatGridColumn:"BASIC",memoBasicGridColumn:"BASIC",memoCombatGridColumn:"BASIC",optimizerKey:h.BASIC_DMG,isComputedRating:!0},SKILL:{key:"SKILL",gpuProperty:"SKILL_DMG",basicProperty:"SKILL_DMG",combatProperty:"SKILL_DMG",basicGridColumn:"SKILL",combatGridColumn:"SKILL",memoBasicGridColumn:"SKILL",memoCombatGridColumn:"SKILL",optimizerKey:h.SKILL_DMG,isComputedRating:!0},ULT:{key:"ULT",gpuProperty:"ULT_DMG",basicProperty:"ULT_DMG",combatProperty:"ULT_DMG",basicGridColumn:"ULT",combatGridColumn:"ULT",memoBasicGridColumn:"ULT",memoCombatGridColumn:"ULT",optimizerKey:h.ULT_DMG,isComputedRating:!0},FUA:{key:"FUA",gpuProperty:"FUA_DMG",basicProperty:"FUA_DMG",combatProperty:"FUA_DMG",basicGridColumn:"FUA",combatGridColumn:"FUA",memoBasicGridColumn:"FUA",memoCombatGridColumn:"FUA",optimizerKey:h.FUA_DMG,isComputedRating:!0},MEMO_SKILL:{key:"MEMO_SKILL",gpuProperty:"MEMO_SKILL_DMG",basicProperty:"MEMO_SKILL_DMG",combatProperty:"MEMO_SKILL_DMG",basicGridColumn:"MEMO_SKILL",combatGridColumn:"MEMO_SKILL",memoBasicGridColumn:"MEMO_SKILL",memoCombatGridColumn:"MEMO_SKILL",optimizerKey:h.MEMO_SKILL_DMG,isComputedRating:!0},MEMO_TALENT:{key:"MEMO_TALENT",gpuProperty:"MEMO_TALENT_DMG",basicProperty:"MEMO_TALENT_DMG",combatProperty:"MEMO_TALENT_DMG",basicGridColumn:"MEMO_TALENT",combatGridColumn:"MEMO_TALENT",memoBasicGridColumn:"MEMO_TALENT",memoCombatGridColumn:"MEMO_TALENT",optimizerKey:h.MEMO_TALENT_DMG,isComputedRating:!0},DOT:{key:"DOT",gpuProperty:"DOT_DMG",basicProperty:"DOT_DMG",combatProperty:"DOT_DMG",basicGridColumn:"DOT",combatGridColumn:"DOT",memoBasicGridColumn:"DOT",memoCombatGridColumn:"DOT",optimizerKey:h.DOT_DMG,isComputedRating:!0},BREAK:{key:"BREAK",gpuProperty:"BREAK_DMG",basicProperty:"BREAK_DMG",combatProperty:"BREAK_DMG",basicGridColumn:"BREAK",combatGridColumn:"BREAK",memoBasicGridColumn:"BREAK",memoCombatGridColumn:"BREAK",optimizerKey:h.BREAK_DMG,isComputedRating:!0},COMBO:{key:"COMBO",gpuProperty:"COMBO_DMG",basicProperty:"COMBO_DMG",combatProperty:"COMBO_DMG",basicGridColumn:"COMBO",combatGridColumn:"COMBO",memoBasicGridColumn:"COMBO",memoCombatGridColumn:"COMBO",optimizerKey:h.COMBO_DMG,isComputedRating:!0},HEAL:{key:"HEAL",gpuProperty:"HEAL_VALUE",basicProperty:"HEAL_VALUE",combatProperty:"HEAL_VALUE",basicGridColumn:"HEAL",combatGridColumn:"HEAL",memoBasicGridColumn:"HEAL",memoCombatGridColumn:"HEAL",optimizerKey:h.HEAL_VALUE,isComputedRating:!0},SHIELD:{key:"SHIELD",gpuProperty:"SHIELD_VALUE",basicProperty:"SHIELD_VALUE",combatProperty:"SHIELD_VALUE",basicGridColumn:"SHIELD",combatGridColumn:"SHIELD",memoBasicGridColumn:"SHIELD",memoCombatGridColumn:"SHIELD",optimizerKey:h.SHIELD_VALUE,isComputedRating:!0}};function X2(e,t,n,l){const s=ta.get(n),o=aa.get(n),r=n.resultSort==Z.COMBO.key?n.actions.length:1;let c=`
switch (actionIndex) {
`;for(let G=0;G<r;G++){const T=n.actions[G];let C=`  // Character conditionals
`,D=`  // Light cone conditionals
`;s.gpuFinalizeCalculations&&(C+=st(s.gpuFinalizeCalculations(T,n),1)),o.gpuFinalizeCalculations&&(D+=st(o.gpuFinalizeCalculations(T,n),1)),c+=st(`
case ${G}: {

${C}
${D}
}
`,1)}c+=`
  default: {
  
  }
}
`,e=e.replace("/* INJECT ACTION CONDITIONALS */",st(c,3));let d="";s.gpuCalculateBasicEffects&&(d+=st(s.gpuCalculateBasicEffects(n.actions[0],n),1)),o.gpuCalculateBasicEffects&&(d+=st(o.gpuCalculateBasicEffects(n.actions[0],n),1)),e=e.replace("/* INJECT BASIC CONDITIONALS */",st(d,2));const{conditionalSequence:u,terminalConditionals:b}=B2(n.actions[0].conditionalRegistry);let p=`
`;p+=u.map(fr).map(G=>st(G,3)).join(`
`)+`
`,p+=`
`,p+=b.map(fr).map(G=>st(G,3)).join(`
`)+`
`,e=e.replace("/* INJECT COMBAT CONDITIONALS */",p),e+=Y2(t,n);let R=`
const comboDot: f32 = ${n.comboDot};
const comboBreak: f32 = ${n.comboBreak};
`;for(let G=0;G<r;G++){const T=n.actions[G];R+=`
const action${G} = Action( // ${T.actionIndex}
  ${N2(T.actionType)},
  SetConditionals(
    ${T.setConditionals.enabledHunterOfGlacialForest},${l.DEBUG?" // enabledHunterOfGlacialForest":""}
    ${T.setConditionals.enabledFiresmithOfLavaForging},${l.DEBUG?" // enabledFiresmithOfLavaForging":""}
    ${T.setConditionals.enabledGeniusOfBrilliantStars},${l.DEBUG?" // enabledGeniusOfBrilliantStars":""}
    ${T.setConditionals.enabledBandOfSizzlingThunder},${l.DEBUG?" // enabledBandOfSizzlingThunder":""}
    ${T.setConditionals.enabledMessengerTraversingHackerspace},${l.DEBUG?" // enabledMessengerTraversingHackerspace":""}
    ${T.setConditionals.enabledCelestialDifferentiator},${l.DEBUG?" // enabledCelestialDifferentiator":""}
    ${T.setConditionals.enabledWatchmakerMasterOfDreamMachinations},${l.DEBUG?" // enabledWatchmakerMasterOfDreamMachinations":""}
    ${T.setConditionals.enabledPenaconyLandOfTheDreams},${l.DEBUG?" // enabledPenaconyLandOfTheDreams":""}
    ${T.setConditionals.enabledIzumoGenseiAndTakamaDivineRealm},${l.DEBUG?" // enabledIzumoGenseiAndTakamaDivineRealm":""}
    ${T.setConditionals.enabledForgeOfTheKalpagniLantern},${l.DEBUG?" // enabledForgeOfTheKalpagniLantern":""}
    ${T.setConditionals.enabledTheWindSoaringValorous},${l.DEBUG?" // enabledTheWindSoaringValorous":""}
    ${T.setConditionals.enabledTheWondrousBananAmusementPark},${l.DEBUG?" // enabledTheWondrousBananAmusementPark":""}
    ${T.setConditionals.enabledScholarLostInErudition},${l.DEBUG?" // enabledScholarLostInErudition":""}
    ${T.setConditionals.enabledHeroOfTriumphantSong},${l.DEBUG?" // enabledHeroOfTriumphantSong":""}
    ${T.setConditionals.valueChampionOfStreetwiseBoxing},${l.DEBUG?" // valueChampionOfStreetwiseBoxing":""}
    ${T.setConditionals.valueWastelanderOfBanditryDesert},${l.DEBUG?" // valueWastelanderOfBanditryDesert":""}
    ${T.setConditionals.valueLongevousDisciple},${l.DEBUG?" // valueLongevousDisciple":""}
    ${T.setConditionals.valueTheAshblazingGrandDuke},${l.DEBUG?" // valueTheAshblazingGrandDuke":""}
    ${T.setConditionals.valuePrisonerInDeepConfinement},${l.DEBUG?" // valuePrisonerInDeepConfinement":""}
    ${T.setConditionals.valuePioneerDiverOfDeadWaters},${l.DEBUG?" // valuePioneerDiverOfDeadWaters":""}
    ${T.setConditionals.valueSigoniaTheUnclaimedDesolation},${l.DEBUG?" // valueSigoniaTheUnclaimedDesolation":""}
    ${T.setConditionals.valueDuranDynastyOfRunningWolves},${l.DEBUG?" // valueDuranDynastyOfRunningWolves":""}
    ${T.setConditionals.valueSacerdosRelivedOrdeal},${l.DEBUG?" // valueSacerdosRelivedOrdeal":""}
  ),
);`}for(let G=0;G<r;G++){const T=n.actions[G];R+=`
const computedStatsX${G} = ComputedStats(
${Rr(T.precomputedX,l)}
);`}if(n.path==Xi.Remembrance)for(let G=0;G<r;G++){const T=n.actions[G];R+=`
const computedStatsM${G} = ComputedStats(
${Rr(T.precomputedM,l)}
);`}return e=e.replace("/* INJECT ACTIONS DEFINITION */",R),e+=`
const actionCount = ${r};
`,e=e.replace("/* INJECT ACTION DAMAGE */",st(v2(n),0)),e}function fr(e){return`evaluate${e.id}(p_x, p_m, p_sets, p_state);`}function k2(e,t){let n;return t.teammateIndex==0?n=e.teammate0:t.teammateIndex==1?n=e.teammate1:n=e.teammate2,n.teammateCharacterConditionals=n.characterConditionals,n.teammateLightConeConditionals=n.lightConeConditionals,n}function ga(e,t,n,l,s){const o="";let r="",c="";return r+=e[t].map(d=>{if(d.teammateIndex==null)return d.gpu(l,s);{const u=k2(l,d);return d.gpu(u,s)}}).join(`
`),c+=e[t].flatMap(d=>[d.id,...d.supplementalState??[]].map(u=>u+`: f32,
`)).join(""),{conditionalEvaluators:o,conditionalDefinitionsWgsl:r,conditionalStateDefinition:c}}function Y2(e,t){let n="",l=`
`,s=`
`,o=`
`;function r(d){l+=d.conditionalEvaluators,s+=d.conditionalDefinitionsWgsl,o+=d.conditionalStateDefinition}const c=t.actions[0].conditionalRegistry;return r(ga(c,a.HP,"HP",e,t)),r(ga(c,a.ATK,"ATK",e,t)),r(ga(c,a.DEF,"DEF",e,t)),r(ga(c,a.SPD,"SPD",e,t)),r(ga(c,a.CR,"CR",e,t)),r(ga(c,a.CD,"CD",e,t)),r(ga(c,a.EHR,"EHR",e,t)),r(ga(c,a.RES,"RES",e,t)),r(ga(c,a.BE,"BE",e,t)),r(ga(c,a.OHB,"OHB",e,t)),r(ga(c,a.ERR,"ERR",e,t)),n+=s,n+=l,n+=`
struct ConditionalState {
${st("actionIndex: i32,",1)}
${st(o,1)}
}
  `,n}const w2={BASIC:Ub,SKILL:Kb,ULT:Jb,FUA:Ab,MEMO_SKILL:jb,MEMO_TALENT:zb};function N2(e){return w2[e]??0}function O2(e,t,n,l){const s={};for(const o of Object.values(zd))s[o]=(t.characterStatsBreakdown.base[o]??0)+(t.characterStatsBreakdown.lightCone[o]??0);return e+=Gr(s,"base"),e+=Gr(t.characterStatsBreakdown.traces,"trace"),e+=A2(t),e+=J2(n),e+=K2(t),e+=U2(t,l),e+=`
`,e}function U2(e,t){return`
const relicSetCount = ${Object.keys(m.SetsRelics).length};
const ornamentSetCount = ${Object.keys(m.SetsOrnaments).length};
const lSize = ${t.LinkRope.length};
const pSize = ${t.PlanarSphere.length};
const fSize = ${t.Feet.length};
const bSize = ${t.Body.length};
const gSize = ${t.Hands.length};
const hSize = ${t.Head.length};
`}function K2(e){const t=e.resultSort==Z.COMBO.key?e.actions.length:1;let n="";for(let s=0;s<t;s++)e.path==Xi.Remembrance?n+=st(`
case ${s}: { 
  (*outAction) = action${s}; 
  (*outX) = computedStatsX${s}; 
  (*outM) = computedStatsM${s}; 
}
    `,0):n+=st(`
case ${s}: { 
  (*outAction) = action${s}; 
  (*outX) = computedStatsX${s}; 
}
    `,0);return`
fn getAction(actionIndex: i32, outAction: ptr<function, Action>, outX: ptr<function, ComputedStats>, outM: ptr<function, ComputedStats>) {
  switch (actionIndex) {
    ${n}
    default: { 
      (*outAction) = action0; 
    }
  }
}
  `}function J2(e){let t=`
`;t+=`const statDisplay: i32 = ${e.statDisplay=="combat"?0:1};
`,t+=`
`,t+=`const enemyCount: i32 = ${e.enemyCount};
`,t+=`const enemyElementalWeak: i32 = ${e.enemyElementalWeak?1:0};
`,t+=`const enemyLevel: i32 = ${e.enemyLevel};
`,t+=`const enemyMaxToughness: f32 = ${e.enemyMaxToughness};
`,t+=`const enemyResistance: f32 = ${e.enemyResistance};
`,t+=`const enemyEffectResistance: f32 = ${e.enemyEffectResistance};
`,t+=`const enemyWeaknessBroken: i32 = ${e.enemyWeaknessBroken?1:0};
`,t+=`
`,t+=`const resistance: f32 = ${(e.enemyElementalWeak?0:e.enemyResistance)-e.combatBuffs.RES_PEN};
`,t+=`
`;for(const[n,l]of Object.entries(e))!n.includes("Weight")&&(n.startsWith("min")||n.startsWith("max"))&&(t+=`const ${n}: f32 = ${l};
`);t+=`
`;for(const[n,l]of Object.entries(e.combatBuffs))t+=`const combatBuffs${n}: f32 = ${l};
`;return t+=`
`,t+=`const e: i32 = ${e.characterEidolon};
`,t+=`
`,t}function A2(e){let t=`
`;return t+=`const ELEMENT_INDEX: i32 = ${j2[e.elementalDamageType]};
`,t+=`const ELEMENTAL_BREAK_SCALING: f32 = ${e.elementalBreakScaling};
`,t}function Gr(e,t){let n=`
`;for(const[l,s]of Object.entries(zd))n+=`const ${t}${l}: f32 = ${e[s]};
`;return n}const zd={HP_P:a.HP_P,ATK_P:a.ATK_P,DEF_P:a.DEF_P,SPD_P:a.SPD_P,HP:a.HP,ATK:a.ATK,DEF:a.DEF,SPD:a.SPD,CR:a.CR,CD:a.CD,EHR:a.EHR,RES:a.RES,BE:a.BE,ERR:a.ERR,OHB:a.OHB,Physical_DMG:a.Physical_DMG,Fire_DMG:a.Fire_DMG,Ice_DMG:a.Ice_DMG,Lightning_DMG:a.Lightning_DMG,Wind_DMG:a.Wind_DMG,Quantum_DMG:a.Quantum_DMG,Imaginary_DMG:a.Imaginary_DMG},j2={[a.Physical_DMG]:0,[a.Fire_DMG]:1,[a.Ice_DMG]:2,[a.Lightning_DMG]:3,[a.Wind_DMG]:4,[a.Quantum_DMG]:5,[a.Imaginary_DMG]:6},z2=`// START GPU PARAMS
// ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
/* INJECT GPU PARAMS */
// ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
// END GPU PARAMS

// START ACTIONS DEFINITION
// ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
/* INJECT ACTIONS DEFINITION */
// ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
// END ACTIONS DEFINITION

const BASIC_DMG_TYPE = 1;
const SKILL_DMG_TYPE = 2;
const ULT_DMG_TYPE = 4;
const FUA_DMG_TYPE = 8;
const DOT_DMG_TYPE = 16;
const BREAK_DMG_TYPE = 32;
const SUPER_BREAK_DMG_TYPE = 64;
const MEMO_DMG_TYPE = 128;
const ADDITIONAL_DMG_TYPE = 256;

const BASIC_ABILITY_TYPE = 1;
const SKILL_ABILITY_TYPE = 2;
const ULT_ABILITY_TYPE = 4;
const FUA_ABILITY_TYPE = 8;
const DOT_ABILITY_TYPE = 16;
const BREAK_ABILITY_TYPE = 32;
const MEMO_SKILL_ABILITY_TYPE = 64;
const MEMO_TALENT_ABILITY_TYPE = 128;

const epsilon = 0.00000001f;

@group(0) @binding(0) var<uniform> params : Params;

@group(1) @binding(0) var<storage> relics : array<Relic>;
@group(1) @binding(1) var<storage> ornamentSetSolutionsMatrix : array<i32>;
@group(1) @binding(2) var<storage> relicSetSolutionsMatrix : array<i32>;

// START RESULTS BUFFER
// ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
/* INJECT RESULTS BUFFER */
// ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
// END RESULTS BUFFER

@compute @workgroup_size(WORKGROUP_SIZE)
fn main(
  @builtin(workgroup_id) workgroup_id : vec3<u32>,
  @builtin(local_invocation_id) local_invocation_id : vec3<u32>,
  @builtin(global_invocation_id) global_invocation_id : vec3<u32>,
  @builtin(local_invocation_index) local_invocation_index: u32,
  @builtin(num_workgroups) num_workgroups: vec3<u32>
) {
  let workgroup_index =
    workgroup_id.x +
    workgroup_id.y * num_workgroups.x +
    workgroup_id.z * num_workgroups.x * num_workgroups.y;
  let indexGlobal = i32(workgroup_index * WORKGROUP_SIZE + local_invocation_index);

  // Load params
  let xl = i32(params.xl);
  let xp = i32(params.xp);
  let xf = i32(params.xf);
  let xb = i32(params.xb);
  let xg = i32(params.xg);
  let xh = i32(params.xh);
  let threshold = params.threshold;
  let cycleIndex = indexGlobal * CYCLES_PER_INVOCATION;

  var failures: f32 = 1;

  var emptyComputedStats = ComputedStats();

  for (var i = 0; i < CYCLES_PER_INVOCATION; i++) {

    // Calculate global_invocation_index

    let index = cycleIndex + i;

    // Calculate relic index per slot

    let l = (index % lSize);
    let p = (((index - l) / lSize) % pSize);
    let f = (((index - p * lSize - l) / (lSize * pSize)) % fSize);
    let b = (((index - f * pSize * lSize - p * lSize - l) / (lSize * pSize * fSize)) % bSize);
    let g = (((index - b * fSize * pSize * lSize - f * pSize * lSize - p * lSize - l) / (lSize * pSize * fSize * bSize)) % gSize);
    let h = (((index - g * bSize * fSize * pSize * lSize - b * fSize * pSize * lSize - f * pSize * lSize - p * lSize - l) / (lSize * pSize * fSize * bSize * gSize)) % hSize);

    let finalL = (l + xl) % lSize;
    let carryL = (l + xl) / lSize;
    let finalP = (p + xp + carryL) % pSize;
    let carryP = (p + xp + carryL) / pSize;
    let finalF = (f + xf + carryP) % fSize;
    let carryF = (f + xf + carryP) / fSize;
    let finalB = (b + xb + carryF) % bSize;
    let carryB = (b + xb + carryF) / bSize;
    let finalG = (g + xg + carryB) % gSize;
    let carryG = (g + xg + carryB) / gSize;
    let finalH = (h + xh + carryG) % hSize;

    // Calculate Relic structs

    let head         : Relic = (relics[finalH]);
    let hands        : Relic = (relics[finalG + hSize]);
    let body         : Relic = (relics[finalB + hSize + gSize]);
    let feet         : Relic = (relics[finalF + hSize + gSize + bSize]);
    let planarSphere : Relic = (relics[finalP + hSize + gSize + bSize + fSize]);
    let linkRope     : Relic = (relics[finalL + hSize + gSize + bSize + fSize + pSize]);

    // Convert set ID

    let setH: u32 = u32(head.relicSet);
    let setG: u32 = u32(hands.relicSet);
    let setB: u32 = u32(body.relicSet);
    let setF: u32 = u32(feet.relicSet);
    let setP: u32 = u32(planarSphere.relicSet);
    let setL: u32 = u32(linkRope.relicSet);

    // Get the index for set permutation lookup

    let relicSetIndex: u32 = setH + setB * relicSetCount + setG * relicSetCount * relicSetCount + setF * relicSetCount * relicSetCount * relicSetCount;
    let ornamentSetIndex: u32 = setP + setL * ornamentSetCount;

    // START SET FILTERS
    // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
    /* INJECT SET FILTERS */
    // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
    // END SET FILTERS

    // Calculate relic set counts

    var sets = Sets();

    sets.PasserbyOfWanderingCloud            = i32((1 >> (setH ^ 0)) + (1 >> (setG ^ 0)) + (1 >> (setB ^ 0)) + (1 >> (setF ^ 0)));
    sets.MusketeerOfWildWheat                = i32((1 >> (setH ^ 1)) + (1 >> (setG ^ 1)) + (1 >> (setB ^ 1)) + (1 >> (setF ^ 1)));
    sets.KnightOfPurityPalace                = i32((1 >> (setH ^ 2)) + (1 >> (setG ^ 2)) + (1 >> (setB ^ 2)) + (1 >> (setF ^ 2)));
    sets.HunterOfGlacialForest               = i32((1 >> (setH ^ 3)) + (1 >> (setG ^ 3)) + (1 >> (setB ^ 3)) + (1 >> (setF ^ 3)));
    sets.ChampionOfStreetwiseBoxing          = i32((1 >> (setH ^ 4)) + (1 >> (setG ^ 4)) + (1 >> (setB ^ 4)) + (1 >> (setF ^ 4)));
    sets.GuardOfWutheringSnow                = i32((1 >> (setH ^ 5)) + (1 >> (setG ^ 5)) + (1 >> (setB ^ 5)) + (1 >> (setF ^ 5)));
    sets.FiresmithOfLavaForging              = i32((1 >> (setH ^ 6)) + (1 >> (setG ^ 6)) + (1 >> (setB ^ 6)) + (1 >> (setF ^ 6)));
    sets.GeniusOfBrilliantStars              = i32((1 >> (setH ^ 7)) + (1 >> (setG ^ 7)) + (1 >> (setB ^ 7)) + (1 >> (setF ^ 7)));
    sets.BandOfSizzlingThunder               = i32((1 >> (setH ^ 8)) + (1 >> (setG ^ 8)) + (1 >> (setB ^ 8)) + (1 >> (setF ^ 8)));
    sets.EagleOfTwilightLine                 = i32((1 >> (setH ^ 9)) + (1 >> (setG ^ 9)) + (1 >> (setB ^ 9)) + (1 >> (setF ^ 9)));
    sets.ThiefOfShootingMeteor               = i32((1 >> (setH ^ 10)) + (1 >> (setG ^ 10)) + (1 >> (setB ^ 10)) + (1 >> (setF ^ 10)));
    sets.WastelanderOfBanditryDesert         = i32((1 >> (setH ^ 11)) + (1 >> (setG ^ 11)) + (1 >> (setB ^ 11)) + (1 >> (setF ^ 11)));
    sets.LongevousDisciple                   = i32((1 >> (setH ^ 12)) + (1 >> (setG ^ 12)) + (1 >> (setB ^ 12)) + (1 >> (setF ^ 12)));
    sets.MessengerTraversingHackerspace      = i32((1 >> (setH ^ 13)) + (1 >> (setG ^ 13)) + (1 >> (setB ^ 13)) + (1 >> (setF ^ 13)));
    sets.TheAshblazingGrandDuke              = i32((1 >> (setH ^ 14)) + (1 >> (setG ^ 14)) + (1 >> (setB ^ 14)) + (1 >> (setF ^ 14)));
    sets.PrisonerInDeepConfinement           = i32((1 >> (setH ^ 15)) + (1 >> (setG ^ 15)) + (1 >> (setB ^ 15)) + (1 >> (setF ^ 15)));
    sets.PioneerDiverOfDeadWaters            = i32((1 >> (setH ^ 16)) + (1 >> (setG ^ 16)) + (1 >> (setB ^ 16)) + (1 >> (setF ^ 16)));
    sets.WatchmakerMasterOfDreamMachinations = i32((1 >> (setH ^ 17)) + (1 >> (setG ^ 17)) + (1 >> (setB ^ 17)) + (1 >> (setF ^ 17)));
    sets.IronCavalryAgainstTheScourge        = i32((1 >> (setH ^ 18)) + (1 >> (setG ^ 18)) + (1 >> (setB ^ 18)) + (1 >> (setF ^ 18)));
    sets.TheWindSoaringValorous              = i32((1 >> (setH ^ 19)) + (1 >> (setG ^ 19)) + (1 >> (setB ^ 19)) + (1 >> (setF ^ 19)));
    sets.SacerdosRelivedOrdeal               = i32((1 >> (setH ^ 20)) + (1 >> (setG ^ 20)) + (1 >> (setB ^ 20)) + (1 >> (setF ^ 20)));
    sets.ScholarLostInErudition              = i32((1 >> (setH ^ 21)) + (1 >> (setG ^ 21)) + (1 >> (setB ^ 21)) + (1 >> (setF ^ 21)));
    sets.HeroOfTriumphantSong                = i32((1 >> (setH ^ 22)) + (1 >> (setG ^ 22)) + (1 >> (setB ^ 22)) + (1 >> (setF ^ 22)));
    sets.PoetOfMourningCollapse              = i32((1 >> (setH ^ 23)) + (1 >> (setG ^ 23)) + (1 >> (setB ^ 23)) + (1 >> (setF ^ 23)));

    // Calculate ornament set counts

    if (setP == setL) {
      sets.SpaceSealingStation             = i32((1 >> (setP ^ 0)) + (1 >> (setL ^ 0)));
      sets.FleetOfTheAgeless               = i32((1 >> (setP ^ 1)) + (1 >> (setL ^ 1)));
      sets.PanCosmicCommercialEnterprise   = i32((1 >> (setP ^ 2)) + (1 >> (setL ^ 2)));
      sets.BelobogOfTheArchitects          = i32((1 >> (setP ^ 3)) + (1 >> (setL ^ 3)));
      sets.CelestialDifferentiator         = i32((1 >> (setP ^ 4)) + (1 >> (setL ^ 4)));
      sets.InertSalsotto                   = i32((1 >> (setP ^ 5)) + (1 >> (setL ^ 5)));
      sets.TaliaKingdomOfBanditry          = i32((1 >> (setP ^ 6)) + (1 >> (setL ^ 6)));
      sets.SprightlyVonwacq                = i32((1 >> (setP ^ 7)) + (1 >> (setL ^ 7)));
      sets.RutilantArena                   = i32((1 >> (setP ^ 8)) + (1 >> (setL ^ 8)));
      sets.BrokenKeel                      = i32((1 >> (setP ^ 9)) + (1 >> (setL ^ 9)));
      sets.FirmamentFrontlineGlamoth       = i32((1 >> (setP ^ 10)) + (1 >> (setL ^ 10)));
      sets.PenaconyLandOfTheDreams         = i32((1 >> (setP ^ 11)) + (1 >> (setL ^ 11)));
      sets.SigoniaTheUnclaimedDesolation   = i32((1 >> (setP ^ 12)) + (1 >> (setL ^ 12)));
      sets.IzumoGenseiAndTakamaDivineRealm = i32((1 >> (setP ^ 13)) + (1 >> (setL ^ 13)));
      sets.DuranDynastyOfRunningWolves     = i32((1 >> (setP ^ 14)) + (1 >> (setL ^ 14)));
      sets.ForgeOfTheKalpagniLantern       = i32((1 >> (setP ^ 15)) + (1 >> (setL ^ 15)));
      sets.LushakaTheSunkenSeas            = i32((1 >> (setP ^ 16)) + (1 >> (setL ^ 16)));
      sets.TheWondrousBananAmusementPark   = i32((1 >> (setP ^ 17)) + (1 >> (setL ^ 17)));
      sets.BoneCollectionsSereneDemesne    = i32((1 >> (setP ^ 18)) + (1 >> (setL ^ 18)));
      sets.GiantTreeOfRaptBrooding         = i32((1 >> (setP ^ 19)) + (1 >> (setL ^ 19)));
    }

    var c: BasicStats = BasicStats();

    // Calculate relic stat sums
    // NOTE: Performance is worse if we don't add elemental dmg from head/hands/body/feet/rope

    c.HP_P  = head.HP_P + hands.HP_P + body.HP_P + feet.HP_P + planarSphere.HP_P + linkRope.HP_P;
    c.ATK_P = head.ATK_P + hands.ATK_P + body.ATK_P + feet.ATK_P + planarSphere.ATK_P + linkRope.ATK_P;
    c.DEF_P = head.DEF_P + hands.DEF_P + body.DEF_P + feet.DEF_P + planarSphere.DEF_P + linkRope.DEF_P;
    c.SPD_P = head.SPD_P + hands.SPD_P + body.SPD_P + feet.SPD_P + planarSphere.SPD_P + linkRope.SPD_P;
    c.HP  = epsilon + head.HP + hands.HP + body.HP + feet.HP + planarSphere.HP + linkRope.HP;
    c.ATK = epsilon + head.ATK + hands.ATK + body.ATK + feet.ATK + planarSphere.ATK + linkRope.ATK;
    c.DEF = epsilon + head.DEF + hands.DEF + body.DEF + feet.DEF + planarSphere.DEF + linkRope.DEF;
    c.SPD = epsilon + head.SPD + hands.SPD + body.SPD + feet.SPD + planarSphere.SPD + linkRope.SPD;
    c.CR  = epsilon + head.CR + hands.CR + body.CR + feet.CR + planarSphere.CR + linkRope.CR;
    c.CD  = epsilon + head.CD + hands.CD + body.CD + feet.CD + planarSphere.CD + linkRope.CD;
    c.EHR = epsilon + head.EHR + hands.EHR + body.EHR + feet.EHR + planarSphere.EHR + linkRope.EHR;
    c.RES = epsilon + head.RES + hands.RES + body.RES + feet.RES + planarSphere.RES + linkRope.RES;
    c.BE  = epsilon + head.BE + hands.BE + body.BE + feet.BE + planarSphere.BE + linkRope.BE;
    c.ERR = epsilon + head.ERR + hands.ERR + body.ERR + feet.ERR + planarSphere.ERR + linkRope.ERR;
    c.OHB = epsilon + head.OHB + hands.OHB + body.OHB + feet.OHB + planarSphere.OHB + linkRope.OHB;
    c.PHYSICAL_DMG_BOOST  = epsilon + head.PHYSICAL_DMG_BOOST + hands.PHYSICAL_DMG_BOOST + body.PHYSICAL_DMG_BOOST + feet.PHYSICAL_DMG_BOOST + planarSphere.PHYSICAL_DMG_BOOST + linkRope.PHYSICAL_DMG_BOOST;
    c.FIRE_DMG_BOOST      = epsilon + head.FIRE_DMG_BOOST + hands.FIRE_DMG_BOOST + body.FIRE_DMG_BOOST + feet.FIRE_DMG_BOOST + planarSphere.FIRE_DMG_BOOST + linkRope.FIRE_DMG_BOOST;
    c.ICE_DMG_BOOST       = epsilon + head.ICE_DMG_BOOST + hands.ICE_DMG_BOOST + body.ICE_DMG_BOOST + feet.ICE_DMG_BOOST + planarSphere.ICE_DMG_BOOST + linkRope.ICE_DMG_BOOST;
    c.LIGHTNING_DMG_BOOST = epsilon + head.LIGHTNING_DMG_BOOST + hands.LIGHTNING_DMG_BOOST + body.LIGHTNING_DMG_BOOST + feet.LIGHTNING_DMG_BOOST + planarSphere.LIGHTNING_DMG_BOOST + linkRope.LIGHTNING_DMG_BOOST;
    c.WIND_DMG_BOOST      = epsilon + head.WIND_DMG_BOOST + hands.WIND_DMG_BOOST + body.WIND_DMG_BOOST + feet.WIND_DMG_BOOST + planarSphere.WIND_DMG_BOOST + linkRope.WIND_DMG_BOOST;
    c.QUANTUM_DMG_BOOST   = epsilon + head.QUANTUM_DMG_BOOST + hands.QUANTUM_DMG_BOOST + body.QUANTUM_DMG_BOOST + feet.QUANTUM_DMG_BOOST + planarSphere.QUANTUM_DMG_BOOST + linkRope.QUANTUM_DMG_BOOST;
    c.IMAGINARY_DMG_BOOST = epsilon + head.IMAGINARY_DMG_BOOST + hands.IMAGINARY_DMG_BOOST + body.IMAGINARY_DMG_BOOST + feet.IMAGINARY_DMG_BOOST + planarSphere.IMAGINARY_DMG_BOOST + linkRope.IMAGINARY_DMG_BOOST;

    // Calculate basic stats

    c.HP  += (baseHP) * (1 + c.HP_P + traceHP_P + baseHP_P) + traceHP;
    c.ATK += (baseATK) * (1 + c.ATK_P + traceATK_P + baseATK_P) + traceATK;
    c.DEF += (baseDEF) * (1 + c.DEF_P + traceDEF_P + baseDEF_P) + traceDEF;
    c.SPD += (baseSPD) * (1 + c.SPD_P + traceSPD_P + baseSPD_P) + traceSPD;
    c.CR  += baseCR + traceCR;
    c.CD  += baseCD + traceCD;
    c.EHR += baseEHR + traceEHR;
    c.RES += baseRES + traceRES;
    c.BE  += baseBE + traceBE;
    c.ERR += baseERR + traceERR;
    c.OHB += baseOHB + traceOHB;
    c.PHYSICAL_DMG_BOOST  += tracePhysical_DMG + 0.10 * p2(sets.ChampionOfStreetwiseBoxing);
    c.FIRE_DMG_BOOST      += traceFire_DMG + 0.10 * p2(sets.FiresmithOfLavaForging);
    c.ICE_DMG_BOOST       += traceIce_DMG + 0.10 * p2(sets.HunterOfGlacialForest);
    c.LIGHTNING_DMG_BOOST += traceLightning_DMG + 0.10 * p2(sets.BandOfSizzlingThunder);
    c.WIND_DMG_BOOST      += traceWind_DMG + 0.10 * p2(sets.EagleOfTwilightLine);
    c.QUANTUM_DMG_BOOST   += traceQuantum_DMG + 0.10 * p2(sets.GeniusOfBrilliantStars) + 0.10 * p2(sets.PoetOfMourningCollapse);
    c.IMAGINARY_DMG_BOOST += traceImaginary_DMG + 0.10 * p2(sets.WastelanderOfBanditryDesert);

    // Calculate set effects

    c.SPD += (baseSPD) * (
      0.06 * p2(sets.MessengerTraversingHackerspace) +
      0.06 * p2(sets.ForgeOfTheKalpagniLantern) +
      0.06 * p4(sets.MusketeerOfWildWheat) +
      0.06 * p2(sets.SacerdosRelivedOrdeal) -
      0.08 * p4(sets.PoetOfMourningCollapse) +
      0.06 * p2(sets.GiantTreeOfRaptBrooding)
    );

    c.HP += (baseHP) * (
      0.12 * p2(sets.FleetOfTheAgeless) +
      0.12 * p2(sets.LongevousDisciple) +
      0.12 * p2(sets.BoneCollectionsSereneDemesne)
    );

    c.ATK += (baseATK) * (
      0.12 * p2(sets.SpaceSealingStation) +
      0.12 * p2(sets.FirmamentFrontlineGlamoth) +
      0.12 * p2(sets.MusketeerOfWildWheat) +
      0.12 * p2(sets.PrisonerInDeepConfinement) +
      0.12 * p2(sets.IzumoGenseiAndTakamaDivineRealm) +
      0.12 * p2(sets.TheWindSoaringValorous) +
      0.12 * p2(sets.HeroOfTriumphantSong)
    );

    c.DEF += (baseDEF) * (
      0.15 * p2(sets.BelobogOfTheArchitects) +
      0.15 * p2(sets.KnightOfPurityPalace)
    );

    c.CR += (
      0.08 * p2(sets.InertSalsotto) +
      0.08 * p2(sets.RutilantArena) +
      0.04 * p4(sets.PioneerDiverOfDeadWaters) +
      0.04 * p2(sets.SigoniaTheUnclaimedDesolation) +
      0.06 * p4(sets.TheWindSoaringValorous) +
      0.08 * p2(sets.ScholarLostInErudition)
    );

    c.CD += (
      0.16 * p2(sets.CelestialDifferentiator) +
      0.16 * p2(sets.TheWondrousBananAmusementPark)
    );

    c.EHR += (
      0.10 * p2(sets.PanCosmicCommercialEnterprise)
    );

    c.RES += (
      0.10 * p2(sets.BrokenKeel)
    );

    c.BE += (
      0.16 * p2(sets.TaliaKingdomOfBanditry) +
      0.16 * p2(sets.ThiefOfShootingMeteor) +
      0.16 * p4(sets.ThiefOfShootingMeteor) +
      0.16 * p2(sets.WatchmakerMasterOfDreamMachinations) +
      0.16 * p2(sets.IronCavalryAgainstTheScourge)
    );

    c.ERR += (
      0.05 * p2(sets.SprightlyVonwacq) +
      0.05 * p2(sets.PenaconyLandOfTheDreams) +
      0.05 * p2(sets.LushakaTheSunkenSeas)
    );

    c.OHB += (
      0.10 * p2(sets.PasserbyOfWanderingCloud)
    );

    let diffATK = c.ATK + combatBuffsATK + combatBuffsATK_P * baseATK;
    let diffDEF = c.DEF + combatBuffsDEF + combatBuffsDEF_P * baseDEF;
    let diffHP = c.HP   + combatBuffsHP  + combatBuffsHP_P  * baseHP;
    let diffSPD = c.SPD + combatBuffsSPD + combatBuffsSPD_P * baseSPD;
    let diffCD = c.CD   + combatBuffsCD;
    let diffCR = c.CR   + combatBuffsCR;
    let diffEHR = c.EHR;
    let diffRES = c.RES;
    let diffBE = c.BE   + combatBuffsBE;
    let diffERR = c.ERR;
    let diffOHB = c.OHB;

    var combo = 0.0;

    /* START MC ASSIGNMENT */
    var mc = c;
    /* END MC ASSIGNMENT */

    for (var actionIndex = actionCount - 1; actionIndex >= 0; actionIndex--) {
      var action: Action;
      var x: ComputedStats;
      var m: ComputedStats;
      getAction(actionIndex, &action, &x, &m);

      let setConditionals = action.setConditionals;
      var state = ConditionalState();
      state.actionIndex = actionIndex;

      let p_x = &x;
      let p_m = &m;
      let p_sets = &sets;
      let p_state = &state;

      // BASIC

      if (p2(sets.CelestialDifferentiator) >= 1 && setConditionals.enabledCelestialDifferentiator == true && c.CD >= 1.20) {
        x.CR += 0.60;
      }

      // SPD

      if (p4(sets.MessengerTraversingHackerspace) >= 1 && setConditionals.enabledMessengerTraversingHackerspace == true) {
        x.SPD_P += 0.12;
        m.SPD_P += 0.12;
      }
      if (p4(sets.HeroOfTriumphantSong) >= 1 && setConditionals.enabledHeroOfTriumphantSong == true) {
        x.SPD_P += 0.06;
        x.CD += 0.30;
        m.CD += 0.30;
      }

      // ATK

      if (p4(sets.ChampionOfStreetwiseBoxing) >= 1) {
        x.ATK_P += 0.05 * f32(setConditionals.valueChampionOfStreetwiseBoxing);
      }
      if (p4(sets.BandOfSizzlingThunder) >= 1 && setConditionals.enabledBandOfSizzlingThunder == true) {
        x.ATK_P += 0.20;
      }
      if (p4(sets.TheAshblazingGrandDuke) >= 1) {
        x.ATK_P += 0.06 * f32(setConditionals.valueTheAshblazingGrandDuke);
      }

      // DEF

      // HP

      // CD

      if (p4(sets.HunterOfGlacialForest) >= 1 && setConditionals.enabledHunterOfGlacialForest == true) {
        x.CD += 0.25;
      }
      if (p4(sets.WastelanderOfBanditryDesert) >= 1 && setConditionals.valueWastelanderOfBanditryDesert == 2) {
        x.CD += 0.10;
      }
      if (p4(sets.PioneerDiverOfDeadWaters) >= 1) {
        x.CD += getPioneerSetCd(setConditionals.valuePioneerDiverOfDeadWaters);
      }
      if (p2(sets.SigoniaTheUnclaimedDesolation) >= 1) {
        x.CD += 0.04 * f32(setConditionals.valueSigoniaTheUnclaimedDesolation);
      }
      if (p2(sets.DuranDynastyOfRunningWolves) >= 1 && setConditionals.valueDuranDynastyOfRunningWolves >= 5) {
        x.CD += 0.25;
      }
      if (p2(sets.TheWondrousBananAmusementPark) >= 1 && setConditionals.enabledTheWondrousBananAmusementPark == true) {
        x.CD += 0.32;
      }
      if (p4(sets.SacerdosRelivedOrdeal) >= 1) {
        x.CD += 0.18 * f32(setConditionals.valueSacerdosRelivedOrdeal);
      }

      // CR

      if (p4(sets.WastelanderOfBanditryDesert) >= 1 && setConditionals.valueWastelanderOfBanditryDesert > 0) {
        x.CR += 0.10;
      }
      if (p4(sets.LongevousDisciple) >= 1) {
        x.CR += 0.08 * f32(setConditionals.valueLongevousDisciple);
      }
      if (p4(sets.PioneerDiverOfDeadWaters) >= 1 && setConditionals.valuePioneerDiverOfDeadWaters > 2) {
        x.CR += 0.04;
      }
      if (p2(sets.IzumoGenseiAndTakamaDivineRealm) >= 1 && setConditionals.enabledIzumoGenseiAndTakamaDivineRealm == true) {
        x.CR += 0.12;
      }
      if (p4(sets.PoetOfMourningCollapse) >= 1) {
        let crValue = select(0, 0.20, c.SPD < 110) + select(0, 0.12, c.SPD < 95);
        x.CR += crValue;
        m.CR += crValue;
      }

      // BE

      if (p4(sets.WatchmakerMasterOfDreamMachinations) >= 1 && setConditionals.enabledWatchmakerMasterOfDreamMachinations == true) {
        x.BE += 0.30;
        m.BE += 0.30;
      }
      if (p2(sets.ForgeOfTheKalpagniLantern) >= 1 && setConditionals.enabledForgeOfTheKalpagniLantern == true) {
        x.BE += 0.40;
      }

      // Buffs

      // Basic boost
      if (p4(sets.MusketeerOfWildWheat) >= 1) {
        buffAbilityDmg(&x, BASIC_DMG_TYPE, 0.10, 1);
      }

      // Skill boost
      if (p4(sets.FiresmithOfLavaForging) >= 1) {
        buffAbilityDmg(&x, SKILL_DMG_TYPE, 0.12, 1);
      }

      // Fua boost
      if (p2(sets.TheAshblazingGrandDuke) >= 1) {
        buffAbilityDmg(&x, FUA_DMG_TYPE, 0.20, 1);
      }
      if (p2(sets.DuranDynastyOfRunningWolves) >= 1) {
        buffAbilityDmg(&x, FUA_DMG_TYPE, 0.05 * f32(setConditionals.valueDuranDynastyOfRunningWolves), 1);
      }

      // Ult boost
      if (p4(sets.TheWindSoaringValorous) >= 1) {
        buffAbilityDmg(&x, ULT_DMG_TYPE, 0.36 * f32(setConditionals.enabledTheWindSoaringValorous), 1);
      }

      if (p4(sets.ScholarLostInErudition) >= 1) {
        buffAbilityDmg(&x, SKILL_DMG_TYPE | ULT_DMG_TYPE, 0.20, 1);

        if (setConditionals.enabledScholarLostInErudition == true) {
          buffAbilityDmg(&x, SKILL_DMG_TYPE, 0.25, 1);
        }
      }

      // Other boosts

      if (p4(sets.GeniusOfBrilliantStars) >= 1) {
        if (setConditionals.enabledGeniusOfBrilliantStars == true) {
          x.DEF_PEN += 0.20;
        } else {
          x.DEF_PEN += 0.10;
        }
      }

      if (p4(sets.PrisonerInDeepConfinement) >= 1) {
        x.DEF_PEN += 0.06 * f32(setConditionals.valuePrisonerInDeepConfinement);
      }

      if (p2(sets.PioneerDiverOfDeadWaters) >= 1 && setConditionals.valuePioneerDiverOfDeadWaters >= 0) {
        x.ELEMENTAL_DMG += 0.12;
      }

      if (p2(sets.FiresmithOfLavaForging) >= 1 && setConditionals.enabledFiresmithOfLavaForging == true) {
        x.FIRE_DMG_BOOST += 0.12;
      }

      if (p2(sets.GuardOfWutheringSnow) >= 1) {
        x.DMG_RED_MULTI *= (1 - 0.08);
      }

      if (p4(sets.KnightOfPurityPalace) >= 1) {
        x.SHIELD_BOOST += 0.20;
      }

      if (p2(sets.PenaconyLandOfTheDreams) >= 1 && setConditionals.enabledPenaconyLandOfTheDreams == true) {
        m.ELEMENTAL_DMG += 0.10;
      }

      x.ATK += diffATK;
      x.DEF += diffDEF;
      x.HP  += diffHP;
      x.SPD += diffSPD;
      x.CD  += diffCD;
      x.CR  += diffCR;
      x.EHR += diffEHR;
      x.RES += diffRES;
      x.BE  += diffBE;
      x.ERR += diffERR;
      x.OHB += diffOHB;

      addElementalDmg(&c, &x);

      x.ELEMENTAL_DMG += combatBuffsDMG_BOOST;
      x.EFFECT_RES_PEN += combatBuffsEFFECT_RES_PEN;
      x.VULNERABILITY += combatBuffsVULNERABILITY;
      x.BREAK_EFFICIENCY_BOOST += combatBuffsBREAK_EFFICIENCY;

      x.ATK += x.ATK_P * baseATK;
      x.DEF += x.DEF_P * baseDEF;
      x.HP += x.HP_P * baseHP;
      x.SPD += x.SPD_P * baseSPD;

      /* START COPY MEMOSPRITE BASIC STATS */
      m.CD  += mc.CD;
      m.CR  += mc.CR;
      m.EHR += mc.EHR;
      m.RES += mc.RES;
      m.BE  += mc.BE;
      m.ERR += mc.ERR;
      m.OHB += mc.OHB;

      addElementalDmg(&mc, &m);

      m.BASE_ATK = mc.ATK * x.MEMO_BASE_ATK_SCALING + x.MEMO_BASE_ATK_FLAT;
      m.BASE_DEF = mc.DEF * x.MEMO_BASE_DEF_SCALING + x.MEMO_BASE_DEF_FLAT;
      m.BASE_HP = mc.HP * x.MEMO_BASE_HP_SCALING + x.MEMO_BASE_HP_FLAT;
      m.BASE_SPD = mc.SPD * x.MEMO_BASE_SPD_SCALING + x.MEMO_BASE_SPD_FLAT;

      m.ATK += m.BASE_ATK + m.BASE_ATK * m.ATK_P;
      m.DEF += m.BASE_DEF + m.BASE_DEF * m.DEF_P;
      m.HP += m.BASE_HP + m.BASE_HP * m.HP_P;
      m.SPD += m.BASE_SPD + m.BASE_SPD * m.SPD_P;
      /* END COPY MEMOSPRITE BASIC STATS */

      // START BASIC CONDITIONALS
      // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
      /* INJECT BASIC CONDITIONALS */
      // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
      // END BASIC CONDITIONALS

      // START COMBAT CONDITIONALS
      // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
      /* INJECT COMBAT CONDITIONALS */
      // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
      // END COMBAT CONDITIONALS

      if (p2(sets.FirmamentFrontlineGlamoth) >= 1 && x.SPD >= 135) {
        x.ELEMENTAL_DMG += select(0.12, 0.18, x.SPD >= 160);
      }

      if (p2(sets.RutilantArena) >= 1 && x.CR >= 0.70) {
        buffAbilityDmg(p_x, BASIC_DMG_TYPE | SKILL_DMG_TYPE, 0.20, 1);
      }

      if (p2(sets.InertSalsotto) >= 1 && x.CR >= 0.50) {
        buffAbilityDmg(p_x, ULT_DMG_TYPE | FUA_DMG_TYPE, 0.15, 1);
      }

      if (p4(sets.IronCavalryAgainstTheScourge) >= 1 && x.BE >= 1.50) {
        buffAbilityDefShred(p_x, BREAK_DMG_TYPE, 0.10, 1);
        buffAbilityDefShred(p_x, SUPER_BREAK_DMG_TYPE, select(0, 0.15, x.BE >= 2.50), 1);
      }

      // START ACTION CONDITIONALS
      // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
      /* INJECT ACTION CONDITIONALS */
      // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
      // END ACTION CONDITIONALS

      // Calculate damage

      addComputedElementalDmg(&x);

      /* START MEMOSPRITE DAMAGE CALCS */
      calculateDamage(&m, &emptyComputedStats, actionIndex, action.abilityType);
      /* END MEMOSPRITE DAMAGE CALCS */

      calculateDamage(&x, &m, actionIndex, action.abilityType);

      if (actionIndex > 0) {
        if (action.abilityType == BASIC_ABILITY_TYPE) {
          combo += x.BASIC_DMG;
        } else if (action.abilityType == SKILL_ABILITY_TYPE) {
          combo += x.SKILL_DMG;
        } else if (action.abilityType == ULT_ABILITY_TYPE) {
          combo += x.ULT_DMG;
        } else if (action.abilityType == FUA_ABILITY_TYPE) {
          combo += x.FUA_DMG;
        } else if (action.abilityType == MEMO_SKILL_ABILITY_TYPE) {
          combo += x.MEMO_SKILL_DMG;
        } else if (action.abilityType == MEMO_TALENT_ABILITY_TYPE) {
          combo += x.MEMO_TALENT_DMG;
        }
      } else {
        x.COMBO_DMG = combo + comboDot * x.DOT_DMG + comboBreak * x.BREAK_DMG;

        // START COMBAT STAT FILTERS
        // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
        /* INJECT COMBAT STAT FILTERS */
        // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
        // END COMBAT STAT FILTERS


        // START BASIC STAT FILTERS
        // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
        /* INJECT BASIC STAT FILTERS */
        // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
        // END BASIC STAT FILTERS


        // START RATING STAT FILTERS
        // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
        /* INJECT RATING STAT FILTERS */
        // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
        // END RATING STAT FILTERS


        // START RETURN VALUE
        // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
        /* INJECT RETURN VALUE */
        // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
        // END RETURN VALUE
      }
    }
  }
}

fn calculateDamage(
  p_x: ptr<function, ComputedStats>,
  p_m: ptr<function, ComputedStats>,
  actionIndex: i32,
  abilityType: f32,
) {
  let x = *p_x;
  let m = *p_m;
  let eLevel: f32 = f32(enemyLevel);

  (*p_x).CR += x.CR_BOOST;
  (*p_x).CD += x.CD_BOOST;
  (*p_x).ATK += x.ATK_P_BOOST * baseATK;

  let baseDmgBoost = 1 + x.ELEMENTAL_DMG;
  let baseDefPen = x.DEF_PEN + combatBuffsDEF_PEN;
  let baseUniversalMulti = 0.9 + x.ENEMY_WEAKNESS_BROKEN * 0.1;
  let baseResistance = resistance - x.RES_PEN - combatBuffsRES_PEN - getElementalResPen(p_x);
  let baseBreakEfficiencyBoost = 1 + x.BREAK_EFFICIENCY_BOOST;

  // === Super / Break ===

  (*p_x).BREAK_DMG
    = baseUniversalMulti
    * 3767.5533
    * ELEMENTAL_BREAK_SCALING
    * calculateDefMulti(baseDefPen + x.BREAK_DEF_PEN)
    * (0.5 + enemyMaxToughness / 120)
    * (1 + x.VULNERABILITY + x.BREAK_VULNERABILITY)
    * (1 - baseResistance)
    * (1 + x.BE)
    * (1 + x.BREAK_DMG_BOOST);

  let baseSuperBreakInstanceDmg
    = baseUniversalMulti
    * 3767.5533
    * calculateDefMulti(baseDefPen + x.SUPER_BREAK_DEF_PEN)
    * (1 + x.VULNERABILITY + x.SUPER_BREAK_VULNERABILITY)
    * (1 - baseResistance)
    * (1 + x.BE)
    * (1 + x.SUPER_BREAK_DMG_BOOST)
    * (0.10f);

  if (actionIndex == 0) {
    /* START DOT CALC */
    let dotDmgBoostMulti = baseDmgBoost + x.DOT_DMG_BOOST;
    let dotDefMulti = calculateDefMulti(baseDefPen + x.DOT_DEF_PEN);
    let dotVulnerabilityMulti = 1 + x.VULNERABILITY + x.DOT_VULNERABILITY;
    let dotResMulti = 1 - (baseResistance - x.DOT_RES_PEN);
    let dotEhrMulti = calculateEhrMulti(p_x);
    let dotTrueDmgMulti = 1 + x.TRUE_DMG_MODIFIER + x.DOT_TRUE_DMG_MODIFIER;
    let initialDmg = calculateInitial(
      p_x,
      x.DOT_DMG,
      x.DOT_HP_SCALING,
      x.DOT_DEF_SCALING,
      x.DOT_ATK_SCALING,
      x.DOT_ATK_P_BOOST
    );

    if (initialDmg > 0) {
      (*p_x).DOT_DMG = initialDmg
        * (baseUniversalMulti)
        * (dotDmgBoostMulti)
        * (dotDefMulti)
        * (dotVulnerabilityMulti)
        * (dotResMulti)
        * (dotEhrMulti)
        * (dotTrueDmgMulti);
    }
    /* END DOT CALC */

    if (x.HEAL_VALUE > 0) {
      (*p_x).HEAL_VALUE = x.HEAL_VALUE * (
        1
        + x.OHB
        + select(0, x.SKILL_OHB, x.HEAL_TYPE == SKILL_DMG_TYPE)
        + select(0, x.ULT_OHB, x.HEAL_TYPE == ULT_DMG_TYPE)
      );
    }

    if (x.SHIELD_VALUE > 0) {
      (*p_x).SHIELD_VALUE = x.SHIELD_VALUE * (1 + x.SHIELD_BOOST);
    }

    /* START EHP CALC */
    (*p_x).EHP = x.HP / (1 - x.DEF / (x.DEF + 200 + 10 * eLevel)) * (1 / x.DMG_RED_MULTI);
    /* END EHP CALC */
  }

  // START ACTION DAMAGE
  // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
  /* INJECT ACTION DAMAGE */
  // ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
  // END ACTION DAMAGE

  (*p_x).BREAK_DMG *= 1 + x.TRUE_DMG_MODIFIER + x.BREAK_TRUE_DMG_MODIFIER;
}

fn calculateInitial(
  p_x: ptr<function, ComputedStats>,
  abilityDmg: f32,
  hpScaling: f32,
  defScaling: f32,
  atkScaling: f32,
  atkBoostP: f32
) -> f32 {
  let x = *p_x;
  return abilityDmg
    + hpScaling * x.HP
    + defScaling * x.DEF
    + atkScaling * (x.ATK + atkBoostP * baseATK);
}

fn calculateDefMulti(defPen: f32) -> f32 {
  return (100.0f) / ((f32(enemyLevel) + 20.0f) * max(0.0f, 1.0f - defPen) + 100.0f);
}

fn calculateEhrMulti(
  p_x: ptr<function, ComputedStats>
) -> f32 {
  let x = *p_x;
  let effectiveDotChance = min(1, x.DOT_CHANCE * (1 + x.EHR) * (1 - enemyEffectResistance + x.EFFECT_RES_PEN));
  let dotEhrMulti = select(
    (effectiveDotChance),
    (1 + x.DOT_SPLIT * effectiveDotChance * (x.DOT_STACKS - 1)) / (1 + x.DOT_SPLIT * (x.DOT_STACKS - 1)),
    x.DOT_SPLIT > 0
  );

  return dotEhrMulti;
}

fn calculateAbilityDmg(
  p_x: ptr<function, ComputedStats>,
  baseUniversalMulti: f32,
  baseDmgBoost: f32,
  baseDefPen: f32,
  baseResistance: f32,
  baseSuperBreakInstanceDmg: f32,
  baseBreakEfficiencyBoost: f32,
  abilityDmg: f32,
  abilityDmgBoost: f32,
  abilityVulnerability: f32,
  abilityDefPen: f32,
  abilityResPen: f32,
  abilityCrBoost: f32,
  abilityCdBoost: f32,
  abilityOriginalDmgBoost: f32,
  abilityBreakEfficiencyBoost: f32,
  abilitySuperBreakModifier: f32,
  abilityBreakDmgModifier: f32,
  abilityToughnessDmg: f32,
  abilityAdditionalDmg: f32,
  abilityAdditionalCrOverride: f32,
  abilityAdditionalCdOverride: f32,
  abilityTrueDmgModifier: f32,
  abilityMemoJointDamage: f32,
) -> f32 {
  let x = *p_x;

  var abilityCritDmgOutput: f32 = 0;
  if (abilityDmg > 0) {
    let abilityCr = min(1, x.CR + abilityCrBoost);
    let abilityCd = x.CD + x.CD_BOOST + abilityCdBoost;
    let abilityCritMulti = abilityCr * (1 + abilityCd) + (1 - abilityCr);
    let abilityVulnerabilityMulti = 1 + x.VULNERABILITY + abilityVulnerability;
    let abilityDefMulti = calculateDefMulti(baseDefPen + abilityDefPen);
    let abilityResMulti = 1 - (baseResistance - abilityResPen);
    let abilityOriginalDmgMulti = 1 + abilityOriginalDmgBoost + x.FINAL_DMG_BOOST;

    abilityCritDmgOutput = abilityDmg
      * (baseUniversalMulti)
      * (baseDmgBoost + abilityDmgBoost)
      * (abilityDefMulti)
      * (abilityVulnerabilityMulti)
      * (abilityCritMulti)
      * (abilityResMulti)
      * (abilityOriginalDmgMulti);
  }

  // === Break DMG ===

  var abilityBreakDmgOutput: f32 = 0;
  if (abilityBreakDmgModifier > 0) {
    abilityBreakDmgOutput = abilityBreakDmgModifier * x.BREAK_DMG;
  }

  // === Super Break DMG ===

  var abilitySuperBreakDmgOutput: f32 = 0;
  let superBreakModifier = x.SUPER_BREAK_MODIFIER + abilitySuperBreakModifier;
  if (superBreakModifier > 0) {
    abilitySuperBreakDmgOutput = baseSuperBreakInstanceDmg
      * (superBreakModifier)
      * (baseBreakEfficiencyBoost + abilityBreakEfficiencyBoost)
      * (abilityToughnessDmg);
  }

  // === Additional DMG ===

  var abilityAdditionalDmgOutput: f32 = 0;
  if (abilityAdditionalDmg > 0) {
    let additionalDmgCr = select(min(1, x.CR), abilityAdditionalCrOverride, abilityAdditionalCrOverride > 0);
    let additionalDmgCd = select(x.CD, abilityAdditionalCdOverride, abilityAdditionalCdOverride > 0);
    let abilityAdditionalCritMulti = additionalDmgCr * (1 + additionalDmgCd) + (1 - additionalDmgCr);
    abilityAdditionalDmgOutput = abilityAdditionalDmg
      * (baseUniversalMulti)
      * (baseDmgBoost + x.ADDITIONAL_DMG_BOOST)
      * calculateDefMulti(baseDefPen)
      * (1 + x.VULNERABILITY)
      * (abilityAdditionalCritMulti)
      * (1 - baseResistance);
  }

  // === Primary DMG ===

  let primaryDmgOutput = abilityCritDmgOutput
    + abilityBreakDmgOutput
    + abilitySuperBreakDmgOutput
    + abilityAdditionalDmgOutput;

  // === True DMG ===

  let trueDmgOutput = (x.TRUE_DMG_MODIFIER + abilityTrueDmgModifier) * primaryDmgOutput;

  // === Memo Joint DMG ===

  var memoJointDmgOutput: f32 = 0;
  if (abilityMemoJointDamage > 0) {
    memoJointDmgOutput = abilityMemoJointDamage;
  }

  return primaryDmgOutput + trueDmgOutput + memoJointDmgOutput;
}

fn p2(n: i32) -> f32 {
  return f32(min(1, n >> 1));
}

fn p4(n: i32) -> f32 {
  return f32(n >> 2);
}

fn buffAbilityTrueDmg(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if (condition == 0) {
    return;
  }
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_TRUE_DMG_MODIFIER += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_TRUE_DMG_MODIFIER += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_TRUE_DMG_MODIFIER += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_TRUE_DMG_MODIFIER += value;
  }
  if ((abilityTypeFlags & i32((*p_x).DOT_DMG_TYPE)) != 0) {
    (*p_x).DOT_TRUE_DMG_MODIFIER += value;
  }
  if ((abilityTypeFlags & i32((*p_x).BREAK_DMG_TYPE)) != 0) {
    (*p_x).BREAK_TRUE_DMG_MODIFIER += value;
  }
  if ((abilityTypeFlags & i32((*p_x).MEMO_SKILL_DMG_TYPE)) != 0) {
    (*p_x).MEMO_SKILL_TRUE_DMG_MODIFIER += value;
  }
  if ((abilityTypeFlags & i32((*p_x).MEMO_TALENT_DMG_TYPE)) != 0) {
    (*p_x).MEMO_TALENT_TRUE_DMG_MODIFIER += value;
  }
//  if ((abilityTypeFlags & i32((*p_x).ADDITIONAL_DMG_TYPE)) != 0) {
//    (*p_x).ADDITIONAL_TRUE_DMG_MODIFIER += value;
//  }
//  if ((abilityTypeFlags & i32((*p_x).SUPER_BREAK_DMG_TYPE)) != 0) {
//    (*p_x).SUPER_BREAK_TRUE_DMG_MODIFIER += value;
//  }
}

fn buffAbilityDmg(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if (condition == 0) {
    return;
  }
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_DMG_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_DMG_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_DMG_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_DMG_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).DOT_DMG_TYPE)) != 0) {
    (*p_x).DOT_DMG_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).BREAK_DMG_TYPE)) != 0) {
    (*p_x).BREAK_DMG_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).MEMO_SKILL_DMG_TYPE)) != 0) {
    (*p_x).MEMO_SKILL_DMG_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).MEMO_TALENT_DMG_TYPE)) != 0) {
    (*p_x).MEMO_TALENT_DMG_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ADDITIONAL_DMG_TYPE)) != 0) {
    (*p_x).ADDITIONAL_DMG_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SUPER_BREAK_DMG_TYPE)) != 0) {
    (*p_x).SUPER_BREAK_DMG_BOOST += value;
  }
}

fn buffAbilityCr(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if (condition == 0) {
    return;
  }
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_CR_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_CR_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_CR_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_CR_BOOST += value;
  }
//  if ((abilityTypeFlags & i32((*p_x).DOT_DMG_TYPE)) != 0) {
//    (*p_x).DOT_CR_BOOST += value;
//  }
//  if ((abilityTypeFlags & i32((*p_x).BREAK_DMG_TYPE)) != 0) {
//    (*p_x).BREAK_CR_BOOST += value;
//  }
  if ((abilityTypeFlags & i32((*p_x).MEMO_SKILL_DMG_TYPE)) != 0) {
    (*p_x).MEMO_SKILL_CR_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).MEMO_TALENT_DMG_TYPE)) != 0) {
    (*p_x).MEMO_TALENT_CR_BOOST += value;
  }
//  if ((abilityTypeFlags & i32((*p_x).ADDITIONAL_DMG_TYPE)) != 0) {
//    (*p_x).ADDITIONAL_CR_BOOST += value;
//  }
//  if ((abilityTypeFlags & i32((*p_x).SUPER_BREAK_DMG_TYPE)) != 0) {
//    (*p_x).SUPER_BREAK_CR_BOOST += value;
//  }
}

fn buffAbilityCd(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if (condition == 0) {
    return;
  }
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_CD_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_CD_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_CD_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_CD_BOOST += value;
  }
//  if ((abilityTypeFlags & i32((*p_x).DOT_DMG_TYPE)) != 0) {
//    (*p_x).DOT_CD_BOOST += value;
//  }
//  if ((abilityTypeFlags & i32((*p_x).BREAK_DMG_TYPE)) != 0) {
//    (*p_x).BREAK_CD_BOOST += value;
//  }
  if ((abilityTypeFlags & i32((*p_x).MEMO_SKILL_DMG_TYPE)) != 0) {
    (*p_x).MEMO_SKILL_CD_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).MEMO_TALENT_DMG_TYPE)) != 0) {
    (*p_x).MEMO_TALENT_CD_BOOST += value;
  }
//  if ((abilityTypeFlags & i32((*p_x).ADDITIONAL_DMG_TYPE)) != 0) {
//    (*p_x).ADDITIONAL_CD_BOOST += value;
//  }
//  if ((abilityTypeFlags & i32((*p_x).SUPER_BREAK_DMG_TYPE)) != 0) {
//    (*p_x).SUPER_BREAK_CD_BOOST += value;
//  }
}

fn buffAbilityDefShred(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if (condition == 0) {
    return;
  }
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).DOT_DMG_TYPE)) != 0) {
    (*p_x).DOT_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).BREAK_DMG_TYPE)) != 0) {
    (*p_x).BREAK_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).MEMO_SKILL_DMG_TYPE)) != 0) {
    (*p_x).MEMO_SKILL_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).MEMO_TALENT_DMG_TYPE)) != 0) {
    (*p_x).MEMO_TALENT_DEF_PEN += value;
  }
//  if ((abilityTypeFlags & i32((*p_x).ADDITIONAL_DMG_TYPE)) != 0) {
//    (*p_x).ADDITIONAL_DEF_PEN += value;
//  }
  if ((abilityTypeFlags & i32((*p_x).SUPER_BREAK_DMG_TYPE)) != 0) {
    (*p_x).SUPER_BREAK_DEF_PEN += value;
  }
}

fn buffAbilityVulnerability(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if (condition == 0) {
    return;
  }
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).DOT_DMG_TYPE)) != 0) {
    (*p_x).DOT_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).BREAK_DMG_TYPE)) != 0) {
    (*p_x).BREAK_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).MEMO_SKILL_DMG_TYPE)) != 0) {
    (*p_x).MEMO_SKILL_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).MEMO_TALENT_DMG_TYPE)) != 0) {
    (*p_x).MEMO_TALENT_VULNERABILITY += value;
  }
//  if ((abilityTypeFlags & i32((*p_x).ADDITIONAL_DMG_TYPE)) != 0) {
//    (*p_x).ADDITIONAL_VULNERABILITY += value;
//  }
  if ((abilityTypeFlags & i32((*p_x).SUPER_BREAK_DMG_TYPE)) != 0) {
    (*p_x).SUPER_BREAK_VULNERABILITY += value;
  }
}

fn addElementalDmg(
  c_x: ptr<function, BasicStats>,
  p_x: ptr<function, ComputedStats>,
) {
  switch (ELEMENT_INDEX) {
    case 0: {
      (*p_x).ELEMENTAL_DMG += (*c_x).PHYSICAL_DMG_BOOST;
    }
    case 1: {
      (*p_x).ELEMENTAL_DMG += (*c_x).FIRE_DMG_BOOST;
    }
    case 2: {
      (*p_x).ELEMENTAL_DMG += (*c_x).ICE_DMG_BOOST;
    }
    case 3: {
      (*p_x).ELEMENTAL_DMG += (*c_x).LIGHTNING_DMG_BOOST;
    }
    case 4: {
      (*p_x).ELEMENTAL_DMG += (*c_x).WIND_DMG_BOOST;
    }
    case 5: {
      (*p_x).ELEMENTAL_DMG += (*c_x).QUANTUM_DMG_BOOST;
    }
    case 6: {
      (*p_x).ELEMENTAL_DMG += (*c_x).IMAGINARY_DMG_BOOST;
    }
    default: {

    }
  }
}

fn addComputedElementalDmg(
  p_x: ptr<function, ComputedStats>,
) {
  switch (ELEMENT_INDEX) {
    case 0: {
      (*p_x).ELEMENTAL_DMG += (*p_x).PHYSICAL_DMG_BOOST;
    }
    case 1: {
      (*p_x).ELEMENTAL_DMG += (*p_x).FIRE_DMG_BOOST;
    }
    case 2: {
      (*p_x).ELEMENTAL_DMG += (*p_x).ICE_DMG_BOOST;
    }
    case 3: {
      (*p_x).ELEMENTAL_DMG += (*p_x).LIGHTNING_DMG_BOOST;
    }
    case 4: {
      (*p_x).ELEMENTAL_DMG += (*p_x).WIND_DMG_BOOST;
    }
    case 5: {
      (*p_x).ELEMENTAL_DMG += (*p_x).QUANTUM_DMG_BOOST;
    }
    case 6: {
      (*p_x).ELEMENTAL_DMG += (*p_x).IMAGINARY_DMG_BOOST;
    }
    default: {

    }
  }
}

fn getElementalResPen(
  p_x: ptr<function, ComputedStats>,
) -> f32 {
  switch (ELEMENT_INDEX) {
    case 0: {
      return (*p_x).PHYSICAL_RES_PEN;
    }
    case 1: {
      return (*p_x).FIRE_RES_PEN;
    }
    case 2: {
      return (*p_x).ICE_RES_PEN;
    }
    case 3: {
      return (*p_x).LIGHTNING_RES_PEN;
    }
    case 4: {
      return (*p_x).WIND_RES_PEN;
    }
    case 5: {
      return (*p_x).QUANTUM_RES_PEN;
    }
    case 6: {
      return (*p_x).IMAGINARY_RES_PEN;
    }
    default: {
      return 0;
    }
  }
}

fn getPioneerSetCd(
  index: i32,
) -> f32 {
  switch (index) {
    case 4: {
      return 0.24;
    }
    case 3: {
      return 0.16;
    }
    case 2: {
      return 0.12;
    }
    case 1: {
      return 0.08;
    }
    default: {
      return 0.0;
    }
  }
}

fn calculateAshblazingSetP(
  setCount: i32,
  valueTheAshblazingGrandDuke: i32,
  hitMulti: f32,
) -> f32 {
  if (p4(setCount) >= 1) {
    let ashblazingAtk = 0.06 * f32(valueTheAshblazingGrandDuke);
    let ashblazingMulti = hitMulti;

    return ashblazingMulti - ashblazingAtk;
  }

  return 0;
}
`,_2=`struct Relic {
  HP_P: f32,
  ATK_P: f32,
  DEF_P: f32,
  SPD_P: f32,
  HP: f32,
  ATK: f32,
  DEF: f32,
  SPD: f32,
  CR: f32,
  CD: f32,
  EHR: f32,
  RES: f32,
  BE: f32,
  ERR: f32,
  OHB: f32,
  PHYSICAL_DMG_BOOST: f32,
  FIRE_DMG_BOOST: f32,
  ICE_DMG_BOOST: f32,
  LIGHTNING_DMG_BOOST: f32,
  WIND_DMG_BOOST: f32,
  QUANTUM_DMG_BOOST: f32,
  IMAGINARY_DMG_BOOST: f32,
  relicSet: f32, // 22
}

struct BasicStats {
  HP_P: f32,
  ATK_P: f32,
  DEF_P: f32,
  SPD_P: f32,
  HP: f32,
  ATK: f32,
  DEF: f32,
  SPD: f32,
  CR: f32,
  CD: f32,
  EHR: f32,
  RES: f32,
  BE: f32,
  ERR: f32,
  OHB: f32,
  PHYSICAL_DMG_BOOST: f32,
  FIRE_DMG_BOOST: f32,
  ICE_DMG_BOOST: f32,
  LIGHTNING_DMG_BOOST: f32,
  WIND_DMG_BOOST: f32,
  QUANTUM_DMG_BOOST: f32,
  IMAGINARY_DMG_BOOST: f32,
}

struct Sets {
  PasserbyOfWanderingCloud: i32,
  MusketeerOfWildWheat: i32,
  KnightOfPurityPalace: i32,
  HunterOfGlacialForest: i32,
  ChampionOfStreetwiseBoxing: i32,
  GuardOfWutheringSnow: i32,
  FiresmithOfLavaForging: i32,
  GeniusOfBrilliantStars: i32,
  BandOfSizzlingThunder: i32,
  EagleOfTwilightLine: i32,
  ThiefOfShootingMeteor: i32,
  WastelanderOfBanditryDesert: i32,
  LongevousDisciple: i32,
  MessengerTraversingHackerspace: i32,
  TheAshblazingGrandDuke: i32,
  PrisonerInDeepConfinement: i32,
  PioneerDiverOfDeadWaters: i32,
  WatchmakerMasterOfDreamMachinations: i32,
  IronCavalryAgainstTheScourge: i32,
  TheWindSoaringValorous: i32,
  SacerdosRelivedOrdeal: i32,
  ScholarLostInErudition: i32,
  HeroOfTriumphantSong: i32,
  PoetOfMourningCollapse: i32,
  SpaceSealingStation: i32,
  FleetOfTheAgeless: i32,
  PanCosmicCommercialEnterprise: i32,
  BelobogOfTheArchitects: i32,
  CelestialDifferentiator: i32,
  InertSalsotto: i32,
  TaliaKingdomOfBanditry: i32,
  SprightlyVonwacq: i32,
  RutilantArena: i32,
  BrokenKeel: i32,
  FirmamentFrontlineGlamoth: i32,
  PenaconyLandOfTheDreams: i32,
  SigoniaTheUnclaimedDesolation: i32,
  IzumoGenseiAndTakamaDivineRealm: i32,
  DuranDynastyOfRunningWolves: i32,
  ForgeOfTheKalpagniLantern: i32,
  LushakaTheSunkenSeas: i32,
  TheWondrousBananAmusementPark: i32,
  BoneCollectionsSereneDemesne: i32,
  GiantTreeOfRaptBrooding: i32,
}

struct SetConditionals {
  enabledHunterOfGlacialForest: bool,
  enabledFiresmithOfLavaForging: bool,
  enabledGeniusOfBrilliantStars: bool,
  enabledBandOfSizzlingThunder: bool,
  enabledMessengerTraversingHackerspace: bool,
  enabledCelestialDifferentiator: bool,
  enabledWatchmakerMasterOfDreamMachinations: bool,
  enabledPenaconyLandOfTheDreams: bool,
  enabledIzumoGenseiAndTakamaDivineRealm: bool,
  enabledForgeOfTheKalpagniLantern: bool,
  enabledTheWindSoaringValorous: bool,
  enabledTheWondrousBananAmusementPark: bool,
  enabledScholarLostInErudition: bool,
  enabledHeroOfTriumphantSong: bool,
  valueChampionOfStreetwiseBoxing: i32,
  valueWastelanderOfBanditryDesert: i32,
  valueLongevousDisciple: i32,
  valueTheAshblazingGrandDuke: i32,
  valuePrisonerInDeepConfinement: i32,
  valuePioneerDiverOfDeadWaters: i32,
  valueSigoniaTheUnclaimedDesolation: i32,
  valueDuranDynastyOfRunningWolves: i32,
  valueSacerdosRelivedOrdeal: i32
}

struct Action {
  abilityType: f32,
  setConditionals: SetConditionals,
}

struct Params {
  xl: f32,
  xp: f32,
  xf: f32,
  xb: f32,
  xg: f32,
  xh: f32,
  threshold: f32,
}
`;function Q2(e,t,n,l){let s="";return s=O2(s,e,t,n),s=q2(s),s=X2(s,t,e,l),s=iS(s,t,e,l),s=tS(s,t,l),s=aS(s,t,l),s=nS(s,t,l),s=eS(s,l),s=P2(s),s=$2(s,t,e,l),s}function $2(e,t,n,l){return n.path!=Xi.Remembrance&&(e=Ta(e,"COPY MEMOSPRITE BASIC STATS"),e=Ta(e,"MEMOSPRITE DAMAGE CALCS"),e=Ta(e,"MC ASSIGNMENT")),n.resultSort!=Z.EHP.key&&!l.DEBUG&&t.minEhp==0&&t.maxEhp==m.MAX_INT&&(e=Ta(e,"EHP CALC")),n.resultSort!=Z.COMBO.key&&!l.DEBUG&&(n.resultSort!=Z.DOT.key&&t.minDot==0&&t.maxDot==m.MAX_INT&&(e=Ta(e,"DOT CALC")),n.resultSort!=Z.BASIC.key&&t.minBasic==0&&t.maxBasic==m.MAX_INT&&(e=Ta(e,"BASIC CALC")),n.resultSort!=Z.SKILL.key&&t.minSkill==0&&t.maxSkill==m.MAX_INT&&(e=Ta(e,"SKILL CALC")),n.resultSort!=Z.ULT.key&&t.minUlt==0&&t.maxUlt==m.MAX_INT&&(e=Ta(e,"ULT CALC")),n.resultSort!=Z.FUA.key&&t.minFua==0&&t.maxFua==m.MAX_INT&&(e=Ta(e,"FUA CALC")),n.resultSort!=Z.MEMO_SKILL.key&&t.minMemoSkill==0&&t.maxMemoSkill==m.MAX_INT&&(e=Ta(e,"MEMO_SKILL CALC")),n.resultSort!=Z.MEMO_TALENT.key&&t.minMemoTalent==0&&t.maxMemoTalent==m.MAX_INT&&(e=Ta(e,"MEMO_TALENT CALC"))),e}function Ta(e,t){return e=e.replace(`START ${t} */`,`═════════════════════════════════════════ DISABLED ${t} ═════════════════════════════════════════╗`),e=e.replace(`/* END ${t}`,`════════════════════════════════════════════ DISABLED ${t} ═════════════════════════════════════════╝`),e}function q2(e){return e+=`
${z2}

${_2}
  `,e}function u0(e){return t=>{const[n,l,s]=t.split(/[><]/).flatMap(c=>c.split(".")).map(c=>c.trim()),o=s.includes("min");return s.includes("max")&&e[s]==m.MAX_INT||o&&e[s]==0?"":t}}function m0(e,t=2){return st(e.length>0?e:"false",t)}function eS(e,t){return e.replace("/* INJECT SET FILTERS */",st(`
if (relicSetSolutionsMatrix[relicSetIndex] < 1 || ornamentSetSolutionsMatrix[ornamentSetIndex] < 1) {
  results[index] = ${t.DEBUG?"ComputedStats()":"-failures; failures = failures + 1"};
  continue;
}
  `,2))}function tS(e,t,n){const l=Z[t.resultSort],s=l.gpuProperty,o=l.isComputedRating,r=u0(t);let c=o?`x.${s} < threshold`:`c.${s} < threshold`;s==Z.COMBO.key&&(c="");const d=[r("c.SPD < minSpd"),r("c.SPD > maxSpd"),r("c.HP  < minHp"),r("c.HP  > maxHp"),r("c.ATK < minAtk"),r("c.ATK > maxAtk"),r("c.DEF < minDef"),r("c.DEF > maxDef"),r("c.CR  < minCr"),r("c.CR  > maxCr"),r("c.CD  < minCd"),r("c.CD  > maxCd"),r("c.EHR < minEhr"),r("c.EHR > maxEhr"),r("c.RES < minRes"),r("c.RES > maxRes"),r("c.BE  < minBe"),r("c.BE  > maxBe"),r("c.ERR < minErr"),r("c.ERR > maxErr"),r(c)].filter(u=>u.length>0).join(` ||
`);return e=e.replace("/* INJECT BASIC STAT FILTERS */",st(`
if (statDisplay == 1) {
  if (
${m0(d)}
  ) {
    results[index] = ${n.DEBUG?"ComputedStats()":"-failures; failures = failures + 1"};
    break;
  }
}
  `,4)),e}function aS(e,t,n){const s=Z[t.resultSort].gpuProperty,o=u0(t),r=[o("x.SPD < minSpd"),o("x.SPD > maxSpd"),o("x.HP  < minHp"),o("x.HP  > maxHp"),o("x.ATK < minAtk"),o("x.ATK > maxAtk"),o("x.DEF < minDef"),o("x.DEF > maxDef"),o("x.CR  < minCr"),o("x.CR  > maxCr"),o("x.CD  < minCd"),o("x.CD  > maxCd"),o("x.EHR < minEhr"),o("x.EHR > maxEhr"),o("x.RES < minRes"),o("x.RES > maxRes"),o("x.BE  < minBe"),o("x.BE  > maxBe"),o("x.ERR < minErr"),o("x.ERR > maxErr"),o("x.EHP < minEhp"),o("x.EHP > maxEhp"),o("x.BASIC_DMG < minBasic"),o("x.BASIC_DMG > maxBasic"),o("x.SKILL_DMG < minSkill"),o("x.SKILL_DMG > maxSkill"),o("x.ULT_DMG < minUlt"),o("x.ULT_DMG > maxUlt"),o("x.FUA_DMG < minFua"),o("x.FUA_DMG > maxFua"),o("x.MEMO_SKILL_DMG < minMemoSkill"),o("x.MEMO_SKILL_DMG > maxMemoSkill"),o("x.MEMO_TALENT_DMG < minMemoTalent"),o("x.MEMO_TALENT_DMG > maxMemoTalent"),o("x.DOT_DMG < minDot"),o("x.DOT_DMG > maxDot"),o("x.BREAK_DMG < minBreak"),o("x.BREAK_DMG > maxBreak"),o("x.HEAL_VALUE < minHeal"),o("x.HEAL_VALUE > maxHeal"),o("x.SHIELD_VALUE < minShield"),o("x.SHIELD_VALUE > maxShield"),s==Z.COMBO.key?"":o(`x.${s} < threshold`)].filter(c=>c.length>0).join(` ||
`);return e=e.replace("/* INJECT COMBAT STAT FILTERS */",st(`
if (statDisplay == 0) {
  if (
${m0(r)}
  ) {
    results[index] = ${n.DEBUG?"ComputedStats()":"-failures; failures = failures + 1"};
    break;
  }
}
  `,4)),e}function nS(e,t,n){const l=u0(t),s=[l("x.EHP < minEhp"),l("x.EHP > maxEhp"),l("x.BASIC_DMG < minBasic"),l("x.BASIC_DMG > maxBasic"),l("x.SKILL_DMG < minSkill"),l("x.SKILL_DMG > maxSkill"),l("x.ULT_DMG < minUlt"),l("x.ULT_DMG > maxUlt"),l("x.FUA_DMG < minFua"),l("x.FUA_DMG > maxFua"),l("x.MEMO_SKILL_DMG < minMemoSkill"),l("x.MEMO_SKILL_DMG > maxMemoSkill"),l("x.MEMO_TALENT_DMG < minMemoTalent"),l("x.MEMO_TALENT_DMG > maxMemoTalent"),l("x.DOT_DMG < minDot"),l("x.DOT_DMG > maxDot"),l("x.BREAK_DMG < minBreak"),l("x.BREAK_DMG > maxBreak"),l("x.HEAL_VALUE < minHeal"),l("x.HEAL_VALUE > maxHeal"),l("x.SHIELD_VALUE < minShield"),l("x.SHIELD_VALUE > maxShield")].filter(o=>o.length>0).join(` ||
`);return e=e.replace("/* INJECT RATING STAT FILTERS */",st(`
if (
${m0(s,1)}
) {
  results[index] = ${n.DEBUG?"ComputedStats()":"-failures; failures = failures + 1"};
  break;
}
  `,4)),e}function iS(e,t,n,l){const s=Z[t.resultSort],o=l.DEBUG?1:l.CYCLES_PER_INVOCATION;let r="";l.DEBUG&&(r=`
const DEBUG_BASIC_COMBO: f32 = ${t.comboAbilities.filter(b=>b=="BASIC").length};
const DEBUG_SKILL_COMBO: f32 = ${t.comboAbilities.filter(b=>b=="SKILL").length};
const DEBUG_ULT_COMBO: f32 = ${t.comboAbilities.filter(b=>b=="ULT").length};
const DEBUG_FUA_COMBO: f32 = ${t.comboAbilities.filter(b=>b=="FUA").length};
`),e=e.replace("/* INJECT GPU PARAMS */",`
const WORKGROUP_SIZE = ${l.WORKGROUP_SIZE};
const BLOCK_SIZE = ${l.BLOCK_SIZE};
const CYCLES_PER_INVOCATION = ${o};
const DEBUG = ${l.DEBUG?1:0};
${r}
  `),l.DEBUG?e=e.replace("/* INJECT RESULTS BUFFER */",`
@group(2) @binding(0) var<storage, read_write> results : array<ComputedStats>; // DEBUG
    `):e=e.replace("/* INJECT RESULTS BUFFER */",`
@group(2) @binding(0) var<storage, read_write> results : array<f32>;
    `);const c=s.gpuProperty,u=s.isComputedRating?`x.${c}`:`c.${c}`;return l.DEBUG?e=e.replace("/* INJECT RETURN VALUE */",st(`
x.COMBO_DMG = combo + comboDot * x.DOT_DMG + comboBreak * x.BREAK_DMG;
results[index] = x; // DEBUG
results[index + 1] = m; // DEBUG
    `,4)):e=e.replace("/* INJECT RETURN VALUE */",st(`
if (statDisplay == 0) {
  results[index] = x.${c};
  failures = 1;
} else {
  results[index] = ${u};
  failures = 1;
}
    `,4)),n.resultSort==Z.COMBO.key?e=e.replace("/* INJECT ACTION ITERATOR */",st(`
for (var actionIndex = actionCount - 1; actionIndex >= 0; actionIndex--) {
    `,4)):e=e.replace("/* INJECT ACTION ITERATOR */",st(`
for (var actionIndex = 0; actionIndex < actionCount; actionIndex++) {
    `,4)),e}a.HP_P+"",a.ATK_P+"",a.DEF_P+"",a.SPD_P+"",a.HP+"",a.ATK+"",a.DEF+"",a.SPD+"",a.CR+"",a.CD+"",a.EHR+"",a.RES+"",a.BE+"",a.ERR+"",a.OHB+"",a.Physical_DMG+"",a.Fire_DMG+"",a.Ice_DMG+"",a.Lightning_DMG+"",a.Wind_DMG+"",a.Quantum_DMG+"",a.Imaginary_DMG+"";function sS(e,t,n,l){var D;const s=n.LinkRope.length,o=n.PlanarSphere.length,r=n.Feet.length,c=n.Body.length,d=n.Hands.length,u=n.Head.length,b=t%s,p=(t-b)/s%o,R=(t-p*s-b)/(s*o)%r,G=(t-R*o*s-p*s-b)/(s*o*r)%c,T=(t-G*r*o*s-R*o*s-p*s-b)/(s*o*r*c)%d,C=(t-T*c*r*o*s-G*r*o*s-R*o*s-p*s-b)/(s*o*r*c*d)%u;return new Float32Array([b,p,R,G,T,C,l.resultsQueue.size()>=l.RESULTS_LIMIT?((D=l.resultsQueue.top())==null?void 0:D.value)??0:0])}function lS(e){return rS([...e.Head,...e.Hands,...e.Body,...e.Feet,...e.PlanarSphere,...e.LinkRope])}const oS=23;function rS(e){const t=[];for(let n=0;n<e.length;n++){const l=e[n],s=oS*n;let o=0;const r={},c=l.condensedStats;for(const d of c)r[d[0]]=d[1];t[s+o++]=r[h.HP_P]||0,t[s+o++]=r[h.ATK_P]||0,t[s+o++]=r[h.DEF_P]||0,t[s+o++]=r[h.SPD_P]||0,t[s+o++]=r[h.HP]||0,t[s+o++]=r[h.ATK]||0,t[s+o++]=r[h.DEF]||0,t[s+o++]=r[h.SPD]||0,t[s+o++]=r[h.CR]||0,t[s+o++]=r[h.CD]||0,t[s+o++]=r[h.EHR]||0,t[s+o++]=r[h.RES]||0,t[s+o++]=r[h.BE]||0,t[s+o++]=r[h.ERR]||0,t[s+o++]=r[h.OHB]||0,t[s+o++]=r[h.PHYSICAL_DMG_BOOST]||0,t[s+o++]=r[h.FIRE_DMG_BOOST]||0,t[s+o++]=r[h.ICE_DMG_BOOST]||0,t[s+o++]=r[h.LIGHTNING_DMG_BOOST]||0,t[s+o++]=r[h.WIND_DMG_BOOST]||0,t[s+o++]=r[h.QUANTUM_DMG_BOOST]||0,t[s+o++]=r[h.IMAGINARY_DMG_BOOST]||0,t[s+o++]=cS(l)}return t}function cS(e){return _a.some(t=>t===e.set)?Ia[e.set]:Un[e.set]}const dS=`@group(0) @binding(0) var<storage, read_write> results : array<f32>;
@compute @workgroup_size(256)
fn main(
  @builtin(workgroup_id) workgroup_id : vec3<u32>,
  @builtin(local_invocation_id) local_invocation_id : vec3<u32>,
  @builtin(global_invocation_id) global_invocation_id : vec3<u32>,
  @builtin(local_invocation_index) local_invocation_index: u32,
  @builtin(num_workgroups) num_workgroups: vec3<u32>
) {
  var flag = 0;
  let offset = local_invocation_index * 256 * 512;

  for (var i: u32 = 511; i < 256 * 512; i += 512) {
    let index = offset + i;
    if (results[index] != -512) {
      flag = 1;
      break;
    }
  }

  if (flag == 0) {
    results[offset] = -1024;
  }

  workgroupBarrier();
  storageBarrier();

  if (local_invocation_index != 0) {
    return;
  }

  var skip: u32 = 256;
  for (var i: u32 = 0; i < 256; i += 1) {
    let index = i * 512 * 256;
    if (results[index] != -1024) {
      skip = i;
      break;
    }
  }

  if (skip > 0) {
    results[0] = -2048 - f32(skip);
  }
}
`;class _d extends Fm{constructor(n,l){super([],l,!1);Ae(this,"limit");Ae(this,"compare");this.limit=n,this.compare=l}fixedSizePush(n){this.size()>=this.limit?this.compare(n,this.top())>=0&&(this.pop(),this.push(n)):this.push(n)}fixedSizePushOvercapped(n){return this.push(n),this.pop()}}function Qd(e,t,n,l,s,o,r,c,d=!1,u=!1){const G=n.resultsLimit??1024,T=d,C=Q2(l,n,t,{WORKGROUP_SIZE:256,BLOCK_SIZE:65536,CYCLES_PER_INVOCATION:512,RESULTS_LIMIT:G,DEBUG:T});T&&!u&&console.log(C);const D=uS(e,C),V=mS(e),M=Float32Array.BYTES_PER_ELEMENT*7,x=Float32Array.BYTES_PER_ELEMENT*65536*512,W=e.createBuffer({size:x,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC}),H=e.createBuffer({size:M,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST}),O=lS(t),j=wl(e,new Float32Array(O),GPUBufferUsage.STORAGE),N=wl(e,new Int32Array(r),GPUBufferUsage.STORAGE,!0,!0),F=wl(e,new Int32Array(c),GPUBufferUsage.STORAGE,!0,!0),P=D.getBindGroupLayout(0),X=D.getBindGroupLayout(1),w=D.getBindGroupLayout(2),ie=e.createBindGroup({layout:D.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:H}}]}),ee=e.createBindGroup({layout:D.getBindGroupLayout(1),entries:[{binding:0,resource:{buffer:j}},{binding:1,resource:{buffer:F}},{binding:2,resource:{buffer:N}}]}),me=e.createBindGroup({layout:D.getBindGroupLayout(2),entries:[{binding:0,resource:{buffer:W}}]}),be=e.createBindGroup({layout:V.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:W}}]}),Ge=[P,X,w],ae=e.createBuffer({size:x,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),Q=Math.ceil(s/65536/512),Xe=new _d(G,(Pe,Oe)=>Pe.value-Oe.value);return{WORKGROUP_SIZE:256,BLOCK_SIZE:65536,CYCLES_PER_INVOCATION:512,RESULTS_LIMIT:G,DEBUG:T,request:n,context:l,paramsMatrixBufferSize:M,resultMatrixBufferSize:x,permutations:s,iterations:Q,startTime:0,relics:t,resultsQueue:Xe,cancelled:!1,computeEngine:o,device:e,computePipeline:D,postComputePipeline:V,bindGroup0:ie,bindGroup1:ee,bindGroup2:me,postComputeBindGroup0:be,paramsMatrixBuffer:H,resultMatrixBuffer:W,relicsMatrixBuffer:j,relicSetSolutionsMatrixBuffer:N,ornamentSetSolutionsMatrixBuffer:F,gpuReadBuffer:ae,bindGroupLayouts:Ge}}function $d(e,t){const n=sS(e.device,t,e.relics,e),l=e.device,s=e.computePipeline,o=e.postComputePipeline,r=e.bindGroup0,c=e.bindGroup1,d=e.bindGroup2,u=e.postComputeBindGroup0,b=e.resultMatrixBufferSize,p=e.resultMatrixBuffer;l.queue.writeBuffer(e.paramsMatrixBuffer,0,n);const R=l.createCommandEncoder(),G=R.beginComputePass();return G.setPipeline(s),G.setBindGroup(0,r),G.setBindGroup(1,c),G.setBindGroup(2,d),G.dispatchWorkgroups(e.WORKGROUP_SIZE),e.computeEngine==Li&&(G.setPipeline(o),G.setBindGroup(0,u),G.dispatchWorkgroups(1)),G.end(),R.copyBufferToBuffer(p,0,e.gpuReadBuffer,0,b),l.queue.submit([R.finish()]),e.gpuReadBuffer}function uS(e,t){const n=bS(e),l=e.createShaderModule({code:t});return e.createComputePipeline({layout:e.createPipelineLayout({bindGroupLayouts:n}),compute:{module:l,entryPoint:"main"}})}function mS(e){const t=[e.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}}]})],n=e.createShaderModule({code:dS});return e.createComputePipeline({layout:e.createPipelineLayout({bindGroupLayouts:t}),compute:{module:n,entryPoint:"main"}})}function bS(e){return[e.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"uniform"}}]}),e.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}},{binding:1,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}},{binding:2,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}}]}),e.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}}]})]}function wl(e,t,n,l=!0,s=!1){const o=e.createBuffer({mappedAtCreation:l,size:t.byteLength,usage:n}),r=o.getMappedRange();return s?new Int32Array(r).set(t):new Float32Array(r).set(t),o.unmap(),o}function qd(e){e.resultMatrixBuffer.unmap(),e.resultMatrixBuffer.destroy(),e.relicsMatrixBuffer.unmap(),e.relicsMatrixBuffer.destroy(),e.relicSetSolutionsMatrixBuffer.unmap(),e.relicSetSolutionsMatrixBuffer.destroy(),e.ornamentSetSolutionsMatrixBuffer.unmap(),e.ornamentSetSolutionsMatrixBuffer.destroy()}function hS(e,t,n){const l=n.lightConeConditionalController,s=n.characterConditionalController;l.finalizeCalculations&&l.finalizeCalculations(e,t,n),s.finalizeCalculations&&s.finalizeCalculations(e,t,n)}function eu(e,t,n){e.a[h.MEMOSPRITE]&&eu(e.m,t,n);const l=n.enemyLevel,s=e.a;pS(e,n),SS(e),RS(e),s[h.CR]+=s[h.CR_BOOST],s[h.CD]+=s[h.CD_BOOST],s[h.ATK]+=s[h.ATK_P_BOOST]*n.baseATK,s[h.ELEMENTAL_DMG]+=ih(e,n.elementalDamageType);const o=1+s[h.ELEMENTAL_DMG],r=s[h.DEF_PEN]+n.combatBuffs.DEF_PEN,c=s[h.ENEMY_WEAKNESS_BROKEN]?1:.9,d=n.enemyDamageResistance-s[h.RES_PEN]-n.combatBuffs.RES_PEN-nh(e,n.elementalResPenType),u=1+s[h.BREAK_EFFICIENCY_BOOST];s[h.BREAK_DMG]=c*3767.5533*n.elementalBreakScaling*ls(l,r+s[h.BREAK_DEF_PEN])*(.5+n.enemyMaxToughness/120)*(1+s[h.VULNERABILITY]+s[h.BREAK_VULNERABILITY])*(1-d)*(1+s[h.BE])*(1+s[h.BREAK_DMG_BOOST]);const b=c*3767.5533/10*ls(l,r+s[h.SUPER_BREAK_DEF_PEN])*(1+s[h.VULNERABILITY]+s[h.SUPER_BREAK_VULNERABILITY])*(1-d)*(1+s[h.BE])*(1+s[h.SUPER_BREAK_DMG_BOOST]);if(t.actionType=="DEFAULT"){const R=o+s[h.DOT_DMG_BOOST],G=ls(l,r+s[h.DOT_DEF_PEN]),T=1+s[h.VULNERABILITY]+s[h.DOT_VULNERABILITY],C=1-(d-s[h.DOT_RES_PEN]),D=TS(e,n),V=s[h.TRUE_DMG_MODIFIER]+s[h.DOT_TRUE_DMG_MODIFIER],M=En(s,n,s[h.DOT_DMG],s[h.DOT_HP_SCALING],s[h.DOT_DEF_SCALING],s[h.DOT_ATK_SCALING],s[h.DOT_ATK_P_BOOST]);s[h.DOT_DMG]=gS(e,t,h.DOT_DMG,M,c,R,G,T,C,D,V)}if((t.actionType=="BASIC"||t.actionType=="DEFAULT")&&n.activeAbilityFlags&kt.BASIC){const R=En(s,n,s[h.BASIC_DMG],s[h.BASIC_HP_SCALING],s[h.BASIC_DEF_SCALING],s[h.BASIC_ATK_SCALING],s[h.BASIC_ATK_P_BOOST]);s[h.BASIC_DMG]=li(e,t,n,c,o,r,d,b,u,h.BASIC_DMG,R,s[h.BASIC_DMG_BOOST],s[h.BASIC_VULNERABILITY],s[h.BASIC_DEF_PEN],s[h.BASIC_RES_PEN],s[h.BASIC_CR_BOOST],s[h.BASIC_CD_BOOST],s[h.BASIC_FINAL_DMG_BOOST],s[h.BASIC_BREAK_EFFICIENCY_BOOST],s[h.BASIC_SUPER_BREAK_MODIFIER],s[h.BASIC_BREAK_DMG_MODIFIER],s[h.BASIC_TOUGHNESS_DMG],s[h.BASIC_ADDITIONAL_DMG],0,0,s[h.BASIC_TRUE_DMG_MODIFIER],e.a[h.MEMOSPRITE]?e.m.a[h.BASIC_DMG]:0)}if((t.actionType=="SKILL"||t.actionType=="DEFAULT")&&n.activeAbilityFlags&kt.SKILL){const R=En(s,n,s[h.SKILL_DMG],s[h.SKILL_HP_SCALING],s[h.SKILL_DEF_SCALING],s[h.SKILL_ATK_SCALING],s[h.SKILL_ATK_P_BOOST]);s[h.SKILL_DMG]=li(e,t,n,c,o,r,d,b,u,h.SKILL_DMG,R,s[h.SKILL_DMG_BOOST],s[h.SKILL_VULNERABILITY],s[h.SKILL_DEF_PEN],s[h.SKILL_RES_PEN],s[h.SKILL_CR_BOOST],s[h.SKILL_CD_BOOST],s[h.SKILL_FINAL_DMG_BOOST],0,0,0,s[h.SKILL_TOUGHNESS_DMG],s[h.SKILL_ADDITIONAL_DMG],0,0,s[h.SKILL_TRUE_DMG_MODIFIER],e.a[h.MEMOSPRITE]?e.m.a[h.SKILL_DMG]:0)}if((t.actionType=="ULT"||t.actionType=="DEFAULT")&&n.activeAbilityFlags&kt.ULT){const R=En(s,n,s[h.ULT_DMG],s[h.ULT_HP_SCALING],s[h.ULT_DEF_SCALING],s[h.ULT_ATK_SCALING],s[h.ULT_ATK_P_BOOST]);s[h.ULT_DMG]=li(e,t,n,c,o,r,d,b,u,h.ULT_DMG,R,s[h.ULT_DMG_BOOST],s[h.ULT_VULNERABILITY],s[h.ULT_DEF_PEN],s[h.ULT_RES_PEN],s[h.ULT_CR_BOOST],s[h.ULT_CD_BOOST],s[h.ULT_FINAL_DMG_BOOST],s[h.ULT_BREAK_EFFICIENCY_BOOST],0,0,s[h.ULT_TOUGHNESS_DMG],s[h.ULT_ADDITIONAL_DMG],s[h.ULT_ADDITIONAL_DMG_CR_OVERRIDE],s[h.ULT_ADDITIONAL_DMG_CD_OVERRIDE],s[h.ULT_TRUE_DMG_MODIFIER],e.a[h.MEMOSPRITE]?e.m.a[h.ULT_DMG]:0)}if((t.actionType=="FUA"||t.actionType=="DEFAULT")&&n.activeAbilityFlags&kt.FUA){const R=En(s,n,s[h.FUA_DMG],s[h.FUA_HP_SCALING],s[h.FUA_DEF_SCALING],s[h.FUA_ATK_SCALING],s[h.FUA_ATK_P_BOOST]);s[h.FUA_DMG]=li(e,t,n,c,o,r,d,b,u,h.FUA_DMG,R,s[h.FUA_DMG_BOOST],s[h.FUA_VULNERABILITY],s[h.FUA_DEF_PEN],s[h.FUA_RES_PEN],s[h.FUA_CR_BOOST],s[h.FUA_CD_BOOST],0,0,0,0,s[h.FUA_TOUGHNESS_DMG],s[h.FUA_ADDITIONAL_DMG],0,0,s[h.FUA_TRUE_DMG_MODIFIER],e.a[h.MEMOSPRITE]?e.m.a[h.FUA_DMG]:0)}if((t.actionType=="MEMO_SKILL"||t.actionType=="DEFAULT")&&n.activeAbilityFlags&kt.MEMO_SKILL)if(e.a[h.MEMOSPRITE])s[h.MEMO_SKILL_DMG]+=e.m.a[h.MEMO_SKILL_DMG];else{const R=En(s,n,s[h.MEMO_SKILL_DMG],s[h.MEMO_SKILL_HP_SCALING],s[h.MEMO_SKILL_DEF_SCALING],s[h.MEMO_SKILL_ATK_SCALING],s[h.MEMO_SKILL_ATK_P_BOOST]);s[h.MEMO_SKILL_DMG]=li(e,t,n,c,o,r,d,b,u,h.MEMO_SKILL_DMG,R,s[h.MEMO_SKILL_DMG_BOOST],0,0,0,0,0,0,0,0,0,s[h.MEMO_SKILL_TOUGHNESS_DMG],0,0,0,s[h.MEMO_SKILL_TRUE_DMG_MODIFIER],0)}if((t.actionType=="MEMO_TALENT"||t.actionType=="DEFAULT")&&n.activeAbilityFlags&kt.MEMO_TALENT)if(e.a[h.MEMOSPRITE])s[h.MEMO_TALENT_DMG]+=e.m.a[h.MEMO_TALENT_DMG];else{const R=En(s,n,s[h.MEMO_TALENT_DMG],s[h.MEMO_TALENT_HP_SCALING],s[h.MEMO_TALENT_DEF_SCALING],s[h.MEMO_TALENT_ATK_SCALING],s[h.MEMO_TALENT_ATK_P_BOOST]);s[h.MEMO_TALENT_DMG]=li(e,t,n,c,o,r,d,b,u,h.MEMO_TALENT_DMG,R,s[h.MEMO_TALENT_DMG_BOOST],0,0,0,0,0,0,0,0,0,s[h.MEMO_TALENT_TOUGHNESS_DMG],0,0,0,s[h.MEMO_TALENT_TRUE_DMG_MODIFIER],0)}const p=s[h.BREAK_DMG]*(s[h.TRUE_DMG_MODIFIER]+s[h.BREAK_TRUE_DMG_MODIFIER]);if(e.trace&&t.actionType=="DEFAULT"){const R=Dl[h.BREAK_DMG].name,G=e.dmgSplits[R];G.breakDmg=s[h.BREAK_DMG],G.trueDmg=p}s[h.BREAK_DMG]+=p}const gr=100;function En(e,t,n,l,s,o,r){return n+l*e[h.HP]+s*e[h.DEF]+o*(e[h.ATK]+r*t.baseATK)}function ls(e,t){return gr/((e+20)*Math.max(0,1-t)+gr)}function pS(e,t){const n=e.a;let l=n[h.HP]/(1-n[h.DEF]/(n[h.DEF]+200+10*t.enemyLevel));l*=1/n[h.DMG_RED_MULTI],n[h.EHP]=l}function SS(e,t){const n=e.a;n[h.HEAL_VALUE]=n[h.HEAL_VALUE]*(1+n[h.OHB]+n[h.SKILL_OHB]*(n[h.HEAL_TYPE]==wt?1:0)+n[h.ULT_OHB]*(n[h.HEAL_TYPE]==Mt?1:0))}function RS(e,t){const n=e.a;n[h.SHIELD_VALUE]=n[h.SHIELD_VALUE]*(1+n[h.SHIELD_BOOST])}function li(e,t,n,l,s,o,r,c,d,u,b,p,R,G,T,C,D,V,M,x,W,H,O,j,N,F,P){const X=e.a,w=n.enemyLevel;let ie=0;if(b){const Pe=Math.min(1,X[h.CR]+C),Oe=X[h.CD]+X[h.CD_BOOST]+D,tt=Pe*(1+Oe)+(1-Pe),ue=1+X[h.VULNERABILITY]+R,te=ls(w,o+G),pe=1-(r-T),Se=1+V+X[h.FINAL_DMG_BOOST];ie=GS(b,l,s+p,te,ue,tt,pe,Se)}let ee=0;W&&(ee=W*X[h.BREAK_DMG]);let me=0;const be=X[h.SUPER_BREAK_MODIFIER]+x;be>0&&(me=fS(c,be,d+M,H));let Ge=0;if(O>0){const Pe=j||Math.min(1,X[h.CR]),Oe=N||X[h.CD],tt=Pe*(1+Oe)+(1-Pe);Ge=yS(O,l,s+X[h.ADDITIONAL_DMG_BOOST],ls(w,o),1+X[h.VULNERABILITY],tt,1-r)}const ae=ie+ee+me+Ge,Q=(X[h.TRUE_DMG_MODIFIER]+F)*ae;let Xe=0;if(P>0&&(Xe=P),e.trace&&t.actionType=="DEFAULT"){const Pe=Dl[u].name,Oe=e.dmgSplits[Pe];Oe.abilityDmg=ie,Oe.breakDmg=ee,Oe.superBreakDmg=me,Oe.additionalDmg=Ge,Oe.trueDmg=Q,Oe.jointDmg=Xe}return ae+Q+Xe}function fS(e,t,n,l){return e*t*n*l}function GS(e,t,n,l,s,o,r,c){return e*t*n*l*s*o*r*c}function gS(e,t,n,l,s,o,r,c,d,u,b){const p=l*s*o*r*c*d*u,R=p*b;if(e.trace&&t.actionType=="DEFAULT"){const G=Dl[n].name,T=e.dmgSplits[G];T.dotDmg=p,T.trueDmg=R}return p+R}function TS(e,t){const n=e.a,l=t.enemyEffectResistance,s=Math.min(1,n[h.DOT_CHANCE]*(1+n[h.EHR])*(1-l+n[h.EFFECT_RES_PEN]));return n[h.DOT_SPLIT]?(1+n[h.DOT_SPLIT]*s*(n[h.DOT_STACKS]-1))/(1+n[h.DOT_SPLIT]*(n[h.DOT_STACKS]-1)):s}function yS(e,t,n,l,s,o,r){return e*t*n*l*s*o*r}const ZS={[m.Stats.HP_P]:64.8/43.2,[m.Stats.ATK_P]:64.8/43.2,[m.Stats.DEF_P]:64.8/54,[m.Stats.HP]:64.8/43.2*ge[m.Stats.HP_P][5].high/ge[m.Stats.HP][5].high,[m.Stats.ATK]:64.8/43.2*ge[m.Stats.ATK_P][5].high/ge[m.Stats.ATK][5].high,[m.Stats.DEF]:64.8/54*ge[m.Stats.DEF_P][5].high/ge[m.Stats.DEF][5].high,[m.Stats.CR]:64.8/32.4,[m.Stats.CD]:64.8/64.8,[m.Stats.OHB]:64.8/34.5,[m.Stats.EHR]:64.8/43.2,[m.Stats.RES]:64.8/43.2,[m.Stats.SPD]:64.8/25,[m.Stats.BE]:64.8/64.8},qe={calculateWeightScore:(e,t)=>{const n=e.weights||{};n[m.Stats.ATK]=n[m.Stats.ATK_P],n[m.Stats.DEF]=n[m.Stats.DEF_P],n[m.Stats.HP]=n[m.Stats.HP_P];for(const l of Object.keys(n))n[l]===void 0&&(n[l]=0);for(const l of t){let s=0;for(const o of l.substats){const r=n[o.stat]||0,c=ZS[o.stat]||0,d=o.value||0;s+=d*r*c}l.weightScore=s}return t},applyTopFilter:(e,t)=>{const n=e.weights||{},l={[f.Head]:n.headHands||0,[f.Hands]:n.headHands||0,[f.Body]:n.bodyFeet||0,[f.Feet]:n.bodyFeet||0,[f.PlanarSphere]:n.sphereRope||0,[f.LinkRope]:n.sphereRope||0};for(const s of Object.values(m.Parts)){const o=t[s];t[s]=o.filter(r=>r.weightScore>=l[s]*6.48*.8)}return t},applyRankFilter:(e,t)=>{if(!e.rankFilter)return t;const n=I.getCharacters(),l=e.characterId,s={};for(let o=0;o<n.length;o++){const r=n[o];if(r.id!=l){if(o>=e.rank)break;Object.values(r.equipped).filter(c=>c!=null).map(c=>s[c]=!0)}}return t.filter(o=>!s[o.id])},applyExcludeFilter:(e,t)=>{if(!e.exclude)return t;const n=I.getCharacters(),l={};for(const s of n)e.exclude.includes(s.id)&&s.id!=e.characterId&&Object.values(s.equipped).filter(o=>o!=null).map(o=>l[o]=!0);return t.filter(s=>!l[s.id])},applyMainFilter:(e,t)=>{const n=[];return n.push(...t.filter(l=>l.part==m.Parts.Head)),n.push(...t.filter(l=>l.part==m.Parts.Hands)),n.push(...t.filter(l=>l.part==m.Parts.Body).filter(l=>e.mainBody.length==0||e.mainBody.includes(l.main.stat))),n.push(...t.filter(l=>l.part==m.Parts.Feet).filter(l=>e.mainFeet.length==0||e.mainFeet.includes(l.main.stat))),n.push(...t.filter(l=>l.part==m.Parts.PlanarSphere).filter(l=>e.mainPlanarSphere.length==0||e.mainPlanarSphere.includes(l.main.stat))),n.push(...t.filter(l=>l.part==m.Parts.LinkRope).filter(l=>e.mainLinkRope.length==0||e.mainLinkRope.includes(l.main.stat))),n},applyEnhanceFilter:(e,t)=>t.filter(n=>n.enhance>=e.enhance),applyEquippedFilter:(e,t)=>{if(e.includeEquippedRelics)return t;const n=e.characterId||"99999999";let l=[];return window.store.getState().characters.forEach(s=>{if(s.id==n)return;const o=Object.values(s.equipped).filter(r=>r!=null);l=l.concat(o)}),t.filter(s=>!l.includes(s.id))},applyGradeFilter:(e,t)=>t.filter(n=>n.grade?n.grade>=e.grade:!0),applySetFilter:(e,t)=>{function n(s,o){if(!s.relicSets||s.relicSets.length==0)return o;let r=B.arrayOfZeroes(Object.values(m.SetsRelics).length);for(const c of s.relicSets){if(c[0]==pa.relic4Piece&&c.length==2){const d=m.RelicSetToIndex[c[1]];r[d]=1}if(c[0]==pa.relic2PlusAny&&(r=B.arrayOfValue(Object.values(m.SetsRelics).length,1)),c[0]==pa.relic2Plus2Piece&&c.length==3){const d=m.RelicSetToIndex[c[1]];r[d]=1;const u=m.RelicSetToIndex[c[2]];r[u]=1}}return o.filter(c=>c.part==m.Parts.Head||c.part==m.Parts.Hands||c.part==m.Parts.Body||c.part==m.Parts.Feet?r[m.RelicSetToIndex[c.set]]==1:!0)}function l(s,o){if(!s.ornamentSets||s.ornamentSets.length==0)return o;const r=B.arrayOfZeroes(Object.values(m.SetsOrnaments).length);for(const c of s.ornamentSets){const d=m.OrnamentSetToIndex[c];r[d]=1}return o.filter(c=>c.part==m.Parts.PlanarSphere||c.part==m.Parts.LinkRope?r[m.OrnamentSetToIndex[c.set]]==1:!0)}return l(e,n(e,t))},applyCurrentFilter:(e,t)=>{if(!e.keepCurrentRelics)return t;const n=I.getCharacterById(e.characterId);if(!n)return t;function l(s){const o=t[s];if(!n.equipped[s])return o;const r=o.find(c=>c.id==n.equipped[s]);return r?[r]:[]}return{Head:l(f.Head),Hands:l(f.Hands),Body:l(f.Body),Feet:l(f.Feet),PlanarSphere:l(f.PlanarSphere),LinkRope:l(f.LinkRope)}},splitRelicsByPart:e=>({Head:e.filter(t=>t.part==f.Head),Hands:e.filter(t=>t.part==f.Hands),Body:e.filter(t=>t.part==f.Body),Feet:e.filter(t=>t.part==f.Feet),PlanarSphere:e.filter(t=>t.part==f.PlanarSphere),LinkRope:e.filter(t=>t.part==f.LinkRope)}),applyMainStatsFilter:(e,t)=>{const n=e.mainStatUpscaleLevel;return n&&t.map(l=>{const{grade:s,enhance:o,main:{stat:r}}=l,c=s*3;if(o<c&&o<n){const d=c<n?c:n,u=y.calculateRelicMainStatValue(r,s,d)/(B.isFlat(l.main.stat)?1:100);return l.augmentedStats.mainValue=u}}),t},condenseRelicSubstatsForOptimizerSingle:e=>{for(const t of e){t.condensedStats=[];for(const n of t.substats){const l=n.stat,s=xt[l],o=CS(l,n.value);t.condensedStats.push([s,o])}t.condensedStats.push([xt[t.augmentedStats.mainStat],t.augmentedStats.mainValue])}},condenseRelicSubstatsForOptimizer:e=>{for(const t of Object.values(e))qe.condenseRelicSubstatsForOptimizerSingle(t);return e},condenseSingleRelicByPartSubstatsForOptimizer:e=>{for(const t of Object.values(e))qe.condenseRelicSubstatsForOptimizerSingle([t]);return e}};function CS(e,t){return B.precisionRound(B.isFlat(e)?t:t/100)}function An(e,t,n,l,s,o=!1,r=!1,c=!1,d=0,u=!1){o||(e=B.clone(e));const b=n??Yi(e);if(r)for(const Ge of b.actions)Ge.conditionalState={};else Ad(e,b);const{Head:p,Hands:R,Body:G,Feet:T,PlanarSphere:C,LinkRope:D}=ES(t);u&&qe.calculateWeightScore(e,[p,R,G,T,C,D]);const V=DS(t);let M=0;const x=Ia[t.Head.set]??V[M++],W=Ia[t.Hands.set]??V[M++],H=Ia[t.Body.set]??V[M++],O=Ia[t.Feet.set]??V[M++],j=Un[t.PlanarSphere.set]??V[M++],N=Un[t.LinkRope.set]??V[M++],F=l??new $a(!1),P=s??new Wa(!1),X=P.m,w=x+H*ni+W*ni*ni+O*ni*ni*ni,ie=j+N*Vb,ee=[x,W,H,O,j,N],me=Pp(ee);F.init(w,ie,me,ee,-1),Fp(F,b,me,ee),wp(F,p,R,G,T,C,D,u),Hp(F,b),Bp(F,b),d&&F.SPD.set(d,L.NONE),P.setBasic(F),P.a[h.MEMOSPRITE]&&(X.setBasic(F.m),F.initMemo());let be=0;for(let Ge=b.actions.length-1;Ge>=0;Ge--){const ae=b.actions[Ge],Q=P.a;P.setPrecompute(ae.precomputedX.a),P.a[h.MEMOSPRITE]&&X.setPrecompute(ae.precomputedM.a),P.trace&&(P.tracePrecompute(ae.precomputedX),X.tracePrecompute(ae.precomputedM)),vp(P,ae,b),Xp(P,ae,b),hS(P,ae,b),eu(P,ae,b),ae.actionType==="BASIC"?be+=Q[h.BASIC_DMG]:ae.actionType==="SKILL"?be+=Q[h.SKILL_DMG]:ae.actionType==="ULT"?be+=Q[h.ULT_DMG]:ae.actionType==="FUA"?be+=Q[h.FUA_DMG]:ae.actionType==="MEMO_SKILL"?be+=Q[h.MEMO_SKILL_DMG]:ae.actionType==="MEMO_TALENT"&&(be+=Q[h.MEMO_TALENT_DMG]),Ge===0&&(be+=b.comboDot*Q[h.DOT_DMG]+b.comboBreak*Q[h.BREAK_DMG],P.COMBO_DMG.set(be,L.NONE))}return P}function DS(e){const t=new Set([Ia[e.Head.set],Ia[e.Hands.set],Ia[e.Body.set],Ia[e.Feet.set],Un[e.PlanarSphere.set],Un[e.LinkRope.set]]);return[0,1,2,3,4,5].filter(n=>!t.has(n))}function ES(e){for(const t of Object.keys(m.Parts))e[t]=e[t]||b0();return e}function b0(){return{set:-1,substats:[]}}function ha(e){const t=e.width??10;return i.jsx(S,{vertical:!0,children:i.jsx(Wt,{type:"vertical",style:{flexGrow:1,margin:`10px ${t}px`}})})}const sa=Ft(Wt)`
    margin: 5px 0px;
`,{Text:h0}=ye,IS={IMPORT:{descriptionKey:"0Perms.RootCauses.IMPORT.Description",buttonTextKey:"0Perms.RootCauses.IMPORT.ButtonText",applyFix:()=>{window.store.getState().setActiveKey(de.IMPORT),window.store.getState().setZeroPermutationsModalOpen(!1)},successMessageKey:"0Perms.RootCauses.IMPORT.SuccessMessage"},BODY_MAIN:Ls(f.Body),FEET_MAIN:Ls(f.Feet),PLANAR_SPHERE_MAIN:Ls(f.PlanarSphere),LINK_ROPE_MAIN:Ls(f.LinkRope),RELIC_SETS:{descriptionKey:"0Perms.RootCauses.RELIC_SETS.Description",buttonTextKey:"0Perms.RootCauses.RELIC_SETS.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue("relicSets",[])},successMessageKey:"0Perms.RootCauses.RELIC_SETS.SuccessMessage"},ORNAMENT_SETS:{descriptionKey:"0Perms.RootCauses.ORNAMENT_SETS.Description",buttonTextKey:"0Perms.RootCauses.ORNAMENT_SETS.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue("ornamentSets",[])},successMessageKey:"0Perms.RootCauses.ORNAMENT_SETS.SuccessMessage"},KEEP_CURRENT:{descriptionKey:"0Perms.RootCauses.KEEP_CURRENT.Description",buttonTextKey:"0Perms.RootCauses.KEEP_CURRENT.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue("keepCurrentRelics",!1)},successMessageKey:"0Perms.RootCauses.KEEP_CURRENT.SuccessMessage"},PRIORITY:{descriptionKey:"0Perms.RootCauses.PRIORITY.Description",buttonTextKey:"0Perms.RootCauses.PRIORITY.ButtonText",applyFix:()=>{I.insertCharacter(window.store.getState().optimizerTabFocusCharacter,0),I.refreshCharacters()},successMessageKey:"0Perms.RootCauses.PRIORITY.SuccessMessage"},EXCLUDE_ENABLED:{descriptionKey:"0Perms.RootCauses.EXCLUDE_ENABLED.Description",buttonTextKey:"0Perms.RootCauses.EXCLUDE_ENABLED.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue("exclude",[])},successMessageKey:"0Perms.RootCauses.EXCLUDE_ENABLED.SuccessMessage"},EQUIPPED_DISABLED:{descriptionKey:"0Perms.RootCauses.EQUIPPED_DISABLED.Description",buttonTextKey:"0Perms.RootCauses.EQUIPPED_DISABLED.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue("includeEquippedRelics",!0)},successMessageKey:"0Perms.RootCauses.EQUIPPED_DISABLED.SuccessMessage"},MINIMUM_ROLLS:{descriptionKey:"0Perms.RootCauses.MINIMUM_ROLLS.Description",buttonTextKey:"0Perms.RootCauses.MINIMUM_ROLLS.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue(["weights","headHands"],0),window.optimizerForm.setFieldValue(["weights","bodyFeet"],0),window.optimizerForm.setFieldValue(["weights","sphereRope"],0)},successMessageKey:"0Perms.RootCauses.MINIMUM_ROLLS.SuccessMessage"}};function Ls(e){return{descriptionKey:`0Perms.RootCauses.${e}_MAIN.Description`,buttonTextKey:`0Perms.RootCauses.${e}_MAIN.ButtonText`,applyFix:()=>{window.optimizerForm.setFieldValue(`main${e}`,[])},successMessageKey:`0Perms.RootCauses.${e}_MAIN.SuccessMessage`}}let he=[];function xS(e){he=[];const[t,n]=il.getFilteredRelics(e);if(I.getRelics().length==0){he.push("IMPORT"),window.store.getState().setZeroPermutationsModalOpen(!0);return}t.Body.length==0&&e.mainBody.length>0&&n.Body.length>0&&he.push("BODY_MAIN"),t.Feet.length==0&&e.mainFeet.length>0&&n.Feet.length>0&&he.push("FEET_MAIN"),t.PlanarSphere.length==0&&e.mainPlanarSphere.length>0&&n.PlanarSphere.length>0&&he.push("PLANAR_SPHERE_MAIN"),t.LinkRope.length==0&&e.mainLinkRope.length>0&&n.LinkRope.length>0&&he.push("LINK_ROPE_MAIN"),(t.PlanarSphere.length==0||t.LinkRope.length==0)&&e.ornamentSets.length>0&&he.push("ORNAMENT_SETS"),(t.Head.length==0||t.Hands.length==0||t.Body.length==0||t.Feet.length==0)&&e.relicSets.length>0&&he.push("RELIC_SETS"),e.keepCurrentRelics&&he.push("KEEP_CURRENT"),e.rank!=0&&he.push("PRIORITY"),e.exclude.length>0&&he.push("EXCLUDE_ENABLED"),e.includeEquippedRelics||he.push("EQUIPPED_DISABLED"),(e.weights.headHands>0||e.weights.bodyFeet>0||e.weights.sphereRope>0)&&he.push("MINIMUM_ROLLS"),he.length==0&&he.push("IMPORT"),window.store.getState().setZeroPermutationsModalOpen(!0)}function tu(e,t){const n=IS[e]||au[e];return i.jsxs(S,{justify:"space-between",align:"center",style:{height:45},children:[i.jsx(h0,{style:{width:550},children:t(n.descriptionKey)}),i.jsx(z,{onClick:()=>{n.applyFix(),window.onOptimizerFormValuesChange({},se.getForm()),_.success(t(n.successMessageKey),2)},style:{width:250},type:"primary",children:t(n.buttonTextKey)})]},B.randomId())}function WS(){const{t:e}=K("modals"),t=window.store(s=>s.zeroPermutationModalOpen),n=window.store(s=>s.setZeroPermutationsModalOpen),l=[];for(const s of he)l.push(tu(s,e));return i.jsx(Vt,{title:e("0Perms.Title"),open:t,width:900,destroyOnClose:!0,centered:!0,onOk:()=>n(!1),onCancel:()=>n(!1),footer:null,children:i.jsxs(S,{vertical:!0,gap:15,style:{marginBottom:15},children:[i.jsx(h0,{children:e("0Perms.Description")}),i.jsx(sa,{}),l]})})}const au={MAX_HP:De("MAX_HP"),MIN_HP:De("MIN_HP"),MAX_ATK:De("MAX_ATK"),MIN_ATK:De("MIN_ATK"),MAX_DEF:De("MAX_DEF"),MIN_DEF:De("MIN_DEF"),MAX_SPD:De("MAX_SPD"),MIN_SPD:De("MIN_SPD"),MAX_CR:De("MAX_CR"),MIN_CR:De("MIN_CR"),MAX_CD:De("MAX_CD"),MIN_CD:De("MIN_CD"),MAX_EHR:De("MAX_EHR"),MIN_EHR:De("MIN_EHR"),MAX_RES:De("MAX_RES"),MIN_RES:De("MIN_RES"),MAX_BE:De("MAX_BE"),MIN_BE:De("MIN_BE"),MAX_ERR:De("MAX_ERR"),MIN_ERR:De("MIN_ERR"),MAX_EHP:De("MAX_EHP"),MIN_EHP:De("MIN_EHP"),MAX_BASIC:De("MAX_BASIC"),MIN_BASIC:De("MIN_BASIC"),MAX_SKILL:De("MAX_SKILL"),MIN_SKILL:De("MIN_SKILL"),MAX_ULT:De("MAX_ULT"),MIN_ULT:De("MIN_ULT"),MAX_FUA:De("MAX_FUA"),MIN_FUA:De("MIN_FUA"),MAX_DOT:De("MAX_DOT"),MIN_DOT:De("MIN_DOT"),MAX_BREAK:De("MAX_BREAK"),MIN_BREAK:De("MIN_BREAK"),MIN_MEMO_SKILL:De("MIN_MEMO_SKILL"),MAX_MEMO_SKILL:De("MAX_MEMO_SKILL"),MIN_MEMO_TALENT:De("MIN_MEMO_TALENT"),MAX_MEMO_TALENT:De("MAX_MEMO_TALENT"),MAX_HEAL:De("MAX_HEAL"),MIN_HEAL:De("MIN_HEAL"),MAX_SHIELD:De("MAX_SHIELD"),MIN_SHIELD:De("MIN_SHIELD"),MAX_COMBO:De("MAX_COMBO"),MIN_COMBO:De("MIN_COMBO"),STAT_VIEW:{descriptionKey:"0Results.RootCauses.StatView.Description",buttonTextKey:"0Results.RootCauses.StatView.ButtonText",applyFix:()=>{const e=window.store.getState().setStatDisplay;e("combat")},successMessageKey:"0Results.RootCauses.StatView.SuccessMessage"}};function De(e){const t=e.split("_"),n=t[0].toLowerCase()+t[1][0]+t[1].slice(1).toLowerCase();return{descriptionKey:`0Results.RootCauses.${e}.Description`,buttonTextKey:`0Results.RootCauses.${e}.ButtonText`,applyFix:()=>{window.optimizerForm.setFieldValue(n,void 0)},successMessageKey:`0Results.RootCauses.${e}.SuccessMessage`}}function nu(e){he=[],window.store.getState().statDisplay=="base"&&he.push("STAT_VIEW"),e.minHp&&he.push("MIN_HP"),e.maxHp<2147483647&&he.push("MAX_HP"),e.minAtk&&he.push("MIN_ATK"),e.maxAtk<2147483647&&he.push("MAX_ATK"),e.minDef&&he.push("MIN_DEF"),e.maxDef<2147483647&&he.push("MAX_DEF"),e.minSpd&&he.push("MIN_SPD"),e.maxSpd<2147483647&&he.push("MAX_SPD"),e.minCr&&he.push("MIN_CR"),e.maxCr<2147483647&&he.push("MAX_CR"),e.minCd&&he.push("MIN_CD"),e.maxCd<2147483647&&he.push("MAX_CD"),e.minEhr&&he.push("MIN_EHR"),e.maxEhr<2147483647&&he.push("MAX_EHR"),e.minRes&&he.push("MIN_RES"),e.maxRes<2147483647&&he.push("MAX_RES"),e.minBe&&he.push("MIN_BE"),e.maxBe<2147483647&&he.push("MAX_BE"),e.minErr&&he.push("MIN_ERR"),e.maxErr<2147483647&&he.push("MAX_ERR"),e.minEhp&&he.push("MIN_EHP"),e.maxEhp<2147483647&&he.push("MAX_EHP"),e.minBasic&&he.push("MIN_BASIC"),e.maxBasic<2147483647&&he.push("MAX_BASIC"),e.minSkill&&he.push("MIN_SKILL"),e.maxSkill<2147483647&&he.push("MAX_SKILL"),e.minUlt&&he.push("MIN_ULT"),e.maxUlt<2147483647&&he.push("MAX_ULT"),e.minFua&&he.push("MIN_FUA"),e.maxFua<2147483647&&he.push("MAX_FUA"),e.minMemoSkill&&he.push("MIN_MEMO_SKILL"),e.maxMemoSkill<2147483647&&he.push("MAX_MEMO_SKILL"),e.minMemoTalent&&he.push("MIN_MEMO_TALENT"),e.maxMemoTalent<2147483647&&he.push("MAX_MEMO_TALENT"),e.minDot&&he.push("MIN_DOT"),e.maxDot<2147483647&&he.push("MAX_DOT"),e.minBreak&&he.push("MIN_BREAK"),e.maxBreak<2147483647&&he.push("MAX_BREAK"),e.minHeal&&he.push("MIN_HEAL"),e.maxHeal<2147483647&&he.push("MAX_HEAL"),e.minShield&&he.push("MIN_SHIELD"),e.maxShield<2147483647&&he.push("MAX_SHIELD"),window.store.getState().setZeroResultModalOpen(!0)}function MS(){const e=window.store(s=>s.zeroResultModalOpen),t=window.store(s=>s.setZeroResultModalOpen),{t:n}=K("modals"),l=[];for(const s of he)l.push(tu(s,n));return i.jsx(Vt,{title:n("0Results.Title"),open:e,width:900,destroyOnClose:!0,centered:!0,onOk:()=>t(!1),onCancel:()=>t(!1),footer:null,children:i.jsxs(S,{vertical:!0,gap:15,style:{marginBottom:15},children:[i.jsxs(S,{justify:"space-between",align:"center",style:{height:45},children:[i.jsx(h0,{children:n("0Results.ResetAll.Description")}),i.jsx(z,{onClick:()=>{for(const o of he)o!="STAT_VIEW"&&au[o].applyFix();const s=window.store.getState().setStatDisplay;s("combat"),_.success(n("0Results.ResetAll.SuccessMessage")),t(!1)},style:{width:250},type:"primary",children:n("0Results.ResetAll.ButtonText")})]}),i.jsx(sa,{}),l]})})}window.WEBGPU_DEBUG=!1;async function LS(e){const{context:t,request:n,relics:l,permutations:s,computeEngine:o,relicSetSolutions:r,ornamentSetSolutions:c}=e,d=e.device;if(d==null){console.error("Not supported");return}d.onuncapturederror=b=>{window.store.getState().optimizationInProgress&&(window.store.getState().setOptimizationInProgress(!1),_G())},window.store.getState().setOptimizerStartTime(Date.now()),window.store.getState().setOptimizerRunningEngine(o);const u=Qd(d,l,n,t,s,o,r,c,window.WEBGPU_DEBUG);u.DEBUG&&_.warning("Debug mode is ON",5),u.startTime||(u.startTime=performance.now());for(let b=0;b<u.iterations;b++){const p=b*u.BLOCK_SIZE*u.CYCLES_PER_INVOCATION,R=p+u.BLOCK_SIZE*u.CYCLES_PER_INVOCATION,G=$d(u,p);if(o==Li){await G.mapAsync(GPUMapMode.READ,0,4);const T=new Float32Array(G.getMappedRange(0,4))[0];if(G.unmap(),T!=-2304)if(T<=-2048){const D=-(T+2048)*512*256;await Nl(p,G,u,D)}else await Nl(p,G,u)}else await Nl(p,G,u);if(setTimeout(()=>{const T=window.store.getState();T.setOptimizerEndTime(Date.now()),T.setPermutationsResults(u.resultsQueue.size()),T.setPermutationsSearched(Math.min(u.permutations,R))},0),G.unmap(),u.permutations<=R||!window.store.getState().optimizationInProgress){u.cancelled=!0;break}}u.cancelled||window.store.getState().setPermutationsSearched(u.permutations),window.store.getState().setOptimizationInProgress(!1),window.store.getState().setPermutationsResults(u.resultsQueue.size()),setTimeout(()=>{VS(u),qd(u)},1)}async function Nl(e,t,n,l=0){var R;await t.mapAsync(GPUMapMode.READ,l);const s=t.getMappedRange(l*4),o=new Float32Array(s),r=n.resultsQueue;let c=((R=r.top())==null?void 0:R.value)??0,d=n.BLOCK_SIZE*n.CYCLES_PER_INVOCATION;const u=e+n.BLOCK_SIZE*n.CYCLES_PER_INVOCATION,b=n.permutations-u;b<0&&(d+=b);const p=e+l;if(r.size()>=n.RESULTS_LIMIT)for(let G=d-l-1;G>=0;G--){const T=o[G];if(T<0){G+=T+1;continue}T<=c||(c=r.fixedSizePushOvercapped({index:p+G,value:T}).value)}else for(let G=d-l-1;G>=0;G--){const T=o[G];if(T<0){G+=T+1;continue}T<=c&&r.size()>=n.RESULTS_LIMIT||(r.fixedSizePush({index:p+G,value:T}),c=r.top().value)}n.DEBUG&&x2(n,s)}function VS(e){const t=e.relics,n=t.LinkRope.length,l=t.PlanarSphere.length,s=t.Feet.length,o=t.Body.length,r=t.Hands.length,c=t.Head.length,d=e.context,u=e.resultsQueue.toArray().sort((C,D)=>D.value-C.value),b=[],p=new $a(!1),R=new Wa(!1);for(let C=0;C<u.length;C++){const D=u[C].index,V=D%n,M=(D-V)/n%l,x=(D-M*n-V)/(n*l)%s,W=(D-x*l*n-M*n-V)/(n*l*s)%o,H=(D-W*s*l*n-x*l*n-M*n-V)/(n*l*s*o)%r,O=(D-H*o*s*l*n-W*s*l*n-x*l*n-M*n-V)/(n*l*s*o*r)%c,j=An(e.request,{Head:t.Head[O],Hands:t.Hands[H],Body:t.Body[W],Feet:t.Feet[x],PlanarSphere:t.PlanarSphere[M],LinkRope:t.LinkRope[V]},d,p,R,!0,!0,void 0,void 0,!0),N=R0(j);N.id=D,b.push(N)}b.length==0&&nu(e.request);const G=Z[e.request.resultSort],T=e.request.statDisplay=="combat"?G.combatGridColumn:G.basicGridColumn;Ml(T),se.setRows(b),window.optimizerGrid.current.api.updateGridOptions({datasource:se.getDataSource()})}const Vs=65,fs={extractCharacter:(e,t,n)=>(t=t*Vs,{id:e[t]+n,HP:e[t+1],ATK:e[t+2],DEF:e[t+3],SPD:e[t+4],"CRIT Rate":e[t+5],"CRIT DMG":e[t+6],"Effect Hit Rate":e[t+7],"Effect RES":e[t+8],"Break Effect":e[t+9],"Energy Regeneration Rate":e[t+10],"Outgoing Healing Boost":e[t+11],ED:e[t+12],WEIGHT:e[t+13],EHP:e[t+14],HEAL:e[t+15],SHIELD:e[t+16],BASIC:e[t+17],SKILL:e[t+18],ULT:e[t+19],FUA:e[t+20],MEMO_SKILL:e[t+21],MEMO_TALENT:e[t+22],DOT:e[t+23],BREAK:e[t+24],COMBO:e[t+25],xHP:e[t+26],xATK:e[t+27],xDEF:e[t+28],xSPD:e[t+29],xCR:e[t+30],xCD:e[t+31],xEHR:e[t+32],xRES:e[t+33],xBE:e[t+34],xERR:e[t+35],xOHB:e[t+36],xELEMENTAL_DMG:e[t+37],relicSetIndex:e[t+38],ornamentSetIndex:e[t+39],mHP:e[t+40],mATK:e[t+41],mDEF:e[t+42],mSPD:e[t+43],mCR:e[t+44],mCD:e[t+45],mEHR:e[t+46],mRES:e[t+47],mBE:e[t+48],mERR:e[t+49],mOHB:e[t+50],mELEMENTAL_DMG:e[t+51],mxHP:e[t+52],mxATK:e[t+53],mxDEF:e[t+54],mxSPD:e[t+55],mxCR:e[t+56],mxCD:e[t+57],mxEHR:e[t+58],mxRES:e[t+59],mxBE:e[t+60],mxERR:e[t+61],mxOHB:e[t+62],mxELEMENTAL_DMG:e[t+63],mxEHP:e[t+64]}),extractArrayToResults:(e,t,n,l)=>{for(let s=0;s<t&&e[s*Vs+1];s++){const o=fs.extractCharacter(e,s,l);n.fixedSizePush(o)}},packCharacter:(e,t,n)=>{t=t*Vs;const l=n.c,s=n.a,o=l.a;if(e[t]=l.id,e[t+1]=o[h.HP],e[t+2]=o[h.ATK],e[t+3]=o[h.DEF],e[t+4]=o[h.SPD],e[t+5]=o[h.CR],e[t+6]=o[h.CD],e[t+7]=o[h.EHR],e[t+8]=o[h.RES],e[t+9]=o[h.BE],e[t+10]=o[h.ERR],e[t+11]=o[h.OHB],e[t+12]=o[h.ELEMENTAL_DMG],e[t+13]=l.weight,e[t+14]=s[h.EHP],e[t+15]=s[h.HEAL_VALUE],e[t+16]=s[h.SHIELD_VALUE],e[t+17]=s[h.BASIC_DMG],e[t+18]=s[h.SKILL_DMG],e[t+19]=s[h.ULT_DMG],e[t+20]=s[h.FUA_DMG],e[t+21]=s[h.MEMO_SKILL_DMG],e[t+22]=s[h.MEMO_TALENT_DMG],e[t+23]=s[h.DOT_DMG],e[t+24]=s[h.BREAK_DMG],e[t+25]=s[h.COMBO_DMG],e[t+26]=s[h.HP],e[t+27]=s[h.ATK],e[t+28]=s[h.DEF],e[t+29]=s[h.SPD],e[t+30]=s[h.CR],e[t+31]=s[h.CD],e[t+32]=s[h.EHR],e[t+33]=s[h.RES],e[t+34]=s[h.BE],e[t+35]=s[h.ERR],e[t+36]=s[h.OHB],e[t+37]=s[h.ELEMENTAL_DMG],e[t+38]=l.relicSetIndex,e[t+39]=l.ornamentSetIndex,n.a[h.MEMOSPRITE]){const r=n.m.c.a;e[t+40]=r[h.HP],e[t+41]=r[h.ATK],e[t+42]=r[h.DEF],e[t+43]=r[h.SPD],e[t+44]=r[h.CR],e[t+45]=r[h.CD],e[t+46]=r[h.EHR],e[t+47]=r[h.RES],e[t+48]=r[h.BE],e[t+49]=r[h.ERR],e[t+50]=r[h.OHB],e[t+51]=r[h.ELEMENTAL_DMG];const c=n.m.a;e[t+52]=c[h.HP],e[t+53]=c[h.ATK],e[t+54]=c[h.DEF],e[t+55]=c[h.SPD],e[t+56]=c[h.CR],e[t+57]=c[h.CD],e[t+58]=c[h.EHR],e[t+59]=c[h.RES],e[t+60]=c[h.BE],e[t+61]=c[h.ERR],e[t+62]=c[h.OHB],e[t+63]=c[h.ELEMENTAL_DMG],e[t+64]=c[h.EHP]}},cleanFloatBuffer:e=>{new Float32Array(e).fill(0)},createFloatBuffer:e=>new Float32Array(e*Vs).buffer};function PS(e){const t=m.SetsRelicsNames.length,n=e.relicSets||[],l=[];for(const s of n){if(s[0]==pa.relic4Piece&&s.length==2){const o=m.RelicSetToIndex[s[1]],r=B.arrayOfZeroes(t);r[o]=4;const c=Ps(r);l.push(c)}if(s[0]==pa.relic2PlusAny&&s.length==2){const o=m.RelicSetToIndex[s[1]];for(let u=0;u<t;u++){const b=B.arrayOfZeroes(t);b[o]=2,b[u]+=2;const p=Ps(b);l.push(p)}const r=B.arrayOfZeroes(t);r[o]=2;const c=Ps(r),d=BS(c,t);l.push(...d)}if(s[0]==pa.relic2Plus2Piece&&s.length==3){const o=B.arrayOfZeroes(t),r=m.RelicSetToIndex[s[1]],c=m.RelicSetToIndex[s[2]];o[r]+=2,o[c]+=2;const d=Ps(o);l.push(d)}}return HS(l)}function FS(e){const t=e.ornamentSets||[],n=m.SetsOrnamentsNames.length;if(t.length==0)return B.arrayOfValue(n*n,1);const l=B.arrayOfZeroes(n*n);for(const s of t){const o=m.OrnamentSetToIndex[s],r=o+o*n;l[r]=1}return l}function Ps(e){const t=[];for(let n=0;n<e.length;n++)for(;e[n];)e[n]--,t.push(n);return t}function BS(e,t){const n=[];for(let l=0;l<t;l++)for(let s=0;s<t;s++){const o=B.arrayOfZeroes(4);o[0]=e[0],o[1]=e[1],o[2]=l,o[3]=s,n.push(o)}return n}function HS(e){const t=m.SetsRelicsNames.length;if(e.length==0)return B.arrayOfValue(Math.pow(t,4),1);const n=B.arrayOfZeroes(Math.pow(t,4));for(let l=0;l<e.length;l++){const s=e[l],o=vS(s);for(const r of o){const c=r[0]+r[1]*Math.pow(t,1)+r[2]*Math.pow(t,2)+r[3]*Math.pow(t,3);n[c]=1}}return n}const vS=e=>{const t=[],n=(l,s=[])=>{if(l.length===0)t.push(s);else for(let o=0;o<l.length;o++){const r=l.slice(),c=r.splice(o,1);n(r.slice(),s.concat(c))}};return n(e),t},iu="dmFyIGJvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgVG89KHQsZSxuKT0+ZSBpbiB0P2JvKHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bn0pOnRbZV09bjt2YXIgVT0odCxlLG4pPT5Ubyh0LHR5cGVvZiBlIT0ic3ltYm9sIj9lKyIiOmUsbik7Y29uc3QgeW89ezEwMDE6KCk9PmltcG9ydCgiLi9NYXJjaDd0aC1DVURrb0J0YS5qcyIpLDEwMDI6KCk9PmltcG9ydCgiLi9EYW5IZW5nLUJzZ2dITWR3LmpzIiksMTAwMzooKT0+aW1wb3J0KCIuL0hpbWVrby1DNVdKNmxUcy5qcyIpLDEwMDQ6KCk9PmltcG9ydCgiLi9XZWx0LURadWROd0UxLmpzIiksMTAwNTooKT0+aW1wb3J0KCIuL0thZmthLURKY1ZUUHR5LmpzIiksMTAwNjooKT0+aW1wb3J0KCIuL1NpbHZlcldvbGYtRG9CR1E1RUguanMiKSwxMDA4OigpPT5pbXBvcnQoIi4vQXJsYW4tREJiS1k4ZkMuanMiKSwxMDA5OigpPT5pbXBvcnQoIi4vQXN0YS1EUHpRTzhPTS5qcyIpLDEwMTM6KCk9PmltcG9ydCgiLi9IZXJ0YS1DdUJfQU5JSy5qcyIpLDExMDE6KCk9PmltcG9ydCgiLi9Ccm9ueWEtQjgyV0lueHMuanMiKSwxMTAyOigpPT5pbXBvcnQoIi4vU2VlbGUtRFRydFJ2c0wuanMiKSwxMTAzOigpPT5pbXBvcnQoIi4vU2VydmFsLUNhajhqdDZMLmpzIiksMTEwNDooKT0+aW1wb3J0KCIuL0dlcGFyZC1XRUJnRjBYby5qcyIpLDExMDU6KCk9PmltcG9ydCgiLi9OYXRhc2hhLUM2NUVXOHdMLmpzIiksMTEwNjooKT0+aW1wb3J0KCIuL1BlbGEtQ01ob2FjQ0IuanMiKSwxMTA3OigpPT5pbXBvcnQoIi4vQ2xhcmEtRGEzeURwRlcuanMiKSwxMTA4OigpPT5pbXBvcnQoIi4vU2FtcG8tQ3l4VWNwMWYuanMiKSwxMTA5OigpPT5pbXBvcnQoIi4vSG9vay1CTnFUM0syRC5qcyIpLDExMTA6KCk9PmltcG9ydCgiLi9MeW54LUpjZEdVYlNtLmpzIiksMTExMTooKT0+aW1wb3J0KCIuL0x1a2EtQmlJeGQySnEuanMiKSwxMTEyOigpPT5pbXBvcnQoIi4vVG9wYXotdThWaHliUTkuanMiKSwxMjAxOigpPT5pbXBvcnQoIi4vUWluZ3F1ZS1EZE45dUd4cS5qcyIpLDEyMDI6KCk9PmltcG9ydCgiLi9UaW5neXVuLUJ3YU5yVU9WLmpzIiksMTIwMzooKT0+aW1wb3J0KCIuL0x1b2NoYS1CbzFsQnZNNy5qcyIpLDEyMDQ6KCk9PmltcG9ydCgiLi9KaW5nWXVhbi1EeE9IRk8yZC5qcyIpLDEyMDU6KCk9PmltcG9ydCgiLi9CbGFkZS1EcWVld1IzNy5qcyIpLDEyMDY6KCk9PmltcG9ydCgiLi9TdXNoYW5nLVJuY3hIZXpJLmpzIiksMTIwNzooKT0+aW1wb3J0KCIuL1l1a29uZy1DWEh1cF9Uby5qcyIpLDEyMDg6KCk9PmltcG9ydCgiLi9GdVh1YW4tQ3ZYdF9WLU8uanMiKSwxMjA5OigpPT5pbXBvcnQoIi4vWWFucWluZy1CcTJxWWMzRS5qcyIpLDEyMTA6KCk9PmltcG9ydCgiLi9HdWluYWlmZW4tREN2UlZfS0EuanMiKSwxMjExOigpPT5pbXBvcnQoIi4vQmFpbHUtQ0JQR3haUTEuanMiKSwxMjEyOigpPT5pbXBvcnQoIi4vSmluZ2xpdS1EMUxBZFc4bi5qcyIpLDEyMTM6KCk9PmltcG9ydCgiLi9JbWJpYml0b3JMdW5hZS1DMFh6b05qay5qcyIpLDEyMTQ6KCk9PmltcG9ydCgiLi9YdWV5aS1DWm5ka2s5ay5qcyIpLDEyMTU6KCk9PmltcG9ydCgiLi9IYW55YS1CTVVmNFVtby5qcyIpLDEyMTc6KCk9PmltcG9ydCgiLi9IdW9odW8tQ180MzdwaWouanMiKSwxMjE4OigpPT5pbXBvcnQoIi4vSmlhb3FpdS1CWDdkSWNiRS5qcyIpLDEyMjA6KCk9PmltcG9ydCgiLi9GZWl4aWFvLURLeGt6aDBsLmpzIiksMTIyMTooKT0+aW1wb3J0KCIuL1l1bmxpLVVVWDRvc1VnLmpzIiksMTIyMjooKT0+aW1wb3J0KCIuL0xpbmdzaGEtRGtfdlE3clEuanMiKSwxMjIzOigpPT5pbXBvcnQoIi4vTW96ZS1DR2dVZU95aC5qcyIpLDEyMjQ6KCk9PmltcG9ydCgiLi9NYXJjaDd0aEltYWdpbmFyeS1EOWsxVFMzbi5qcyIpLDEyMjU6KCk9PmltcG9ydCgiLi9GdWd1ZS00SGFjbG0ybC5qcyIpLDEzMDE6KCk9PmltcG9ydCgiLi9HYWxsYWdoZXItQkFNNF9wQW8uanMiKSwxMzAyOigpPT5pbXBvcnQoIi4vQXJnZW50aS1BVnlRdjZReC5qcyIpLDEzMDM6KCk9PmltcG9ydCgiLi9SdWFuTWVpLUJGNzA2WEtiLmpzIiksMTMwNDooKT0+aW1wb3J0KCIuL0F2ZW50dXJpbmUtQk05emRhWDkuanMiKSwxMzA1OigpPT5pbXBvcnQoIi4vRHJSYXRpby1DNDlpYTdhMy5qcyIpLDEzMDY6KCk9PmltcG9ydCgiLi9TcGFya2xlLUNXdFE5Q1diLmpzIiksMTMwNzooKT0+aW1wb3J0KCIuL0JsYWNrU3dhbi1EY1RqaEFlbS5qcyIpLDEzMDg6KCk9PmltcG9ydCgiLi9BY2hlcm9uLUNfcm40YVNZLmpzIiksMTMwOTooKT0+aW1wb3J0KCIuL1JvYmluLURSYlc5OGdXLmpzIiksMTMxMDooKT0+aW1wb3J0KCIuL0ZpcmVmbHktREVqdWJuekIuanMiKSwxMzEyOigpPT5pbXBvcnQoIi4vTWlzaGEtREtvRVd3bWcuanMiKSwxMzEzOigpPT5pbXBvcnQoIi4vU3VuZGF5LUJaOE83VUpaLmpzIiksMTMxNDooKT0+aW1wb3J0KCIuL0phZGUtQ2xpN0FwbmMuanMiKSwxMzE1OigpPT5pbXBvcnQoIi4vQm9vdGhpbGwtUWpOWFItX1AuanMiKSwxMzE3OigpPT5pbXBvcnQoIi4vUmFwcGEtQlR4ZE9EYUsuanMiKSwxNDAxOigpPT5pbXBvcnQoIi4vVGhlSGVydGEtVVZlTGk2UF8uanMiKSwxNDAyOigpPT5pbXBvcnQoIi4vQWdsYWVhLVBROXJockRNLmpzIiksMTQwMzooKT0+aW1wb3J0KCIuL1RyaWJiaWUtRFZfWm8zV3QuanMiKSwxNDA0OigpPT5pbXBvcnQoIi4vTXlkZWktMzYzRVN3czkuanMiKSwxNDA1OigpPT5pbXBvcnQoIi4vQW5heGEtSnlKRWlmamMuanMiKSwxNDA3OigpPT5pbXBvcnQoIi4vQ2FzdG9yaWNlLWtFWG1wNWJkLmpzIiksODAwMTooKT0+aW1wb3J0KCIuL1RyYWlsYmxhemVyRGVzdHJ1Y3Rpb24tRGJIcURDaFMuanMiKSw4MDAyOigpPT5pbXBvcnQoIi4vVHJhaWxibGF6ZXJEZXN0cnVjdGlvbi1EYkhxRENoUy5qcyIpLDgwMDM6KCk9PmltcG9ydCgiLi9UcmFpbGJsYXplclByZXNlcnZhdGlvbi1DU3dpeUtJXy5qcyIpLDgwMDQ6KCk9PmltcG9ydCgiLi9UcmFpbGJsYXplclByZXNlcnZhdGlvbi1DU3dpeUtJXy5qcyIpLDgwMDU6KCk9PmltcG9ydCgiLi9UcmFpbGJsYXplckhhcm1vbnktRDlrcXFkU1UuanMiKSw4MDA2OigpPT5pbXBvcnQoIi4vVHJhaWxibGF6ZXJIYXJtb255LUQ5a3FxZFNVLmpzIiksODAwNzooKT0+aW1wb3J0KCIuL1RyYWlsYmxhemVyUmVtZW1icmFuY2UtQlpVdm1LRDcuanMiKSw4MDA4OigpPT5pbXBvcnQoIi4vVHJhaWxibGF6ZXJSZW1lbWJyYW5jZS1CWlV2bUtENy5qcyIpfSxSdD1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIE9vKHQpe2NvbnN0IGU9dC5tYXAoYXN5bmMgbj0+e2lmKCFSdC5oYXMobikpe2NvbnN0IGk9eW9bbl07aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBObyBjaGFyYWN0ZXIgZm91bmQgZm9yIElEOiAke259YCk7Y29uc3Qgbz1hd2FpdCBpKCk7cmV0dXJuIFJ0LnNldChuLG8uZGVmYXVsdCksby5kZWZhdWx0fXJldHVybiBQcm9taXNlLnJlc29sdmUoUnQuZ2V0KG4pKX0pO3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChlKSx0Lm1hcChuPT5SdC5nZXQobikpfWNvbnN0IG9lPXtnZXQodCxlPSExKXtjb25zdHtjaGFyYWN0ZXJJZDpuLGNoYXJhY3RlckVpZG9sb246aX09dDtpZighUnQuaGFzKG4pKXRocm93IG5ldyBFcnJvcihgQ2hhcmFjdGVyICR7bn0gbm90IHByZWxvYWRlZC5gKTtyZXR1cm4gUnQuZ2V0KG4pKGksZSl9fSxpZT0iMy4ydjUiLHA9e0FUS19QOiJBVEslIixBVEs6IkFUSyIsQkU6IkJyZWFrIEVmZmVjdCIsQ0Q6IkNSSVQgRE1HIixDUjoiQ1JJVCBSYXRlIixERUZfUDoiREVGJSIsREVGOiJERUYiLEVIUjoiRWZmZWN0IEhpdCBSYXRlIixFUlI6IkVuZXJneSBSZWdlbmVyYXRpb24gUmF0ZSIsRmlyZV9ETUc6IkZpcmUgRE1HIEJvb3N0IixIUF9QOiJIUCUiLEhQOiJIUCIsSWNlX0RNRzoiSWNlIERNRyBCb29zdCIsSW1hZ2luYXJ5X0RNRzoiSW1hZ2luYXJ5IERNRyBCb29zdCIsTGlnaHRuaW5nX0RNRzoiTGlnaHRuaW5nIERNRyBCb29zdCIsT0hCOiJPdXRnb2luZyBIZWFsaW5nIEJvb3N0IixQaHlzaWNhbF9ETUc6IlBoeXNpY2FsIERNRyBCb29zdCIsUXVhbnR1bV9ETUc6IlF1YW50dW0gRE1HIEJvb3N0IixSRVM6IkVmZmVjdCBSRVMiLFNQRF9QOiJTUEQlIixTUEQ6IlNQRCIsV2luZF9ETUc6IldpbmQgRE1HIEJvb3N0In0sTG89W3AuSFBfUCxwLkFUS19QLHAuREVGX1AscC5IUCxwLkFUSyxwLlNQRCxwLkNSLHAuQ0QscC5FSFIscC5CRSxwLk9IQixwLkVSUixwLlBoeXNpY2FsX0RNRyxwLkZpcmVfRE1HLHAuSWNlX0RNRyxwLkxpZ2h0bmluZ19ETUcscC5XaW5kX0RNRyxwLlF1YW50dW1fRE1HLHAuSW1hZ2luYXJ5X0RNR10sQW89e1twLkhQX1BdOns1OntiYXNlOjYuOTEyLGluY3JlbWVudDoyLjQxOTJ9LDQ6e2Jhc2U6NS41Mjk2LGluY3JlbWVudDoxLjkzNTR9LDM6e2Jhc2U6NC4xNDcyLGluY3JlbWVudDoxLjQ1MTV9LDI6e2Jhc2U6Mi43NjQ4LGluY3JlbWVudDouOTY3N319LFtwLkFUS19QXTp7NTp7YmFzZTo2LjkxMixpbmNyZW1lbnQ6Mi40MTkyfSw0OntiYXNlOjUuNTI5NixpbmNyZW1lbnQ6MS45MzU0fSwzOntiYXNlOjQuMTQ3MixpbmNyZW1lbnQ6MS40NTE1fSwyOntiYXNlOjIuNzY0OCxpbmNyZW1lbnQ6Ljk2Nzd9fSxbcC5ERUZfUF06ezU6e2Jhc2U6OC42NCxpbmNyZW1lbnQ6My4wMjR9LDQ6e2Jhc2U6Ni45MTIsaW5jcmVtZW50OjIuNDE5Mn0sMzp7YmFzZTo1LjE4NCxpbmNyZW1lbnQ6MS44MTQ0fSwyOntiYXNlOjMuNDU2LGluY3JlbWVudDoxLjIwOTZ9fSxbcC5IUF06ezU6e2Jhc2U6MTEyLjg5NixpbmNyZW1lbnQ6MzkuNTEzNn0sNDp7YmFzZTo5MC4zMTY4LGluY3JlbWVudDozMS42MTA4OH0sMzp7YmFzZTo2Ny43Mzc2LGluY3JlbWVudDoyMy43MDgxNn0sMjp7YmFzZTo0NS4xNTg0LGluY3JlbWVudDoxNS44MDU0NH19LFtwLkFUS106ezU6e2Jhc2U6NTYuNDQ4LGluY3JlbWVudDoxOS43NTY4fSw0OntiYXNlOjQ1LjE1ODQsaW5jcmVtZW50OjE1LjgwNTQ0fSwzOntiYXNlOjMzLjg2ODgsaW5jcmVtZW50OjExLjg1NDA4fSwyOntiYXNlOjIyLjU3OTIsaW5jcmVtZW50OjcuOTAyNzJ9fSxbcC5TUERdOns1OntiYXNlOjQuMDMyLGluY3JlbWVudDoxLjR9LDQ6e2Jhc2U6My4yMjYsaW5jcmVtZW50OjEuMX0sMzp7YmFzZToyLjQxOSxpbmNyZW1lbnQ6MX0sMjp7YmFzZToxLjYxMyxpbmNyZW1lbnQ6MX19LFtwLkNSXTp7NTp7YmFzZTo1LjE4NCxpbmNyZW1lbnQ6MS44MTQ0fSw0OntiYXNlOjQuMTQ3MixpbmNyZW1lbnQ6MS40NTE1fSwzOntiYXNlOjMuMTEwNCxpbmNyZW1lbnQ6MS4wODg2fSwyOntiYXNlOjIuMDczNixpbmNyZW1lbnQ6LjcyNTh9fSxbcC5DRF06ezU6e2Jhc2U6MTAuMzY4LGluY3JlbWVudDozLjYyODh9LDQ6e2Jhc2U6OC4yOTQ0LGluY3JlbWVudDoyLjkwM30sMzp7YmFzZTo2LjIyMDgsaW5jcmVtZW50OjIuMTc3M30sMjp7YmFzZTo0LjE0NzIsaW5jcmVtZW50OjEuNDUxNX19LFtwLkVIUl06ezU6e2Jhc2U6Ni45MTIsaW5jcmVtZW50OjIuNDE5Mn0sNDp7YmFzZTo1LjUyOTYsaW5jcmVtZW50OjEuOTM1NH0sMzp7YmFzZTo0LjE0NzIsaW5jcmVtZW50OjEuNDUxNX0sMjp7YmFzZToyLjc2NDgsaW5jcmVtZW50Oi45Njc3fX0sW3AuQkVdOns1OntiYXNlOjEwLjM2OCxpbmNyZW1lbnQ6My42Mjg4fSw0OntiYXNlOjguMjk0NCxpbmNyZW1lbnQ6Mi45MDN9LDM6e2Jhc2U6Ni4yMjA4LGluY3JlbWVudDoyLjE3NzN9LDI6e2Jhc2U6NC4xNDcyLGluY3JlbWVudDoxLjQ1MTV9fSxbcC5FUlJdOns1OntiYXNlOjMuMTEwNCxpbmNyZW1lbnQ6MS4wODg2fSw0OntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9LDM6e2Jhc2U6MS44NjYyLGluY3JlbWVudDouNjUzMn0sMjp7YmFzZToxLjI0NDIsaW5jcmVtZW50Oi40MzU1fX0sW3AuT0hCXTp7NTp7YmFzZTo1LjUyOTYsaW5jcmVtZW50OjEuOTM1NH0sNDp7YmFzZTo0LjQyMzcsaW5jcmVtZW50OjEuNTQ4M30sMzp7YmFzZTozLjMxNzgsaW5jcmVtZW50OjEuMTYxMn0sMjp7YmFzZToyLjIxMTgsaW5jcmVtZW50Oi43NzQxfX0sW3AuUGh5c2ljYWxfRE1HXTp7NTp7YmFzZTo2LjIyMDgsaW5jcmVtZW50OjIuMTc3M30sNDp7YmFzZTo0Ljk3NjYsaW5jcmVtZW50OjEuNzQxOH0sMzp7YmFzZTozLjczMjUsaW5jcmVtZW50OjEuMzA2NH0sMjp7YmFzZToyLjQ4ODMsaW5jcmVtZW50Oi44NzA5fX0sW3AuRmlyZV9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fSxbcC5JY2VfRE1HXTp7NTp7YmFzZTo2LjIyMDgsaW5jcmVtZW50OjIuMTc3M30sNDp7YmFzZTo0Ljk3NjYsaW5jcmVtZW50OjEuNzQxOH0sMzp7YmFzZTozLjczMjUsaW5jcmVtZW50OjEuMzA2NH0sMjp7YmFzZToyLjQ4ODMsaW5jcmVtZW50Oi44NzA5fX0sW3AuTGlnaHRuaW5nX0RNR106ezU6e2Jhc2U6Ni4yMjA4LGluY3JlbWVudDoyLjE3NzN9LDQ6e2Jhc2U6NC45NzY2LGluY3JlbWVudDoxLjc0MTh9LDM6e2Jhc2U6My43MzI1LGluY3JlbWVudDoxLjMwNjR9LDI6e2Jhc2U6Mi40ODgzLGluY3JlbWVudDouODcwOX19LFtwLldpbmRfRE1HXTp7NTp7YmFzZTo2LjIyMDgsaW5jcmVtZW50OjIuMTc3M30sNDp7YmFzZTo0Ljk3NjYsaW5jcmVtZW50OjEuNzQxOH0sMzp7YmFzZTozLjczMjUsaW5jcmVtZW50OjEuMzA2NH0sMjp7YmFzZToyLjQ4ODMsaW5jcmVtZW50Oi44NzA5fX0sW3AuUXVhbnR1bV9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fSxbcC5JbWFnaW5hcnlfRE1HXTp7NTp7YmFzZTo2LjIyMDgsaW5jcmVtZW50OjIuMTc3M30sNDp7YmFzZTo0Ljk3NjYsaW5jcmVtZW50OjEuNzQxOH0sMzp7YmFzZTozLjczMjUsaW5jcmVtZW50OjEuMzA2NH0sMjp7YmFzZToyLjQ4ODMsaW5jcmVtZW50Oi44NzA5fX19LFJvPVtwLkhQX1AscC5BVEtfUCxwLkRFRl9QLHAuSFAscC5BVEsscC5ERUYscC5TUEQscC5DUixwLkNELHAuRUhSLHAuUkVTLHAuQkVdLE1vPXtbcC5IUF9QXToiSFAgJSIsW3AuQVRLX1BdOiJBVEsgJSIsW3AuREVGX1BdOiJERUYgJSIsW3AuU1BEX1BdOiJTUEQgJSIsW3AuSFBdOiJIUCIsW3AuQVRLXToiQVRLIixbcC5ERUZdOiJERUYiLFtwLlNQRF06IlNQRCIsW3AuQ1JdOiJDUklUIFJhdGUiLFtwLkNEXToiQ1JJVCBETUciLFtwLkVIUl06IkVmZmVjdCBISVQiLFtwLlJFU106IkVmZmVjdCBSRVMiLFtwLkJFXToiQnJlYWsgRWZmZWN0IixbcC5FUlJdOiJFbmVyZ3kgUmVnZW4iLFtwLk9IQl06IkhlYWxpbmcgQm9vc3QiLFtwLlBoeXNpY2FsX0RNR106IlBoeXNpY2FsIERNRyIsW3AuRmlyZV9ETUddOiJGaXJlIERNRyIsW3AuSWNlX0RNR106IkljZSBETUciLFtwLkxpZ2h0bmluZ19ETUddOiJMaWdodG5pbmcgRE1HIixbcC5XaW5kX0RNR106IldpbmQgRE1HIixbcC5RdWFudHVtX0RNR106IlF1YW50dW0gRE1HIixbcC5JbWFnaW5hcnlfRE1HXToiSW1hZ2luYXJ5IERNRyJ9LFo9e0hlYWQ6IkhlYWQiLEhhbmRzOiJIYW5kcyIsQm9keToiQm9keSIsRmVldDoiRmVldCIsUGxhbmFyU3BoZXJlOiJQbGFuYXJTcGhlcmUiLExpbmtSb3BlOiJMaW5rUm9wZSJ9LFBvPXtbWi5IZWFkXToiSGVhZCIsW1ouSGFuZHNdOiJIYW5kcyIsW1ouQm9keV06IkJvZHkiLFtaLkZlZXRdOiJGZWV0IixbWi5QbGFuYXJTcGhlcmVdOiJTcGhlcmUiLFtaLkxpbmtSb3BlXToiUm9wZSJ9LElvPXtbWi5IZWFkXTpbcC5IUF0sW1ouSGFuZHNdOltwLkFUS10sW1ouQm9keV06W3AuSFBfUCxwLkFUS19QLHAuREVGX1AscC5DUixwLkNELHAuT0hCLHAuRUhSXSxbWi5GZWV0XTpbcC5IUF9QLHAuQVRLX1AscC5ERUZfUCxwLlNQRF0sW1ouUGxhbmFyU3BoZXJlXTpbcC5IUF9QLHAuQVRLX1AscC5ERUZfUCxwLlBoeXNpY2FsX0RNRyxwLkZpcmVfRE1HLHAuSWNlX0RNRyxwLkxpZ2h0bmluZ19ETUcscC5XaW5kX0RNRyxwLlF1YW50dW1fRE1HLHAuSW1hZ2luYXJ5X0RNR10sW1ouTGlua1JvcGVdOltwLkhQX1AscC5BVEtfUCxwLkRFRl9QLHAuQkUscC5FUlJdfSxIdD17UGFzc2VyYnlPZldhbmRlcmluZ0Nsb3VkOiJQYXNzZXJieSBvZiBXYW5kZXJpbmcgQ2xvdWQiLE11c2tldGVlck9mV2lsZFdoZWF0OiJNdXNrZXRlZXIgb2YgV2lsZCBXaGVhdCIsS25pZ2h0T2ZQdXJpdHlQYWxhY2U6IktuaWdodCBvZiBQdXJpdHkgUGFsYWNlIixIdW50ZXJPZkdsYWNpYWxGb3Jlc3Q6Ikh1bnRlciBvZiBHbGFjaWFsIEZvcmVzdCIsQ2hhbXBpb25PZlN0cmVldHdpc2VCb3hpbmc6IkNoYW1waW9uIG9mIFN0cmVldHdpc2UgQm94aW5nIixHdWFyZE9mV3V0aGVyaW5nU25vdzoiR3VhcmQgb2YgV3V0aGVyaW5nIFNub3ciLEZpcmVzbWl0aE9mTGF2YUZvcmdpbmc6IkZpcmVzbWl0aCBvZiBMYXZhLUZvcmdpbmciLEdlbml1c09mQnJpbGxpYW50U3RhcnM6Ikdlbml1cyBvZiBCcmlsbGlhbnQgU3RhcnMiLEJhbmRPZlNpenpsaW5nVGh1bmRlcjoiQmFuZCBvZiBTaXp6bGluZyBUaHVuZGVyIixFYWdsZU9mVHdpbGlnaHRMaW5lOiJFYWdsZSBvZiBUd2lsaWdodCBMaW5lIixUaGllZk9mU2hvb3RpbmdNZXRlb3I6IlRoaWVmIG9mIFNob290aW5nIE1ldGVvciIsV2FzdGVsYW5kZXJPZkJhbmRpdHJ5RGVzZXJ0OiJXYXN0ZWxhbmRlciBvZiBCYW5kaXRyeSBEZXNlcnQiLExvbmdldm91c0Rpc2NpcGxlOiJMb25nZXZvdXMgRGlzY2lwbGUiLE1lc3NlbmdlclRyYXZlcnNpbmdIYWNrZXJzcGFjZToiTWVzc2VuZ2VyIFRyYXZlcnNpbmcgSGFja2Vyc3BhY2UiLFRoZUFzaGJsYXppbmdHcmFuZER1a2U6IlRoZSBBc2hibGF6aW5nIEdyYW5kIER1a2UiLFByaXNvbmVySW5EZWVwQ29uZmluZW1lbnQ6IlByaXNvbmVyIGluIERlZXAgQ29uZmluZW1lbnQiLFBpb25lZXJEaXZlck9mRGVhZFdhdGVyczoiUGlvbmVlciBEaXZlciBvZiBEZWFkIFdhdGVycyIsV2F0Y2htYWtlck1hc3Rlck9mRHJlYW1NYWNoaW5hdGlvbnM6IldhdGNobWFrZXIsIE1hc3RlciBvZiBEcmVhbSBNYWNoaW5hdGlvbnMiLElyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2U6Iklyb24gQ2F2YWxyeSBBZ2FpbnN0IHRoZSBTY291cmdlIixUaGVXaW5kU29hcmluZ1ZhbG9yb3VzOiJUaGUgV2luZC1Tb2FyaW5nIFZhbG9yb3VzIixTYWNlcmRvc1JlbGl2ZWRPcmRlYWw6IlNhY2VyZG9zJyBSZWxpdmVkIE9yZGVhbCIsU2Nob2xhckxvc3RJbkVydWRpdGlvbjoiU2Nob2xhciBMb3N0IGluIEVydWRpdGlvbiIsSGVyb09mVHJpdW1waGFudFNvbmc6Ikhlcm8gb2YgVHJpdW1waGFudCBTb25nIixQb2V0T2ZNb3VybmluZ0NvbGxhcHNlOiJQb2V0IG9mIE1vdXJuaW5nIENvbGxhcHNlIn0sS3Q9e1NwYWNlU2VhbGluZ1N0YXRpb246IlNwYWNlIFNlYWxpbmcgU3RhdGlvbiIsRmxlZXRPZlRoZUFnZWxlc3M6IkZsZWV0IG9mIHRoZSBBZ2VsZXNzIixQYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZToiUGFuLUNvc21pYyBDb21tZXJjaWFsIEVudGVycHJpc2UiLEJlbG9ib2dPZlRoZUFyY2hpdGVjdHM6IkJlbG9ib2cgb2YgdGhlIEFyY2hpdGVjdHMiLENlbGVzdGlhbERpZmZlcmVudGlhdG9yOiJDZWxlc3RpYWwgRGlmZmVyZW50aWF0b3IiLEluZXJ0U2Fsc290dG86IkluZXJ0IFNhbHNvdHRvIixUYWxpYUtpbmdkb21PZkJhbmRpdHJ5OiJUYWxpYTogS2luZ2RvbSBvZiBCYW5kaXRyeSIsU3ByaWdodGx5Vm9ud2FjcToiU3ByaWdodGx5IFZvbndhY3EiLFJ1dGlsYW50QXJlbmE6IlJ1dGlsYW50IEFyZW5hIixCcm9rZW5LZWVsOiJCcm9rZW4gS2VlbCIsRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aDoiRmlybWFtZW50IEZyb250bGluZTogR2xhbW90aCIsUGVuYWNvbnlMYW5kT2ZUaGVEcmVhbXM6IlBlbmFjb255LCBMYW5kIG9mIHRoZSBEcmVhbXMiLFNpZ29uaWFUaGVVbmNsYWltZWREZXNvbGF0aW9uOiJTaWdvbmlhLCB0aGUgVW5jbGFpbWVkIERlc29sYXRpb24iLEl6dW1vR2Vuc2VpQW5kVGFrYW1hRGl2aW5lUmVhbG06Ikl6dW1vIEdlbnNlaSBhbmQgVGFrYW1hIERpdmluZSBSZWFsbSIsRHVyYW5EeW5hc3R5T2ZSdW5uaW5nV29sdmVzOiJEdXJhbiwgRHluYXN0eSBvZiBSdW5uaW5nIFdvbHZlcyIsRm9yZ2VPZlRoZUthbHBhZ25pTGFudGVybjoiRm9yZ2Ugb2YgdGhlIEthbHBhZ25pIExhbnRlcm4iLEx1c2hha2FUaGVTdW5rZW5TZWFzOiJMdXNoYWthLCB0aGUgU3Vua2VuIFNlYXMiLFRoZVdvbmRyb3VzQmFuYW5BbXVzZW1lbnRQYXJrOiJUaGUgV29uZHJvdXMgQmFuYW5BbXVzZW1lbnQgUGFyayIsQm9uZUNvbGxlY3Rpb25zU2VyZW5lRGVtZXNuZToiQm9uZSBDb2xsZWN0aW9uJ3MgU2VyZW5lIERlbWVzbmUiLEdpYW50VHJlZU9mUmFwdEJyb29kaW5nOiJHaWFudCBUcmVlIG9mIFJhcHQgQnJvb2RpbmcifSxLbj17Li4uSHQsLi4uS3R9LFBlPU9iamVjdC52YWx1ZXMoSHQpLEllPU9iamVjdC52YWx1ZXMoS3QpLGFlPXt9O2ZvcihsZXQgdD0wO3Q8SWUubGVuZ3RoO3QrKylhZVtJZVt0XV09dDtjb25zdCBNdD17fTtmb3IobGV0IHQ9MDt0PFBlLmxlbmd0aDt0KyspTXRbUGVbdF1dPXQ7T2JqZWN0LnZhbHVlcyhIdCkubGVuZ3RoO09iamVjdC52YWx1ZXMoS3QpLmxlbmd0aDtjb25zdCBLbD17QWJ1bmRhbmNlOiJBYnVuZGFuY2UiLERlc3RydWN0aW9uOiJEZXN0cnVjdGlvbiIsRXJ1ZGl0aW9uOiJFcnVkaXRpb24iLEhhcm1vbnk6Ikhhcm1vbnkiLEh1bnQ6Ikh1bnQiLE5paGlsaXR5OiJOaWhpbGl0eSIsUHJlc2VydmF0aW9uOiJQcmVzZXJ2YXRpb24iLFJlbWVtYnJhbmNlOiJSZW1lbWJyYW5jZSJ9LFZsPXtQaHlzaWNhbDoiUGh5c2ljYWwiLFF1YW50dW06IlF1YW50dW0iLEltYWdpbmFyeToiSW1hZ2luYXJ5IixJY2U6IkljZSIsV2luZDoiV2luZCIsRmlyZToiRmlyZSIsTGlnaHRuaW5nOiJMaWdodG5pbmcifSxndD17UGh5c2ljYWw6IlBIWVNJQ0FMX1JFU19QRU4iLEZpcmU6IkZJUkVfUkVTX1BFTiIsSWNlOiJJQ0VfUkVTX1BFTiIsTGlnaHRuaW5nOiJMSUdIVE5JTkdfUkVTX1BFTiIsV2luZDoiV0lORF9SRVNfUEVOIixRdWFudHVtOiJRVUFOVFVNX1JFU19QRU4iLEltYWdpbmFyeToiSU1BR0lOQVJZX1JFU19QRU4ifSx2ZT17U2V0czpLbixQYXJ0czpaLFN0YXRzOnAsTWFpblN0YXRzOkxvLE1haW5TdGF0c1ZhbHVlczpBbyxTdWJTdGF0czpSbyxTZXRzT3JuYW1lbnRzOkt0LFNldHNSZWxpY3M6SHQsU2V0c1JlbGljc05hbWVzOlBlLFNldHNPcm5hbWVudHNOYW1lczpJZSxTdGF0c1RvUmVhZGFibGU6TW8sUGFydHNUb1JlYWRhYmxlOlBvLFBhcnRzTWFpblN0YXRzOklvLFJlbGljU2V0VG9JbmRleDpNdCxPcm5hbWVudFNldFRvSW5kZXg6YWUsTUFYX0lOVDoyMTQ3NDgzNjQ3LFRIUkVBRF9CVUZGRVJfTEVOR1RIOjE1ZTR9LG50PXtTRVQ6MCxBQklMSVRZOjF9LFE9e1NJTkdMRTowLENPTlRJTlVPVVM6MX0sdm89T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKEtuKS5tYXAoKFt0LGVdKT0+W3Qse2lkOnQsbGFiZWw6ZSxidWZmVHlwZToiU0VUUyIsYWJpbGl0eToiU0VUUyJ9XSkpLGg9e2NoYXJhY3Rlcih0KXtmdW5jdGlvbiBlKG4pe3JldHVybntpZDp0LGxhYmVsOmAke3R9XyR7bn1gLGFiaWxpdHk6bixidWZmVHlwZToiQ0hBUkFDVEVSIn19cmV0dXJue1NPVVJDRV9CQVNJQzplKCJCYXNpYyIpLFNPVVJDRV9TS0lMTDplKCJTa2lsbCIpLFNPVVJDRV9VTFQ6ZSgiVWx0IiksU09VUkNFX1RBTEVOVDplKCJUYWxlbnQiKSxTT1VSQ0VfVEVDSE5JUVVFOmUoIlRlY2huaXF1ZSIpLFNPVVJDRV9UUkFDRTplKCJUcmFjZSIpLFNPVVJDRV9NRU1POmUoIk1lbW8iKSxTT1VSQ0VfRTE6ZSgiRTEiKSxTT1VSQ0VfRTI6ZSgiRTIiKSxTT1VSQ0VfRTQ6ZSgiRTQiKSxTT1VSQ0VfRTY6ZSgiRTYiKX19LGxpZ2h0Q29uZSh0KXtyZXR1cm57U09VUkNFX0xDOntpZDp0LGxhYmVsOmAke3R9X0xDYCxhYmlsaXR5OiJMQyIsYnVmZlR5cGU6IkxJR0hUQ09ORSJ9fX0sTk9ORTp7aWQ6Ik5PTkUiLGxhYmVsOiJOT05FIixidWZmVHlwZToiTk9ORSIsYWJpbGl0eToiTk9ORSJ9LC4uLnZvfSx4bz17dHlwZToibG9nZ2VyIixsb2codCl7dGhpcy5vdXRwdXQoImxvZyIsdCl9LHdhcm4odCl7dGhpcy5vdXRwdXQoIndhcm4iLHQpfSxlcnJvcih0KXt0aGlzLm91dHB1dCgiZXJyb3IiLHQpfSxvdXRwdXQodCxlKXtjb25zb2xlJiZjb25zb2xlW3RdJiZjb25zb2xlW3RdLmFwcGx5KGNvbnNvbGUsZSl9fTtjbGFzcyBzZXtjb25zdHJ1Y3RvcihlKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e307dGhpcy5pbml0KGUsbil9aW5pdChlKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e307dGhpcy5wcmVmaXg9bi5wcmVmaXh8fCJpMThuZXh0OiIsdGhpcy5sb2dnZXI9ZXx8eG8sdGhpcy5vcHRpb25zPW4sdGhpcy5kZWJ1Zz1uLmRlYnVnfWxvZygpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKW5baV09YXJndW1lbnRzW2ldO3JldHVybiB0aGlzLmZvcndhcmQobiwibG9nIiwiIiwhMCl9d2Fybigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKW5baV09YXJndW1lbnRzW2ldO3JldHVybiB0aGlzLmZvcndhcmQobiwid2FybiIsIiIsITApfWVycm9yKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspbltpXT1hcmd1bWVudHNbaV07cmV0dXJuIHRoaXMuZm9yd2FyZChuLCJlcnJvciIsIiIpfWRlcHJlY2F0ZSgpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKW5baV09YXJndW1lbnRzW2ldO3JldHVybiB0aGlzLmZvcndhcmQobiwid2FybiIsIldBUk5JTkcgREVQUkVDQVRFRDogIiwhMCl9Zm9yd2FyZChlLG4saSxvKXtyZXR1cm4gbyYmIXRoaXMuZGVidWc/bnVsbDoodHlwZW9mIGVbMF09PSJzdHJpbmciJiYoZVswXT1gJHtpfSR7dGhpcy5wcmVmaXh9ICR7ZVswXX1gKSx0aGlzLmxvZ2dlcltuXShlKSl9Y3JlYXRlKGUpe3JldHVybiBuZXcgc2UodGhpcy5sb2dnZXIse3ByZWZpeDpgJHt0aGlzLnByZWZpeH06JHtlfTpgLC4uLnRoaXMub3B0aW9uc30pfWNsb25lKGUpe3JldHVybiBlPWV8fHRoaXMub3B0aW9ucyxlLnByZWZpeD1lLnByZWZpeHx8dGhpcy5wcmVmaXgsbmV3IHNlKHRoaXMubG9nZ2VyLGUpfX12YXIgc3Q9bmV3IHNlO2NsYXNzIG1le2NvbnN0cnVjdG9yKCl7dGhpcy5vYnNlcnZlcnM9e319b24oZSxuKXtyZXR1cm4gZS5zcGxpdCgiICIpLmZvckVhY2goaT0+e3RoaXMub2JzZXJ2ZXJzW2ldfHwodGhpcy5vYnNlcnZlcnNbaV09bmV3IE1hcCk7Y29uc3Qgbz10aGlzLm9ic2VydmVyc1tpXS5nZXQobil8fDA7dGhpcy5vYnNlcnZlcnNbaV0uc2V0KG4sbysxKX0pLHRoaXN9b2ZmKGUsbil7aWYodGhpcy5vYnNlcnZlcnNbZV0pe2lmKCFuKXtkZWxldGUgdGhpcy5vYnNlcnZlcnNbZV07cmV0dXJufXRoaXMub2JzZXJ2ZXJzW2VdLmRlbGV0ZShuKX19ZW1pdChlKXtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShuPjE/bi0xOjApLG89MTtvPG47bysrKWlbby0xXT1hcmd1bWVudHNbb107dGhpcy5vYnNlcnZlcnNbZV0mJkFycmF5LmZyb20odGhpcy5vYnNlcnZlcnNbZV0uZW50cmllcygpKS5mb3JFYWNoKHI9PntsZXRbYyxsXT1yO2ZvcihsZXQgZj0wO2Y8bDtmKyspYyguLi5pKX0pLHRoaXMub2JzZXJ2ZXJzWyIqIl0mJkFycmF5LmZyb20odGhpcy5vYnNlcnZlcnNbIioiXS5lbnRyaWVzKCkpLmZvckVhY2gocj0+e2xldFtjLGxdPXI7Zm9yKGxldCBmPTA7ZjxsO2YrKyljLmFwcGx5KGMsW2UsLi4uaV0pfSl9fWNvbnN0IHh0PSgpPT57bGV0IHQsZTtjb25zdCBuPW5ldyBQcm9taXNlKChpLG8pPT57dD1pLGU9b30pO3JldHVybiBuLnJlc29sdmU9dCxuLnJlamVjdD1lLG59LGFuPXQ9PnQ9PW51bGw/IiI6IiIrdCxHbz0odCxlLG4pPT57dC5mb3JFYWNoKGk9PntlW2ldJiYobltpXT1lW2ldKX0pfSxrbz0vIyMjL2csc249dD0+dCYmdC5pbmRleE9mKCIjIyMiKT4tMT90LnJlcGxhY2Uoa28sIi4iKTp0LHJuPXQ9PiF0fHx0eXBlb2YgdD09InN0cmluZyIsa3Q9KHQsZSxuKT0+e2NvbnN0IGk9dHlwZW9mIGUhPSJzdHJpbmciP2U6ZS5zcGxpdCgiLiIpO2xldCBvPTA7Zm9yKDtvPGkubGVuZ3RoLTE7KXtpZihybih0KSlyZXR1cm57fTtjb25zdCBhPXNuKGlbb10pOyF0W2FdJiZuJiYodFthXT1uZXcgbiksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsYSk/dD10W2FdOnQ9e30sKytvfXJldHVybiBybih0KT97fTp7b2JqOnQsazpzbihpW29dKX19LGxuPSh0LGUsbik9Pntjb25zdHtvYmo6aSxrOm99PWt0KHQsZSxPYmplY3QpO2lmKGkhPT12b2lkIDB8fGUubGVuZ3RoPT09MSl7aVtvXT1uO3JldHVybn1sZXQgYT1lW2UubGVuZ3RoLTFdLHI9ZS5zbGljZSgwLGUubGVuZ3RoLTEpLGM9a3QodCxyLE9iamVjdCk7Zm9yKDtjLm9iaj09PXZvaWQgMCYmci5sZW5ndGg7KWE9YCR7cltyLmxlbmd0aC0xXX0uJHthfWAscj1yLnNsaWNlKDAsci5sZW5ndGgtMSksYz1rdCh0LHIsT2JqZWN0KSxjJiZjLm9iaiYmdHlwZW9mIGMub2JqW2Ake2Mua30uJHthfWBdPCJ1IiYmKGMub2JqPXZvaWQgMCk7Yy5vYmpbYCR7Yy5rfS4ke2F9YF09bn0sRm89KHQsZSxuLGkpPT57Y29uc3R7b2JqOm8sazphfT1rdCh0LGUsT2JqZWN0KTtvW2FdPW9bYV18fFtdLG9bYV0ucHVzaChuKX0scmU9KHQsZSk9Pntjb25zdHtvYmo6bixrOml9PWt0KHQsZSk7aWYobilyZXR1cm4gbltpXX0sTm89KHQsZSxuKT0+e2NvbnN0IGk9cmUodCxuKTtyZXR1cm4gaSE9PXZvaWQgMD9pOnJlKGUsbil9LFZuPSh0LGUsbik9Pntmb3IoY29uc3QgaSBpbiBlKWkhPT0iX19wcm90b19fIiYmaSE9PSJjb25zdHJ1Y3RvciImJihpIGluIHQ/dHlwZW9mIHRbaV09PSJzdHJpbmcifHx0W2ldaW5zdGFuY2VvZiBTdHJpbmd8fHR5cGVvZiBlW2ldPT0ic3RyaW5nInx8ZVtpXWluc3RhbmNlb2YgU3RyaW5nP24mJih0W2ldPWVbaV0pOlZuKHRbaV0sZVtpXSxuKTp0W2ldPWVbaV0pO3JldHVybiB0fSxCdD10PT50LnJlcGxhY2UoL1tcLVxbXF1cL1x7XH1cKFwpXCpcK1w/XC5cXFxeXCRcfF0vZywiXFwkJiIpO3ZhciBVbz17IiYiOiImYW1wOyIsIjwiOiImbHQ7IiwiPiI6IiZndDsiLCciJzoiJnF1b3Q7IiwiJyI6IiYjMzk7IiwiLyI6IiYjeDJGOyJ9O2NvbnN0IHdvPXQ9PnR5cGVvZiB0PT0ic3RyaW5nIj90LnJlcGxhY2UoL1smPD4iJ1wvXS9nLGU9PlVvW2VdKTp0O2NsYXNzIEhve2NvbnN0cnVjdG9yKGUpe3RoaXMuY2FwYWNpdHk9ZSx0aGlzLnJlZ0V4cE1hcD1uZXcgTWFwLHRoaXMucmVnRXhwUXVldWU9W119Z2V0UmVnRXhwKGUpe2NvbnN0IG49dGhpcy5yZWdFeHBNYXAuZ2V0KGUpO2lmKG4hPT12b2lkIDApcmV0dXJuIG47Y29uc3QgaT1uZXcgUmVnRXhwKGUpO3JldHVybiB0aGlzLnJlZ0V4cFF1ZXVlLmxlbmd0aD09PXRoaXMuY2FwYWNpdHkmJnRoaXMucmVnRXhwTWFwLmRlbGV0ZSh0aGlzLnJlZ0V4cFF1ZXVlLnNoaWZ0KCkpLHRoaXMucmVnRXhwTWFwLnNldChlLGkpLHRoaXMucmVnRXhwUXVldWUucHVzaChlKSxpfX1jb25zdCBLbz1bIiAiLCIsIiwiPyIsIiEiLCI7Il0sVm89bmV3IEhvKDIwKSxqbz0odCxlLG4pPT57ZT1lfHwiIixuPW58fCIiO2NvbnN0IGk9S28uZmlsdGVyKHI9PmUuaW5kZXhPZihyKTwwJiZuLmluZGV4T2Yocik8MCk7aWYoaS5sZW5ndGg9PT0wKXJldHVybiEwO2NvbnN0IG89Vm8uZ2V0UmVnRXhwKGAoJHtpLm1hcChyPT5yPT09Ij8iPyJcXD8iOnIpLmpvaW4oInwiKX0pYCk7bGV0IGE9IW8udGVzdCh0KTtpZighYSl7Y29uc3Qgcj10LmluZGV4T2Yobik7cj4wJiYhby50ZXN0KHQuc3Vic3RyaW5nKDAscikpJiYoYT0hMCl9cmV0dXJuIGF9LHhlPWZ1bmN0aW9uKHQsZSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDA/YXJndW1lbnRzWzJdOiIuIjtpZighdClyZXR1cm47aWYodFtlXSlyZXR1cm4gdFtlXTtjb25zdCBpPWUuc3BsaXQobik7bGV0IG89dDtmb3IobGV0IGE9MDthPGkubGVuZ3RoOyl7aWYoIW98fHR5cGVvZiBvIT0ib2JqZWN0IilyZXR1cm47bGV0IHIsYz0iIjtmb3IobGV0IGw9YTtsPGkubGVuZ3RoOysrbClpZihsIT09YSYmKGMrPW4pLGMrPWlbbF0scj1vW2NdLHIhPT12b2lkIDApe2lmKFsic3RyaW5nIiwibnVtYmVyIiwiYm9vbGVhbiJdLmluZGV4T2YodHlwZW9mIHIpPi0xJiZsPGkubGVuZ3RoLTEpY29udGludWU7YSs9bC1hKzE7YnJlYWt9bz1yfXJldHVybiBvfSxsZT10PT50JiZ0LmluZGV4T2YoIl8iKT4wP3QucmVwbGFjZSgiXyIsIi0iKTp0O2NsYXNzIGNuIGV4dGVuZHMgbWV7Y29uc3RydWN0b3IoZSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOntuczpbInRyYW5zbGF0aW9uIl0sZGVmYXVsdE5TOiJ0cmFuc2xhdGlvbiJ9O3N1cGVyKCksdGhpcy5kYXRhPWV8fHt9LHRoaXMub3B0aW9ucz1uLHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I9PT12b2lkIDAmJih0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yPSIuIiksdGhpcy5vcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmU9PT12b2lkIDAmJih0aGlzLm9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZT0hMCl9YWRkTmFtZXNwYWNlcyhlKXt0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihlKTwwJiZ0aGlzLm9wdGlvbnMubnMucHVzaChlKX1yZW1vdmVOYW1lc3BhY2VzKGUpe2NvbnN0IG49dGhpcy5vcHRpb25zLm5zLmluZGV4T2YoZSk7bj4tMSYmdGhpcy5vcHRpb25zLm5zLnNwbGljZShuLDEpfWdldFJlc291cmNlKGUsbixpKXtsZXQgbz1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMD9hcmd1bWVudHNbM106e307Y29uc3QgYT1vLmtleVNlcGFyYXRvciE9PXZvaWQgMD9vLmtleVNlcGFyYXRvcjp0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yLHI9by5pZ25vcmVKU09OU3RydWN0dXJlIT09dm9pZCAwP28uaWdub3JlSlNPTlN0cnVjdHVyZTp0aGlzLm9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZTtsZXQgYztlLmluZGV4T2YoIi4iKT4tMT9jPWUuc3BsaXQoIi4iKTooYz1bZSxuXSxpJiYoQXJyYXkuaXNBcnJheShpKT9jLnB1c2goLi4uaSk6dHlwZW9mIGk9PSJzdHJpbmciJiZhP2MucHVzaCguLi5pLnNwbGl0KGEpKTpjLnB1c2goaSkpKTtjb25zdCBsPXJlKHRoaXMuZGF0YSxjKTtyZXR1cm4hbCYmIW4mJiFpJiZlLmluZGV4T2YoIi4iKT4tMSYmKGU9Y1swXSxuPWNbMV0saT1jLnNsaWNlKDIpLmpvaW4oIi4iKSksbHx8IXJ8fHR5cGVvZiBpIT0ic3RyaW5nIj9sOnhlKHRoaXMuZGF0YSYmdGhpcy5kYXRhW2VdJiZ0aGlzLmRhdGFbZV1bbl0saSxhKX1hZGRSZXNvdXJjZShlLG4saSxvKXtsZXQgYT1hcmd1bWVudHMubGVuZ3RoPjQmJmFyZ3VtZW50c1s0XSE9PXZvaWQgMD9hcmd1bWVudHNbNF06e3NpbGVudDohMX07Y29uc3Qgcj1hLmtleVNlcGFyYXRvciE9PXZvaWQgMD9hLmtleVNlcGFyYXRvcjp0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO2xldCBjPVtlLG5dO2kmJihjPWMuY29uY2F0KHI/aS5zcGxpdChyKTppKSksZS5pbmRleE9mKCIuIik+LTEmJihjPWUuc3BsaXQoIi4iKSxvPW4sbj1jWzFdKSx0aGlzLmFkZE5hbWVzcGFjZXMobiksbG4odGhpcy5kYXRhLGMsbyksYS5zaWxlbnR8fHRoaXMuZW1pdCgiYWRkZWQiLGUsbixpLG8pfWFkZFJlc291cmNlcyhlLG4saSl7bGV0IG89YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT12b2lkIDA/YXJndW1lbnRzWzNdOntzaWxlbnQ6ITF9O2Zvcihjb25zdCBhIGluIGkpKHR5cGVvZiBpW2FdPT0ic3RyaW5nInx8QXJyYXkuaXNBcnJheShpW2FdKSkmJnRoaXMuYWRkUmVzb3VyY2UoZSxuLGEsaVthXSx7c2lsZW50OiEwfSk7by5zaWxlbnR8fHRoaXMuZW1pdCgiYWRkZWQiLGUsbixpKX1hZGRSZXNvdXJjZUJ1bmRsZShlLG4saSxvLGEpe2xldCByPWFyZ3VtZW50cy5sZW5ndGg+NSYmYXJndW1lbnRzWzVdIT09dm9pZCAwP2FyZ3VtZW50c1s1XTp7c2lsZW50OiExLHNraXBDb3B5OiExfSxjPVtlLG5dO2UuaW5kZXhPZigiLiIpPi0xJiYoYz1lLnNwbGl0KCIuIiksbz1pLGk9bixuPWNbMV0pLHRoaXMuYWRkTmFtZXNwYWNlcyhuKTtsZXQgbD1yZSh0aGlzLmRhdGEsYyl8fHt9O3Iuc2tpcENvcHl8fChpPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaSkpKSxvP1ZuKGwsaSxhKTpsPXsuLi5sLC4uLml9LGxuKHRoaXMuZGF0YSxjLGwpLHIuc2lsZW50fHx0aGlzLmVtaXQoImFkZGVkIixlLG4saSl9cmVtb3ZlUmVzb3VyY2VCdW5kbGUoZSxuKXt0aGlzLmhhc1Jlc291cmNlQnVuZGxlKGUsbikmJmRlbGV0ZSB0aGlzLmRhdGFbZV1bbl0sdGhpcy5yZW1vdmVOYW1lc3BhY2VzKG4pLHRoaXMuZW1pdCgicmVtb3ZlZCIsZSxuKX1oYXNSZXNvdXJjZUJ1bmRsZShlLG4pe3JldHVybiB0aGlzLmdldFJlc291cmNlKGUsbikhPT12b2lkIDB9Z2V0UmVzb3VyY2VCdW5kbGUoZSxuKXtyZXR1cm4gbnx8KG49dGhpcy5vcHRpb25zLmRlZmF1bHROUyksdGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlBUEk9PT0idjEiP3suLi50aGlzLmdldFJlc291cmNlKGUsbil9OnRoaXMuZ2V0UmVzb3VyY2UoZSxuKX1nZXREYXRhQnlMYW5ndWFnZShlKXtyZXR1cm4gdGhpcy5kYXRhW2VdfWhhc0xhbmd1YWdlU29tZVRyYW5zbGF0aW9ucyhlKXtjb25zdCBuPXRoaXMuZ2V0RGF0YUJ5TGFuZ3VhZ2UoZSk7cmV0dXJuISEobiYmT2JqZWN0LmtleXMobil8fFtdKS5maW5kKG89Pm5bb10mJk9iamVjdC5rZXlzKG5bb10pLmxlbmd0aD4wKX10b0pTT04oKXtyZXR1cm4gdGhpcy5kYXRhfX12YXIgam49e3Byb2Nlc3NvcnM6e30sYWRkUG9zdFByb2Nlc3Nvcih0KXt0aGlzLnByb2Nlc3NvcnNbdC5uYW1lXT10fSxoYW5kbGUodCxlLG4saSxvKXtyZXR1cm4gdC5mb3JFYWNoKGE9Pnt0aGlzLnByb2Nlc3NvcnNbYV0mJihlPXRoaXMucHJvY2Vzc29yc1thXS5wcm9jZXNzKGUsbixpLG8pKX0pLGV9fTtjb25zdCB1bj17fTtjbGFzcyBjZSBleHRlbmRzIG1le2NvbnN0cnVjdG9yKGUpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTtzdXBlcigpLEdvKFsicmVzb3VyY2VTdG9yZSIsImxhbmd1YWdlVXRpbHMiLCJwbHVyYWxSZXNvbHZlciIsImludGVycG9sYXRvciIsImJhY2tlbmRDb25uZWN0b3IiLCJpMThuRm9ybWF0IiwidXRpbHMiXSxlLHRoaXMpLHRoaXMub3B0aW9ucz1uLHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I9PT12b2lkIDAmJih0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yPSIuIiksdGhpcy5sb2dnZXI9c3QuY3JlYXRlKCJ0cmFuc2xhdG9yIil9Y2hhbmdlTGFuZ3VhZ2UoZSl7ZSYmKHRoaXMubGFuZ3VhZ2U9ZSl9ZXhpc3RzKGUpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7aW50ZXJwb2xhdGlvbjp7fX07aWYoZT09bnVsbClyZXR1cm4hMTtjb25zdCBpPXRoaXMucmVzb2x2ZShlLG4pO3JldHVybiBpJiZpLnJlcyE9PXZvaWQgMH1leHRyYWN0RnJvbUtleShlLG4pe2xldCBpPW4ubnNTZXBhcmF0b3IhPT12b2lkIDA/bi5uc1NlcGFyYXRvcjp0aGlzLm9wdGlvbnMubnNTZXBhcmF0b3I7aT09PXZvaWQgMCYmKGk9IjoiKTtjb25zdCBvPW4ua2V5U2VwYXJhdG9yIT09dm9pZCAwP24ua2V5U2VwYXJhdG9yOnRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I7bGV0IGE9bi5uc3x8dGhpcy5vcHRpb25zLmRlZmF1bHROU3x8W107Y29uc3Qgcj1pJiZlLmluZGV4T2YoaSk+LTEsYz0hdGhpcy5vcHRpb25zLnVzZXJEZWZpbmVkS2V5U2VwYXJhdG9yJiYhbi5rZXlTZXBhcmF0b3ImJiF0aGlzLm9wdGlvbnMudXNlckRlZmluZWROc1NlcGFyYXRvciYmIW4ubnNTZXBhcmF0b3ImJiFqbyhlLGksbyk7aWYociYmIWMpe2NvbnN0IGw9ZS5tYXRjaCh0aGlzLmludGVycG9sYXRvci5uZXN0aW5nUmVnZXhwKTtpZihsJiZsLmxlbmd0aD4wKXJldHVybntrZXk6ZSxuYW1lc3BhY2VzOmF9O2NvbnN0IGY9ZS5zcGxpdChpKTsoaSE9PW98fGk9PT1vJiZ0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihmWzBdKT4tMSkmJihhPWYuc2hpZnQoKSksZT1mLmpvaW4obyl9cmV0dXJuIHR5cGVvZiBhPT0ic3RyaW5nIiYmKGE9W2FdKSx7a2V5OmUsbmFtZXNwYWNlczphfX10cmFuc2xhdGUoZSxuLGkpe2lmKHR5cGVvZiBuIT0ib2JqZWN0IiYmdGhpcy5vcHRpb25zLm92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyJiYobj10aGlzLm9wdGlvbnMub3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXIoYXJndW1lbnRzKSksdHlwZW9mIG49PSJvYmplY3QiJiYobj17Li4ubn0pLG58fChuPXt9KSxlPT1udWxsKXJldHVybiIiO0FycmF5LmlzQXJyYXkoZSl8fChlPVtTdHJpbmcoZSldKTtjb25zdCBvPW4ucmV0dXJuRGV0YWlscyE9PXZvaWQgMD9uLnJldHVybkRldGFpbHM6dGhpcy5vcHRpb25zLnJldHVybkRldGFpbHMsYT1uLmtleVNlcGFyYXRvciE9PXZvaWQgMD9uLmtleVNlcGFyYXRvcjp0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yLHtrZXk6cixuYW1lc3BhY2VzOmN9PXRoaXMuZXh0cmFjdEZyb21LZXkoZVtlLmxlbmd0aC0xXSxuKSxsPWNbYy5sZW5ndGgtMV0sZj1uLmxuZ3x8dGhpcy5sYW5ndWFnZSx1PW4uYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGV8fHRoaXMub3B0aW9ucy5hcHBlbmROYW1lc3BhY2VUb0NJTW9kZTtpZihmJiZmLnRvTG93ZXJDYXNlKCk9PT0iY2ltb2RlIil7aWYodSl7Y29uc3QgQj1uLm5zU2VwYXJhdG9yfHx0aGlzLm9wdGlvbnMubnNTZXBhcmF0b3I7cmV0dXJuIG8/e3JlczpgJHtsfSR7Qn0ke3J9YCx1c2VkS2V5OnIsZXhhY3RVc2VkS2V5OnIsdXNlZExuZzpmLHVzZWROUzpsLHVzZWRQYXJhbXM6dGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhuKX06YCR7bH0ke0J9JHtyfWB9cmV0dXJuIG8/e3JlczpyLHVzZWRLZXk6cixleGFjdFVzZWRLZXk6cix1c2VkTG5nOmYsdXNlZE5TOmwsdXNlZFBhcmFtczp0aGlzLmdldFVzZWRQYXJhbXNEZXRhaWxzKG4pfTpyfWNvbnN0IGQ9dGhpcy5yZXNvbHZlKGUsbik7bGV0IG09ZCYmZC5yZXM7Y29uc3QgRT1kJiZkLnVzZWRLZXl8fHIsQz1kJiZkLmV4YWN0VXNlZEtleXx8cixEPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkobSksUz1bIltvYmplY3QgTnVtYmVyXSIsIltvYmplY3QgRnVuY3Rpb25dIiwiW29iamVjdCBSZWdFeHBdIl0sST1uLmpvaW5BcnJheXMhPT12b2lkIDA/bi5qb2luQXJyYXlzOnRoaXMub3B0aW9ucy5qb2luQXJyYXlzLHk9IXRoaXMuaTE4bkZvcm1hdHx8dGhpcy5pMThuRm9ybWF0LmhhbmRsZUFzT2JqZWN0O2lmKHkmJm0mJih0eXBlb2YgbSE9InN0cmluZyImJnR5cGVvZiBtIT0iYm9vbGVhbiImJnR5cGVvZiBtIT0ibnVtYmVyIikmJlMuaW5kZXhPZihEKTwwJiYhKHR5cGVvZiBJPT0ic3RyaW5nIiYmQXJyYXkuaXNBcnJheShtKSkpe2lmKCFuLnJldHVybk9iamVjdHMmJiF0aGlzLm9wdGlvbnMucmV0dXJuT2JqZWN0cyl7dGhpcy5vcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlcnx8dGhpcy5sb2dnZXIud2FybigiYWNjZXNzaW5nIGFuIG9iamVjdCAtIGJ1dCByZXR1cm5PYmplY3RzIG9wdGlvbnMgaXMgbm90IGVuYWJsZWQhIik7Y29uc3QgQj10aGlzLm9wdGlvbnMucmV0dXJuZWRPYmplY3RIYW5kbGVyP3RoaXMub3B0aW9ucy5yZXR1cm5lZE9iamVjdEhhbmRsZXIoRSxtLHsuLi5uLG5zOmN9KTpga2V5ICcke3J9ICgke3RoaXMubGFuZ3VhZ2V9KScgcmV0dXJuZWQgYW4gb2JqZWN0IGluc3RlYWQgb2Ygc3RyaW5nLmA7cmV0dXJuIG8/KGQucmVzPUIsZC51c2VkUGFyYW1zPXRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHMobiksZCk6Qn1pZihhKXtjb25zdCBCPUFycmF5LmlzQXJyYXkobSksTz1CP1tdOnt9LE49Qj9DOkU7Zm9yKGNvbnN0IFIgaW4gbSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobSxSKSl7Y29uc3QgTD1gJHtOfSR7YX0ke1J9YDtPW1JdPXRoaXMudHJhbnNsYXRlKEwsey4uLm4sam9pbkFycmF5czohMSxuczpjfSksT1tSXT09PUwmJihPW1JdPW1bUl0pfW09T319ZWxzZSBpZih5JiZ0eXBlb2YgST09InN0cmluZyImJkFycmF5LmlzQXJyYXkobSkpbT1tLmpvaW4oSSksbSYmKG09dGhpcy5leHRlbmRUcmFuc2xhdGlvbihtLGUsbixpKSk7ZWxzZXtsZXQgQj0hMSxPPSExO2NvbnN0IE49bi5jb3VudCE9PXZvaWQgMCYmdHlwZW9mIG4uY291bnQhPSJzdHJpbmciLFI9Y2UuaGFzRGVmYXVsdFZhbHVlKG4pLEw9Tj90aGlzLnBsdXJhbFJlc29sdmVyLmdldFN1ZmZpeChmLG4uY291bnQsbik6IiIsU3Q9bi5vcmRpbmFsJiZOP3RoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4KGYsbi5jb3VudCx7b3JkaW5hbDohMX0pOiIiLGN0PU4mJiFuLm9yZGluYWwmJm4uY291bnQ9PT0wJiZ0aGlzLnBsdXJhbFJlc29sdmVyLnNob3VsZFVzZUludGxBcGkoKSxrPWN0JiZuW2BkZWZhdWx0VmFsdWUke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2BdfHxuW2BkZWZhdWx0VmFsdWUke0x9YF18fG5bYGRlZmF1bHRWYWx1ZSR7U3R9YF18fG4uZGVmYXVsdFZhbHVlOyF0aGlzLmlzVmFsaWRMb29rdXAobSkmJlImJihCPSEwLG09ayksdGhpcy5pc1ZhbGlkTG9va3VwKG0pfHwoTz0hMCxtPXIpO2NvbnN0IHV0PShuLm1pc3NpbmdLZXlOb1ZhbHVlRmFsbGJhY2tUb0tleXx8dGhpcy5vcHRpb25zLm1pc3NpbmdLZXlOb1ZhbHVlRmFsbGJhY2tUb0tleSkmJk8/dm9pZCAwOm0sWD1SJiZrIT09bSYmdGhpcy5vcHRpb25zLnVwZGF0ZU1pc3Npbmc7aWYoT3x8Qnx8WCl7aWYodGhpcy5sb2dnZXIubG9nKFg/InVwZGF0ZUtleSI6Im1pc3NpbmdLZXkiLGYsbCxyLFg/azptKSxhKXtjb25zdCBIPXRoaXMucmVzb2x2ZShyLHsuLi5uLGtleVNlcGFyYXRvcjohMX0pO0gmJkgucmVzJiZ0aGlzLmxvZ2dlci53YXJuKCJTZWVtcyB0aGUgbG9hZGVkIHRyYW5zbGF0aW9ucyB3ZXJlIGluIGZsYXQgSlNPTiBmb3JtYXQgaW5zdGVhZCBvZiBuZXN0ZWQuIEVpdGhlciBzZXQga2V5U2VwYXJhdG9yOiBmYWxzZSBvbiBpbml0IG9yIG1ha2Ugc3VyZSB5b3VyIHRyYW5zbGF0aW9ucyBhcmUgcHVibGlzaGVkIGluIG5lc3RlZCBmb3JtYXQuIil9bGV0IHE9W107Y29uc3QgaXQ9dGhpcy5sYW5ndWFnZVV0aWxzLmdldEZhbGxiYWNrQ29kZXModGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nLG4ubG5nfHx0aGlzLmxhbmd1YWdlKTtpZih0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmdUbz09PSJmYWxsYmFjayImJml0JiZpdFswXSlmb3IobGV0IEg9MDtIPGl0Lmxlbmd0aDtIKyspcS5wdXNoKGl0W0hdKTtlbHNlIHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1RvPT09ImFsbCI/cT10aGlzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KG4ubG5nfHx0aGlzLmxhbmd1YWdlKTpxLnB1c2gobi5sbmd8fHRoaXMubGFuZ3VhZ2UpO2NvbnN0IHJ0PShILFAseCk9Pntjb25zdCBLPVImJnghPT1tP3g6dXQ7dGhpcy5vcHRpb25zLm1pc3NpbmdLZXlIYW5kbGVyP3RoaXMub3B0aW9ucy5taXNzaW5nS2V5SGFuZGxlcihILGwsUCxLLFgsbik6dGhpcy5iYWNrZW5kQ29ubmVjdG9yJiZ0aGlzLmJhY2tlbmRDb25uZWN0b3Iuc2F2ZU1pc3NpbmcmJnRoaXMuYmFja2VuZENvbm5lY3Rvci5zYXZlTWlzc2luZyhILGwsUCxLLFgsbiksdGhpcy5lbWl0KCJtaXNzaW5nS2V5IixILGwsUCxtKX07dGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nJiYodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nUGx1cmFscyYmTj9xLmZvckVhY2goSD0+e2NvbnN0IFA9dGhpcy5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXhlcyhILG4pO2N0JiZuW2BkZWZhdWx0VmFsdWUke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2BdJiZQLmluZGV4T2YoYCR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn16ZXJvYCk8MCYmUC5wdXNoKGAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2ApLFAuZm9yRWFjaCh4PT57cnQoW0hdLHIreCxuW2BkZWZhdWx0VmFsdWUke3h9YF18fGspfSl9KTpydChxLHIsaykpfW09dGhpcy5leHRlbmRUcmFuc2xhdGlvbihtLGUsbixkLGkpLE8mJm09PT1yJiZ0aGlzLm9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9NaXNzaW5nS2V5JiYobT1gJHtsfToke3J9YCksKE98fEIpJiZ0aGlzLm9wdGlvbnMucGFyc2VNaXNzaW5nS2V5SGFuZGxlciYmKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJIT09InYxIj9tPXRoaXMub3B0aW9ucy5wYXJzZU1pc3NpbmdLZXlIYW5kbGVyKHRoaXMub3B0aW9ucy5hcHBlbmROYW1lc3BhY2VUb01pc3NpbmdLZXk/YCR7bH06JHtyfWA6cixCP206dm9pZCAwKTptPXRoaXMub3B0aW9ucy5wYXJzZU1pc3NpbmdLZXlIYW5kbGVyKG0pKX1yZXR1cm4gbz8oZC5yZXM9bSxkLnVzZWRQYXJhbXM9dGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhuKSxkKTptfWV4dGVuZFRyYW5zbGF0aW9uKGUsbixpLG8sYSl7dmFyIHI9dGhpcztpZih0aGlzLmkxOG5Gb3JtYXQmJnRoaXMuaTE4bkZvcm1hdC5wYXJzZSllPXRoaXMuaTE4bkZvcm1hdC5wYXJzZShlLHsuLi50aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzLC4uLml9LGkubG5nfHx0aGlzLmxhbmd1YWdlfHxvLnVzZWRMbmcsby51c2VkTlMsby51c2VkS2V5LHtyZXNvbHZlZDpvfSk7ZWxzZSBpZighaS5za2lwSW50ZXJwb2xhdGlvbil7aS5pbnRlcnBvbGF0aW9uJiZ0aGlzLmludGVycG9sYXRvci5pbml0KHsuLi5pLGludGVycG9sYXRpb246ey4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLC4uLmkuaW50ZXJwb2xhdGlvbn19KTtjb25zdCBmPXR5cGVvZiBlPT0ic3RyaW5nIiYmKGkmJmkuaW50ZXJwb2xhdGlvbiYmaS5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyE9PXZvaWQgMD9pLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzOnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyk7bGV0IHU7aWYoZil7Y29uc3QgbT1lLm1hdGNoKHRoaXMuaW50ZXJwb2xhdG9yLm5lc3RpbmdSZWdleHApO3U9bSYmbS5sZW5ndGh9bGV0IGQ9aS5yZXBsYWNlJiZ0eXBlb2YgaS5yZXBsYWNlIT0ic3RyaW5nIj9pLnJlcGxhY2U6aTtpZih0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzJiYoZD17Li4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcywuLi5kfSksZT10aGlzLmludGVycG9sYXRvci5pbnRlcnBvbGF0ZShlLGQsaS5sbmd8fHRoaXMubGFuZ3VhZ2V8fG8udXNlZExuZyxpKSxmKXtjb25zdCBtPWUubWF0Y2godGhpcy5pbnRlcnBvbGF0b3IubmVzdGluZ1JlZ2V4cCksRT1tJiZtLmxlbmd0aDt1PEUmJihpLm5lc3Q9ITEpfSFpLmxuZyYmdGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlBUEkhPT0idjEiJiZvJiZvLnJlcyYmKGkubG5nPXRoaXMubGFuZ3VhZ2V8fG8udXNlZExuZyksaS5uZXN0IT09ITEmJihlPXRoaXMuaW50ZXJwb2xhdG9yLm5lc3QoZSxmdW5jdGlvbigpe2Zvcih2YXIgbT1hcmd1bWVudHMubGVuZ3RoLEU9bmV3IEFycmF5KG0pLEM9MDtDPG07QysrKUVbQ109YXJndW1lbnRzW0NdO3JldHVybiBhJiZhWzBdPT09RVswXSYmIWkuY29udGV4dD8oci5sb2dnZXIud2FybihgSXQgc2VlbXMgeW91IGFyZSBuZXN0aW5nIHJlY3Vyc2l2ZWx5IGtleTogJHtFWzBdfSBpbiBrZXk6ICR7blswXX1gKSxudWxsKTpyLnRyYW5zbGF0ZSguLi5FLG4pfSxpKSksaS5pbnRlcnBvbGF0aW9uJiZ0aGlzLmludGVycG9sYXRvci5yZXNldCgpfWNvbnN0IGM9aS5wb3N0UHJvY2Vzc3x8dGhpcy5vcHRpb25zLnBvc3RQcm9jZXNzLGw9dHlwZW9mIGM9PSJzdHJpbmciP1tjXTpjO3JldHVybiBlIT1udWxsJiZsJiZsLmxlbmd0aCYmaS5hcHBseVBvc3RQcm9jZXNzb3IhPT0hMSYmKGU9am4uaGFuZGxlKGwsZSxuLHRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zLnBvc3RQcm9jZXNzUGFzc1Jlc29sdmVkP3tpMThuUmVzb2x2ZWQ6ey4uLm8sdXNlZFBhcmFtczp0aGlzLmdldFVzZWRQYXJhbXNEZXRhaWxzKGkpfSwuLi5pfTppLHRoaXMpKSxlfXJlc29sdmUoZSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9LGksbyxhLHIsYztyZXR1cm4gdHlwZW9mIGU9PSJzdHJpbmciJiYoZT1bZV0pLGUuZm9yRWFjaChsPT57aWYodGhpcy5pc1ZhbGlkTG9va3VwKGkpKXJldHVybjtjb25zdCBmPXRoaXMuZXh0cmFjdEZyb21LZXkobCxuKSx1PWYua2V5O289dTtsZXQgZD1mLm5hbWVzcGFjZXM7dGhpcy5vcHRpb25zLmZhbGxiYWNrTlMmJihkPWQuY29uY2F0KHRoaXMub3B0aW9ucy5mYWxsYmFja05TKSk7Y29uc3QgbT1uLmNvdW50IT09dm9pZCAwJiZ0eXBlb2Ygbi5jb3VudCE9InN0cmluZyIsRT1tJiYhbi5vcmRpbmFsJiZuLmNvdW50PT09MCYmdGhpcy5wbHVyYWxSZXNvbHZlci5zaG91bGRVc2VJbnRsQXBpKCksQz1uLmNvbnRleHQhPT12b2lkIDAmJih0eXBlb2Ygbi5jb250ZXh0PT0ic3RyaW5nInx8dHlwZW9mIG4uY29udGV4dD09Im51bWJlciIpJiZuLmNvbnRleHQhPT0iIixEPW4ubG5ncz9uLmxuZ3M6dGhpcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShuLmxuZ3x8dGhpcy5sYW5ndWFnZSxuLmZhbGxiYWNrTG5nKTtkLmZvckVhY2goUz0+e3RoaXMuaXNWYWxpZExvb2t1cChpKXx8KGM9UywhdW5bYCR7RFswXX0tJHtTfWBdJiZ0aGlzLnV0aWxzJiZ0aGlzLnV0aWxzLmhhc0xvYWRlZE5hbWVzcGFjZSYmIXRoaXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlKGMpJiYodW5bYCR7RFswXX0tJHtTfWBdPSEwLHRoaXMubG9nZ2VyLndhcm4oYGtleSAiJHtvfSIgZm9yIGxhbmd1YWdlcyAiJHtELmpvaW4oIiwgIil9IiB3b24ndCBnZXQgcmVzb2x2ZWQgYXMgbmFtZXNwYWNlICIke2N9IiB3YXMgbm90IHlldCBsb2FkZWRgLCJUaGlzIG1lYW5zIHNvbWV0aGluZyBJUyBXUk9ORyBpbiB5b3VyIHNldHVwLiBZb3UgYWNjZXNzIHRoZSB0IGZ1bmN0aW9uIGJlZm9yZSBpMThuZXh0LmluaXQgLyBpMThuZXh0LmxvYWROYW1lc3BhY2UgLyBpMThuZXh0LmNoYW5nZUxhbmd1YWdlIHdhcyBkb25lLiBXYWl0IGZvciB0aGUgY2FsbGJhY2sgb3IgUHJvbWlzZSB0byByZXNvbHZlIGJlZm9yZSBhY2Nlc3NpbmcgaXQhISEiKSksRC5mb3JFYWNoKEk9PntpZih0aGlzLmlzVmFsaWRMb29rdXAoaSkpcmV0dXJuO3I9STtjb25zdCB5PVt1XTtpZih0aGlzLmkxOG5Gb3JtYXQmJnRoaXMuaTE4bkZvcm1hdC5hZGRMb29rdXBLZXlzKXRoaXMuaTE4bkZvcm1hdC5hZGRMb29rdXBLZXlzKHksdSxJLFMsbik7ZWxzZXtsZXQgQjttJiYoQj10aGlzLnBsdXJhbFJlc29sdmVyLmdldFN1ZmZpeChJLG4uY291bnQsbikpO2NvbnN0IE89YCR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn16ZXJvYCxOPWAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9b3JkaW5hbCR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn1gO2lmKG0mJih5LnB1c2godStCKSxuLm9yZGluYWwmJkIuaW5kZXhPZihOKT09PTAmJnkucHVzaCh1K0IucmVwbGFjZShOLHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IpKSxFJiZ5LnB1c2godStPKSksQyl7Y29uc3QgUj1gJHt1fSR7dGhpcy5vcHRpb25zLmNvbnRleHRTZXBhcmF0b3J9JHtuLmNvbnRleHR9YDt5LnB1c2goUiksbSYmKHkucHVzaChSK0IpLG4ub3JkaW5hbCYmQi5pbmRleE9mKE4pPT09MCYmeS5wdXNoKFIrQi5yZXBsYWNlKE4sdGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcikpLEUmJnkucHVzaChSK08pKX19bGV0IHY7Zm9yKDt2PXkucG9wKCk7KXRoaXMuaXNWYWxpZExvb2t1cChpKXx8KGE9dixpPXRoaXMuZ2V0UmVzb3VyY2UoSSxTLHYsbikpfSkpfSl9KSx7cmVzOmksdXNlZEtleTpvLGV4YWN0VXNlZEtleTphLHVzZWRMbmc6cix1c2VkTlM6Y319aXNWYWxpZExvb2t1cChlKXtyZXR1cm4gZSE9PXZvaWQgMCYmISghdGhpcy5vcHRpb25zLnJldHVybk51bGwmJmU9PT1udWxsKSYmISghdGhpcy5vcHRpb25zLnJldHVybkVtcHR5U3RyaW5nJiZlPT09IiIpfWdldFJlc291cmNlKGUsbixpKXtsZXQgbz1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMD9hcmd1bWVudHNbM106e307cmV0dXJuIHRoaXMuaTE4bkZvcm1hdCYmdGhpcy5pMThuRm9ybWF0LmdldFJlc291cmNlP3RoaXMuaTE4bkZvcm1hdC5nZXRSZXNvdXJjZShlLG4saSxvKTp0aGlzLnJlc291cmNlU3RvcmUuZ2V0UmVzb3VyY2UoZSxuLGksbyl9Z2V0VXNlZFBhcmFtc0RldGFpbHMoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e307Y29uc3Qgbj1bImRlZmF1bHRWYWx1ZSIsIm9yZGluYWwiLCJjb250ZXh0IiwicmVwbGFjZSIsImxuZyIsImxuZ3MiLCJmYWxsYmFja0xuZyIsIm5zIiwia2V5U2VwYXJhdG9yIiwibnNTZXBhcmF0b3IiLCJyZXR1cm5PYmplY3RzIiwicmV0dXJuRGV0YWlscyIsImpvaW5BcnJheXMiLCJwb3N0UHJvY2VzcyIsImludGVycG9sYXRpb24iXSxpPWUucmVwbGFjZSYmdHlwZW9mIGUucmVwbGFjZSE9InN0cmluZyI7bGV0IG89aT9lLnJlcGxhY2U6ZTtpZihpJiZ0eXBlb2YgZS5jb3VudDwidSImJihvLmNvdW50PWUuY291bnQpLHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMmJihvPXsuLi50aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzLC4uLm99KSwhaSl7bz17Li4ub307Zm9yKGNvbnN0IGEgb2YgbilkZWxldGUgb1thXX1yZXR1cm4gb31zdGF0aWMgaGFzRGVmYXVsdFZhbHVlKGUpe2NvbnN0IG49ImRlZmF1bHRWYWx1ZSI7Zm9yKGNvbnN0IGkgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSYmbj09PWkuc3Vic3RyaW5nKDAsbi5sZW5ndGgpJiZlW2ldIT09dm9pZCAwKXJldHVybiEwO3JldHVybiExfX1jb25zdCBEZT10PT50LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7Y2xhc3MgZm57Y29uc3RydWN0b3IoZSl7dGhpcy5vcHRpb25zPWUsdGhpcy5zdXBwb3J0ZWRMbmdzPXRoaXMub3B0aW9ucy5zdXBwb3J0ZWRMbmdzfHwhMSx0aGlzLmxvZ2dlcj1zdC5jcmVhdGUoImxhbmd1YWdlVXRpbHMiKX1nZXRTY3JpcHRQYXJ0RnJvbUNvZGUoZSl7aWYoZT1sZShlKSwhZXx8ZS5pbmRleE9mKCItIik8MClyZXR1cm4gbnVsbDtjb25zdCBuPWUuc3BsaXQoIi0iKTtyZXR1cm4gbi5sZW5ndGg9PT0yfHwobi5wb3AoKSxuW24ubGVuZ3RoLTFdLnRvTG93ZXJDYXNlKCk9PT0ieCIpP251bGw6dGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUobi5qb2luKCItIikpfWdldExhbmd1YWdlUGFydEZyb21Db2RlKGUpe2lmKGU9bGUoZSksIWV8fGUuaW5kZXhPZigiLSIpPDApcmV0dXJuIGU7Y29uc3Qgbj1lLnNwbGl0KCItIik7cmV0dXJuIHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKG5bMF0pfWZvcm1hdExhbmd1YWdlQ29kZShlKXtpZih0eXBlb2YgZT09InN0cmluZyImJmUuaW5kZXhPZigiLSIpPi0xKXtjb25zdCBuPVsiaGFucyIsImhhbnQiLCJsYXRuIiwiY3lybCIsImNhbnMiLCJtb25nIiwiYXJhYiJdO2xldCBpPWUuc3BsaXQoIi0iKTtyZXR1cm4gdGhpcy5vcHRpb25zLmxvd2VyQ2FzZUxuZz9pPWkubWFwKG89Pm8udG9Mb3dlckNhc2UoKSk6aS5sZW5ndGg9PT0yPyhpWzBdPWlbMF0udG9Mb3dlckNhc2UoKSxpWzFdPWlbMV0udG9VcHBlckNhc2UoKSxuLmluZGV4T2YoaVsxXS50b0xvd2VyQ2FzZSgpKT4tMSYmKGlbMV09RGUoaVsxXS50b0xvd2VyQ2FzZSgpKSkpOmkubGVuZ3RoPT09MyYmKGlbMF09aVswXS50b0xvd2VyQ2FzZSgpLGlbMV0ubGVuZ3RoPT09MiYmKGlbMV09aVsxXS50b1VwcGVyQ2FzZSgpKSxpWzBdIT09InNnbiImJmlbMl0ubGVuZ3RoPT09MiYmKGlbMl09aVsyXS50b1VwcGVyQ2FzZSgpKSxuLmluZGV4T2YoaVsxXS50b0xvd2VyQ2FzZSgpKT4tMSYmKGlbMV09RGUoaVsxXS50b0xvd2VyQ2FzZSgpKSksbi5pbmRleE9mKGlbMl0udG9Mb3dlckNhc2UoKSk+LTEmJihpWzJdPURlKGlbMl0udG9Mb3dlckNhc2UoKSkpKSxpLmpvaW4oIi0iKX1yZXR1cm4gdGhpcy5vcHRpb25zLmNsZWFuQ29kZXx8dGhpcy5vcHRpb25zLmxvd2VyQ2FzZUxuZz9lLnRvTG93ZXJDYXNlKCk6ZX1pc1N1cHBvcnRlZENvZGUoZSl7cmV0dXJuKHRoaXMub3B0aW9ucy5sb2FkPT09Imxhbmd1YWdlT25seSJ8fHRoaXMub3B0aW9ucy5ub25FeHBsaWNpdFN1cHBvcnRlZExuZ3MpJiYoZT10aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGUpKSwhdGhpcy5zdXBwb3J0ZWRMbmdzfHwhdGhpcy5zdXBwb3J0ZWRMbmdzLmxlbmd0aHx8dGhpcy5zdXBwb3J0ZWRMbmdzLmluZGV4T2YoZSk+LTF9Z2V0QmVzdE1hdGNoRnJvbUNvZGVzKGUpe2lmKCFlKXJldHVybiBudWxsO2xldCBuO3JldHVybiBlLmZvckVhY2goaT0+e2lmKG4pcmV0dXJuO2NvbnN0IG89dGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoaSk7KCF0aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5nc3x8dGhpcy5pc1N1cHBvcnRlZENvZGUobykpJiYobj1vKX0pLCFuJiZ0aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5ncyYmZS5mb3JFYWNoKGk9PntpZihuKXJldHVybjtjb25zdCBvPXRoaXMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoaSk7aWYodGhpcy5pc1N1cHBvcnRlZENvZGUobykpcmV0dXJuIG49bztuPXRoaXMub3B0aW9ucy5zdXBwb3J0ZWRMbmdzLmZpbmQoYT0+e2lmKGE9PT1vKXJldHVybiBhO2lmKCEoYS5pbmRleE9mKCItIik8MCYmby5pbmRleE9mKCItIik8MCkmJihhLmluZGV4T2YoIi0iKT4wJiZvLmluZGV4T2YoIi0iKTwwJiZhLnN1YnN0cmluZygwLGEuaW5kZXhPZigiLSIpKT09PW98fGEuaW5kZXhPZihvKT09PTAmJm8ubGVuZ3RoPjEpKXJldHVybiBhfSl9KSxufHwobj10aGlzLmdldEZhbGxiYWNrQ29kZXModGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nKVswXSksbn1nZXRGYWxsYmFja0NvZGVzKGUsbil7aWYoIWUpcmV0dXJuW107aWYodHlwZW9mIGU9PSJmdW5jdGlvbiImJihlPWUobikpLHR5cGVvZiBlPT0ic3RyaW5nIiYmKGU9W2VdKSxBcnJheS5pc0FycmF5KGUpKXJldHVybiBlO2lmKCFuKXJldHVybiBlLmRlZmF1bHR8fFtdO2xldCBpPWVbbl07cmV0dXJuIGl8fChpPWVbdGhpcy5nZXRTY3JpcHRQYXJ0RnJvbUNvZGUobildKSxpfHwoaT1lW3RoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKG4pXSksaXx8KGk9ZVt0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKG4pXSksaXx8KGk9ZS5kZWZhdWx0KSxpfHxbXX10b1Jlc29sdmVIaWVyYXJjaHkoZSxuKXtjb25zdCBpPXRoaXMuZ2V0RmFsbGJhY2tDb2RlcyhufHx0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmd8fFtdLGUpLG89W10sYT1yPT57ciYmKHRoaXMuaXNTdXBwb3J0ZWRDb2RlKHIpP28ucHVzaChyKTp0aGlzLmxvZ2dlci53YXJuKGByZWplY3RpbmcgbGFuZ3VhZ2UgY29kZSBub3QgZm91bmQgaW4gc3VwcG9ydGVkTG5nczogJHtyfWApKX07cmV0dXJuIHR5cGVvZiBlPT0ic3RyaW5nIiYmKGUuaW5kZXhPZigiLSIpPi0xfHxlLmluZGV4T2YoIl8iKT4tMSk/KHRoaXMub3B0aW9ucy5sb2FkIT09Imxhbmd1YWdlT25seSImJmEodGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoZSkpLHRoaXMub3B0aW9ucy5sb2FkIT09Imxhbmd1YWdlT25seSImJnRoaXMub3B0aW9ucy5sb2FkIT09ImN1cnJlbnRPbmx5IiYmYSh0aGlzLmdldFNjcmlwdFBhcnRGcm9tQ29kZShlKSksdGhpcy5vcHRpb25zLmxvYWQhPT0iY3VycmVudE9ubHkiJiZhKHRoaXMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoZSkpKTp0eXBlb2YgZT09InN0cmluZyImJmEodGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoZSkpLGkuZm9yRWFjaChyPT57by5pbmRleE9mKHIpPDAmJmEodGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUocikpfSksb319bGV0IHpvPVt7bG5nczpbImFjaCIsImFrIiwiYW0iLCJhcm4iLCJiciIsImZpbCIsImd1biIsImxuIiwibWZlIiwibWciLCJtaSIsIm9jIiwicHQiLCJwdC1CUiIsInRnIiwidGwiLCJ0aSIsInRyIiwidXoiLCJ3YSJdLG5yOlsxLDJdLGZjOjF9LHtsbmdzOlsiYWYiLCJhbiIsImFzdCIsImF6IiwiYmciLCJibiIsImNhIiwiZGEiLCJkZSIsImRldiIsImVsIiwiZW4iLCJlbyIsImVzIiwiZXQiLCJldSIsImZpIiwiZm8iLCJmdXIiLCJmeSIsImdsIiwiZ3UiLCJoYSIsImhpIiwiaHUiLCJoeSIsImlhIiwiaXQiLCJrayIsImtuIiwia3UiLCJsYiIsIm1haSIsIm1sIiwibW4iLCJtciIsIm5haCIsIm5hcCIsIm5iIiwibmUiLCJubCIsIm5uIiwibm8iLCJuc28iLCJwYSIsInBhcCIsInBtcyIsInBzIiwicHQtUFQiLCJybSIsInNjbyIsInNlIiwic2kiLCJzbyIsInNvbiIsInNxIiwic3YiLCJzdyIsInRhIiwidGUiLCJ0ayIsInVyIiwieW8iXSxucjpbMSwyXSxmYzoyfSx7bG5nczpbImF5IiwiYm8iLCJjZ2ciLCJmYSIsImh0IiwiaWQiLCJqYSIsImpibyIsImthIiwia20iLCJrbyIsImt5IiwibG8iLCJtcyIsInNhaCIsInN1IiwidGgiLCJ0dCIsInVnIiwidmkiLCJ3byIsInpoIl0sbnI6WzFdLGZjOjN9LHtsbmdzOlsiYmUiLCJicyIsImNuciIsImR6IiwiaHIiLCJydSIsInNyIiwidWsiXSxucjpbMSwyLDVdLGZjOjR9LHtsbmdzOlsiYXIiXSxucjpbMCwxLDIsMywxMSwxMDBdLGZjOjV9LHtsbmdzOlsiY3MiLCJzayJdLG5yOlsxLDIsNV0sZmM6Nn0se2xuZ3M6WyJjc2IiLCJwbCJdLG5yOlsxLDIsNV0sZmM6N30se2xuZ3M6WyJjeSJdLG5yOlsxLDIsMyw4XSxmYzo4fSx7bG5nczpbImZyIl0sbnI6WzEsMl0sZmM6OX0se2xuZ3M6WyJnYSJdLG5yOlsxLDIsMyw3LDExXSxmYzoxMH0se2xuZ3M6WyJnZCJdLG5yOlsxLDIsMywyMF0sZmM6MTF9LHtsbmdzOlsiaXMiXSxucjpbMSwyXSxmYzoxMn0se2xuZ3M6WyJqdiJdLG5yOlswLDFdLGZjOjEzfSx7bG5nczpbImt3Il0sbnI6WzEsMiwzLDRdLGZjOjE0fSx7bG5nczpbImx0Il0sbnI6WzEsMiwxMF0sZmM6MTV9LHtsbmdzOlsibHYiXSxucjpbMSwyLDBdLGZjOjE2fSx7bG5nczpbIm1rIl0sbnI6WzEsMl0sZmM6MTd9LHtsbmdzOlsibW5rIl0sbnI6WzAsMSwyXSxmYzoxOH0se2xuZ3M6WyJtdCJdLG5yOlsxLDIsMTEsMjBdLGZjOjE5fSx7bG5nczpbIm9yIl0sbnI6WzIsMV0sZmM6Mn0se2xuZ3M6WyJybyJdLG5yOlsxLDIsMjBdLGZjOjIwfSx7bG5nczpbInNsIl0sbnI6WzUsMSwyLDNdLGZjOjIxfSx7bG5nczpbImhlIiwiaXciXSxucjpbMSwyLDIwLDIxXSxmYzoyMn1dLCRvPXsxOnQ9PisodD4xKSwyOnQ9PisodCE9MSksMzp0PT4wLDQ6dD0+dCUxMD09MSYmdCUxMDAhPTExPzA6dCUxMD49MiYmdCUxMDw9NCYmKHQlMTAwPDEwfHx0JTEwMD49MjApPzE6Miw1OnQ9PnQ9PTA/MDp0PT0xPzE6dD09Mj8yOnQlMTAwPj0zJiZ0JTEwMDw9MTA/Mzp0JTEwMD49MTE/NDo1LDY6dD0+dD09MT8wOnQ+PTImJnQ8PTQ/MToyLDc6dD0+dD09MT8wOnQlMTA+PTImJnQlMTA8PTQmJih0JTEwMDwxMHx8dCUxMDA+PTIwKT8xOjIsODp0PT50PT0xPzA6dD09Mj8xOnQhPTgmJnQhPTExPzI6Myw5OnQ9PisodD49MiksMTA6dD0+dD09MT8wOnQ9PTI/MTp0PDc/Mjp0PDExPzM6NCwxMTp0PT50PT0xfHx0PT0xMT8wOnQ9PTJ8fHQ9PTEyPzE6dD4yJiZ0PDIwPzI6MywxMjp0PT4rKHQlMTAhPTF8fHQlMTAwPT0xMSksMTM6dD0+Kyh0IT09MCksMTQ6dD0+dD09MT8wOnQ9PTI/MTp0PT0zPzI6MywxNTp0PT50JTEwPT0xJiZ0JTEwMCE9MTE/MDp0JTEwPj0yJiYodCUxMDA8MTB8fHQlMTAwPj0yMCk/MToyLDE2OnQ9PnQlMTA9PTEmJnQlMTAwIT0xMT8wOnQhPT0wPzE6MiwxNzp0PT50PT0xfHx0JTEwPT0xJiZ0JTEwMCE9MTE/MDoxLDE4OnQ9PnQ9PTA/MDp0PT0xPzE6MiwxOTp0PT50PT0xPzA6dD09MHx8dCUxMDA+MSYmdCUxMDA8MTE/MTp0JTEwMD4xMCYmdCUxMDA8MjA/MjozLDIwOnQ9PnQ9PTE/MDp0PT0wfHx0JTEwMD4wJiZ0JTEwMDwyMD8xOjIsMjE6dD0+dCUxMDA9PTE/MTp0JTEwMD09Mj8yOnQlMTAwPT0zfHx0JTEwMD09ND8zOjAsMjI6dD0+dD09MT8wOnQ9PTI/MToodDwwfHx0PjEwKSYmdCUxMD09MD8yOjN9O2NvbnN0IFdvPVsidjEiLCJ2MiIsInYzIl0sWW89WyJ2NCJdLGRuPXt6ZXJvOjAsb25lOjEsdHdvOjIsZmV3OjMsbWFueTo0LG90aGVyOjV9LEpvPSgpPT57Y29uc3QgdD17fTtyZXR1cm4gem8uZm9yRWFjaChlPT57ZS5sbmdzLmZvckVhY2gobj0+e3Rbbl09e251bWJlcnM6ZS5ucixwbHVyYWxzOiRvW2UuZmNdfX0pfSksdH07Y2xhc3MgUW97Y29uc3RydWN0b3IoZSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9O3RoaXMubGFuZ3VhZ2VVdGlscz1lLHRoaXMub3B0aW9ucz1uLHRoaXMubG9nZ2VyPXN0LmNyZWF0ZSgicGx1cmFsUmVzb2x2ZXIiKSwoIXRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTnx8WW8uaW5jbHVkZXModGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OKSkmJih0eXBlb2YgSW50bD4idSJ8fCFJbnRsLlBsdXJhbFJ1bGVzKSYmKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTj0idjMiLHRoaXMubG9nZ2VyLmVycm9yKCJZb3VyIGVudmlyb25tZW50IHNlZW1zIG5vdCB0byBiZSBJbnRsIEFQSSBjb21wYXRpYmxlLCB1c2UgYW4gSW50bC5QbHVyYWxSdWxlcyBwb2x5ZmlsbC4gV2lsbCBmYWxsYmFjayB0byB0aGUgY29tcGF0aWJpbGl0eUpTT04gdjMgZm9ybWF0IGhhbmRsaW5nLiIpKSx0aGlzLnJ1bGVzPUpvKCksdGhpcy5wbHVyYWxSdWxlc0NhY2hlPXt9fWFkZFJ1bGUoZSxuKXt0aGlzLnJ1bGVzW2VdPW59Y2xlYXJDYWNoZSgpe3RoaXMucGx1cmFsUnVsZXNDYWNoZT17fX1nZXRSdWxlKGUpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTtpZih0aGlzLnNob3VsZFVzZUludGxBcGkoKSl0cnl7Y29uc3QgaT1sZShlPT09ImRldiI/ImVuIjplKSxvPW4ub3JkaW5hbD8ib3JkaW5hbCI6ImNhcmRpbmFsIixhPUpTT04uc3RyaW5naWZ5KHtjbGVhbmVkQ29kZTppLHR5cGU6b30pO2lmKGEgaW4gdGhpcy5wbHVyYWxSdWxlc0NhY2hlKXJldHVybiB0aGlzLnBsdXJhbFJ1bGVzQ2FjaGVbYV07Y29uc3Qgcj1uZXcgSW50bC5QbHVyYWxSdWxlcyhpLHt0eXBlOm99KTtyZXR1cm4gdGhpcy5wbHVyYWxSdWxlc0NhY2hlW2FdPXIscn1jYXRjaHtyZXR1cm59cmV0dXJuIHRoaXMucnVsZXNbZV18fHRoaXMucnVsZXNbdGhpcy5sYW5ndWFnZVV0aWxzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGUpXX1uZWVkc1BsdXJhbChlKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e307Y29uc3QgaT10aGlzLmdldFJ1bGUoZSxuKTtyZXR1cm4gdGhpcy5zaG91bGRVc2VJbnRsQXBpKCk/aSYmaS5yZXNvbHZlZE9wdGlvbnMoKS5wbHVyYWxDYXRlZ29yaWVzLmxlbmd0aD4xOmkmJmkubnVtYmVycy5sZW5ndGg+MX1nZXRQbHVyYWxGb3Jtc09mS2V5KGUsbil7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDA/YXJndW1lbnRzWzJdOnt9O3JldHVybiB0aGlzLmdldFN1ZmZpeGVzKGUsaSkubWFwKG89PmAke259JHtvfWApfWdldFN1ZmZpeGVzKGUpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTtjb25zdCBpPXRoaXMuZ2V0UnVsZShlLG4pO3JldHVybiBpP3RoaXMuc2hvdWxkVXNlSW50bEFwaSgpP2kucmVzb2x2ZWRPcHRpb25zKCkucGx1cmFsQ2F0ZWdvcmllcy5zb3J0KChvLGEpPT5kbltvXS1kblthXSkubWFwKG89PmAke3RoaXMub3B0aW9ucy5wcmVwZW5kfSR7bi5vcmRpbmFsP2BvcmRpbmFsJHt0aGlzLm9wdGlvbnMucHJlcGVuZH1gOiIifSR7b31gKTppLm51bWJlcnMubWFwKG89PnRoaXMuZ2V0U3VmZml4KGUsbyxuKSk6W119Z2V0U3VmZml4KGUsbil7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDA/YXJndW1lbnRzWzJdOnt9O2NvbnN0IG89dGhpcy5nZXRSdWxlKGUsaSk7cmV0dXJuIG8/dGhpcy5zaG91bGRVc2VJbnRsQXBpKCk/YCR7dGhpcy5vcHRpb25zLnByZXBlbmR9JHtpLm9yZGluYWw/YG9yZGluYWwke3RoaXMub3B0aW9ucy5wcmVwZW5kfWA6IiJ9JHtvLnNlbGVjdChuKX1gOnRoaXMuZ2V0U3VmZml4UmV0cm9Db21wYXRpYmxlKG8sbik6KHRoaXMubG9nZ2VyLndhcm4oYG5vIHBsdXJhbCBydWxlIGZvdW5kIGZvcjogJHtlfWApLCIiKX1nZXRTdWZmaXhSZXRyb0NvbXBhdGlibGUoZSxuKXtjb25zdCBpPWUubm9BYnM/ZS5wbHVyYWxzKG4pOmUucGx1cmFscyhNYXRoLmFicyhuKSk7bGV0IG89ZS5udW1iZXJzW2ldO3RoaXMub3B0aW9ucy5zaW1wbGlmeVBsdXJhbFN1ZmZpeCYmZS5udW1iZXJzLmxlbmd0aD09PTImJmUubnVtYmVyc1swXT09PTEmJihvPT09Mj9vPSJwbHVyYWwiOm89PT0xJiYobz0iIikpO2NvbnN0IGE9KCk9PnRoaXMub3B0aW9ucy5wcmVwZW5kJiZvLnRvU3RyaW5nKCk/dGhpcy5vcHRpb25zLnByZXBlbmQrby50b1N0cmluZygpOm8udG9TdHJpbmcoKTtyZXR1cm4gdGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OPT09InYxIj9vPT09MT8iIjp0eXBlb2Ygbz09Im51bWJlciI/YF9wbHVyYWxfJHtvLnRvU3RyaW5nKCl9YDphKCk6dGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OPT09InYyInx8dGhpcy5vcHRpb25zLnNpbXBsaWZ5UGx1cmFsU3VmZml4JiZlLm51bWJlcnMubGVuZ3RoPT09MiYmZS5udW1iZXJzWzBdPT09MT9hKCk6dGhpcy5vcHRpb25zLnByZXBlbmQmJmkudG9TdHJpbmcoKT90aGlzLm9wdGlvbnMucHJlcGVuZCtpLnRvU3RyaW5nKCk6aS50b1N0cmluZygpfXNob3VsZFVzZUludGxBcGkoKXtyZXR1cm4hV28uaW5jbHVkZXModGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OKX19Y29uc3QgbW49ZnVuY3Rpb24odCxlLG4pe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dm9pZCAwP2FyZ3VtZW50c1szXToiLiIsbz1hcmd1bWVudHMubGVuZ3RoPjQmJmFyZ3VtZW50c1s0XSE9PXZvaWQgMD9hcmd1bWVudHNbNF06ITAsYT1Obyh0LGUsbik7cmV0dXJuIWEmJm8mJnR5cGVvZiBuPT0ic3RyaW5nIiYmKGE9eGUodCxuLGkpLGE9PT12b2lkIDAmJihhPXhlKGUsbixpKSkpLGF9LFNlPXQ9PnQucmVwbGFjZSgvXCQvZywiJCQkJCIpO2NsYXNzIFpve2NvbnN0cnVjdG9yKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9O3RoaXMubG9nZ2VyPXN0LmNyZWF0ZSgiaW50ZXJwb2xhdG9yIiksdGhpcy5vcHRpb25zPWUsdGhpcy5mb3JtYXQ9ZS5pbnRlcnBvbGF0aW9uJiZlLmludGVycG9sYXRpb24uZm9ybWF0fHwobj0+biksdGhpcy5pbml0KGUpfWluaXQoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e307ZS5pbnRlcnBvbGF0aW9ufHwoZS5pbnRlcnBvbGF0aW9uPXtlc2NhcGVWYWx1ZTohMH0pO2NvbnN0e2VzY2FwZTpuLGVzY2FwZVZhbHVlOmksdXNlUmF3VmFsdWVUb0VzY2FwZTpvLHByZWZpeDphLHByZWZpeEVzY2FwZWQ6cixzdWZmaXg6YyxzdWZmaXhFc2NhcGVkOmwsZm9ybWF0U2VwYXJhdG9yOmYsdW5lc2NhcGVTdWZmaXg6dSx1bmVzY2FwZVByZWZpeDpkLG5lc3RpbmdQcmVmaXg6bSxuZXN0aW5nUHJlZml4RXNjYXBlZDpFLG5lc3RpbmdTdWZmaXg6QyxuZXN0aW5nU3VmZml4RXNjYXBlZDpELG5lc3RpbmdPcHRpb25zU2VwYXJhdG9yOlMsbWF4UmVwbGFjZXM6SSxhbHdheXNGb3JtYXQ6eX09ZS5pbnRlcnBvbGF0aW9uO3RoaXMuZXNjYXBlPW4hPT12b2lkIDA/bjp3byx0aGlzLmVzY2FwZVZhbHVlPWkhPT12b2lkIDA/aTohMCx0aGlzLnVzZVJhd1ZhbHVlVG9Fc2NhcGU9byE9PXZvaWQgMD9vOiExLHRoaXMucHJlZml4PWE/QnQoYSk6cnx8Int7Iix0aGlzLnN1ZmZpeD1jP0J0KGMpOmx8fCJ9fSIsdGhpcy5mb3JtYXRTZXBhcmF0b3I9Znx8IiwiLHRoaXMudW5lc2NhcGVQcmVmaXg9dT8iIjpkfHwiLSIsdGhpcy51bmVzY2FwZVN1ZmZpeD10aGlzLnVuZXNjYXBlUHJlZml4PyIiOnV8fCIiLHRoaXMubmVzdGluZ1ByZWZpeD1tP0J0KG0pOkV8fEJ0KCIkdCgiKSx0aGlzLm5lc3RpbmdTdWZmaXg9Qz9CdChDKTpEfHxCdCgiKSIpLHRoaXMubmVzdGluZ09wdGlvbnNTZXBhcmF0b3I9U3x8IiwiLHRoaXMubWF4UmVwbGFjZXM9SXx8MWUzLHRoaXMuYWx3YXlzRm9ybWF0PXkhPT12b2lkIDA/eTohMSx0aGlzLnJlc2V0UmVnRXhwKCl9cmVzZXQoKXt0aGlzLm9wdGlvbnMmJnRoaXMuaW5pdCh0aGlzLm9wdGlvbnMpfXJlc2V0UmVnRXhwKCl7Y29uc3QgZT0obixpKT0+biYmbi5zb3VyY2U9PT1pPyhuLmxhc3RJbmRleD0wLG4pOm5ldyBSZWdFeHAoaSwiZyIpO3RoaXMucmVnZXhwPWUodGhpcy5yZWdleHAsYCR7dGhpcy5wcmVmaXh9KC4rPykke3RoaXMuc3VmZml4fWApLHRoaXMucmVnZXhwVW5lc2NhcGU9ZSh0aGlzLnJlZ2V4cFVuZXNjYXBlLGAke3RoaXMucHJlZml4fSR7dGhpcy51bmVzY2FwZVByZWZpeH0oLis/KSR7dGhpcy51bmVzY2FwZVN1ZmZpeH0ke3RoaXMuc3VmZml4fWApLHRoaXMubmVzdGluZ1JlZ2V4cD1lKHRoaXMubmVzdGluZ1JlZ2V4cCxgJHt0aGlzLm5lc3RpbmdQcmVmaXh9KC4rPykke3RoaXMubmVzdGluZ1N1ZmZpeH1gKX1pbnRlcnBvbGF0ZShlLG4saSxvKXtsZXQgYSxyLGM7Y29uc3QgbD10aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uJiZ0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzfHx7fSxmPUU9PntpZihFLmluZGV4T2YodGhpcy5mb3JtYXRTZXBhcmF0b3IpPDApe2NvbnN0IEk9bW4obixsLEUsdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcix0aGlzLm9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZSk7cmV0dXJuIHRoaXMuYWx3YXlzRm9ybWF0P3RoaXMuZm9ybWF0KEksdm9pZCAwLGksey4uLm8sLi4ubixpbnRlcnBvbGF0aW9ua2V5OkV9KTpJfWNvbnN0IEM9RS5zcGxpdCh0aGlzLmZvcm1hdFNlcGFyYXRvciksRD1DLnNoaWZ0KCkudHJpbSgpLFM9Qy5qb2luKHRoaXMuZm9ybWF0U2VwYXJhdG9yKS50cmltKCk7cmV0dXJuIHRoaXMuZm9ybWF0KG1uKG4sbCxELHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IsdGhpcy5vcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmUpLFMsaSx7Li4ubywuLi5uLGludGVycG9sYXRpb25rZXk6RH0pfTt0aGlzLnJlc2V0UmVnRXhwKCk7Y29uc3QgdT1vJiZvLm1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcnx8dGhpcy5vcHRpb25zLm1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcixkPW8mJm8uaW50ZXJwb2xhdGlvbiYmby5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyE9PXZvaWQgMD9vLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzOnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcztyZXR1cm5be3JlZ2V4OnRoaXMucmVnZXhwVW5lc2NhcGUsc2FmZVZhbHVlOkU9PlNlKEUpfSx7cmVnZXg6dGhpcy5yZWdleHAsc2FmZVZhbHVlOkU9PnRoaXMuZXNjYXBlVmFsdWU/U2UodGhpcy5lc2NhcGUoRSkpOlNlKEUpfV0uZm9yRWFjaChFPT57Zm9yKGM9MDthPUUucmVnZXguZXhlYyhlKTspe2NvbnN0IEM9YVsxXS50cmltKCk7aWYocj1mKEMpLHI9PT12b2lkIDApaWYodHlwZW9mIHU9PSJmdW5jdGlvbiIpe2NvbnN0IFM9dShlLGEsbyk7cj10eXBlb2YgUz09InN0cmluZyI/UzoiIn1lbHNlIGlmKG8mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLEMpKXI9IiI7ZWxzZSBpZihkKXtyPWFbMF07Y29udGludWV9ZWxzZSB0aGlzLmxvZ2dlci53YXJuKGBtaXNzZWQgdG8gcGFzcyBpbiB2YXJpYWJsZSAke0N9IGZvciBpbnRlcnBvbGF0aW5nICR7ZX1gKSxyPSIiO2Vsc2UgdHlwZW9mIHIhPSJzdHJpbmciJiYhdGhpcy51c2VSYXdWYWx1ZVRvRXNjYXBlJiYocj1hbihyKSk7Y29uc3QgRD1FLnNhZmVWYWx1ZShyKTtpZihlPWUucmVwbGFjZShhWzBdLEQpLGQ/KEUucmVnZXgubGFzdEluZGV4Kz1yLmxlbmd0aCxFLnJlZ2V4Lmxhc3RJbmRleC09YVswXS5sZW5ndGgpOkUucmVnZXgubGFzdEluZGV4PTAsYysrLGM+PXRoaXMubWF4UmVwbGFjZXMpYnJlYWt9fSksZX1uZXN0KGUsbil7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDA/YXJndW1lbnRzWzJdOnt9LG8sYSxyO2NvbnN0IGM9KGwsZik9Pntjb25zdCB1PXRoaXMubmVzdGluZ09wdGlvbnNTZXBhcmF0b3I7aWYobC5pbmRleE9mKHUpPDApcmV0dXJuIGw7Y29uc3QgZD1sLnNwbGl0KG5ldyBSZWdFeHAoYCR7dX1bIF0qe2ApKTtsZXQgbT1geyR7ZFsxXX1gO2w9ZFswXSxtPXRoaXMuaW50ZXJwb2xhdGUobSxyKTtjb25zdCBFPW0ubWF0Y2goLycvZyksQz1tLm1hdGNoKC8iL2cpOyhFJiZFLmxlbmd0aCUyPT09MCYmIUN8fEMubGVuZ3RoJTIhPT0wKSYmKG09bS5yZXBsYWNlKC8nL2csJyInKSk7dHJ5e3I9SlNPTi5wYXJzZShtKSxmJiYocj17Li4uZiwuLi5yfSl9Y2F0Y2goRCl7cmV0dXJuIHRoaXMubG9nZ2VyLndhcm4oYGZhaWxlZCBwYXJzaW5nIG9wdGlvbnMgc3RyaW5nIGluIG5lc3RpbmcgZm9yIGtleSAke2x9YCxEKSxgJHtsfSR7dX0ke219YH1yZXR1cm4gci5kZWZhdWx0VmFsdWUmJnIuZGVmYXVsdFZhbHVlLmluZGV4T2YodGhpcy5wcmVmaXgpPi0xJiZkZWxldGUgci5kZWZhdWx0VmFsdWUsbH07Zm9yKDtvPXRoaXMubmVzdGluZ1JlZ2V4cC5leGVjKGUpOyl7bGV0IGw9W107cj17Li4uaX0scj1yLnJlcGxhY2UmJnR5cGVvZiByLnJlcGxhY2UhPSJzdHJpbmciP3IucmVwbGFjZTpyLHIuYXBwbHlQb3N0UHJvY2Vzc29yPSExLGRlbGV0ZSByLmRlZmF1bHRWYWx1ZTtsZXQgZj0hMTtpZihvWzBdLmluZGV4T2YodGhpcy5mb3JtYXRTZXBhcmF0b3IpIT09LTEmJiEvey4qfS8udGVzdChvWzFdKSl7Y29uc3QgdT1vWzFdLnNwbGl0KHRoaXMuZm9ybWF0U2VwYXJhdG9yKS5tYXAoZD0+ZC50cmltKCkpO29bMV09dS5zaGlmdCgpLGw9dSxmPSEwfWlmKGE9bihjLmNhbGwodGhpcyxvWzFdLnRyaW0oKSxyKSxyKSxhJiZvWzBdPT09ZSYmdHlwZW9mIGEhPSJzdHJpbmciKXJldHVybiBhO3R5cGVvZiBhIT0ic3RyaW5nIiYmKGE9YW4oYSkpLGF8fCh0aGlzLmxvZ2dlci53YXJuKGBtaXNzZWQgdG8gcmVzb2x2ZSAke29bMV19IGZvciBuZXN0aW5nICR7ZX1gKSxhPSIiKSxmJiYoYT1sLnJlZHVjZSgodSxkKT0+dGhpcy5mb3JtYXQodSxkLGkubG5nLHsuLi5pLGludGVycG9sYXRpb25rZXk6b1sxXS50cmltKCl9KSxhLnRyaW0oKSkpLGU9ZS5yZXBsYWNlKG9bMF0sYSksdGhpcy5yZWdleHAubGFzdEluZGV4PTB9cmV0dXJuIGV9fWNvbnN0IFhvPXQ9PntsZXQgZT10LnRvTG93ZXJDYXNlKCkudHJpbSgpO2NvbnN0IG49e307aWYodC5pbmRleE9mKCIoIik+LTEpe2NvbnN0IGk9dC5zcGxpdCgiKCIpO2U9aVswXS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtjb25zdCBvPWlbMV0uc3Vic3RyaW5nKDAsaVsxXS5sZW5ndGgtMSk7ZT09PSJjdXJyZW5jeSImJm8uaW5kZXhPZigiOiIpPDA/bi5jdXJyZW5jeXx8KG4uY3VycmVuY3k9by50cmltKCkpOmU9PT0icmVsYXRpdmV0aW1lIiYmby5pbmRleE9mKCI6Iik8MD9uLnJhbmdlfHwobi5yYW5nZT1vLnRyaW0oKSk6by5zcGxpdCgiOyIpLmZvckVhY2gocj0+e2lmKHIpe2NvbnN0W2MsLi4ubF09ci5zcGxpdCgiOiIpLGY9bC5qb2luKCI6IikudHJpbSgpLnJlcGxhY2UoL14nK3wnKyQvZywiIiksdT1jLnRyaW0oKTtuW3VdfHwoblt1XT1mKSxmPT09ImZhbHNlIiYmKG5bdV09ITEpLGY9PT0idHJ1ZSImJihuW3VdPSEwKSxpc05hTihmKXx8KG5bdV09cGFyc2VJbnQoZiwxMCkpfX0pfXJldHVybntmb3JtYXROYW1lOmUsZm9ybWF0T3B0aW9uczpufX0sYnQ9dD0+e2NvbnN0IGU9e307cmV0dXJuKG4saSxvKT0+e2xldCBhPW87byYmby5pbnRlcnBvbGF0aW9ua2V5JiZvLmZvcm1hdFBhcmFtcyYmby5mb3JtYXRQYXJhbXNbby5pbnRlcnBvbGF0aW9ua2V5XSYmb1tvLmludGVycG9sYXRpb25rZXldJiYoYT17Li4uYSxbby5pbnRlcnBvbGF0aW9ua2V5XTp2b2lkIDB9KTtjb25zdCByPWkrSlNPTi5zdHJpbmdpZnkoYSk7bGV0IGM9ZVtyXTtyZXR1cm4gY3x8KGM9dChsZShpKSxvKSxlW3JdPWMpLGMobil9fTtjbGFzcyBxb3tjb25zdHJ1Y3Rvcigpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7fTt0aGlzLmxvZ2dlcj1zdC5jcmVhdGUoImZvcm1hdHRlciIpLHRoaXMub3B0aW9ucz1lLHRoaXMuZm9ybWF0cz17bnVtYmVyOmJ0KChuLGkpPT57Y29uc3Qgbz1uZXcgSW50bC5OdW1iZXJGb3JtYXQobix7Li4uaX0pO3JldHVybiBhPT5vLmZvcm1hdChhKX0pLGN1cnJlbmN5OmJ0KChuLGkpPT57Y29uc3Qgbz1uZXcgSW50bC5OdW1iZXJGb3JtYXQobix7Li4uaSxzdHlsZToiY3VycmVuY3kifSk7cmV0dXJuIGE9Pm8uZm9ybWF0KGEpfSksZGF0ZXRpbWU6YnQoKG4saSk9Pntjb25zdCBvPW5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KG4sey4uLml9KTtyZXR1cm4gYT0+by5mb3JtYXQoYSl9KSxyZWxhdGl2ZXRpbWU6YnQoKG4saSk9Pntjb25zdCBvPW5ldyBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdChuLHsuLi5pfSk7cmV0dXJuIGE9Pm8uZm9ybWF0KGEsaS5yYW5nZXx8ImRheSIpfSksbGlzdDpidCgobixpKT0+e2NvbnN0IG89bmV3IEludGwuTGlzdEZvcm1hdChuLHsuLi5pfSk7cmV0dXJuIGE9Pm8uZm9ybWF0KGEpfSl9LHRoaXMuaW5pdChlKX1pbml0KGUpe2NvbnN0IGk9KGFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7aW50ZXJwb2xhdGlvbjp7fX0pLmludGVycG9sYXRpb247dGhpcy5mb3JtYXRTZXBhcmF0b3I9aS5mb3JtYXRTZXBhcmF0b3I/aS5mb3JtYXRTZXBhcmF0b3I6aS5mb3JtYXRTZXBhcmF0b3J8fCIsIn1hZGQoZSxuKXt0aGlzLmZvcm1hdHNbZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV09bn1hZGRDYWNoZWQoZSxuKXt0aGlzLmZvcm1hdHNbZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV09YnQobil9Zm9ybWF0KGUsbixpKXtsZXQgbz1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMD9hcmd1bWVudHNbM106e307Y29uc3QgYT1uLnNwbGl0KHRoaXMuZm9ybWF0U2VwYXJhdG9yKTtpZihhLmxlbmd0aD4xJiZhWzBdLmluZGV4T2YoIigiKT4xJiZhWzBdLmluZGV4T2YoIikiKTwwJiZhLmZpbmQoYz0+Yy5pbmRleE9mKCIpIik+LTEpKXtjb25zdCBjPWEuZmluZEluZGV4KGw9PmwuaW5kZXhPZigiKSIpPi0xKTthWzBdPVthWzBdLC4uLmEuc3BsaWNlKDEsYyldLmpvaW4odGhpcy5mb3JtYXRTZXBhcmF0b3IpfXJldHVybiBhLnJlZHVjZSgoYyxsKT0+e2NvbnN0e2Zvcm1hdE5hbWU6Zixmb3JtYXRPcHRpb25zOnV9PVhvKGwpO2lmKHRoaXMuZm9ybWF0c1tmXSl7bGV0IGQ9Yzt0cnl7Y29uc3QgbT1vJiZvLmZvcm1hdFBhcmFtcyYmby5mb3JtYXRQYXJhbXNbby5pbnRlcnBvbGF0aW9ua2V5XXx8e30sRT1tLmxvY2FsZXx8bS5sbmd8fG8ubG9jYWxlfHxvLmxuZ3x8aTtkPXRoaXMuZm9ybWF0c1tmXShjLEUsey4uLnUsLi4ubywuLi5tfSl9Y2F0Y2gobSl7dGhpcy5sb2dnZXIud2FybihtKX1yZXR1cm4gZH1lbHNlIHRoaXMubG9nZ2VyLndhcm4oYHRoZXJlIHdhcyBubyBmb3JtYXQgZnVuY3Rpb24gZm9yICR7Zn1gKTtyZXR1cm4gY30sZSl9fWNvbnN0IHRpPSh0LGUpPT57dC5wZW5kaW5nW2VdIT09dm9pZCAwJiYoZGVsZXRlIHQucGVuZGluZ1tlXSx0LnBlbmRpbmdDb3VudC0tKX07Y2xhc3MgZWkgZXh0ZW5kcyBtZXtjb25zdHJ1Y3RvcihlLG4saSl7bGV0IG89YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT12b2lkIDA/YXJndW1lbnRzWzNdOnt9O3N1cGVyKCksdGhpcy5iYWNrZW5kPWUsdGhpcy5zdG9yZT1uLHRoaXMuc2VydmljZXM9aSx0aGlzLmxhbmd1YWdlVXRpbHM9aS5sYW5ndWFnZVV0aWxzLHRoaXMub3B0aW9ucz1vLHRoaXMubG9nZ2VyPXN0LmNyZWF0ZSgiYmFja2VuZENvbm5lY3RvciIpLHRoaXMud2FpdGluZ1JlYWRzPVtdLHRoaXMubWF4UGFyYWxsZWxSZWFkcz1vLm1heFBhcmFsbGVsUmVhZHN8fDEwLHRoaXMucmVhZGluZ0NhbGxzPTAsdGhpcy5tYXhSZXRyaWVzPW8ubWF4UmV0cmllcz49MD9vLm1heFJldHJpZXM6NSx0aGlzLnJldHJ5VGltZW91dD1vLnJldHJ5VGltZW91dD49MT9vLnJldHJ5VGltZW91dDozNTAsdGhpcy5zdGF0ZT17fSx0aGlzLnF1ZXVlPVtdLHRoaXMuYmFja2VuZCYmdGhpcy5iYWNrZW5kLmluaXQmJnRoaXMuYmFja2VuZC5pbml0KGksby5iYWNrZW5kLG8pfXF1ZXVlTG9hZChlLG4saSxvKXtjb25zdCBhPXt9LHI9e30sYz17fSxsPXt9O3JldHVybiBlLmZvckVhY2goZj0+e2xldCB1PSEwO24uZm9yRWFjaChkPT57Y29uc3QgbT1gJHtmfXwke2R9YDshaS5yZWxvYWQmJnRoaXMuc3RvcmUuaGFzUmVzb3VyY2VCdW5kbGUoZixkKT90aGlzLnN0YXRlW21dPTI6dGhpcy5zdGF0ZVttXTwwfHwodGhpcy5zdGF0ZVttXT09PTE/clttXT09PXZvaWQgMCYmKHJbbV09ITApOih0aGlzLnN0YXRlW21dPTEsdT0hMSxyW21dPT09dm9pZCAwJiYoclttXT0hMCksYVttXT09PXZvaWQgMCYmKGFbbV09ITApLGxbZF09PT12b2lkIDAmJihsW2RdPSEwKSkpfSksdXx8KGNbZl09ITApfSksKE9iamVjdC5rZXlzKGEpLmxlbmd0aHx8T2JqZWN0LmtleXMocikubGVuZ3RoKSYmdGhpcy5xdWV1ZS5wdXNoKHtwZW5kaW5nOnIscGVuZGluZ0NvdW50Ok9iamVjdC5rZXlzKHIpLmxlbmd0aCxsb2FkZWQ6e30sZXJyb3JzOltdLGNhbGxiYWNrOm99KSx7dG9Mb2FkOk9iamVjdC5rZXlzKGEpLHBlbmRpbmc6T2JqZWN0LmtleXMociksdG9Mb2FkTGFuZ3VhZ2VzOk9iamVjdC5rZXlzKGMpLHRvTG9hZE5hbWVzcGFjZXM6T2JqZWN0LmtleXMobCl9fWxvYWRlZChlLG4saSl7Y29uc3Qgbz1lLnNwbGl0KCJ8IiksYT1vWzBdLHI9b1sxXTtuJiZ0aGlzLmVtaXQoImZhaWxlZExvYWRpbmciLGEscixuKSwhbiYmaSYmdGhpcy5zdG9yZS5hZGRSZXNvdXJjZUJ1bmRsZShhLHIsaSx2b2lkIDAsdm9pZCAwLHtza2lwQ29weTohMH0pLHRoaXMuc3RhdGVbZV09bj8tMToyLG4mJmkmJih0aGlzLnN0YXRlW2VdPTApO2NvbnN0IGM9e307dGhpcy5xdWV1ZS5mb3JFYWNoKGw9PntGbyhsLmxvYWRlZCxbYV0sciksdGkobCxlKSxuJiZsLmVycm9ycy5wdXNoKG4pLGwucGVuZGluZ0NvdW50PT09MCYmIWwuZG9uZSYmKE9iamVjdC5rZXlzKGwubG9hZGVkKS5mb3JFYWNoKGY9PntjW2ZdfHwoY1tmXT17fSk7Y29uc3QgdT1sLmxvYWRlZFtmXTt1Lmxlbmd0aCYmdS5mb3JFYWNoKGQ9PntjW2ZdW2RdPT09dm9pZCAwJiYoY1tmXVtkXT0hMCl9KX0pLGwuZG9uZT0hMCxsLmVycm9ycy5sZW5ndGg/bC5jYWxsYmFjayhsLmVycm9ycyk6bC5jYWxsYmFjaygpKX0pLHRoaXMuZW1pdCgibG9hZGVkIixjKSx0aGlzLnF1ZXVlPXRoaXMucXVldWUuZmlsdGVyKGw9PiFsLmRvbmUpfXJlYWQoZSxuLGkpe2xldCBvPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dm9pZCAwP2FyZ3VtZW50c1szXTowLGE9YXJndW1lbnRzLmxlbmd0aD40JiZhcmd1bWVudHNbNF0hPT12b2lkIDA/YXJndW1lbnRzWzRdOnRoaXMucmV0cnlUaW1lb3V0LHI9YXJndW1lbnRzLmxlbmd0aD41P2FyZ3VtZW50c1s1XTp2b2lkIDA7aWYoIWUubGVuZ3RoKXJldHVybiByKG51bGwse30pO2lmKHRoaXMucmVhZGluZ0NhbGxzPj10aGlzLm1heFBhcmFsbGVsUmVhZHMpe3RoaXMud2FpdGluZ1JlYWRzLnB1c2goe2xuZzplLG5zOm4sZmNOYW1lOmksdHJpZWQ6byx3YWl0OmEsY2FsbGJhY2s6cn0pO3JldHVybn10aGlzLnJlYWRpbmdDYWxscysrO2NvbnN0IGM9KGYsdSk9PntpZih0aGlzLnJlYWRpbmdDYWxscy0tLHRoaXMud2FpdGluZ1JlYWRzLmxlbmd0aD4wKXtjb25zdCBkPXRoaXMud2FpdGluZ1JlYWRzLnNoaWZ0KCk7dGhpcy5yZWFkKGQubG5nLGQubnMsZC5mY05hbWUsZC50cmllZCxkLndhaXQsZC5jYWxsYmFjayl9aWYoZiYmdSYmbzx0aGlzLm1heFJldHJpZXMpe3NldFRpbWVvdXQoKCk9Pnt0aGlzLnJlYWQuY2FsbCh0aGlzLGUsbixpLG8rMSxhKjIscil9LGEpO3JldHVybn1yKGYsdSl9LGw9dGhpcy5iYWNrZW5kW2ldLmJpbmQodGhpcy5iYWNrZW5kKTtpZihsLmxlbmd0aD09PTIpe3RyeXtjb25zdCBmPWwoZSxuKTtmJiZ0eXBlb2YgZi50aGVuPT0iZnVuY3Rpb24iP2YudGhlbih1PT5jKG51bGwsdSkpLmNhdGNoKGMpOmMobnVsbCxmKX1jYXRjaChmKXtjKGYpfXJldHVybn1yZXR1cm4gbChlLG4sYyl9cHJlcGFyZUxvYWRpbmcoZSxuKXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMD9hcmd1bWVudHNbMl06e30sbz1hcmd1bWVudHMubGVuZ3RoPjM/YXJndW1lbnRzWzNdOnZvaWQgMDtpZighdGhpcy5iYWNrZW5kKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKCJObyBiYWNrZW5kIHdhcyBhZGRlZCB2aWEgaTE4bmV4dC51c2UuIFdpbGwgbm90IGxvYWQgcmVzb3VyY2VzLiIpLG8mJm8oKTt0eXBlb2YgZT09InN0cmluZyImJihlPXRoaXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkoZSkpLHR5cGVvZiBuPT0ic3RyaW5nIiYmKG49W25dKTtjb25zdCBhPXRoaXMucXVldWVMb2FkKGUsbixpLG8pO2lmKCFhLnRvTG9hZC5sZW5ndGgpcmV0dXJuIGEucGVuZGluZy5sZW5ndGh8fG8oKSxudWxsO2EudG9Mb2FkLmZvckVhY2gocj0+e3RoaXMubG9hZE9uZShyKX0pfWxvYWQoZSxuLGkpe3RoaXMucHJlcGFyZUxvYWRpbmcoZSxuLHt9LGkpfXJlbG9hZChlLG4saSl7dGhpcy5wcmVwYXJlTG9hZGluZyhlLG4se3JlbG9hZDohMH0saSl9bG9hZE9uZShlKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06IiI7Y29uc3QgaT1lLnNwbGl0KCJ8Iiksbz1pWzBdLGE9aVsxXTt0aGlzLnJlYWQobyxhLCJyZWFkIix2b2lkIDAsdm9pZCAwLChyLGMpPT57ciYmdGhpcy5sb2dnZXIud2FybihgJHtufWxvYWRpbmcgbmFtZXNwYWNlICR7YX0gZm9yIGxhbmd1YWdlICR7b30gZmFpbGVkYCxyKSwhciYmYyYmdGhpcy5sb2dnZXIubG9nKGAke259bG9hZGVkIG5hbWVzcGFjZSAke2F9IGZvciBsYW5ndWFnZSAke299YCxjKSx0aGlzLmxvYWRlZChlLHIsYyl9KX1zYXZlTWlzc2luZyhlLG4saSxvLGEpe2xldCByPWFyZ3VtZW50cy5sZW5ndGg+NSYmYXJndW1lbnRzWzVdIT09dm9pZCAwP2FyZ3VtZW50c1s1XTp7fSxjPWFyZ3VtZW50cy5sZW5ndGg+NiYmYXJndW1lbnRzWzZdIT09dm9pZCAwP2FyZ3VtZW50c1s2XTooKT0+e307aWYodGhpcy5zZXJ2aWNlcy51dGlscyYmdGhpcy5zZXJ2aWNlcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UmJiF0aGlzLnNlcnZpY2VzLnV0aWxzLmhhc0xvYWRlZE5hbWVzcGFjZShuKSl7dGhpcy5sb2dnZXIud2FybihgZGlkIG5vdCBzYXZlIGtleSAiJHtpfSIgYXMgdGhlIG5hbWVzcGFjZSAiJHtufSIgd2FzIG5vdCB5ZXQgbG9hZGVkYCwiVGhpcyBtZWFucyBzb21ldGhpbmcgSVMgV1JPTkcgaW4geW91ciBzZXR1cC4gWW91IGFjY2VzcyB0aGUgdCBmdW5jdGlvbiBiZWZvcmUgaTE4bmV4dC5pbml0IC8gaTE4bmV4dC5sb2FkTmFtZXNwYWNlIC8gaTE4bmV4dC5jaGFuZ2VMYW5ndWFnZSB3YXMgZG9uZS4gV2FpdCBmb3IgdGhlIGNhbGxiYWNrIG9yIFByb21pc2UgdG8gcmVzb2x2ZSBiZWZvcmUgYWNjZXNzaW5nIGl0ISEhIik7cmV0dXJufWlmKCEoaT09bnVsbHx8aT09PSIiKSl7aWYodGhpcy5iYWNrZW5kJiZ0aGlzLmJhY2tlbmQuY3JlYXRlKXtjb25zdCBsPXsuLi5yLGlzVXBkYXRlOmF9LGY9dGhpcy5iYWNrZW5kLmNyZWF0ZS5iaW5kKHRoaXMuYmFja2VuZCk7aWYoZi5sZW5ndGg8Nil0cnl7bGV0IHU7Zi5sZW5ndGg9PT01P3U9ZihlLG4saSxvLGwpOnU9ZihlLG4saSxvKSx1JiZ0eXBlb2YgdS50aGVuPT0iZnVuY3Rpb24iP3UudGhlbihkPT5jKG51bGwsZCkpLmNhdGNoKGMpOmMobnVsbCx1KX1jYXRjaCh1KXtjKHUpfWVsc2UgZihlLG4saSxvLGMsbCl9IWV8fCFlWzBdfHx0aGlzLnN0b3JlLmFkZFJlc291cmNlKGVbMF0sbixpLG8pfX19Y29uc3QgcG49KCk9Pih7ZGVidWc6ITEsaW5pdEltbWVkaWF0ZTohMCxuczpbInRyYW5zbGF0aW9uIl0sZGVmYXVsdE5TOlsidHJhbnNsYXRpb24iXSxmYWxsYmFja0xuZzpbImRldiJdLGZhbGxiYWNrTlM6ITEsc3VwcG9ydGVkTG5nczohMSxub25FeHBsaWNpdFN1cHBvcnRlZExuZ3M6ITEsbG9hZDoiYWxsIixwcmVsb2FkOiExLHNpbXBsaWZ5UGx1cmFsU3VmZml4OiEwLGtleVNlcGFyYXRvcjoiLiIsbnNTZXBhcmF0b3I6IjoiLHBsdXJhbFNlcGFyYXRvcjoiXyIsY29udGV4dFNlcGFyYXRvcjoiXyIscGFydGlhbEJ1bmRsZWRMYW5ndWFnZXM6ITEsc2F2ZU1pc3Npbmc6ITEsdXBkYXRlTWlzc2luZzohMSxzYXZlTWlzc2luZ1RvOiJmYWxsYmFjayIsc2F2ZU1pc3NpbmdQbHVyYWxzOiEwLG1pc3NpbmdLZXlIYW5kbGVyOiExLG1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcjohMSxwb3N0UHJvY2VzczohMSxwb3N0UHJvY2Vzc1Bhc3NSZXNvbHZlZDohMSxyZXR1cm5OdWxsOiExLHJldHVybkVtcHR5U3RyaW5nOiEwLHJldHVybk9iamVjdHM6ITEsam9pbkFycmF5czohMSxyZXR1cm5lZE9iamVjdEhhbmRsZXI6ITEscGFyc2VNaXNzaW5nS2V5SGFuZGxlcjohMSxhcHBlbmROYW1lc3BhY2VUb01pc3NpbmdLZXk6ITEsYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGU6ITEsb3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXI6dD0+e2xldCBlPXt9O2lmKHR5cGVvZiB0WzFdPT0ib2JqZWN0IiYmKGU9dFsxXSksdHlwZW9mIHRbMV09PSJzdHJpbmciJiYoZS5kZWZhdWx0VmFsdWU9dFsxXSksdHlwZW9mIHRbMl09PSJzdHJpbmciJiYoZS50RGVzY3JpcHRpb249dFsyXSksdHlwZW9mIHRbMl09PSJvYmplY3QifHx0eXBlb2YgdFszXT09Im9iamVjdCIpe2NvbnN0IG49dFszXXx8dFsyXTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGk9PntlW2ldPW5baV19KX1yZXR1cm4gZX0saW50ZXJwb2xhdGlvbjp7ZXNjYXBlVmFsdWU6ITAsZm9ybWF0OnQ9PnQscHJlZml4OiJ7eyIsc3VmZml4OiJ9fSIsZm9ybWF0U2VwYXJhdG9yOiIsIix1bmVzY2FwZVByZWZpeDoiLSIsbmVzdGluZ1ByZWZpeDoiJHQoIixuZXN0aW5nU3VmZml4OiIpIixuZXN0aW5nT3B0aW9uc1NlcGFyYXRvcjoiLCIsbWF4UmVwbGFjZXM6MWUzLHNraXBPblZhcmlhYmxlczohMH19KSxnbj10PT4odHlwZW9mIHQubnM9PSJzdHJpbmciJiYodC5ucz1bdC5uc10pLHR5cGVvZiB0LmZhbGxiYWNrTG5nPT0ic3RyaW5nIiYmKHQuZmFsbGJhY2tMbmc9W3QuZmFsbGJhY2tMbmddKSx0eXBlb2YgdC5mYWxsYmFja05TPT0ic3RyaW5nIiYmKHQuZmFsbGJhY2tOUz1bdC5mYWxsYmFja05TXSksdC5zdXBwb3J0ZWRMbmdzJiZ0LnN1cHBvcnRlZExuZ3MuaW5kZXhPZigiY2ltb2RlIik8MCYmKHQuc3VwcG9ydGVkTG5ncz10LnN1cHBvcnRlZExuZ3MuY29uY2F0KFsiY2ltb2RlIl0pKSx0KSxZdD0oKT0+e30sbmk9dD0+e09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuZm9yRWFjaChuPT57dHlwZW9mIHRbbl09PSJmdW5jdGlvbiImJih0W25dPXRbbl0uYmluZCh0KSl9KX07Y2xhc3MgVXQgZXh0ZW5kcyBtZXtjb25zdHJ1Y3Rvcigpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7fSxuPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO2lmKHN1cGVyKCksdGhpcy5vcHRpb25zPWduKGUpLHRoaXMuc2VydmljZXM9e30sdGhpcy5sb2dnZXI9c3QsdGhpcy5tb2R1bGVzPXtleHRlcm5hbDpbXX0sbmkodGhpcyksbiYmIXRoaXMuaXNJbml0aWFsaXplZCYmIWUuaXNDbG9uZSl7aWYoIXRoaXMub3B0aW9ucy5pbml0SW1tZWRpYXRlKXJldHVybiB0aGlzLmluaXQoZSxuKSx0aGlzO3NldFRpbWVvdXQoKCk9Pnt0aGlzLmluaXQoZSxuKX0sMCl9fWluaXQoKXt2YXIgZT10aGlzO2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7fSxpPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO3RoaXMuaXNJbml0aWFsaXppbmc9ITAsdHlwZW9mIG49PSJmdW5jdGlvbiImJihpPW4sbj17fSksIW4uZGVmYXVsdE5TJiZuLmRlZmF1bHROUyE9PSExJiZuLm5zJiYodHlwZW9mIG4ubnM9PSJzdHJpbmciP24uZGVmYXVsdE5TPW4ubnM6bi5ucy5pbmRleE9mKCJ0cmFuc2xhdGlvbiIpPDAmJihuLmRlZmF1bHROUz1uLm5zWzBdKSk7Y29uc3Qgbz1wbigpO3RoaXMub3B0aW9ucz17Li4ubywuLi50aGlzLm9wdGlvbnMsLi4uZ24obil9LHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJIT09InYxIiYmKHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uPXsuLi5vLmludGVycG9sYXRpb24sLi4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb259KSxuLmtleVNlcGFyYXRvciE9PXZvaWQgMCYmKHRoaXMub3B0aW9ucy51c2VyRGVmaW5lZEtleVNlcGFyYXRvcj1uLmtleVNlcGFyYXRvciksbi5uc1NlcGFyYXRvciE9PXZvaWQgMCYmKHRoaXMub3B0aW9ucy51c2VyRGVmaW5lZE5zU2VwYXJhdG9yPW4ubnNTZXBhcmF0b3IpO2NvbnN0IGE9dT0+dT90eXBlb2YgdT09ImZ1bmN0aW9uIj9uZXcgdTp1Om51bGw7aWYoIXRoaXMub3B0aW9ucy5pc0Nsb25lKXt0aGlzLm1vZHVsZXMubG9nZ2VyP3N0LmluaXQoYSh0aGlzLm1vZHVsZXMubG9nZ2VyKSx0aGlzLm9wdGlvbnMpOnN0LmluaXQobnVsbCx0aGlzLm9wdGlvbnMpO2xldCB1O3RoaXMubW9kdWxlcy5mb3JtYXR0ZXI/dT10aGlzLm1vZHVsZXMuZm9ybWF0dGVyOnR5cGVvZiBJbnRsPCJ1IiYmKHU9cW8pO2NvbnN0IGQ9bmV3IGZuKHRoaXMub3B0aW9ucyk7dGhpcy5zdG9yZT1uZXcgY24odGhpcy5vcHRpb25zLnJlc291cmNlcyx0aGlzLm9wdGlvbnMpO2NvbnN0IG09dGhpcy5zZXJ2aWNlczttLmxvZ2dlcj1zdCxtLnJlc291cmNlU3RvcmU9dGhpcy5zdG9yZSxtLmxhbmd1YWdlVXRpbHM9ZCxtLnBsdXJhbFJlc29sdmVyPW5ldyBRbyhkLHtwcmVwZW5kOnRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IsY29tcGF0aWJpbGl0eUpTT046dGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OLHNpbXBsaWZ5UGx1cmFsU3VmZml4OnRoaXMub3B0aW9ucy5zaW1wbGlmeVBsdXJhbFN1ZmZpeH0pLHUmJighdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0fHx0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQ9PT1vLmludGVycG9sYXRpb24uZm9ybWF0KSYmKG0uZm9ybWF0dGVyPWEodSksbS5mb3JtYXR0ZXIuaW5pdChtLHRoaXMub3B0aW9ucyksdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0PW0uZm9ybWF0dGVyLmZvcm1hdC5iaW5kKG0uZm9ybWF0dGVyKSksbS5pbnRlcnBvbGF0b3I9bmV3IFpvKHRoaXMub3B0aW9ucyksbS51dGlscz17aGFzTG9hZGVkTmFtZXNwYWNlOnRoaXMuaGFzTG9hZGVkTmFtZXNwYWNlLmJpbmQodGhpcyl9LG0uYmFja2VuZENvbm5lY3Rvcj1uZXcgZWkoYSh0aGlzLm1vZHVsZXMuYmFja2VuZCksbS5yZXNvdXJjZVN0b3JlLG0sdGhpcy5vcHRpb25zKSxtLmJhY2tlbmRDb25uZWN0b3Iub24oIioiLGZ1bmN0aW9uKEUpe2Zvcih2YXIgQz1hcmd1bWVudHMubGVuZ3RoLEQ9bmV3IEFycmF5KEM+MT9DLTE6MCksUz0xO1M8QztTKyspRFtTLTFdPWFyZ3VtZW50c1tTXTtlLmVtaXQoRSwuLi5EKX0pLHRoaXMubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yJiYobS5sYW5ndWFnZURldGVjdG9yPWEodGhpcy5tb2R1bGVzLmxhbmd1YWdlRGV0ZWN0b3IpLG0ubGFuZ3VhZ2VEZXRlY3Rvci5pbml0JiZtLmxhbmd1YWdlRGV0ZWN0b3IuaW5pdChtLHRoaXMub3B0aW9ucy5kZXRlY3Rpb24sdGhpcy5vcHRpb25zKSksdGhpcy5tb2R1bGVzLmkxOG5Gb3JtYXQmJihtLmkxOG5Gb3JtYXQ9YSh0aGlzLm1vZHVsZXMuaTE4bkZvcm1hdCksbS5pMThuRm9ybWF0LmluaXQmJm0uaTE4bkZvcm1hdC5pbml0KHRoaXMpKSx0aGlzLnRyYW5zbGF0b3I9bmV3IGNlKHRoaXMuc2VydmljZXMsdGhpcy5vcHRpb25zKSx0aGlzLnRyYW5zbGF0b3Iub24oIioiLGZ1bmN0aW9uKEUpe2Zvcih2YXIgQz1hcmd1bWVudHMubGVuZ3RoLEQ9bmV3IEFycmF5KEM+MT9DLTE6MCksUz0xO1M8QztTKyspRFtTLTFdPWFyZ3VtZW50c1tTXTtlLmVtaXQoRSwuLi5EKX0pLHRoaXMubW9kdWxlcy5leHRlcm5hbC5mb3JFYWNoKEU9PntFLmluaXQmJkUuaW5pdCh0aGlzKX0pfWlmKHRoaXMuZm9ybWF0PXRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdCxpfHwoaT1ZdCksdGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nJiYhdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yJiYhdGhpcy5vcHRpb25zLmxuZyl7Y29uc3QgdT10aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcpO3UubGVuZ3RoPjAmJnVbMF0hPT0iZGV2IiYmKHRoaXMub3B0aW9ucy5sbmc9dVswXSl9IXRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvciYmIXRoaXMub3B0aW9ucy5sbmcmJnRoaXMubG9nZ2VyLndhcm4oImluaXQ6IG5vIGxhbmd1YWdlRGV0ZWN0b3IgaXMgdXNlZCBhbmQgbm8gbG5nIGlzIGRlZmluZWQiKSxbImdldFJlc291cmNlIiwiaGFzUmVzb3VyY2VCdW5kbGUiLCJnZXRSZXNvdXJjZUJ1bmRsZSIsImdldERhdGFCeUxhbmd1YWdlIl0uZm9yRWFjaCh1PT57dGhpc1t1XT1mdW5jdGlvbigpe3JldHVybiBlLnN0b3JlW3VdKC4uLmFyZ3VtZW50cyl9fSksWyJhZGRSZXNvdXJjZSIsImFkZFJlc291cmNlcyIsImFkZFJlc291cmNlQnVuZGxlIiwicmVtb3ZlUmVzb3VyY2VCdW5kbGUiXS5mb3JFYWNoKHU9Pnt0aGlzW3VdPWZ1bmN0aW9uKCl7cmV0dXJuIGUuc3RvcmVbdV0oLi4uYXJndW1lbnRzKSxlfX0pO2NvbnN0IGw9eHQoKSxmPSgpPT57Y29uc3QgdT0oZCxtKT0+e3RoaXMuaXNJbml0aWFsaXppbmc9ITEsdGhpcy5pc0luaXRpYWxpemVkJiYhdGhpcy5pbml0aWFsaXplZFN0b3JlT25jZSYmdGhpcy5sb2dnZXIud2FybigiaW5pdDogaTE4bmV4dCBpcyBhbHJlYWR5IGluaXRpYWxpemVkLiBZb3Ugc2hvdWxkIGNhbGwgaW5pdCBqdXN0IG9uY2UhIiksdGhpcy5pc0luaXRpYWxpemVkPSEwLHRoaXMub3B0aW9ucy5pc0Nsb25lfHx0aGlzLmxvZ2dlci5sb2coImluaXRpYWxpemVkIix0aGlzLm9wdGlvbnMpLHRoaXMuZW1pdCgiaW5pdGlhbGl6ZWQiLHRoaXMub3B0aW9ucyksbC5yZXNvbHZlKG0pLGkoZCxtKX07aWYodGhpcy5sYW5ndWFnZXMmJnRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJIT09InYxIiYmIXRoaXMuaXNJbml0aWFsaXplZClyZXR1cm4gdShudWxsLHRoaXMudC5iaW5kKHRoaXMpKTt0aGlzLmNoYW5nZUxhbmd1YWdlKHRoaXMub3B0aW9ucy5sbmcsdSl9O3JldHVybiB0aGlzLm9wdGlvbnMucmVzb3VyY2VzfHwhdGhpcy5vcHRpb25zLmluaXRJbW1lZGlhdGU/ZigpOnNldFRpbWVvdXQoZiwwKSxsfWxvYWRSZXNvdXJjZXMoZSl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOll0O2NvbnN0IG89dHlwZW9mIGU9PSJzdHJpbmciP2U6dGhpcy5sYW5ndWFnZTtpZih0eXBlb2YgZT09ImZ1bmN0aW9uIiYmKGk9ZSksIXRoaXMub3B0aW9ucy5yZXNvdXJjZXN8fHRoaXMub3B0aW9ucy5wYXJ0aWFsQnVuZGxlZExhbmd1YWdlcyl7aWYobyYmby50b0xvd2VyQ2FzZSgpPT09ImNpbW9kZSImJighdGhpcy5vcHRpb25zLnByZWxvYWR8fHRoaXMub3B0aW9ucy5wcmVsb2FkLmxlbmd0aD09PTApKXJldHVybiBpKCk7Y29uc3QgYT1bXSxyPWM9PntpZighY3x8Yz09PSJjaW1vZGUiKXJldHVybjt0aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KGMpLmZvckVhY2goZj0+e2YhPT0iY2ltb2RlIiYmYS5pbmRleE9mKGYpPDAmJmEucHVzaChmKX0pfTtvP3Iobyk6dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldEZhbGxiYWNrQ29kZXModGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nKS5mb3JFYWNoKGw9PnIobCkpLHRoaXMub3B0aW9ucy5wcmVsb2FkJiZ0aGlzLm9wdGlvbnMucHJlbG9hZC5mb3JFYWNoKGM9PnIoYykpLHRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5sb2FkKGEsdGhpcy5vcHRpb25zLm5zLGM9PnshYyYmIXRoaXMucmVzb2x2ZWRMYW5ndWFnZSYmdGhpcy5sYW5ndWFnZSYmdGhpcy5zZXRSZXNvbHZlZExhbmd1YWdlKHRoaXMubGFuZ3VhZ2UpLGkoYyl9KX1lbHNlIGkobnVsbCl9cmVsb2FkUmVzb3VyY2VzKGUsbixpKXtjb25zdCBvPXh0KCk7cmV0dXJuIHR5cGVvZiBlPT0iZnVuY3Rpb24iJiYoaT1lLGU9dm9pZCAwKSx0eXBlb2Ygbj09ImZ1bmN0aW9uIiYmKGk9bixuPXZvaWQgMCksZXx8KGU9dGhpcy5sYW5ndWFnZXMpLG58fChuPXRoaXMub3B0aW9ucy5ucyksaXx8KGk9WXQpLHRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5yZWxvYWQoZSxuLGE9PntvLnJlc29sdmUoKSxpKGEpfSksb311c2UoZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJZb3UgYXJlIHBhc3NpbmcgYW4gdW5kZWZpbmVkIG1vZHVsZSEgUGxlYXNlIGNoZWNrIHRoZSBvYmplY3QgeW91IGFyZSBwYXNzaW5nIHRvIGkxOG5leHQudXNlKCkiKTtpZighZS50eXBlKXRocm93IG5ldyBFcnJvcigiWW91IGFyZSBwYXNzaW5nIGEgd3JvbmcgbW9kdWxlISBQbGVhc2UgY2hlY2sgdGhlIG9iamVjdCB5b3UgYXJlIHBhc3NpbmcgdG8gaTE4bmV4dC51c2UoKSIpO3JldHVybiBlLnR5cGU9PT0iYmFja2VuZCImJih0aGlzLm1vZHVsZXMuYmFja2VuZD1lKSwoZS50eXBlPT09ImxvZ2dlciJ8fGUubG9nJiZlLndhcm4mJmUuZXJyb3IpJiYodGhpcy5tb2R1bGVzLmxvZ2dlcj1lKSxlLnR5cGU9PT0ibGFuZ3VhZ2VEZXRlY3RvciImJih0aGlzLm1vZHVsZXMubGFuZ3VhZ2VEZXRlY3Rvcj1lKSxlLnR5cGU9PT0iaTE4bkZvcm1hdCImJih0aGlzLm1vZHVsZXMuaTE4bkZvcm1hdD1lKSxlLnR5cGU9PT0icG9zdFByb2Nlc3NvciImJmpuLmFkZFBvc3RQcm9jZXNzb3IoZSksZS50eXBlPT09ImZvcm1hdHRlciImJih0aGlzLm1vZHVsZXMuZm9ybWF0dGVyPWUpLGUudHlwZT09PSIzcmRQYXJ0eSImJnRoaXMubW9kdWxlcy5leHRlcm5hbC5wdXNoKGUpLHRoaXN9c2V0UmVzb2x2ZWRMYW5ndWFnZShlKXtpZighKCFlfHwhdGhpcy5sYW5ndWFnZXMpJiYhKFsiY2ltb2RlIiwiZGV2Il0uaW5kZXhPZihlKT4tMSkpZm9yKGxldCBuPTA7bjx0aGlzLmxhbmd1YWdlcy5sZW5ndGg7bisrKXtjb25zdCBpPXRoaXMubGFuZ3VhZ2VzW25dO2lmKCEoWyJjaW1vZGUiLCJkZXYiXS5pbmRleE9mKGkpPi0xKSYmdGhpcy5zdG9yZS5oYXNMYW5ndWFnZVNvbWVUcmFuc2xhdGlvbnMoaSkpe3RoaXMucmVzb2x2ZWRMYW5ndWFnZT1pO2JyZWFrfX19Y2hhbmdlTGFuZ3VhZ2UoZSxuKXt2YXIgaT10aGlzO3RoaXMuaXNMYW5ndWFnZUNoYW5naW5nVG89ZTtjb25zdCBvPXh0KCk7dGhpcy5lbWl0KCJsYW5ndWFnZUNoYW5naW5nIixlKTtjb25zdCBhPWw9Pnt0aGlzLmxhbmd1YWdlPWwsdGhpcy5sYW5ndWFnZXM9dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShsKSx0aGlzLnJlc29sdmVkTGFuZ3VhZ2U9dm9pZCAwLHRoaXMuc2V0UmVzb2x2ZWRMYW5ndWFnZShsKX0scj0obCxmKT0+e2Y/KGEoZiksdGhpcy50cmFuc2xhdG9yLmNoYW5nZUxhbmd1YWdlKGYpLHRoaXMuaXNMYW5ndWFnZUNoYW5naW5nVG89dm9pZCAwLHRoaXMuZW1pdCgibGFuZ3VhZ2VDaGFuZ2VkIixmKSx0aGlzLmxvZ2dlci5sb2coImxhbmd1YWdlQ2hhbmdlZCIsZikpOnRoaXMuaXNMYW5ndWFnZUNoYW5naW5nVG89dm9pZCAwLG8ucmVzb2x2ZShmdW5jdGlvbigpe3JldHVybiBpLnQoLi4uYXJndW1lbnRzKX0pLG4mJm4obCxmdW5jdGlvbigpe3JldHVybiBpLnQoLi4uYXJndW1lbnRzKX0pfSxjPWw9PnshZSYmIWwmJnRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvciYmKGw9W10pO2NvbnN0IGY9dHlwZW9mIGw9PSJzdHJpbmciP2w6dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldEJlc3RNYXRjaEZyb21Db2RlcyhsKTtmJiYodGhpcy5sYW5ndWFnZXx8YShmKSx0aGlzLnRyYW5zbGF0b3IubGFuZ3VhZ2V8fHRoaXMudHJhbnNsYXRvci5jaGFuZ2VMYW5ndWFnZShmKSx0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3ImJnRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5jYWNoZVVzZXJMYW5ndWFnZSYmdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmNhY2hlVXNlckxhbmd1YWdlKGYpKSx0aGlzLmxvYWRSZXNvdXJjZXMoZix1PT57cih1LGYpfSl9O3JldHVybiFlJiZ0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3ImJiF0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuYXN5bmM/Yyh0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuZGV0ZWN0KCkpOiFlJiZ0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3ImJnRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5hc3luYz90aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuZGV0ZWN0Lmxlbmd0aD09PTA/dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdCgpLnRoZW4oYyk6dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdChjKTpjKGUpLG99Z2V0Rml4ZWRUKGUsbixpKXt2YXIgbz10aGlzO2NvbnN0IGE9ZnVuY3Rpb24ocixjKXtsZXQgbDtpZih0eXBlb2YgYyE9Im9iamVjdCIpe2Zvcih2YXIgZj1hcmd1bWVudHMubGVuZ3RoLHU9bmV3IEFycmF5KGY+Mj9mLTI6MCksZD0yO2Q8ZjtkKyspdVtkLTJdPWFyZ3VtZW50c1tkXTtsPW8ub3B0aW9ucy5vdmVybG9hZFRyYW5zbGF0aW9uT3B0aW9uSGFuZGxlcihbcixjXS5jb25jYXQodSkpfWVsc2UgbD17Li4uY307bC5sbmc9bC5sbmd8fGEubG5nLGwubG5ncz1sLmxuZ3N8fGEubG5ncyxsLm5zPWwubnN8fGEubnMsbC5rZXlQcmVmaXghPT0iIiYmKGwua2V5UHJlZml4PWwua2V5UHJlZml4fHxpfHxhLmtleVByZWZpeCk7Y29uc3QgbT1vLm9wdGlvbnMua2V5U2VwYXJhdG9yfHwiLiI7bGV0IEU7cmV0dXJuIGwua2V5UHJlZml4JiZBcnJheS5pc0FycmF5KHIpP0U9ci5tYXAoQz0+YCR7bC5rZXlQcmVmaXh9JHttfSR7Q31gKTpFPWwua2V5UHJlZml4P2Ake2wua2V5UHJlZml4fSR7bX0ke3J9YDpyLG8udChFLGwpfTtyZXR1cm4gdHlwZW9mIGU9PSJzdHJpbmciP2EubG5nPWU6YS5sbmdzPWUsYS5ucz1uLGEua2V5UHJlZml4PWksYX10KCl7cmV0dXJuIHRoaXMudHJhbnNsYXRvciYmdGhpcy50cmFuc2xhdG9yLnRyYW5zbGF0ZSguLi5hcmd1bWVudHMpfWV4aXN0cygpe3JldHVybiB0aGlzLnRyYW5zbGF0b3ImJnRoaXMudHJhbnNsYXRvci5leGlzdHMoLi4uYXJndW1lbnRzKX1zZXREZWZhdWx0TmFtZXNwYWNlKGUpe3RoaXMub3B0aW9ucy5kZWZhdWx0TlM9ZX1oYXNMb2FkZWROYW1lc3BhY2UoZSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9O2lmKCF0aGlzLmlzSW5pdGlhbGl6ZWQpcmV0dXJuIHRoaXMubG9nZ2VyLndhcm4oImhhc0xvYWRlZE5hbWVzcGFjZTogaTE4bmV4dCB3YXMgbm90IGluaXRpYWxpemVkIix0aGlzLmxhbmd1YWdlcyksITE7aWYoIXRoaXMubGFuZ3VhZ2VzfHwhdGhpcy5sYW5ndWFnZXMubGVuZ3RoKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKCJoYXNMb2FkZWROYW1lc3BhY2U6IGkxOG4ubGFuZ3VhZ2VzIHdlcmUgdW5kZWZpbmVkIG9yIGVtcHR5Iix0aGlzLmxhbmd1YWdlcyksITE7Y29uc3QgaT1uLmxuZ3x8dGhpcy5yZXNvbHZlZExhbmd1YWdlfHx0aGlzLmxhbmd1YWdlc1swXSxvPXRoaXMub3B0aW9ucz90aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmc6ITEsYT10aGlzLmxhbmd1YWdlc1t0aGlzLmxhbmd1YWdlcy5sZW5ndGgtMV07aWYoaS50b0xvd2VyQ2FzZSgpPT09ImNpbW9kZSIpcmV0dXJuITA7Y29uc3Qgcj0oYyxsKT0+e2NvbnN0IGY9dGhpcy5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLnN0YXRlW2Ake2N9fCR7bH1gXTtyZXR1cm4gZj09PS0xfHxmPT09MHx8Zj09PTJ9O2lmKG4ucHJlY2hlY2spe2NvbnN0IGM9bi5wcmVjaGVjayh0aGlzLHIpO2lmKGMhPT12b2lkIDApcmV0dXJuIGN9cmV0dXJuISEodGhpcy5oYXNSZXNvdXJjZUJ1bmRsZShpLGUpfHwhdGhpcy5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLmJhY2tlbmR8fHRoaXMub3B0aW9ucy5yZXNvdXJjZXMmJiF0aGlzLm9wdGlvbnMucGFydGlhbEJ1bmRsZWRMYW5ndWFnZXN8fHIoaSxlKSYmKCFvfHxyKGEsZSkpKX1sb2FkTmFtZXNwYWNlcyhlLG4pe2NvbnN0IGk9eHQoKTtyZXR1cm4gdGhpcy5vcHRpb25zLm5zPyh0eXBlb2YgZT09InN0cmluZyImJihlPVtlXSksZS5mb3JFYWNoKG89Pnt0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihvKTwwJiZ0aGlzLm9wdGlvbnMubnMucHVzaChvKX0pLHRoaXMubG9hZFJlc291cmNlcyhvPT57aS5yZXNvbHZlKCksbiYmbihvKX0pLGkpOihuJiZuKCksUHJvbWlzZS5yZXNvbHZlKCkpfWxvYWRMYW5ndWFnZXMoZSxuKXtjb25zdCBpPXh0KCk7dHlwZW9mIGU9PSJzdHJpbmciJiYoZT1bZV0pO2NvbnN0IG89dGhpcy5vcHRpb25zLnByZWxvYWR8fFtdLGE9ZS5maWx0ZXIocj0+by5pbmRleE9mKHIpPDAmJnRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5pc1N1cHBvcnRlZENvZGUocikpO3JldHVybiBhLmxlbmd0aD8odGhpcy5vcHRpb25zLnByZWxvYWQ9by5jb25jYXQoYSksdGhpcy5sb2FkUmVzb3VyY2VzKHI9PntpLnJlc29sdmUoKSxuJiZuKHIpfSksaSk6KG4mJm4oKSxQcm9taXNlLnJlc29sdmUoKSl9ZGlyKGUpe2lmKGV8fChlPXRoaXMucmVzb2x2ZWRMYW5ndWFnZXx8KHRoaXMubGFuZ3VhZ2VzJiZ0aGlzLmxhbmd1YWdlcy5sZW5ndGg+MD90aGlzLmxhbmd1YWdlc1swXTp0aGlzLmxhbmd1YWdlKSksIWUpcmV0dXJuInJ0bCI7Y29uc3Qgbj1bImFyIiwic2h1Iiwic3FyIiwic3NoIiwieGFhIiwieWhkIiwieXVkIiwiYWFvIiwiYWJoIiwiYWJ2IiwiYWNtIiwiYWNxIiwiYWN3IiwiYWN4IiwiYWN5IiwiYWRmIiwiYWRzIiwiYWViIiwiYWVjIiwiYWZiIiwiYWpwIiwiYXBjIiwiYXBkIiwiYXJiIiwiYXJxIiwiYXJzIiwiYXJ5IiwiYXJ6IiwiYXV6IiwiYXZsIiwiYXloIiwiYXlsIiwiYXluIiwiYXlwIiwiYmJ6IiwicGdhIiwiaGUiLCJpdyIsInBzIiwicGJ0IiwicGJ1IiwicHN0IiwicHJwIiwicHJkIiwidWciLCJ1ciIsInlkZCIsInlkcyIsInlpaCIsImppIiwieWkiLCJoYm8iLCJtZW4iLCJ4bW4iLCJmYSIsImpwciIsInBlbyIsInBlcyIsInBycyIsImR2Iiwic2FtIiwiY2tiIl0saT10aGlzLnNlcnZpY2VzJiZ0aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHN8fG5ldyBmbihwbigpKTtyZXR1cm4gbi5pbmRleE9mKGkuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoZSkpPi0xfHxlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiLWFyYWIiKT4xPyJydGwiOiJsdHIifXN0YXRpYyBjcmVhdGVJbnN0YW5jZSgpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7fSxuPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO3JldHVybiBuZXcgVXQoZSxuKX1jbG9uZUluc3RhbmNlKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9LG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOll0O2NvbnN0IGk9ZS5mb3JrUmVzb3VyY2VTdG9yZTtpJiZkZWxldGUgZS5mb3JrUmVzb3VyY2VTdG9yZTtjb25zdCBvPXsuLi50aGlzLm9wdGlvbnMsLi4uZSxpc0Nsb25lOiEwfSxhPW5ldyBVdChvKTtyZXR1cm4oZS5kZWJ1ZyE9PXZvaWQgMHx8ZS5wcmVmaXghPT12b2lkIDApJiYoYS5sb2dnZXI9YS5sb2dnZXIuY2xvbmUoZSkpLFsic3RvcmUiLCJzZXJ2aWNlcyIsImxhbmd1YWdlIl0uZm9yRWFjaChjPT57YVtjXT10aGlzW2NdfSksYS5zZXJ2aWNlcz17Li4udGhpcy5zZXJ2aWNlc30sYS5zZXJ2aWNlcy51dGlscz17aGFzTG9hZGVkTmFtZXNwYWNlOmEuaGFzTG9hZGVkTmFtZXNwYWNlLmJpbmQoYSl9LGkmJihhLnN0b3JlPW5ldyBjbih0aGlzLnN0b3JlLmRhdGEsbyksYS5zZXJ2aWNlcy5yZXNvdXJjZVN0b3JlPWEuc3RvcmUpLGEudHJhbnNsYXRvcj1uZXcgY2UoYS5zZXJ2aWNlcyxvKSxhLnRyYW5zbGF0b3Iub24oIioiLGZ1bmN0aW9uKGMpe2Zvcih2YXIgbD1hcmd1bWVudHMubGVuZ3RoLGY9bmV3IEFycmF5KGw+MT9sLTE6MCksdT0xO3U8bDt1KyspZlt1LTFdPWFyZ3VtZW50c1t1XTthLmVtaXQoYywuLi5mKX0pLGEuaW5pdChvLG4pLGEudHJhbnNsYXRvci5vcHRpb25zPW8sYS50cmFuc2xhdG9yLmJhY2tlbmRDb25uZWN0b3Iuc2VydmljZXMudXRpbHM9e2hhc0xvYWRlZE5hbWVzcGFjZTphLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKGEpfSxhfXRvSlNPTigpe3JldHVybntvcHRpb25zOnRoaXMub3B0aW9ucyxzdG9yZTp0aGlzLnN0b3JlLGxhbmd1YWdlOnRoaXMubGFuZ3VhZ2UsbGFuZ3VhZ2VzOnRoaXMubGFuZ3VhZ2VzLHJlc29sdmVkTGFuZ3VhZ2U6dGhpcy5yZXNvbHZlZExhbmd1YWdlfX19Y29uc3Qgdz1VdC5jcmVhdGVJbnN0YW5jZSgpO3cuY3JlYXRlSW5zdGFuY2U9VXQuY3JlYXRlSW5zdGFuY2U7dy5jcmVhdGVJbnN0YW5jZTt3LmRpcjt3LmluaXQ7dy5sb2FkUmVzb3VyY2VzO3cucmVsb2FkUmVzb3VyY2VzO3cudXNlO3cuY2hhbmdlTGFuZ3VhZ2U7dy5nZXRGaXhlZFQ7dy50O3cuZXhpc3RzO3cuc2V0RGVmYXVsdE5hbWVzcGFjZTt3Lmhhc0xvYWRlZE5hbWVzcGFjZTt3LmxvYWROYW1lc3BhY2VzO3cubG9hZExhbmd1YWdlcztmdW5jdGlvbiBvaSh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwiZGVmYXVsdCIpP3QuZGVmYXVsdDp0fXZhciBKdD17fSxfZSxobjtmdW5jdGlvbiBpaSgpe2lmKGhuKXJldHVybiBfZTtobj0xO3ZhciB0LGUsbj17JyInOiciJywiXFwiOiJcXCIsIi8iOiIvIixiOiJcYiIsZjoiXGYiLG46YApgLHI6IlxyIix0OiIJIn0saTtmdW5jdGlvbiBvKEUpe3Rocm93e25hbWU6IlN5bnRheEVycm9yIixtZXNzYWdlOkUsYXQ6dCx0ZXh0Oml9fWZ1bmN0aW9uIGEoRSl7cmV0dXJuIEUmJkUhPT1lJiZvKCJFeHBlY3RlZCAnIitFKyInIGluc3RlYWQgb2YgJyIrZSsiJyIpLGU9aS5jaGFyQXQodCksdCs9MSxlfWZ1bmN0aW9uIHIoKXt2YXIgRSxDPSIiO2ZvcihlPT09Ii0iJiYoQz0iLSIsYSgiLSIpKTtlPj0iMCImJmU8PSI5IjspQys9ZSxhKCk7aWYoZT09PSIuIilmb3IoQys9Ii4iO2EoKSYmZT49IjAiJiZlPD0iOSI7KUMrPWU7aWYoZT09PSJlInx8ZT09PSJFIilmb3IoQys9ZSxhKCksKGU9PT0iLSJ8fGU9PT0iKyIpJiYoQys9ZSxhKCkpO2U+PSIwIiYmZTw9IjkiOylDKz1lLGEoKTtyZXR1cm4gRT1OdW1iZXIoQyksaXNGaW5pdGUoRSl8fG8oIkJhZCBudW1iZXIiKSxFfWZ1bmN0aW9uIGMoKXt2YXIgRSxDLEQ9IiIsUztpZihlPT09JyInKWZvcig7YSgpOyl7aWYoZT09PSciJylyZXR1cm4gYSgpLEQ7aWYoZT09PSJcXCIpaWYoYSgpLGU9PT0idSIpe2ZvcihTPTAsQz0wO0M8NCYmKEU9cGFyc2VJbnQoYSgpLDE2KSwhIWlzRmluaXRlKEUpKTtDKz0xKVM9UyoxNitFO0QrPVN0cmluZy5mcm9tQ2hhckNvZGUoUyl9ZWxzZSBpZih0eXBlb2YgbltlXT09InN0cmluZyIpRCs9bltlXTtlbHNlIGJyZWFrO2Vsc2UgRCs9ZX1vKCJCYWQgc3RyaW5nIil9ZnVuY3Rpb24gbCgpe2Zvcig7ZSYmZTw9IiAiOylhKCl9ZnVuY3Rpb24gZigpe3N3aXRjaChlKXtjYXNlInQiOnJldHVybiBhKCJ0IiksYSgiciIpLGEoInUiKSxhKCJlIiksITA7Y2FzZSJmIjpyZXR1cm4gYSgiZiIpLGEoImEiKSxhKCJsIiksYSgicyIpLGEoImUiKSwhMTtjYXNlIm4iOnJldHVybiBhKCJuIiksYSgidSIpLGEoImwiKSxhKCJsIiksbnVsbDtkZWZhdWx0Om8oIlVuZXhwZWN0ZWQgJyIrZSsiJyIpfX1mdW5jdGlvbiB1KCl7dmFyIEU9W107aWYoZT09PSJbIil7aWYoYSgiWyIpLGwoKSxlPT09Il0iKXJldHVybiBhKCJdIiksRTtmb3IoO2U7KXtpZihFLnB1c2gobSgpKSxsKCksZT09PSJdIilyZXR1cm4gYSgiXSIpLEU7YSgiLCIpLGwoKX19bygiQmFkIGFycmF5Iil9ZnVuY3Rpb24gZCgpe3ZhciBFLEM9e307aWYoZT09PSJ7Iil7aWYoYSgieyIpLGwoKSxlPT09In0iKXJldHVybiBhKCJ9IiksQztmb3IoO2U7KXtpZihFPWMoKSxsKCksYSgiOiIpLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChDLEUpJiZvKCdEdXBsaWNhdGUga2V5ICInK0UrJyInKSxDW0VdPW0oKSxsKCksZT09PSJ9IilyZXR1cm4gYSgifSIpLEM7YSgiLCIpLGwoKX19bygiQmFkIG9iamVjdCIpfWZ1bmN0aW9uIG0oKXtzd2l0Y2gobCgpLGUpe2Nhc2UieyI6cmV0dXJuIGQoKTtjYXNlIlsiOnJldHVybiB1KCk7Y2FzZSciJzpyZXR1cm4gYygpO2Nhc2UiLSI6cmV0dXJuIHIoKTtkZWZhdWx0OnJldHVybiBlPj0iMCImJmU8PSI5Ij9yKCk6ZigpfX1yZXR1cm4gX2U9ZnVuY3Rpb24oRSxDKXt2YXIgRDtyZXR1cm4gaT1FLHQ9MCxlPSIgIixEPW0oKSxsKCksZSYmbygiU3ludGF4IGVycm9yIiksdHlwZW9mIEM9PSJmdW5jdGlvbiI/ZnVuY3Rpb24gUyhJLHkpe3ZhciB2LEIsTz1JW3ldO2lmKE8mJnR5cGVvZiBPPT0ib2JqZWN0Iilmb3IodiBpbiBtKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChPLHYpJiYoQj1TKE8sdiksdHlwZW9mIEI+InUiP2RlbGV0ZSBPW3ZdOk9bdl09Qik7cmV0dXJuIEMuY2FsbChJLHksTyl9KHsiIjpEfSwiIik6RH0sX2V9dmFyIEJlLEVuO2Z1bmN0aW9uIGFpKCl7aWYoRW4pcmV0dXJuIEJlO0VuPTE7dmFyIHQ9L1tcXCJceDAwLVx4MWZceDdmLVx4OWZcdTAwYWRcdTA2MDAtXHUwNjA0XHUwNzBmXHUxN2I0XHUxN2I1XHUyMDBjLVx1MjAwZlx1MjAyOC1cdTIwMmZcdTIwNjAtXHUyMDZmXHVmZWZmXHVmZmYwLVx1ZmZmZl0vZyxlLG4saT17IlxiIjoiXFxiIiwiCSI6IlxcdCIsIlxuIjoiXFxuIiwiXGYiOiJcXGYiLCJcciI6IlxcciIsJyInOidcXCInLCJcXCI6IlxcXFwifSxvO2Z1bmN0aW9uIGEoYyl7cmV0dXJuIHQubGFzdEluZGV4PTAsdC50ZXN0KGMpPyciJytjLnJlcGxhY2UodCxmdW5jdGlvbihsKXt2YXIgZj1pW2xdO3JldHVybiB0eXBlb2YgZj09InN0cmluZyI/ZjoiXFx1IisoIjAwMDAiK2wuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KX0pKyciJzonIicrYysnIid9ZnVuY3Rpb24gcihjLGwpe3ZhciBmLHUsZCxtLEU9ZSxDLEQ9bFtjXTtzd2l0Y2goRCYmdHlwZW9mIEQ9PSJvYmplY3QiJiZ0eXBlb2YgRC50b0pTT049PSJmdW5jdGlvbiImJihEPUQudG9KU09OKGMpKSx0eXBlb2Ygbz09ImZ1bmN0aW9uIiYmKEQ9by5jYWxsKGwsYyxEKSksdHlwZW9mIEQpe2Nhc2Uic3RyaW5nIjpyZXR1cm4gYShEKTtjYXNlIm51bWJlciI6cmV0dXJuIGlzRmluaXRlKEQpP1N0cmluZyhEKToibnVsbCI7Y2FzZSJib29sZWFuIjpjYXNlIm51bGwiOnJldHVybiBTdHJpbmcoRCk7Y2FzZSJvYmplY3QiOmlmKCFEKXJldHVybiJudWxsIjtpZihlKz1uLEM9W10sT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShEKT09PSJbb2JqZWN0IEFycmF5XSIpe2ZvcihtPUQubGVuZ3RoLGY9MDtmPG07Zis9MSlDW2ZdPXIoZixEKXx8Im51bGwiO3JldHVybiBkPUMubGVuZ3RoPT09MD8iW10iOmU/YFsKYCtlK0Muam9pbihgLApgK2UpK2AKYCtFKyJdIjoiWyIrQy5qb2luKCIsIikrIl0iLGU9RSxkfWlmKG8mJnR5cGVvZiBvPT0ib2JqZWN0Iilmb3IobT1vLmxlbmd0aCxmPTA7ZjxtO2YrPTEpdT1vW2ZdLHR5cGVvZiB1PT0ic3RyaW5nIiYmKGQ9cih1LEQpLGQmJkMucHVzaChhKHUpKyhlPyI6ICI6IjoiKStkKSk7ZWxzZSBmb3IodSBpbiBEKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChELHUpJiYoZD1yKHUsRCksZCYmQy5wdXNoKGEodSkrKGU/IjogIjoiOiIpK2QpKTtyZXR1cm4gZD1DLmxlbmd0aD09PTA/Int9IjplP2B7CmArZStDLmpvaW4oYCwKYCtlKStgCmArRSsifSI6InsiK0Muam9pbigiLCIpKyJ9IixlPUUsZH19cmV0dXJuIEJlPWZ1bmN0aW9uKGMsbCxmKXt2YXIgdTtpZihlPSIiLG49IiIsdHlwZW9mIGY9PSJudW1iZXIiKWZvcih1PTA7dTxmO3UrPTEpbis9IiAiO2Vsc2UgdHlwZW9mIGY9PSJzdHJpbmciJiYobj1mKTtpZihvPWwsbCYmdHlwZW9mIGwhPSJmdW5jdGlvbiImJih0eXBlb2YgbCE9Im9iamVjdCJ8fHR5cGVvZiBsLmxlbmd0aCE9Im51bWJlciIpKXRocm93IG5ldyBFcnJvcigiSlNPTi5zdHJpbmdpZnkiKTtyZXR1cm4gcigiIix7IiI6Y30pfSxCZX12YXIgQ247ZnVuY3Rpb24gc2koKXtyZXR1cm4gQ258fChDbj0xLEp0LnBhcnNlPWlpKCksSnQuc3RyaW5naWZ5PWFpKCkpLEp0fXZhciByaT17fS50b1N0cmluZyxsaT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm4gcmkuY2FsbCh0KT09IltvYmplY3QgQXJyYXldIn0sRG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyx6bj1mdW5jdGlvbihlKXt2YXIgbj1Ebi5jYWxsKGUpLGk9bj09PSJbb2JqZWN0IEFyZ3VtZW50c10iO3JldHVybiBpfHwoaT1uIT09IltvYmplY3QgQXJyYXldIiYmZSE9PW51bGwmJnR5cGVvZiBlPT0ib2JqZWN0IiYmdHlwZW9mIGUubGVuZ3RoPT0ibnVtYmVyIiYmZS5sZW5ndGg+PTAmJkRuLmNhbGwoZS5jYWxsZWUpPT09IltvYmplY3QgRnVuY3Rpb25dIiksaX0sYmUsU247ZnVuY3Rpb24gY2koKXtpZihTbilyZXR1cm4gYmU7U249MTt2YXIgdDtpZighT2JqZWN0LmtleXMpe3ZhciBlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGk9em4sbz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLGE9IW8uY2FsbCh7dG9TdHJpbmc6bnVsbH0sInRvU3RyaW5nIikscj1vLmNhbGwoZnVuY3Rpb24oKXt9LCJwcm90b3R5cGUiKSxjPVsidG9TdHJpbmciLCJ0b0xvY2FsZVN0cmluZyIsInZhbHVlT2YiLCJoYXNPd25Qcm9wZXJ0eSIsImlzUHJvdG90eXBlT2YiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImNvbnN0cnVjdG9yIl0sbD1mdW5jdGlvbihtKXt2YXIgRT1tLmNvbnN0cnVjdG9yO3JldHVybiBFJiZFLnByb3RvdHlwZT09PW19LGY9eyRhcHBsaWNhdGlvbkNhY2hlOiEwLCRjb25zb2xlOiEwLCRleHRlcm5hbDohMCwkZnJhbWU6ITAsJGZyYW1lRWxlbWVudDohMCwkZnJhbWVzOiEwLCRpbm5lckhlaWdodDohMCwkaW5uZXJXaWR0aDohMCwkb25tb3pmdWxsc2NyZWVuY2hhbmdlOiEwLCRvbm1vemZ1bGxzY3JlZW5lcnJvcjohMCwkb3V0ZXJIZWlnaHQ6ITAsJG91dGVyV2lkdGg6ITAsJHBhZ2VYT2Zmc2V0OiEwLCRwYWdlWU9mZnNldDohMCwkcGFyZW50OiEwLCRzY3JvbGxMZWZ0OiEwLCRzY3JvbGxUb3A6ITAsJHNjcm9sbFg6ITAsJHNjcm9sbFk6ITAsJHNlbGY6ITAsJHdlYmtpdEluZGV4ZWREQjohMCwkd2Via2l0U3RvcmFnZUluZm86ITAsJHdpbmRvdzohMH0sdT1mdW5jdGlvbigpe2lmKHR5cGVvZiB3aW5kb3c+InUiKXJldHVybiExO2Zvcih2YXIgbSBpbiB3aW5kb3cpdHJ5e2lmKCFmWyIkIittXSYmZS5jYWxsKHdpbmRvdyxtKSYmd2luZG93W21dIT09bnVsbCYmdHlwZW9mIHdpbmRvd1ttXT09Im9iamVjdCIpdHJ5e2wod2luZG93W21dKX1jYXRjaHtyZXR1cm4hMH19Y2F0Y2h7cmV0dXJuITB9cmV0dXJuITF9KCksZD1mdW5jdGlvbihtKXtpZih0eXBlb2Ygd2luZG93PiJ1Inx8IXUpcmV0dXJuIGwobSk7dHJ5e3JldHVybiBsKG0pfWNhdGNoe3JldHVybiExfX07dD1mdW5jdGlvbihFKXt2YXIgQz1FIT09bnVsbCYmdHlwZW9mIEU9PSJvYmplY3QiLEQ9bi5jYWxsKEUpPT09IltvYmplY3QgRnVuY3Rpb25dIixTPWkoRSksST1DJiZuLmNhbGwoRSk9PT0iW29iamVjdCBTdHJpbmddIix5PVtdO2lmKCFDJiYhRCYmIVMpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmtleXMgY2FsbGVkIG9uIGEgbm9uLW9iamVjdCIpO3ZhciB2PXImJkQ7aWYoSSYmRS5sZW5ndGg+MCYmIWUuY2FsbChFLDApKWZvcih2YXIgQj0wO0I8RS5sZW5ndGg7KytCKXkucHVzaChTdHJpbmcoQikpO2lmKFMmJkUubGVuZ3RoPjApZm9yKHZhciBPPTA7TzxFLmxlbmd0aDsrK08peS5wdXNoKFN0cmluZyhPKSk7ZWxzZSBmb3IodmFyIE4gaW4gRSkhKHYmJk49PT0icHJvdG90eXBlIikmJmUuY2FsbChFLE4pJiZ5LnB1c2goU3RyaW5nKE4pKTtpZihhKWZvcih2YXIgUj1kKEUpLEw9MDtMPGMubGVuZ3RoOysrTCkhKFImJmNbTF09PT0iY29uc3RydWN0b3IiKSYmZS5jYWxsKEUsY1tMXSkmJnkucHVzaChjW0xdKTtyZXR1cm4geX19cmV0dXJuIGJlPXQsYmV9dmFyIHVpPUFycmF5LnByb3RvdHlwZS5zbGljZSxmaT16bixfbj1PYmplY3Qua2V5cyx0ZT1fbj9mdW5jdGlvbihlKXtyZXR1cm4gX24oZSl9OmNpKCksQm49T2JqZWN0LmtleXM7dGUuc2hpbT1mdW5jdGlvbigpe2lmKE9iamVjdC5rZXlzKXt2YXIgZT1mdW5jdGlvbigpe3ZhciBuPU9iamVjdC5rZXlzKGFyZ3VtZW50cyk7cmV0dXJuIG4mJm4ubGVuZ3RoPT09YXJndW1lbnRzLmxlbmd0aH0oMSwyKTtlfHwoT2JqZWN0LmtleXM9ZnVuY3Rpb24oaSl7cmV0dXJuIGZpKGkpP0JuKHVpLmNhbGwoaSkpOkJuKGkpfSl9ZWxzZSBPYmplY3Qua2V5cz10ZTtyZXR1cm4gT2JqZWN0LmtleXN8fHRlfTt2YXIgZGk9dGUsJG49e2V4cG9ydHM6e319LG1pPSJGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlICIscGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxnaT1NYXRoLm1heCxoaT0iW29iamVjdCBGdW5jdGlvbl0iLGJuPWZ1bmN0aW9uKGUsbil7Zm9yKHZhciBpPVtdLG89MDtvPGUubGVuZ3RoO28rPTEpaVtvXT1lW29dO2Zvcih2YXIgYT0wO2E8bi5sZW5ndGg7YSs9MSlpW2ErZS5sZW5ndGhdPW5bYV07cmV0dXJuIGl9LEVpPWZ1bmN0aW9uKGUsbil7Zm9yKHZhciBpPVtdLG89bixhPTA7bzxlLmxlbmd0aDtvKz0xLGErPTEpaVthXT1lW29dO3JldHVybiBpfSxDaT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0iIixpPTA7aTx0Lmxlbmd0aDtpKz0xKW4rPXRbaV0saSsxPHQubGVuZ3RoJiYobis9ZSk7cmV0dXJuIG59LERpPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7aWYodHlwZW9mIG4hPSJmdW5jdGlvbiJ8fHBpLmFwcGx5KG4pIT09aGkpdGhyb3cgbmV3IFR5cGVFcnJvcihtaStuKTtmb3IodmFyIGk9RWkoYXJndW1lbnRzLDEpLG8sYT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBvKXt2YXIgdT1uLmFwcGx5KHRoaXMsYm4oaSxhcmd1bWVudHMpKTtyZXR1cm4gT2JqZWN0KHUpPT09dT91OnRoaXN9cmV0dXJuIG4uYXBwbHkoZSxibihpLGFyZ3VtZW50cykpfSxyPWdpKDAsbi5sZW5ndGgtaS5sZW5ndGgpLGM9W10sbD0wO2w8cjtsKyspY1tsXT0iJCIrbDtpZihvPUZ1bmN0aW9uKCJiaW5kZXIiLCJyZXR1cm4gZnVuY3Rpb24gKCIrQ2koYywiLCIpKyIpeyByZXR1cm4gYmluZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsgfSIpKGEpLG4ucHJvdG90eXBlKXt2YXIgZj1mdW5jdGlvbigpe307Zi5wcm90b3R5cGU9bi5wcm90b3R5cGUsby5wcm90b3R5cGU9bmV3IGYsZi5wcm90b3R5cGU9bnVsbH1yZXR1cm4gb30sU2k9RGksRmU9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fFNpLF9pPUVycm9yLEJpPUV2YWxFcnJvcixiaT1SYW5nZUVycm9yLFRpPVJlZmVyZW5jZUVycm9yLFduPVN5bnRheEVycm9yLHBlPVR5cGVFcnJvcix5aT1VUklFcnJvcixPaT1mdW5jdGlvbigpe2lmKHR5cGVvZiBTeW1ib2whPSJmdW5jdGlvbiJ8fHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzIT0iZnVuY3Rpb24iKXJldHVybiExO2lmKHR5cGVvZiBTeW1ib2wuaXRlcmF0b3I9PSJzeW1ib2wiKXJldHVybiEwO3ZhciBlPXt9LG49U3ltYm9sKCJ0ZXN0IiksaT1PYmplY3Qobik7aWYodHlwZW9mIG49PSJzdHJpbmcifHxPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikhPT0iW29iamVjdCBTeW1ib2xdInx8T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGkpIT09IltvYmplY3QgU3ltYm9sXSIpcmV0dXJuITE7dmFyIG89NDI7ZVtuXT1vO2ZvcihuIGluIGUpcmV0dXJuITE7aWYodHlwZW9mIE9iamVjdC5rZXlzPT0iZnVuY3Rpb24iJiZPYmplY3Qua2V5cyhlKS5sZW5ndGghPT0wfHx0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM9PSJmdW5jdGlvbiImJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aCE9PTApcmV0dXJuITE7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtpZihhLmxlbmd0aCE9PTF8fGFbMF0hPT1ufHwhT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbikpcmV0dXJuITE7aWYodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I9PSJmdW5jdGlvbiIpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTtpZihyLnZhbHVlIT09b3x8ci5lbnVtZXJhYmxlIT09ITApcmV0dXJuITF9cmV0dXJuITB9LFRuPXR5cGVvZiBTeW1ib2w8InUiJiZTeW1ib2wsTGk9T2ksQWk9ZnVuY3Rpb24oKXtyZXR1cm4gdHlwZW9mIFRuIT0iZnVuY3Rpb24ifHx0eXBlb2YgU3ltYm9sIT0iZnVuY3Rpb24ifHx0eXBlb2YgVG4oImZvbyIpIT0ic3ltYm9sInx8dHlwZW9mIFN5bWJvbCgiYmFyIikhPSJzeW1ib2wiPyExOkxpKCl9LFRlPXtfX3Byb3RvX186bnVsbCxmb286e319LFJpPU9iamVjdCxNaT1mdW5jdGlvbigpe3JldHVybntfX3Byb3RvX186VGV9LmZvbz09PVRlLmZvbyYmIShUZSBpbnN0YW5jZW9mIFJpKX0sUGk9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsSWk9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSx2aT1GZSx4aT12aS5jYWxsKFBpLElpKSxULEdpPV9pLGtpPUJpLEZpPWJpLE5pPVRpLEl0PVduLFB0PXBlLFVpPXlpLFluPUZ1bmN0aW9uLHllPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gWW4oJyJ1c2Ugc3RyaWN0IjsgcmV0dXJuICgnK3QrIikuY29uc3RydWN0b3I7IikoKX1jYXRjaHt9fSxFdD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2lmKEV0KXRyeXtFdCh7fSwiIil9Y2F0Y2h7RXQ9bnVsbH12YXIgT2U9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgUHR9LHdpPUV0P2Z1bmN0aW9uKCl7dHJ5e3JldHVybiBhcmd1bWVudHMuY2FsbGVlLE9lfWNhdGNoe3RyeXtyZXR1cm4gRXQoYXJndW1lbnRzLCJjYWxsZWUiKS5nZXR9Y2F0Y2h7cmV0dXJuIE9lfX19KCk6T2UsVHQ9QWkoKSxIaT1NaSgpLFY9T2JqZWN0LmdldFByb3RvdHlwZU9mfHwoSGk/ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffTpudWxsKSxBdD17fSxLaT10eXBlb2YgVWludDhBcnJheT4idSJ8fCFWP1Q6VihVaW50OEFycmF5KSxDdD17X19wcm90b19fOm51bGwsIiVBZ2dyZWdhdGVFcnJvciUiOnR5cGVvZiBBZ2dyZWdhdGVFcnJvcj4idSI/VDpBZ2dyZWdhdGVFcnJvciwiJUFycmF5JSI6QXJyYXksIiVBcnJheUJ1ZmZlciUiOnR5cGVvZiBBcnJheUJ1ZmZlcj4idSI/VDpBcnJheUJ1ZmZlciwiJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlIjpUdCYmVj9WKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSk6VCwiJUFzeW5jRnJvbVN5bmNJdGVyYXRvclByb3RvdHlwZSUiOlQsIiVBc3luY0Z1bmN0aW9uJSI6QXQsIiVBc3luY0dlbmVyYXRvciUiOkF0LCIlQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUiOkF0LCIlQXN5bmNJdGVyYXRvclByb3RvdHlwZSUiOkF0LCIlQXRvbWljcyUiOnR5cGVvZiBBdG9taWNzPiJ1Ij9UOkF0b21pY3MsIiVCaWdJbnQlIjp0eXBlb2YgQmlnSW50PiJ1Ij9UOkJpZ0ludCwiJUJpZ0ludDY0QXJyYXklIjp0eXBlb2YgQmlnSW50NjRBcnJheT4idSI/VDpCaWdJbnQ2NEFycmF5LCIlQmlnVWludDY0QXJyYXklIjp0eXBlb2YgQmlnVWludDY0QXJyYXk+InUiP1Q6QmlnVWludDY0QXJyYXksIiVCb29sZWFuJSI6Qm9vbGVhbiwiJURhdGFWaWV3JSI6dHlwZW9mIERhdGFWaWV3PiJ1Ij9UOkRhdGFWaWV3LCIlRGF0ZSUiOkRhdGUsIiVkZWNvZGVVUkklIjpkZWNvZGVVUkksIiVkZWNvZGVVUklDb21wb25lbnQlIjpkZWNvZGVVUklDb21wb25lbnQsIiVlbmNvZGVVUkklIjplbmNvZGVVUkksIiVlbmNvZGVVUklDb21wb25lbnQlIjplbmNvZGVVUklDb21wb25lbnQsIiVFcnJvciUiOkdpLCIlZXZhbCUiOmV2YWwsIiVFdmFsRXJyb3IlIjpraSwiJUZsb2F0MzJBcnJheSUiOnR5cGVvZiBGbG9hdDMyQXJyYXk+InUiP1Q6RmxvYXQzMkFycmF5LCIlRmxvYXQ2NEFycmF5JSI6dHlwZW9mIEZsb2F0NjRBcnJheT4idSI/VDpGbG9hdDY0QXJyYXksIiVGaW5hbGl6YXRpb25SZWdpc3RyeSUiOnR5cGVvZiBGaW5hbGl6YXRpb25SZWdpc3RyeT4idSI/VDpGaW5hbGl6YXRpb25SZWdpc3RyeSwiJUZ1bmN0aW9uJSI6WW4sIiVHZW5lcmF0b3JGdW5jdGlvbiUiOkF0LCIlSW50OEFycmF5JSI6dHlwZW9mIEludDhBcnJheT4idSI/VDpJbnQ4QXJyYXksIiVJbnQxNkFycmF5JSI6dHlwZW9mIEludDE2QXJyYXk+InUiP1Q6SW50MTZBcnJheSwiJUludDMyQXJyYXklIjp0eXBlb2YgSW50MzJBcnJheT4idSI/VDpJbnQzMkFycmF5LCIlaXNGaW5pdGUlIjppc0Zpbml0ZSwiJWlzTmFOJSI6aXNOYU4sIiVJdGVyYXRvclByb3RvdHlwZSUiOlR0JiZWP1YoVihbXVtTeW1ib2wuaXRlcmF0b3JdKCkpKTpULCIlSlNPTiUiOnR5cGVvZiBKU09OPT0ib2JqZWN0Ij9KU09OOlQsIiVNYXAlIjp0eXBlb2YgTWFwPiJ1Ij9UOk1hcCwiJU1hcEl0ZXJhdG9yUHJvdG90eXBlJSI6dHlwZW9mIE1hcD4idSJ8fCFUdHx8IVY/VDpWKG5ldyBNYXAoKVtTeW1ib2wuaXRlcmF0b3JdKCkpLCIlTWF0aCUiOk1hdGgsIiVOdW1iZXIlIjpOdW1iZXIsIiVPYmplY3QlIjpPYmplY3QsIiVwYXJzZUZsb2F0JSI6cGFyc2VGbG9hdCwiJXBhcnNlSW50JSI6cGFyc2VJbnQsIiVQcm9taXNlJSI6dHlwZW9mIFByb21pc2U+InUiP1Q6UHJvbWlzZSwiJVByb3h5JSI6dHlwZW9mIFByb3h5PiJ1Ij9UOlByb3h5LCIlUmFuZ2VFcnJvciUiOkZpLCIlUmVmZXJlbmNlRXJyb3IlIjpOaSwiJVJlZmxlY3QlIjp0eXBlb2YgUmVmbGVjdD4idSI/VDpSZWZsZWN0LCIlUmVnRXhwJSI6UmVnRXhwLCIlU2V0JSI6dHlwZW9mIFNldD4idSI/VDpTZXQsIiVTZXRJdGVyYXRvclByb3RvdHlwZSUiOnR5cGVvZiBTZXQ+InUifHwhVHR8fCFWP1Q6VihuZXcgU2V0KClbU3ltYm9sLml0ZXJhdG9yXSgpKSwiJVNoYXJlZEFycmF5QnVmZmVyJSI6dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPiJ1Ij9UOlNoYXJlZEFycmF5QnVmZmVyLCIlU3RyaW5nJSI6U3RyaW5nLCIlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlIjpUdCYmVj9WKCIiW1N5bWJvbC5pdGVyYXRvcl0oKSk6VCwiJVN5bWJvbCUiOlR0P1N5bWJvbDpULCIlU3ludGF4RXJyb3IlIjpJdCwiJVRocm93VHlwZUVycm9yJSI6d2ksIiVUeXBlZEFycmF5JSI6S2ksIiVUeXBlRXJyb3IlIjpQdCwiJVVpbnQ4QXJyYXklIjp0eXBlb2YgVWludDhBcnJheT4idSI/VDpVaW50OEFycmF5LCIlVWludDhDbGFtcGVkQXJyYXklIjp0eXBlb2YgVWludDhDbGFtcGVkQXJyYXk+InUiP1Q6VWludDhDbGFtcGVkQXJyYXksIiVVaW50MTZBcnJheSUiOnR5cGVvZiBVaW50MTZBcnJheT4idSI/VDpVaW50MTZBcnJheSwiJVVpbnQzMkFycmF5JSI6dHlwZW9mIFVpbnQzMkFycmF5PiJ1Ij9UOlVpbnQzMkFycmF5LCIlVVJJRXJyb3IlIjpVaSwiJVdlYWtNYXAlIjp0eXBlb2YgV2Vha01hcD4idSI/VDpXZWFrTWFwLCIlV2Vha1JlZiUiOnR5cGVvZiBXZWFrUmVmPiJ1Ij9UOldlYWtSZWYsIiVXZWFrU2V0JSI6dHlwZW9mIFdlYWtTZXQ+InUiP1Q6V2Vha1NldH07aWYoVil0cnl7bnVsbC5lcnJvcn1jYXRjaCh0KXt2YXIgVmk9VihWKHQpKTtDdFsiJUVycm9yLnByb3RvdHlwZSUiXT1WaX12YXIgamk9ZnVuY3Rpb24gdChlKXt2YXIgbjtpZihlPT09IiVBc3luY0Z1bmN0aW9uJSIpbj15ZSgiYXN5bmMgZnVuY3Rpb24gKCkge30iKTtlbHNlIGlmKGU9PT0iJUdlbmVyYXRvckZ1bmN0aW9uJSIpbj15ZSgiZnVuY3Rpb24qICgpIHt9Iik7ZWxzZSBpZihlPT09IiVBc3luY0dlbmVyYXRvckZ1bmN0aW9uJSIpbj15ZSgiYXN5bmMgZnVuY3Rpb24qICgpIHt9Iik7ZWxzZSBpZihlPT09IiVBc3luY0dlbmVyYXRvciUiKXt2YXIgaT10KCIlQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUiKTtpJiYobj1pLnByb3RvdHlwZSl9ZWxzZSBpZihlPT09IiVBc3luY0l0ZXJhdG9yUHJvdG90eXBlJSIpe3ZhciBvPXQoIiVBc3luY0dlbmVyYXRvciUiKTtvJiZWJiYobj1WKG8ucHJvdG90eXBlKSl9cmV0dXJuIEN0W2VdPW4sbn0seW49e19fcHJvdG9fXzpudWxsLCIlQXJyYXlCdWZmZXJQcm90b3R5cGUlIjpbIkFycmF5QnVmZmVyIiwicHJvdG90eXBlIl0sIiVBcnJheVByb3RvdHlwZSUiOlsiQXJyYXkiLCJwcm90b3R5cGUiXSwiJUFycmF5UHJvdG9fZW50cmllcyUiOlsiQXJyYXkiLCJwcm90b3R5cGUiLCJlbnRyaWVzIl0sIiVBcnJheVByb3RvX2ZvckVhY2glIjpbIkFycmF5IiwicHJvdG90eXBlIiwiZm9yRWFjaCJdLCIlQXJyYXlQcm90b19rZXlzJSI6WyJBcnJheSIsInByb3RvdHlwZSIsImtleXMiXSwiJUFycmF5UHJvdG9fdmFsdWVzJSI6WyJBcnJheSIsInByb3RvdHlwZSIsInZhbHVlcyJdLCIlQXN5bmNGdW5jdGlvblByb3RvdHlwZSUiOlsiQXN5bmNGdW5jdGlvbiIsInByb3RvdHlwZSJdLCIlQXN5bmNHZW5lcmF0b3IlIjpbIkFzeW5jR2VuZXJhdG9yRnVuY3Rpb24iLCJwcm90b3R5cGUiXSwiJUFzeW5jR2VuZXJhdG9yUHJvdG90eXBlJSI6WyJBc3luY0dlbmVyYXRvckZ1bmN0aW9uIiwicHJvdG90eXBlIiwicHJvdG90eXBlIl0sIiVCb29sZWFuUHJvdG90eXBlJSI6WyJCb29sZWFuIiwicHJvdG90eXBlIl0sIiVEYXRhVmlld1Byb3RvdHlwZSUiOlsiRGF0YVZpZXciLCJwcm90b3R5cGUiXSwiJURhdGVQcm90b3R5cGUlIjpbIkRhdGUiLCJwcm90b3R5cGUiXSwiJUVycm9yUHJvdG90eXBlJSI6WyJFcnJvciIsInByb3RvdHlwZSJdLCIlRXZhbEVycm9yUHJvdG90eXBlJSI6WyJFdmFsRXJyb3IiLCJwcm90b3R5cGUiXSwiJUZsb2F0MzJBcnJheVByb3RvdHlwZSUiOlsiRmxvYXQzMkFycmF5IiwicHJvdG90eXBlIl0sIiVGbG9hdDY0QXJyYXlQcm90b3R5cGUlIjpbIkZsb2F0NjRBcnJheSIsInByb3RvdHlwZSJdLCIlRnVuY3Rpb25Qcm90b3R5cGUlIjpbIkZ1bmN0aW9uIiwicHJvdG90eXBlIl0sIiVHZW5lcmF0b3IlIjpbIkdlbmVyYXRvckZ1bmN0aW9uIiwicHJvdG90eXBlIl0sIiVHZW5lcmF0b3JQcm90b3R5cGUlIjpbIkdlbmVyYXRvckZ1bmN0aW9uIiwicHJvdG90eXBlIiwicHJvdG90eXBlIl0sIiVJbnQ4QXJyYXlQcm90b3R5cGUlIjpbIkludDhBcnJheSIsInByb3RvdHlwZSJdLCIlSW50MTZBcnJheVByb3RvdHlwZSUiOlsiSW50MTZBcnJheSIsInByb3RvdHlwZSJdLCIlSW50MzJBcnJheVByb3RvdHlwZSUiOlsiSW50MzJBcnJheSIsInByb3RvdHlwZSJdLCIlSlNPTlBhcnNlJSI6WyJKU09OIiwicGFyc2UiXSwiJUpTT05TdHJpbmdpZnklIjpbIkpTT04iLCJzdHJpbmdpZnkiXSwiJU1hcFByb3RvdHlwZSUiOlsiTWFwIiwicHJvdG90eXBlIl0sIiVOdW1iZXJQcm90b3R5cGUlIjpbIk51bWJlciIsInByb3RvdHlwZSJdLCIlT2JqZWN0UHJvdG90eXBlJSI6WyJPYmplY3QiLCJwcm90b3R5cGUiXSwiJU9ialByb3RvX3RvU3RyaW5nJSI6WyJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyJdLCIlT2JqUHJvdG9fdmFsdWVPZiUiOlsiT2JqZWN0IiwicHJvdG90eXBlIiwidmFsdWVPZiJdLCIlUHJvbWlzZVByb3RvdHlwZSUiOlsiUHJvbWlzZSIsInByb3RvdHlwZSJdLCIlUHJvbWlzZVByb3RvX3RoZW4lIjpbIlByb21pc2UiLCJwcm90b3R5cGUiLCJ0aGVuIl0sIiVQcm9taXNlX2FsbCUiOlsiUHJvbWlzZSIsImFsbCJdLCIlUHJvbWlzZV9yZWplY3QlIjpbIlByb21pc2UiLCJyZWplY3QiXSwiJVByb21pc2VfcmVzb2x2ZSUiOlsiUHJvbWlzZSIsInJlc29sdmUiXSwiJVJhbmdlRXJyb3JQcm90b3R5cGUlIjpbIlJhbmdlRXJyb3IiLCJwcm90b3R5cGUiXSwiJVJlZmVyZW5jZUVycm9yUHJvdG90eXBlJSI6WyJSZWZlcmVuY2VFcnJvciIsInByb3RvdHlwZSJdLCIlUmVnRXhwUHJvdG90eXBlJSI6WyJSZWdFeHAiLCJwcm90b3R5cGUiXSwiJVNldFByb3RvdHlwZSUiOlsiU2V0IiwicHJvdG90eXBlIl0sIiVTaGFyZWRBcnJheUJ1ZmZlclByb3RvdHlwZSUiOlsiU2hhcmVkQXJyYXlCdWZmZXIiLCJwcm90b3R5cGUiXSwiJVN0cmluZ1Byb3RvdHlwZSUiOlsiU3RyaW5nIiwicHJvdG90eXBlIl0sIiVTeW1ib2xQcm90b3R5cGUlIjpbIlN5bWJvbCIsInByb3RvdHlwZSJdLCIlU3ludGF4RXJyb3JQcm90b3R5cGUlIjpbIlN5bnRheEVycm9yIiwicHJvdG90eXBlIl0sIiVUeXBlZEFycmF5UHJvdG90eXBlJSI6WyJUeXBlZEFycmF5IiwicHJvdG90eXBlIl0sIiVUeXBlRXJyb3JQcm90b3R5cGUlIjpbIlR5cGVFcnJvciIsInByb3RvdHlwZSJdLCIlVWludDhBcnJheVByb3RvdHlwZSUiOlsiVWludDhBcnJheSIsInByb3RvdHlwZSJdLCIlVWludDhDbGFtcGVkQXJyYXlQcm90b3R5cGUlIjpbIlVpbnQ4Q2xhbXBlZEFycmF5IiwicHJvdG90eXBlIl0sIiVVaW50MTZBcnJheVByb3RvdHlwZSUiOlsiVWludDE2QXJyYXkiLCJwcm90b3R5cGUiXSwiJVVpbnQzMkFycmF5UHJvdG90eXBlJSI6WyJVaW50MzJBcnJheSIsInByb3RvdHlwZSJdLCIlVVJJRXJyb3JQcm90b3R5cGUlIjpbIlVSSUVycm9yIiwicHJvdG90eXBlIl0sIiVXZWFrTWFwUHJvdG90eXBlJSI6WyJXZWFrTWFwIiwicHJvdG90eXBlIl0sIiVXZWFrU2V0UHJvdG90eXBlJSI6WyJXZWFrU2V0IiwicHJvdG90eXBlIl19LFZ0PUZlLHVlPXhpLHppPVZ0LmNhbGwoRnVuY3Rpb24uY2FsbCxBcnJheS5wcm90b3R5cGUuY29uY2F0KSwkaT1WdC5jYWxsKEZ1bmN0aW9uLmFwcGx5LEFycmF5LnByb3RvdHlwZS5zcGxpY2UpLE9uPVZ0LmNhbGwoRnVuY3Rpb24uY2FsbCxTdHJpbmcucHJvdG90eXBlLnJlcGxhY2UpLGZlPVZ0LmNhbGwoRnVuY3Rpb24uY2FsbCxTdHJpbmcucHJvdG90eXBlLnNsaWNlKSxXaT1WdC5jYWxsKEZ1bmN0aW9uLmNhbGwsUmVnRXhwLnByb3RvdHlwZS5leGVjKSxZaT0vW14lLltcXV0rfFxbKD86KC0/XGQrKD86XC5cZCspPyl8KFsiJ10pKCg/Oig/IVwyKVteXFxdfFxcLikqPylcMilcXXwoPz0oPzpcLnxcW1xdKSg/OlwufFxbXF18JSQpKS9nLEppPS9cXChcXCk/L2csUWk9ZnVuY3Rpb24oZSl7dmFyIG49ZmUoZSwwLDEpLGk9ZmUoZSwtMSk7aWYobj09PSIlIiYmaSE9PSIlIil0aHJvdyBuZXcgSXQoImludmFsaWQgaW50cmluc2ljIHN5bnRheCwgZXhwZWN0ZWQgY2xvc2luZyBgJWAiKTtpZihpPT09IiUiJiZuIT09IiUiKXRocm93IG5ldyBJdCgiaW52YWxpZCBpbnRyaW5zaWMgc3ludGF4LCBleHBlY3RlZCBvcGVuaW5nIGAlYCIpO3ZhciBvPVtdO3JldHVybiBPbihlLFlpLGZ1bmN0aW9uKGEscixjLGwpe29bby5sZW5ndGhdPWM/T24obCxKaSwiJDEiKTpyfHxhfSksb30sWmk9ZnVuY3Rpb24oZSxuKXt2YXIgaT1lLG87aWYodWUoeW4saSkmJihvPXluW2ldLGk9IiUiK29bMF0rIiUiKSx1ZShDdCxpKSl7dmFyIGE9Q3RbaV07aWYoYT09PUF0JiYoYT1qaShpKSksdHlwZW9mIGE+InUiJiYhbil0aHJvdyBuZXcgUHQoImludHJpbnNpYyAiK2UrIiBleGlzdHMsIGJ1dCBpcyBub3QgYXZhaWxhYmxlLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZSEiKTtyZXR1cm57YWxpYXM6byxuYW1lOmksdmFsdWU6YX19dGhyb3cgbmV3IEl0KCJpbnRyaW5zaWMgIitlKyIgZG9lcyBub3QgZXhpc3QhIil9LGp0PWZ1bmN0aW9uKGUsbil7aWYodHlwZW9mIGUhPSJzdHJpbmcifHxlLmxlbmd0aD09PTApdGhyb3cgbmV3IFB0KCJpbnRyaW5zaWMgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZyIpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSYmdHlwZW9mIG4hPSJib29sZWFuIil0aHJvdyBuZXcgUHQoJyJhbGxvd01pc3NpbmciIGFyZ3VtZW50IG11c3QgYmUgYSBib29sZWFuJyk7aWYoV2koL14lP1teJV0qJT8kLyxlKT09PW51bGwpdGhyb3cgbmV3IEl0KCJgJWAgbWF5IG5vdCBiZSBwcmVzZW50IGFueXdoZXJlIGJ1dCBhdCB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgdGhlIGludHJpbnNpYyBuYW1lIik7dmFyIGk9UWkoZSksbz1pLmxlbmd0aD4wP2lbMF06IiIsYT1aaSgiJSIrbysiJSIsbikscj1hLm5hbWUsYz1hLnZhbHVlLGw9ITEsZj1hLmFsaWFzO2YmJihvPWZbMF0sJGkoaSx6aShbMCwxXSxmKSkpO2Zvcih2YXIgdT0xLGQ9ITA7dTxpLmxlbmd0aDt1Kz0xKXt2YXIgbT1pW3VdLEU9ZmUobSwwLDEpLEM9ZmUobSwtMSk7aWYoKEU9PT0nIid8fEU9PT0iJyJ8fEU9PT0iYCJ8fEM9PT0nIid8fEM9PT0iJyJ8fEM9PT0iYCIpJiZFIT09Qyl0aHJvdyBuZXcgSXQoInByb3BlcnR5IG5hbWVzIHdpdGggcXVvdGVzIG11c3QgaGF2ZSBtYXRjaGluZyBxdW90ZXMiKTtpZigobT09PSJjb25zdHJ1Y3RvciJ8fCFkKSYmKGw9ITApLG8rPSIuIittLHI9IiUiK28rIiUiLHVlKEN0LHIpKWM9Q3Rbcl07ZWxzZSBpZihjIT1udWxsKXtpZighKG0gaW4gYykpe2lmKCFuKXRocm93IG5ldyBQdCgiYmFzZSBpbnRyaW5zaWMgZm9yICIrZSsiIGV4aXN0cywgYnV0IHRoZSBwcm9wZXJ0eSBpcyBub3QgYXZhaWxhYmxlLiIpO3JldHVybn1pZihFdCYmdSsxPj1pLmxlbmd0aCl7dmFyIEQ9RXQoYyxtKTtkPSEhRCxkJiYiZ2V0ImluIEQmJiEoIm9yaWdpbmFsVmFsdWUiaW4gRC5nZXQpP2M9RC5nZXQ6Yz1jW21dfWVsc2UgZD11ZShjLG0pLGM9Y1ttXTtkJiYhbCYmKEN0W3JdPWMpfX1yZXR1cm4gY30sTGUsTG47ZnVuY3Rpb24gTmUoKXtpZihMbilyZXR1cm4gTGU7TG49MTt2YXIgdD1qdCxlPXQoIiVPYmplY3QuZGVmaW5lUHJvcGVydHklIiwhMCl8fCExO2lmKGUpdHJ5e2Uoe30sImEiLHt2YWx1ZToxfSl9Y2F0Y2h7ZT0hMX1yZXR1cm4gTGU9ZSxMZX12YXIgWGk9anQsZWU9WGkoIiVPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJSIsITApO2lmKGVlKXRyeXtlZShbXSwibGVuZ3RoIil9Y2F0Y2h7ZWU9bnVsbH12YXIgSm49ZWUsQW49TmUoKSxxaT1Xbix5dD1wZSxSbj1Kbix0YT1mdW5jdGlvbihlLG4saSl7aWYoIWV8fHR5cGVvZiBlIT0ib2JqZWN0IiYmdHlwZW9mIGUhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IHl0KCJgb2JqYCBtdXN0IGJlIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uYCIpO2lmKHR5cGVvZiBuIT0ic3RyaW5nIiYmdHlwZW9mIG4hPSJzeW1ib2wiKXRocm93IG5ldyB5dCgiYHByb3BlcnR5YCBtdXN0IGJlIGEgc3RyaW5nIG9yIGEgc3ltYm9sYCIpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MyYmdHlwZW9mIGFyZ3VtZW50c1szXSE9ImJvb2xlYW4iJiZhcmd1bWVudHNbM10hPT1udWxsKXRocm93IG5ldyB5dCgiYG5vbkVudW1lcmFibGVgLCBpZiBwcm92aWRlZCwgbXVzdCBiZSBhIGJvb2xlYW4gb3IgbnVsbCIpO2lmKGFyZ3VtZW50cy5sZW5ndGg+NCYmdHlwZW9mIGFyZ3VtZW50c1s0XSE9ImJvb2xlYW4iJiZhcmd1bWVudHNbNF0hPT1udWxsKXRocm93IG5ldyB5dCgiYG5vbldyaXRhYmxlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIG9yIG51bGwiKTtpZihhcmd1bWVudHMubGVuZ3RoPjUmJnR5cGVvZiBhcmd1bWVudHNbNV0hPSJib29sZWFuIiYmYXJndW1lbnRzWzVdIT09bnVsbCl0aHJvdyBuZXcgeXQoImBub25Db25maWd1cmFibGVgLCBpZiBwcm92aWRlZCwgbXVzdCBiZSBhIGJvb2xlYW4gb3IgbnVsbCIpO2lmKGFyZ3VtZW50cy5sZW5ndGg+NiYmdHlwZW9mIGFyZ3VtZW50c1s2XSE9ImJvb2xlYW4iKXRocm93IG5ldyB5dCgiYGxvb3NlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIik7dmFyIG89YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTpudWxsLGE9YXJndW1lbnRzLmxlbmd0aD40P2FyZ3VtZW50c1s0XTpudWxsLHI9YXJndW1lbnRzLmxlbmd0aD41P2FyZ3VtZW50c1s1XTpudWxsLGM9YXJndW1lbnRzLmxlbmd0aD42P2FyZ3VtZW50c1s2XTohMSxsPSEhUm4mJlJuKGUsbik7aWYoQW4pQW4oZSxuLHtjb25maWd1cmFibGU6cj09PW51bGwmJmw/bC5jb25maWd1cmFibGU6IXIsZW51bWVyYWJsZTpvPT09bnVsbCYmbD9sLmVudW1lcmFibGU6IW8sdmFsdWU6aSx3cml0YWJsZTphPT09bnVsbCYmbD9sLndyaXRhYmxlOiFhfSk7ZWxzZSBpZihjfHwhbyYmIWEmJiFyKWVbbl09aTtlbHNlIHRocm93IG5ldyBxaSgiVGhpcyBlbnZpcm9ubWVudCBkb2VzIG5vdCBzdXBwb3J0IGRlZmluaW5nIGEgcHJvcGVydHkgYXMgbm9uLWNvbmZpZ3VyYWJsZSwgbm9uLXdyaXRhYmxlLCBvciBub24tZW51bWVyYWJsZS4iKX0sR2U9TmUoKSxRbj1mdW5jdGlvbigpe3JldHVybiEhR2V9O1FuLmhhc0FycmF5TGVuZ3RoRGVmaW5lQnVnPWZ1bmN0aW9uKCl7aWYoIUdlKXJldHVybiBudWxsO3RyeXtyZXR1cm4gR2UoW10sImxlbmd0aCIse3ZhbHVlOjF9KS5sZW5ndGghPT0xfWNhdGNoe3JldHVybiEwfX07dmFyIGVhPVFuLG5hPWp0LE1uPXRhLG9hPWVhKCksUG49Sm4sSW49cGUsaWE9bmEoIiVNYXRoLmZsb29yJSIpLGFhPWZ1bmN0aW9uKGUsbil7aWYodHlwZW9mIGUhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IEluKCJgZm5gIGlzIG5vdCBhIGZ1bmN0aW9uIik7aWYodHlwZW9mIG4hPSJudW1iZXIifHxuPDB8fG4+NDI5NDk2NzI5NXx8aWEobikhPT1uKXRocm93IG5ldyBJbigiYGxlbmd0aGAgbXVzdCBiZSBhIHBvc2l0aXZlIDMyLWJpdCBpbnRlZ2VyIik7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiYhIWFyZ3VtZW50c1syXSxvPSEwLGE9ITA7aWYoImxlbmd0aCJpbiBlJiZQbil7dmFyIHI9UG4oZSwibGVuZ3RoIik7ciYmIXIuY29uZmlndXJhYmxlJiYobz0hMSksciYmIXIud3JpdGFibGUmJihhPSExKX1yZXR1cm4ob3x8YXx8IWkpJiYob2E/TW4oZSwibGVuZ3RoIixuLCEwLCEwKTpNbihlLCJsZW5ndGgiLG4pKSxlfTsoZnVuY3Rpb24odCl7dmFyIGU9RmUsbj1qdCxpPWFhLG89cGUsYT1uKCIlRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5JSIpLHI9bigiJUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsJSIpLGM9bigiJVJlZmxlY3QuYXBwbHklIiwhMCl8fGUuY2FsbChyLGEpLGw9TmUoKSxmPW4oIiVNYXRoLm1heCUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24obSl7aWYodHlwZW9mIG0hPSJmdW5jdGlvbiIpdGhyb3cgbmV3IG8oImEgZnVuY3Rpb24gaXMgcmVxdWlyZWQiKTt2YXIgRT1jKGUscixhcmd1bWVudHMpO3JldHVybiBpKEUsMStmKDAsbS5sZW5ndGgtKGFyZ3VtZW50cy5sZW5ndGgtMSkpLCEwKX07dmFyIHU9ZnVuY3Rpb24oKXtyZXR1cm4gYyhlLGEsYXJndW1lbnRzKX07bD9sKHQuZXhwb3J0cywiYXBwbHkiLHt2YWx1ZTp1fSk6dC5leHBvcnRzLmFwcGx5PXV9KSgkbik7dmFyIFpuPSRuLmV4cG9ydHMsWG49anQscW49Wm4sc2E9cW4oWG4oIlN0cmluZy5wcm90b3R5cGUuaW5kZXhPZiIpKSxyYT1mdW5jdGlvbihlLG4pe3ZhciBpPVhuKGUsISFuKTtyZXR1cm4gdHlwZW9mIGk9PSJmdW5jdGlvbiImJnNhKGUsIi5wcm90b3R5cGUuIik+LTE/cW4oaSk6aX0sUXQ9KHR5cGVvZiBKU09OPCJ1Ij9KU09OOnNpKCkpLnN0cmluZ2lmeSxsYT1saSxjYT1kaSx1YT1abix0bz1yYSx2bj10bygiQXJyYXkucHJvdG90eXBlLmpvaW4iKSxBZT10bygiQXJyYXkucHJvdG90eXBlLnB1c2giKSx4bj1mdW5jdGlvbihlLG4pe2Zvcih2YXIgaT0iIixvPTA7bzxlO28rPTEpaSs9bjtyZXR1cm4gaX0sZmE9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBufSxkYT1mdW5jdGlvbihlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxpPW4mJm4uc3BhY2V8fCIiO3R5cGVvZiBpPT0ibnVtYmVyIiYmKGk9eG4oaSwiICIpKTt2YXIgbz0hIW4mJnR5cGVvZiBuLmN5Y2xlcz09ImJvb2xlYW4iJiZuLmN5Y2xlcyxhPW4mJm4ucmVwbGFjZXI/dWEobi5yZXBsYWNlcik6ZmEscj10eXBlb2Ygbj09ImZ1bmN0aW9uIj9uOm4mJm4uY21wLGM9ciYmZnVuY3Rpb24oZil7dmFyIHU9ci5sZW5ndGg+MiYmZnVuY3Rpb24obSl7cmV0dXJuIGZbbV19O3JldHVybiBmdW5jdGlvbihkLG0pe3JldHVybiByKHtrZXk6ZCx2YWx1ZTpmW2RdfSx7a2V5Om0sdmFsdWU6ZlttXX0sdT97X19wcm90b19fOm51bGwsZ2V0OnV9OnZvaWQgMCl9fSxsPVtdO3JldHVybiBmdW5jdGlvbiBmKHUsZCxtLEUpe3ZhciBDPWk/YApgK3huKEUsaSk6IiIsRD1pPyI6ICI6IjoiO2lmKG0mJm0udG9KU09OJiZ0eXBlb2YgbS50b0pTT049PSJmdW5jdGlvbiImJihtPW0udG9KU09OKCkpLG09YSh1LGQsbSksbSE9PXZvaWQgMCl7aWYodHlwZW9mIG0hPSJvYmplY3QifHxtPT09bnVsbClyZXR1cm4gUXQobSk7aWYobGEobSkpe2Zvcih2YXIgdj1bXSxTPTA7UzxtLmxlbmd0aDtTKyspe3ZhciBJPWYobSxTLG1bU10sRSsxKXx8UXQobnVsbCk7QWUodixDK2krSSl9cmV0dXJuIlsiK3ZuKHYsIiwiKStDKyJdIn1pZihsLmluZGV4T2YobSkhPT0tMSl7aWYobylyZXR1cm4gUXQoIl9fY3ljbGVfXyIpO3Rocm93IG5ldyBUeXBlRXJyb3IoIkNvbnZlcnRpbmcgY2lyY3VsYXIgc3RydWN0dXJlIHRvIEpTT04iKX1lbHNlIEFlKGwsbSk7Zm9yKHZhciB5PWNhKG0pLnNvcnQoYyYmYyhtKSksdj1bXSxTPTA7Uzx5Lmxlbmd0aDtTKyspe3ZhciBkPXlbU10sQj1mKG0sZCxtW2RdLEUrMSk7aWYoQil7dmFyIE89UXQoZCkrRCtCO0FlKHYsQytpK08pfX1yZXR1cm4gbC5zcGxpY2UobC5pbmRleE9mKG0pLDEpLCJ7Iit2bih2LCIsIikrQysifSJ9fSh7IiI6ZX0sIiIsZSwwKX0sbWE9b2koZGEpLHo9W107Zm9yKHZhciBSZT0wO1JlPDI1NjsrK1JlKXoucHVzaCgoUmUrMjU2KS50b1N0cmluZygxNikuc2xpY2UoMSkpO2Z1bmN0aW9uIHBhKHQsZT0wKXtyZXR1cm4oelt0W2UrMF1dK3pbdFtlKzFdXSt6W3RbZSsyXV0relt0W2UrM11dKyItIit6W3RbZSs0XV0relt0W2UrNV1dKyItIit6W3RbZSs2XV0relt0W2UrN11dKyItIit6W3RbZSs4XV0relt0W2UrOV1dKyItIit6W3RbZSsxMF1dK3pbdFtlKzExXV0relt0W2UrMTJdXSt6W3RbZSsxM11dK3pbdFtlKzE0XV0relt0W2UrMTVdXSkudG9Mb3dlckNhc2UoKX12YXIgWnQsZ2E9bmV3IFVpbnQ4QXJyYXkoMTYpO2Z1bmN0aW9uIGhhKCl7aWYoIVp0JiYoWnQ9dHlwZW9mIGNyeXB0bzwidSImJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pLCFadCkpdGhyb3cgbmV3IEVycm9yKCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCIpO3JldHVybiBadChnYSl9dmFyIEVhPXR5cGVvZiBjcnlwdG88InUiJiZjcnlwdG8ucmFuZG9tVVVJRCYmY3J5cHRvLnJhbmRvbVVVSUQuYmluZChjcnlwdG8pLEduPXtyYW5kb21VVUlEOkVhfTtmdW5jdGlvbiBrbih0LGUsbil7aWYoR24ucmFuZG9tVVVJRCYmIWUmJiF0KXJldHVybiBHbi5yYW5kb21VVUlEKCk7dD10fHx7fTt2YXIgaT10LnJhbmRvbXx8KHQucm5nfHxoYSkoKTtyZXR1cm4gaVs2XT1pWzZdJjE1fDY0LGlbOF09aVs4XSY2M3wxMjgscGEoaSl9Y29uc3QgZz17Y2xvbmUodCl7cmV0dXJuIHQmJkpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpfSxvYmplY3RIYXNoKHQpe3JldHVybiBtYSh0KX0sc3VtQXJyYXk6dD0+dC5yZWR1Y2UoKGUsbik9PmUrbiwwKSxwcmVjaXNpb25Sb3VuZDoodCxlPTUpPT57Y29uc3Qgbj1NYXRoLnBvdygxMCxlKTtyZXR1cm4gTWF0aC5yb3VuZCh0Km4pL259LGNhbGN1bGF0ZVJlbGljTWFpblN0YXRWYWx1ZToodCxlLG4pPT52ZS5NYWluU3RhdHNWYWx1ZXNbdF1bZV0uYmFzZSt2ZS5NYWluU3RhdHNWYWx1ZXNbdF1bZV0uaW5jcmVtZW50Km4sd3JhcHBlZEZpeGVkVDp0PT4oe2dldDp0P3cuZ2V0Rml4ZWRUOkNhfSksZmxpcFN0cmluZ01hcHBpbmc6dD0+T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHQpLm1hcCgoW2Usbl0pPT5bbixlXSkpLHV1aWQ6KCk9PmtuKCksdXVpZEFscGhhT25seTooKT0+a24oKS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywiIiksc3RyaXBUcmFpbGluZ1NsYXNoZXM6dD0+dC5yZXBsYWNlKC9cLyskLywiIiksc2xlZXA6dD0+bmV3IFByb21pc2UoZT0+c2V0VGltZW91dChlLHQpKSxjb25zb2xlV2FybldyYXBwZXI6dD0+e3QgaW5zdGFuY2VvZiBFcnJvcj9jb25zb2xlLndhcm4odC5uYW1lLHQubWVzc2FnZSk6Y29uc29sZS53YXJuKCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkIix0KX0sdmFsaWRhdGVVdWlkOnQ9Pntjb25zdCBlPXQudHJpbSgpO3JldHVybi9eXGR7OX0kLy50ZXN0KGUpP2U6bnVsbH0sc21vb3RoU2Nyb2xsTmVhcmVzdDoodCxlPTMwMCk9Pntjb25zdCBuPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fGRvY3VtZW50LmJvZHksbz1pLnNjcm9sbFRvcCxhPW4udG9wK28scj1uLmJvdHRvbStvLGM9aS5jbGllbnRIZWlnaHQ7bGV0IGw7aWYobi50b3A8MClsPWE7ZWxzZSBpZihuLmJvdHRvbT5jKWw9ci1jKzU7ZWxzZSByZXR1cm47Y29uc3QgZj1wZXJmb3JtYW5jZS5ub3coKSx1PW8sZD1sLXU7ZnVuY3Rpb24gbShFKXtjb25zdCBDPUUtZixEPU1hdGgubWluKEMvZSwxKSxTPUQ8LjU/MipEKkQ6MS1NYXRoLnBvdygtMipEKzIsMikvMjtpLnNjcm9sbFRvKDAsdStkKlMpLEM8ZSYmcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG0pfXJlcXVlc3RBbmltYXRpb25GcmFtZShtKX19LENhPSgpPT4oKT0+IiI7dmFyIERhPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQWR2ZXJzYXJpYWwiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMDAxNCIpLG89Wy4xLC4xMiwuMTQsLjE2LC4xOF0sYT17ZGVmZWF0ZWRFbmVteVNwZEJ1ZmY6ITB9LHI9e2RlZmVhdGVkRW5lbXlTcGRCdWZmOntsYzohMCxpZDoiZGVmZWF0ZWRFbmVteVNwZEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5kZWZlYXRlZEVuZW15U3BkQnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmRlZmVhdGVkRW5lbXlTcGRCdWZmLmNvbnRlbnQiLHtTcGRCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLlNQRF9QLmJ1ZmYodS5kZWZlYXRlZEVuZW15U3BkQnVmZj9vW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFNhPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQW1iZXIiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMDAwMyIpLG89Wy4xNiwuMiwuMjQsLjI4LC4zMl0sYT17aHA1MERlZkJ1ZmY6ITB9LHI9e2hwNTBEZWZCdWZmOntsYzohMCxpZDoiaHA1MERlZkJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5ocDUwRGVmQnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmhwNTBEZWZCdWZmLmNvbnRlbnQiLHtEZWZCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLkRFRl9QLmJ1ZmYodS5ocDUwRGVmQnVmZj9vW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LF9hPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQXJyb3dzIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjAwMDAiKSxvPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxhPXtjcml0QnVmZjohMH0scj17Y3JpdEJ1ZmY6e2xjOiEwLGlkOiJjcml0QnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmNyaXRCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuY3JpdEJ1ZmYuY29udGVudCIse0NyaXRCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLkNSLmJ1ZmYodS5jcml0QnVmZj9vW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LEJhPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQ2hvcnVzIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjAwMDUiKSxvPVsuMDgsLjA5LC4xLC4xMSwuMTJdLGE9e2luQmF0dGxlQXRrQnVmZjohMH0scj17aW5CYXR0bGVBdGtCdWZmOntsYzohMCxpZDoiaW5CYXR0bGVBdGtCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuaW5CYXR0bGVBdGtCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuaW5CYXR0bGVBdGtCdWZmLmNvbnRlbnQiLHtBdGtCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fSxjPXtpbkJhdHRsZUF0a0J1ZmY6ci5pbkJhdHRsZUF0a0J1ZmZ9O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLHRlYW1tYXRlQ29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhjKSxkZWZhdWx0czooKT0+YSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2luQmF0dGxlQXRrQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoobCxmLHUpPT57Y29uc3QgZD1mLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztsLkFUS19QLmJ1ZmZUZWFtKGQuaW5CYXR0bGVBdGtCdWZmP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX07Y29uc3Qgamw9LjA2LHpsPTA7dmFyIGx0PSh0PT4odFt0LkJBU0lDPTFdPSJCQVNJQyIsdFt0LlNLSUxMPTJdPSJTS0lMTCIsdFt0LlVMVD00XT0iVUxUIix0W3QuRlVBPThdPSJGVUEiLHRbdC5ET1Q9MTZdPSJET1QiLHRbdC5CUkVBSz0zMl09IkJSRUFLIix0W3QuTUVNT19TS0lMTD02NF09Ik1FTU9fU0tJTEwiLHRbdC5NRU1PX1RBTEVOVD0xMjhdPSJNRU1PX1RBTEVOVCIsdCkpKGx0fHx7fSk7Y29uc3QgcHQ9MSxXPTIsJD00LGV0PTgsZ2U9MTYsd3Q9MzIsZW89NjQsRm49MTI4LGJhPTI1NiwkbD0wLFdsPTE7ZnVuY3Rpb24gVGEodCxlKXtjb25zdCBuPSIgIi5yZXBlYXQoZSoyKTtyZXR1cm4gdC5zcGxpdChgCmApLm1hcChpPT5uK2kpLmpvaW4oYApgKX1mdW5jdGlvbiB2dCh0KXtyZXR1cm4gdD8idHJ1ZSI6ImZhbHNlIn1mdW5jdGlvbiBZbCh0KXtyZXR1cm4gdD8iZmFsc2UiOiJ0cnVlIn1mdW5jdGlvbiB5YSh0LGUpe3JldHVybiB0LnRlYW1tYXRlSW5kZXg9PT0wP2UudGVhbW1hdGUwOnQudGVhbW1hdGVJbmRleD09PTE/ZS50ZWFtbWF0ZTE6ZS50ZWFtbWF0ZTJ9ZnVuY3Rpb24gWSh0LGUsbixpKXtsZXQgbztpZih0LnRlYW1tYXRlSW5kZXghPW51bGwpe2NvbnN0IGE9eWEodCxuKTtvPXsuLi5uLHRlYW1tYXRlQ2hhcmFjdGVyQ29uZGl0aW9uYWxzOmEuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLHRlYW1tYXRlTGlnaHRDb25lQ29uZGl0aW9uYWxzOmEubGlnaHRDb25lQ29uZGl0aW9uYWxzfX1lbHNlIG89bjt0LmFjdGl2YXRpb249PVEuU0lOR0xFPyFuLmNvbmRpdGlvbmFsU3RhdGVbdC5pZF0mJnQuY29uZGl0aW9uKGUsbyxpKSYmKG4uY29uZGl0aW9uYWxTdGF0ZVt0LmlkXT0xLHQuZWZmZWN0KGUsbyxpKSk6dC5hY3RpdmF0aW9uPT1RLkNPTlRJTlVPVVMmJnQuY29uZGl0aW9uKGUsbyxpKSYmdC5lZmZlY3QoZSxvLGkpfWZ1bmN0aW9uIG90KHQsZSl7cmV0dXJuYApmbiBldmFsdWF0ZSR7dC5pZH0ocF94OiBwdHI8ZnVuY3Rpb24sIENvbXB1dGVkU3RhdHM+LCBwX206IHB0cjxmdW5jdGlvbiwgQ29tcHV0ZWRTdGF0cz4sIHBfc2V0czogcHRyPGZ1bmN0aW9uLCBTZXRzPiwgcF9zdGF0ZTogcHRyPGZ1bmN0aW9uLCBDb25kaXRpb25hbFN0YXRlPikgewogIGxldCB4ID0gKnBfeDsKJHtUYShlLnRyaW0oKSwxKX0KfQogIGB9Y29uc3Qgbm89e0hQX1A6MCxBVEtfUDowLERFRl9QOjAsU1BEX1A6MCxIUDoxZS04LEFUSzoxZS04LERFRjoxZS04LFNQRDoxZS04LENSOjFlLTgsQ0Q6MWUtOCxFSFI6MWUtOCxSRVM6MWUtOCxCRToxZS04LEVSUjoxZS04LE9IQjoxZS04LFBIWVNJQ0FMX0RNR19CT09TVDoxZS04LEZJUkVfRE1HX0JPT1NUOjFlLTgsSUNFX0RNR19CT09TVDoxZS04LExJR0hUTklOR19ETUdfQk9PU1Q6MWUtOCxXSU5EX0RNR19CT09TVDoxZS04LFFVQU5UVU1fRE1HX0JPT1NUOjFlLTgsSU1BR0lOQVJZX0RNR19CT09TVDoxZS04LEVMRU1FTlRBTF9ETUc6MWUtOH07ZnVuY3Rpb24gb28oKXtyZXR1cm4gRmxvYXQzMkFycmF5LmZyb20oT2JqZWN0LnZhbHVlcyhubykpfWNvbnN0IE9hPW9vKCk7Y2xhc3MgaGV7Y29uc3RydWN0b3IoZT0hMSxuPSExKXtVKHRoaXMsImEiLG9vKCkpO1UodGhpcywibSIpO1UodGhpcywiYnVmZnMiKTtVKHRoaXMsImJ1ZmZzTWVtbyIpO1UodGhpcywidHJhY2UiKTtVKHRoaXMsInJlbGljU2V0SW5kZXgiKTtVKHRoaXMsIm9ybmFtZW50U2V0SW5kZXgiKTtVKHRoaXMsInNldHMiKTtVKHRoaXMsInNldHNBcnJheSIpO1UodGhpcywiaWQiKTtVKHRoaXMsIndlaWdodCIpO3RoaXMubT1uP251bGw6bmV3IGhlKGUsITAsKCk9PnRoaXMpLHRoaXMuYnVmZnM9W10sdGhpcy5idWZmc01lbW89W10sdGhpcy50cmFjZT1lLHRoaXMucmVsaWNTZXRJbmRleD0wLHRoaXMub3JuYW1lbnRTZXRJbmRleD0wLHRoaXMuc2V0cz17fSx0aGlzLnNldHNBcnJheT1bXSx0aGlzLmlkPS0xLHRoaXMud2VpZ2h0PTAsT2JqZWN0LmtleXMobm8pLmZvckVhY2goKGksbyk9Pntjb25zdCBhPShyLGMpPT50aGlzLnRyYWNlJiZ0aGlzLmJ1ZmZzLnB1c2goe3N0YXQ6aSxrZXk6byx2YWx1ZTpyLHNvdXJjZTpjfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsaSx7dmFsdWU6e2J1ZmY6KHIsYyk9PntyIT0wJiYodGhpcy5hW29dKz1yLGEocixjKSl9LHNldDoocixjKT0+e3RoaXMuYVtvXT1yLGEocixjKX0sZ2V0OigpPT50aGlzLmFbb119LHdyaXRhYmxlOiExLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsYCQke2l9YCx7Z2V0OigpPT50aGlzLmFbb10sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCIjc2hvdyIse2dldDooKT0+dGhpcy50b0Jhc2ljU3RhdHNPYmplY3QoKSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfWluaXQoZSxuLGksbyxhKXt0aGlzLnJlbGljU2V0SW5kZXg9ZSx0aGlzLm9ybmFtZW50U2V0SW5kZXg9bix0aGlzLnNldHM9aSx0aGlzLnNldHNBcnJheT1vLHRoaXMuaWQ9YSx0aGlzLmEuc2V0KE9hKSx0aGlzLnRyYWNlJiYodGhpcy5idWZmcz1bXSx0aGlzLmJ1ZmZzTWVtbz1bXSl9aW5pdE1lbW8oKXt0aGlzLm0uYS5zZXQodGhpcy5hKSx0aGlzLnRyYWNlJiYodGhpcy5tLmJ1ZmZzPVtdLHRoaXMubS5idWZmc01lbW89W10pfXNldFdlaWdodChlKXt0aGlzLndlaWdodD1lfXNldChlLG4saSl7dGhpcy5hW2VdPW59Z2V0KGUpe3JldHVybiB0aGlzLmFbZV19dG9CYXNpY1N0YXRzT2JqZWN0KCl7cmV0dXJuIExhKHRoaXMuYSx0aGlzLndlaWdodCx0aGlzLnJlbGljU2V0SW5kZXgsdGhpcy5vcm5hbWVudFNldEluZGV4KX19ZnVuY3Rpb24gTGEodCxlPTAsbj0wLGk9MCl7cmV0dXJueyJIUCUiOnRbcy5IUF9QXSwiQVRLJSI6dFtzLkFUS19QXSwiREVGJSI6dFtzLkRFRl9QXSwiU1BEJSI6dFtzLlNQRF9QXSxIUDp0W3MuSFBdLEFUSzp0W3MuQVRLXSxERUY6dFtzLkRFRl0sU1BEOnRbcy5TUERdLCJDUklUIFJhdGUiOnRbcy5DUl0sIkNSSVQgRE1HIjp0W3MuQ0RdLCJFZmZlY3QgSGl0IFJhdGUiOnRbcy5FSFJdLCJFZmZlY3QgUkVTIjp0W3MuUkVTXSwiQnJlYWsgRWZmZWN0Ijp0W3MuQkVdLCJFbmVyZ3kgUmVnZW5lcmF0aW9uIFJhdGUiOnRbcy5FUlJdLCJPdXRnb2luZyBIZWFsaW5nIEJvb3N0Ijp0W3MuT0hCXSwiUGh5c2ljYWwgRE1HIEJvb3N0Ijp0W3MuUEhZU0lDQUxfRE1HX0JPT1NUXSwiRmlyZSBETUcgQm9vc3QiOnRbcy5GSVJFX0RNR19CT09TVF0sIkljZSBETUcgQm9vc3QiOnRbcy5JQ0VfRE1HX0JPT1NUXSwiTGlnaHRuaW5nIERNRyBCb29zdCI6dFtzLkxJR0hUTklOR19ETUdfQk9PU1RdLCJXaW5kIERNRyBCb29zdCI6dFtzLldJTkRfRE1HX0JPT1NUXSwiUXVhbnR1bSBETUcgQm9vc3QiOnRbcy5RVUFOVFVNX0RNR19CT09TVF0sIkltYWdpbmFyeSBETUcgQm9vc3QiOnRbcy5JTUFHSU5BUllfRE1HX0JPT1NUXSxFTEVNRU5UQUxfRE1HOnRbcy5FTEVNRU5UQUxfRE1HXSxXRUlHSFQ6ZSxyZWxpY1NldEluZGV4Om4sb3JuYW1lbnRTZXRJbmRleDppfX1jb25zdCBBYT17SFBfUDp7bGFiZWw6IkhQICUifSxBVEtfUDp7bGFiZWw6IkFUSyAlIn0sREVGX1A6e2xhYmVsOiJERUYgJSJ9LFNQRF9QOntsYWJlbDoiU1BEICUifSxIUDp7ZmxhdDohMCxsYWJlbDoiSFAifSxBVEs6e2ZsYXQ6ITAsbGFiZWw6IkFUSyJ9LERFRjp7ZmxhdDohMCxsYWJlbDoiREVGIn0sU1BEOntmbGF0OiEwLGRlZmF1bHQ6MWUtNCxsYWJlbDoiU1BEIn0sQ1I6e2xhYmVsOiJDcml0IFJhdGUifSxDRDp7bGFiZWw6IkNyaXQgRE1HIn0sRUhSOntsYWJlbDoiRWZmZWN0IEhpdCBSYXRlIn0sUkVTOntsYWJlbDoiRWZmZWN0IFJFUyJ9LEJFOntsYWJlbDoiQnJlYWsgRWZmZWN0In0sRVJSOntsYWJlbDoiRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIn0sT0hCOntsYWJlbDoiT3V0Z29pbmcgSGVhbGluZyBCb29zdCJ9LFBIWVNJQ0FMX0RNR19CT09TVDp7bGFiZWw6IlBoeXNpY2FsIERNRyBCb29zdCJ9LEZJUkVfRE1HX0JPT1NUOntsYWJlbDoiRmlyZSBETUcgQm9vc3QifSxJQ0VfRE1HX0JPT1NUOntsYWJlbDoiSWNlIERNRyBCb29zdCJ9LExJR0hUTklOR19ETUdfQk9PU1Q6e2xhYmVsOiJUaHVuZGVyIERNRyBCb29zdCJ9LFdJTkRfRE1HX0JPT1NUOntsYWJlbDoiV2luZCBETUcgQm9vc3QifSxRVUFOVFVNX0RNR19CT09TVDp7bGFiZWw6IlF1YW50dW0gRE1HIEJvb3N0In0sSU1BR0lOQVJZX0RNR19CT09TVDp7bGFiZWw6IkltYWdpbmFyeSBETUcgQm9vc3QifSxFTEVNRU5UQUxfRE1HOntsYWJlbDoiRWxlbWVudGFsIERNRyJ9LEJBU0VfSFA6e2ZsYXQ6ITAsbGFiZWw6IkJhc2UgSFAifSxCQVNFX0FUSzp7ZmxhdDohMCxsYWJlbDoiQmFzZSBBVEsifSxCQVNFX0RFRjp7ZmxhdDohMCxsYWJlbDoiQmFzZSBERUYifSxCQVNFX1NQRDp7ZmxhdDohMCxsYWJlbDoiQmFzZSBTUEQifSxNRU1PX0JBU0VfSFBfU0NBTElORzp7bGFiZWw6Ik1lbW9zcHJpdGUgYmFzZSBIUCBzY2FsaW5nIn0sTUVNT19CQVNFX0RFRl9TQ0FMSU5HOntsYWJlbDoiTWVtb3Nwcml0ZSBiYXNlIERFRiBzY2FsaW5nIn0sTUVNT19CQVNFX0FUS19TQ0FMSU5HOntsYWJlbDoiTWVtb3Nwcml0ZSBiYXNlIEFUSyBzY2FsaW5nIn0sTUVNT19CQVNFX1NQRF9TQ0FMSU5HOntsYWJlbDoiTWVtb3Nwcml0ZSBiYXNlIFNQRCBzY2FsaW5nIn0sTUVNT19CQVNFX0hQX0ZMQVQ6e2ZsYXQ6ITAsbGFiZWw6Ik1lbW9zcHJpdGUgYmFzZSBIUCBmbGF0In0sTUVNT19CQVNFX0RFRl9GTEFUOntmbGF0OiEwLGxhYmVsOiJNZW1vc3ByaXRlIGJhc2UgREVGIGZsYXQifSxNRU1PX0JBU0VfQVRLX0ZMQVQ6e2ZsYXQ6ITAsbGFiZWw6Ik1lbW9zcHJpdGUgYmFzZSBBVEsgZmxhdCJ9LE1FTU9fQkFTRV9TUERfRkxBVDp7ZmxhdDohMCxsYWJlbDoiTWVtb3Nwcml0ZSBiYXNlIFNQRCBmbGF0In0sVU5DT05WRVJUSUJMRV9IUF9CVUZGOntmbGF0OiEwLGxhYmVsOiJVbmNvbnZlcnRpYmxlIEhQIn0sVU5DT05WRVJUSUJMRV9BVEtfQlVGRjp7ZmxhdDohMCxsYWJlbDoiVW5jb252ZXJ0aWJsZSBBVEsifSxVTkNPTlZFUlRJQkxFX0RFRl9CVUZGOntmbGF0OiEwLGxhYmVsOiJVbmNvbnZlcnRpYmxlIERFRiJ9LFVOQ09OVkVSVElCTEVfU1BEX0JVRkY6e2ZsYXQ6ITAsbGFiZWw6IlVuY29udmVydGlibGUgU1BEIn0sVU5DT05WRVJUSUJMRV9DUl9CVUZGOntsYWJlbDoiVW5jb252ZXJ0aWJsZSBDcml0IFJhdGUifSxVTkNPTlZFUlRJQkxFX0NEX0JVRkY6e2xhYmVsOiJVbmNvbnZlcnRpYmxlIENyaXQgRE1HIn0sVU5DT05WRVJUSUJMRV9FSFJfQlVGRjp7bGFiZWw6IlVuY29udmVydGlibGUgRWZmZWN0IEhpdCBSYXRlIn0sVU5DT05WRVJUSUJMRV9CRV9CVUZGOntsYWJlbDoiVW5jb252ZXJ0aWJsZSBCcmVhayBFZmZlY3QifSxVTkNPTlZFUlRJQkxFX09IQl9CVUZGOntsYWJlbDoiVW5jb252ZXJ0aWJsZSBPdXRnb2luZyBIZWFsaW5nIEJvb3N0In0sVU5DT05WRVJUSUJMRV9SRVNfQlVGRjp7bGFiZWw6IlVuY29udmVydGlibGUgRWZmZWN0IFJFUyJ9LFVOQ09OVkVSVElCTEVfRVJSX0JVRkY6e2xhYmVsOiJVbmNvbnZlcnRpYmxlIEVuZXJneSBSZWdlbmVyYXRpb24gUmF0ZSJ9LERNR19SRURfTVVMVEk6e2RlZmF1bHQ6MSxsYWJlbDoiRE1HIHJlZHVjdGlvbiJ9LEVIUDp7ZmxhdDohMCxsYWJlbDoiRWZmZWN0aXZlIEhQIn0sU1VNTU9OUzp7ZmxhdDohMCxsYWJlbDoiU3VtbW9ucyJ9LE1FTU9TUFJJVEU6e2Jvb2w6ITAsbGFiZWw6Ik1lbW9zcHJpdGUifSxFTkVNWV9XRUFLTkVTU19CUk9LRU46e2Jvb2w6ITAsbGFiZWw6IkVuZW15IHdlYWtuZXNzIGJyb2tlbiJ9LE1FTU9fQlVGRl9QUklPUklUWTp7Ym9vbDohMCxsYWJlbDoiUHJpb3JpdGl6ZSBtZW1vc3ByaXRlIGJ1ZmZzIn0sREVQUklPUklUSVpFX0JVRkZTOntib29sOiEwLGxhYmVsOiJEZXByaW9yaXRpemUgYnVmZnMifSxDT01CT19ETUc6e2ZsYXQ6ITAsbGFiZWw6IkNvbWJvIERNRyJ9LERPVF9DSEFOQ0U6e2xhYmVsOiJEb3QgYmFzZSBjaGFuY2UifSxFRkZFQ1RfUkVTX1BFTjp7bGFiZWw6IkVmZmVjdCBSRVMgUEVOIn0sRE9UX1NQTElUOntsYWJlbDoiRG90IERNRyBzcGxpdCJ9LERPVF9TVEFDS1M6e2ZsYXQ6ITAsbGFiZWw6IkRvdCBzdGFja3MifSxIRUFMX1RZUEU6e2ZsYXQ6ITAsbGFiZWw6IkhlYWwgYWJpbGl0eSB0eXBlIn0sSEVBTF9GTEFUOntmbGF0OiEwLGxhYmVsOiJIZWFsIGZsYXQifSxIRUFMX1NDQUxJTkc6e2xhYmVsOiJIZWFsIHNjYWxpbmcifSxIRUFMX1ZBTFVFOntmbGF0OiEwLGxhYmVsOiJIZWFsIHZhbHVlIn0sU0hJRUxEX0ZMQVQ6e2ZsYXQ6ITAsbGFiZWw6IlNoaWVsZCBmbGF0In0sU0hJRUxEX1NDQUxJTkc6e2xhYmVsOiJTaGllbGQgc2NhbGluZyJ9LFNISUVMRF9WQUxVRTp7ZmxhdDohMCxsYWJlbDoiU2hpZWxkIHZhbHVlIn0sU0hJRUxEX0JPT1NUOntsYWJlbDoiU2hpZWxkIGJvb3N0In0sU0tJTExfT0hCOntsYWJlbDoiU2tpbGwgT3V0Z29pbmcgSGVhbGluZyBCb29zdCJ9LFVMVF9PSEI6e2xhYmVsOiJVbHQgT3V0Z29pbmcgSGVhbGluZyBCb29zdCJ9LFBIWVNJQ0FMX1JFU19QRU46e2xhYmVsOiJQaHlzaWNhbCBSRVMgUEVOIn0sRklSRV9SRVNfUEVOOntsYWJlbDoiRmlyZSBSRVMgUEVOIn0sSUNFX1JFU19QRU46e2xhYmVsOiJJY2UgUkVTIFBFTiJ9LExJR0hUTklOR19SRVNfUEVOOntsYWJlbDoiTGlnaHRuaW5nIFJFUyBQRU4ifSxXSU5EX1JFU19QRU46e2xhYmVsOiJXaW5kIFJFUyBQRU4ifSxRVUFOVFVNX1JFU19QRU46e2xhYmVsOiJRdWFudHVtIFJFUyBQRU4ifSxJTUFHSU5BUllfUkVTX1BFTjp7bGFiZWw6IkltYWdpbmFyeSBSRVMgUEVOIn0sU1VQRVJfQlJFQUtfREVGX1BFTjp7bGFiZWw6IlN1cGVyIEJyZWFrIERFRiBQRU4ifSxTVVBFUl9CUkVBS19ETUdfQk9PU1Q6e2xhYmVsOiJTdXBlciBCcmVhayBETUcgQm9vc3QifSxTVVBFUl9CUkVBS19WVUxORVJBQklMSVRZOntsYWJlbDoiU3VwZXIgQnJlYWsgVnVsbmVyYWJpbGl0eSJ9LEFERElUSU9OQUxfRE1HX0JPT1NUOntsYWJlbDoiQWRkaXRpb25hbCBETUcgYm9vc3QifSxVTFRfQURESVRJT05BTF9ETUdfQ1JfT1ZFUlJJREU6e2xhYmVsOiJVbHQgQWRkaXRpb25hbCBETUcgQ1Igb3ZlcnJpZGUifSxVTFRfQURESVRJT05BTF9ETUdfQ0RfT1ZFUlJJREU6e2xhYmVsOiJVbHQgQWRkaXRpb25hbCBETUcgQ0Qgb3ZlcnJpZGUifSxCQVNJQ19ETUdfVFlQRTp7ZmxhdDohMCxkZWZhdWx0OnB0LGxhYmVsOiJCYXNpYyBETUcgdHlwZSJ9LFNLSUxMX0RNR19UWVBFOntmbGF0OiEwLGRlZmF1bHQ6VyxsYWJlbDoiU2tpbGwgRE1HIHR5cGUifSxVTFRfRE1HX1RZUEU6e2ZsYXQ6ITAsZGVmYXVsdDokLGxhYmVsOiJVbHQgRE1HIHR5cGUifSxGVUFfRE1HX1RZUEU6e2ZsYXQ6ITAsZGVmYXVsdDpldCxsYWJlbDoiRnVhIERNRyB0eXBlIn0sRE9UX0RNR19UWVBFOntmbGF0OiEwLGRlZmF1bHQ6Z2UsbGFiZWw6IkRvdCBETUcgdHlwZSJ9LEJSRUFLX0RNR19UWVBFOntmbGF0OiEwLGRlZmF1bHQ6d3QsbGFiZWw6IkJyZWFrIERNRyB0eXBlIn0sTUVNT19TS0lMTF9ETUdfVFlQRTp7ZmxhdDohMCxkZWZhdWx0OkZuLGxhYmVsOiJNZW1vIFNraWxsIERNRyB0eXBlIn0sTUVNT19UQUxFTlRfRE1HX1RZUEU6e2ZsYXQ6ITAsZGVmYXVsdDpGbixsYWJlbDoiTWVtbyBUYWxlbnQgRE1HIHR5cGUifSxBRERJVElPTkFMX0RNR19UWVBFOntmbGF0OiEwLGRlZmF1bHQ6YmEsbGFiZWw6IkFkZGl0aW9uYWwgRE1HIHR5cGUifSxTVVBFUl9CUkVBS19ETUdfVFlQRTp7ZmxhdDohMCxkZWZhdWx0Ond0fGVvLGxhYmVsOiJTdXBlciBCcmVhayBETUcgdHlwZSJ9fSxObj17QVRLX1NDQUxJTkc6e3NlcGFyYXRlZDohMCxsYWJlbDoiQVRLIHNjYWxpbmcifSxERUZfU0NBTElORzp7c2VwYXJhdGVkOiEwLGxhYmVsOiJERUYgc2NhbGluZyJ9LEhQX1NDQUxJTkc6e3NlcGFyYXRlZDohMCxsYWJlbDoiSFAgc2NhbGluZyJ9LFNQRUNJQUxfU0NBTElORzp7c2VwYXJhdGVkOiEwLGxhYmVsOiJTcGVjaWFsIHNjYWxpbmcifSxBVEtfUF9CT09TVDp7bGFiZWw6IkFUSyAlIGJvb3N0In0sQ1JfQk9PU1Q6e2xhYmVsOiJDcml0IFJhdGUgYm9vc3QifSxDRF9CT09TVDp7bGFiZWw6IkNyaXQgRE1HIGJvb3N0In0sRE1HX0JPT1NUOntzZXBhcmF0ZWQ6ITAsbGFiZWw6IkRNRyBib29zdCJ9LFZVTE5FUkFCSUxJVFk6e2xhYmVsOiJWdWxuZXJhYmlsaXR5In0sUkVTX1BFTjp7bGFiZWw6IlJFUyBQRU4ifSxERUZfUEVOOntsYWJlbDoiREVGIFBFTiJ9LEJSRUFLX0RFRl9QRU46e2xhYmVsOiJCcmVhayBERUYgUEVOIn0sVE9VR0hORVNTX0RNRzp7ZmxhdDohMCxzZXBhcmF0ZWQ6ITAsbGFiZWw6IlRvdWdobmVzcyBETUcifSxTVVBFUl9CUkVBS19NT0RJRklFUjp7bGFiZWw6IlN1cGVyIEJyZWFrIG11bHRpcGxpZXIifSxCUkVBS19FRkZJQ0lFTkNZX0JPT1NUOntsYWJlbDoiQnJlYWsgRWZmaWNpZW5jeSBib29zdCJ9LFRSVUVfRE1HX01PRElGSUVSOntsYWJlbDoiVHJ1ZSBETUcgbXVsdGlwbGllciJ9LEZJTkFMX0RNR19CT09TVDp7bGFiZWw6IkZpbmFsIERNRyBtdWx0aXBsaWVyIn0sQlJFQUtfRE1HX01PRElGSUVSOntzZXBhcmF0ZWQ6ITAsbGFiZWw6IkJyZWFrIERNRyBtdWx0aXBsaWVyIn0sQURESVRJT05BTF9ETUdfU0NBTElORzp7c2VwYXJhdGVkOiEwLGxhYmVsOiJBZGRpdGlvbmFsIERNRyBzY2FsaW5nIn0sQURESVRJT05BTF9ETUc6e2ZsYXQ6ITAsc2VwYXJhdGVkOiEwLGxhYmVsOiJBZGRpdGlvbmFsIERNRyJ9LERNRzp7ZmxhdDohMCxsYWJlbDoiRE1HIn19LFJhPXtCQVNJQzoiQmFzaWMiLFNLSUxMOiJTa2lsbCIsVUxUOiJVbHQiLEZVQToiRnVhIixET1Q6IkRvdCIsQlJFQUs6IkJyZWFrIixNRU1PX1NLSUxMOiJNZW1vIFNraWxsIixNRU1PX1RBTEVOVDoiTWVtbyBUYWxlbnQifSxNYT17Li4uQWEsLi4uT2JqZWN0LnZhbHVlcyhsdCkuZmlsdGVyKHQ9PnR5cGVvZiB0PT0ibnVtYmVyIikucmVkdWNlKCh0LGUpPT57Y29uc3Qgbj1sdFtlXTtyZXR1cm4gT2JqZWN0LmVudHJpZXMoTm4pLmZvckVhY2goKFtpLG9dKT0+e3RbYCR7bn1fJHtpfWBdPXsuLi5vLGxhYmVsOmAke1JhW25dfSAke28ubGFiZWx9YH19KSx0fSx7fSksLi4uT2JqZWN0LmVudHJpZXMoTm4pLnJlZHVjZSgodCxbZSxuXSk9PihuLnNlcGFyYXRlZHx8KHRbZV09biksdCkse30pfSxpbz1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoTWEpLm1hcCgoW3QsZV0sbik9Pntjb25zdCBpPWU7cmV0dXJuW3Qse25hbWU6dCxpbmRleDpuLGRlZmF1bHQ6aS5kZWZhdWx0Pz8wLGZsYXQ6aS5mbGF0Pz8hMSx3aG9sZTppLndob2xlPz8hMSxib29sOmkuYm9vbD8/ITEsY2F0ZWdvcnk6aS5jYXRlZ29yeT8/MSxsYWJlbDppLmxhYmVsfV19KSksVWU9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGlvKS5tYXAoKFt0LGVdKT0+W3QsZS5kZWZhdWx0XSkpLHdlPU9iamVjdC52YWx1ZXMoaW8pLnNvcnQoKHQsZSk9PnQuaW5kZXgtZS5pbmRleCk7ZnVuY3Rpb24gUGEoKXtmdW5jdGlvbiB0KGUpe3JldHVybntuYW1lOmUsYWJpbGl0eURtZzowLGFkZGl0aW9uYWxEbWc6MCxicmVha0RtZzowLHN1cGVyQnJlYWtEbWc6MCxqb2ludERtZzowLHRydWVEbWc6MCxkb3REbWc6MCxtZW1vRG1nOjB9fXJldHVybntCQVNJQ19ETUc6dCgiQkFTSUNfRE1HIiksU0tJTExfRE1HOnQoIlNLSUxMX0RNRyIpLFVMVF9ETUc6dCgiVUxUX0RNRyIpLEZVQV9ETUc6dCgiRlVBX0RNRyIpLERPVF9ETUc6dCgiRE9UX0RNRyIpLEJSRUFLX0RNRzp0KCJCUkVBS19ETUciKSxNRU1PX1NLSUxMX0RNRzp0KCJNRU1PX1NLSUxMX0RNRyIpLE1FTU9fVEFMRU5UX0RNRzp0KCJNRU1PX1RBTEVOVF9ETUciKX19Y29uc3Qgcz1PYmplY3Qua2V5cyhVZSkucmVkdWNlKCh0LGUsbik9Pih0W2VdPW4sdCkse30pO2NsYXNzIEhle2NvbnN0cnVjdG9yKGU9ITEsbj0hMSxpKXtVKHRoaXMsImEiLHZhKCkpO1UodGhpcywiYyIpO1UodGhpcywibSIpO1UodGhpcywic3VtbW9uZXIiKTtVKHRoaXMsImJ1ZmZzIik7VSh0aGlzLCJidWZmc01lbW8iKTtVKHRoaXMsInRyYWNlIik7VSh0aGlzLCJkbWdTcGxpdHMiKTt0aGlzLmM9bmV3IGhlKGUsITAsKCk9PnRoaXMpLHRoaXMubT1uP251bGw6bmV3IEhlKGUsITAsKCk9PnRoaXMpLHRoaXMuc3VtbW9uZXI9bj9pOm51bGwsdGhpcy5idWZmcz1bXSx0aGlzLmJ1ZmZzTWVtbz1bXSx0aGlzLnRyYWNlPWUsdGhpcy5kbWdTcGxpdHM9dGhpcy50cmFjZT9QYSgpOm51bGwsT2JqZWN0LmtleXMoVWUpLmZvckVhY2goKG8sYSk9Pntjb25zdCByPSh1LGQpPT50aGlzLnRyYWNlJiZ0aGlzLmJ1ZmZzLnB1c2goe3N0YXQ6byxrZXk6YSx2YWx1ZTp1LHNvdXJjZTpkfSksYz0odSxkKT0+dGhpcy50cmFjZSYmdGhpcy5idWZmc01lbW8ucHVzaCh7c3RhdDpvLGtleTphLHZhbHVlOnUsc291cmNlOmR9KSxsPSh1LGQpPT50aGlzLnRyYWNlJiYodGhpcy5idWZmcz10aGlzLmJ1ZmZzLmZpbHRlcihtPT5tLmtleSE9PWEpLmNvbmNhdCh7c3RhdDpvLGtleTphLHZhbHVlOnUsc291cmNlOmR9KSksZj0odSxkKT0+dGhpcy50cmFjZSYmKHRoaXMuYnVmZnNNZW1vPXRoaXMuYnVmZnNNZW1vLmZpbHRlcihtPT5tLmtleSE9PWEpLmNvbmNhdCh7c3RhdDpvLGtleTphLHZhbHVlOnUsc291cmNlOmR9KSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsbyx7dmFsdWU6e2J1ZmY6KHUsZCk9Pnt1IT0wJiYodGhpcy5hW2FdKz11LHIodSxkKSl9LGJ1ZmZTaW5nbGU6KHUsZCk9Pnt1IT0wJiYodGhpcy5hW3MuREVQUklPUklUSVpFX0JVRkZTXXx8KHRoaXMuYVtzLk1FTU9fQlVGRl9QUklPUklUWV0/KHRoaXMubS5hW2FdKz11LGModSxkKSk6KHRoaXMuYVthXSs9dSxyKHUsZCkpKSl9LGJ1ZmZNZW1vOih1LGQpPT57dSE9MCYmKHRoaXMuYVtzLkRFUFJJT1JJVElaRV9CVUZGU118fHRoaXMubSYmKHRoaXMubS5hW2FdKz11LGModSxkKSkpfSxidWZmVGVhbToodSxkKT0+e3UhPTAmJih0aGlzLmFbYV0rPXUscih1LGQpLHRoaXMubSYmKHRoaXMubS5hW2FdKz11LGModSxkKSkpfSxidWZmRHVhbDoodSxkKT0+e3UhPTAmJih0aGlzLmFbcy5ERVBSSU9SSVRJWkVfQlVGRlNdfHwodGhpcy5hW2FdKz11LHIodSxkKSx0aGlzLm0mJih0aGlzLm0uYVthXSs9dSxjKHUsZCkpKSl9LGJ1ZmZCYXNlRHVhbDoodSxkKT0+e3UhPTAmJih0aGlzLmFbYV0rPXUscih1LGQpLHRoaXMubSYmKHRoaXMubS5hW2FdKz11LGModSxkKSkpfSxidWZmQmFzZUR1YWxEeW5hbWljOih1LGQsbSxFKT0+e2lmKCEodTwuMDAxKSl7dGhpcy5hW2FdKz11LHIodSxkKSx0aGlzLm0mJih0aGlzLm0uYVthXSs9dSxjKHUsZCkpO2Zvcihjb25zdCBDIG9mIG0uY29uZGl0aW9uYWxSZWdpc3RyeVtVbltvXV0/P1tdKVkoQyx0aGlzLG0sRSl9fSxtdWx0aXBseToodSxkKT0+e3RoaXMuYVthXSo9dSxyKHUsZCl9LG11bHRpcGx5VGVhbToodSxkKT0+e3RoaXMuYVthXSo9dSxyKHUsZCksdGhpcy5tJiYodGhpcy5tLmFbYV0qPXUsYyh1LGQpKX0sYnVmZkR5bmFtaWM6KHUsZCxtLEUpPT57aWYoISh1PC4wMDEpKXt0aGlzLmFbYV0rPXUscih1LGQpO2Zvcihjb25zdCBDIG9mIG0uY29uZGl0aW9uYWxSZWdpc3RyeVtVbltvXV18fFtdKVkoQyx0aGlzLG0sRSl9fSxzZXQ6KHUsZCk9Pnt0aGlzLmFbYV09dSxsKHUsZCl9LGNvbmZpZzoodSxkKT0+e3RoaXMuYVthXT11LGwodSxkKSx0aGlzLm0mJih0aGlzLm0uYVthXT11LGYodSxkKSl9LGdldDooKT0+dGhpcy5hW2FdfSx3cml0YWJsZTohMSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGAkJHtvfWAse2dldDooKT0+dGhpcy5hW2FdLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiI3Nob3ciLHtnZXQ6KCk9PnRoaXMudG9Db21wdXRlZFN0YXRzT2JqZWN0KCksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX1zZXRQcmVjb21wdXRlKGUpe3RoaXMuYS5zZXQoZSksdGhpcy5idWZmcz1bXSx0aGlzLmJ1ZmZzTWVtbz1bXX10cmFjZVByZWNvbXB1dGUoZSl7dGhpcy5idWZmcz1lLmJ1ZmZzLHRoaXMuYnVmZnNNZW1vPWUuYnVmZnNNZW1vfXNldEJhc2ljKGUpe3RoaXMuYz1lfWdldChlKXtyZXR1cm4gdGhpcy5hW2VdfXRvQ29tcHV0ZWRTdGF0c09iamVjdCgpe3JldHVybiBJYSh0aGlzLmEpfX1mdW5jdGlvbiBJYSh0KXtjb25zdCBlPXt9O2Zvcihjb25zdCBuIGluIHMpe2NvbnN0IGk9bixvPXhhW2ldPz9pLGE9c1tpXTtlW29dPXRbYV19cmV0dXJuIGV9ZnVuY3Rpb24gdmEoKXtyZXR1cm4gRmxvYXQzMkFycmF5LmZyb20oT2JqZWN0LnZhbHVlcyhVZSkpfWNvbnN0IHhhPXtBVEtfUDpwLkFUS19QLEFUSzpwLkFUSyxCRTpwLkJFLENEOnAuQ0QsQ1I6cC5DUixERUZfUDpwLkRFRl9QLERFRjpwLkRFRixFSFI6cC5FSFIsRVJSOnAuRVJSLEZJUkVfRE1HX0JPT1NUOnAuRmlyZV9ETUcsSFBfUDpwLkhQX1AsSFA6cC5IUCxJQ0VfRE1HX0JPT1NUOnAuSWNlX0RNRyxJTUFHSU5BUllfRE1HX0JPT1NUOnAuSW1hZ2luYXJ5X0RNRyxMSUdIVE5JTkdfRE1HX0JPT1NUOnAuTGlnaHRuaW5nX0RNRyxPSEI6cC5PSEIsUEhZU0lDQUxfRE1HX0JPT1NUOnAuUGh5c2ljYWxfRE1HLFFVQU5UVU1fRE1HX0JPT1NUOnAuUXVhbnR1bV9ETUcsUkVTOnAuUkVTLFNQRF9QOnAuU1BEX1AsU1BEOnAuU1BELFdJTkRfRE1HX0JPT1NUOnAuV2luZF9ETUd9LFVuPXtBVEtfUDpwLkFUS19QLEFUSzpwLkFUSyxCRTpwLkJFLENEOnAuQ0QsQ1I6cC5DUixERUZfUDpwLkRFRl9QLERFRjpwLkRFRixFSFI6cC5FSFIsRVJSOnAuRVJSLEZJUkVfRE1HX0JPT1NUOnAuRmlyZV9ETUcsSFBfUDpwLkhQX1AsSFA6cC5IUCxJQ0VfRE1HX0JPT1NUOnAuSWNlX0RNRyxJTUFHSU5BUllfRE1HX0JPT1NUOnAuSW1hZ2luYXJ5X0RNRyxMSUdIVE5JTkdfRE1HX0JPT1NUOnAuTGlnaHRuaW5nX0RNRyxPSEI6cC5PSEIsUEhZU0lDQUxfRE1HX0JPT1NUOnAuUGh5c2ljYWxfRE1HLFFVQU5UVU1fRE1HX0JPT1NUOnAuUXVhbnR1bV9ETUcsUkVTOnAuUkVTLFNQRF9QOnAuU1BEX1AsU1BEOnAuU1BELFdJTkRfRE1HX0JPT1NUOnAuV2luZF9ETUd9LEdhPXtbZ3QuUGh5c2ljYWxdOnMuUEhZU0lDQUxfUkVTX1BFTixbZ3QuRmlyZV06cy5GSVJFX1JFU19QRU4sW2d0LkljZV06cy5JQ0VfUkVTX1BFTixbZ3QuTGlnaHRuaW5nXTpzLkxJR0hUTklOR19SRVNfUEVOLFtndC5XaW5kXTpzLldJTkRfUkVTX1BFTixbZ3QuUXVhbnR1bV06cy5RVUFOVFVNX1JFU19QRU4sW2d0LkltYWdpbmFyeV06cy5JTUFHSU5BUllfUkVTX1BFTn07ZnVuY3Rpb24ga2EodCxlKXtyZXR1cm4gdC5hW0dhW2VdXX1jb25zdCBhbz17W3AuUGh5c2ljYWxfRE1HXTpzLlBIWVNJQ0FMX0RNR19CT09TVCxbcC5GaXJlX0RNR106cy5GSVJFX0RNR19CT09TVCxbcC5JY2VfRE1HXTpzLklDRV9ETUdfQk9PU1QsW3AuTGlnaHRuaW5nX0RNR106cy5MSUdIVE5JTkdfRE1HX0JPT1NULFtwLldpbmRfRE1HXTpzLldJTkRfRE1HX0JPT1NULFtwLlF1YW50dW1fRE1HXTpzLlFVQU5UVU1fRE1HX0JPT1NULFtwLkltYWdpbmFyeV9ETUddOnMuSU1BR0lOQVJZX0RNR19CT09TVH07ZnVuY3Rpb24gRmEodCxlKXtyZXR1cm4gdC5hW2FvW2VdXX1mdW5jdGlvbiB3bih0LGUsbil7Y29uc3QgaT1hb1tlXTt0LmFbaV0rPW59Y29uc3Qga2U9e1twLkFUS19QXTpzLkFUS19QLFtwLkFUS106cy5BVEssW3AuQkVdOnMuQkUsW3AuQ0RdOnMuQ0QsW3AuQ1JdOnMuQ1IsW3AuREVGX1BdOnMuREVGX1AsW3AuREVGXTpzLkRFRixbcC5FSFJdOnMuRUhSLFtwLkVSUl06cy5FUlIsW3AuRmlyZV9ETUddOnMuRklSRV9ETUdfQk9PU1QsW3AuSFBfUF06cy5IUF9QLFtwLkhQXTpzLkhQLFtwLkljZV9ETUddOnMuSUNFX0RNR19CT09TVCxbcC5JbWFnaW5hcnlfRE1HXTpzLklNQUdJTkFSWV9ETUdfQk9PU1QsW3AuTGlnaHRuaW5nX0RNR106cy5MSUdIVE5JTkdfRE1HX0JPT1NULFtwLk9IQl06cy5PSEIsW3AuUGh5c2ljYWxfRE1HXTpzLlBIWVNJQ0FMX0RNR19CT09TVCxbcC5RdWFudHVtX0RNR106cy5RVUFOVFVNX0RNR19CT09TVCxbcC5SRVNdOnMuUkVTLFtwLlNQRF9QXTpzLlNQRF9QLFtwLlNQRF06cy5TUEQsW3AuV2luZF9ETUddOnMuV0lORF9ETUdfQk9PU1R9O3ZhciBGdD0odD0+KHRbdC5NQUlOPTBdPSJNQUlOIix0W3QuTUVNTz0xXT0iTUVNTyIsdFt0LkRVQUw9Ml09IkRVQUwiLHRbdC5URUFNPTNdPSJURUFNIix0W3QuU0lOR0xFPTRdPSJTSU5HTEUiLHQpKShGdHx8e30pO2Z1bmN0aW9uIF8odCxlLG4saSl7c3dpdGNoKHQpe2Nhc2UgMDplLmJ1ZmYobixpKTticmVhaztjYXNlIDE6ZS5idWZmTWVtbyhuLGkpO2JyZWFrO2Nhc2UgMjplLmJ1ZmZEdWFsKG4saSk7YnJlYWs7Y2FzZSAzOmUuYnVmZlRlYW0obixpKTticmVhaztjYXNlIDQ6ZS5idWZmU2luZ2xlKG4saSk7YnJlYWt9fWZ1bmN0aW9uIEpsKHQpe3JldHVybn50fWZ1bmN0aW9uIFFsKHQsZSxuLGksbz0wKXtuIT0wJiYoZSZ0LmFbcy5CQVNJQ19ETUdfVFlQRV0mJl8obyx0LkJBU0lDX1RSVUVfRE1HX01PRElGSUVSLG4saSksZSZ0LmFbcy5TS0lMTF9ETUdfVFlQRV0mJl8obyx0LlNLSUxMX1RSVUVfRE1HX01PRElGSUVSLG4saSksZSZ0LmFbcy5VTFRfRE1HX1RZUEVdJiZfKG8sdC5VTFRfVFJVRV9ETUdfTU9ESUZJRVIsbixpKSxlJnQuYVtzLkZVQV9ETUdfVFlQRV0mJl8obyx0LkZVQV9UUlVFX0RNR19NT0RJRklFUixuLGkpLGUmdC5hW3MuRE9UX0RNR19UWVBFXSYmXyhvLHQuRE9UX1RSVUVfRE1HX01PRElGSUVSLG4saSksZSZ0LmFbcy5CUkVBS19ETUdfVFlQRV0mJl8obyx0LkJSRUFLX1RSVUVfRE1HX01PRElGSUVSLG4saSksZSZ0LmFbcy5NRU1PX1NLSUxMX0RNR19UWVBFXSYmXyhvLHQuTUVNT19TS0lMTF9UUlVFX0RNR19NT0RJRklFUixuLGkpLGUmdC5hW3MuTUVNT19UQUxFTlRfRE1HX1RZUEVdJiZfKG8sdC5NRU1PX1RBTEVOVF9UUlVFX0RNR19NT0RJRklFUixuLGkpKX1mdW5jdGlvbiBBKHQsZSxuLGksbz0wKXtuIT0wJiYoZSZ0LmFbcy5CQVNJQ19ETUdfVFlQRV0mJl8obyx0LkJBU0lDX0RNR19CT09TVCxuLGkpLGUmdC5hW3MuU0tJTExfRE1HX1RZUEVdJiZfKG8sdC5TS0lMTF9ETUdfQk9PU1QsbixpKSxlJnQuYVtzLlVMVF9ETUdfVFlQRV0mJl8obyx0LlVMVF9ETUdfQk9PU1QsbixpKSxlJnQuYVtzLkZVQV9ETUdfVFlQRV0mJl8obyx0LkZVQV9ETUdfQk9PU1QsbixpKSxlJnQuYVtzLkRPVF9ETUdfVFlQRV0mJl8obyx0LkRPVF9ETUdfQk9PU1QsbixpKSxlJnQuYVtzLkJSRUFLX0RNR19UWVBFXSYmXyhvLHQuQlJFQUtfRE1HX0JPT1NULG4saSksZSZ0LmFbcy5NRU1PX1NLSUxMX0RNR19UWVBFXSYmXyhvLHQuTUVNT19TS0lMTF9ETUdfQk9PU1QsbixpKSxlJnQuYVtzLk1FTU9fVEFMRU5UX0RNR19UWVBFXSYmXyhvLHQuTUVNT19UQUxFTlRfRE1HX0JPT1NULG4saSksZSZ0LmFbcy5BRERJVElPTkFMX0RNR19UWVBFXSYmXyhvLHQuQURESVRJT05BTF9ETUdfQk9PU1QsbixpKSxlJnQuYVtzLlNVUEVSX0JSRUFLX0RNR19UWVBFXSYmXyhvLHQuU1VQRVJfQlJFQUtfRE1HX0JPT1NULG4saSkpfWZ1bmN0aW9uIE5hKHQsZSxuLGksbz0wKXtuIT0wJiYoZSZ0LmFbcy5CQVNJQ19ETUdfVFlQRV0mJl8obyx0LkJBU0lDX1ZVTE5FUkFCSUxJVFksbixpKSxlJnQuYVtzLlNLSUxMX0RNR19UWVBFXSYmXyhvLHQuU0tJTExfVlVMTkVSQUJJTElUWSxuLGkpLGUmdC5hW3MuVUxUX0RNR19UWVBFXSYmXyhvLHQuVUxUX1ZVTE5FUkFCSUxJVFksbixpKSxlJnQuYVtzLkZVQV9ETUdfVFlQRV0mJl8obyx0LkZVQV9WVUxORVJBQklMSVRZLG4saSksZSZ0LmFbcy5ET1RfRE1HX1RZUEVdJiZfKG8sdC5ET1RfVlVMTkVSQUJJTElUWSxuLGkpLGUmdC5hW3MuQlJFQUtfRE1HX1RZUEVdJiZfKG8sdC5CUkVBS19WVUxORVJBQklMSVRZLG4saSksZSZ0LmFbcy5NRU1PX1NLSUxMX0RNR19UWVBFXSYmXyhvLHQuTUVNT19TS0lMTF9WVUxORVJBQklMSVRZLG4saSksZSZ0LmFbcy5NRU1PX1RBTEVOVF9ETUdfVFlQRV0mJl8obyx0Lk1FTU9fVEFMRU5UX1ZVTE5FUkFCSUxJVFksbixpKSxlJnQuYVtzLlNVUEVSX0JSRUFLX0RNR19UWVBFXSYmXyhvLHQuU1VQRVJfQlJFQUtfVlVMTkVSQUJJTElUWSxuLGkpKX1mdW5jdGlvbiBabCh0LGUsbixpLG89MCl7biE9MCYmKGUmdC5hW3MuQkFTSUNfRE1HX1RZUEVdJiZfKG8sdC5CQVNJQ19SRVNfUEVOLG4saSksZSZ0LmFbcy5TS0lMTF9ETUdfVFlQRV0mJl8obyx0LlNLSUxMX1JFU19QRU4sbixpKSxlJnQuYVtzLlVMVF9ETUdfVFlQRV0mJl8obyx0LlVMVF9SRVNfUEVOLG4saSksZSZ0LmFbcy5GVUFfRE1HX1RZUEVdJiZfKG8sdC5GVUFfUkVTX1BFTixuLGkpLGUmdC5hW3MuRE9UX0RNR19UWVBFXSYmXyhvLHQuRE9UX1JFU19QRU4sbixpKSxlJnQuYVtzLkJSRUFLX0RNR19UWVBFXSYmXyhvLHQuQlJFQUtfUkVTX1BFTixuLGkpLGUmdC5hW3MuTUVNT19TS0lMTF9ETUdfVFlQRV0mJl8obyx0Lk1FTU9fU0tJTExfUkVTX1BFTixuLGkpLGUmdC5hW3MuTUVNT19UQUxFTlRfRE1HX1RZUEVdJiZfKG8sdC5NRU1PX1RBTEVOVF9SRVNfUEVOLG4saSkpfWZ1bmN0aW9uIER0KHQsZSxuLGksbz0wKXtuIT0wJiYoZSZ0LmFbcy5CQVNJQ19ETUdfVFlQRV0mJl8obyx0LkJBU0lDX0RFRl9QRU4sbixpKSxlJnQuYVtzLlNLSUxMX0RNR19UWVBFXSYmXyhvLHQuU0tJTExfREVGX1BFTixuLGkpLGUmdC5hW3MuVUxUX0RNR19UWVBFXSYmXyhvLHQuVUxUX0RFRl9QRU4sbixpKSxlJnQuYVtzLkZVQV9ETUdfVFlQRV0mJl8obyx0LkZVQV9ERUZfUEVOLG4saSksZSZ0LmFbcy5ET1RfRE1HX1RZUEVdJiZfKG8sdC5ET1RfREVGX1BFTixuLGkpLGUmdC5hW3MuQlJFQUtfRE1HX1RZUEVdJiZfKG8sdC5CUkVBS19ERUZfUEVOLG4saSksZSZ0LmFbcy5NRU1PX1NLSUxMX0RNR19UWVBFXSYmXyhvLHQuTUVNT19TS0lMTF9ERUZfUEVOLG4saSksZSZ0LmFbcy5NRU1PX1RBTEVOVF9ETUdfVFlQRV0mJl8obyx0Lk1FTU9fVEFMRU5UX0RFRl9QRU4sbixpKSxlJnQuYVtzLlNVUEVSX0JSRUFLX0RNR19UWVBFXSYmXyhvLHQuU1VQRVJfQlJFQUtfREVGX1BFTixuLGkpKX1mdW5jdGlvbiBYbCh0LGUsbixpLG89MCl7biE9MCYmKGUmdC5hW3MuQkFTSUNfRE1HX1RZUEVdJiZfKG8sdC5CQVNJQ19DUl9CT09TVCxuLGkpLGUmdC5hW3MuU0tJTExfRE1HX1RZUEVdJiZfKG8sdC5TS0lMTF9DUl9CT09TVCxuLGkpLGUmdC5hW3MuVUxUX0RNR19UWVBFXSYmXyhvLHQuVUxUX0NSX0JPT1NULG4saSksZSZ0LmFbcy5GVUFfRE1HX1RZUEVdJiZfKG8sdC5GVUFfQ1JfQk9PU1QsbixpKSxlJnQuYVtzLk1FTU9fU0tJTExfRE1HX1RZUEVdJiZfKG8sdC5NRU1PX1NLSUxMX0NSX0JPT1NULG4saSksZSZ0LmFbcy5NRU1PX1RBTEVOVF9ETUdfVFlQRV0mJl8obyx0Lk1FTU9fVEFMRU5UX0NSX0JPT1NULG4saSkpfWZ1bmN0aW9uIFVhKHQsZSxuLGksbz0wKXtuIT0wJiYoZSZ0LmFbcy5CQVNJQ19ETUdfVFlQRV0mJl8obyx0LkJBU0lDX0NEX0JPT1NULG4saSksZSZ0LmFbcy5TS0lMTF9ETUdfVFlQRV0mJl8obyx0LlNLSUxMX0NEX0JPT1NULG4saSksZSZ0LmFbcy5VTFRfRE1HX1RZUEVdJiZfKG8sdC5VTFRfQ0RfQk9PU1QsbixpKSxlJnQuYVtzLkZVQV9ETUdfVFlQRV0mJl8obyx0LkZVQV9DRF9CT09TVCxuLGkpLGUmdC5hW3MuTUVNT19TS0lMTF9ETUdfVFlQRV0mJl8obyx0Lk1FTU9fU0tJTExfQ0RfQk9PU1QsbixpKSxlJnQuYVtzLk1FTU9fVEFMRU5UX0RNR19UWVBFXSYmXyhvLHQuTUVNT19UQUxFTlRfQ0RfQk9PU1QsbixpKSl9dmFyIHdhPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQ29sbGFwc2luZ1NreSIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIwMDAyIiksbz1bLjIsLjI1LC4zLC4zNSwuNF0sYT17YmFzaWNTa2lsbERtZ0J1ZmY6ITB9LHI9e2Jhc2ljU2tpbGxEbWdCdWZmOntsYzohMCxmb3JtSXRlbToic3dpdGNoIixpZDoiYmFzaWNTa2lsbERtZ0J1ZmYiLHRleHQ6bigiQ29udGVudC5iYXNpY1NraWxsRG1nQnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmJhc2ljU2tpbGxEbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztBKGMscHR8Vyx1LmJhc2ljU2tpbGxEbWdCdWZmP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sSGE9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Db3JudWNvcGlhIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjAwMDEiKSxvPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxhPXtoZWFsaW5nQnVmZjohMH0scj17aGVhbGluZ0J1ZmY6e2xjOiEwLGlkOiJoZWFsaW5nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmhlYWxpbmdCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuaGVhbGluZ0J1ZmYuY29udGVudCIse0hlYWxpbmdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLlNLSUxMX09IQi5idWZmKHUuaGVhbGluZ0J1ZmY/b1t0XTowLGkpLGMuVUxUX09IQi5idWZmKHUuaGVhbGluZ0J1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxLYT0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkRhcnRpbmdBcnJvdyIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIwMDA3Iiksbz1bLjI0LC4zLC4zNiwuNDIsLjQ4XSxhPXtkZWZlYXRlZEVuZW15QXRrQnVmZjohMH0scj17ZGVmZWF0ZWRFbmVteUF0a0J1ZmY6e2xjOiEwLGlkOiJkZWZlYXRlZEVuZW15QXRrQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmRlZmVhdGVkRW5lbXlBdGtCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuZGVmZWF0ZWRFbmVteUF0a0J1ZmYuY29udGVudCIse0F0a0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO2MuQVRLX1AuYnVmZih1LmRlZmVhdGVkRW5lbXlBdGtCdWZmP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sVmE9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5EYXRhQmFuayIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIwMDA2Iiksbz1bLjI4LC4zNSwuNDIsLjQ5LC41Nl0sYT17dWx0RG1nQnVmZjohMH0scj17dWx0RG1nQnVmZjp7bGM6ITAsaWQ6InVsdERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC51bHREbWdCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQudWx0RG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMociksZGVmYXVsdHM6KCk9PmEscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCxmKT0+e2NvbnN0IHU9bC5saWdodENvbmVDb25kaXRpb25hbHM7QShjLCQsdS51bHREbWdCdWZmP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0samE9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLHphPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSwkYT0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkhpZGRlblNoYWRvdyIpO2gubGlnaHRDb25lKCIyMDAxOCIpO2NvbnN0IGk9Wy42LC43NSwuOSwxLjA1LDEuMl0sbz17YmFzaWNBdGtCdWZmOiEwfSxhPXtiYXNpY0F0a0J1ZmY6e2xjOiEwLGlkOiJiYXNpY0F0a0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5iYXNpY0F0a0J1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5iYXNpY0F0a0J1ZmYuY29udGVudCIse011bHRpcGxpZXJCb251czpnLnByZWNpc2lvblJvdW5kKDEwMCppW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYSksZGVmYXVsdHM6KCk9Pm8scHJlY29tcHV0ZUVmZmVjdHM6KHIsYyxsKT0+e2MubGlnaHRDb25lQ29uZGl0aW9uYWxzfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczoocixjLGwpPT57Y29uc3QgZj1jLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztyLkJBU0lDX0FERElUSU9OQUxfRE1HLmJ1ZmYoKGYuYmFzaWNBdGtCdWZmP2lbdF06MCkqci5hW3MuQVRLXSxoLk5PTkUpfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczoocixjKT0+e2NvbnN0IGw9ci5saWdodENvbmVDb25kaXRpb25hbHM7cmV0dXJuYAppZiAoJHt2dChsLmJhc2ljQXRrQnVmZil9KSB7CiAgeC5CQVNJQ19BRERJVElPTkFMX0RNRyArPSAke2lbdF19ICogeC5BVEs7Cn0KICAgICAgYH19fSxXYT0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkxvb3AiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMDAxMSIpLG89Wy4yNCwuMywuMzYsLjQyLC40OF0sYT17ZW5lbXlTbG93ZWREbWdCdWZmOiEwfSxyPXtlbmVteVNsb3dlZERtZ0J1ZmY6e2xjOiEwLGlkOiJlbmVteVNsb3dlZERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5lbmVteVNsb3dlZERtZ0J1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5lbmVteVNsb3dlZERtZ0J1ZmYuY29udGVudCIse0RtZ0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO2MuRUxFTUVOVEFMX0RNRy5idWZmKHUuZW5lbXlTbG93ZWREbWdCdWZmP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sWWE9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5NZWRpYXRpb24iKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMDAxOSIpLG89WzEyLDE0LDE2LDE4LDIwXSxhPXtpbml0aWFsU3BkQnVmZjohMX0scj17aW5pdGlhbFNwZEJ1ZmY6ITF9LGM9e2luaXRpYWxTcGRCdWZmOntsYzohMCxpZDoiaW5pdGlhbFNwZEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5pbml0aWFsU3BkQnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmluaXRpYWxTcGRCdWZmLmNvbnRlbnQiLHtTcGRCdWZmOm9bdF19KX19LGw9e2luaXRpYWxTcGRCdWZmOmMuaW5pdGlhbFNwZEJ1ZmZ9O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGMpLHRlYW1tYXRlQ29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhsKSxkZWZhdWx0czooKT0+YSx0ZWFtbWF0ZURlZmF1bHRzOigpPT5yLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooZix1LGQpPT57Y29uc3QgbT11LmxpZ2h0Q29uZUNvbmRpdGlvbmFscztmLlNQRC5idWZmVGVhbShtLmluaXRpYWxTcGRCdWZmP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sSmE9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLFFhPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxaYT0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLk11dHVhbERlbWlzZSIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIwMDE2Iiksbz1bLjEyLC4xNSwuMTgsLjIxLC4yNF0sYT17c2VsZkhwODBDckJ1ZmY6ITB9LHI9e3NlbGZIcDgwQ3JCdWZmOntsYzohMCxpZDoic2VsZkhwODBDckJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5zZWxmSHA4MENyQnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LnNlbGZIcDgwQ3JCdWZmLmNvbnRlbnQiLHtDcml0QnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMociksZGVmYXVsdHM6KCk9PmEscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCxmKT0+e2NvbnN0IHU9bC5saWdodENvbmVDb25kaXRpb25hbHM7Yy5DUi5idWZmKHUuc2VsZkhwODBDckJ1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxYYT0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSkscWE9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLHRzPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuUmVtaW5pc2NlbmNlIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjAwMjIiKSxvPVsuMDgsLjA5LC4xLC4xMSwuMTJdLGE9e2RtZ1N0YWNrczo0fSxyPXtkbWdTdGFja3M6e2xjOiEwLGlkOiJkbWdTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bigiQ29udGVudC5kbWdTdGFja3MudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5kbWdTdGFja3MuY29udGVudCIse0RtZ0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZChvW3RdKjEwMCl9KSxtaW46MCxtYXg6NH19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO2MuRUxFTUVOVEFMX0RNRy5idWZmRHVhbCh1LmRtZ1N0YWNrcypvW3RdLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxlcz0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlNhZ2FjaXR5Iikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjAwMjAiKSxvPVsuMjQsLjMsLjM2LC40MiwuNDhdLGE9e3Bvc3RVbHRBdGtCdWZmOiEwfSxyPXtwb3N0VWx0QXRrQnVmZjp7bGM6ITAsaWQ6InBvc3RVbHRBdGtCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQucG9zdFVsdEF0a0J1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5wb3N0VWx0QXRrQnVmZi5jb250ZW50Iix7QXRrQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMociksZGVmYXVsdHM6KCk9PmEscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCxmKT0+e2NvbnN0IHU9bC5saWdodENvbmVDb25kaXRpb25hbHM7Yy5BVEtfUC5idWZmKHUucG9zdFVsdEF0a0J1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxucz0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSksb3M9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5TaGF0dGVyZWRIb21lIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjAwMDkiKSxvPVsuMiwuMjUsLjMsLjM1LC40XSxhPXtlbmVteUhwNTBCdWZmOiEwfSxyPXtlbmVteUhwNTBCdWZmOntsYzohMCxpZDoiZW5lbXlIcDUwQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmVuZW15SHA1MEJ1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5lbmVteUhwNTBCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLkVMRU1FTlRBTF9ETUcuYnVmZih1LmVuZW15SHA1MEJ1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxpcz0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlZvaWQiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMDAwNCIpLG89Wy4yLC4yNSwwLDMwLC4zNSwuNF0sYT17aW5pdGlhbEVockJ1ZmY6ITB9LHI9e2luaXRpYWxFaHJCdWZmOntsYzohMCxpZDoiaW5pdGlhbEVockJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5pbml0aWFsRWhyQnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmluaXRpYWxFaHJCdWZmLmNvbnRlbnQiLHtFaHJCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLkVIUi5idWZmKHUuaW5pdGlhbEVockJ1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxhcz0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkFmdGVyVGhlQ2hhcm1vbnlGYWxsIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjEwNDUiKSxvPVsuMDgsLjEsLjEyLC4xNCwuMTZdLGE9e3NwZEJ1ZmY6ITB9LHI9e3NwZEJ1ZmY6e2xjOiEwLGlkOiJzcGRCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuc3BkQnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LnNwZEJ1ZmYuY29udGVudCIse1NwZEJ1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO2MuU1BEX1AuYnVmZih1LnNwZEJ1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxzcz0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkFTZWNyZXRWb3ciKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMTAxMiIpLG89Wy4yLC4yNSwuMywuMzUsLjRdLGE9e2VuZW15SHBIaWdoZXJEbWdCb29zdDohMH0scj17ZW5lbXlIcEhpZ2hlckRtZ0Jvb3N0OntsYzohMCxpZDoiZW5lbXlIcEhpZ2hlckRtZ0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuZW5lbXlIcEhpZ2hlckRtZ0Jvb3N0LnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuZW5lbXlIcEhpZ2hlckRtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLkVMRU1FTlRBTF9ETUcuYnVmZihvW3RdLGkpLGMuRUxFTUVOVEFMX0RNRy5idWZmKHUuZW5lbXlIcEhpZ2hlckRtZ0Jvb3N0P29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0scnM9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLGxzPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQm91bmRsZXNzQ2hvcmVvIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjEwNDQiKSxvPVsuMjQsLjMsLjM2LC40MiwuNDhdLGE9e2VuZW15RGVmUmVkdWNlZFNsb3dlZDohMH0scj17ZW5lbXlEZWZSZWR1Y2VkU2xvd2VkOntsYzohMCxpZDoiZW5lbXlEZWZSZWR1Y2VkU2xvd2VkIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuZW5lbXlEZWZSZWR1Y2VkU2xvd2VkLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuZW5lbXlEZWZSZWR1Y2VkU2xvd2VkLmNvbnRlbnQiLHtDcml0QnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMociksZGVmYXVsdHM6KCk9PmEscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCxmKT0+e2NvbnN0IHU9bC5saWdodENvbmVDb25kaXRpb25hbHM7Yy5DRC5idWZmKHUuZW5lbXlEZWZSZWR1Y2VkU2xvd2VkP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sY3M9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5DYXJ2ZVRoZU1vb25XZWF2ZVRoZUNsb3VkcyIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIxMDMyIiksbz1bLjEsLjEyNSwuMTUsLjE3NSwuMl0sYT1bLjEyLC4xNSwuMTgsLjIxLC4yNF0scj1bLjA2LC4wNzUsLjA5LC4xMDUsLjEyXSxjPXthdGtCdWZmQWN0aXZlOiEwLGNkQnVmZkFjdGl2ZTohMSxlcnJCdWZmQWN0aXZlOiExfSxsPXthdGtCdWZmQWN0aXZlOiEwLGNkQnVmZkFjdGl2ZTohMSxlcnJCdWZmQWN0aXZlOiExfSxmPXthdGtCdWZmQWN0aXZlOntsYzohMCxpZDoiYXRrQnVmZkFjdGl2ZSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmF0a0J1ZmZBY3RpdmUudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5hdGtCdWZmQWN0aXZlLmNvbnRlbnQiLHtBdGtCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pLENyaXRCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pLFJlZ2VuQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpyW3RdKX0pfSxjZEJ1ZmZBY3RpdmU6e2xjOiEwLGlkOiJjZEJ1ZmZBY3RpdmUiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5jZEJ1ZmZBY3RpdmUudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5jZEJ1ZmZBY3RpdmUuY29udGVudCIse0F0a0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSksQ3JpdEJ1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSksUmVnZW5CdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKnJbdF0pfSl9LGVyckJ1ZmZBY3RpdmU6e2xjOiEwLGlkOiJlcnJCdWZmQWN0aXZlIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuZXJyQnVmZkFjdGl2ZS50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmVyckJ1ZmZBY3RpdmUuY29udGVudCIse0F0a0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSksQ3JpdEJ1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSksUmVnZW5CdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKnJbdF0pfSl9fSx1PXthdGtCdWZmQWN0aXZlOmYuYXRrQnVmZkFjdGl2ZSxjZEJ1ZmZBY3RpdmU6Zi5jZEJ1ZmZBY3RpdmUsZXJyQnVmZkFjdGl2ZTpmLmVyckJ1ZmZBY3RpdmV9O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGYpLHRlYW1tYXRlQ29udGVudDooKT0+T2JqZWN0LnZhbHVlcyh1KSxkZWZhdWx0czooKT0+Yyx0ZWFtbWF0ZURlZmF1bHRzOigpPT5sLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooZCxtLEUpPT57Y29uc3QgQz1tLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztkLkFUS19QLmJ1ZmZUZWFtKEMuYXRrQnVmZkFjdGl2ZT9vW3RdOjAsaSksZC5DRC5idWZmVGVhbShDLmNkQnVmZkFjdGl2ZT9hW3RdOjAsaSksZC5FUlIuYnVmZlRlYW0oQy5lcnJCdWZmQWN0aXZlP3JbdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sdXM9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Db25jZXJ0Rm9yVHdvIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjEwNDMiKSxvPVsuMDQsLjA1LC4wNiwuMDcsLjA4XSxhPXt0ZWFtbWF0ZVNoaWVsZFN0YWNrczo0fSxyPXt0ZWFtbWF0ZVNoaWVsZFN0YWNrczp7bGM6ITAsaWQ6InRlYW1tYXRlU2hpZWxkU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0Om4oIkNvbnRlbnQudGVhbW1hdGVTaGllbGRTdGFja3MudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC50ZWFtbWF0ZVNoaWVsZFN0YWNrcy5jb250ZW50Iix7RG1nQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pLG1pbjowLG1heDo0fX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMociksZGVmYXVsdHM6KCk9PmEscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCxmKT0+e2NvbnN0IHU9bC5saWdodENvbmVDb25kaXRpb25hbHM7Yy5FTEVNRU5UQUxfRE1HLmJ1ZmYodS50ZWFtbWF0ZVNoaWVsZFN0YWNrcypvW3RdLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxmcz0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSksZHM9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5EYXlPbmVPZk15TmV3TGlmZSIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIxMDAyIiksbz1bLjA4LC4wOSwuMSwuMTEsLjEyXSxhPXtkbWdSZXNCdWZmOiEwfSxyPXtkbWdSZXNCdWZmOiEwfSxjPXtkbWdSZXNCdWZmOntsYzohMCxpZDoiZG1nUmVzQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmRtZ1Jlc0J1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5kbWdSZXNCdWZmLmNvbnRlbnQiLHtSZXNCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fSxsPXtkbWdSZXNCdWZmOmMuZG1nUmVzQnVmZn07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYyksdGVhbW1hdGVDb250ZW50OigpPT5PYmplY3QudmFsdWVzKGwpLGRlZmF1bHRzOigpPT5hLHRlYW1tYXRlRGVmYXVsdHM6KCk9PnIscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihmLHUsZCk9Pntjb25zdCBtPXUubGlnaHRDb25lQ29uZGl0aW9uYWxzO2YuRE1HX1JFRF9NVUxUSS5tdWx0aXBseVRlYW0obS5kbWdSZXNCdWZmPzEtb1t0XToxLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxtcz0odCxlKT0+e2NvbnN0e1NPVVJDRV9MQzpufT1oLmxpZ2h0Q29uZSgiMjEwMzkiKSxpPVsuMDA4LC4wMDksLjAxLC4wMTEsLjAxMl0sbz1bLjMyLC4zNiwuNCwuNDQsLjQ4XTtyZXR1cm57Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihhLHIsYyk9PnthLkVMRU1FTlRBTF9ETUcuYnVmZihNYXRoLm1pbihvW3RdLE1hdGguZmxvb3IoYS5hW3MuREVGXS8xMDApKmlbdF0pLG4pfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+YAp4LkVMRU1FTlRBTF9ETUcgKz0gbWluKCR7b1t0XX0sIGZsb29yKHguREVGIC8gMTAwKSAqICR7aVt0XX0pOwogICAgICBgfX0scHM9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLGdzPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuRHJlYW12aWxsZUFkdmVudHVyZSIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIxMDM2Iiksbz1bLjEyLC4xNCwuMTYsLjE4LC4yXSxhPXt1bHREbWdCdWZmOiExLHNraWxsRG1nQnVmZjohMSxiYXNpY0RtZ0J1ZmY6ITF9LHI9e3VsdERtZ0J1ZmY6ITEsc2tpbGxEbWdCdWZmOiExLGJhc2ljRG1nQnVmZjohMX0sYz17dWx0RG1nQnVmZjp7bGM6ITAsaWQ6InVsdERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC51bHREbWdCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQudWx0RG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfSxza2lsbERtZ0J1ZmY6e2xjOiEwLGlkOiJza2lsbERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5za2lsbERtZ0J1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5za2lsbERtZ0J1ZmYuY29udGVudCIse0RtZ0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX0sYmFzaWNEbWdCdWZmOntsYzohMCxpZDoiYmFzaWNEbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuYmFzaWNEbWdCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuYmFzaWNEbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fSxsPXt1bHREbWdCdWZmOmMudWx0RG1nQnVmZixza2lsbERtZ0J1ZmY6Yy5za2lsbERtZ0J1ZmYsYmFzaWNEbWdCdWZmOmMuYmFzaWNEbWdCdWZmfTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhjKSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMobCksZGVmYXVsdHM6KCk9PmEsdGVhbW1hdGVEZWZhdWx0czooKT0+cixwcmVjb21wdXRlRWZmZWN0czooKT0+e30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsdSxkKT0+e2NvbnN0IG09dS5saWdodENvbmVDb25kaXRpb25hbHM7QShmLHB0LG0uYmFzaWNEbWdCdWZmP29bdF06MCxpLEZ0LlRFQU0pLEEoZixXLG0uc2tpbGxEbWdCdWZmP29bdF06MCxpLEZ0LlRFQU0pLEEoZiwkLG0udWx0RG1nQnVmZj9vW3RdOjAsaSxGdC5URUFNKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0saHM9KHQsZSk9Pntjb25zdHtTT1VSQ0VfTEM6bn09aC5saWdodENvbmUoIjIxMDA4IiksaT1bLjI0LC4zLC4zNiwuNDIsLjQ4XTtyZXR1cm57Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6bz0+e0EobyxnZSxpW3RdLG4pfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxFcz0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkZlcm1hdGEiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMTAyMiIpLG89Wy4xNiwuMiwuMjQsLjI4LC4zMl0sYT17ZW5lbXlTaG9ja1dpbmRTaGVhcjohMH0scj17ZW5lbXlTaG9ja1dpbmRTaGVhcjp7bGM6ITAsaWQ6ImVuZW15U2hvY2tXaW5kU2hlYXIiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5lbmVteVNob2NrV2luZFNoZWFyLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuZW5lbXlTaG9ja1dpbmRTaGVhci5jb250ZW50Iix7RG1nQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMociksZGVmYXVsdHM6KCk9PmEscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCxmKT0+e2NvbnN0IHU9bC5saWdodENvbmVDb25kaXRpb25hbHM7Yy5FTEVNRU5UQUxfRE1HLmJ1ZmYodS5lbmVteVNob2NrV2luZFNoZWFyP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sQ3M9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5GaW5hbFZpY3RvciIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIxMDM3Iiksbz1bLjA4LC4wOSwuMSwuMTEsLjEyXSxhPXtnb29kRm9ydHVuZVN0YWNrczo0fSxyPXtnb29kRm9ydHVuZVN0YWNrczp7bGM6ITAsaWQ6Imdvb2RGb3J0dW5lU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0Om4oIkNvbnRlbnQuZ29vZEZvcnR1bmVTdGFja3MudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5nb29kRm9ydHVuZVN0YWNrcy5jb250ZW50Iix7Q3JpdEJ1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KSxtaW46MCxtYXg6NH19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO2MuQ0QuYnVmZih1Lmdvb2RGb3J0dW5lU3RhY2tzKm9bdF0saSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LERzPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuRmxhbWVzQWZhciIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIxMDM4Iiksbz1bLjI1LC4zMTI1LC4zNzUsLjQzNzUsLjVdLGE9e2RtZ0J1ZmY6ITB9LHI9e2RtZ0J1ZmY6e2xjOiEwLGlkOiJkbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuZG1nQnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmRtZ0J1ZmYuY29udGVudCIse0RtZ0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO2MuRUxFTUVOVEFMX0RNRy5idWZmKHUuZG1nQnVmZj9vW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFNzPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuRm9yVG9tb3Jyb3dzSm91cm5leSIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIyMDAyIiksbz1bLjE4LC4yMSwuMjQsLjI3LC4zXSxhPXt1bHREbWdCdWZmOiEwfSxyPXt1bHREbWdCdWZmOntsYzohMCxpZDoidWx0RG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LnVsdERtZ0J1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC51bHREbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLkVMRU1FTlRBTF9ETUcuYnVmZih1LnVsdERtZ0J1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxfcz0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkdlbml1c2VzR3JlZXRpbmdzIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjEwNTEiKSxvPVsuMiwuMjUsLjMsLjM1LC40XSxhPXtiYXNpY0RtZ0Jvb3N0OiEwfSxyPXtiYXNpY0RtZ0Jvb3N0OntsYzohMCxpZDoiYmFzaWNEbWdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmJhc2ljRG1nQm9vc3QudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5iYXNpY0RtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQob1t0XSoxMDApfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLkJBU0lDX0RNR19CT09TVC5idWZmRHVhbCh1LmJhc2ljRG1nQm9vc3Q/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxCcz0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkdlbml1c2VzUmVwb3NlIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjEwMjAiKSxvPVsuMjQsLjMsLjM2LC40MiwuNDhdLGE9e2RlZmVhdGVkRW5lbXlDZEJ1ZmY6ITB9LHI9e2RlZmVhdGVkRW5lbXlDZEJ1ZmY6e2xjOiEwLGlkOiJkZWZlYXRlZEVuZW15Q2RCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuZGVmZWF0ZWRFbmVteUNkQnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmRlZmVhdGVkRW5lbXlDZEJ1ZmYuY29udGVudCIse0RtZ0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO2MuQ0QuYnVmZih1LmRlZmVhdGVkRW5lbXlDZEJ1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxicz0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkdvb2ROaWdodEFuZFNsZWVwV2VsbCIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIxMDAxIiksbz1bLjEyLC4xNSwuMTgsLjIxLC4yNF0sYT17ZGVidWZmU3RhY2tzRG1nSW5jcmVhc2U6M30scj17ZGVidWZmU3RhY2tzRG1nSW5jcmVhc2U6e2xjOiEwLGlkOiJkZWJ1ZmZTdGFja3NEbWdJbmNyZWFzZSIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDpuKCJDb250ZW50LmRlYnVmZlN0YWNrc0RtZ0luY3JlYXNlLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuZGVidWZmU3RhY2tzRG1nSW5jcmVhc2UuY29udGVudCIse0RtZ0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KSxtaW46MCxtYXg6M319O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO2MuRUxFTUVOVEFMX0RNRy5idWZmKHUuZGVidWZmU3RhY2tzRG1nSW5jcmVhc2Uqb1t0XSxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sVHM9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5IZXlPdmVySGVyZSIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIyMDAxIiksbz1bLjE2LC4xOSwuMjIsLjI1LC4yOF0sYT17cG9zdFNraWxsSGVhbEJ1ZmY6ITB9LHI9e3Bvc3RTa2lsbEhlYWxCdWZmOntsYzohMCxpZDoicG9zdFNraWxsSGVhbEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5wb3N0U2tpbGxIZWFsQnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LnBvc3RTa2lsbEhlYWxCdWZmLmNvbnRlbnQiLHtIZWFsaW5nQm9vc3Q6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO2MuT0hCLmJ1ZmYodS5wb3N0U2tpbGxIZWFsQnVmZj9vW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHlzPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuSW5kZWxpYmxlUHJvbWlzZSIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIxMDQyIiksbz1bLjE1LC4xODc1LC4yMjUsLjI2MjUsLjNdLGE9e2NyQnVmZjohMH0scj17Y3JCdWZmOntsYzohMCxpZDoiY3JCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuY3JCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuY3JCdWZmLmNvbnRlbnQiLHtDcml0QnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMociksZGVmYXVsdHM6KCk9PmEscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCxmKT0+e2NvbnN0IHU9bC5saWdodENvbmVDb25kaXRpb25hbHM7Yy5DUi5idWZmKHUuY3JCdWZmP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sT3M9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5JdHNTaG93dGltZSIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIxMDQxIiksbz1bLjA2LC4wNywuMDgsLjA5LC4xXSxhPVsuMiwuMjQsLjI4LC4zMiwuMzZdLHI9e3RyaWNrU3RhY2tzOjN9LGM9e3RyaWNrU3RhY2tzOntsYzohMCxpZDoidHJpY2tTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bigiQ29udGVudC50cmlja1N0YWNrcy50ZXh0IiksY29udGVudDpuKCJDb250ZW50LnRyaWNrU3RhY2tzLmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pLEF0a0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KSxtaW46MCxtYXg6M319O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGMpLGRlZmF1bHRzOigpPT5yLHByZWNvbXB1dGVFZmZlY3RzOihsLGYsdSk9Pntjb25zdCBkPWYubGlnaHRDb25lQ29uZGl0aW9uYWxzO2wuRUxFTUVOVEFMX0RNRy5idWZmKGQudHJpY2tTdGFja3Mqb1t0XSxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9LGR5bmFtaWNDb25kaXRpb25hbHM6W3tpZDoiSXRzU2hvd3RpbWVDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6bnQuQUJJTElUWSxhY3RpdmF0aW9uOlEuU0lOR0xFLGRlcGVuZHNPbjpbcC5FSFJdLGNoYWluc1RvOltwLkFUS10sY29uZGl0aW9uOmZ1bmN0aW9uKGwsZix1KXtyZXR1cm4gbC5hW3MuRUhSXT49Ljh9LGVmZmVjdDpmdW5jdGlvbihsLGYsdSl7bC5BVEsuYnVmZkR5bmFtaWMoYVt0XSp1LmJhc2VBVEssaSxmLHUpfSxncHU6ZnVuY3Rpb24obCxmKXtyZXR1cm4gb3QodGhpcyxgCmlmICgKICAoKnBfc3RhdGUpLkl0c1Nob3d0aW1lQ29udmVyc2lvbkNvbmRpdGlvbmFsID09IDAuMCAmJgogIHguRUhSID49IDAuODAKKSB7CiAgKCpwX3N0YXRlKS5JdHNTaG93dGltZUNvbnZlcnNpb25Db25kaXRpb25hbCA9IDEuMDsKICAoKnBfeCkuQVRLICs9ICR7YVt0XX0gKiBiYXNlQVRLOwp9CiAgICBgKX19XX19LExzPSh0LGUpPT57Y29uc3R7U09VUkNFX0xDOm59PWgubGlnaHRDb25lKCIyMTAwOSIpLGk9Wy4xNiwuMTgsLjIsLjIyLC4yNF07cmV0dXJue2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOm89PntvLkRNR19SRURfTVVMVEkubXVsdGlwbHkoMS1pW3RdLG4pfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxBcz0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLk1ha2VUaGVXb3JsZENsYW1vciIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIxMDEzIiksbz1bLjMyLC40LC40OCwuNTYsLjY0XSxhPVsyMCwyMywyNiwyOSwzMl0scj17dWx0RG1nQnVmZjohMH0sYz17dWx0RG1nQnVmZjp7bGM6ITAsaWQ6InVsdERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC51bHREbWdCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQudWx0RG1nQnVmZi5jb250ZW50Iix7RW5lcmd5OmFbdF0sRG1nQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYyksZGVmYXVsdHM6KCk9PnIscHJlY29tcHV0ZUVmZmVjdHM6KGwsZix1KT0+e2NvbnN0IGQ9Zi5saWdodENvbmVDb25kaXRpb25hbHM7QShsLCQsZC51bHREbWdCdWZmP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sUnM9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLE1zPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuTmluamFSZWNvcmRTb3VuZEh1bnQiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMjAwMyIpLG89Wy4xOCwuMjI1LC4yNywuMzE1LC4zNl0sYT17Y2RCdWZmOiEwfSxyPXtjZEJ1ZmY6e2xjOiEwLGlkOiJjZEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5jZEJ1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5jZEJ1ZmYuY29udGVudCIse3NWYWx1ZXNDZDpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMociksZGVmYXVsdHM6KCk9PmEscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCxmKT0+e2NvbnN0IHU9bC5saWdodENvbmVDb25kaXRpb25hbHM7Yy5DRC5idWZmKHUuY2RCdWZmP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sUHM9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLElzPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuT25seVNpbGVuY2VSZW1haW5zIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjEwMDMiKSxvPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxhPXtlbmVtaWVzMkNyQnVmZjohMH0scj17ZW5lbWllczJDckJ1ZmY6e2xjOiEwLGlkOiJlbmVtaWVzMkNyQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmVuZW1pZXMyQ3JCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuZW5lbWllczJDckJ1ZmYuY29udGVudCIse0NyaXRCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLkNSLmJ1ZmYodS5lbmVtaWVzMkNyQnVmZiYmZi5lbmVteUNvdW50PD0yP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sdnM9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5QYXN0QW5kRnV0dXJlIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjEwMjUiKSxvPVsuMTYsLjIsLjI0LC4yOCwuMzJdLGE9e3Bvc3RTa2lsbERtZ0J1ZmY6ITB9LHI9e3Bvc3RTa2lsbERtZ0J1ZmY6e2xjOiEwLGlkOiJwb3N0U2tpbGxEbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQucG9zdFNraWxsRG1nQnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LnBvc3RTa2lsbERtZ0J1ZmYuY29udGVudCIse0RtZ0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX19O3JldHVybntjb250ZW50OigpPT5bXSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMociksZGVmYXVsdHM6KCk9Pih7fSksdGVhbW1hdGVEZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLkVMRU1FTlRBTF9ETUcuYnVmZlNpbmdsZSh1LnBvc3RTa2lsbERtZ0J1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fTtjb25zdCBkZT17W3AuSFBdOntzdGF0OnAuSFAsa2V5OnMuSFAscHJvcGVydHk6IkhQIix1bmNvbnZlcnRpYmxlUHJvcGVydHk6IlVOQ09OVkVSVElCTEVfSFBfQlVGRiIsdW5jb252ZXJ0aWJsZUtleTpzLlVOQ09OVkVSVElCTEVfSFBfQlVGRixwZXJjZW50U3RhdDpwLkhQX1AscGVyY2VudEtleTpzLkhQX1AsYmFzZVByb3BlcnR5OiJiYXNlSFAifSxbcC5BVEtdOntzdGF0OnAuQVRLLGtleTpzLkFUSyxwcm9wZXJ0eToiQVRLIix1bmNvbnZlcnRpYmxlUHJvcGVydHk6IlVOQ09OVkVSVElCTEVfQVRLX0JVRkYiLHVuY29udmVydGlibGVLZXk6cy5VTkNPTlZFUlRJQkxFX0FUS19CVUZGLHBlcmNlbnRTdGF0OnAuQVRLX1AscGVyY2VudEtleTpzLkFUS19QLGJhc2VQcm9wZXJ0eToiYmFzZUFUSyJ9LFtwLkRFRl06e3N0YXQ6cC5ERUYsa2V5OnMuREVGLHByb3BlcnR5OiJERUYiLHVuY29udmVydGlibGVQcm9wZXJ0eToiVU5DT05WRVJUSUJMRV9ERUZfQlVGRiIsdW5jb252ZXJ0aWJsZUtleTpzLlVOQ09OVkVSVElCTEVfREVGX0JVRkYscGVyY2VudFN0YXQ6cC5ERUZfUCxwZXJjZW50S2V5OnMuREVGX1AsYmFzZVByb3BlcnR5OiJiYXNlREVGIn0sW3AuU1BEXTp7c3RhdDpwLlNQRCxrZXk6cy5TUEQscHJvcGVydHk6IlNQRCIsdW5jb252ZXJ0aWJsZVByb3BlcnR5OiJVTkNPTlZFUlRJQkxFX1NQRF9CVUZGIix1bmNvbnZlcnRpYmxlS2V5OnMuVU5DT05WRVJUSUJMRV9TUERfQlVGRixwZXJjZW50U3RhdDpwLlNQRF9QLHBlcmNlbnRLZXk6cy5TUERfUCxiYXNlUHJvcGVydHk6ImJhc2VTUEQifSxbcC5DUl06e3N0YXQ6cC5DUixrZXk6cy5DUixwcm9wZXJ0eToiQ1IiLHVuY29udmVydGlibGVLZXk6cy5VTkNPTlZFUlRJQkxFX0NSX0JVRkYsdW5jb252ZXJ0aWJsZVByb3BlcnR5OiJVTkNPTlZFUlRJQkxFX0NSX0JVRkYifSxbcC5DRF06e3N0YXQ6cC5DRCxrZXk6cy5DRCxwcm9wZXJ0eToiQ0QiLHVuY29udmVydGlibGVLZXk6cy5VTkNPTlZFUlRJQkxFX0NEX0JVRkYsdW5jb252ZXJ0aWJsZVByb3BlcnR5OiJVTkNPTlZFUlRJQkxFX0NEX0JVRkYifSxbcC5FSFJdOntzdGF0OnAuRUhSLGtleTpzLkVIUixwcm9wZXJ0eToiRUhSIix1bmNvbnZlcnRpYmxlS2V5OnMuVU5DT05WRVJUSUJMRV9FSFJfQlVGRix1bmNvbnZlcnRpYmxlUHJvcGVydHk6IlVOQ09OVkVSVElCTEVfRUhSX0JVRkYifSxbcC5CRV06e3N0YXQ6cC5CRSxrZXk6cy5CRSxwcm9wZXJ0eToiQkUiLHVuY29udmVydGlibGVLZXk6cy5VTkNPTlZFUlRJQkxFX0JFX0JVRkYsdW5jb252ZXJ0aWJsZVByb3BlcnR5OiJVTkNPTlZFUlRJQkxFX0JFX0JVRkYifSxbcC5PSEJdOntzdGF0OnAuT0hCLGtleTpzLk9IQixwcm9wZXJ0eToiT0hCIix1bmNvbnZlcnRpYmxlS2V5OnMuVU5DT05WRVJUSUJMRV9PSEJfQlVGRix1bmNvbnZlcnRpYmxlUHJvcGVydHk6IlVOQ09OVkVSVElCTEVfT0hCX0JVRkYifSxbcC5SRVNdOntzdGF0OnAuUkVTLGtleTpzLlJFUyxwcm9wZXJ0eToiUkVTIix1bmNvbnZlcnRpYmxlS2V5OnMuVU5DT05WRVJUSUJMRV9SRVNfQlVGRix1bmNvbnZlcnRpYmxlUHJvcGVydHk6IlVOQ09OVkVSVElCTEVfUkVTX0JVRkYifSxbcC5FUlJdOntzdGF0OnAuRVJSLGtleTpzLkVSUixwcm9wZXJ0eToiRVJSIix1bmNvbnZlcnRpYmxlS2V5OnMuVU5DT05WRVJUSUJMRV9FUlJfQlVGRix1bmNvbnZlcnRpYmxlUHJvcGVydHk6IlVOQ09OVkVSVElCTEVfRVJSX0JVRkYifX07ZnVuY3Rpb24geHModCxlLG4saSxvLGEscixjKXt2YXIgUztjb25zdCBsPWRlW3RdLGY9ZGVbZV0sdT1pLmFbbC5rZXldLGQ9aS5hW2wudW5jb252ZXJ0aWJsZUtleV0/PzAsbT1vLmNvbmRpdGlvbmFsU3RhdGVbbi5pZF0/PzAsRT11LWQ7aWYoRTw9MClyZXR1cm47Y29uc3QgQz1NYXRoLm1heCgwLGMoRSkpLEQ9Qy1tO28uY29uZGl0aW9uYWxTdGF0ZVtuLmlkXT1DLChTPWlbZi51bmNvbnZlcnRpYmxlUHJvcGVydHldKT09bnVsbHx8Uy5idWZmKEQsciksaVtmLnByb3BlcnR5XS5idWZmRHluYW1pYyhELHIsbyxhKX1mdW5jdGlvbiBHcyh0LGUsbixpLG8sYSxyLGM9InRydWUiKXtjb25zdCBsPWRlW3RdLGY9ZGVbZV07cmV0dXJuIG90KG4sYAppZiAoISgke3J9KSkgewogIHJldHVybjsKfQoKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuJHtuLmlkfTsKbGV0IGNvbnZlcnRpYmxlVmFsdWU6IGYzMiA9IHguJHtsLnByb3BlcnR5fSAtIHguJHtsLnVuY29udmVydGlibGVQcm9wZXJ0eX07CgppZiAoISgke2N9KSB8fCBjb252ZXJ0aWJsZVZhbHVlIDw9IDApIHsKICByZXR1cm47Cn0KCmxldCBidWZmRnVsbCA9IG1heCgwLCAke2F9KTsKbGV0IGJ1ZmZEZWx0YSA9IGJ1ZmZGdWxsIC0gc3RhdGVWYWx1ZTsKCigqcF9zdGF0ZSkuJHtuLmlkfSArPSBidWZmRGVsdGE7CgooKnBfeCkuJHtmLnVuY29udmVydGlibGVQcm9wZXJ0eX0gKz0gYnVmZkRlbHRhOwooKnBfeCkuJHtmLnByb3BlcnR5fSArPSBidWZmRGVsdGE7CmApfXZhciBrcz0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlBlcmZlY3RUaW1pbmciKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMTAxNCIpLG89Wy4zMywuMzYsLjM5LC40MiwuNDVdLGE9Wy4xNSwuMTgsLjIxLC4yNCwuMjddLHI9e3Jlc1RvSGVhbGluZ0Jvb3N0OiEwfSxjPXtyZXNUb0hlYWxpbmdCb29zdDp7bGM6ITAsaWQ6InJlc1RvSGVhbGluZ0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQucmVzVG9IZWFsaW5nQm9vc3QudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5yZXNUb0hlYWxpbmdCb29zdC5jb250ZW50Iix7U2NhbGluZzpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKSxMaW1pdDpnLnByZWNpc2lvblJvdW5kKDEwMCphW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYyksZGVmYXVsdHM6KCk9PnIscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihsLGYpPT57fSxkeW5hbWljQ29uZGl0aW9uYWxzOlt7aWQ6IlBlcmZlY3RUaW1pbmdDb25kaXRpb25hbCIsdHlwZTpudC5BQklMSVRZLGFjdGl2YXRpb246US5DT05USU5VT1VTLGRlcGVuZHNPbjpbcC5SRVNdLGNoYWluc1RvOltwLk9IQl0sY29uZGl0aW9uOmZ1bmN0aW9uKGwsZix1KXtyZXR1cm4gZi5saWdodENvbmVDb25kaXRpb25hbHMucmVzVG9IZWFsaW5nQm9vc3R9LGVmZmVjdDpmdW5jdGlvbihsLGYsdSl7eHMocC5SRVMscC5PSEIsdGhpcyxsLGYsdSxpLGQ9Pk1hdGgubWluKGFbdF0sb1t0XSpkKSl9LGdwdTpmdW5jdGlvbihsLGYpe2NvbnN0IHU9bC5saWdodENvbmVDb25kaXRpb25hbHM7cmV0dXJuIEdzKHAuUkVTLHAuT0hCLHRoaXMsbCxmLGBtaW4oJHthW3RdfSwgJHtvW3RdfSAqIGNvbnZlcnRpYmxlVmFsdWUpYCxgJHt2dCh1LnJlc1RvSGVhbGluZ0Jvb3N0KX1gKX19XX19LEZzPSh0LGUsbik9Pntjb25zdCBpPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5QbGFuZXRhcnlSZW5kZXp2b3VzIikse1NPVVJDRV9MQzpvfT1oLmxpZ2h0Q29uZSgiMjEwMTEiKSxhPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxyPXthbGxpZXNTYW1lRWxlbWVudDohMH0sYz17YWxsaWVzU2FtZUVsZW1lbnQ6ITB9LGw9e2FsbGllc1NhbWVFbGVtZW50OntsYzohMCxpZDoiYWxsaWVzU2FtZUVsZW1lbnQiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgiQ29udGVudC5hbGxpZXNTYW1lRWxlbWVudC50ZXh0IiksY29udGVudDppKCJDb250ZW50LmFsbGllc1NhbWVFbGVtZW50LmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSl9fSxmPXthbGxpZXNTYW1lRWxlbWVudDpsLmFsbGllc1NhbWVFbGVtZW50fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhsKSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoZiksZGVmYXVsdHM6KCk9PnIsdGVhbW1hdGVEZWZhdWx0czooKT0+YyxwcmVjb21wdXRlRWZmZWN0czoodSxkLG0pPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoodSxkLG0pPT57Y29uc3QgRT1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztuLmVsZW1lbnQ9PW0uZWxlbWVudCYmdS5FTEVNRU5UQUxfRE1HLmJ1ZmZUZWFtKEUuYWxsaWVzU2FtZUVsZW1lbnQ/YVt0XTowLG8pfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fTtjb25zdCBxbD0odCxlLG4saSk9PntpZih0LmMuc2V0cy5UaGVBc2hibGF6aW5nR3JhbmREdWtlPj4yKXtjb25zdCBhPS4wNiplLnNldENvbmRpdGlvbmFscy52YWx1ZVRoZUFzaGJsYXppbmdHcmFuZER1a2U7cmV0dXJuIGktYX1lbHNlIHJldHVybiAwfSxiPXQ9PmZ1bmN0aW9uKGUsbixpKXtyZXR1cm4gZT49dD9pOm59LHRjPXtTS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNTp7YmFzaWM6Yig1KSxza2lsbDpiKDMpLHVsdDpiKDUpLHRhbGVudDpiKDMpfSxTS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNTp7YmFzaWM6YigzKSxza2lsbDpiKDMpLHVsdDpiKDUpLHRhbGVudDpiKDUpfSxVTFRfVEFMRU5UXzNfU0tJTExfQkFTSUNfNTp7YmFzaWM6Yig1KSxza2lsbDpiKDUpLHVsdDpiKDMpLHRhbGVudDpiKDMpfSxVTFRfQkFTSUNfM19TS0lMTF9UQUxFTlRfNTp7YmFzaWM6YigzKSxza2lsbDpiKDUpLHVsdDpiKDMpLHRhbGVudDpiKDUpfSxTS0lMTF9VTFRfM19CQVNJQ19UQUxFTlRfNTp7YmFzaWM6Yig1KSxza2lsbDpiKDMpLHVsdDpiKDMpLHRhbGVudDpiKDUpfSxTS0lMTF9CQVNJQ19NRU1PX1RBTEVOVF8zX1VMVF9UQUxFTlRfTUVNT19TS0lMTF81OntiYXNpYzpiKDMpLHNraWxsOmIoMyksdWx0OmIoNSksdGFsZW50OmIoNSksbWVtb1RhbGVudDpiKDMpLG1lbW9Ta2lsbDpiKDUpfSxTS0lMTF9UQUxFTlRfTUVNT19UQUxFTlRfM19VTFRfQkFTSUNfTUVNT19TS0lMTF81OntiYXNpYzpiKDUpLHNraWxsOmIoMyksdWx0OmIoNSksdGFsZW50OmIoMyksbWVtb1RhbGVudDpiKDMpLG1lbW9Ta2lsbDpiKDUpfSxVTFRfQkFTSUNfTUVNT19UQUxFTlRfM19TS0lMTF9UQUxFTlRfTUVNT19TS0lMTF81OntiYXNpYzpiKDMpLHNraWxsOmIoNSksdWx0OmIoMyksdGFsZW50OmIoNSksbWVtb1RhbGVudDpiKDMpLG1lbW9Ta2lsbDpiKDUpfX07ZnVuY3Rpb24gTnModCxlKXt2YXIgbixpLG87cmV0dXJuKHQucGF0aD09ZT8xOjApKygoKG49dC50ZWFtbWF0ZTBNZXRhZGF0YSk9PW51bGw/dm9pZCAwOm4ucGF0aCk9PWU/MTowKSsoKChpPXQudGVhbW1hdGUxTWV0YWRhdGEpPT1udWxsP3ZvaWQgMDppLnBhdGgpPT1lPzE6MCkrKCgobz10LnRlYW1tYXRlMk1ldGFkYXRhKT09bnVsbD92b2lkIDA6by5wYXRoKT09ZT8xOjApfWZ1bmN0aW9uIGVjKHQsZSl7dmFyIG4saSxvO3JldHVybih0LmVsZW1lbnQ9PWU/MTowKSsoKChuPXQudGVhbW1hdGUwTWV0YWRhdGEpPT1udWxsP3ZvaWQgMDpuLmVsZW1lbnQpPT1lPzE6MCkrKCgoaT10LnRlYW1tYXRlMU1ldGFkYXRhKT09bnVsbD92b2lkIDA6aS5lbGVtZW50KT09ZT8xOjApKygoKG89dC50ZWFtbWF0ZTJNZXRhZGF0YSk9PW51bGw/dm9pZCAwOm8uZWxlbWVudCk9PWU/MTowKX1mdW5jdGlvbiBuYyh0LGUpe3JldHVybiB0LnBhdGg9PWV9dmFyIFVzPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuUG9pc2VkVG9CbG9vbSIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIxMDQ2Iiksbz1bLjE2LC4yLC4yNCwuMjgsLjMyXSxhPXtjZEJ1ZmY6ITB9LHI9e2NkQnVmZjohMH0sYz17Y2RCdWZmOntsYzohMCxpZDoiY2RCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuY2RCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuY2RCdWZmLmNvbnRlbnQiLHtDcml0QnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfX0sbD17Y2RCdWZmOmMuY2RCdWZmfTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhjKSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMobCksZGVmYXVsdHM6KCk9PmEsdGVhbW1hdGVEZWZhdWx0czooKT0+cixwcmVjb21wdXRlRWZmZWN0czooKT0+e30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsdSxkKT0+e2NvbnN0IG09dS5saWdodENvbmVDb25kaXRpb25hbHM7Zi5DRC5idWZmKG0uY2RCdWZmJiZOcyhkLGQucGF0aCk+PTI/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSx3cz0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlBvc3RPcENvbnZlcnNhdGlvbiIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIxMDAwIiksbz1bLjEyLC4xNSwuMTgsLjIxLC4yNF0sYT17cG9zdFVsdEhlYWxpbmdCb29zdDohMH0scj17cG9zdFVsdEhlYWxpbmdCb29zdDp7bGM6ITAsaWQ6InBvc3RVbHRIZWFsaW5nQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5wb3N0VWx0SGVhbGluZ0Jvb3N0LnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQucG9zdFVsdEhlYWxpbmdCb29zdC5jb250ZW50Iix7SGVhbGluZ0Jvb3N0OmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLlVMVF9PSEIuYnVmZih1LnBvc3RVbHRIZWFsaW5nQm9vc3Q/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxIcz0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSksS3M9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5SZXNvbHV0aW9uU2hpbmVzQXNQZWFybHNPZlN3ZWF0Iikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjEwMTUiKSxvPVsuMTIsLjEzLC4xNCwuMTUsLjE2XSxhPXt0YXJnZXRFbnNuYXJlZDohMH0scj17dGFyZ2V0RW5zbmFyZWQ6ITB9LGM9e3RhcmdldEVuc25hcmVkOntsYzohMCxpZDoidGFyZ2V0RW5zbmFyZWQiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC50YXJnZXRFbnNuYXJlZC50ZXh0IiksY29udGVudDpuKCJDb250ZW50LnRhcmdldEVuc25hcmVkLmNvbnRlbnQiLHtCYXNlQ2hhbmNlOmcucHJlY2lzaW9uUm91bmQoNjArMTAqdCksRGVmU2hyZWQ6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX19LGw9e3RhcmdldEVuc25hcmVkOmMudGFyZ2V0RW5zbmFyZWR9O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGMpLHRlYW1tYXRlQ29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhsKSxkZWZhdWx0czooKT0+YSx0ZWFtbWF0ZURlZmF1bHRzOigpPT5yLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooZix1LGQpPT57Y29uc3QgbT11LmxpZ2h0Q29uZUNvbmRpdGlvbmFscztmLkRFRl9QRU4uYnVmZlRlYW0obS50YXJnZXRFbnNuYXJlZD9vW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFZzPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxqcz0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlJpdmVyRmxvd3NJblNwcmluZyIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIxMDI0Iiksbz1bLjA4LC4wOSwuMSwuMTEsLjEyXSxhPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxyPXtzcGREbWdCdWZmOiEwfSxjPXtzcGREbWdCdWZmOntsYzohMCxpZDoic3BkRG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LnNwZERtZ0J1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5zcGREbWdCdWZmLmNvbnRlbnQiLHtTcGRCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pLERtZ0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGMpLGRlZmF1bHRzOigpPT5yLHByZWNvbXB1dGVFZmZlY3RzOihsLGYsdSk9Pntjb25zdCBkPWYubGlnaHRDb25lQ29uZGl0aW9uYWxzO2wuU1BEX1AuYnVmZihkLnNwZERtZ0J1ZmY/b1t0XTowLGkpLGwuRUxFTUVOVEFMX0RNRy5idWZmKGQuc3BkRG1nQnVmZj9hW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHpzPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuU2hhZG93ZWRCeU5pZ2h0Iikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjEwNDciKSxvPVsuMDgsLjA5LC4xLC4xMSwuMTJdLGE9e3NwZEJ1ZmY6ITB9LHI9e3NwZEJ1ZmY6e2xjOiEwLGlkOiJzcGRCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuc3BkQnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LnNwZEJ1ZmYuY29udGVudCIse1NwZEJ1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO2MuU1BEX1AuYnVmZih1LnNwZEJ1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSwkcz0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSksV3M9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5TdWJzY3JpYmVGb3JNb3JlIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjEwMTciKSxvPVsuMjQsLjMsLjM2LC40MiwuNDhdLGE9e21heEVuZXJneURtZ0Jvb3N0OiEwfSxyPXttYXhFbmVyZ3lEbWdCb29zdDp7bGM6ITAsaWQ6Im1heEVuZXJneURtZ0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQubWF4RW5lcmd5RG1nQm9vc3QudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5tYXhFbmVyZ3lEbWdCb29zdC5jb250ZW50Iix7RG1nQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMociksZGVmYXVsdHM6KCk9PmEscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCxmKT0+e2NvbnN0IHU9bC5saWdodENvbmVDb25kaXRpb25hbHM7QShjLHB0fFcsb1t0XSxpKSxBKGMscHR8Vyx1Lm1heEVuZXJneURtZ0Jvb3N0P29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sWXM9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Td2VhdE5vd0NyeUxlc3MiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMTA1MiIpLG89Wy4yNCwuMjcsLjMsLjMzLC4zNl0sYT17ZG1nQm9vc3Q6ITB9LHI9e2RtZ0Jvb3N0OntsYzohMCxpZDoiZG1nQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5kbWdCb29zdC50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmRtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQob1t0XSoxMDApfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLkVMRU1FTlRBTF9ETUcuYnVmZkR1YWwodS5kbWdCb29zdD9vW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LEpzPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuU3dvcmRwbGF5Iikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjEwMTAiKSxvPVsuMDgsLjEsLjEyLC4xNCwuMTZdLGE9e3NhbWVUYXJnZXRIaXRTdGFja3M6NX0scj17c2FtZVRhcmdldEhpdFN0YWNrczp7bGM6ITAsaWQ6InNhbWVUYXJnZXRIaXRTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bigiQ29udGVudC5zYW1lVGFyZ2V0SGl0U3RhY2tzLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuc2FtZVRhcmdldEhpdFN0YWNrcy5jb250ZW50Iix7RG1nQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pLG1pbjowLG1heDo1fX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMociksZGVmYXVsdHM6KCk9PmEscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCxmKT0+e2NvbnN0IHU9bC5saWdodENvbmVDb25kaXRpb25hbHM7Yy5FTEVNRU5UQUxfRE1HLmJ1ZmYodS5zYW1lVGFyZ2V0SGl0U3RhY2tzKm9bdF0saSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFFzPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuVGhlQmlydGhPZlRoZVNlbGYiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMTAwNiIpLG89Wy4yNCwuMywuMzYsLjQyLC40OF0sYT17ZW5lbXlIcDUwRnVhQnVmZjohMH0scj17ZW5lbXlIcDUwRnVhQnVmZjp7bGM6ITAsaWQ6ImVuZW15SHA1MEZ1YUJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5lbmVteUhwNTBGdWFCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuZW5lbXlIcDUwRnVhQnVmZi5jb250ZW50Iix7RG1nQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMociksZGVmYXVsdHM6KCk9PmEscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCxmKT0+e2NvbnN0IHU9bC5saWdodENvbmVDb25kaXRpb25hbHM7QShjLGV0LG9bdF0saSksQShjLGV0LHUuZW5lbXlIcDUwRnVhQnVmZj9vW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFpzPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuVGhlRGF5VGhlQ29zbW9zRmVsbCIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIxMDQwIiksbz1bLjIsLjI1LC4zLC4zNSwuNF0sYT17Y2RCdWZmQWN0aXZlOiEwfSxyPXtjZEJ1ZmZBY3RpdmU6e2xjOiEwLGlkOiJjZEJ1ZmZBY3RpdmUiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5jZEJ1ZmZBY3RpdmUudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5jZEJ1ZmZBY3RpdmUuY29udGVudCIse0NyaXRCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLkNELmJ1ZmYodS5jZEJ1ZmZBY3RpdmU/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxYcz0odCxlKT0+e2NvbnN0e1NPVVJDRV9MQzpufT1oLmxpZ2h0Q29uZSgiMjIwMDQiKSxpPVsuMDQsLjA1LC4wNiwuMDcsLjA4XSxvPXt3ZWFrbmVzc1R5cGVzOjd9LGE9e3dlYWtuZXNzVHlwZXM6e2xjOiEwLGlkOiJ3ZWFrbmVzc1R5cGVzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OiJXZWFrbmVzcyB0eXBlcyIsY29udGVudDp3LnQoIkJldGFNZXNzYWdlIix7bnM6ImNvbmRpdGlvbmFscyIsVmVyc2lvbjppZX0pLG1pbjowLG1heDo3fX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYSksZGVmYXVsdHM6KCk9Pm8scHJlY29tcHV0ZUVmZmVjdHM6KHIsYyxsKT0+e2NvbnN0IGY9Yy5saWdodENvbmVDb25kaXRpb25hbHM7ci5FTEVNRU5UQUxfRE1HLmJ1ZmYoZi53ZWFrbmVzc1R5cGVzKmlbdF0sbil9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHFzPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuVGhlTW9sZXNXZWxjb21lWW91Iikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjEwMDUiKSxvPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxhPXthdGtCdWZmU3RhY2tzOjN9LHI9e2F0a0J1ZmZTdGFja3M6e2xjOiEwLGlkOiJhdGtCdWZmU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0Om4oIkNvbnRlbnQuYXRrQnVmZlN0YWNrcy50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmF0a0J1ZmZTdGFja3MuY29udGVudCIse0F0a0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KSxtaW46MCxtYXg6M319O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO2MuQVRLX1AuYnVmZih1LmF0a0J1ZmZTdGFja3Mqb1t0XSxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sdHI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5UaGVTZXJpb3VzbmVzc09mQnJlYWtmYXN0Iikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjEwMjciKSxvPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxhPVsuMDQsLjA1LC4wNiwuMDcsLjA4XSxyPXtkbWdCb29zdDohMCxkZWZlYXRlZEVuZW15QXRrU3RhY2tzOjN9LGM9e2RtZ0Jvb3N0OntsYzohMCxpZDoiZG1nQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5kbWdCb29zdC50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmRtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9LGRlZmVhdGVkRW5lbXlBdGtTdGFja3M6e2xjOiEwLGlkOiJkZWZlYXRlZEVuZW15QXRrU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0Om4oIkNvbnRlbnQuZGVmZWF0ZWRFbmVteUF0a1N0YWNrcy50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmRlZmVhdGVkRW5lbXlBdGtTdGFja3MuY29udGVudCIse0F0a0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KSxtaW46MCxtYXg6M319O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGMpLGRlZmF1bHRzOigpPT5yLHByZWNvbXB1dGVFZmZlY3RzOihsLGYsdSk9Pntjb25zdCBkPWYubGlnaHRDb25lQ29uZGl0aW9uYWxzO2wuQVRLX1AuYnVmZihkLmRlZmVhdGVkRW5lbXlBdGtTdGFja3MqYVt0XSxpKSxsLkVMRU1FTlRBTF9ETUcuYnVmZihkLmRtZ0Jvb3N0P29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sZXI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5UaGlzSXNNZSIpO2gubGlnaHRDb25lKCIyMTAzMCIpO2NvbnN0IGk9Wy42LC43NSwuOSwxLjA1LDEuMl0sbz17ZGVmU2NhbGluZ1VsdERtZzohMX0sYT17ZGVmU2NhbGluZ1VsdERtZzp7bGM6ITAsaWQ6ImRlZlNjYWxpbmdVbHREbWciLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5kZWZTY2FsaW5nVWx0RG1nLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuZGVmU2NhbGluZ1VsdERtZy5jb250ZW50Iix7TXVsdGlwbGllcjpnLnByZWNpc2lvblJvdW5kKDEwMCppW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYSksZGVmYXVsdHM6KCk9Pm8scHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LG5yPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuVG9kYXlJc0Fub3RoZXJQZWFjZWZ1bERheSIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIxMDM0Iiksbz1bLjAwMiwuMDAyNSwuMDAzLC4wMDM1LC4wMDRdLGE9e21heEVuZXJneURtZ0Jvb3N0OiEwfSxyPXttYXhFbmVyZ3lEbWdCb29zdDp7bGM6ITAsaWQ6Im1heEVuZXJneURtZ0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQubWF4RW5lcmd5RG1nQm9vc3QudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5tYXhFbmVyZ3lEbWdCb29zdC5jb250ZW50Iix7RG1nU3RlcDpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMociksZGVmYXVsdHM6KCk9PmEscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCxmKT0+e2wubGlnaHRDb25lQ29uZGl0aW9uYWxzLm1heEVuZXJneURtZ0Jvb3N0JiZjLkVMRU1FTlRBTF9ETUcuYnVmZihNYXRoLm1pbigxNjAsZi5iYXNlRW5lcmd5KSpvW3RdLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxvcj0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSksaXI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5VbmRlclRoZUJsdWVTa3kiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMTAxOSIpLG89Wy4xMiwuMTUsLjE4LC4yMSwuMjRdLGE9e2RlZmVhdGVkRW5lbXlDckJ1ZmY6ITB9LHI9e2RlZmVhdGVkRW5lbXlDckJ1ZmY6e2xjOiEwLGlkOiJkZWZlYXRlZEVuZW15Q3JCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuZGVmZWF0ZWRFbmVteUNyQnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmRlZmVhdGVkRW5lbXlDckJ1ZmYuY29udGVudCIse0NyaXRCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLkNSLmJ1ZmYodS5kZWZlYXRlZEVuZW15Q3JCdWZmP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sYXI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5WaWN0b3J5SW5BQmxpbmsiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMTA1MCIpLG89Wy4wOCwuMSwuMTIsLjE0LC4xNl0sYT17dGVhbURtZ0J1ZmY6ITB9LHI9e3RlYW1EbWdCdWZmOiEwfSxjPXt0ZWFtRG1nQnVmZjp7bGM6ITAsaWQ6InRlYW1EbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQudGVhbURtZ0J1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC50ZWFtRG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpnLnByZWNpc2lvblJvdW5kKG9bdF0qMTAwKX0pfX0sbD17dGVhbURtZ0J1ZmY6Yy50ZWFtRG1nQnVmZn07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYyksdGVhbW1hdGVDb250ZW50OigpPT5PYmplY3QudmFsdWVzKGwpLGRlZmF1bHRzOigpPT5hLHRlYW1tYXRlRGVmYXVsdHM6KCk9PnIscHJlY29tcHV0ZUVmZmVjdHM6KGYsdSxkKT0+e30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsdSxkKT0+e2NvbnN0IG09dS5saWdodENvbmVDb25kaXRpb25hbHM7Zi5FTEVNRU5UQUxfRE1HLmJ1ZmZUZWFtKG0udGVhbURtZ0J1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxzcj0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSkscnI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5XZUFyZVdpbGRmaXJlIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjEwMjMiKSxvPVsuMDgsLjEsLjEyLC4xNCwuMTZdLGE9Wy4zLC4zNSwuNCwuNDUsLjVdLHI9e2luaXRpYWxEbWdSZWR1Y3Rpb25CdWZmOiExfSxjPXtpbml0aWFsRG1nUmVkdWN0aW9uQnVmZjohMX0sbD17aW5pdGlhbERtZ1JlZHVjdGlvbkJ1ZmY6e2xjOiEwLGlkOiJpbml0aWFsRG1nUmVkdWN0aW9uQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmluaXRpYWxEbWdSZWR1Y3Rpb25CdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuaW5pdGlhbERtZ1JlZHVjdGlvbkJ1ZmYuY29udGVudCIse0hlYWxpbmc6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSksRG1nUmVkdWN0aW9uOm9bdF19KX19LGY9e2luaXRpYWxEbWdSZWR1Y3Rpb25CdWZmOmwuaW5pdGlhbERtZ1JlZHVjdGlvbkJ1ZmZ9O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGwpLHRlYW1tYXRlQ29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhmKSxkZWZhdWx0czooKT0+cix0ZWFtbWF0ZURlZmF1bHRzOigpPT5jLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoodSxkLG0pPT57Y29uc3QgRT1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt1LkRNR19SRURfTVVMVEkubXVsdGlwbHlUZWFtKEUuaW5pdGlhbERtZ1JlZHVjdGlvbkJ1ZmY/MS1vW3RdOjEsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGxyPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuV2VXaWxsTWVldEFnYWluIik7aC5saWdodENvbmUoIjIxMDI5Iik7Y29uc3QgaT1bLjQ4LC42LC43MiwuODQsLjk2XSxvPXtleHRyYURtZ1Byb2M6ITB9LGE9e2V4dHJhRG1nUHJvYzp7bGM6ITAsaWQ6ImV4dHJhRG1nUHJvYyIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmV4dHJhRG1nUHJvYy50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmV4dHJhRG1nUHJvYy5jb250ZW50Iix7TXVsdGlwbGllcjpnLnByZWNpc2lvblJvdW5kKDEwMCppW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYSksZGVmYXVsdHM6KCk9Pm8scHJlY29tcHV0ZUVmZmVjdHM6KHIsYyxsKT0+e2MubGlnaHRDb25lQ29uZGl0aW9uYWxzfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczoocixjLGwpPT57Y29uc3QgZj1jLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztyLkJBU0lDX0FERElUSU9OQUxfRE1HLmJ1ZmYoKGYuZXh0cmFEbWdQcm9jP2lbdF06MCkqci5hW3MuQVRLXSxoLk5PTkUpLHIuU0tJTExfQURESVRJT05BTF9ETUcuYnVmZigoZi5leHRyYURtZ1Byb2M/aVt0XTowKSpyLmFbcy5BVEtdLGguTk9ORSl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOihyLGMpPT57Y29uc3QgbD1yLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztyZXR1cm5gCmlmICgke3Z0KGwuZXh0cmFEbWdQcm9jKX0pIHsKICB4LkJBU0lDX0FERElUSU9OQUxfRE1HICs9ICR7aVt0XX0gKiB4LkFUSzsKICB4LlNLSUxMX0FERElUSU9OQUxfRE1HICs9ICR7aVt0XX0gKiB4LkFUSzsKfQogICAgICBgfX19LGNyPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSx1cj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLldvb2ZXYWxrVGltZSIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIxMDI2Iiksbz1bLjE2LC4yLC4yNCwuMjgsLjMyXSxhPXtlbmVteUJ1cm5lZEJsZWVkaW5nOiEwfSxyPXtlbmVteUJ1cm5lZEJsZWVkaW5nOntsYzohMCxpZDoiZW5lbXlCdXJuZWRCbGVlZGluZyIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmVuZW15QnVybmVkQmxlZWRpbmcudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5lbmVteUJ1cm5lZEJsZWVkaW5nLmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztjLkVMRU1FTlRBTF9ETUcuYnVmZih1LmVuZW15QnVybmVkQmxlZWRpbmc/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxmcj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkFHcm91bmRlZEFzY2VudCIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIzMDM0Iiksbz1bLjE1LC4xNzI1LC4xOTUsLjIxNzUsLjI0XSxhPXtkbWdCdWZmU3RhY2tzOjN9LHI9e2RtZ0J1ZmZTdGFja3M6M30sYz17ZG1nQnVmZlN0YWNrczp7bGM6ITAsaWQ6ImRtZ0J1ZmZTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bigiQ29udGVudC5kbWdCdWZmU3RhY2tzLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuZG1nQnVmZlN0YWNrcy5jb250ZW50Iix7RG1nQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pLG1pbjowLG1heDozfX0sbD17ZG1nQnVmZlN0YWNrczpjLmRtZ0J1ZmZTdGFja3N9O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGMpLHRlYW1tYXRlQ29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhsKSxkZWZhdWx0czooKT0+YSx0ZWFtbWF0ZURlZmF1bHRzOigpPT5yLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooZix1LGQpPT57Y29uc3QgbT11LmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt1LmFjdG9ySWQ9PSIxMzEzIj9mLkVMRU1FTlRBTF9ETUcuYnVmZkR1YWwobS5kbWdCdWZmU3RhY2tzKm9bdF0saSk6Zi5FTEVNRU5UQUxfRE1HLmJ1ZmZTaW5nbGUobS5kbWdCdWZmU3RhY2tzKm9bdF0saSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGRyPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQWxvbmdUaGVQYXNzaW5nU2hvcmUiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMzAyNCIpLG89Wy4yNCwuMjgsLjMyLC4zNiwuNF0sYT1bLjI0LC4yOCwuMzIsLjM2LC40XSxyPXtlbXB0eUJ1YmJsZXNEZWJ1ZmY6ITB9LGM9e2VtcHR5QnViYmxlc0RlYnVmZjp7bGM6ITAsaWQ6ImVtcHR5QnViYmxlc0RlYnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmVtcHR5QnViYmxlc0RlYnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmVtcHR5QnViYmxlc0RlYnVmZi5jb250ZW50Iix7VWx0RG1nQm9vc3Q6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSksRG1nQm9vc3Q6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGMpLGRlZmF1bHRzOigpPT5yLHByZWNvbXB1dGVFZmZlY3RzOihsLGYsdSk9Pntjb25zdCBkPWYubGlnaHRDb25lQ29uZGl0aW9uYWxzO2wuRUxFTUVOVEFMX0RNRy5idWZmKGQuZW1wdHlCdWJibGVzRGVidWZmP29bdF06MCxpKSxBKGwsJCxkLmVtcHR5QnViYmxlc0RlYnVmZj9hW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LG1yPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQW5JbnN0YW50QmVmb3JlQUdhemUiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMzAxOCIpLG89Wy4wMDM2LC4wMDQyLC4wMDQ4LC4wMDU0LC4wMDZdLGE9e21heEVuZXJneVVsdERtZ1N0YWNrczoxODB9LHI9e21heEVuZXJneVVsdERtZ1N0YWNrczp7bGM6ITAsaWQ6Im1heEVuZXJneVVsdERtZ1N0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDpuKCJDb250ZW50Lm1heEVuZXJneVVsdERtZ1N0YWNrcy50ZXh0IiksY29udGVudDpuKCJDb250ZW50Lm1heEVuZXJneVVsdERtZ1N0YWNrcy5jb250ZW50Iix7RG1nU3RlcDpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pLG1pbjowLG1heDoxODB9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztBKGMsJCx1Lm1heEVuZXJneVVsdERtZ1N0YWNrcypvW3RdLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxwcj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkJhcHRpc21PZlB1cmVUaG91Z2h0Iikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjMwMjAiKSxvPVsuMDgsLjA5LC4xLC4xMSwuMTJdLGE9Wy4zNiwuNDIsLjQ4LC41NCwuNl0scj1bLjI0LC4yOCwuMzIsLjM2LC40XSxjPXtkZWJ1ZmZDZFN0YWNrczozLHBvc3RVbHRCdWZmOiEwfSxsPXtkZWJ1ZmZDZFN0YWNrczp7bGM6ITAsaWQ6ImRlYnVmZkNkU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0Om4oIkNvbnRlbnQuZGVidWZmQ2RTdGFja3MudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5kZWJ1ZmZDZFN0YWNrcy5jb250ZW50Iix7RG1nU3RlcDpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pLG1pbjowLG1heDozfSxwb3N0VWx0QnVmZjp7bGM6ITAsaWQ6InBvc3RVbHRCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQucG9zdFVsdEJ1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5wb3N0VWx0QnVmZi5jb250ZW50Iix7RG1nU3RlcDpnLnByZWNpc2lvblJvdW5kKDEwMCphW3RdKSxEZWZJZ25vcmU6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqclt0XSl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGwpLGRlZmF1bHRzOigpPT5jLHByZWNvbXB1dGVFZmZlY3RzOihmLHUsZCk9Pntjb25zdCBtPXUubGlnaHRDb25lQ29uZGl0aW9uYWxzO2YuQ0QuYnVmZihtLmRlYnVmZkNkU3RhY2tzKm9bdF0saSksZi5FTEVNRU5UQUxfRE1HLmJ1ZmYobS5wb3N0VWx0QnVmZj9hW3RdOjAsaSksRHQoZixldCxtLnBvc3RVbHRCdWZmP3JbdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sZ3I9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5CZWZvcmVEYXduIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjMwMTAiKSxvPVsuMTgsLjIxLC4yNCwuMjcsLjNdLGE9Wy40OCwuNTYsLjY0LC43MiwuOF0scj17ZnVhRG1nQm9vc3Q6ITB9LGM9e2Z1YURtZ0Jvb3N0OntsYzohMCxpZDoiZnVhRG1nQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5mdWFEbWdCb29zdC50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmZ1YURtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhjKSxkZWZhdWx0czooKT0+cixwcmVjb21wdXRlRWZmZWN0czoobCxmLHUpPT57Y29uc3QgZD1mLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztBKGwsV3wkLG9bdF0saSksQShsLGV0LGQuZnVhRG1nQm9vc3Q/YVt0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxocj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkJyaWdodGVyVGhhblRoZVN1biIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIzMDE1Iiksbz1bLjE4LC4yMSwuMjQsLjI3LC4zXSxhPVsuMDYsLjA3LC4wOCwuMDksLjFdLHI9e2RyYWdvbnNDYWxsU3RhY2tzOjJ9LGM9e2RyYWdvbnNDYWxsU3RhY2tzOntsYzohMCxpZDoiZHJhZ29uc0NhbGxTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bigiQ29udGVudC5kcmFnb25zQ2FsbFN0YWNrcy50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmRyYWdvbnNDYWxsU3RhY2tzLmNvbnRlbnQiLHtBdGtCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pLFJlZ2VuQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCphW3RdKX0pLG1pbjowLG1heDoyfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYyksZGVmYXVsdHM6KCk9PnIscHJlY29tcHV0ZUVmZmVjdHM6KGwsZix1KT0+e2NvbnN0IGQ9Zi5saWdodENvbmVDb25kaXRpb25hbHM7bC5BVEtfUC5idWZmKGQuZHJhZ29uc0NhbGxTdGFja3Mqb1t0XSxpKSxsLkVSUi5idWZmKGQuZHJhZ29uc0NhbGxTdGFja3MqYVt0XSxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sRXI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5CdXRUaGVCYXR0bGVJc250T3ZlciIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIzMDAzIiksbz1bLjMsLjM1LC40LC40NSwuNV0sYT17cG9zdFNraWxsRG1nQnVmZjohMH0scj17cG9zdFNraWxsRG1nQnVmZjp7bGM6ITAsZm9ybUl0ZW06InN3aXRjaCIsaWQ6InBvc3RTa2lsbERtZ0J1ZmYiLHRleHQ6bigiQ29udGVudC5wb3N0U2tpbGxEbWdCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQucG9zdFNraWxsRG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9PltdLHRlYW1tYXRlQ29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+KHt9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO2MuRUxFTUVOVEFMX0RNRy5idWZmU2luZ2xlKHUucG9zdFNraWxsRG1nQnVmZj9vW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LENyPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQ3J1aXNpbmdJblRoZVN0ZWxsYXJTZWEiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyNDAwMSIpLG89Wy4wOCwuMSwuMTIsLjE0LC4xNl0sYT1bLjIsLjI1LC4zLC4zNSwuNF0scj17ZW5lbXlIcDUwQ3JCb29zdDohMSxlbmVteURlZmVhdGVkQXRrQnVmZjohMH0sYz17ZW5lbXlIcDUwQ3JCb29zdDp7bGM6ITAsaWQ6ImVuZW15SHA1MENyQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5lbmVteUhwNTBDckJvb3N0LnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuZW5lbXlIcDUwQ3JCb29zdC5jb250ZW50Iix7Q3JpdEJ1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX0sZW5lbXlEZWZlYXRlZEF0a0J1ZmY6e2xjOiEwLGlkOiJlbmVteURlZmVhdGVkQXRrQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmVuZW15RGVmZWF0ZWRBdGtCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuZW5lbXlEZWZlYXRlZEF0a0J1ZmYuY29udGVudCIse0F0a0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGMpLGRlZmF1bHRzOigpPT5yLHByZWNvbXB1dGVFZmZlY3RzOihsLGYsdSk9Pntjb25zdCBkPWYubGlnaHRDb25lQ29uZGl0aW9uYWxzO2wuQ1IuYnVmZihkLmVuZW15SHA1MENyQm9vc3Q/b1t0XTowLGkpLGwuQVRLX1AuYnVmZihkLmVuZW15RGVmZWF0ZWRBdGtCdWZmP2FbdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sRHI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5EYW5jZUF0U3Vuc2V0Iikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjMwMzAiKSxvPVsuMzYsLjQyLC40OCwuNTQsLjZdLGE9e2Z1YURtZ1N0YWNrczoyfSxyPXtmdWFEbWdTdGFja3M6e2xjOiEwLGZvcm1JdGVtOiJzbGlkZXIiLGlkOiJmdWFEbWdTdGFja3MiLHRleHQ6bigiQ29udGVudC5mdWFEbWdTdGFja3MudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5mdWFEbWdTdGFja3MuY29udGVudCIse0RtZ0Jvb3N0OmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSksbWluOjAsbWF4OjJ9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztBKGMsZXQsdS5mdWFEbWdTdGFja3Mqb1t0XSxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sU3I9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5FYXJ0aGx5RXNjYXBhZGUiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMzAyMSIpLG89Wy4xLC4xMSwuMTIsLjEzLC4xNF0sYT1bLjI4LC4zNSwuNDIsLjQ5LC41Nl0scj17bWFza0FjdGl2ZTohMX0sYz17bWFza0FjdGl2ZTohMH0sbD17bWFza0FjdGl2ZTp7bGM6ITAsaWQ6Im1hc2tBY3RpdmUiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5tYXNrQWN0aXZlLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQubWFza0FjdGl2ZS5jb250ZW50Iix7Q3JpdFJhdGVCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pLENyaXREbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSl9fSxmPXttYXNrQWN0aXZlOmwubWFza0FjdGl2ZX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMobCksdGVhbW1hdGVDb250ZW50OigpPT5PYmplY3QudmFsdWVzKGYpLGRlZmF1bHRzOigpPT5yLHRlYW1tYXRlRGVmYXVsdHM6KCk9PmMscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KHUsZCxtKT0+e2NvbnN0IEU9ZC5saWdodENvbmVDb25kaXRpb25hbHM7dS5DUi5idWZmVGVhbShFLm1hc2tBY3RpdmU/b1t0XTowLGkpLHUuQ0QuYnVmZlRlYW0oRS5tYXNrQWN0aXZlP2FbdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sX3I9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5FY2hvZXNPZlRoZUNvZmZpbiIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIzMDA4Iiksbz1bMTIsMTQsMTYsMTgsMjBdLGE9WzMsMy41LDQsNC41LDVdLHI9e3Bvc3RVbHRTcGRCdWZmOiExfSxjPXtwb3N0VWx0U3BkQnVmZjohMX0sbD17cG9zdFVsdFNwZEJ1ZmY6e2xjOiEwLGlkOiJwb3N0VWx0U3BkQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LnBvc3RVbHRTcGRCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQucG9zdFVsdFNwZEJ1ZmYuY29udGVudCIse0VuZXJneVJlY292ZXJlZDpnLnByZWNpc2lvblJvdW5kKGFbdF0pLFNwZEJ1ZmY6Zy5wcmVjaXNpb25Sb3VuZChvW3RdKX0pfX0sZj17cG9zdFVsdFNwZEJ1ZmY6bC5wb3N0VWx0U3BkQnVmZn07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMobCksdGVhbW1hdGVDb250ZW50OigpPT5PYmplY3QudmFsdWVzKGYpLGRlZmF1bHRzOigpPT5yLHRlYW1tYXRlRGVmYXVsdHM6KCk9PmMscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOih1LGQsbSk9Pntjb25zdCBFPWQubGlnaHRDb25lQ29uZGl0aW9uYWxzO3UuU1BELmJ1ZmZUZWFtKEUucG9zdFVsdFNwZEJ1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxCcj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkV0ZXJuYWxDYWxjdWx1cyIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjI0MDA0Iiksbz1bLjA0LC4wNSwuMDYsLjA3LC4wOF0sYT1bLjA4LC4xLC4xMiwuMTQsLjE2XSxyPXthdGtCdWZmU3RhY2tzOjUsc3BkQnVmZjohMX0sYz17YXRrQnVmZlN0YWNrczp7bGM6ITAsaWQ6ImF0a0J1ZmZTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bigiQ29udGVudC5hdGtCdWZmU3RhY2tzLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuYXRrQnVmZlN0YWNrcy5jb250ZW50Iix7QXRrQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pLG1pbjowLG1heDo1fSxzcGRCdWZmOntsYzohMCxpZDoic3BkQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LnNwZEJ1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5zcGRCdWZmLmNvbnRlbnQiLHtTcGRCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhjKSxkZWZhdWx0czooKT0+cixwcmVjb21wdXRlRWZmZWN0czoobCxmLHUpPT57Y29uc3QgZD1mLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztsLkFUS19QLmJ1ZmYoZC5hdGtCdWZmU3RhY2tzKm9bdF0saSksbC5TUERfUC5idWZmKGQuc3BkQnVmZj9hW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGJyPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuRmxhbWVPZkJsb29kQmxhemVNeVBhdGguQ29udGVudCIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIzMDM5Iiksbz1bLjMsLjM1LC40LC40NSwuNV0sYT17c2tpbGxVbHREbWdCb29zdDohMCxib251c0Jvb3N0OiEwfSxyPXtza2lsbFVsdERtZ0Jvb3N0OntsYzohMCxpZDoic2tpbGxVbHREbWdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJza2lsbFVsdERtZ0Jvb3N0LnRleHQiKSxjb250ZW50Om4oInNraWxsVWx0RG1nQm9vc3QuY29udGVudCIse0RtZ0Jvb3N0OmcucHJlY2lzaW9uUm91bmQob1t0XSoxMDApfSl9LGJvbnVzQm9vc3Q6e2xjOiEwLGlkOiJib251c0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oImJvbnVzQm9vc3QudGV4dCIpLGNvbnRlbnQ6bigiYm9udXNCb29zdC5jb250ZW50Iix7SHBDb25zdW1wdGlvbjpnLnByZWNpc2lvblJvdW5kKCguMDYrLjAwNSp0KSoxMDApLEJvbnVzRG1nQm9vc3Q6Zy5wcmVjaXNpb25Sb3VuZChvW3RdKjEwMCl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO0EoYyxXfCQsdS5za2lsbFVsdERtZ0Jvb3N0P29bdF06MCxpKSxBKGMsV3wkLHUuc2tpbGxVbHREbWdCb29zdCYmdS5ib251c0Jvb3N0P29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sVHI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5GbG93aW5nTmlnaHRnbG93Iikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjMwMjYiKSxvPVsuMDMsLjAzNSwuMDQsLjA0NSwuMDVdLGE9Wy40OCwuNiwuNzIsLjg0LC45Nl0scj1bLjI0LC4yOCwuMzIsLjM2LC40XSxjPXtjYW50aWxsYXRpb25TdGFja3M6NSxjYWRlbnphQWN0aXZlOiEwfSxsPXtjYWRlbnphQWN0aXZlOiEwfSxmPXtjYWRlbnphQWN0aXZlOntsYzohMCxpZDoiY2FkZW56YUFjdGl2ZSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmNhZGVuemFBY3RpdmUudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5jYWRlbnphQWN0aXZlLmNvbnRlbnQiLHtSZWdlbkJ1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSksQXRrQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCphW3RdKSxEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKnJbdF0pfSl9LGNhbnRpbGxhdGlvblN0YWNrczp7bGM6ITAsaWQ6ImNhbnRpbGxhdGlvblN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDpuKCJDb250ZW50LmNhbnRpbGxhdGlvblN0YWNrcy50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmNhbnRpbGxhdGlvblN0YWNrcy5jb250ZW50Iix7UmVnZW5CdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pLEF0a0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSksRG1nQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpyW3RdKX0pLG1pbjowLG1heDo1fX0sdT17Y2FkZW56YUFjdGl2ZTpmLmNhZGVuemFBY3RpdmV9O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGYpLHRlYW1tYXRlQ29udGVudDooKT0+T2JqZWN0LnZhbHVlcyh1KSxkZWZhdWx0czooKT0+Yyx0ZWFtbWF0ZURlZmF1bHRzOigpPT5sLHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGQsbSxFKT0+e2NvbnN0IEM9bS5saWdodENvbmVDb25kaXRpb25hbHM7ZC5FTEVNRU5UQUxfRE1HLmJ1ZmZUZWFtKEMuY2FkZW56YUFjdGl2ZT9yW3RdOjAsaSl9LHByZWNvbXB1dGVFZmZlY3RzOihkLG0sRSk9Pntjb25zdCBDPW0ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2QuRVJSLmJ1ZmYoQy5jYW50aWxsYXRpb25TdGFja3Mqb1t0XSxpKSxkLkFUS19QLmJ1ZmYoQy5jYWRlbnphQWN0aXZlP2FbdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0seXI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5JZlRpbWVXZXJlQUZsb3dlci5Db250ZW50Iikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjMwMzgiKSxvPVsuNDgsLjYsLjcyLC44NCwuOTZdLGE9e3ByZXNhZ2U6ITB9LHI9e3ByZXNhZ2U6ITB9LGM9e3ByZXNhZ2U6e2xjOiEwLGlkOiJwcmVzYWdlIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oInByZXNhZ2UudGV4dCIpLGNvbnRlbnQ6bigicHJlc2FnZS5jb250ZW50Iix7Q2RCdWZmOmcucHJlY2lzaW9uUm91bmQob1t0XSoxMDApfSl9fSxsPXtwcmVzYWdlOmMucHJlc2FnZX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYyksdGVhbW1hdGVDb250ZW50OigpPT5PYmplY3QudmFsdWVzKGwpLGRlZmF1bHRzOigpPT5hLHRlYW1tYXRlRGVmYXVsdHM6KCk9PnIscHJlY29tcHV0ZUVmZmVjdHM6KGYsdSxkKT0+e30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsdSxkKT0+e2NvbnN0IG09dS5saWdodENvbmVDb25kaXRpb25hbHM7Zi5DRC5idWZmVGVhbShtLnByZXNhZ2U/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxPcj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkluY2Vzc2FudFJhaW4iKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMzAwNyIpLG89Wy4xMiwuMTQsLjE2LC4xOCwuMl0sYT1bLjEyLC4xNCwuMTYsLjE4LC4yXSxyPXtlbmVteTNEZWJ1ZmZzQ3JCb29zdDohMCx0YXJnZXRDb2RlRGVidWZmOiEwfSxjPXt0YXJnZXRDb2RlRGVidWZmOiEwfSxsPXtlbmVteTNEZWJ1ZmZzQ3JCb29zdDp7bGM6ITAsaWQ6ImVuZW15M0RlYnVmZnNDckJvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuZW5lbXkzRGVidWZmc0NyQm9vc3QudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5lbmVteTNEZWJ1ZmZzQ3JCb29zdC5jb250ZW50Iix7Q3JpdEJ1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX0sdGFyZ2V0Q29kZURlYnVmZjp7bGM6ITAsaWQ6InRhcmdldENvZGVEZWJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC50YXJnZXRDb2RlRGVidWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQudGFyZ2V0Q29kZURlYnVmZi5jb250ZW50Iix7RG1nSW5jcmVhc2U6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KX19LGY9e3RhcmdldENvZGVEZWJ1ZmY6bC50YXJnZXRDb2RlRGVidWZmfTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhsKSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoZiksZGVmYXVsdHM6KCk9PnIsdGVhbW1hdGVEZWZhdWx0czooKT0+YyxwcmVjb21wdXRlRWZmZWN0czoodSxkLG0pPT57Y29uc3QgRT1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt1LkNSLmJ1ZmYoRS5lbmVteTNEZWJ1ZmZzQ3JCb29zdD9vW3RdOjAsaSl9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOih1LGQsbSk9Pntjb25zdCBFPWQubGlnaHRDb25lQ29uZGl0aW9uYWxzO3UuVlVMTkVSQUJJTElUWS5idWZmVGVhbShFLnRhcmdldENvZGVEZWJ1ZmY/YVt0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxMcj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkluaGVyZW50bHlVbmp1c3REZXN0aW55Iikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjMwMjMiKSxvPVsuNCwuNDYsLjUyLC41OCwuNjRdLGE9Wy4xLC4xMTUsLjEzLC4xNDUsLjE2XSxyPXtzaGllbGRDZEJ1ZmY6ITAsdGFyZ2V0VnVsbmVyYWJpbGl0eTohMH0sYz17dGFyZ2V0VnVsbmVyYWJpbGl0eTohMH0sbD17c2hpZWxkQ2RCdWZmOntsYzohMCxpZDoic2hpZWxkQ2RCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuc2hpZWxkQ2RCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuc2hpZWxkQ2RCdWZmLmNvbnRlbnQiLHtDcml0QnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfSx0YXJnZXRWdWxuZXJhYmlsaXR5OntsYzohMCxpZDoidGFyZ2V0VnVsbmVyYWJpbGl0eSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LnRhcmdldFZ1bG5lcmFiaWxpdHkudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC50YXJnZXRWdWxuZXJhYmlsaXR5LmNvbnRlbnQiLHtiYXNlQ2hhbmNlOmcucHJlY2lzaW9uUm91bmQoMTAwKzE1KnQpLFZ1bG5lcmFiaWxpdHk6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KX19LGY9e3RhcmdldFZ1bG5lcmFiaWxpdHk6bC50YXJnZXRWdWxuZXJhYmlsaXR5fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhsKSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoZiksZGVmYXVsdHM6KCk9PnIsdGVhbW1hdGVEZWZhdWx0czooKT0+YyxwcmVjb21wdXRlRWZmZWN0czoodSxkLG0pPT57Y29uc3QgRT1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt1LkNELmJ1ZmYoRS5zaGllbGRDZEJ1ZmY/b1t0XTowLGkpfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoodSxkLG0pPT57Y29uc3QgRT1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt1LlZVTE5FUkFCSUxJVFkuYnVmZlRlYW0oRS50YXJnZXRWdWxuZXJhYmlsaXR5P2FbdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sQXI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5JblRoZU5hbWVPZlRoZVdvcmxkIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjMwMDQiKSxvPVsuMjQsLjI4LC4zMiwuMzYsLjRdLGE9Wy4yNCwuMjgsLjMyLC4zNiwuNF0scj1bLjE4LC4yMSwuMjQsLjI3LC4zXSxjPXtlbmVteURlYnVmZmVkRG1nQm9vc3Q6ITAsc2tpbGxBdGtCb29zdDohMX0sbD17ZW5lbXlEZWJ1ZmZlZERtZ0Jvb3N0OntsYzohMCxpZDoiZW5lbXlEZWJ1ZmZlZERtZ0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuZW5lbXlEZWJ1ZmZlZERtZ0Jvb3N0LnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuZW5lbXlEZWJ1ZmZlZERtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9LHNraWxsQXRrQm9vc3Q6e2xjOiEwLGlkOiJza2lsbEF0a0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuc2tpbGxBdGtCb29zdC50ZXh0IiksY29udGVudDpuKCJDb250ZW50LnNraWxsQXRrQm9vc3QuY29udGVudCIse0VockJ1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqclt0XSksQXRrQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCphW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMobCksZGVmYXVsdHM6KCk9PmMscHJlY29tcHV0ZUVmZmVjdHM6KGYsdSxkKT0+e2NvbnN0IG09dS5saWdodENvbmVDb25kaXRpb25hbHM7Zi5FTEVNRU5UQUxfRE1HLmJ1ZmYobS5lbmVteURlYnVmZmVkRG1nQm9vc3Q/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxScj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkluVGhlTmlnaHQiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMzAwMSIpLG89Wy4wNiwuMDcsLjA4LC4wOSwuMV0sYT1bLjEyLC4xNCwuMTYsLjE4LC4yXSxyPXtzcGRTY2FsaW5nQnVmZnM6ITB9LGM9e3NwZFNjYWxpbmdCdWZmczp7bGM6ITAsaWQ6InNwZFNjYWxpbmdCdWZmcyIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LnNwZFNjYWxpbmdCdWZmcy50ZXh0IiksY29udGVudDpuKCJDb250ZW50LnNwZFNjYWxpbmdCdWZmcy5jb250ZW50Iix7RG1nQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKSxDcml0QnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCphW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYyksZGVmYXVsdHM6KCk9PnIscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihsLGYsdSk9Pntjb25zdCBkPWYubGlnaHRDb25lQ29uZGl0aW9uYWxzLG09TWF0aC5tYXgoMCxNYXRoLm1pbig2LE1hdGguZmxvb3IoKGwuYVtzLlNQRF0tMTAwKS8xMCkpKTtBKGwscHR8VyxkLnNwZFNjYWxpbmdCdWZmcz9tKm9bdF06MCxpKSxVYShsLCQsZC5zcGRTY2FsaW5nQnVmZnM/bSphW3RdOjAsaSl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOihsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztyZXR1cm5gCmlmICgke3Z0KHUuc3BkU2NhbGluZ0J1ZmZzKX0pIHsKICBsZXQgc3RhY2tzID0gbWF4KDAsIG1pbig2LCBmbG9vcigoeC5TUEQgLSAxMDApIC8gMTApKSk7CgogIGJ1ZmZBYmlsaXR5RG1nKHBfeCwgQkFTSUNfRE1HX1RZUEUgfCBTS0lMTF9ETUdfVFlQRSwgc3RhY2tzICogJHtvW3RdfSwgMSk7CiAgYnVmZkFiaWxpdHlDZChwX3gsIFVMVF9ETUdfVFlQRSwgc3RhY2tzICogJHthW3RdfSwgMSk7Cn0KICAgIGB9fX0sTXI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5JbnRvVGhlVW5yZWFjaGFibGVWZWlsIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjMwMzciKSxvPVsuNiwuNywuOCwuOSwxXSxhPXtza2lsbFVsdERtZ0Jvb3N0OiEwfSxyPXtza2lsbFVsdERtZ0Jvb3N0OntsYzohMCxpZDoic2tpbGxVbHREbWdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LnNraWxsVWx0RG1nQm9vc3QudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5za2lsbFVsdERtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQob1t0XSoxMDApfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhyKSxkZWZhdWx0czooKT0+YSxwcmVjb21wdXRlRWZmZWN0czooYyxsLGYpPT57Y29uc3QgdT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztBKGMsV3wkLHUuc2tpbGxVbHREbWdCb29zdD9vW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFByPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuSVNoYWxsQmVNeU93blN3b3JkIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjMwMTQiKSxvPVsuMTQsLjE2NSwuMTksLjIxNSwuMjRdLGE9Wy4xMiwuMTQsLjE2LC4xOCwuMl0scj17ZWNsaXBzZVN0YWNrczozLG1heFN0YWNrRGVmUGVuOiEwfSxjPXtlY2xpcHNlU3RhY2tzOntsYzohMCxpZDoiZWNsaXBzZVN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDpuKCJDb250ZW50LmVjbGlwc2VTdGFja3MudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5lY2xpcHNlU3RhY2tzLmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSksbWluOjAsbWF4OjN9LG1heFN0YWNrRGVmUGVuOntsYzohMCxpZDoibWF4U3RhY2tEZWZQZW4iLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5tYXhTdGFja0RlZlBlbi50ZXh0IiksY29udGVudDpuKCJDb250ZW50Lm1heFN0YWNrRGVmUGVuLmNvbnRlbnQiLHtEZWZJZ25vcmU6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGMpLGRlZmF1bHRzOigpPT5yLHByZWNvbXB1dGVFZmZlY3RzOihsLGYsdSk9Pntjb25zdCBkPWYubGlnaHRDb25lQ29uZGl0aW9uYWxzO2wuRUxFTUVOVEFMX0RNRy5idWZmKGQuZWNsaXBzZVN0YWNrcypvW3RdLGkpLGwuREVGX1BFTi5idWZmKGQubWF4U3RhY2tEZWZQZW4mJmQuZWNsaXBzZVN0YWNrcz09Mz9hW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LElyPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuSVZlbnR1cmVGb3J0aFRvSHVudCIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIzMDMxIiksbz1bLjI3LC4zLC4zMywuMzYsLjM5XSxhPXtsdW1pbmZsdXhVbHRTdGFja3M6Mn0scj17bHVtaW5mbHV4VWx0U3RhY2tzOntsYzohMCxpZDoibHVtaW5mbHV4VWx0U3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0Om4oIkNvbnRlbnQubHVtaW5mbHV4VWx0U3RhY2tzLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQubHVtaW5mbHV4VWx0U3RhY2tzLmNvbnRlbnQiLHtEZWZJZ25vcmU6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KSxtaW46MCxtYXg6Mn19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO0R0KGMsJCx1Lmx1bWluZmx1eFVsdFN0YWNrcypvW3RdLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSx2cj0odCxlKT0+e2NvbnN0e1NPVVJDRV9MQzpufT1oLmxpZ2h0Q29uZSgiMjMwNDEiKSxpPVsuNiwuNywuOCwuOSwxXSxvPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxhPXtkZWZQZW46ITAsZG1nQm9vc3Q6ITB9LHI9e2RlZlBlbjohMH0sYz17ZG1nQm9vc3Q6e2xjOiEwLGlkOiJkbWdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiRE1HIGJvb3N0Iixjb250ZW50OncudCgiQmV0YU1lc3NhZ2UiLHtuczoiY29uZGl0aW9uYWxzIixWZXJzaW9uOmllfSl9LGRlZlBlbjp7bGM6ITAsaWQ6ImRlZlBlbiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiREVGIFBFTiIsY29udGVudDp3LnQoIkJldGFNZXNzYWdlIix7bnM6ImNvbmRpdGlvbmFscyIsVmVyc2lvbjppZX0pfX0sbD17ZGVmUGVuOmMuZGVmUGVufTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhjKSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMobCksZGVmYXVsdHM6KCk9PmEsdGVhbW1hdGVEZWZhdWx0czooKT0+cixwcmVjb21wdXRlRWZmZWN0czooZix1LGQpPT57Y29uc3QgbT11LmxpZ2h0Q29uZUNvbmRpdGlvbmFscztmLkVMRU1FTlRBTF9ETUcuYnVmZihtLmRtZ0Jvb3N0P2lbdF06MCxuKX0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsdSxkKT0+e2NvbnN0IG09dS5saWdodENvbmVDb25kaXRpb25hbHM7Zi5ERUZfUEVOLmJ1ZmZUZWFtKG0uZGVmUGVuP29bdF06MCxuKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0seHI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Mb25nUm9hZExlYWRzSG9tZSIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIzMDM1Iiksbz1bLjE4LC4yMSwuMjQsLjI3LC4zXSxhPXticmVha1Z1bG5lcmFiaWxpdHlTdGFja3M6Mn0scj17YnJlYWtWdWxuZXJhYmlsaXR5U3RhY2tzOjJ9LGM9e2JyZWFrVnVsbmVyYWJpbGl0eVN0YWNrczp7bGM6ITAsaWQ6ImJyZWFrVnVsbmVyYWJpbGl0eVN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDpuKCJDb250ZW50LmJyZWFrVnVsbmVyYWJpbGl0eVN0YWNrcy50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmJyZWFrVnVsbmVyYWJpbGl0eVN0YWNrcy5jb250ZW50Iix7YnJlYWtWdWxuZXJhYmlsaXR5OmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSksbWluOjAsbWF4OjJ9fSxsPXticmVha1Z1bG5lcmFiaWxpdHlTdGFja3M6Yy5icmVha1Z1bG5lcmFiaWxpdHlTdGFja3N9O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGMpLHRlYW1tYXRlQ29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhsKSxkZWZhdWx0czooKT0+YSx0ZWFtbWF0ZURlZmF1bHRzOigpPT5yLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooZix1LGQpPT57Y29uc3QgbT11LmxpZ2h0Q29uZUNvbmRpdGlvbmFscztOYShmLHd0LG0uYnJlYWtWdWxuZXJhYmlsaXR5U3RhY2tzKm9bdF0saSxGdC5URUFNKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sR3I9KHQsZSk9Pntjb25zdHtTT1VSQ0VfTEM6bn09aC5saWdodENvbmUoIjIzMDQwIiksaT1bLjMsLjM1LC40LC40NSwuNV0sbz17ZGVhdGhGbG93ZXI6ITB9LGE9e2RlYXRoRmxvd2VyOntsYzohMCxpZDoiZGVhdGhGbG93ZXIiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkRlYXRoIEZsb3dlciBERUYgUEVOIixjb250ZW50OncudCgiQmV0YU1lc3NhZ2UiLHtuczoiY29uZGl0aW9uYWxzIixWZXJzaW9uOmllfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhhKSxkZWZhdWx0czooKT0+byxwcmVjb21wdXRlRWZmZWN0czoocixjLGwpPT57Y29uc3QgZj1jLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztyLkRFRl9QRU4uYnVmZkR1YWwoZi5kZWF0aEZsb3dlcj9pW3RdOjAsbil9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGtyPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuTWVtb3J5c0N1cnRhaW5OZXZlckZhbGxzLkNvbnRlbnQiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyNDAwNSIpLG89Wy4wOCwuMSwuMTIsLjE0LC4xNl0sYT17dGVhbURtZ0Jvb3N0OiEwfSxyPXt0ZWFtRG1nQm9vc3Q6ITB9LGM9e3RlYW1EbWdCb29zdDp7bGM6ITAsaWQ6InRlYW1EbWdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJ0ZWFtRG1nQm9vc3QudGV4dCIpLGNvbnRlbnQ6bigidGVhbURtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCb29zdDpnLnByZWNpc2lvblJvdW5kKG9bdF0qMTAwKX0pfX0sbD17dGVhbURtZ0Jvb3N0OmMudGVhbURtZ0Jvb3N0fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhjKSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMobCksZGVmYXVsdHM6KCk9PmEsdGVhbW1hdGVEZWZhdWx0czooKT0+cixwcmVjb21wdXRlRWZmZWN0czooZix1LGQpPT57dS5saWdodENvbmVDb25kaXRpb25hbHN9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihmLHUsZCk9Pntjb25zdCBtPXUubGlnaHRDb25lQ29uZGl0aW9uYWxzO2YuRUxFTUVOVEFMX0RNRy5idWZmVGVhbShtLnRlYW1EbWdCb29zdD9vW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LEZyPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuTW9tZW50T2ZWaWN0b3J5Iikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjMwMDUiKSxvPVsuMjQsLjI4LC4zMiwuMzYsLjRdLGE9e3NlbGZBdHRhY2tlZERlZkJ1ZmY6ITB9LHI9e3NlbGZBdHRhY2tlZERlZkJ1ZmY6e2xjOiEwLGlkOiJzZWxmQXR0YWNrZWREZWZCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuc2VsZkF0dGFja2VkRGVmQnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LnNlbGZBdHRhY2tlZERlZkJ1ZmYuY29udGVudCIse0RlZkJ1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO2MuREVGX1AuYnVmZih1LnNlbGZBdHRhY2tlZERlZkJ1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxOcj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLk5pZ2h0T2ZGcmlnaHQiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMzAxNyIpLG89Wy4wMjQsLjAyOCwuMDMyLC4wMzYsLjA0XSxhPXthdGtCdWZmU3RhY2tzOjV9LHI9e2F0a0J1ZmZTdGFja3M6NX0sYz17YXRrQnVmZlN0YWNrczp7bGM6ITAsaWQ6ImF0a0J1ZmZTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bigiQ29udGVudC5hdGtCdWZmU3RhY2tzLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuYXRrQnVmZlN0YWNrcy5jb250ZW50Iix7QXRrQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pLG1pbjowLG1heDo1fX0sbD17YXRrQnVmZlN0YWNrczpjLmF0a0J1ZmZTdGFja3N9O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGMpLHRlYW1tYXRlQ29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhsKSxkZWZhdWx0czooKT0+YSx0ZWFtbWF0ZURlZmF1bHRzOigpPT5yLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooZix1LGQpPT57Y29uc3QgbT11LmxpZ2h0Q29uZUNvbmRpdGlvbmFscztmLkFUS19QLmJ1ZmZUZWFtKG0uYXRrQnVmZlN0YWNrcypvW3RdLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxVcj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLk5pZ2h0T25UaGVNaWxreVdheSIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIzMDAwIiksbz1bLjA5LC4xMDUsLjEyLC4xMzUsLjE1XSxhPVsuMywuMzUsLjQsLjQ1LC41XSxyPXtlbmVteUNvdW50QXRrQnVmZjohMCxlbmVteVdlYWtuZXNzQnJlYWtEbWdCdWZmOiEwfSxjPXtlbmVteUNvdW50QXRrQnVmZjp7bGM6ITAsaWQ6ImVuZW15Q291bnRBdGtCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuZW5lbXlDb3VudEF0a0J1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5lbmVteUNvdW50QXRrQnVmZi5jb250ZW50Iix7QXRrQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfSxlbmVteVdlYWtuZXNzQnJlYWtEbWdCdWZmOntsYzohMCxpZDoiZW5lbXlXZWFrbmVzc0JyZWFrRG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmVuZW15V2Vha25lc3NCcmVha0RtZ0J1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5lbmVteVdlYWtuZXNzQnJlYWtEbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhjKSxkZWZhdWx0czooKT0+cixwcmVjb21wdXRlRWZmZWN0czoobCxmLHUpPT57Y29uc3QgZD1mLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztsLkFUS19QLmJ1ZmYoZC5lbmVteUNvdW50QXRrQnVmZj91LmVuZW15Q291bnQqb1t0XTowLGkpLGwuRUxFTUVOVEFMX0RNRy5idWZmKGQuZW5lbXlXZWFrbmVzc0JyZWFrRG1nQnVmZj9hW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHdyPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxIcj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLk9uVGhlRmFsbE9mQW5BZW9uIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjQwMDAiKSxvPVsuMDgsLjEsLjEyLC4xNCwuMTZdLGE9Wy4xMiwuMTUsLjE4LC4yMSwuMjRdLHI9e2F0a0Jvb3N0U3RhY2tzOjQsd2Vha25lc3NCcmVha0RtZ0J1ZmY6ITB9LGM9e2F0a0Jvb3N0U3RhY2tzOntsYzohMCxpZDoiYXRrQm9vc3RTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bigiQ29udGVudC5hdGtCb29zdFN0YWNrcy50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmF0a0Jvb3N0U3RhY2tzLmNvbnRlbnQiLHtBdGtCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSksbWluOjAsbWF4OjR9LHdlYWtuZXNzQnJlYWtEbWdCdWZmOntsYzohMCxpZDoid2Vha25lc3NCcmVha0RtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC53ZWFrbmVzc0JyZWFrRG1nQnVmZi50ZXh0IiksY29udGVudDpuKCJDb250ZW50LndlYWtuZXNzQnJlYWtEbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhjKSxkZWZhdWx0czooKT0+cixwcmVjb21wdXRlRWZmZWN0czoobCxmLHUpPT57Y29uc3QgZD1mLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztsLkFUS19QLmJ1ZmYoZC5hdGtCb29zdFN0YWNrcypvW3RdLGkpLGwuRUxFTUVOVEFMX0RNRy5idWZmKGQud2Vha25lc3NCcmVha0RtZ0J1ZmY/YVt0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxLcj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlBhc3RTZWxmSW5UaGVNaXJyb3IiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMzAxOSIpLG89Wy4yNCwuMjgsLjMyLC4zNiwuNF0sYT17cG9zdFVsdERtZ0J1ZmY6ITB9LHI9e3Bvc3RVbHREbWdCdWZmOiEwfSxjPXtwb3N0VWx0RG1nQnVmZjp7bGM6ITAsaWQ6InBvc3RVbHREbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQucG9zdFVsdERtZ0J1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5wb3N0VWx0RG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfX0sbD17cG9zdFVsdERtZ0J1ZmY6Yy5wb3N0VWx0RG1nQnVmZn07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYyksdGVhbW1hdGVDb250ZW50OigpPT5PYmplY3QudmFsdWVzKGwpLGRlZmF1bHRzOigpPT5hLHRlYW1tYXRlRGVmYXVsdHM6KCk9PnIscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihmLHUsZCk9Pntjb25zdCBtPXUubGlnaHRDb25lQ29uZGl0aW9uYWxzO2YuRUxFTUVOVEFMX0RNRy5idWZmVGVhbShtLnBvc3RVbHREbWdCdWZmP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sVnI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5QYXRpZW5jZUlzQWxsWW91TmVlZCIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIzMDA2Iiksbz1bLjI0LC4yOCwuMzIsLjM2LC40XSxhPVsuMDQ4LC4wNTYsLjA2NCwuMDcyLC4wOF0scj1bLjYsLjcsLjgsLjksMV0sYz17c3BkU3RhY2tzOjMsZG90RWZmZWN0OiExfSxsPXtzcGRTdGFja3M6e2xjOiEwLGlkOiJzcGRTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bigiQ29udGVudC5zcGRTdGFja3MudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5zcGRTdGFja3MuY29udGVudCIse1NwZEJ1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KSxtaW46MCxtYXg6M30sZG90RWZmZWN0OntsYzohMCxpZDoiZG90RWZmZWN0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuZG90RWZmZWN0LnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuZG90RWZmZWN0LmNvbnRlbnQiLHtNdWx0aXBsaWVyOmcucHJlY2lzaW9uUm91bmQoMTAwKnJbdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhsKSxkZWZhdWx0czooKT0+YyxwcmVjb21wdXRlRWZmZWN0czooZix1LGQpPT57Y29uc3QgbT11LmxpZ2h0Q29uZUNvbmRpdGlvbmFscztmLlNQRF9QLmJ1ZmYobS5zcGRTdGFja3MqYVt0XSxpKSxmLkVMRU1FTlRBTF9ETUcuYnVmZihvW3RdLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxqcj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlJlZm9yZ2VkUmVtZW1icmFuY2UiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMzAyMiIpLG89Wy4wNSwuMDYsLjA3LC4wOCwuMDldLGE9Wy4wNzIsLjA3OSwuMDg2LC4wOTMsLjFdLHI9e3Byb3BoZXRTdGFja3M6NH0sYz17cHJvcGhldFN0YWNrczp7bGM6ITAsaWQ6InByb3BoZXRTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bigiQ29udGVudC5wcm9waGV0U3RhY2tzLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQucHJvcGhldFN0YWNrcy5jb250ZW50Iix7QXRrQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKSxEZWZJZ25vcmU6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KSxtaW46MCxtYXg6NH19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGMpLGRlZmF1bHRzOigpPT5yLHByZWNvbXB1dGVFZmZlY3RzOihsLGYsdSk9Pntjb25zdCBkPWYubGlnaHRDb25lQ29uZGl0aW9uYWxzO2wuQVRLX1AuYnVmZihkLnByb3BoZXRTdGFja3Mqb1t0XSxpKSxEdChsLGdlLGQucHJvcGhldFN0YWNrcyphW3RdLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSx6cj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlNhaWxpbmdUb3dhcmRzQVNlY29uZExpZmUiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMzAyNyIpLG89Wy4xMiwuMTQsLjE2LC4xOCwuMl0sYT1bLjIsLjIzLC4yNiwuMjksLjMyXSxyPXticmVha0RtZ0RlZlNocmVkOiEwLHNwZEJ1ZmZDb25kaXRpb25hbDohMH0sYz17YnJlYWtEbWdEZWZTaHJlZDp7bGM6ITAsaWQ6ImJyZWFrRG1nRGVmU2hyZWQiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5icmVha0RtZ0RlZlNocmVkLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuYnJlYWtEbWdEZWZTaHJlZC5jb250ZW50Iix7RGVmSWdub3JlOmcucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSl9LHNwZEJ1ZmZDb25kaXRpb25hbDp7bGM6ITAsaWQ6InNwZEJ1ZmZDb25kaXRpb25hbCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LnNwZEJ1ZmZDb25kaXRpb25hbC50ZXh0IiksY29udGVudDpuKCJDb250ZW50LnNwZEJ1ZmZDb25kaXRpb25hbC5jb250ZW50Iix7U3BkQnVmZjpnLnByZWNpc2lvblJvdW5kKDEwMCpvW3RdKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYyksZGVmYXVsdHM6KCk9PnIscHJlY29tcHV0ZUVmZmVjdHM6KGwsZix1KT0+e2NvbnN0IGQ9Zi5saWdodENvbmVDb25kaXRpb25hbHM7RHQobCx3dCxkLmJyZWFrRG1nRGVmU2hyZWQ/YVt0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczoobCxmLHUpPT57fSxkeW5hbWljQ29uZGl0aW9uYWxzOlt7aWQ6IlNhaWxpbmdUb3dhcmRzQVNlY29uZExpZmVDb25kaXRpb25hbCIsdHlwZTpudC5BQklMSVRZLGFjdGl2YXRpb246US5TSU5HTEUsZGVwZW5kc09uOltwLkJFXSxjaGFpbnNUbzpbcC5TUERdLGNvbmRpdGlvbjpmdW5jdGlvbihsLGYsdSl7cmV0dXJuIGYubGlnaHRDb25lQ29uZGl0aW9uYWxzLnNwZEJ1ZmZDb25kaXRpb25hbCYmbC5hW3MuQkVdPj0xLjV9LGVmZmVjdDoobCxmLHUpPT57bC5TUEQuYnVmZkR5bmFtaWMob1t0XSp1LmJhc2VTUEQsaSxmLHUpfSxncHU6ZnVuY3Rpb24obCxmKXtyZXR1cm4gb3QodGhpcyxgCmlmICgKICAoKnBfc3RhdGUpLlNhaWxpbmdUb3dhcmRzQVNlY29uZExpZmVDb25kaXRpb25hbCA9PSAwLjAgJiYKICB4LkJFID49IDEuNTAKKSB7CiAgKCpwX3N0YXRlKS5TYWlsaW5nVG93YXJkc0FTZWNvbmRMaWZlQ29uZGl0aW9uYWwgPSAxLjA7CiAgKCpwX3gpLlNQRCArPSAke29bdF19ICogYmFzZVNQRDsKfQogICAgYCl9fV19fSwkcj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlNjZW50QWxvbmVTdGF5c1RydWUiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMzAzMiIpLG89Wy4xLC4xMiwuMTQsLjE2LC4xOF0sYT1bLjA4LC4xLC4xMiwuMTQsLjE2XSxyPXt3b2VmcmVlU3RhdGU6ITB9LGM9e3dvZWZyZWVTdGF0ZTohMCxhZGRpdGlvbmFsVnVsbmVyYWJpbGl0eTohMH0sbD17d29lZnJlZVN0YXRlOntsYzohMCxpZDoid29lZnJlZVN0YXRlIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQud29lZnJlZVN0YXRlLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQud29lZnJlZVN0YXRlLmNvbnRlbnQiLHtWdWxuZXJhYmlsaXR5OmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pLEFkZGl0aW9uYWxWdWxuZXJhYmlsaXR5OmcucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSl9fSxmPXt3b2VmcmVlU3RhdGU6bC53b2VmcmVlU3RhdGUsYWRkaXRpb25hbFZ1bG5lcmFiaWxpdHk6e2xjOiEwLGlkOiJhZGRpdGlvbmFsVnVsbmVyYWJpbGl0eSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJUZWFtbWF0ZUNvbnRlbnQuYWRkaXRpb25hbFZ1bG5lcmFiaWxpdHkudGV4dCIpLGNvbnRlbnQ6bigiVGVhbW1hdGVDb250ZW50LmFkZGl0aW9uYWxWdWxuZXJhYmlsaXR5LmNvbnRlbnQiLHtWdWxuZXJhYmlsaXR5OmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pLEFkZGl0aW9uYWxWdWxuZXJhYmlsaXR5OmcucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhsKSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoZiksZGVmYXVsdHM6KCk9PnIsdGVhbW1hdGVEZWZhdWx0czooKT0+YyxwcmVjb21wdXRlRWZmZWN0czoodSxkLG0pPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoodSxkLG0pPT57Y29uc3QgRT1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt1LlZVTE5FUkFCSUxJVFkuYnVmZlRlYW0oRS53b2VmcmVlU3RhdGU/b1t0XTowLGkpfSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOih1LGQsbSk9Pntjb25zdCBFPWQubGlnaHRDb25lQ29uZGl0aW9uYWxzO3UuVlVMTkVSQUJJTElUWS5idWZmVGVhbShFLndvZWZyZWVTdGF0ZSYmRS5hZGRpdGlvbmFsVnVsbmVyYWJpbGl0eT9hW3RdOjAsaSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOih1LGQsbSk9Pntjb25zdCBFPWQubGlnaHRDb25lQ29uZGl0aW9uYWxzO3UuVlVMTkVSQUJJTElUWS5idWZmKEUud29lZnJlZVN0YXRlJiZ1LmFbcy5CRV0+PTEuNT9hW3RdOjAsaSl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOih1LGQpPT57Y29uc3QgbT11LmxpZ2h0Q29uZUNvbmRpdGlvbmFscztyZXR1cm5gCmlmICgke3Z0KG0ud29lZnJlZVN0YXRlKX0gJiYgeC5CRSA+PSAxLjUwKSB7CiAgeC5WVUxORVJBQklMSVRZICs9ICR7YVt0XX07Cn0KICAgICAgYH19fSxXcj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlNoZUFscmVhZHlTaHV0SGVyRXllcyIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIzMDExIiksbz1bLjA5LC4xMDUsLjEyLC4xMzUsLjE1XSxhPXtocExvc3REbWdCdWZmOiEwfSxyPXtocExvc3REbWdCdWZmOiEwfSxjPXtocExvc3REbWdCdWZmOntsYzohMCxpZDoiaHBMb3N0RG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LmhwTG9zdERtZ0J1ZmYudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5ocExvc3REbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fSxsPXtocExvc3REbWdCdWZmOmMuaHBMb3N0RG1nQnVmZn07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYyksdGVhbW1hdGVDb250ZW50OigpPT5PYmplY3QudmFsdWVzKGwpLGRlZmF1bHRzOigpPT5hLHRlYW1tYXRlRGVmYXVsdHM6KCk9PnIscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihmLHUsZCk9Pntjb25zdCBtPXUubGlnaHRDb25lQ29uZGl0aW9uYWxzO2YuRUxFTUVOVEFMX0RNRy5idWZmVGVhbShtLmhwTG9zdERtZ0J1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxZcj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlNsZWVwTGlrZVRoZURlYWQiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMzAxMiIpLG89Wy4zNiwuNDIsLjQ4LC41NCwuNl0sYT17bWlzc2VkQ3JpdENyQnVmZjohMX0scj17bWlzc2VkQ3JpdENyQnVmZjp7bGM6ITAsaWQ6Im1pc3NlZENyaXRDckJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5taXNzZWRDcml0Q3JCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQubWlzc2VkQ3JpdENyQnVmZi5jb250ZW50Iix7Q3JpdEJ1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO2MuQ1IuYnVmZih1Lm1pc3NlZENyaXRDckJ1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxKcj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlNvbGl0YXJ5SGVhbGluZyIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjI0MDAzIiksbz1bLjI0LC4zLC4zNiwuNDIsLjQ4XSxhPXtwb3N0VWx0RG90RG1nQnVmZjohMH0scj17cG9zdFVsdERvdERtZ0J1ZmY6e2xjOiEwLGZvcm1JdGVtOiJzd2l0Y2giLGlkOiJwb3N0VWx0RG90RG1nQnVmZiIsdGV4dDpuKCJDb250ZW50LnBvc3RVbHREb3REbWdCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQucG9zdFVsdERvdERtZ0J1ZmYuY29udGVudCIse0RtZ0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqb1t0XSl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKHIpLGRlZmF1bHRzOigpPT5hLHByZWNvbXB1dGVFZmZlY3RzOihjLGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO0EoYyxnZSx1LnBvc3RVbHREb3REbWdCdWZmP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sUXI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Tb21ldGhpbmdJcnJlcGxhY2VhYmxlIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjMwMDIiKSxvPVsuMjQsLjI4LC4zMiwuMzYsLjRdLGE9Wy4wOCwuMDksLjEsLjExLC4xMl0scj17ZG1nQnVmZjohMH0sYz17ZG1nQnVmZjp7bGM6ITAsaWQ6ImRtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5kbWdCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuZG1nQnVmZi5jb250ZW50Iix7TXVsdGlwbGllcjpnLnByZWNpc2lvblJvdW5kKDEwMCphW3RdKSxEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhjKSxkZWZhdWx0czooKT0+cixwcmVjb21wdXRlRWZmZWN0czoobCxmLHUpPT57Y29uc3QgZD1mLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztsLkVMRU1FTlRBTF9ETUcuYnVmZihkLmRtZ0J1ZmY/b1t0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxacj0odCxlKT0+e2NvbnN0IG49Zy53cmFwcGVkRml4ZWRUKGUpLmdldChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlRleHR1cmVPZk1lbW9yaWVzIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjQwMDIiKSxvPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxhPVsuMTYsLjIsLjI0LC4yOCwuMzJdLHI9e2FjdGl2ZVNoaWVsZERtZ0RlY3JlYXNlOiEwfSxjPXthY3RpdmVTaGllbGREbWdEZWNyZWFzZTp7bGM6ITAsaWQ6ImFjdGl2ZVNoaWVsZERtZ0RlY3JlYXNlIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om4oIkNvbnRlbnQuYWN0aXZlU2hpZWxkRG1nRGVjcmVhc2UudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5hY3RpdmVTaGllbGREbWdEZWNyZWFzZS5jb250ZW50Iix7U2hpZWxkSHA6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSksRG1nUmVkdWN0aW9uOmcucHJlY2lzaW9uUm91bmQoMTAwKm9bdF0pfSl9fTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhjKSxkZWZhdWx0czooKT0+cixwcmVjb21wdXRlRWZmZWN0czoobCxmLHUpPT57Y29uc3QgZD1mLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztsLkRNR19SRURfTVVMVEkubXVsdGlwbHkoZC5hY3RpdmVTaGllbGREbWdEZWNyZWFzZT8xLW9bdF06MSxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sWHI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5UaGVVbnJlYWNoYWJsZVNpZGUiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMzAwOSIpLG89Wy4yNCwuMjgsLjMyLC4zNiwuNF0sYT17ZG1nQnVmZjohMH0scj17ZG1nQnVmZjp7bGM6ITAsaWQ6ImRtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5kbWdCdWZmLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuZG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpnLnByZWNpc2lvblJvdW5kKG9bdF0qMTAwKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMociksZGVmYXVsdHM6KCk9PmEscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCxmKT0+e2NvbnN0IHU9bC5saWdodENvbmVDb25kaXRpb25hbHM7Yy5FTEVNRU5UQUxfRE1HLmJ1ZmYodS5kbWdCdWZmP29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0scXI9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5UaG9zZU1hbnlTcHJpbmdzIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjMwMjkiKSxvPVsuMSwuMTIsLjE0LC4xNiwuMThdLGE9Wy4xNCwuMTYsLjE4LC4yLC4yMl0scj17dW5hcm1vcmVkVnVsbmVyYWJpbGl0eTohMCxjb3JuZXJlZFZ1bG5lcmFiaWxpdHk6ITB9LGM9e3VuYXJtb3JlZFZ1bG5lcmFiaWxpdHk6ITAsY29ybmVyZWRWdWxuZXJhYmlsaXR5OiEwfSxsPXt1bmFybW9yZWRWdWxuZXJhYmlsaXR5OntsYzohMCxpZDoidW5hcm1vcmVkVnVsbmVyYWJpbGl0eSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpuKCJDb250ZW50LnVuYXJtb3JlZFZ1bG5lcmFiaWxpdHkudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC51bmFybW9yZWRWdWxuZXJhYmlsaXR5LmNvbnRlbnQiLHtVbmFybW9yZWRWdWxuZXJhYmlsaXR5OmcucHJlY2lzaW9uUm91bmQob1t0XSoxMDApLENvcm5lcmVkVnVsbmVyYWJpbGl0eTpnLnByZWNpc2lvblJvdW5kKGFbdF0qMTAwKX0pfSxjb3JuZXJlZFZ1bG5lcmFiaWxpdHk6e2xjOiEwLGlkOiJjb3JuZXJlZFZ1bG5lcmFiaWxpdHkiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5jb3JuZXJlZFZ1bG5lcmFiaWxpdHkudGV4dCIpLGNvbnRlbnQ6bigiQ29udGVudC5jb3JuZXJlZFZ1bG5lcmFiaWxpdHkuY29udGVudCIse1VuYXJtb3JlZFZ1bG5lcmFiaWxpdHk6Zy5wcmVjaXNpb25Sb3VuZChvW3RdKjEwMCksQ29ybmVyZWRWdWxuZXJhYmlsaXR5OmcucHJlY2lzaW9uUm91bmQoYVt0XSoxMDApfSl9fSxmPXt1bmFybW9yZWRWdWxuZXJhYmlsaXR5OmwudW5hcm1vcmVkVnVsbmVyYWJpbGl0eSxjb3JuZXJlZFZ1bG5lcmFiaWxpdHk6bC5jb3JuZXJlZFZ1bG5lcmFiaWxpdHl9O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGwpLHRlYW1tYXRlQ29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhmKSxkZWZhdWx0czooKT0+cix0ZWFtbWF0ZURlZmF1bHRzOigpPT5jLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoodSxkLG0pPT57Y29uc3QgRT1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt1LlZVTE5FUkFCSUxJVFkuYnVmZlRlYW0oRS51bmFybW9yZWRWdWxuZXJhYmlsaXR5fHxFLmNvcm5lcmVkVnVsbmVyYWJpbGl0eT9vW3RdOjAsaSksdS5WVUxORVJBQklMSVRZLmJ1ZmZUZWFtKEUuY29ybmVyZWRWdWxuZXJhYmlsaXR5P2FbdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sdGw9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5UaW1lV2FpdHNGb3JOb09uZSIpO2gubGlnaHRDb25lKCIyMzAxMyIpO2NvbnN0IGk9Wy4zNiwuNDIsLjQ4LC41NCwuNl0sbz17aGVhbGluZ0Jhc2VkRG1nUHJvYzohMX0sYT17aGVhbGluZ0Jhc2VkRG1nUHJvYzp7bGM6ITAsaWQ6ImhlYWxpbmdCYXNlZERtZ1Byb2MiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5oZWFsaW5nQmFzZWREbWdQcm9jLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuaGVhbGluZ0Jhc2VkRG1nUHJvYy5jb250ZW50Iix7TXVsdGlwbGllcjpnLnByZWNpc2lvblJvdW5kKGlbdF0qMTAwKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYSksZGVmYXVsdHM6KCk9Pm8scHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGVsPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuVGltZVdvdmVuSW50b0dvbGQiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMzAzNiIpLG89Wy4wOSwuMTA1LC4xMiwuMTM1LC4xNV0sYT1bLjA5LC4xMDUsLjEyLC4xMzUsLjE1XSxyPXticm9jYWRlU3RhY2tzOjYsbWF4U3RhY2tzQmFzaWNEbWdCb29zdDohMH0sYz17YnJvY2FkZVN0YWNrczp7bGM6ITAsaWQ6ImJyb2NhZGVTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bigiQ29udGVudC5icm9jYWRlU3RhY2tzLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQuYnJvY2FkZVN0YWNrcy5jb250ZW50Iix7Q2RCdWZmOmcucHJlY2lzaW9uUm91bmQob1t0XSoxMDApLERtZ0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZChhW3RdKjEwMCl9KSxtaW46MCxtYXg6Nn0sbWF4U3RhY2tzQmFzaWNEbWdCb29zdDp7bGM6ITAsaWQ6Im1heFN0YWNrc0Jhc2ljRG1nQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5tYXhTdGFja3NCYXNpY0RtZ0Jvb3N0LnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQubWF4U3RhY2tzQmFzaWNEbWdCb29zdC5jb250ZW50Iix7Q2RCdWZmOmcucHJlY2lzaW9uUm91bmQob1t0XSoxMDApLERtZ0J1ZmY6Zy5wcmVjaXNpb25Sb3VuZChhW3RdKjEwMCl9KX19O3JldHVybntjb250ZW50OigpPT5PYmplY3QudmFsdWVzKGMpLGRlZmF1bHRzOigpPT5yLHByZWNvbXB1dGVFZmZlY3RzOihsLGYsdSk9Pntjb25zdCBkPWYubGlnaHRDb25lQ29uZGl0aW9uYWxzO2wuQ0QuYnVmZkR1YWwoZC5icm9jYWRlU3RhY2tzKm9bdF0saSksbC5CQVNJQ19ETUdfQk9PU1QuYnVmZkR1YWwoZC5icm9jYWRlU3RhY2tzPj02JiZkLm1heFN0YWNrc0Jhc2ljRG1nQm9vc3Q/ZC5icm9jYWRlU3RhY2tzKmFbdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sbmw9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5XaGVyZWFib3V0c1Nob3VsZERyZWFtc1Jlc3QiKSx7U09VUkNFX0xDOml9PWgubGlnaHRDb25lKCIyMzAyNSIpLG89Wy4yNCwuMjgsLjMyLC4zNiwuNF0sYT17cm91dGVkVnVsbmVyYWJpbGl0eTohMH0scj17cm91dGVkVnVsbmVyYWJpbGl0eTp7bGM6ITAsaWQ6InJvdXRlZFZ1bG5lcmFiaWxpdHkiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5yb3V0ZWRWdWxuZXJhYmlsaXR5LnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQucm91dGVkVnVsbmVyYWJpbGl0eS5jb250ZW50Iix7VnVsbmVyYWJpbGl0eTpvW3RdKjEwMH0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMociksZGVmYXVsdHM6KCk9PmEscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCxmKT0+e2NvbnN0IHU9bC5saWdodENvbmVDb25kaXRpb25hbHM7Yy5WVUxORVJBQklMSVRZLmJ1ZmYodS5yb3V0ZWRWdWxuZXJhYmlsaXR5P29bdF06MCxpKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sb2w9KHQsZSk9Pntjb25zdCBuPWcud3JhcHBlZEZpeGVkVChlKS5nZXQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Xb3JyaXNvbWVCbGlzc2Z1bCIpLHtTT1VSQ0VfTEM6aX09aC5saWdodENvbmUoIjIzMDE2Iiksbz1bLjMsLjM1LC40LC40NSwuNV0sYT1bLjEyLC4xNCwuMTYsLjE4LC4yXSxyPXt0YXJnZXRUYW1lU3RhY2tzOjJ9LGM9e3RhcmdldFRhbWVTdGFja3M6Mn0sbD17dGFyZ2V0VGFtZVN0YWNrczp7bGM6ITAsaWQ6InRhcmdldFRhbWVTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bigiQ29udGVudC50YXJnZXRUYW1lU3RhY2tzLnRleHQiKSxjb250ZW50Om4oIkNvbnRlbnQudGFyZ2V0VGFtZVN0YWNrcy5jb250ZW50Iix7Q3JpdEJ1ZmY6Zy5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KSxtaW46MCxtYXg6Mn19LGY9e3RhcmdldFRhbWVTdGFja3M6bC50YXJnZXRUYW1lU3RhY2tzfTtyZXR1cm57Y29udGVudDooKT0+T2JqZWN0LnZhbHVlcyhsKSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoZiksZGVmYXVsdHM6KCk9PnIsdGVhbW1hdGVEZWZhdWx0czooKT0+YyxwcmVjb21wdXRlRWZmZWN0czoodSxkLG0pPT57QSh1LGV0LG9bdF0saSl9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOih1LGQsbSk9Pntjb25zdCBFPWQubGlnaHRDb25lQ29uZGl0aW9uYWxzO3UuQ0QuYnVmZlRlYW0oRS50YXJnZXRUYW1lU3RhY2tzKmFbdF0saSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGlsPSh0LGUpPT57Y29uc3Qgbj1nLndyYXBwZWRGaXhlZFQoZSkuZ2V0KG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuWWV0SG9wZUlzUHJpY2VsZXNzIikse1NPVVJDRV9MQzppfT1oLmxpZ2h0Q29uZSgiMjMwMjgiKSxvPVsuMTIsLjE0LC4xNiwuMTgsLjJdLGE9Wy4yLC4yNCwuMjgsLjMyLC4zNl0scj17ZnVhRG1nQm9vc3Q6ITAsdWx0RnVhRGVmU2hyZWQ6ITB9LGM9e2Z1YURtZ0Jvb3N0OntsYzohMCxpZDoiZnVhRG1nQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC5mdWFEbWdCb29zdC50ZXh0IiksY29udGVudDpuKCJDb250ZW50LmZ1YURtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOmcucHJlY2lzaW9uUm91bmQob1t0XSoxMDApfSl9LHVsdEZ1YURlZlNocmVkOntsYzohMCxpZDoidWx0RnVhRGVmU2hyZWQiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bigiQ29udGVudC51bHRGdWFEZWZTaHJlZC50ZXh0IiksY29udGVudDpuKCJDb250ZW50LnVsdEZ1YURlZlNocmVkLmNvbnRlbnQiLHtEZWZTaHJlZDpnLnByZWNpc2lvblJvdW5kKG9bdF0qMTAwKX0pfX07cmV0dXJue2NvbnRlbnQ6KCk9Pk9iamVjdC52YWx1ZXMoYyksZGVmYXVsdHM6KCk9PnIscHJlY29tcHV0ZUVmZmVjdHM6KGwsZix1KT0+e2NvbnN0IGQ9Zi5saWdodENvbmVDb25kaXRpb25hbHM7RHQobCwkfGV0LGQudWx0RnVhRGVmU2hyZWQ/YVt0XTowLGkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczoobCxmLHUpPT57Y29uc3QgZD1mLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztBKGwsZXQsZC5mdWFEbWdCb29zdD9vW3RdKk1hdGgubWluKDQsTWF0aC5mbG9vcihsLmFbcy5DRF0tMS4yKS8uMik6MCxpKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KGwsZik9Pntjb25zdCB1PWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO3JldHVybmAKaWYgKCR7dnQodS5mdWFEbWdCb29zdCl9KSB7CiAgYnVmZkFiaWxpdHlEbWcocF94LCBGVUFfRE1HX1RZUEUsICR7b1t0XX0gKiBtaW4oNCwgZmxvb3IoeC5DRCAtIDEuMjApIC8gMC4yMCksIDEpOwp9CiAgICBgfX19O2NvbnN0IGFsPXsyM2UzOlVyLDIzMDAxOlJyLDIzMDAyOlFyLDIzMDAzOkVyLDIzMDA0OkFyLDIzMDA1OkZyLDIzMDA2OlZyLDIzMDA3Ok9yLDIzMDA4Ol9yLDIzMDA5OlhyLDIzMDEwOmdyLDIzMDExOldyLDIzMDEyOllyLDIzMDEzOnRsLDIzMDE0OlByLDIzMDE1OmhyLDIzMDE2Om9sLDIzMDE3Ok5yLDIzMDE4Om1yLDIzMDE5OktyLDIzMDIwOnByLDIzMDIxOlNyLDIzMDIyOmpyLDIzMDIzOkxyLDIzMDI0OmRyLDIzMDI1Om5sLDIzMDI2OlRyLDIzMDI3OnpyLDIzMDI4OmlsLDIzMDI5OnFyLDIzMDMwOkRyLDIzMDMxOklyLDIzMDMyOiRyLDIzMDMzOndyLDIzMDM0OmZyLDIzMDM1OnhyLDI0ZTM6SHIsMjQwMDE6Q3IsMjQwMDI6WnIsMjQwMDM6SnIsMjQwMDQ6QnIsMjMwMzY6ZWwsMjMwMzc6TXIsMjMwMzg6eXIsMjMwMzk6YnIsMjMwNDA6R3IsMjMwNDE6dnIsMjQwMDU6a3J9LHNsPXsyMWUzOndzLDIxMDAxOmJzLDIxMDAyOmRzLDIxMDAzOklzLDIxMDA0OlJzLDIxMDA1OnFzLDIxMDA2OlFzLDIxMDA3OiRzLDIxMDA4OmhzLDIxMDA5OkxzLDIxMDEwOkpzLDIxMDExOkZzLDIxMDEyOnNzLDIxMDEzOkFzLDIxMDE0OmtzLDIxMDE1OktzLDIxMDE2Om9yLDIxMDE3OldzLDIxMDE4OmZzLDIxMDE5OmlyLDIxMDIwOkJzLDIxMDIxOkhzLDIxMDIyOkVzLDIxMDIzOnJyLDIxMDI0OmpzLDIxMDI1OnZzLDIxMDI2OnVyLDIxMDI3OnRyLDIxMDI4OnNyLDIxMDI5OmxyLDIxMDMwOmVyLDIxMDMxOlZzLDIxMDMyOmNzLDIxMDMzOlBzLDIxMDM0Om5yLDIxMDM1OmNyLDIxMDM2OmdzLDIxMDM3OkNzLDIxMDM4OkRzLDIxMDM5Om1zLDIxMDQwOlpzLDIxMDQxOk9zLDIxMDQyOnlzLDIxMDQzOnVzLDIxMDQ0OmxzLDIxMDQ1OmFzLDIxMDQ2OlVzLDIxMDQ3OnpzLDIxMDQ4OnBzLDIxMDUwOmFyLDIxMDUxOl9zLDIxMDUyOllzLDIyZTM6cnMsMjIwMDE6VHMsMjIwMDI6U3MsMjIwMDM6TXMsMjIwMDQ6WHN9LHJsPXsyZTQ6X2EsMjAwMDE6SGEsMjAwMDI6d2EsMjAwMDM6U2EsMjAwMDQ6aXMsMjAwMDU6QmEsMjAwMDY6VmEsMjAwMDc6S2EsMjAwMDg6emEsMjAwMDk6b3MsMjAwMTA6amEsMjAwMTE6V2EsMjAwMTI6SmEsMjAwMTM6WGEsMjAwMTQ6RGEsMjAwMTU6UWEsMjAwMTY6WmEsMjAwMTc6cWEsMjAwMTg6JGEsMjAwMTk6WWEsMjAwMjA6ZXMsMjAwMjE6bnMsMjAwMjI6dHN9LGxsPXsuLi5hbCwuLi5zbCwuLi5ybH0sc289e2dldDoodCxlPSExKT0+e2NvbnN0IG49bGxbdC5saWdodENvbmVdO3JldHVybiFufHx0LmxpZ2h0Q29uZVBhdGghPT10LnBhdGgmJiEod2luZG93IT1udWxsJiZ3aW5kb3cuV0VCR1BVX0RFQlVHKT97Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX06bih0LmxpZ2h0Q29uZVN1cGVyaW1wb3NpdGlvbi0xLGUse2VsZW1lbnQ6dC5lbGVtZW50fSl9fSxYdD02NSxybz17ZXh0cmFjdENoYXJhY3RlcjoodCxlLG4pPT4oZT1lKlh0LHtpZDp0W2VdK24sSFA6dFtlKzFdLEFUSzp0W2UrMl0sREVGOnRbZSszXSxTUEQ6dFtlKzRdLCJDUklUIFJhdGUiOnRbZSs1XSwiQ1JJVCBETUciOnRbZSs2XSwiRWZmZWN0IEhpdCBSYXRlIjp0W2UrN10sIkVmZmVjdCBSRVMiOnRbZSs4XSwiQnJlYWsgRWZmZWN0Ijp0W2UrOV0sIkVuZXJneSBSZWdlbmVyYXRpb24gUmF0ZSI6dFtlKzEwXSwiT3V0Z29pbmcgSGVhbGluZyBCb29zdCI6dFtlKzExXSxFRDp0W2UrMTJdLFdFSUdIVDp0W2UrMTNdLEVIUDp0W2UrMTRdLEhFQUw6dFtlKzE1XSxTSElFTEQ6dFtlKzE2XSxCQVNJQzp0W2UrMTddLFNLSUxMOnRbZSsxOF0sVUxUOnRbZSsxOV0sRlVBOnRbZSsyMF0sTUVNT19TS0lMTDp0W2UrMjFdLE1FTU9fVEFMRU5UOnRbZSsyMl0sRE9UOnRbZSsyM10sQlJFQUs6dFtlKzI0XSxDT01CTzp0W2UrMjVdLHhIUDp0W2UrMjZdLHhBVEs6dFtlKzI3XSx4REVGOnRbZSsyOF0seFNQRDp0W2UrMjldLHhDUjp0W2UrMzBdLHhDRDp0W2UrMzFdLHhFSFI6dFtlKzMyXSx4UkVTOnRbZSszM10seEJFOnRbZSszNF0seEVSUjp0W2UrMzVdLHhPSEI6dFtlKzM2XSx4RUxFTUVOVEFMX0RNRzp0W2UrMzddLHJlbGljU2V0SW5kZXg6dFtlKzM4XSxvcm5hbWVudFNldEluZGV4OnRbZSszOV0sbUhQOnRbZSs0MF0sbUFUSzp0W2UrNDFdLG1ERUY6dFtlKzQyXSxtU1BEOnRbZSs0M10sbUNSOnRbZSs0NF0sbUNEOnRbZSs0NV0sbUVIUjp0W2UrNDZdLG1SRVM6dFtlKzQ3XSxtQkU6dFtlKzQ4XSxtRVJSOnRbZSs0OV0sbU9IQjp0W2UrNTBdLG1FTEVNRU5UQUxfRE1HOnRbZSs1MV0sbXhIUDp0W2UrNTJdLG14QVRLOnRbZSs1M10sbXhERUY6dFtlKzU0XSxteFNQRDp0W2UrNTVdLG14Q1I6dFtlKzU2XSxteENEOnRbZSs1N10sbXhFSFI6dFtlKzU4XSxteFJFUzp0W2UrNTldLG14QkU6dFtlKzYwXSxteEVSUjp0W2UrNjFdLG14T0hCOnRbZSs2Ml0sbXhFTEVNRU5UQUxfRE1HOnRbZSs2M10sbXhFSFA6dFtlKzY0XX0pLGV4dHJhY3RBcnJheVRvUmVzdWx0czoodCxlLG4saSk9Pntmb3IobGV0IG89MDtvPGUmJnRbbypYdCsxXTtvKyspe2NvbnN0IGE9cm8uZXh0cmFjdENoYXJhY3Rlcih0LG8saSk7bi5maXhlZFNpemVQdXNoKGEpfX0scGFja0NoYXJhY3RlcjoodCxlLG4pPT57ZT1lKlh0O2NvbnN0IGk9bi5jLG89bi5hLGE9aS5hO2lmKHRbZV09aS5pZCx0W2UrMV09YVtzLkhQXSx0W2UrMl09YVtzLkFUS10sdFtlKzNdPWFbcy5ERUZdLHRbZSs0XT1hW3MuU1BEXSx0W2UrNV09YVtzLkNSXSx0W2UrNl09YVtzLkNEXSx0W2UrN109YVtzLkVIUl0sdFtlKzhdPWFbcy5SRVNdLHRbZSs5XT1hW3MuQkVdLHRbZSsxMF09YVtzLkVSUl0sdFtlKzExXT1hW3MuT0hCXSx0W2UrMTJdPWFbcy5FTEVNRU5UQUxfRE1HXSx0W2UrMTNdPWkud2VpZ2h0LHRbZSsxNF09b1tzLkVIUF0sdFtlKzE1XT1vW3MuSEVBTF9WQUxVRV0sdFtlKzE2XT1vW3MuU0hJRUxEX1ZBTFVFXSx0W2UrMTddPW9bcy5CQVNJQ19ETUddLHRbZSsxOF09b1tzLlNLSUxMX0RNR10sdFtlKzE5XT1vW3MuVUxUX0RNR10sdFtlKzIwXT1vW3MuRlVBX0RNR10sdFtlKzIxXT1vW3MuTUVNT19TS0lMTF9ETUddLHRbZSsyMl09b1tzLk1FTU9fVEFMRU5UX0RNR10sdFtlKzIzXT1vW3MuRE9UX0RNR10sdFtlKzI0XT1vW3MuQlJFQUtfRE1HXSx0W2UrMjVdPW9bcy5DT01CT19ETUddLHRbZSsyNl09b1tzLkhQXSx0W2UrMjddPW9bcy5BVEtdLHRbZSsyOF09b1tzLkRFRl0sdFtlKzI5XT1vW3MuU1BEXSx0W2UrMzBdPW9bcy5DUl0sdFtlKzMxXT1vW3MuQ0RdLHRbZSszMl09b1tzLkVIUl0sdFtlKzMzXT1vW3MuUkVTXSx0W2UrMzRdPW9bcy5CRV0sdFtlKzM1XT1vW3MuRVJSXSx0W2UrMzZdPW9bcy5PSEJdLHRbZSszN109b1tzLkVMRU1FTlRBTF9ETUddLHRbZSszOF09aS5yZWxpY1NldEluZGV4LHRbZSszOV09aS5vcm5hbWVudFNldEluZGV4LG4uYVtzLk1FTU9TUFJJVEVdKXtjb25zdCByPW4ubS5jLmE7dFtlKzQwXT1yW3MuSFBdLHRbZSs0MV09cltzLkFUS10sdFtlKzQyXT1yW3MuREVGXSx0W2UrNDNdPXJbcy5TUERdLHRbZSs0NF09cltzLkNSXSx0W2UrNDVdPXJbcy5DRF0sdFtlKzQ2XT1yW3MuRUhSXSx0W2UrNDddPXJbcy5SRVNdLHRbZSs0OF09cltzLkJFXSx0W2UrNDldPXJbcy5FUlJdLHRbZSs1MF09cltzLk9IQl0sdFtlKzUxXT1yW3MuRUxFTUVOVEFMX0RNR107Y29uc3QgYz1uLm0uYTt0W2UrNTJdPWNbcy5IUF0sdFtlKzUzXT1jW3MuQVRLXSx0W2UrNTRdPWNbcy5ERUZdLHRbZSs1NV09Y1tzLlNQRF0sdFtlKzU2XT1jW3MuQ1JdLHRbZSs1N109Y1tzLkNEXSx0W2UrNThdPWNbcy5FSFJdLHRbZSs1OV09Y1tzLlJFU10sdFtlKzYwXT1jW3MuQkVdLHRbZSs2MV09Y1tzLkVSUl0sdFtlKzYyXT1jW3MuT0hCXSx0W2UrNjNdPWNbcy5FTEVNRU5UQUxfRE1HXSx0W2UrNjRdPWNbcy5FSFBdfX0sY2xlYW5GbG9hdEJ1ZmZlcjp0PT57bmV3IEZsb2F0MzJBcnJheSh0KS5maWxsKDApfSxjcmVhdGVGbG9hdEJ1ZmZlcjp0PT5uZXcgRmxvYXQzMkFycmF5KHQqWHQpLmJ1ZmZlcn0sS2U9e1NwYWNlU2VhbGluZ1N0YXRpb246e2tleToiU3BhY2VTZWFsaW5nU3RhdGlvbiIsaW5kZXg6MCxwMmM6KHQsZSk9Pnt0LkFUS19QLmJ1ZmYoLjEyLGguU3BhY2VTZWFsaW5nU3RhdGlvbil9fSxGbGVldE9mVGhlQWdlbGVzczp7a2V5OiJGbGVldE9mVGhlQWdlbGVzcyIsaW5kZXg6MSxwMmM6KHQsZSk9Pnt0LkhQX1AuYnVmZiguMTIsaC5GbGVldE9mVGhlQWdlbGVzcyl9fSxQYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZTp7a2V5OiJQYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZSIsaW5kZXg6MixwMmM6KHQsZSk9Pnt0LkVIUi5idWZmKC4xLGguUGFuQ29zbWljQ29tbWVyY2lhbEVudGVycHJpc2UpfX0sQmVsb2JvZ09mVGhlQXJjaGl0ZWN0czp7a2V5OiJCZWxvYm9nT2ZUaGVBcmNoaXRlY3RzIixpbmRleDozLHAyYzoodCxlKT0+e3QuREVGX1AuYnVmZiguMTUsaC5CZWxvYm9nT2ZUaGVBcmNoaXRlY3RzKX19LENlbGVzdGlhbERpZmZlcmVudGlhdG9yOntrZXk6IkNlbGVzdGlhbERpZmZlcmVudGlhdG9yIixpbmRleDo0LHAyYzoodCxlKT0+e3QuQ0QuYnVmZiguMTYsaC5DZWxlc3RpYWxEaWZmZXJlbnRpYXRvcil9LHAyeDoodCxlLG4pPT57bi5lbmFibGVkQ2VsZXN0aWFsRGlmZmVyZW50aWF0b3ImJnQuYy5hW3MuQ0RdPj0xLjImJnQuQ1IuYnVmZiguNixoLkNlbGVzdGlhbERpZmZlcmVudGlhdG9yKX19LEluZXJ0U2Fsc290dG86e2tleToiSW5lcnRTYWxzb3R0byIsaW5kZXg6NSxwMmM6KHQsZSk9Pnt0LkNSLmJ1ZmYoLjA4LGguSW5lcnRTYWxzb3R0byl9fSxUYWxpYUtpbmdkb21PZkJhbmRpdHJ5OntrZXk6IlRhbGlhS2luZ2RvbU9mQmFuZGl0cnkiLGluZGV4OjYscDJjOih0LGUpPT57dC5CRS5idWZmKC4xNixoLlRhbGlhS2luZ2RvbU9mQmFuZGl0cnkpfX0sU3ByaWdodGx5Vm9ud2FjcTp7a2V5OiJTcHJpZ2h0bHlWb253YWNxIixpbmRleDo3LHAyYzoodCxlKT0+e3QuRVJSLmJ1ZmYoLjA1LGguU3ByaWdodGx5Vm9ud2FjcSl9fSxSdXRpbGFudEFyZW5hOntrZXk6IlJ1dGlsYW50QXJlbmEiLGluZGV4OjgscDJjOih0LGUpPT57dC5DUi5idWZmKC4wOCxoLlJ1dGlsYW50QXJlbmEpfX0sQnJva2VuS2VlbDp7a2V5OiJCcm9rZW5LZWVsIixpbmRleDo5LHAyYzoodCxlKT0+e3QuUkVTLmJ1ZmYoLjEsaC5Ccm9rZW5LZWVsKX19LEZpcm1hbWVudEZyb250bGluZUdsYW1vdGg6e2tleToiRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aCIsaW5kZXg6MTAscDJjOih0LGUpPT57dC5BVEtfUC5idWZmKC4xMixoLkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgpfX0sUGVuYWNvbnlMYW5kT2ZUaGVEcmVhbXM6e2tleToiUGVuYWNvbnlMYW5kT2ZUaGVEcmVhbXMiLGluZGV4OjExLHAyYzoodCxlKT0+e3QuRVJSLmJ1ZmYoLjA1LGguUGVuYWNvbnlMYW5kT2ZUaGVEcmVhbXMpfSxwMng6KHQsZSxuKT0+e24uZW5hYmxlZFBlbmFjb255TGFuZE9mVGhlRHJlYW1zJiZ0LkVMRU1FTlRBTF9ETUcuYnVmZk1lbW8oLjEsaC5QZW5hY29ueUxhbmRPZlRoZURyZWFtcyl9fSxTaWdvbmlhVGhlVW5jbGFpbWVkRGVzb2xhdGlvbjp7a2V5OiJTaWdvbmlhVGhlVW5jbGFpbWVkRGVzb2xhdGlvbiIsaW5kZXg6MTIscDJjOih0LGUpPT57dC5DUi5idWZmKC4wNCxoLlNpZ29uaWFUaGVVbmNsYWltZWREZXNvbGF0aW9uKX0scDJ4Oih0LGUsbik9Pnt0LkNELmJ1ZmYoLjA0Km4udmFsdWVTaWdvbmlhVGhlVW5jbGFpbWVkRGVzb2xhdGlvbixoLlNpZ29uaWFUaGVVbmNsYWltZWREZXNvbGF0aW9uKX19LEl6dW1vR2Vuc2VpQW5kVGFrYW1hRGl2aW5lUmVhbG06e2tleToiSXp1bW9HZW5zZWlBbmRUYWthbWFEaXZpbmVSZWFsbSIsaW5kZXg6MTMscDJjOih0LGUpPT57dC5BVEtfUC5idWZmKC4xMixoLkl6dW1vR2Vuc2VpQW5kVGFrYW1hRGl2aW5lUmVhbG0pfSxwMng6KHQsZSxuKT0+e24uZW5hYmxlZEl6dW1vR2Vuc2VpQW5kVGFrYW1hRGl2aW5lUmVhbG0mJnQuQ1IuYnVmZiguMTIsaC5JenVtb0dlbnNlaUFuZFRha2FtYURpdmluZVJlYWxtKX19LER1cmFuRHluYXN0eU9mUnVubmluZ1dvbHZlczp7a2V5OiJEdXJhbkR5bmFzdHlPZlJ1bm5pbmdXb2x2ZXMiLGluZGV4OjE0LHAyYzoodCxlKT0+e30scDJ4Oih0LGUsbik9PntBKHQsZXQsLjA1Km4udmFsdWVEdXJhbkR5bmFzdHlPZlJ1bm5pbmdXb2x2ZXMsaC5EdXJhbkR5bmFzdHlPZlJ1bm5pbmdXb2x2ZXMpLG4udmFsdWVEdXJhbkR5bmFzdHlPZlJ1bm5pbmdXb2x2ZXM+PTUmJnQuQ0QuYnVmZiguMjUsaC5EdXJhbkR5bmFzdHlPZlJ1bm5pbmdXb2x2ZXMpfX0sRm9yZ2VPZlRoZUthbHBhZ25pTGFudGVybjp7a2V5OiJGb3JnZU9mVGhlS2FscGFnbmlMYW50ZXJuIixpbmRleDoxNSxwMmM6KHQsZSk9Pnt0LlNQRF9QLmJ1ZmYoLjA2LGguRm9yZ2VPZlRoZUthbHBhZ25pTGFudGVybil9LHAyeDoodCxlLG4pPT57bi5lbmFibGVkRm9yZ2VPZlRoZUthbHBhZ25pTGFudGVybiYmdC5CRS5idWZmKC40LGguRm9yZ2VPZlRoZUthbHBhZ25pTGFudGVybil9fSxMdXNoYWthVGhlU3Vua2VuU2Vhczp7a2V5OiJMdXNoYWthVGhlU3Vua2VuU2VhcyIsaW5kZXg6MTYscDJjOih0LGUpPT57dC5FUlIuYnVmZiguMDUsaC5MdXNoYWthVGhlU3Vua2VuU2Vhcyl9fSxUaGVXb25kcm91c0JhbmFuQW11c2VtZW50UGFyazp7a2V5OiJUaGVXb25kcm91c0JhbmFuQW11c2VtZW50UGFyayIsaW5kZXg6MTcscDJjOih0LGUpPT57dC5DRC5idWZmKC4xNixoLlRoZVdvbmRyb3VzQmFuYW5BbXVzZW1lbnRQYXJrKX0scDJ4Oih0LGUsbik9PntuLmVuYWJsZWRUaGVXb25kcm91c0JhbmFuQW11c2VtZW50UGFyayYmdC5DRC5idWZmKC4zMixoLlRoZVdvbmRyb3VzQmFuYW5BbXVzZW1lbnRQYXJrKX19LEJvbmVDb2xsZWN0aW9uc1NlcmVuZURlbWVzbmU6e2tleToiQm9uZUNvbGxlY3Rpb25zU2VyZW5lRGVtZXNuZSIsaW5kZXg6MTgscDJjOih0LGUpPT57dC5IUF9QLmJ1ZmYoLjEyLGguQm9uZUNvbGxlY3Rpb25zU2VyZW5lRGVtZXNuZSl9fSxHaWFudFRyZWVPZlJhcHRCcm9vZGluZzp7a2V5OiJHaWFudFRyZWVPZlJhcHRCcm9vZGluZyIsaW5kZXg6MTkscDJjOih0LGUpPT57dC5TUERfUC5idWZmKC4wNixoLkdpYW50VHJlZU9mUmFwdEJyb29kaW5nKX19fSxWZT17UGFzc2VyYnlPZldhbmRlcmluZ0Nsb3VkOntrZXk6IlBhc3NlcmJ5T2ZXYW5kZXJpbmdDbG91ZCIsaW5kZXg6MCxwMmM6KHQsZSk9Pnt0Lk9IQi5idWZmKC4xLGguUGFzc2VyYnlPZldhbmRlcmluZ0Nsb3VkKX19LE11c2tldGVlck9mV2lsZFdoZWF0OntrZXk6Ik11c2tldGVlck9mV2lsZFdoZWF0IixpbmRleDoxLHAyYzoodCxlKT0+e3QuQVRLX1AuYnVmZiguMTIsaC5NdXNrZXRlZXJPZldpbGRXaGVhdCl9LHA0YzoodCxlKT0+e3QuU1BEX1AuYnVmZiguMDYsaC5NdXNrZXRlZXJPZldpbGRXaGVhdCl9LHA0eDoodCxlLG4pPT57QSh0LHB0LC4xLGguTXVza2V0ZWVyT2ZXaWxkV2hlYXQpfX0sS25pZ2h0T2ZQdXJpdHlQYWxhY2U6e2tleToiS25pZ2h0T2ZQdXJpdHlQYWxhY2UiLGluZGV4OjIscDJjOih0LGUpPT57dC5ERUZfUC5idWZmKC4xNSxoLktuaWdodE9mUHVyaXR5UGFsYWNlKX0scDR4Oih0LGUsbik9Pnt0LlNISUVMRF9CT09TVC5idWZmKC4yLGguS25pZ2h0T2ZQdXJpdHlQYWxhY2UpfX0sSHVudGVyT2ZHbGFjaWFsRm9yZXN0OntrZXk6Ikh1bnRlck9mR2xhY2lhbEZvcmVzdCIsaW5kZXg6MyxwMmM6KHQsZSk9PntlLmVsZW1lbnRhbERhbWFnZVR5cGU9PXAuSWNlX0RNRyYmdC5JQ0VfRE1HX0JPT1NULmJ1ZmYoLjEsaC5IdW50ZXJPZkdsYWNpYWxGb3Jlc3QpfSxwNHg6KHQsZSxuKT0+e24uZW5hYmxlZEh1bnRlck9mR2xhY2lhbEZvcmVzdCYmdC5DRC5idWZmKC4yNSxoLkh1bnRlck9mR2xhY2lhbEZvcmVzdCl9fSxDaGFtcGlvbk9mU3RyZWV0d2lzZUJveGluZzp7a2V5OiJDaGFtcGlvbk9mU3RyZWV0d2lzZUJveGluZyIsaW5kZXg6NCxwMmM6KHQsZSk9PntlLmVsZW1lbnRhbERhbWFnZVR5cGU9PXAuUGh5c2ljYWxfRE1HJiZ0LlBIWVNJQ0FMX0RNR19CT09TVC5idWZmKC4xLGguQ2hhbXBpb25PZlN0cmVldHdpc2VCb3hpbmcpfSxwNHg6KHQsZSxuKT0+e3QuQVRLX1AuYnVmZiguMDUqbi52YWx1ZUNoYW1waW9uT2ZTdHJlZXR3aXNlQm94aW5nLGguQ2hhbXBpb25PZlN0cmVldHdpc2VCb3hpbmcpfX0sR3VhcmRPZld1dGhlcmluZ1Nub3c6e2tleToiR3VhcmRPZld1dGhlcmluZ1Nub3ciLGluZGV4OjUscDJjOih0LGUpPT57fSxwMng6KHQsZSxuKT0+e3QuRE1HX1JFRF9NVUxUSS5tdWx0aXBseSgxLS4wOCxoLkd1YXJkT2ZXdXRoZXJpbmdTbm93KX19LEZpcmVzbWl0aE9mTGF2YUZvcmdpbmc6e2tleToiRmlyZXNtaXRoT2ZMYXZhRm9yZ2luZyIsaW5kZXg6NixwMmM6KHQsZSk9PntlLmVsZW1lbnRhbERhbWFnZVR5cGU9PXAuRmlyZV9ETUcmJnQuRklSRV9ETUdfQk9PU1QuYnVmZiguMSxoLkZpcmVzbWl0aE9mTGF2YUZvcmdpbmcpfSxwNHg6KHQsZSxuKT0+e0EodCxXLC4xMixoLkZpcmVzbWl0aE9mTGF2YUZvcmdpbmcpLG4uZW5hYmxlZEZpcmVzbWl0aE9mTGF2YUZvcmdpbmcmJnQuRklSRV9ETUdfQk9PU1QuYnVmZiguMTIsaC5GaXJlc21pdGhPZkxhdmFGb3JnaW5nKX19LEdlbml1c09mQnJpbGxpYW50U3RhcnM6e2tleToiR2VuaXVzT2ZCcmlsbGlhbnRTdGFycyIsaW5kZXg6NyxwMmM6KHQsZSk9PntlLmVsZW1lbnRhbERhbWFnZVR5cGU9PXAuUXVhbnR1bV9ETUcmJnQuUVVBTlRVTV9ETUdfQk9PU1QuYnVmZiguMSxoLkdlbml1c09mQnJpbGxpYW50U3RhcnMpfSxwNHg6KHQsZSxuKT0+e3QuREVGX1BFTi5idWZmKG4uZW5hYmxlZEdlbml1c09mQnJpbGxpYW50U3RhcnM/LjI6LjEsaC5HZW5pdXNPZkJyaWxsaWFudFN0YXJzKX19LEJhbmRPZlNpenpsaW5nVGh1bmRlcjp7a2V5OiJCYW5kT2ZTaXp6bGluZ1RodW5kZXIiLGluZGV4OjgscDJjOih0LGUpPT57ZS5lbGVtZW50YWxEYW1hZ2VUeXBlPT1wLkxpZ2h0bmluZ19ETUcmJnQuTElHSFROSU5HX0RNR19CT09TVC5idWZmKC4xLGguQmFuZE9mU2l6emxpbmdUaHVuZGVyKX0scDR4Oih0LGUsbik9PntuLmVuYWJsZWRCYW5kT2ZTaXp6bGluZ1RodW5kZXImJnQuQVRLX1AuYnVmZiguMixoLkJhbmRPZlNpenpsaW5nVGh1bmRlcil9fSxFYWdsZU9mVHdpbGlnaHRMaW5lOntrZXk6IkVhZ2xlT2ZUd2lsaWdodExpbmUiLGluZGV4OjkscDJjOih0LGUpPT57ZS5lbGVtZW50YWxEYW1hZ2VUeXBlPT1wLldpbmRfRE1HJiZ0LldJTkRfRE1HX0JPT1NULmJ1ZmYoLjEsaC5FYWdsZU9mVHdpbGlnaHRMaW5lKX19LFRoaWVmT2ZTaG9vdGluZ01ldGVvcjp7a2V5OiJUaGllZk9mU2hvb3RpbmdNZXRlb3IiLGluZGV4OjEwLHAyYzoodCxlKT0+e3QuQkUuYnVmZiguMTYsaC5UaGllZk9mU2hvb3RpbmdNZXRlb3IpfSxwNGM6KHQsZSk9Pnt0LkJFLmJ1ZmYoLjE2LGguVGhpZWZPZlNob290aW5nTWV0ZW9yKX19LFdhc3RlbGFuZGVyT2ZCYW5kaXRyeURlc2VydDp7a2V5OiJXYXN0ZWxhbmRlck9mQmFuZGl0cnlEZXNlcnQiLGluZGV4OjExLHAyYzoodCxlKT0+e2UuZWxlbWVudGFsRGFtYWdlVHlwZT09cC5JbWFnaW5hcnlfRE1HJiZ0LklNQUdJTkFSWV9ETUdfQk9PU1QuYnVmZiguMSxoLldhc3RlbGFuZGVyT2ZCYW5kaXRyeURlc2VydCl9LHA0eDoodCxlLG4pPT57dC5DRF9CT09TVC5idWZmKC4xKihuLnZhbHVlV2FzdGVsYW5kZXJPZkJhbmRpdHJ5RGVzZXJ0PT0yPzE6MCksaC5XYXN0ZWxhbmRlck9mQmFuZGl0cnlEZXNlcnQpLG4udmFsdWVXYXN0ZWxhbmRlck9mQmFuZGl0cnlEZXNlcnQ+MCYmdC5DUl9CT09TVC5idWZmKC4xLGguV2FzdGVsYW5kZXJPZkJhbmRpdHJ5RGVzZXJ0KX19LExvbmdldm91c0Rpc2NpcGxlOntrZXk6Ikxvbmdldm91c0Rpc2NpcGxlIixpbmRleDoxMixwMmM6KHQsZSk9Pnt0LkhQX1AuYnVmZiguMTIsaC5Mb25nZXZvdXNEaXNjaXBsZSl9LHA0eDoodCxlLG4pPT57dC5DUi5idWZmKC4wOCpuLnZhbHVlTG9uZ2V2b3VzRGlzY2lwbGUsaC5Mb25nZXZvdXNEaXNjaXBsZSl9fSxNZXNzZW5nZXJUcmF2ZXJzaW5nSGFja2Vyc3BhY2U6e2tleToiTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlIixpbmRleDoxMyxwMmM6KHQsZSk9Pnt0LlNQRF9QLmJ1ZmYoLjA2LGguTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlKX0scDR4Oih0LGUsbik9PntuLmVuYWJsZWRNZXNzZW5nZXJUcmF2ZXJzaW5nSGFja2Vyc3BhY2UmJnQuU1BEX1AuYnVmZlRlYW0oLjEyLGguTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlKX19LFRoZUFzaGJsYXppbmdHcmFuZER1a2U6e2tleToiVGhlQXNoYmxhemluZ0dyYW5kRHVrZSIsaW5kZXg6MTQscDJjOih0LGUpPT57fSxwMng6KHQsZSxuKT0+e0EodCxldCwuMixoLlRoZUFzaGJsYXppbmdHcmFuZER1a2UpfSxwNHg6KHQsZSxuKT0+e3QuQVRLX1AuYnVmZiguMDYqbi52YWx1ZVRoZUFzaGJsYXppbmdHcmFuZER1a2UsaC5UaGVBc2hibGF6aW5nR3JhbmREdWtlKX19LFByaXNvbmVySW5EZWVwQ29uZmluZW1lbnQ6e2tleToiUHJpc29uZXJJbkRlZXBDb25maW5lbWVudCIsaW5kZXg6MTUscDJjOih0LGUpPT57dC5BVEtfUC5idWZmKC4xMixoLlByaXNvbmVySW5EZWVwQ29uZmluZW1lbnQpfSxwNHg6KHQsZSxuKT0+e3QuREVGX1BFTi5idWZmKC4wNipuLnZhbHVlUHJpc29uZXJJbkRlZXBDb25maW5lbWVudCxoLlByaXNvbmVySW5EZWVwQ29uZmluZW1lbnQpfX0sUGlvbmVlckRpdmVyT2ZEZWFkV2F0ZXJzOntrZXk6IlBpb25lZXJEaXZlck9mRGVhZFdhdGVycyIsaW5kZXg6MTYscDJ4Oih0LGUsbik9PntuLnZhbHVlUGlvbmVlckRpdmVyT2ZEZWFkV2F0ZXJzPj0wJiZ0LkVMRU1FTlRBTF9ETUcuYnVmZiguMTIsaC5QaW9uZWVyRGl2ZXJPZkRlYWRXYXRlcnMpfSxwNGM6KHQsZSk9Pnt0LkNSLmJ1ZmYoLjA0LGguUGlvbmVlckRpdmVyT2ZEZWFkV2F0ZXJzKX0scDR4Oih0LGUsbik9Pnt0LkNEX0JPT1NULmJ1ZmYodWxbbi52YWx1ZVBpb25lZXJEaXZlck9mRGVhZFdhdGVyc10saC5QaW9uZWVyRGl2ZXJPZkRlYWRXYXRlcnMpLG4udmFsdWVQaW9uZWVyRGl2ZXJPZkRlYWRXYXRlcnM+MiYmdC5DUi5idWZmKC4wNCxoLlBpb25lZXJEaXZlck9mRGVhZFdhdGVycyl9fSxXYXRjaG1ha2VyTWFzdGVyT2ZEcmVhbU1hY2hpbmF0aW9uczp7a2V5OiJXYXRjaG1ha2VyTWFzdGVyT2ZEcmVhbU1hY2hpbmF0aW9ucyIsaW5kZXg6MTcscDJjOih0LGUpPT57dC5CRS5idWZmKC4xNixoLldhdGNobWFrZXJNYXN0ZXJPZkRyZWFtTWFjaGluYXRpb25zKX0scDR4Oih0LGUsbik9PntuLmVuYWJsZWRXYXRjaG1ha2VyTWFzdGVyT2ZEcmVhbU1hY2hpbmF0aW9ucyYmdC5CRS5idWZmVGVhbSguMyxoLldhdGNobWFrZXJNYXN0ZXJPZkRyZWFtTWFjaGluYXRpb25zKX19LElyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2U6e2tleToiSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZSIsaW5kZXg6MTgscDJjOih0LGUpPT57dC5CRS5idWZmKC4xNixoLklyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2UpfX0sVGhlV2luZFNvYXJpbmdWYWxvcm91czp7a2V5OiJUaGVXaW5kU29hcmluZ1ZhbG9yb3VzIixpbmRleDoxOSxwMmM6KHQsZSk9Pnt0LkFUS19QLmJ1ZmYoLjEyLGguVGhlV2luZFNvYXJpbmdWYWxvcm91cyl9LHA0YzoodCxlKT0+e3QuQ1IuYnVmZiguMDYsaC5UaGVXaW5kU29hcmluZ1ZhbG9yb3VzKX0scDR4Oih0LGUsbik9PntuLmVuYWJsZWRUaGVXaW5kU29hcmluZ1ZhbG9yb3VzJiZBKHQsJCwuMzYsaC5UaGVXaW5kU29hcmluZ1ZhbG9yb3VzKX19LFNhY2VyZG9zUmVsaXZlZE9yZGVhbDp7a2V5OiJTYWNlcmRvc1JlbGl2ZWRPcmRlYWwiLGluZGV4OjIwLHAyYzoodCxlKT0+e3QuU1BEX1AuYnVmZiguMDYsaC5TYWNlcmRvc1JlbGl2ZWRPcmRlYWwpfSxwNHg6KHQsZSxuKT0+e3QuQ0QuYnVmZiguMTgqbi52YWx1ZVNhY2VyZG9zUmVsaXZlZE9yZGVhbCxoLlNhY2VyZG9zUmVsaXZlZE9yZGVhbCl9fSxTY2hvbGFyTG9zdEluRXJ1ZGl0aW9uOntrZXk6IlNjaG9sYXJMb3N0SW5FcnVkaXRpb24iLGluZGV4OjIxLHAyYzoodCxlKT0+e3QuQ1IuYnVmZiguMDgsaC5TY2hvbGFyTG9zdEluRXJ1ZGl0aW9uKX0scDR4Oih0LGUsbik9PntBKHQsJHxXLC4yLGguU2Nob2xhckxvc3RJbkVydWRpdGlvbiksbi5lbmFibGVkU2Nob2xhckxvc3RJbkVydWRpdGlvbiYmQSh0LFcsLjI1LGguU2Nob2xhckxvc3RJbkVydWRpdGlvbil9fSxIZXJvT2ZUcml1bXBoYW50U29uZzp7a2V5OiJIZXJvT2ZUcml1bXBoYW50U29uZyIsaW5kZXg6MjIscDJjOih0LGUpPT57dC5BVEtfUC5idWZmKC4xMixoLkhlcm9PZlRyaXVtcGhhbnRTb25nKX0scDR4Oih0LGUsbik9PntuLmVuYWJsZWRIZXJvT2ZUcml1bXBoYW50U29uZyYmKHQuU1BEX1AuYnVmZiguMDYsaC5IZXJvT2ZUcml1bXBoYW50U29uZyksdC5DRC5idWZmRHVhbCguMyxoLkhlcm9PZlRyaXVtcGhhbnRTb25nKSl9fSxQb2V0T2ZNb3VybmluZ0NvbGxhcHNlOntrZXk6IlBvZXRPZk1vdXJuaW5nQ29sbGFwc2UiLGluZGV4OjIzLHAyYzoodCxlKT0+e2UuZWxlbWVudGFsRGFtYWdlVHlwZT09cC5RdWFudHVtX0RNRyYmdC5RVUFOVFVNX0RNR19CT09TVC5idWZmKC4xLGguUG9ldE9mTW91cm5pbmdDb2xsYXBzZSl9LHA0YzoodCxlKT0+e3QuU1BEX1AuYnVmZigtLjA4LGguUG9ldE9mTW91cm5pbmdDb2xsYXBzZSl9LHA0eDoodCxlLG4pPT57dC5DUi5idWZmQmFzZUR1YWwoKHQuYy5hW3MuU1BEXTwxMTA/LjI6MCkrKHQuYy5hW3MuU1BEXTw5NT8uMTI6MCksaC5Qb2V0T2ZNb3VybmluZ0NvbGxhcHNlKX19fSxjbD17Li4uVmUsLi4uS2V9LEc9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5rZXlzKGNsKS5tYXAodD0+W3QsdF0pKSx1bD17Wy0xXTowLDA6MCwxOi4wOCwyOi4xMiwzOi4xNiw0Oi4yNH0sbG89T2JqZWN0LmVudHJpZXMoS2UpLnNvcnQoKHQsZSk9PnRbMV0uaW5kZXgtZVsxXS5pbmRleCkubWFwKHQ9PnRbMV0pLGZsPU9iamVjdC5lbnRyaWVzKEtlKS5zb3J0KCh0LGUpPT50WzFdLmluZGV4LWVbMV0uaW5kZXgpLm1hcCh0PT50WzBdKSxHdD1PYmplY3QuZW50cmllcyhWZSkuc29ydCgodCxlKT0+dFsxXS5pbmRleC1lWzFdLmluZGV4KS5tYXAodD0+dFsxXSksY289T2JqZWN0LmVudHJpZXMoVmUpLnNvcnQoKHQsZSk9PnRbMV0uaW5kZXgtZVsxXS5pbmRleCkubWFwKHQ9PnRbMF0pO2Z1bmN0aW9uIGRsKHQpe2NvbnN0IGU9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IobGV0IG49MDtuPDQ7bisrKXtjb25zdCBpPWNvW3Rbbl1dO2VbaV09KGVbaV0/PzApKzF9cmV0dXJuIHRbNF09PXRbNV0mJihlW2ZsW3RbNF1dXT0yKSxlfWZ1bmN0aW9uIG1sKHQsZSxuLGkpe2NvbnN0IG89e307Zm9yKGxldCBhPTA7YTw0O2ErKyl7Y29uc3Qgcj1pW2FdO2lmKG9bcl0pY29udGludWU7b1tyXT0hMDtjb25zdCBjPWNvW3JdLGw9bltjXT8/MDtpZihsPj0yKXtjb25zdCBmPUd0W3JdO2w+PTImJmYucDJjJiZmLnAyYyh0LGUpLGw+PTQmJmYucDRjJiZmLnA0Yyh0LGUpfX1pZihpWzRdPT1pWzVdKXtjb25zdCBhPWxvW2lbNF1dO2EucDJjJiZhLnAyYyh0LGUpfX1mdW5jdGlvbiBwbCh0LGUpe2NvbnN0IG49dC5hLGk9ZS5jaGFyYWN0ZXJTdGF0c0JyZWFrZG93bi5iYXNlLG89ZS5jaGFyYWN0ZXJTdGF0c0JyZWFrZG93bi5saWdodENvbmUsYT1lLmNoYXJhY3RlclN0YXRzQnJlYWtkb3duLnRyYWNlcztzd2l0Y2gobltzLkVMRU1FTlRBTF9ETUddPTAsZS5lbGVtZW50YWxEYW1hZ2VUeXBlKXtjYXNlIHAuUGh5c2ljYWxfRE1HOm5bcy5FTEVNRU5UQUxfRE1HXT1KKHAuUGh5c2ljYWxfRE1HLGksbyxhLHQsMCk7YnJlYWs7Y2FzZSBwLkZpcmVfRE1HOm5bcy5FTEVNRU5UQUxfRE1HXT1KKHAuRmlyZV9ETUcsaSxvLGEsdCwwKTticmVhaztjYXNlIHAuSWNlX0RNRzpuW3MuRUxFTUVOVEFMX0RNR109SihwLkljZV9ETUcsaSxvLGEsdCwwKTticmVhaztjYXNlIHAuTGlnaHRuaW5nX0RNRzpuW3MuRUxFTUVOVEFMX0RNR109SihwLkxpZ2h0bmluZ19ETUcsaSxvLGEsdCwwKTticmVhaztjYXNlIHAuV2luZF9ETUc6bltzLkVMRU1FTlRBTF9ETUddPUoocC5XaW5kX0RNRyxpLG8sYSx0LDApO2JyZWFrO2Nhc2UgcC5RdWFudHVtX0RNRzpuW3MuRUxFTUVOVEFMX0RNR109SihwLlF1YW50dW1fRE1HLGksbyxhLHQsMCk7YnJlYWs7Y2FzZSBwLkltYWdpbmFyeV9ETUc6bltzLkVMRU1FTlRBTF9ETUddPUoocC5JbWFnaW5hcnlfRE1HLGksbyxhLHQsMCk7YnJlYWt9fWZ1bmN0aW9uIGdsKHQsZSl7Y29uc3Qgbj1lLmNoYXJhY3RlclN0YXRzQnJlYWtkb3duLmJhc2UsaT1lLmNoYXJhY3RlclN0YXRzQnJlYWtkb3duLmxpZ2h0Q29uZSxvPWUuY2hhcmFjdGVyU3RhdHNCcmVha2Rvd24udHJhY2VzLGE9dC5hO2Fbcy5TUERdPXF0KHAuU1BELHAuU1BEX1AsZS5iYXNlU1BELGksbyx0LDApLGFbcy5IUF09cXQocC5IUCxwLkhQX1AsZS5iYXNlSFAsaSxvLHQsMCksYVtzLkFUS109cXQocC5BVEsscC5BVEtfUCxlLmJhc2VBVEssaSxvLHQsMCksYVtzLkRFRl09cXQocC5ERUYscC5ERUZfUCxlLmJhc2VERUYsaSxvLHQsMCksYVtzLkNSXT1KKHAuQ1IsbixpLG8sdCwwKSxhW3MuQ0RdPUoocC5DRCxuLGksbyx0LDApLGFbcy5FSFJdPUoocC5FSFIsbixpLG8sdCwwKSxhW3MuUkVTXT1KKHAuUkVTLG4saSxvLHQsMCksYVtzLkJFXT1KKHAuQkUsbixpLG8sdCwwKSxhW3MuRVJSXT1KKHAuRVJSLG4saSxvLHQsMCksYVtzLk9IQl09SihwLk9IQixuLGksbyx0LDApfWZ1bmN0aW9uIGhsKHQsZSxuKXtjb25zdCBpPW4ubGlnaHRDb25lQ29uZGl0aW9uYWxDb250cm9sbGVyLG89bi5jaGFyYWN0ZXJDb25kaXRpb25hbENvbnRyb2xsZXI7aS5jYWxjdWxhdGVCYXNpY0VmZmVjdHMmJmkuY2FsY3VsYXRlQmFzaWNFZmZlY3RzKHQsZSxuKSxvLmNhbGN1bGF0ZUJhc2ljRWZmZWN0cyYmby5jYWxjdWxhdGVCYXNpY0VmZmVjdHModCxlLG4pfWZ1bmN0aW9uIEVsKHQsZSxuKXtjb25zdCBpPWUuc2V0Q29uZGl0aW9uYWxzLG89dC5hLGE9dC5jLHI9YS5zZXRzLGM9YS5zZXRzQXJyYXksbD1uLmNvbWJhdEJ1ZmZzO2lmKG9bcy5BVEtdKz1hLmFbcy5BVEtdK2wuQVRLK2wuQVRLX1Aqbi5iYXNlQVRLLG9bcy5ERUZdKz1hLmFbcy5ERUZdK2wuREVGK2wuREVGX1Aqbi5iYXNlREVGLG9bcy5IUF0rPWEuYVtzLkhQXStsLkhQK2wuSFBfUCpuLmJhc2VIUCxvW3MuU1BEXSs9YS5hW3MuU1BEXStsLlNQRCtsLlNQRF9QKm4uYmFzZVNQRCxvW3MuQ0RdKz1hLmFbcy5DRF0rbC5DRCxvW3MuQ1JdKz1hLmFbcy5DUl0rbC5DUixvW3MuQkVdKz1hLmFbcy5CRV0rbC5CRSxvW3MuRUhSXSs9YS5hW3MuRUhSXSxvW3MuUkVTXSs9YS5hW3MuUkVTXSxvW3MuRVJSXSs9YS5hW3MuRVJSXSxvW3MuT0hCXSs9YS5hW3MuT0hCXSxvW3MuQkFTRV9BVEtdPW4uYmFzZUFUSyxvW3MuQkFTRV9ERUZdPW4uYmFzZURFRixvW3MuQkFTRV9IUF09bi5iYXNlSFAsb1tzLkJBU0VfU1BEXT1uLmJhc2VTUEQsdC5hW3MuTUVNT1NQUklURV0pe2NvbnN0IGY9dC5tLmMsdT10Lm0uYy5hLGQ9dC5tLmE7dVtzLkFUS109dC5hW3MuTUVNT19CQVNFX0FUS19TQ0FMSU5HXSphLmFbcy5BVEtdK3QuYVtzLk1FTU9fQkFTRV9BVEtfRkxBVF0sdVtzLkRFRl09dC5hW3MuTUVNT19CQVNFX0RFRl9TQ0FMSU5HXSphLmFbcy5ERUZdK3QuYVtzLk1FTU9fQkFTRV9ERUZfRkxBVF0sdVtzLkhQXT10LmFbcy5NRU1PX0JBU0VfSFBfU0NBTElOR10qYS5hW3MuSFBdK3QuYVtzLk1FTU9fQkFTRV9IUF9GTEFUXSx1W3MuU1BEXT10LmFbcy5NRU1PX0JBU0VfU1BEX1NDQUxJTkddKmEuYVtzLlNQRF0rdC5hW3MuTUVNT19CQVNFX1NQRF9GTEFUXSxkW3MuQkFTRV9BVEtdPWYuYVtzLkFUS10sZFtzLkJBU0VfREVGXT1mLmFbcy5ERUZdLGRbcy5CQVNFX0hQXT1mLmFbcy5IUF0sZFtzLkJBU0VfU1BEXT1mLmFbcy5TUERdLGRbcy5BVEtdKz1mLmFbcy5BVEtdLGRbcy5ERUZdKz1mLmFbcy5ERUZdLGRbcy5IUF0rPWYuYVtzLkhQXSxkW3MuU1BEXSs9Zi5hW3MuU1BEXSxkW3MuQ0RdKz1hLmFbcy5DRF0sZFtzLkNSXSs9YS5hW3MuQ1JdLGRbcy5CRV0rPWEuYVtzLkJFXSxkW3MuRUhSXSs9YS5hW3MuRUhSXSxkW3MuUkVTXSs9YS5hW3MuUkVTXSxkW3MuRVJSXSs9YS5hW3MuRVJSXSxkW3MuT0hCXSs9YS5hW3MuT0hCXX1pZihvW3MuRUxFTUVOVEFMX0RNR10rPWwuRE1HX0JPT1NULG9bcy5FRkZFQ1RfUkVTX1BFTl0rPWwuRUZGRUNUX1JFU19QRU4sb1tzLlZVTE5FUkFCSUxJVFldKz1sLlZVTE5FUkFCSUxJVFksb1tzLkJSRUFLX0VGRklDSUVOQ1lfQk9PU1RdKz1sLkJSRUFLX0VGRklDSUVOQ1ksd24odCxuLmVsZW1lbnRhbERhbWFnZVR5cGUsYS5hW3MuRUxFTUVOVEFMX0RNR10pLHQuYVtzLk1FTU9TUFJJVEVdJiZ3bih0Lm0sbi5lbGVtZW50YWxEYW1hZ2VUeXBlLGEuYVtzLkVMRU1FTlRBTF9ETUddKSxDbCh0LG4saSxyLGMpLG9bcy5TUERdKz1vW3MuU1BEX1BdKm4uYmFzZVNQRCxvW3MuQVRLXSs9b1tzLkFUS19QXSpuLmJhc2VBVEssb1tzLkRFRl0rPW9bcy5ERUZfUF0qbi5iYXNlREVGLG9bcy5IUF0rPW9bcy5IUF9QXSpuLmJhc2VIUCx0LmFbcy5NRU1PU1BSSVRFXSl7Y29uc3QgZj10Lm0uYTtmW3MuU1BEXSs9ZltzLlNQRF9QXSpmW3MuQkFTRV9TUERdLGZbcy5BVEtdKz1mW3MuQVRLX1BdKmZbcy5CQVNFX0FUS10sZltzLkRFRl0rPWZbcy5ERUZfUF0qZltzLkJBU0VfREVGXSxmW3MuSFBdKz1mW3MuSFBfUF0qZltzLkJBU0VfSFBdfWNbNF09PWNbNV0mJihGKEcuU3BhY2VTZWFsaW5nU3RhdGlvbixyKSYmWSh1byx0LGUsbiksRihHLkZsZWV0T2ZUaGVBZ2VsZXNzLHIpJiZZKGZvLHQsZSxuKSxGKEcuQmVsb2JvZ09mVGhlQXJjaGl0ZWN0cyxyKSYmWShtbyx0LGUsbiksRihHLlBhbkNvc21pY0NvbW1lcmNpYWxFbnRlcnByaXNlLHIpJiZZKHBvLHQsZSxuKSxGKEcuQnJva2VuS2VlbCxyKSYmWShnbyx0LGUsbiksRihHLlRhbGlhS2luZ2RvbU9mQmFuZGl0cnkscikmJlkoaG8sdCxlLG4pLEYoRy5Cb25lQ29sbGVjdGlvbnNTZXJlbmVEZW1lc25lLHIpJiZZKERvLHQsZSxuKSxGKEcuR2lhbnRUcmVlT2ZSYXB0QnJvb2RpbmcscikmJlkoRW8sdCxlLG4pLEYoRy5HaWFudFRyZWVPZlJhcHRCcm9vZGluZyxyKSYmWShDbyx0LGUsbikpO2Zvcihjb25zdCBmIG9mIG4uY2hhcmFjdGVyQ29uZGl0aW9uYWxDb250cm9sbGVyLmR5bmFtaWNDb25kaXRpb25hbHM/P1tdKVkoZix0LGUsbik7Zm9yKGNvbnN0IGYgb2Ygbi5saWdodENvbmVDb25kaXRpb25hbENvbnRyb2xsZXIuZHluYW1pY0NvbmRpdGlvbmFscz8/W10pWShmLHQsZSxuKTtmb3IoY29uc3QgZiBvZiBlLnRlYW1tYXRlRHluYW1pY0NvbmRpdGlvbmFscz8/W10pWShmLHQsZSxuKTtyZXR1cm4gY1s0XT09Y1s1XSYmKEYoRy5GaXJtYW1lbnRGcm9udGxpbmVHbGFtb3RoLHIpJiZ0LmFbcy5TUERdPj0xMzUmJnQuRUxFTUVOVEFMX0RNRy5idWZmKHQuYVtzLlNQRF0+PTE2MD8uMTg6LjEyLGguRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aCksRihHLlJ1dGlsYW50QXJlbmEscikmJnQuYVtzLkNSXT49LjcmJkEodCxwdHxXLC4yLGguUnV0aWxhbnRBcmVuYSksRihHLkluZXJ0U2Fsc290dG8scikmJnQuYVtzLkNSXT49LjUmJkEodCwkfGV0LC4xNSxoLkluZXJ0U2Fsc290dG8pKSxEbChHLklyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2UscikmJnQuYVtzLkJFXT49MS41JiYoRHQodCx3dCwuMSxoLklyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2UpLER0KHQsZW8sdC5hW3MuQkVdPj0yLjU/LjE1OjAsaC5Jcm9uQ2F2YWxyeUFnYWluc3RUaGVTY291cmdlKSksdH1mdW5jdGlvbiBDbCh0LGUsbixpLG8pe2NvbnN0W2EscixjLGwsZix1XT1vO2lmKGY9PXUpe2NvbnN0IGQ9bG9bZl07ZC5wMngmJmQucDJ4KHQsZSxuKX1pZihhPT09ciYmcj09PWMmJmM9PT1sKXtjb25zdCBkPUd0W2FdO2QucDJ4JiZkLnAyeCh0LGUsbiksZC5wNHgmJmQucDR4KHQsZSxuKTtyZXR1cm59aWYoYT09PXJ8fGE9PT1jfHxhPT09bCl7Y29uc3QgZD1HdFthXTtkLnAyeCYmZC5wMngodCxlLG4pfWlmKChyPT09Y3x8cj09PWwpJiZyIT09YSl7Y29uc3QgZD1HdFtyXTtkLnAyeCYmZC5wMngodCxlLG4pfWlmKGM9PT1sJiZjIT09YSYmYyE9PXIpe2NvbnN0IGQ9R3RbY107ZC5wMngmJmQucDJ4KHQsZSxuKX19ZnVuY3Rpb24gRih0LGUpe3JldHVybiBlW3RdPj4xfWZ1bmN0aW9uIERsKHQsZSl7cmV0dXJuIGVbdF0+PjJ9ZnVuY3Rpb24gU2wodCxlLG4saSxvLGEscixjKXtjb25zdCBsPXQuYTtpZihlIT1udWxsJiZlLmNvbmRlbnNlZFN0YXRzKWZvcihjb25zdCBmIG9mIGUuY29uZGVuc2VkU3RhdHMpbFtmWzBdXSs9ZlsxXTtpZihuIT1udWxsJiZuLmNvbmRlbnNlZFN0YXRzKWZvcihjb25zdCBmIG9mIG4uY29uZGVuc2VkU3RhdHMpbFtmWzBdXSs9ZlsxXTtpZihpIT1udWxsJiZpLmNvbmRlbnNlZFN0YXRzKWZvcihjb25zdCBmIG9mIGkuY29uZGVuc2VkU3RhdHMpbFtmWzBdXSs9ZlsxXTtpZihvIT1udWxsJiZvLmNvbmRlbnNlZFN0YXRzKWZvcihjb25zdCBmIG9mIG8uY29uZGVuc2VkU3RhdHMpbFtmWzBdXSs9ZlsxXTtpZihhIT1udWxsJiZhLmNvbmRlbnNlZFN0YXRzKWZvcihjb25zdCBmIG9mIGEuY29uZGVuc2VkU3RhdHMpbFtmWzBdXSs9ZlsxXTtpZihyIT1udWxsJiZyLmNvbmRlbnNlZFN0YXRzKWZvcihjb25zdCBmIG9mIHIuY29uZGVuc2VkU3RhdHMpbFtmWzBdXSs9ZlsxXTt0LnNldFdlaWdodChlLndlaWdodFNjb3JlK24ud2VpZ2h0U2NvcmUraS53ZWlnaHRTY29yZStvLndlaWdodFNjb3JlK2Eud2VpZ2h0U2NvcmUrci53ZWlnaHRTY29yZSl9ZnVuY3Rpb24gSih0LGUsbixpLG8sYSl7cmV0dXJuIGVbdF0rblt0XStvLmFba2VbdF1dK2lbdF0rYX1mdW5jdGlvbiBxdCh0LGUsbixpLG8sYSxyKXtyZXR1cm4gbiooMStyK2EuYVtrZVtlXV0rb1tlXStpW2VdKSthLmFba2VbdF1dK29bdF19Y29uc3QgdW89e2lkOiJTcGFjZVNlYWxpbmdTdGF0aW9uQ29uZGl0aW9uYWwiLHR5cGU6bnQuU0VULGFjdGl2YXRpb246US5TSU5HTEUsZGVwZW5kc09uOltwLlNQRF0sY2hhaW5zVG86W3AuQVRLXSxjb25kaXRpb246ZnVuY3Rpb24odCxlLG4pe3JldHVybiBGKEcuU3BhY2VTZWFsaW5nU3RhdGlvbix0LmMuc2V0cykmJnQuYVtzLlNQRF0+PTEyMH0sZWZmZWN0Oih0LGUsbik9Pnt0LkFUSy5idWZmRHluYW1pYyguMTIqbi5iYXNlQVRLLGguU3BhY2VTZWFsaW5nU3RhdGlvbixlLG4pfSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gb3QodGhpcyxgCmlmICgKICBwMigoKnBfc2V0cykuU3BhY2VTZWFsaW5nU3RhdGlvbikgPj0gMSAmJgogICgqcF9zdGF0ZSkuU3BhY2VTZWFsaW5nU3RhdGlvbkNvbmRpdGlvbmFsID09IDAuMCAmJgogIHguU1BEID49IDEyMAopIHsKICAoKnBfc3RhdGUpLlNwYWNlU2VhbGluZ1N0YXRpb25Db25kaXRpb25hbCA9IDEuMDsKICAoKnBfeCkuQVRLICs9IDAuMTIgKiBiYXNlQVRLOwp9CiAgICBgKX19LGZvPXtpZDoiRmxlZXRPZlRoZUFnZWxlc3NDb25kaXRpb25hbCIsdHlwZTpudC5TRVQsYWN0aXZhdGlvbjpRLlNJTkdMRSxkZXBlbmRzT246W3AuU1BEXSxjaGFpbnNUbzpbcC5BVEtdLGNvbmRpdGlvbjpmdW5jdGlvbih0LGUsbil7cmV0dXJuIEYoRy5GbGVldE9mVGhlQWdlbGVzcyx0LmMuc2V0cykmJnQuYVtzLlNQRF0+PTEyMH0sZWZmZWN0Oih0LGUsbik9Pnt0LkFUSy5idWZmRHluYW1pYyguMDgqdC5hW3MuQkFTRV9BVEtdLGguRmxlZXRPZlRoZUFnZWxlc3MsZSxuKSx0LmFbcy5NRU1PU1BSSVRFXSYmdC5tLkFUSy5idWZmRHluYW1pYyguMDgqdC5hW3MuQkFTRV9BVEtdLGguRmxlZXRPZlRoZUFnZWxlc3MsZSxuKX0sZ3B1OmZ1bmN0aW9uKCl7cmV0dXJuIG90KHRoaXMsYAppZiAoCiAgcDIoKCpwX3NldHMpLkZsZWV0T2ZUaGVBZ2VsZXNzKSA+PSAxICYmCiAgKCpwX3N0YXRlKS5GbGVldE9mVGhlQWdlbGVzc0NvbmRpdGlvbmFsID09IDAuMCAmJgogIHguU1BEID49IDEyMAopIHsKICAoKnBfc3RhdGUpLkZsZWV0T2ZUaGVBZ2VsZXNzQ29uZGl0aW9uYWwgPSAxLjA7CiAgKCpwX3gpLkFUSyArPSAwLjA4ICogYmFzZUFUSzsKICAoKnBfbSkuQVRLICs9IDAuMDggKiBiYXNlQVRLOwp9CiAgICBgKX19LG1vPXtpZDoiQmVsb2JvZ09mVGhlQXJjaGl0ZWN0c0NvbmRpdGlvbmFsIix0eXBlOm50LlNFVCxhY3RpdmF0aW9uOlEuU0lOR0xFLGRlcGVuZHNPbjpbcC5FSFJdLGNoYWluc1RvOltwLkRFRl0sY29uZGl0aW9uOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gRihHLkJlbG9ib2dPZlRoZUFyY2hpdGVjdHMsdC5jLnNldHMpJiZ0LmFbcy5FSFJdPj0uNX0sZWZmZWN0Oih0LGUsbik9Pnt0LkRFRi5idWZmRHluYW1pYyguMTUqbi5iYXNlREVGLGguQmVsb2JvZ09mVGhlQXJjaGl0ZWN0cyxlLG4pfSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gb3QodGhpcyxgCmlmICgKICBwMigoKnBfc2V0cykuQmVsb2JvZ09mVGhlQXJjaGl0ZWN0cykgPj0gMSAmJgogICgqcF9zdGF0ZSkuQmVsb2JvZ09mVGhlQXJjaGl0ZWN0c0NvbmRpdGlvbmFsID09IDAuMCAmJgogIHguRUhSID49IDAuNTAKKSB7CiAgKCpwX3N0YXRlKS5CZWxvYm9nT2ZUaGVBcmNoaXRlY3RzQ29uZGl0aW9uYWwgPSAxLjA7CiAgKCpwX3gpLkRFRiArPSAwLjE1ICogYmFzZURFRjsKfQogICAgYCl9fSxwbz17aWQ6IlBhbkNvc21pY0NvbW1lcmNpYWxFbnRlcnByaXNlQ29uZGl0aW9uYWwiLHR5cGU6bnQuU0VULGFjdGl2YXRpb246US5DT05USU5VT1VTLGRlcGVuZHNPbjpbcC5FSFJdLGNoYWluc1RvOltwLkFUS10sY29uZGl0aW9uOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gRihHLlBhbkNvc21pY0NvbW1lcmNpYWxFbnRlcnByaXNlLHQuYy5zZXRzKX0sZWZmZWN0OmZ1bmN0aW9uKHQsZSxuKXtjb25zdCBpPWUuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxvPU1hdGgubWluKC4yNSwuMjUqdC5hW3MuRUhSXSkqbi5iYXNlQVRLO3JldHVybiBlLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09byx0LkFUSy5idWZmRHluYW1pYyhvLWksaC5QYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZSxlLG4pLG99LGdwdTpmdW5jdGlvbigpe3JldHVybiBvdCh0aGlzLGAKaWYgKAogIHAyKCgqcF9zZXRzKS5QYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZSkgPj0gMQopIHsKICBsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5QYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZUNvbmRpdGlvbmFsOwogIGxldCBidWZmVmFsdWU6IGYzMiA9IG1pbigwLjI1LCAwLjI1ICogeC5FSFIpICogYmFzZUFUSzsKCiAgKCpwX3N0YXRlKS5QYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZUNvbmRpdGlvbmFsID0gYnVmZlZhbHVlOwogICgqcF94KS5BVEsgKz0gYnVmZlZhbHVlIC0gc3RhdGVWYWx1ZTsKfQogICAgYCl9fSxnbz17aWQ6IkJyb2tlbktlZWxDb25kaXRpb25hbCIsdHlwZTpudC5TRVQsYWN0aXZhdGlvbjpRLlNJTkdMRSxkZXBlbmRzT246W3AuUkVTXSxjaGFpbnNUbzpbcC5DRF0sY29uZGl0aW9uOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gRihHLkJyb2tlbktlZWwsdC5jLnNldHMpJiZ0LmFbcy5SRVNdPj0uM30sZWZmZWN0OmZ1bmN0aW9uKHQsZSxuKXt0LkNELmJ1ZmZEeW5hbWljKC4xLGguQnJva2VuS2VlbCxlLG4pLHQuYVtzLk1FTU9TUFJJVEVdJiZ0Lm0uQ0QuYnVmZkR5bmFtaWMoLjEsaC5Ccm9rZW5LZWVsLGUsbil9LGdwdTpmdW5jdGlvbigpe3JldHVybiBvdCh0aGlzLGAKaWYgKAogIHAyKCgqcF9zZXRzKS5Ccm9rZW5LZWVsKSA+PSAxICYmCiAgKCpwX3N0YXRlKS5Ccm9rZW5LZWVsQ29uZGl0aW9uYWwgPT0gMC4wICYmCiAgeC5SRVMgPj0gMC4zMAopIHsKICAoKnBfc3RhdGUpLkJyb2tlbktlZWxDb25kaXRpb25hbCA9IDEuMDsKICAoKnBfeCkuQ0QgKz0gMC4xMDsKICAoKnBfbSkuQ0QgKz0gMC4xMDsKfQogICAgYCl9fSxobz17aWQ6IlRhbGlhS2luZ2RvbU9mQmFuZGl0cnlDb25kaXRpb25hbCIsdHlwZTpudC5TRVQsYWN0aXZhdGlvbjpRLlNJTkdMRSxkZXBlbmRzT246W3AuU1BEXSxjaGFpbnNUbzpbcC5CRV0sY29uZGl0aW9uOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gRihHLlRhbGlhS2luZ2RvbU9mQmFuZGl0cnksdC5jLnNldHMpJiZ0LmFbcy5TUERdPj0xNDV9LGVmZmVjdDpmdW5jdGlvbih0LGUsbil7dC5CRS5idWZmRHluYW1pYyguMixoLlRhbGlhS2luZ2RvbU9mQmFuZGl0cnksZSxuKX0sZ3B1OmZ1bmN0aW9uKCl7cmV0dXJuIG90KHRoaXMsYAppZiAoCiAgcDIoKCpwX3NldHMpLlRhbGlhS2luZ2RvbU9mQmFuZGl0cnkpID49IDEgJiYKICAoKnBfc3RhdGUpLlRhbGlhS2luZ2RvbU9mQmFuZGl0cnlDb25kaXRpb25hbCA9PSAwLjAgJiYKICB4LlNQRCA+PSAxNDUKKSB7CiAgKCpwX3N0YXRlKS5UYWxpYUtpbmdkb21PZkJhbmRpdHJ5Q29uZGl0aW9uYWwgPSAxLjA7CiAgKCpwX3gpLkJFICs9IDAuMjA7Cn0KICAgIGApfX0sRW89e2lkOiJHaWFudFRyZWVPZlJhcHRCcm9vZGluZzEzNUNvbmRpdGlvbmFsIix0eXBlOm50LlNFVCxhY3RpdmF0aW9uOlEuU0lOR0xFLGRlcGVuZHNPbjpbcC5TUERdLGNoYWluc1RvOltwLk9IQl0sY29uZGl0aW9uOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gRihHLkdpYW50VHJlZU9mUmFwdEJyb29kaW5nLHQuYy5zZXRzKSYmdC5hW3MuU1BEXT49MTM1fSxlZmZlY3Q6KHQsZSxuKT0+e3QuT0hCLmJ1ZmZEeW5hbWljKC4xMixoLkdpYW50VHJlZU9mUmFwdEJyb29kaW5nLGUsbiksdC5tLk9IQi5idWZmRHluYW1pYyguMTIsaC5HaWFudFRyZWVPZlJhcHRCcm9vZGluZyxlLG4pfSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gb3QodGhpcyxgCmlmICgKICBwMigoKnBfc2V0cykuR2lhbnRUcmVlT2ZSYXB0QnJvb2RpbmcpID49IDEgJiYKICAoKnBfc3RhdGUpLkdpYW50VHJlZU9mUmFwdEJyb29kaW5nMTM1Q29uZGl0aW9uYWwgPT0gMC4wICYmCiAgeC5TUEQgPj0gMTM1CikgewogICgqcF9zdGF0ZSkuR2lhbnRUcmVlT2ZSYXB0QnJvb2RpbmcxMzVDb25kaXRpb25hbCA9IDEuMDsKICAoKnBfeCkuT0hCICs9IDAuMTI7CiAgKCpwX20pLk9IQiArPSAwLjEyOwp9CiAgICBgKX19LENvPXtpZDoiR2lhbnRUcmVlT2ZSYXB0QnJvb2RpbmcxODBDb25kaXRpb25hbCIsdHlwZTpudC5TRVQsYWN0aXZhdGlvbjpRLlNJTkdMRSxkZXBlbmRzT246W3AuU1BEXSxjaGFpbnNUbzpbcC5PSEJdLGNvbmRpdGlvbjpmdW5jdGlvbih0LGUsbil7cmV0dXJuIEYoRy5HaWFudFRyZWVPZlJhcHRCcm9vZGluZyx0LmMuc2V0cykmJnQuYVtzLlNQRF0+PTE4MH0sZWZmZWN0Oih0LGUsbik9Pnt0Lk9IQi5idWZmRHluYW1pYyguMDgsaC5HaWFudFRyZWVPZlJhcHRCcm9vZGluZyxlLG4pLHQubS5PSEIuYnVmZkR5bmFtaWMoLjA4LGguR2lhbnRUcmVlT2ZSYXB0QnJvb2RpbmcsZSxuKX0sZ3B1OmZ1bmN0aW9uKCl7cmV0dXJuIG90KHRoaXMsYAppZiAoCiAgcDIoKCpwX3NldHMpLkdpYW50VHJlZU9mUmFwdEJyb29kaW5nKSA+PSAxICYmCiAgKCpwX3N0YXRlKS5HaWFudFRyZWVPZlJhcHRCcm9vZGluZzE4MENvbmRpdGlvbmFsID09IDAuMCAmJgogIHguU1BEID49IDE4MAopIHsKICAoKnBfc3RhdGUpLkdpYW50VHJlZU9mUmFwdEJyb29kaW5nMTgwQ29uZGl0aW9uYWwgPSAxLjA7CiAgKCpwX3gpLk9IQiArPSAwLjA4OwogICgqcF9tKS5PSEIgKz0gMC4wODsKfQogICAgYCl9fSxEbz17aWQ6IkJvbmVDb2xsZWN0aW9uc1NlcmVuZURlbWVzbmVDb25kaXRpb25hbCIsdHlwZTpudC5TRVQsYWN0aXZhdGlvbjpRLlNJTkdMRSxkZXBlbmRzT246W3AuSFBdLGNoYWluc1RvOltwLkNEXSxjb25kaXRpb246ZnVuY3Rpb24odCxlLG4pe3JldHVybiBGKEcuQm9uZUNvbGxlY3Rpb25zU2VyZW5lRGVtZXNuZSx0LmMuc2V0cykmJnQuYVtzLkhQXT49NWUzfSxlZmZlY3Q6KHQsZSxuKT0+e3QuQ0QuYnVmZkJhc2VEdWFsRHluYW1pYyguMjgsaC5Cb25lQ29sbGVjdGlvbnNTZXJlbmVEZW1lc25lLGUsbil9LGdwdTpmdW5jdGlvbigpe3JldHVybiBvdCh0aGlzLGAKaWYgKAogIHAyKCgqcF9zZXRzKS5Cb25lQ29sbGVjdGlvbnNTZXJlbmVEZW1lc25lKSA+PSAxICYmCiAgKCpwX3N0YXRlKS5Cb25lQ29sbGVjdGlvbnNTZXJlbmVEZW1lc25lQ29uZGl0aW9uYWwgPT0gMC4wICYmCiAgeC5IUCA+PSA1MDAwCikgewogICgqcF9zdGF0ZSkuQm9uZUNvbGxlY3Rpb25zU2VyZW5lRGVtZXNuZUNvbmRpdGlvbmFsID0gMS4wOwogICgqcF94KS5DRCArPSAwLjI4OwogICgqcF9tKS5DRCArPSAwLjI4Owp9CiAgICBgKX19LF9sPVt1byxmbyxtbyxwbyxnbyxobyxFbyxDbyxEb107ZnVuY3Rpb24gQmwodCxlKXtjb25zdCBuPW9lLmdldChlKSxpPXNvLmdldChlKSxvPWJsKCk7bmUobyxpLmR5bmFtaWNDb25kaXRpb25hbHM/P1tdKSxuZShvLG4uZHluYW1pY0NvbmRpdGlvbmFscz8/W10pLG5lKG8sX2x8fFtdKSxNZShvLGUudGVhbW1hdGUwTWV0YWRhdGEsdCwwKSxNZShvLGUudGVhbW1hdGUxTWV0YWRhdGEsdCwxKSxNZShvLGUudGVhbW1hdGUyTWV0YWRhdGEsdCwyKSx0LmNvbmRpdGlvbmFsUmVnaXN0cnk9byx0LmNvbmRpdGlvbmFsU3RhdGU9e319ZnVuY3Rpb24gTWUodCxlLG4saSl7aWYoZSl7Y29uc3QgYT0ob2UuZ2V0KGUpLnRlYW1tYXRlRHluYW1pY0NvbmRpdGlvbmFscz8/W10pLm1hcChyPT57Y29uc3QgYz1TbyhyLGkpO3JldHVybiBuLnRlYW1tYXRlRHluYW1pY0NvbmRpdGlvbmFscy5wdXNoKGMpLGN9KTtuZSh0LGEpfX1mdW5jdGlvbiBTbyh0LGUpe2NvbnN0IG49ey4uLnQsdGVhbW1hdGVJbmRleDplfTtyZXR1cm4gbi5pZCs9YF9UZWFtbWF0ZSR7ZX1gLG59ZnVuY3Rpb24gYmwoKXtyZXR1cm57W3AuSFBdOltdLFtwLkFUS106W10sW3AuREVGXTpbXSxbcC5TUERdOltdLFtwLkNSXTpbXSxbcC5DRF06W10sW3AuRUhSXTpbXSxbcC5SRVNdOltdLFtwLkJFXTpbXSxbcC5PSEJdOltdLFtwLkVSUl06W119fWZ1bmN0aW9uIG5lKHQsZSl7Zm9yKGNvbnN0IG4gb2YgZSlmb3IoY29uc3QgaSBvZiBuLmRlcGVuZHNPbil0W2ldLnB1c2gobil9ZnVuY3Rpb24gVGwodCxlLG4pe2NvbnN0IGk9bi5saWdodENvbmVDb25kaXRpb25hbENvbnRyb2xsZXIsbz1uLmNoYXJhY3RlckNvbmRpdGlvbmFsQ29udHJvbGxlcjtpLmZpbmFsaXplQ2FsY3VsYXRpb25zJiZpLmZpbmFsaXplQ2FsY3VsYXRpb25zKHQsZSxuKSxvLmZpbmFsaXplQ2FsY3VsYXRpb25zJiZvLmZpbmFsaXplQ2FsY3VsYXRpb25zKHQsZSxuKX1mdW5jdGlvbiBfbyh0LGUsbil7dC5hW3MuTUVNT1NQUklURV0mJl9vKHQubSxlLG4pO2NvbnN0IGk9bi5lbmVteUxldmVsLG89dC5hO3lsKHQsbiksT2wodCksTGwodCksb1tzLkNSXSs9b1tzLkNSX0JPT1NUXSxvW3MuQ0RdKz1vW3MuQ0RfQk9PU1RdLG9bcy5BVEtdKz1vW3MuQVRLX1BfQk9PU1RdKm4uYmFzZUFUSyxvW3MuRUxFTUVOVEFMX0RNR10rPUZhKHQsbi5lbGVtZW50YWxEYW1hZ2VUeXBlKTtjb25zdCBhPTErb1tzLkVMRU1FTlRBTF9ETUddLHI9b1tzLkRFRl9QRU5dK24uY29tYmF0QnVmZnMuREVGX1BFTixjPW9bcy5FTkVNWV9XRUFLTkVTU19CUk9LRU5dPzE6LjksbD1uLmVuZW15RGFtYWdlUmVzaXN0YW5jZS1vW3MuUkVTX1BFTl0tbi5jb21iYXRCdWZmcy5SRVNfUEVOLWthKHQsbi5lbGVtZW50YWxSZXNQZW5UeXBlKSxmPTErb1tzLkJSRUFLX0VGRklDSUVOQ1lfQk9PU1RdO29bcy5CUkVBS19ETUddPWMqMzc2Ny41NTMzKm4uZWxlbWVudGFsQnJlYWtTY2FsaW5nKk50KGkscitvW3MuQlJFQUtfREVGX1BFTl0pKiguNStuLmVuZW15TWF4VG91Z2huZXNzLzEyMCkqKDErb1tzLlZVTE5FUkFCSUxJVFldK29bcy5CUkVBS19WVUxORVJBQklMSVRZXSkqKDEtbCkqKDErb1tzLkJFXSkqKDErb1tzLkJSRUFLX0RNR19CT09TVF0pO2NvbnN0IHU9YyozNzY3LjU1MzMvMTAqTnQoaSxyK29bcy5TVVBFUl9CUkVBS19ERUZfUEVOXSkqKDErb1tzLlZVTE5FUkFCSUxJVFldK29bcy5TVVBFUl9CUkVBS19WVUxORVJBQklMSVRZXSkqKDEtbCkqKDErb1tzLkJFXSkqKDErb1tzLlNVUEVSX0JSRUFLX0RNR19CT09TVF0pO2lmKGUuYWN0aW9uVHlwZT09IkRFRkFVTFQiKXtjb25zdCBtPWErb1tzLkRPVF9ETUdfQk9PU1RdLEU9TnQoaSxyK29bcy5ET1RfREVGX1BFTl0pLEM9MStvW3MuVlVMTkVSQUJJTElUWV0rb1tzLkRPVF9WVUxORVJBQklMSVRZXSxEPTEtKGwtb1tzLkRPVF9SRVNfUEVOXSksUz1QbCh0LG4pLEk9b1tzLlRSVUVfRE1HX01PRElGSUVSXStvW3MuRE9UX1RSVUVfRE1HX01PRElGSUVSXSx5PWh0KG8sbixvW3MuRE9UX0RNR10sb1tzLkRPVF9IUF9TQ0FMSU5HXSxvW3MuRE9UX0RFRl9TQ0FMSU5HXSxvW3MuRE9UX0FUS19TQ0FMSU5HXSxvW3MuRE9UX0FUS19QX0JPT1NUXSk7b1tzLkRPVF9ETUddPU1sKHQsZSxzLkRPVF9ETUcseSxjLG0sRSxDLEQsUyxJKX1pZigoZS5hY3Rpb25UeXBlPT0iQkFTSUMifHxlLmFjdGlvblR5cGU9PSJERUZBVUxUIikmJm4uYWN0aXZlQWJpbGl0eUZsYWdzJmx0LkJBU0lDKXtjb25zdCBtPWh0KG8sbixvW3MuQkFTSUNfRE1HXSxvW3MuQkFTSUNfSFBfU0NBTElOR10sb1tzLkJBU0lDX0RFRl9TQ0FMSU5HXSxvW3MuQkFTSUNfQVRLX1NDQUxJTkddLG9bcy5CQVNJQ19BVEtfUF9CT09TVF0pO29bcy5CQVNJQ19ETUddPU90KHQsZSxuLGMsYSxyLGwsdSxmLHMuQkFTSUNfRE1HLG0sb1tzLkJBU0lDX0RNR19CT09TVF0sb1tzLkJBU0lDX1ZVTE5FUkFCSUxJVFldLG9bcy5CQVNJQ19ERUZfUEVOXSxvW3MuQkFTSUNfUkVTX1BFTl0sb1tzLkJBU0lDX0NSX0JPT1NUXSxvW3MuQkFTSUNfQ0RfQk9PU1RdLG9bcy5CQVNJQ19GSU5BTF9ETUdfQk9PU1RdLG9bcy5CQVNJQ19CUkVBS19FRkZJQ0lFTkNZX0JPT1NUXSxvW3MuQkFTSUNfU1VQRVJfQlJFQUtfTU9ESUZJRVJdLG9bcy5CQVNJQ19CUkVBS19ETUdfTU9ESUZJRVJdLG9bcy5CQVNJQ19UT1VHSE5FU1NfRE1HXSxvW3MuQkFTSUNfQURESVRJT05BTF9ETUddLDAsMCxvW3MuQkFTSUNfVFJVRV9ETUdfTU9ESUZJRVJdLHQuYVtzLk1FTU9TUFJJVEVdP3QubS5hW3MuQkFTSUNfRE1HXTowKX1pZigoZS5hY3Rpb25UeXBlPT0iU0tJTEwifHxlLmFjdGlvblR5cGU9PSJERUZBVUxUIikmJm4uYWN0aXZlQWJpbGl0eUZsYWdzJmx0LlNLSUxMKXtjb25zdCBtPWh0KG8sbixvW3MuU0tJTExfRE1HXSxvW3MuU0tJTExfSFBfU0NBTElOR10sb1tzLlNLSUxMX0RFRl9TQ0FMSU5HXSxvW3MuU0tJTExfQVRLX1NDQUxJTkddLG9bcy5TS0lMTF9BVEtfUF9CT09TVF0pO29bcy5TS0lMTF9ETUddPU90KHQsZSxuLGMsYSxyLGwsdSxmLHMuU0tJTExfRE1HLG0sb1tzLlNLSUxMX0RNR19CT09TVF0sb1tzLlNLSUxMX1ZVTE5FUkFCSUxJVFldLG9bcy5TS0lMTF9ERUZfUEVOXSxvW3MuU0tJTExfUkVTX1BFTl0sb1tzLlNLSUxMX0NSX0JPT1NUXSxvW3MuU0tJTExfQ0RfQk9PU1RdLG9bcy5TS0lMTF9GSU5BTF9ETUdfQk9PU1RdLDAsMCwwLG9bcy5TS0lMTF9UT1VHSE5FU1NfRE1HXSxvW3MuU0tJTExfQURESVRJT05BTF9ETUddLDAsMCxvW3MuU0tJTExfVFJVRV9ETUdfTU9ESUZJRVJdLHQuYVtzLk1FTU9TUFJJVEVdP3QubS5hW3MuU0tJTExfRE1HXTowKX1pZigoZS5hY3Rpb25UeXBlPT0iVUxUInx8ZS5hY3Rpb25UeXBlPT0iREVGQVVMVCIpJiZuLmFjdGl2ZUFiaWxpdHlGbGFncyZsdC5VTFQpe2NvbnN0IG09aHQobyxuLG9bcy5VTFRfRE1HXSxvW3MuVUxUX0hQX1NDQUxJTkddLG9bcy5VTFRfREVGX1NDQUxJTkddLG9bcy5VTFRfQVRLX1NDQUxJTkddLG9bcy5VTFRfQVRLX1BfQk9PU1RdKTtvW3MuVUxUX0RNR109T3QodCxlLG4sYyxhLHIsbCx1LGYscy5VTFRfRE1HLG0sb1tzLlVMVF9ETUdfQk9PU1RdLG9bcy5VTFRfVlVMTkVSQUJJTElUWV0sb1tzLlVMVF9ERUZfUEVOXSxvW3MuVUxUX1JFU19QRU5dLG9bcy5VTFRfQ1JfQk9PU1RdLG9bcy5VTFRfQ0RfQk9PU1RdLG9bcy5VTFRfRklOQUxfRE1HX0JPT1NUXSxvW3MuVUxUX0JSRUFLX0VGRklDSUVOQ1lfQk9PU1RdLDAsMCxvW3MuVUxUX1RPVUdITkVTU19ETUddLG9bcy5VTFRfQURESVRJT05BTF9ETUddLG9bcy5VTFRfQURESVRJT05BTF9ETUdfQ1JfT1ZFUlJJREVdLG9bcy5VTFRfQURESVRJT05BTF9ETUdfQ0RfT1ZFUlJJREVdLG9bcy5VTFRfVFJVRV9ETUdfTU9ESUZJRVJdLHQuYVtzLk1FTU9TUFJJVEVdP3QubS5hW3MuVUxUX0RNR106MCl9aWYoKGUuYWN0aW9uVHlwZT09IkZVQSJ8fGUuYWN0aW9uVHlwZT09IkRFRkFVTFQiKSYmbi5hY3RpdmVBYmlsaXR5RmxhZ3MmbHQuRlVBKXtjb25zdCBtPWh0KG8sbixvW3MuRlVBX0RNR10sb1tzLkZVQV9IUF9TQ0FMSU5HXSxvW3MuRlVBX0RFRl9TQ0FMSU5HXSxvW3MuRlVBX0FUS19TQ0FMSU5HXSxvW3MuRlVBX0FUS19QX0JPT1NUXSk7b1tzLkZVQV9ETUddPU90KHQsZSxuLGMsYSxyLGwsdSxmLHMuRlVBX0RNRyxtLG9bcy5GVUFfRE1HX0JPT1NUXSxvW3MuRlVBX1ZVTE5FUkFCSUxJVFldLG9bcy5GVUFfREVGX1BFTl0sb1tzLkZVQV9SRVNfUEVOXSxvW3MuRlVBX0NSX0JPT1NUXSxvW3MuRlVBX0NEX0JPT1NUXSwwLDAsMCwwLG9bcy5GVUFfVE9VR0hORVNTX0RNR10sb1tzLkZVQV9BRERJVElPTkFMX0RNR10sMCwwLG9bcy5GVUFfVFJVRV9ETUdfTU9ESUZJRVJdLHQuYVtzLk1FTU9TUFJJVEVdP3QubS5hW3MuRlVBX0RNR106MCl9aWYoKGUuYWN0aW9uVHlwZT09Ik1FTU9fU0tJTEwifHxlLmFjdGlvblR5cGU9PSJERUZBVUxUIikmJm4uYWN0aXZlQWJpbGl0eUZsYWdzJmx0Lk1FTU9fU0tJTEwpaWYodC5hW3MuTUVNT1NQUklURV0pb1tzLk1FTU9fU0tJTExfRE1HXSs9dC5tLmFbcy5NRU1PX1NLSUxMX0RNR107ZWxzZXtjb25zdCBtPWh0KG8sbixvW3MuTUVNT19TS0lMTF9ETUddLG9bcy5NRU1PX1NLSUxMX0hQX1NDQUxJTkddLG9bcy5NRU1PX1NLSUxMX0RFRl9TQ0FMSU5HXSxvW3MuTUVNT19TS0lMTF9BVEtfU0NBTElOR10sb1tzLk1FTU9fU0tJTExfQVRLX1BfQk9PU1RdKTtvW3MuTUVNT19TS0lMTF9ETUddPU90KHQsZSxuLGMsYSxyLGwsdSxmLHMuTUVNT19TS0lMTF9ETUcsbSxvW3MuTUVNT19TS0lMTF9ETUdfQk9PU1RdLDAsMCwwLDAsMCwwLDAsMCwwLG9bcy5NRU1PX1NLSUxMX1RPVUdITkVTU19ETUddLDAsMCwwLG9bcy5NRU1PX1NLSUxMX1RSVUVfRE1HX01PRElGSUVSXSwwKX1pZigoZS5hY3Rpb25UeXBlPT0iTUVNT19UQUxFTlQifHxlLmFjdGlvblR5cGU9PSJERUZBVUxUIikmJm4uYWN0aXZlQWJpbGl0eUZsYWdzJmx0Lk1FTU9fVEFMRU5UKWlmKHQuYVtzLk1FTU9TUFJJVEVdKW9bcy5NRU1PX1RBTEVOVF9ETUddKz10Lm0uYVtzLk1FTU9fVEFMRU5UX0RNR107ZWxzZXtjb25zdCBtPWh0KG8sbixvW3MuTUVNT19UQUxFTlRfRE1HXSxvW3MuTUVNT19UQUxFTlRfSFBfU0NBTElOR10sb1tzLk1FTU9fVEFMRU5UX0RFRl9TQ0FMSU5HXSxvW3MuTUVNT19UQUxFTlRfQVRLX1NDQUxJTkddLG9bcy5NRU1PX1RBTEVOVF9BVEtfUF9CT09TVF0pO29bcy5NRU1PX1RBTEVOVF9ETUddPU90KHQsZSxuLGMsYSxyLGwsdSxmLHMuTUVNT19UQUxFTlRfRE1HLG0sb1tzLk1FTU9fVEFMRU5UX0RNR19CT09TVF0sMCwwLDAsMCwwLDAsMCwwLDAsb1tzLk1FTU9fVEFMRU5UX1RPVUdITkVTU19ETUddLDAsMCwwLG9bcy5NRU1PX1RBTEVOVF9UUlVFX0RNR19NT0RJRklFUl0sMCl9Y29uc3QgZD1vW3MuQlJFQUtfRE1HXSoob1tzLlRSVUVfRE1HX01PRElGSUVSXStvW3MuQlJFQUtfVFJVRV9ETUdfTU9ESUZJRVJdKTtpZih0LnRyYWNlJiZlLmFjdGlvblR5cGU9PSJERUZBVUxUIil7Y29uc3QgbT13ZVtzLkJSRUFLX0RNR10ubmFtZSxFPXQuZG1nU3BsaXRzW21dO0UuYnJlYWtEbWc9b1tzLkJSRUFLX0RNR10sRS50cnVlRG1nPWR9b1tzLkJSRUFLX0RNR10rPWR9Y29uc3QgSG49MTAwO2Z1bmN0aW9uIGh0KHQsZSxuLGksbyxhLHIpe3JldHVybiBuK2kqdFtzLkhQXStvKnRbcy5ERUZdK2EqKHRbcy5BVEtdK3IqZS5iYXNlQVRLKX1mdW5jdGlvbiBOdCh0LGUpe3JldHVybiBIbi8oKHQrMjApKk1hdGgubWF4KDAsMS1lKStIbil9ZnVuY3Rpb24geWwodCxlKXtjb25zdCBuPXQuYTtsZXQgaT1uW3MuSFBdLygxLW5bcy5ERUZdLyhuW3MuREVGXSsyMDArMTAqZS5lbmVteUxldmVsKSk7aSo9MS9uW3MuRE1HX1JFRF9NVUxUSV0sbltzLkVIUF09aX1mdW5jdGlvbiBPbCh0LGUpe2NvbnN0IG49dC5hO25bcy5IRUFMX1ZBTFVFXT1uW3MuSEVBTF9WQUxVRV0qKDErbltzLk9IQl0rbltzLlNLSUxMX09IQl0qKG5bcy5IRUFMX1RZUEVdPT1XPzE6MCkrbltzLlVMVF9PSEJdKihuW3MuSEVBTF9UWVBFXT09JD8xOjApKX1mdW5jdGlvbiBMbCh0LGUpe2NvbnN0IG49dC5hO25bcy5TSElFTERfVkFMVUVdPW5bcy5TSElFTERfVkFMVUVdKigxK25bcy5TSElFTERfQk9PU1RdKX1mdW5jdGlvbiBPdCh0LGUsbixpLG8sYSxyLGMsbCxmLHUsZCxtLEUsQyxELFMsSSx5LHYsQixPLE4sUixMLFN0LGN0KXtjb25zdCBrPXQuYSxfdD1uLmVuZW15TGV2ZWw7bGV0IHV0PTA7aWYodSl7Y29uc3QgSz1NYXRoLm1pbigxLGtbcy5DUl0rRCksaj1rW3MuQ0RdK2tbcy5DRF9CT09TVF0rUyxhdD1LKigxK2opKygxLUspLGZ0PTEra1tzLlZVTE5FUkFCSUxJVFldK20senQ9TnQoX3QsYStFKSxFZT0xLShyLUMpLCR0PTErSStrW3MuRklOQUxfRE1HX0JPT1NUXTt1dD1SbCh1LGksbytkLHp0LGZ0LGF0LEVlLCR0KX1sZXQgWD0wO0ImJihYPUIqa1tzLkJSRUFLX0RNR10pO2xldCBxPTA7Y29uc3QgaXQ9a1tzLlNVUEVSX0JSRUFLX01PRElGSUVSXSt2O2l0PjAmJihxPUFsKGMsaXQsbCt5LE8pKTtsZXQgcnQ9MDtpZihOPjApe2NvbnN0IEs9Unx8TWF0aC5taW4oMSxrW3MuQ1JdKSxqPUx8fGtbcy5DRF0sYXQ9SyooMStqKSsoMS1LKTtydD1JbChOLGksbytrW3MuQURESVRJT05BTF9ETUdfQk9PU1RdLE50KF90LGEpLDEra1tzLlZVTE5FUkFCSUxJVFldLGF0LDEtcil9Y29uc3QgSD11dCtYK3ErcnQsUD0oa1tzLlRSVUVfRE1HX01PRElGSUVSXStTdCkqSDtsZXQgeD0wO2lmKGN0PjAmJih4PWN0KSx0LnRyYWNlJiZlLmFjdGlvblR5cGU9PSJERUZBVUxUIil7Y29uc3QgSz13ZVtmXS5uYW1lLGo9dC5kbWdTcGxpdHNbS107ai5hYmlsaXR5RG1nPXV0LGouYnJlYWtEbWc9WCxqLnN1cGVyQnJlYWtEbWc9cSxqLmFkZGl0aW9uYWxEbWc9cnQsai50cnVlRG1nPVAsai5qb2ludERtZz14fXJldHVybiBIK1AreH1mdW5jdGlvbiBBbCh0LGUsbixpKXtyZXR1cm4gdCplKm4qaX1mdW5jdGlvbiBSbCh0LGUsbixpLG8sYSxyLGMpe3JldHVybiB0KmUqbippKm8qYSpyKmN9ZnVuY3Rpb24gTWwodCxlLG4saSxvLGEscixjLGwsZix1KXtjb25zdCBkPWkqbyphKnIqYypsKmYsbT1kKnU7aWYodC50cmFjZSYmZS5hY3Rpb25UeXBlPT0iREVGQVVMVCIpe2NvbnN0IEU9d2Vbbl0ubmFtZSxDPXQuZG1nU3BsaXRzW0VdO0MuZG90RG1nPWQsQy50cnVlRG1nPW19cmV0dXJuIGQrbX1mdW5jdGlvbiBQbCh0LGUpe2NvbnN0IG49dC5hLGk9ZS5lbmVteUVmZmVjdFJlc2lzdGFuY2Usbz1NYXRoLm1pbigxLG5bcy5ET1RfQ0hBTkNFXSooMStuW3MuRUhSXSkqKDEtaStuW3MuRUZGRUNUX1JFU19QRU5dKSk7cmV0dXJuIG5bcy5ET1RfU1BMSVRdPygxK25bcy5ET1RfU1BMSVRdKm8qKG5bcy5ET1RfU1RBQ0tTXS0xKSkvKDErbltzLkRPVF9TUExJVF0qKG5bcy5ET1RfU1RBQ0tTXS0xKSk6b31mdW5jdGlvbiBJbCh0LGUsbixpLG8sYSxyKXtyZXR1cm4gdCplKm4qaSpvKmEqcn1jb25zdCB2bD17QVRLOntrZXk6IkFUSyIsZ3B1UHJvcGVydHk6IkFUSyIsYmFzaWNQcm9wZXJ0eToiQVRLIixjb21iYXRQcm9wZXJ0eToiQVRLIixiYXNpY0dyaWRDb2x1bW46IkFUSyIsY29tYmF0R3JpZENvbHVtbjoieEFUSyIsbWVtb0Jhc2ljR3JpZENvbHVtbjoibUFUSyIsbWVtb0NvbWJhdEdyaWRDb2x1bW46Im14QVRLIixvcHRpbWl6ZXJLZXk6cy5BVEt9LERFRjp7a2V5OiJERUYiLGdwdVByb3BlcnR5OiJERUYiLGJhc2ljUHJvcGVydHk6IkRFRiIsY29tYmF0UHJvcGVydHk6IkRFRiIsYmFzaWNHcmlkQ29sdW1uOiJERUYiLGNvbWJhdEdyaWRDb2x1bW46InhERUYiLG1lbW9CYXNpY0dyaWRDb2x1bW46Im1BVEsiLG1lbW9Db21iYXRHcmlkQ29sdW1uOiJteEFUSyIsb3B0aW1pemVyS2V5OnMuREVGfSxIUDp7a2V5OiJIUCIsZ3B1UHJvcGVydHk6IkhQIixiYXNpY1Byb3BlcnR5OiJIUCIsY29tYmF0UHJvcGVydHk6IkhQIixiYXNpY0dyaWRDb2x1bW46IkhQIixjb21iYXRHcmlkQ29sdW1uOiJ4SFAiLG1lbW9CYXNpY0dyaWRDb2x1bW46Im1BVEsiLG1lbW9Db21iYXRHcmlkQ29sdW1uOiJteEFUSyIsb3B0aW1pemVyS2V5OnMuSFB9LFNQRDp7a2V5OiJTUEQiLGdwdVByb3BlcnR5OiJTUEQiLGJhc2ljUHJvcGVydHk6IlNQRCIsY29tYmF0UHJvcGVydHk6IlNQRCIsYmFzaWNHcmlkQ29sdW1uOiJTUEQiLGNvbWJhdEdyaWRDb2x1bW46InhTUEQiLG1lbW9CYXNpY0dyaWRDb2x1bW46Im1TUEQiLG1lbW9Db21iYXRHcmlkQ29sdW1uOiJteFNQRCIsb3B0aW1pemVyS2V5OnMuU1BEfSxDUjp7a2V5OiJDUiIsZ3B1UHJvcGVydHk6IkNSIixiYXNpY1Byb3BlcnR5OiJDUklUIFJhdGUiLGNvbWJhdFByb3BlcnR5OiJDUklUIFJhdGUiLGJhc2ljR3JpZENvbHVtbjoiQ1JJVCBSYXRlIixjb21iYXRHcmlkQ29sdW1uOiJ4Q1IiLG1lbW9CYXNpY0dyaWRDb2x1bW46Im1DUiIsbWVtb0NvbWJhdEdyaWRDb2x1bW46Im14Q1IiLG9wdGltaXplcktleTpzLkNSfSxDRDp7a2V5OiJDRCIsZ3B1UHJvcGVydHk6IkNEIixiYXNpY1Byb3BlcnR5OiJDUklUIERNRyIsY29tYmF0UHJvcGVydHk6IkNSSVQgRE1HIixiYXNpY0dyaWRDb2x1bW46IkNSSVQgRE1HIixjb21iYXRHcmlkQ29sdW1uOiJ4Q0QiLG1lbW9CYXNpY0dyaWRDb2x1bW46Im1DRCIsbWVtb0NvbWJhdEdyaWRDb2x1bW46Im14Q0QiLG9wdGltaXplcktleTpzLkNEfSxFSFI6e2tleToiRUhSIixncHVQcm9wZXJ0eToiRUhSIixiYXNpY1Byb3BlcnR5OiJFZmZlY3QgSGl0IFJhdGUiLGNvbWJhdFByb3BlcnR5OiJFZmZlY3QgSGl0IFJhdGUiLGJhc2ljR3JpZENvbHVtbjoiRWZmZWN0IEhpdCBSYXRlIixjb21iYXRHcmlkQ29sdW1uOiJ4RUhSIixtZW1vQmFzaWNHcmlkQ29sdW1uOiJtRUhSIixtZW1vQ29tYmF0R3JpZENvbHVtbjoibXhFSFIiLG9wdGltaXplcktleTpzLkVIUn0sUkVTOntrZXk6IlJFUyIsZ3B1UHJvcGVydHk6IlJFUyIsYmFzaWNQcm9wZXJ0eToiRWZmZWN0IFJFUyIsY29tYmF0UHJvcGVydHk6IkVmZmVjdCBSRVMiLGJhc2ljR3JpZENvbHVtbjoiRWZmZWN0IFJFUyIsY29tYmF0R3JpZENvbHVtbjoieFJFUyIsbWVtb0Jhc2ljR3JpZENvbHVtbjoibVJFUyIsbWVtb0NvbWJhdEdyaWRDb2x1bW46Im14UkVTIixvcHRpbWl6ZXJLZXk6cy5SRVN9LEJFOntrZXk6IkJFIixncHVQcm9wZXJ0eToiQkUiLGJhc2ljUHJvcGVydHk6IkJyZWFrIEVmZmVjdCIsY29tYmF0UHJvcGVydHk6IkJyZWFrIEVmZmVjdCIsYmFzaWNHcmlkQ29sdW1uOiJCcmVhayBFZmZlY3QiLGNvbWJhdEdyaWRDb2x1bW46InhCRSIsbWVtb0Jhc2ljR3JpZENvbHVtbjoibUJFIixtZW1vQ29tYmF0R3JpZENvbHVtbjoibXhCRSIsb3B0aW1pemVyS2V5OnMuQkV9LE9IQjp7a2V5OiJPSEIiLGdwdVByb3BlcnR5OiJPSEIiLGJhc2ljUHJvcGVydHk6Ik91dGdvaW5nIEhlYWxpbmcgQm9vc3QiLGNvbWJhdFByb3BlcnR5OiJPdXRnb2luZyBIZWFsaW5nIEJvb3N0IixiYXNpY0dyaWRDb2x1bW46Ik91dGdvaW5nIEhlYWxpbmcgQm9vc3QiLGNvbWJhdEdyaWRDb2x1bW46InhPSEIiLG1lbW9CYXNpY0dyaWRDb2x1bW46Im1PSEIiLG1lbW9Db21iYXRHcmlkQ29sdW1uOiJteE9IQiIsb3B0aW1pemVyS2V5OnMuT0hCfSxFUlI6e2tleToiRVJSIixncHVQcm9wZXJ0eToiRVJSIixiYXNpY1Byb3BlcnR5OiJFbmVyZ3kgUmVnZW5lcmF0aW9uIFJhdGUiLGNvbWJhdFByb3BlcnR5OiJFbmVyZ3kgUmVnZW5lcmF0aW9uIFJhdGUiLGJhc2ljR3JpZENvbHVtbjoiRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIixjb21iYXRHcmlkQ29sdW1uOiJ4RVJSIixtZW1vQmFzaWNHcmlkQ29sdW1uOiJtRVJSIixtZW1vQ29tYmF0R3JpZENvbHVtbjoibXhFUlIiLG9wdGltaXplcktleTpzLkVSUn0sRUxFTUVOVEFMX0RNRzp7a2V5OiJFTEVNRU5UQUxfRE1HIixncHVQcm9wZXJ0eToiRUxFTUVOVEFMX0RNRyIsYmFzaWNQcm9wZXJ0eToiRUxFTUVOVEFMX0RNRyIsY29tYmF0UHJvcGVydHk6IkVMRU1FTlRBTF9ETUciLGJhc2ljR3JpZENvbHVtbjoiRUQiLGNvbWJhdEdyaWRDb2x1bW46InhFTEVNRU5UQUxfRE1HIixtZW1vQmFzaWNHcmlkQ29sdW1uOiJtRUxFTUVOVEFMX0RNRyIsbWVtb0NvbWJhdEdyaWRDb2x1bW46Im14RUxFTUVOVEFMX0RNRyIsb3B0aW1pemVyS2V5OnMuRUxFTUVOVEFMX0RNRyxpc0NvbXB1dGVkUmF0aW5nOiEwfSxFSFA6e2tleToiRUhQIixncHVQcm9wZXJ0eToiRUhQIixiYXNpY1Byb3BlcnR5OiJFSFAiLGNvbWJhdFByb3BlcnR5OiJFSFAiLGJhc2ljR3JpZENvbHVtbjoiRUhQIixjb21iYXRHcmlkQ29sdW1uOiJFSFAiLG1lbW9CYXNpY0dyaWRDb2x1bW46Im14RUhQIixtZW1vQ29tYmF0R3JpZENvbHVtbjoibXhFSFAiLG9wdGltaXplcktleTpzLkVIUCxpc0NvbXB1dGVkUmF0aW5nOiEwfSxCQVNJQzp7a2V5OiJCQVNJQyIsZ3B1UHJvcGVydHk6IkJBU0lDX0RNRyIsYmFzaWNQcm9wZXJ0eToiQkFTSUNfRE1HIixjb21iYXRQcm9wZXJ0eToiQkFTSUNfRE1HIixiYXNpY0dyaWRDb2x1bW46IkJBU0lDIixjb21iYXRHcmlkQ29sdW1uOiJCQVNJQyIsbWVtb0Jhc2ljR3JpZENvbHVtbjoiQkFTSUMiLG1lbW9Db21iYXRHcmlkQ29sdW1uOiJCQVNJQyIsb3B0aW1pemVyS2V5OnMuQkFTSUNfRE1HLGlzQ29tcHV0ZWRSYXRpbmc6ITB9LFNLSUxMOntrZXk6IlNLSUxMIixncHVQcm9wZXJ0eToiU0tJTExfRE1HIixiYXNpY1Byb3BlcnR5OiJTS0lMTF9ETUciLGNvbWJhdFByb3BlcnR5OiJTS0lMTF9ETUciLGJhc2ljR3JpZENvbHVtbjoiU0tJTEwiLGNvbWJhdEdyaWRDb2x1bW46IlNLSUxMIixtZW1vQmFzaWNHcmlkQ29sdW1uOiJTS0lMTCIsbWVtb0NvbWJhdEdyaWRDb2x1bW46IlNLSUxMIixvcHRpbWl6ZXJLZXk6cy5TS0lMTF9ETUcsaXNDb21wdXRlZFJhdGluZzohMH0sVUxUOntrZXk6IlVMVCIsZ3B1UHJvcGVydHk6IlVMVF9ETUciLGJhc2ljUHJvcGVydHk6IlVMVF9ETUciLGNvbWJhdFByb3BlcnR5OiJVTFRfRE1HIixiYXNpY0dyaWRDb2x1bW46IlVMVCIsY29tYmF0R3JpZENvbHVtbjoiVUxUIixtZW1vQmFzaWNHcmlkQ29sdW1uOiJVTFQiLG1lbW9Db21iYXRHcmlkQ29sdW1uOiJVTFQiLG9wdGltaXplcktleTpzLlVMVF9ETUcsaXNDb21wdXRlZFJhdGluZzohMH0sRlVBOntrZXk6IkZVQSIsZ3B1UHJvcGVydHk6IkZVQV9ETUciLGJhc2ljUHJvcGVydHk6IkZVQV9ETUciLGNvbWJhdFByb3BlcnR5OiJGVUFfRE1HIixiYXNpY0dyaWRDb2x1bW46IkZVQSIsY29tYmF0R3JpZENvbHVtbjoiRlVBIixtZW1vQmFzaWNHcmlkQ29sdW1uOiJGVUEiLG1lbW9Db21iYXRHcmlkQ29sdW1uOiJGVUEiLG9wdGltaXplcktleTpzLkZVQV9ETUcsaXNDb21wdXRlZFJhdGluZzohMH0sTUVNT19TS0lMTDp7a2V5OiJNRU1PX1NLSUxMIixncHVQcm9wZXJ0eToiTUVNT19TS0lMTF9ETUciLGJhc2ljUHJvcGVydHk6Ik1FTU9fU0tJTExfRE1HIixjb21iYXRQcm9wZXJ0eToiTUVNT19TS0lMTF9ETUciLGJhc2ljR3JpZENvbHVtbjoiTUVNT19TS0lMTCIsY29tYmF0R3JpZENvbHVtbjoiTUVNT19TS0lMTCIsbWVtb0Jhc2ljR3JpZENvbHVtbjoiTUVNT19TS0lMTCIsbWVtb0NvbWJhdEdyaWRDb2x1bW46Ik1FTU9fU0tJTEwiLG9wdGltaXplcktleTpzLk1FTU9fU0tJTExfRE1HLGlzQ29tcHV0ZWRSYXRpbmc6ITB9LE1FTU9fVEFMRU5UOntrZXk6Ik1FTU9fVEFMRU5UIixncHVQcm9wZXJ0eToiTUVNT19UQUxFTlRfRE1HIixiYXNpY1Byb3BlcnR5OiJNRU1PX1RBTEVOVF9ETUciLGNvbWJhdFByb3BlcnR5OiJNRU1PX1RBTEVOVF9ETUciLGJhc2ljR3JpZENvbHVtbjoiTUVNT19UQUxFTlQiLGNvbWJhdEdyaWRDb2x1bW46Ik1FTU9fVEFMRU5UIixtZW1vQmFzaWNHcmlkQ29sdW1uOiJNRU1PX1RBTEVOVCIsbWVtb0NvbWJhdEdyaWRDb2x1bW46Ik1FTU9fVEFMRU5UIixvcHRpbWl6ZXJLZXk6cy5NRU1PX1RBTEVOVF9ETUcsaXNDb21wdXRlZFJhdGluZzohMH0sRE9UOntrZXk6IkRPVCIsZ3B1UHJvcGVydHk6IkRPVF9ETUciLGJhc2ljUHJvcGVydHk6IkRPVF9ETUciLGNvbWJhdFByb3BlcnR5OiJET1RfRE1HIixiYXNpY0dyaWRDb2x1bW46IkRPVCIsY29tYmF0R3JpZENvbHVtbjoiRE9UIixtZW1vQmFzaWNHcmlkQ29sdW1uOiJET1QiLG1lbW9Db21iYXRHcmlkQ29sdW1uOiJET1QiLG9wdGltaXplcktleTpzLkRPVF9ETUcsaXNDb21wdXRlZFJhdGluZzohMH0sQlJFQUs6e2tleToiQlJFQUsiLGdwdVByb3BlcnR5OiJCUkVBS19ETUciLGJhc2ljUHJvcGVydHk6IkJSRUFLX0RNRyIsY29tYmF0UHJvcGVydHk6IkJSRUFLX0RNRyIsYmFzaWNHcmlkQ29sdW1uOiJCUkVBSyIsY29tYmF0R3JpZENvbHVtbjoiQlJFQUsiLG1lbW9CYXNpY0dyaWRDb2x1bW46IkJSRUFLIixtZW1vQ29tYmF0R3JpZENvbHVtbjoiQlJFQUsiLG9wdGltaXplcktleTpzLkJSRUFLX0RNRyxpc0NvbXB1dGVkUmF0aW5nOiEwfSxDT01CTzp7a2V5OiJDT01CTyIsZ3B1UHJvcGVydHk6IkNPTUJPX0RNRyIsYmFzaWNQcm9wZXJ0eToiQ09NQk9fRE1HIixjb21iYXRQcm9wZXJ0eToiQ09NQk9fRE1HIixiYXNpY0dyaWRDb2x1bW46IkNPTUJPIixjb21iYXRHcmlkQ29sdW1uOiJDT01CTyIsbWVtb0Jhc2ljR3JpZENvbHVtbjoiQ09NQk8iLG1lbW9Db21iYXRHcmlkQ29sdW1uOiJDT01CTyIsb3B0aW1pemVyS2V5OnMuQ09NQk9fRE1HLGlzQ29tcHV0ZWRSYXRpbmc6ITB9LEhFQUw6e2tleToiSEVBTCIsZ3B1UHJvcGVydHk6IkhFQUxfVkFMVUUiLGJhc2ljUHJvcGVydHk6IkhFQUxfVkFMVUUiLGNvbWJhdFByb3BlcnR5OiJIRUFMX1ZBTFVFIixiYXNpY0dyaWRDb2x1bW46IkhFQUwiLGNvbWJhdEdyaWRDb2x1bW46IkhFQUwiLG1lbW9CYXNpY0dyaWRDb2x1bW46IkhFQUwiLG1lbW9Db21iYXRHcmlkQ29sdW1uOiJIRUFMIixvcHRpbWl6ZXJLZXk6cy5IRUFMX1ZBTFVFLGlzQ29tcHV0ZWRSYXRpbmc6ITB9LFNISUVMRDp7a2V5OiJTSElFTEQiLGdwdVByb3BlcnR5OiJTSElFTERfVkFMVUUiLGJhc2ljUHJvcGVydHk6IlNISUVMRF9WQUxVRSIsY29tYmF0UHJvcGVydHk6IlNISUVMRF9WQUxVRSIsYmFzaWNHcmlkQ29sdW1uOiJTSElFTEQiLGNvbWJhdEdyaWRDb2x1bW46IlNISUVMRCIsbWVtb0Jhc2ljR3JpZENvbHVtbjoiU0hJRUxEIixtZW1vQ29tYmF0R3JpZENvbHVtbjoiU0hJRUxEIixvcHRpbWl6ZXJLZXk6cy5TSElFTERfVkFMVUUsaXNDb21wdXRlZFJhdGluZzohMH19LEx0PU9iamVjdC52YWx1ZXMoSHQpLmxlbmd0aCx4bD1PYmplY3QudmFsdWVzKEt0KS5sZW5ndGg7YXN5bmMgZnVuY3Rpb24gR2wodCl7dmFyIHV0LFgscSxpdCxydCxIO2NvbnN0IGU9dC5kYXRhLG49ZS5yZXF1ZXN0LGk9ZS5jb250ZXh0LG89ZS5yZWxpY3MsYT1uZXcgRmxvYXQzMkFycmF5KGUuYnVmZmVyKSxyPW8uTGlua1JvcGUubGVuZ3RoLGM9by5QbGFuYXJTcGhlcmUubGVuZ3RoLGw9by5GZWV0Lmxlbmd0aCxmPW8uQm9keS5sZW5ndGgsdT1vLkhhbmRzLmxlbmd0aCxkPW8uSGVhZC5sZW5ndGgsbT1lLnJlbGljU2V0U29sdXRpb25zLEU9ZS5vcm5hbWVudFNldFNvbHV0aW9ucyxDPW4uc3RhdERpc3BsYXk9PSJjb21iYXQiLEQ9IUMsUz1uLm1lbW9EaXNwbGF5PT0ibWVtbyIsST0hUztsZXQgeT0wO2UuaXNGaXJlZm94LGF3YWl0IE9vKFtpLmNoYXJhY3RlcklkLCh1dD1pLnRlYW1tYXRlME1ldGFkYXRhKT09bnVsbD92b2lkIDA6dXQuY2hhcmFjdGVySWQsKFg9aS50ZWFtbWF0ZTFNZXRhZGF0YSk9PW51bGw/dm9pZCAwOlguY2hhcmFjdGVySWQsKHE9aS50ZWFtbWF0ZTJNZXRhZGF0YSk9PW51bGw/dm9pZCAwOnEuY2hhcmFjdGVySWRdLmZpbHRlcihQPT4hIVApKTtjb25zdHtmYWlsc0Jhc2ljVGhyZXNob2xkRmlsdGVyOnYsZmFpbHNDb21iYXRUaHJlc2hvbGRGaWx0ZXI6Qn09VWwobixDKTtmb3IoY29uc3QgUCBvZiBpLmFjdGlvbnMpQmwoUCxpKTtpLmNoYXJhY3RlckNvbmRpdGlvbmFsQ29udHJvbGxlcj1vZS5nZXQoaSksaS5saWdodENvbmVDb25kaXRpb25hbENvbnRyb2xsZXI9c28uZ2V0KGkpO2Z1bmN0aW9uIE8oUCx4LEspe3ghPW51bGwmJnguY2hhcmFjdGVySWQmJihvZS5nZXQoeCkudGVhbW1hdGVEeW5hbWljQ29uZGl0aW9uYWxzPz9bXSkubWFwKGF0PT57Y29uc3QgZnQ9U28oYXQsSyk7cmV0dXJuIFAudGVhbW1hdGVEeW5hbWljQ29uZGl0aW9uYWxzLnB1c2goZnQpLGZ0fSl9Zm9yKGNvbnN0IFAgb2YgaS5hY3Rpb25zKVAudGVhbW1hdGVEeW5hbWljQ29uZGl0aW9uYWxzPVtdLChpdD1pLnRlYW1tYXRlME1ldGFkYXRhKSE9bnVsbCYmaXQuY2hhcmFjdGVySWQmJk8oUCxpLnRlYW1tYXRlME1ldGFkYXRhLDApLChydD1pLnRlYW1tYXRlMU1ldGFkYXRhKSE9bnVsbCYmcnQuY2hhcmFjdGVySWQmJk8oUCxpLnRlYW1tYXRlMU1ldGFkYXRhLDEpLChIPWkudGVhbW1hdGUyTWV0YWRhdGEpIT1udWxsJiZILmNoYXJhY3RlcklkJiZPKFAsaS50ZWFtbWF0ZTJNZXRhZGF0YSwyKSxQLnByZWNvbXB1dGVkWC5hPW5ldyBGbG9hdDMyQXJyYXkoT2JqZWN0LnZhbHVlcyhQLnByZWNvbXB1dGVkWC5hKSksUC5wcmVjb21wdXRlZE0uYT1uZXcgRmxvYXQzMkFycmF5KE9iamVjdC52YWx1ZXMoUC5wcmVjb21wdXRlZE0uYSkpO2NvbnN0IE49TWF0aC5taW4oZS5wZXJtdXRhdGlvbnMsZS5XSURUSCksUj1uZXcgaGUoITEpLEw9bmV3IEhlKCExKSxTdD1MLm0sY3Q9Rmwobiksaz1rbChuKSxfdD1ObChuKTtmb3IobGV0IFA9MDtQPE47UCsrKXtjb25zdCB4PWUuc2tpcCtQO2lmKHg+PWUucGVybXV0YXRpb25zKWJyZWFrO2NvbnN0IEs9eCVyLGo9KHgtSykvciVjLGF0PSh4LWoqci1LKS8ocipjKSVsLGZ0PSh4LWF0KmMqci1qKnItSykvKHIqYypsKSVmLHp0PSh4LWZ0KmwqYypyLWF0KmMqci1qKnItSykvKHIqYypsKmYpJXUsRWU9KHgtenQqZipsKmMqci1mdCpsKmMqci1hdCpjKnItaipyLUspLyhyKmMqbCpmKnUpJWQsJHQ9by5IZWFkW0VlXSxqZT1vLkhhbmRzW3p0XSx6ZT1vLkJvZHlbZnRdLCRlPW8uRmVldFthdF0sV2U9by5QbGFuYXJTcGhlcmVbal0sWWU9by5MaW5rUm9wZVtLXSxKZT1NdFskdC5zZXRdLFFlPU10W2plLnNldF0sWmU9TXRbemUuc2V0XSxYZT1NdFskZS5zZXRdLHFlPWFlW1dlLnNldF0sdG49YWVbWWUuc2V0XSxlbj1KZStaZSpMdCtRZSpMdCpMdCtYZSpMdCpMdCpMdCxubj1xZSt0bip4bDtpZihtW2VuXSE9MXx8RVtubl0hPTEpY29udGludWU7Y29uc3QgQ2U9W0plLFFlLFplLFhlLHFlLHRuXSxvbj1kbChDZSk7aWYoUi5pbml0KGVuLG5uLG9uLENlLFApLG1sKFIsaSxvbixDZSksU2woUiwkdCxqZSx6ZSwkZSxXZSxZZSksZ2woUixpKSxwbChSLGkpLEQmJkkmJih2KFIuYSl8fGsoUi5hKSkpY29udGludWU7TC5zZXRCYXNpYyhSKSxMLmFbcy5NRU1PU1BSSVRFXSYmKFN0LnNldEJhc2ljKFIubSksUi5pbml0TWVtbygpKTtsZXQgZHQ9MDtmb3IobGV0IFd0PWkuYWN0aW9ucy5sZW5ndGgtMTtXdD49MDtXdC0tKXtjb25zdCB0dD13bChSLFd0LGkpLG10PUwuYTtMLnNldFByZWNvbXB1dGUodHQucHJlY29tcHV0ZWRYLmEpLEwuYVtzLk1FTU9TUFJJVEVdJiZTdC5zZXRQcmVjb21wdXRlKHR0LnByZWNvbXB1dGVkTS5hKSxobChMLHR0LGkpLEVsKEwsdHQsaSksVGwoTCx0dCxpKSxfbyhMLHR0LGkpLHR0LmFjdGlvblR5cGU9PT0iQkFTSUMiP2R0Kz1tdFtzLkJBU0lDX0RNR106dHQuYWN0aW9uVHlwZT09PSJTS0lMTCI/ZHQrPW10W3MuU0tJTExfRE1HXTp0dC5hY3Rpb25UeXBlPT09IlVMVCI/ZHQrPW10W3MuVUxUX0RNR106dHQuYWN0aW9uVHlwZT09PSJGVUEiP2R0Kz1tdFtzLkZVQV9ETUddOnR0LmFjdGlvblR5cGU9PT0iTUVNT19TS0lMTCI/ZHQrPW10W3MuTUVNT19TS0lMTF9ETUddOnR0LmFjdGlvblR5cGU9PT0iTUVNT19UQUxFTlQiJiYoZHQrPW10W3MuTUVNT19UQUxFTlRfRE1HXSksV3Q9PT0wJiYoZHQrPWkuY29tYm9Eb3QqbXRbcy5ET1RfRE1HXStpLmNvbWJvQnJlYWsqbXRbcy5CUkVBS19ETUddLEwuQ09NQk9fRE1HLnNldChkdCxoLk5PTkUpKX1EJiZTJiYodihMLm0uYy5hKXx8ayhMLm0uYy5hKSl8fEMmJkkmJihCKEwuYSl8fGN0KEwuYSkpfHxDJiZTJiYoQihMLm0uYSl8fGN0KEwubS5hKSl8fEkmJl90KEwuYSl8fFMmJl90KEwubS5hKXx8KHJvLnBhY2tDaGFyYWN0ZXIoYSx5LEwpLHkrKyl9c2VsZi5wb3N0TWVzc2FnZSh7cm93czpbXSxidWZmZXI6ZS5idWZmZXJ9LFtlLmJ1ZmZlcl0pfWZ1bmN0aW9uIE0odCxlLG4saSl7KG4hPT0wfHxpIT09dmUuTUFYX0lOVCkmJnQucHVzaChvPT5vW2VdPG58fG9bZV0+aSl9ZnVuY3Rpb24ga2wodCl7Y29uc3QgZT1bXTtyZXR1cm4gTShlLHMuSFAsdC5taW5IcCx0Lm1heEhwKSxNKGUscy5BVEssdC5taW5BdGssdC5tYXhBdGspLE0oZSxzLkRFRix0Lm1pbkRlZix0Lm1heERlZiksTShlLHMuU1BELHQubWluU3BkLHQubWF4U3BkKSxNKGUscy5DUix0Lm1pbkNyLHQubWF4Q3IpLE0oZSxzLkNELHQubWluQ2QsdC5tYXhDZCksTShlLHMuRUhSLHQubWluRWhyLHQubWF4RWhyKSxNKGUscy5SRVMsdC5taW5SZXMsdC5tYXhSZXMpLE0oZSxzLkJFLHQubWluQmUsdC5tYXhCZSksTShlLHMuRVJSLHQubWluRXJyLHQubWF4RXJyKSxuPT5lLnNvbWUoaT0+aShuKSl9ZnVuY3Rpb24gRmwodCl7Y29uc3QgZT1bXTtyZXR1cm4gTShlLHMuSFAsdC5taW5IcCx0Lm1heEhwKSxNKGUscy5BVEssdC5taW5BdGssdC5tYXhBdGspLE0oZSxzLkRFRix0Lm1pbkRlZix0Lm1heERlZiksTShlLHMuU1BELHQubWluU3BkLHQubWF4U3BkKSxNKGUscy5DUix0Lm1pbkNyLHQubWF4Q3IpLE0oZSxzLkNELHQubWluQ2QsdC5tYXhDZCksTShlLHMuRUhSLHQubWluRWhyLHQubWF4RWhyKSxNKGUscy5SRVMsdC5taW5SZXMsdC5tYXhSZXMpLE0oZSxzLkJFLHQubWluQmUsdC5tYXhCZSksTShlLHMuRVJSLHQubWluRXJyLHQubWF4RXJyKSxuPT5lLnNvbWUoaT0+aShuKSl9ZnVuY3Rpb24gTmwodCl7Y29uc3QgZT1bXTtyZXR1cm4gTShlLHMuRUhQLHQubWluRWhwLHQubWF4RWhwKSxNKGUscy5CQVNJQ19ETUcsdC5taW5CYXNpYyx0Lm1heEJhc2ljKSxNKGUscy5TS0lMTF9ETUcsdC5taW5Ta2lsbCx0Lm1heFNraWxsKSxNKGUscy5VTFRfRE1HLHQubWluVWx0LHQubWF4VWx0KSxNKGUscy5GVUFfRE1HLHQubWluRnVhLHQubWF4RnVhKSxNKGUscy5NRU1PX1NLSUxMX0RNRyx0Lm1pbk1lbW9Ta2lsbCx0Lm1heE1lbW9Ta2lsbCksTShlLHMuTUVNT19UQUxFTlRfRE1HLHQubWluTWVtb1RhbGVudCx0Lm1heE1lbW9UYWxlbnQpLE0oZSxzLkRPVF9ETUcsdC5taW5Eb3QsdC5tYXhEb3QpLE0oZSxzLkJSRUFLX0RNRyx0Lm1pbkJyZWFrLHQubWF4QnJlYWspLE0oZSxzLkhFQUxfVkFMVUUsdC5taW5IZWFsLHQubWF4SGVhbCksTShlLHMuU0hJRUxEX1ZBTFVFLHQubWluU2hpZWxkLHQubWF4U2hpZWxkKSxuPT5lLnNvbWUoaT0+aShuKSl9ZnVuY3Rpb24gVWwodCxlKXtjb25zdCBuPXQucmVzdWx0TWluRmlsdGVyLGk9dmxbdC5yZXN1bHRTb3J0XSxvPWkuaXNDb21wdXRlZFJhdGluZztpZihlfHxvKXtjb25zdCBhPWkub3B0aW1pemVyS2V5O3JldHVybntmYWlsc0Jhc2ljVGhyZXNob2xkRmlsdGVyOigpPT4hMSxmYWlsc0NvbWJhdFRocmVzaG9sZEZpbHRlcjpyPT5yW2FdPG59fWVsc2V7Y29uc3QgYT1pLmdwdVByb3BlcnR5LHI9c1thXTtyZXR1cm57ZmFpbHNCYXNpY1RocmVzaG9sZEZpbHRlcjpjPT5jW3JdPG4sZmFpbHNDb21iYXRUaHJlc2hvbGRGaWx0ZXI6KCk9PiExfX19ZnVuY3Rpb24gd2wodCxlLG4pe2NvbnN0IGk9bi5hY3Rpb25zW2VdO3JldHVybntjaGFyYWN0ZXJDb25kaXRpb25hbHM6aS5jaGFyYWN0ZXJDb25kaXRpb25hbHMsbGlnaHRDb25lQ29uZGl0aW9uYWxzOmkubGlnaHRDb25lQ29uZGl0aW9uYWxzLHRlYW1tYXRlMDppLnRlYW1tYXRlMCx0ZWFtbWF0ZTE6aS50ZWFtbWF0ZTEsdGVhbW1hdGUyOmkudGVhbW1hdGUyLHRlYW1tYXRlRHluYW1pY0NvbmRpdGlvbmFsczppLnRlYW1tYXRlRHluYW1pY0NvbmRpdGlvbmFscyxzZXRDb25kaXRpb25hbHM6aS5zZXRDb25kaXRpb25hbHMsY29uZGl0aW9uYWxSZWdpc3RyeTppLmNvbmRpdGlvbmFsUmVnaXN0cnksYWN0aW9uVHlwZTppLmFjdGlvblR5cGUsYWN0aW9uSW5kZXg6aS5hY3Rpb25JbmRleCxwcmVjb21wdXRlZFg6aS5wcmVjb21wdXRlZFgscHJlY29tcHV0ZWRNOmkucHJlY29tcHV0ZWRNLGNvbmRpdGlvbmFsU3RhdGU6e319fXZhciBCbz0odD0+KHRbdC5PUFRJTUlaRVI9MF09Ik9QVElNSVpFUiIsdFt0LkVTVF9UQlA9MV09IkVTVF9UQlAiLHQpKShCb3x8e30pO3NlbGYub25tZXNzYWdlPWZ1bmN0aW9uKHQpe3N3aXRjaCh0LmRhdGEud29ya2VyVHlwZSl7Y2FzZSBCby5PUFRJTUlaRVI6R2wodCk7YnJlYWt9fTtleHBvcnR7bHQgYXMgQSxwdCBhcyBCLG50IGFzIEMsZ2UgYXMgRCxWbCBhcyBFLGV0IGFzIEYsSmwgYXMgRyx3IGFzIEgsaWUgYXMgSSxzIGFzIEssemwgYXMgTixLbCBhcyBQLGggYXMgUyxnIGFzIFQsJCBhcyBVLHRjIGFzIGEsamwgYXMgYixBIGFzIGMsVyBhcyBkLE5hIGFzIGUsRnQgYXMgZixYbCBhcyBnLFEgYXMgaCxwIGFzIGkseHMgYXMgaixHcyBhcyBrLFVhIGFzIGwsWmwgYXMgbSxxbCBhcyBuLGJhIGFzIG8sRHQgYXMgcCx3dCBhcyBxLG90IGFzIHIsWWwgYXMgcyxlYyBhcyB0LE5zIGFzIHUsbmMgYXMgdix2dCBhcyB3LCRsIGFzIHgsV2wgYXMgeSxRbCBhcyB6fTsK",XS=e=>Uint8Array.from(atob(e),t=>t.charCodeAt(0)),Tr=typeof self<"u"&&self.Blob&&new Blob(["URL.revokeObjectURL(import.meta.url);",XS(iu)],{type:"text/javascript;charset=utf-8"});function kS(e){let t;try{if(t=Tr&&(self.URL||self.webkitURL).createObjectURL(Tr),!t)throw"";const n=new Worker(t,{type:"module",name:e==null?void 0:e.name});return n.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(t)}),n}catch{return new Worker("data:text/javascript;base64,"+iu,{type:"module",name:e==null?void 0:e.name})}}const zs=Math.min(10,Math.max(1,(navigator.hardwareConcurrency||4)-1));let Oi=0;console.log("Using pool size "+zs);const Ui=[],Fs=[];let oi=[];const Pa={initializeWorker:()=>{if(Oi<zs){const e=new kS;Ui.push(e),Oi++,console.log("Initialized workers: "+Oi)}},initializeAllWorkers:()=>{for(let e=0;e<zs;e++)setTimeout(()=>{Pa.initializeWorker()},500*e)},nextTask:()=>{if(oi.length==0)return;const{task:e,callback:t}=oi.shift();Pa.execute(e,t)},execute:(e,t)=>{if(e.attempts==null&&(e.attempts=0),e.attempts>10)return console.log("Too many failures, abandoning task");if(Pa.initializeWorker(),Ui.length>0){const n=Ui.shift();let l;Fs.length>0?(l=Fs.pop(),fs.cleanFloatBuffer(l)):l=fs.createFloatBuffer(m.THREAD_BUFFER_LENGTH),e.input.buffer=l,n.onmessage=s=>{Ui.push(n),Pa.nextTask(),t&&t(s.data),Fs.push(s.data.buffer)},n.onerror=s=>{console.warn("Worker error",s),Oi--,e.attempts++,oi.push({task:e,callback:t}),n.terminate(),setTimeout(()=>{Pa.initializeWorker(),Pa.nextTask()},100)},e.input.request.resultMinFilter=e.getMinFilter(),n.postMessage(e.input,[e.input.buffer])}else oi.push({task:e,callback:t})},cancel:e=>{oi=[]},state:()=>{console.log({poolSize:zs,workers:Ui,taskQueue:oi,buffers:Fs,initializedWorkers:Oi})}};var p0=(e=>(e[e.OPTIMIZER=0]="OPTIMIZER",e[e.EST_TBP=1]="EST_TBP",e))(p0||{});let Ki=!1;const YS=typeof navigator<"u"&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1;function S0(e){let t=I.getRelics();t=t.filter(r=>r.equippedBy==e.characterId),t=y.clone(t),qe.calculateWeightScore(e,t),t=qe.applyMainStatsFilter(e,t);const n=qe.splitRelicsByPart(t);qe.condenseRelicSubstatsForOptimizer(n),Object.keys(n).map(r=>n[r]=n[r][0]);const l=An(e,n,null,null,null,void 0,void 0,void 0,void 0,!0),s=R0(l);se.setTopRow(s,!0),window.store.getState().setOptimizerSelectedRowData(s);const o=I.getCharacterById(e.characterId);o&&window.store.getState().setOptimizerBuild(o.equipped)}const il={cancel:e=>{Ki=!0,Pa.cancel(e)},getFilteredRelics:e=>{let t=I.getRelics();t=qe.applyEquippedFilter(e,t),t=qe.applyEnhanceFilter(e,t),t=qe.applyGradeFilter(e,t),t=qe.applyRankFilter(e,t),t=qe.applyExcludeFilter(e,t);const n=qe.splitRelicsByPart(t);t=qe.applyMainFilter(e,t),t=y.clone(t),t=qe.applyMainStatsFilter(e,t),t=qe.applySetFilter(e,t),qe.calculateWeightScore(e,t);let l=qe.splitRelicsByPart(t);return l=qe.applyCurrentFilter(e,l),l=qe.applyTopFilter(e,l),[l,n]},optimize:async function(e){Ki=!1;const t=[e.teammate0,e.teammate1,e.teammate2].filter(W=>!!W.characterId);for(let W=0;W<t.length;W++){const H=t[W],O=I.getMetadata().characters[H.characterId];H.ELEMENTAL_DMG_TYPE=ei[O.element]}const[n]=this.getFilteredRelics(e);qe.condenseRelicSubstatsForOptimizer(n);const l=PS(e),s=FS(e),o={hSize:n.Head.length,gSize:n.Hands.length,bSize:n.Body.length,fSize:n.Feet.length,pSize:n.PlanarSphere.length,lSize:n.LinkRope.length},r=o.hSize*o.gSize*o.bSize*o.fSize*o.pSize*o.lSize;if(se.setMetadata(o,n),console.log(`Optimization permutations: ${r}, blocksize: ${m.THREAD_BUFFER_LENGTH}`),r==0){window.store.getState().setOptimizationInProgress(!1),xS(e),se.setRows([]),se.resetDataSource();return}if(Ki){window.store.getState().setOptimizationInProgress(!1);return}se.scrollToGrid(),window.optimizerGrid.current.api.setGridOption("loading",!0);const c=Yi(e);setTimeout(()=>{S0(e)},200);let d=0,u=!1,b=[];const p=Z[e.resultSort],R=e.statDisplay=="combat"?p.combatGridColumn:p.basicGridColumn,G=e.resultsLimit||1024,T=new _d(G,(W,H)=>W[R]-H[R]),C=2e4;let D=0;const V=m.THREAD_BUFFER_LENGTH,M=B.clone(c);let x=window.store.getState().savedSession[Ue.computeEngine];if(x!=Da&&d0().then(W=>{W==null?(_.warning("GPU acceleration is not available on this browser - only desktop Chrome and Opera are supported. If you are on a supported browser, report a bug to the Discord server",15),window.store.getState().setSavedSessionKey(Ue.computeEngine,Da),x=Da):B.sleep(200).then(()=>{LS({device:W,context:c,request:e,relics:n,permutations:r,computeEngine:x,relicSetSolutions:l,ornamentSetSolutions:s})})}),x==Da){const W=[];for(let O=0;O<r;O+=D)D=Math.min(V,D+C),W.push({skip:O,runSize:D});let H=W.length;window.store.getState().setOptimizerStartTime(Date.now()),window.store.getState().setOptimizerRunningEngine(Da);for(const O of W){const j={input:{context:M,request:e,relics:n,WIDTH:O.runSize,skip:O.skip,permutations:r,relicSetSolutions:l,ornamentSetSolutions:s,isFirefox:YS,workerType:p0.OPTIMIZER},getMinFilter:()=>T.size()&&T.size()>=e.resultsLimit?T.top()[R]:0},N=F=>{if(d+=O.runSize,H-=1,Ki&&u)return;const P=new Float32Array(F.buffer);if(fs.extractArrayToResults(P,O.runSize,T,j.input.skip),window.store.getState().setPermutationsResults(T.size()),window.store.getState().setPermutationsSearched(Math.min(r,d)),window.store.getState().setOptimizerEndTime(Date.now()),H==0||Ki){window.store.getState().setOptimizationInProgress(!1),b=T.toArray(),se.setRows(b),Ml(R),window.optimizerGrid.current.api.updateGridOptions({datasource:se.getDataSource()}),console.log("Done",b.length),u=!0,!b.length&&!H&&nu(e);return}};Pa.execute(j,N)}}}};function R0(e){const t=e.c,n={relicSetIndex:t.relicSetIndex,ornamentSetIndex:t.ornamentSetIndex,id:t.id,WEIGHT:t.weight,xa:new Float32Array(e.a),ca:new Float32Array(t.a),tracedX:e};if(n[a.HP]=t.HP.get(),n[a.ATK]=t.ATK.get(),n[a.DEF]=t.DEF.get(),n[a.SPD]=t.SPD.get(),n[a.CR]=t.CR.get(),n[a.CD]=t.CD.get(),n[a.EHR]=t.EHR.get(),n[a.RES]=t.RES.get(),n[a.BE]=t.BE.get(),n[a.ERR]=t.ERR.get(),n[a.OHB]=t.OHB.get(),n.ED=t.ELEMENTAL_DMG.get(),n.BASIC=e.BASIC_DMG.get(),n.SKILL=e.SKILL_DMG.get(),n.ULT=e.ULT_DMG.get(),n.FUA=e.FUA_DMG.get(),n.MEMO_SKILL=e.MEMO_SKILL_DMG.get(),n.MEMO_TALENT=e.MEMO_TALENT_DMG.get(),n.DOT=e.DOT_DMG.get(),n.BREAK=e.BREAK_DMG.get(),n.COMBO=e.COMBO_DMG.get(),n.EHP=e.EHP.get(),n.HEAL=e.HEAL_VALUE.get(),n.SHIELD=e.SHIELD_VALUE.get(),n.xHP=e.HP.get(),n.xATK=e.ATK.get(),n.xDEF=e.DEF.get(),n.xSPD=e.SPD.get(),n.xCR=e.CR.get(),n.xCD=e.CD.get(),n.xEHR=e.EHR.get(),n.xRES=e.RES.get(),n.xBE=e.BE.get(),n.xERR=e.ERR.get(),n.xOHB=e.OHB.get(),n.xELEMENTAL_DMG=e.ELEMENTAL_DMG.get(),n.mELEMENTAL_DMG=t.ELEMENTAL_DMG.get(),e.a[h.MEMOSPRITE]){const l=e.m.c;n.mHP=l.HP.get(),n.mATK=l.ATK.get(),n.mDEF=l.DEF.get(),n.mSPD=l.SPD.get(),n.mCR=l.CR.get(),n.mCD=l.CD.get(),n.mEHR=l.EHR.get(),n.mRES=l.RES.get(),n.mBE=l.BE.get(),n.mERR=l.ERR.get(),n.mOHB=l.OHB.get();const s=e.m;n.mxHP=s.HP.get(),n.mxATK=s.ATK.get(),n.mxDEF=s.DEF.get(),n.mxSPD=s.SPD.get(),n.mxCR=s.CR.get(),n.mxCD=s.CD.get(),n.mxEHR=s.EHR.get(),n.mxRES=s.RES.get(),n.mxBE=s.BE.get(),n.mxERR=s.ERR.get(),n.mxOHB=s.OHB.get(),n.mxELEMENTAL_DMG=s.ELEMENTAL_DMG.get(),n.mxEHP=s.EHP.get()}return n}const ut={ratingFilters:()=>({title:v.t("hint:RatingFilter.Title"),content:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:v.t("hint:RatingFilter.p1")}),i.jsx("p",{children:v.t("hint:RatingFilter.p2")}),i.jsx("p",{children:v.t("hint:RatingFilter.p3")})]})}),combatBuffs:()=>({title:v.t("hint:CombatBuffs.Title"),content:i.jsx(S,{vertical:!0,gap:10,children:i.jsx("p",{children:v.t("hint:CombatBuffs.p1")})})}),statFilters:()=>({title:v.t("hint:StatFilters.Title"),content:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:v.t("hint:StatFilters.p1")}),i.jsx("p",{children:v.t("hint:StatFilters.p2")}),i.jsx("p",{children:v.t("hint:StatFilters.p3")})]})}),mainStats:()=>({title:v.t("hint:Mainstats.Title"),content:i.jsx(S,{vertical:!0,gap:10,children:i.jsx("p",{children:v.t("hint:Mainstats.p1")})})}),sets:()=>({title:v.t("hint:Sets.Title"),content:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:v.t("hint:Sets.p1")}),i.jsx("p",{children:v.t("hint:Sets.p2")})]})}),character:()=>({title:v.t("hint:Character.Title"),content:i.jsx(S,{vertical:!0,gap:10,children:i.jsx("p",{children:v.t("hint:Character.p1")})})}),characterPassives:()=>({title:v.t("hint:CharacterPassives.Title"),content:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:v.t("hint:CharacterPassives.p1")}),i.jsx("p",{children:v.t("hint:CharacterPassives.p2")})]})}),lightConePassives:()=>({title:v.t("hint:LightconePassives.Title"),content:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:v.t("hint:LightconePassives.p1")}),i.jsx("p",{children:v.t("hint:LightconePassives.p2")})]})}),lightCone:()=>({title:v.t("hint:Lightcone.Title"),content:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:v.t("hint:Lightcone.p1")}),i.jsx("p",{children:v.t("hint:Lightcone.p2")})]})}),actions:()=>({title:v.t("hint:Actions.Title"),content:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:v.t("hint:Actions.p1")}),i.jsx("p",{children:v.t("hint:Actions.p2")}),i.jsx("p",{children:v.t("hint:Actions.p3")}),i.jsx("p",{children:v.t("hint:Actions.p4")})]})}),optimizerOptions:()=>({title:v.t("hint:OptimizerOptions.Title"),content:(()=>{const{t:e}=K("hint",{keyPrefix:"OptimizerOptions"});return i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:i.jsxs(gt,{t:e,i18nKey:"p1",children:[i.jsx("strong",{children:"Character priority filter"}),"- When this option is enabled, the character may only steal relics from lower priority characters. The optimizer will ignore relics equipped by higher priority characters on the list. Change character ranks from the priority selector or by dragging them on the Characters page."]})}),i.jsx("p",{children:i.jsxs(gt,{t:e,i18nKey:"p2",children:[i.jsx("strong",{children:"Boost main stat"}),"- Calculates relic mains stats as if they were this level (or their max if they can't reach this level) if they are currently below it. Substats are not changed accordingly, so builds with lower level relics may be stronger once you level them."]})}),i.jsx("p",{children:i.jsxs(gt,{t:e,i18nKey:"p3",children:[i.jsx("strong",{children:"Keep current relics"}),"- The character must use its currently equipped items, and the optimizer will try to fill in empty slots"]})}),i.jsx("p",{children:i.jsxs(gt,{t:e,i18nKey:"p4",children:[i.jsx("strong",{children:"Include equipped relics"}),"- When enabled, the optimizer will allow using currently equipped by a character for the search. Otherwise equipped relics are excluded"]})}),i.jsx("p",{children:i.jsxs(gt,{t:e,i18nKey:"p5",children:[i.jsx("strong",{children:"Priority"}),"- See: Character priority filter. Changing this setting will change the character's priority"]})}),i.jsx("p",{children:i.jsxs(gt,{t:e,i18nKey:"p6",children:[i.jsx("strong",{children:"Exclude"}),"- Select specific characters' equipped relics to exclude for the search. This setting overrides the priority filter"]})}),i.jsx("p",{children:i.jsxs(gt,{t:e,i18nKey:"p7",children:[i.jsx("strong",{children:"Enhance / grade"}),"- Select the minimum enhance to search for and minimum stars for relics to include"]})})]})})()}),relics:()=>({title:v.t("hint:Relics.Title"),content:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:v.t("hint:Relics.p1")}),i.jsx("p",{children:v.t("hint:Relics.p2")}),i.jsx("p",{children:v.t("hint:Relics.p3")}),i.jsx("p",{children:v.t("hint:Relics.p4")}),i.jsx("p",{children:v.t("hint:Relics.p5")})]})}),optimizationDetails:()=>({title:v.t("hint:OptimizationDetails.Title"),content:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:v.t("hint:OptimizationDetails.p1")}),i.jsx("p",{children:v.t("hint:OptimizationDetails.p2")}),i.jsx("p",{children:v.t("hint:OptimizationDetails.p3")}),i.jsx("p",{children:v.t("hint:OptimizationDetails.p4")})]})}),enemyOptions:()=>({title:v.t("hint:EnemyOptions.Title"),content:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:v.t("hint:EnemyOptions.p1")}),i.jsx("p",{children:v.t("hint:EnemyOptions.p2")}),i.jsx("p",{children:v.t("hint:EnemyOptions.p3")}),i.jsx("p",{children:v.t("hint:EnemyOptions.p4")}),i.jsx("p",{children:v.t("hint:EnemyOptions.p5")}),i.jsx("p",{children:v.t("hint:EnemyOptions.p6")}),i.jsx("p",{children:v.t("hint:EnemyOptions.p7")})]})}),substatWeightFilter:()=>({title:v.t("hint:SubstatWeightFilter.Title"),content:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:v.t("hint:SubstatWeightFilter.p1")}),i.jsx("p",{children:v.t("hint:SubstatWeightFilter.p2")}),i.jsx("p",{children:v.t("hint:SubstatWeightFilter.p3")}),i.jsx("p",{children:v.t("hint:SubstatWeightFilter.p4")})]})}),statDisplay:()=>({title:v.t("hint:StatDisplay.Title"),content:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:v.t("hint:StatDisplay.p1")}),i.jsx("p",{children:v.t("hint:StatDisplay.p2")}),i.jsx("p",{children:v.t("hint:StatDisplay.p3")})]})}),valueColumns:()=>({title:v.t("hint:ValueColumns.Title"),content:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:v.t("hint:ValueColumns.p1")}),i.jsx("p",{children:i.jsx("b",{children:v.t("hint:ValueColumns.p2")})}),i.jsx("p",{children:v.t("hint:ValueColumns.p3")}),i.jsx("p",{children:v.t("hint:ValueColumns.p4")}),i.jsx("p",{children:v.t("hint:ValueColumns.p5")}),i.jsx("p",{children:v.t("hint:ValueColumns.p6")})]})}),relicInsight:()=>({title:v.t("hint:RelicInsights.Title"),content:(()=>{const{t:e}=K("hint",{keyPrefix:"RelicInsights"});return i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:e("p1")}),i.jsx("p",{children:i.jsxs(gt,{t:e,i18nKey:"p2",children:["'Buckets' looks at how perfect this relic could be (with the best possible upgrade rolls) for each character, and buckets them into percentages.",i.jsx("br",{}),"If you hover over a character portrait you'll see the new stats and/or rolls necessary to reach the max potential of this relic.",i.jsx("br",{}),"⚠️ Relics with missing substats may have misleadingly high buckets, as best-case upgrade analysis assumes the best new substat per character."]})}),i.jsx("p",{children:e("p3")})]})})()}),relicLocation:()=>({title:v.t("hint:RelicLocation.Title"),content:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("p",{children:v.t("hint:RelicLocation.p1")}),i.jsx("p",{children:v.t("hint:RelicLocation.p2")}),i.jsxs(S,{vertical:!0,children:[i.jsx("div",{children:v.t("hint:RelicLocation.p3")}),i.jsxs("ul",{children:[i.jsx("li",{children:v.t("hint:RelicLocation.p4")}),i.jsx("li",{children:v.t("hint:RelicLocation.p5")}),i.jsx("li",{children:v.t("hint:RelicLocation.p6")})]})]})]})}),locatorParams:()=>({title:v.t("hint:LocatorParams.Title"),content:(()=>{const{t:e}=K("hint",{keyPrefix:"LocatorParams"});return i.jsxs(S,{vertical:!0,gap:8,children:[i.jsx("p",{children:i.jsxs(gt,{t:e,i18nKey:"p1",children:[i.jsx("strong",{children:"Inventory Width"}),"- Select the number of columns the inventory has ingame so that the relic locator can find your relic accurately"]})}),i.jsx("p",{children:i.jsxs(gt,{t:e,i18nKey:"p2",children:[i.jsx("strong",{children:"Auto Filter rows"}),"- Maximum number of rows before the relic locator applies a part/set filter to try and bring the searched relic closer to the top of your inventory"]})})]})})()})},{Text:wS}=ye;function El(e){const t=n=>{const[l,s]=Tt.useState(!1),o=i.jsxs(wS,{style:{width:400,display:"block"},children:[i.jsx("hr",{}),n.content]});return i.jsx(bs,{trigger:"hover",placement:"left",content:o,title:n.title,open:l,mouseEnterDelay:.4,onOpenChange:s,children:i.jsx("span",{style:{width:"100%"},children:i.jsx(e,{...n})})})};return t.displayName="WithPopoverWrapped",t}El.displayName="WithPopover";const NS="flex-start",OS="center",US=Ft(ye)`
    white-space: pre-line;
`;function KS(e){return e.set?"setConditionals":e.lc?"lightConeConditionals":"characterConditionals"}function f0(e){const t=KS(e);if(e.set)return[t,e.id,1];const n=[t,e.id];return e.teammateIndex!=null&&n.unshift(`teammate${e.teammateIndex}`),n}const JS=e=>{const t=f0(e),n=i.jsx(Sn,{checkedChildren:i.jsx(Rn,{}),unCheckedChildren:i.jsx(Ba,{}),disabled:e.disabled,style:{width:45,marginRight:5},onChange:e.onChange,defaultChecked:e.value??void 0});return i.jsxs(S,{justify:NS,align:OS,children:[e.removeForm?n:i.jsx(U.Item,{name:t,valuePropName:"checked",children:n}),i.jsx(US,{children:e.text})]})},su=El(JS),AS="flex-start",jS="center",zS=Ft(ye)`
    white-space: pre-line;
`,_S=e=>{const[t,n]=E.useState(e.value??void 0),l=f0(e),s=i.jsx(J,{disabled:e.disabled,style:{minWidth:e.fullWidth?"100%":80,width:e.fullWidth?"100%":80,marginRight:5},optionLabelProp:"display",listHeight:500,size:"small",dropdownStyle:{width:"fit-content"},options:e.options,onChange:o=>{e.onChange&&n(o??0)},onBlur:()=>{e.onChange&&e.onChange(t??0)},value:e.value==null?void 0:t});return i.jsxs(S,{justify:AS,align:jS,style:{width:e.fullWidth?"100%":void 0},children:[e.removeForm?s:i.jsx(U.Item,{name:l,style:{width:e.fullWidth?"100%":void 0},children:s}),i.jsx(zS,{children:e.fullWidth?null:e.text})]})},lu=El(_S),QS="flex-start",$S="center",qS=61,eR=55,tR=155,yr=Ft(ye)`
    white-space: pre-line;
`,aR=e=>{const[t,n]=E.useState((e==null?void 0:e.value)??void 0),l=e.percent?100:1,s=e.percent?.01:1,o=e.percent?"%":"",r=E.useRef(e.min),c=E.useRef(e.max),d=f0(e);E.useEffect(()=>{const p=window.optimizerForm.getFieldValue(d);(p>=e.max||p==c.current)&&window.optimizerForm.setFieldValue(d,e.max),(p<=e.min||p==r.current)&&window.optimizerForm.setFieldValue(d,e.min),r.current=e.min,c.current=e.max},[e.min,e.max]);const u=i.jsx($t,{min:e.min,max:e.max,controls:!1,size:"small",style:{width:eR},parser:p=>p==null||p==""?0:y.precisionRound(parseFloat(p)/l),formatter:p=>`${y.precisionRound((p??0)*l)}${o}`,disabled:e.disabled,onChange:p=>{e.onChange&&e.onChange(t??0)},onBlur:()=>{e.onChange&&e.onChange(t??0)},value:e.value==null?void 0:t}),b=i.jsx(Gl,{min:e.min,max:e.max,step:s,style:{minWidth:tR,marginTop:0,marginBottom:0,marginLeft:1},tooltip:{formatter:p=>`${y.precisionRound((p??0)*l)}${o}`},disabled:e.disabled,onChange:p=>{e.onChange&&n(p)},onChangeComplete:p=>{e.onChange&&e.onChange(p)},value:e.value==null?void 0:t});return i.jsxs(S,{vertical:!0,gap:0,style:{marginBottom:0},children:[i.jsxs(S,{justify:QS,align:$S,children:[i.jsx("div",{style:{minWidth:qS,display:"block"},children:e.removeForm?u:i.jsx(U.Item,{name:d,children:u})}),i.jsx(yr,{style:{lineHeight:"16px"},children:e.text})]}),i.jsxs(S,{align:"center",justify:"flex-start",gap:5,style:{height:14},children:[e.removeForm?b:i.jsx(U.Item,{name:d,children:b}),i.jsx(yr,{style:{minWidth:20,marginBottom:2,textAlign:"center"},children:`${y.precisionRound(e.max*l)}${o}`})]})]})},ou=El(aR),Zs=(e,t="#ebb434")=>{if(v.resolvedLanguage=="aa_ER")return i.jsx(i.Fragment,{children:e});const n=[];let l=0;return e&&e.split("::BR::").forEach(s=>{let o="",r=!1;n.length>0&&(n.push(i.jsx("br",{},l++)),n.push(i.jsx("br",{},l++)));for(let c=0;c<s.length;c++)s[c]>="0"&&s[c]<="9"||s[c]==="%"||s[c]==="A"&&s[c+1]&&/[2,4,6]/.test(s[c+1])||s[c]==="E"&&s[c+1]&&/[0-6]/.test(s[c+1])?(o+=s[c],r=!0):(r&&(n.push(i.jsx("span",{style:{color:t},children:o},l++)),o="",r=!1),n.push(i.jsx("span",{children:s[c]},l++)));r&&n.push(i.jsx("span",{style:{color:t},children:o},l++))}),i.jsx(i.Fragment,{children:n})},nR={switch:su,slider:ou,select:lu},ru=({content:e,teammateIndex:t})=>{const{t:n}=K("optimizerTab"),l=[];let s=0;return e?e.length===0?t!=null?l.push(i.jsx("div",{children:n("NoTeamConditionals")},s++)):l.push(i.jsx("div",{children:n("NoConditionals")},s++)):e.forEach(o=>{const r=nR[o.formItem];o.teammateIndex=t,l.push(E.createElement(r,{...o,title:o.text,content:Zs(o.content),text:o.text,key:s++})),s++}):t!=null?l.push(i.jsx("div",{children:n("NoTeamConditionals")},s++)):l.push(i.jsx("div",{children:n("NoConditionals")},s++)),i.jsx(S,{vertical:!0,gap:6,children:l})},{Text:iR}=ye,$=Ft(iR)`
    text-decoration: underline;
    text-decoration-color: #6d97ffb3;
    text-underline-offset: 2px;
    white-space: nowrap;
`;function He(e){return new URL(vt+"/assets"+e,import.meta.url).href}const Zr={[a.HP]:"IconMaxHP.webp",[a.ATK]:"IconAttack.webp",[a.DEF]:"IconDefence.webp",[a.HP_P]:"IconMaxHP.webp",[a.ATK_P]:"IconAttack.webp",[a.DEF_P]:"IconDefence.webp",[a.SPD]:"IconSpeed.webp",[a.SPD_P]:"IconSpeed.webp",[a.CR]:"IconCriticalChance.webp",[a.CD]:"IconCriticalDamage.webp",[a.EHR]:"IconStatusProbability.webp",[a.RES]:"IconStatusResistance.webp",[a.BE]:"IconBreakUp.webp",[a.ERR]:"IconEnergyRecovery.webp",[a.OHB]:"IconHealRatio.webp",[a.Physical_DMG]:"IconPhysicalAddedRatio.webp",[a.Fire_DMG]:"IconFireAddedRatio.webp",[a.Ice_DMG]:"IconIceAddedRatio.webp",[a.Lightning_DMG]:"IconThunderAddedRatio.webp",[a.Wind_DMG]:"IconWindAddedRatio.webp",[a.Quantum_DMG]:"IconQuantumAddedRatio.webp",[a.Imaginary_DMG]:"IconImaginaryAddedRatio.webp"},k={getStatIcon:(e,t=!1)=>e=="CV"?He("/misc/cv.webp"):e=="simScore"?He("/misc/battle.webp"):e==m.Stats.HP_P&&t?He("/misc/IconMaxHPPercent.webp"):e==m.Stats.ATK_P&&t?He("/misc/IconAttackPercent.webp"):e==m.Stats.DEF_P&&t?He("/misc/IconDefencePercent.webp"):!e||!Zr[e]?k.getBlank():He(`/icon/property/${Zr[e]}`),getCharacterPortraitById:e=>e?He(`/image/character_portrait/${e}.webp`):(console.warn("No id found"),k.getBlank()),getCharacterAvatarById:e=>e?He(`/icon/avatar/${e}.webp`):k.getBlank(),getCharacterPreviewById:e=>e?He(`/image/character_preview/${e}.webp`):k.getBlank(),getLightConePortrait:e=>e?He(`/image/light_cone_portrait/${e.id}.webp`):k.getBlank(),getLightConePortraitById:e=>e?He(`/image/light_cone_portrait/${e}.webp`):k.getBlank(),getLightConeIconById:e=>e?He(`/icon/light_cone/${e}.webp`):k.getBlank(),getPath:e=>e?He(`/icon/path/${e}.webp`):k.getBlank(),getPathFromClass:e=>e?He(`/icon/path/${e}.webp`):k.getBlank(),getElement:e=>e?He(`/icon/element/${e}.webp`):k.getBlank(),getBlank:()=>He("/misc/blank.webp"),getQuestion:()=>He("/misc/tooltip.webp"),getLogo:()=>He("/misc/logo.webp"),getDiscord:()=>He("/misc/badgediscord.webp"),getGithub:()=>He("/misc/badgegithub.webp"),getKofi:()=>He("/misc/badgekofi.webp"),getJade:()=>He("/misc/jade.webp"),getPass:()=>He("/misc/pass.webp"),getStarlight:()=>He("/misc/starlight.webp"),getStar:()=>He("/misc/StarBig.webp"),getScore:()=>He("/misc/QuestMainIcon.webp"),getScoreNoSpeed:()=>He("/misc/noSpdScore.webp"),getPart:e=>{const t={[f.Head]:"partHead",[f.Hands]:"partHands",[f.Body]:"partBody",[f.Feet]:"partFeet",[f.PlanarSphere]:"partPlanarSphere",[f.LinkRope]:"partLinkRope"};return He(`/misc/${t[e]}.webp`)},getChangelog:e=>He(`/misc/changelog/${e}`),getSetImage:(e,t=m.Parts.PlanarSphere,n=!1)=>{if(e==-1)return k.getBlank();const l=String(e),s={base:"",[m.Parts.Head]:"_0",[m.Parts.Hands]:"_1",[m.Parts.Body]:"_2",[m.Parts.Feet]:"_3",[m.Parts.PlanarSphere]:"_0",[m.Parts.LinkRope]:"_1"};return n?e==ps||e==Ss?He(`/icon/relic/${ot[m.Sets.SacerdosRelivedOrdeal]}.webp`):He(`/icon/relic/${ot[l]}.webp`):e==ps||e==Ss?He(`/icon/relic/${ot[m.Sets.SacerdosRelivedOrdeal]}${s[t]}.webp`):He(`/icon/relic/${ot[l]}${s[t]}.webp`)},getHomeFeature:(e,t="en_US")=>He(`/misc/home/${t}/${e}.webp`),getHomeBackground:e=>He(`/misc/home/background/${e}.webp`),getGlobe:()=>He("/misc/globe.webp")},ht=e=>i.jsx(bs,{content:e.type.content,title:e.type.title,overlayStyle:{width:500},children:i.jsx("img",{src:k.getQuestion(),style:{width:16,opacity:.6}})}),G0=E.memo(({id:e,eidolon:t,teammateIndex:n})=>{const{t:l}=K("optimizerTab"),s=e;if(!e)return i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx($,{children:l("CharacterPassives")}),i.jsx(ht,{type:ut.characterPassives()})]});const o=ta.get({characterId:s,characterEidolon:t},!0);if(!o)return i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx($,{children:l("CharacterPassives")}),i.jsx(ht,{type:ut.characterPassives()})]});const r=n!=null?o.teammateContent?o.teammateContent():void 0:o.content();return i.jsxs(S,{vertical:!0,gap:5,children:[n==null&&i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx($,{children:l("CharacterPassives")}),i.jsx(ht,{type:ut.characterPassives()})]}),i.jsx(ru,{content:r,teammateIndex:n})]})});G0.displayName="CharacterConditionalDisplay";const g0=E.memo(e=>{var u;const{t}=K("optimizerTab"),{id:n,superImposition:l,teammateIndex:s}=e,o=s==null?window.optimizerForm.getFieldValue("characterId"):(u=window.optimizerForm.getFieldValue(`teammate${s}`))==null?void 0:u.characterId,r=Cn({characterId:o,characterEidolon:0,lightCone:n,lightConeSuperimposition:l},e.dbMetadata),c=aa.get(r,!0),d=s!=null?c.teammateContent?c.teammateContent():void 0:c.content();return i.jsxs(S,{vertical:!0,gap:5,children:[s==null&&i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx($,{children:t("LightconePassives")}),i.jsx(ht,{type:ut.lightConePassives()})]}),i.jsx(ru,{content:d,teammateIndex:s})]})});g0.displayName="LightConeConditionalDisplay";const sR=Qs([{color:"#5A1A06",pos:0},{color:"#343127",pos:.35},{color:"#38821F",pos:1}]);let Ol=Qs("#343127","#38821F");const lR={"augmentedStats.HP":169.35,"augmentedStats.ATK":84.675,"augmentedStats.DEF":84.675,"augmentedStats.SPD":10,"augmentedStats.ATK%":.1728,"augmentedStats.HP%":.1728,"augmentedStats.DEF%":.216,"augmentedStats.CRIT Rate":.1296,"augmentedStats.CRIT DMG":.2592,"augmentedStats.Effect Hit Rate":.1728,"augmentedStats.Effect RES":.1728,"augmentedStats.Break Effect":.2592,cv:.4,"weights.current":64.8,"weights.potentialSelected.averagePct":100,"weights.potentialSelected.bestPct":100,"weights.potentialAllAll":100,"weights.rerollAvgSelectedDelta":40},fe={getColor:(e,t)=>t.rgbAt(e).toHexString(),getOptimizerColumnGradient:e=>{const t=se.getAggregations();try{const n=e.column.colId,l=se.getColumnsToAggregateMap();if(e.data&&t&&l[n]){const s=t.min[n],o=t.max[n];let c=(e.value-s)/(o-s);return o==s&&(c=.5),{backgroundColor:fe.getColor(Math.min(Math.max(c,0),1),sR)}}}catch(n){console.error(n)}},setTheme(e){Ol=Qs(e.colorBgBase,e.colorPrimary)},setToken(e){Ol=Qs(e.colorBgElevated,e.colorPrimaryHover)},getRelicGradient(e){const t=e.column.colId,n=e.value;if(isNaN(n)||n==0)return{};let l;return t=="weights.rerollAvgSelectedDelta"?l=n/40:t.startsWith("weights.potential")||t.startsWith("weights.reroll")?l=n/100:t.startsWith("weights.")?l=n/(6.48*9):l=n/lR[t],{backgroundColor:fe.getColor(Math.min(Math.max(l,0),1),Ol)}}},T0={de_DE:{locale:"de_DE",nativeName:"Deutsch",shortName:"Deutsch"},en_US:{locale:"en_US",nativeName:"English",shortName:"English"},es_ES:{locale:"es_ES",nativeName:"Español",shortName:"Español"},fr_FR:{locale:"fr_FR",nativeName:"Français",shortName:"Français"},it_IT:{locale:"it_IT",nativeName:"Italiano",shortName:"Italiano"},ja_JP:{locale:"ja_JP",nativeName:"日本語",shortName:"日本語"},ko_KR:{locale:"ko_KR",nativeName:"한국어",shortName:"한국어"},pt_BR:{locale:"pt_BR",nativeName:"Português",shortName:"Português"},ru_RU:{locale:"ru_RU",nativeName:"русский",shortName:"русский"},tr_TR:{locale:"tr_TR",nativeName:"Türkçe",shortName:"Türkçe"},vi_VN:{locale:"vi_VN",nativeName:"Tiếng Việt",shortName:"Tiếng Việt"},zh_CN:{locale:"zh_CN",nativeName:"中文",shortName:"中文"},zh_TW:{locale:"zh_TW",nativeName:"中文",shortName:"中文"},aa_ER:{locale:"aa_ER",nativeName:"inContext",shortName:"inContext"}},oR=Object.values(T0).reduce((e,t)=>(e[t.locale]=t.locale.replace("_","-"),e),{});function Ul(e,t=0,n=!1){return e.toLocaleString(va(),{maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:n})}const rR={maximumFractionDigits:0,minimumFractionDigits:0,useGrouping:!0},cR={maximumFractionDigits:1,minimumFractionDigits:1,useGrouping:!0},dR={maximumFractionDigits:0,minimumFractionDigits:0,useGrouping:!1},uR={maximumFractionDigits:1,minimumFractionDigits:1,useGrouping:!1},mR={maximumFractionDigits:2,minimumFractionDigits:2,useGrouping:!1},bR={maximumFractionDigits:3,minimumFractionDigits:3,useGrouping:!1},ra=e=>e.toLocaleString(va(),rR),hR=e=>e.toLocaleString(va(),cR),hn=e=>e.toLocaleString(va(),dR),yt=e=>e.toLocaleString(va(),uR),Yn=e=>e.toLocaleString(va(),mR),Pn=e=>e.toLocaleString(va(),bR);function va(){return oR[v.resolvedLanguage]}const Y={floor:e=>(e==null?void 0:e.value)==null?"":hn(Math.floor(e.value)),x100Tenths:e=>(e==null?void 0:e.value)==null?"":yt(Math.floor(B.precisionRound(e.value*100)*10)/10),tenths:e=>(e==null?void 0:e.value)==null?"":yt(Math.floor(B.precisionRound(e.value)*10)/10),relicSet:e=>{if((e==null?void 0:e.value)==null||isNaN(e.value))return"";const t=e.value,n=Object.values(m.SetsRelics).length,l=[],s=t%n,o=(t-s)/n%n,r=(t-o*n-s)/(n*n)%n,c=(t-r*n*n-o*n-s)/(n*n*n)%n,d=[s,o,r,c];for(;d.length>0;){const u=d[0];if(d.lastIndexOf(u)){const b=Object.entries(m.RelicSetToIndex).find(G=>G[1]==u)[0],p=k.getSetImage(b,m.Parts.Head);l.push(p);const R=d.lastIndexOf(u);d.splice(R,1)}d.splice(0,1)}return l.sort(),i.jsxs(S,{justify:"center",style:{marginTop:-1},children:[i.jsx(ri,{asset:l[0]}),i.jsx(ri,{asset:l[1]})]})},ornamentSet:e=>{if((e==null?void 0:e.value)==null)return"";const t=e.value,n=Object.values(m.SetsOrnaments).length;let l;const s=t%n,o=(t-s)/n%n;if(s==o){const r=Object.entries(m.OrnamentSetToIndex).find(c=>c[1]==s)[0];return l=k.getSetImage(r,m.Parts.PlanarSphere),i.jsx(S,{justify:"center",style:{marginTop:-1},children:i.jsx(ri,{asset:l})})}else return""},anySet:e=>{if((e==null?void 0:e.value)==null)return"";const t=e.data.part,n=k.getSetImage(e.data.set,t);return i.jsx(S,{justify:"center",title:e.data.set,style:{marginTop:-1},children:i.jsx(ri,{asset:n})})},characterIcon:e=>{if((e==null?void 0:e.value)==null)return"";const t=e.data.equippedBy;if(!t)return"";const n=k.getCharacterAvatarById(t);return i.jsx(S,{justify:"center",style:{marginTop:-1},children:i.jsx(ri,{asset:n})})},readableStat:e=>(e==null?void 0:e.value)==null?"":v.t(`common:ShortReadableStats.${e.value}`),readablePart:e=>(e==null?void 0:e.value)==null?"":v.t(`common:ReadableParts.${e.value}`),partIcon:e=>(e==null?void 0:e.value)==null?"":i.jsx(S,{justify:"center",style:{marginTop:-1,width:20,marginBottom:3},children:i.jsx(ri,{asset:k.getPart(e.value)})}),hideZeroesFloor:e=>e.value==0?"":""+Math.floor(e.value),hideZeroes10thsRelicTabSpd:e=>{if(e.value==0)return"";const t=B.precisionRound(Math.floor(e.value*10)/10);return e.data.verified?t.toFixed(1):t},mainValueRenderer:e=>{const t=e.data.part;return t==m.Parts.Hands||t==m.Parts.Head?e.value==0?"":hn(Math.floor(e.value)):e.value==0?"":B.truncate10ths(e.value).toLocaleString(va())},hideZeroesX100Tenths:e=>e.value==0?"":Y.x100Tenths(e),hideNaNAndFloor:e=>isNaN(e.value)?0:Math.floor(e.value),hideNaNAndFloorPercent:e=>(isNaN(e.value)?0:Math.floor(e.value))+"%",renderSubstatNumber:(e,t)=>e.stat==m.Stats.SPD?t.verified?yt(B.truncate10ths(e.value)):Math.floor(e.value):B.isFlat(e.stat)?hn(Math.floor(e.value)):yt(B.truncate10ths(e.value)),renderMainStatNumber:e=>B.isFlat(e.stat)?hn(Math.floor(e.value)):yt(B.truncate10ths(e.value)),renderGradeCell:e=>{const t=e.data;return Y.renderGrade(t)},renderGrade:e=>{const t=pR[e.grade]||"";return e.verified?i.jsx(_c,{mouseEnterDelay:.4,title:v.t("common:VerifiedRelicHoverText"),children:i.jsx($s,{style:{fontSize:"14px",color:t}})}):i.jsx(S,{children:i.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",style:{display:"inline-block",verticalAlign:"middle"},children:i.jsx("circle",{cx:"7",cy:"7",r:"7",fill:t==""?"transparent":t})})})},renderEquippedBy:e=>e=="true"?i.jsx($s,{style:{fontSize:"14px",color:"#6de362"}}):i.jsx(zo,{style:{fontSize:"14px",color:"#de5555"}})},pR={5:"#efb679",4:"#cc52f1",3:"#58beed",2:"#63e0ac",[-1]:"#bdbdbd"};function ri(e){return e.asset?i.jsx(Qc,{src:e.asset,width:32,preview:!1}):""}const ft=46,xe=50,Il=52,je=56,xl=62,It=5,oa=211,Ei=11,Cr={rowHeight:33,pagination:!0,rowModelType:"infinite",datasource:null,paginationPageSize:500,paginationPageSizeSelector:[100,500,1e3],cacheBlockSize:500,maxBlocksInCache:1,alwaysShowVerticalScroll:!0,suppressDragLeaveHidesColumns:!0,suppressScrollOnNewData:!0,suppressMultiSort:!0,getRowId:e=>String(e.data.id||B.randomId())},SR={cellStyle:fe.getOptimizerColumnGradient,sortable:!0,sortingOrder:["desc","asc"],wrapHeaderText:!0,autoHeaderHeight:!0},it="ᴹ";function RR(e){return[{field:"relicSetIndex",cellRenderer:Y.relicSet,width:72,headerName:e("Grid.Headers.Basic.Set")},{field:"ornamentSetIndex",cellRenderer:Y.ornamentSet,width:42,headerName:e("Grid.Headers.Basic.Set")},{field:m.Stats.ATK,valueFormatter:Y.floor,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.ATK"),cellStyle:fe.getOptimizerColumnGradient},{field:m.Stats.DEF,valueFormatter:Y.floor,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.DEF"),cellStyle:fe.getOptimizerColumnGradient},{field:m.Stats.HP,valueFormatter:Y.floor,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.HP"),cellStyle:fe.getOptimizerColumnGradient},{field:m.Stats.SPD,valueFormatter:Y.tenths,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.SPD"),cellStyle:fe.getOptimizerColumnGradient},{field:m.Stats.CR,valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.CR"),cellStyle:fe.getOptimizerColumnGradient},{field:m.Stats.CD,valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.CD"),cellStyle:fe.getOptimizerColumnGradient},{field:m.Stats.EHR,valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.EHR"),cellStyle:fe.getOptimizerColumnGradient},{field:m.Stats.RES,valueFormatter:Y.x100Tenths,minWidth:ft,flex:10,headerName:e("Grid.Headers.Basic.RES"),cellStyle:fe.getOptimizerColumnGradient},{field:m.Stats.BE,valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.BE"),cellStyle:fe.getOptimizerColumnGradient},{field:m.Stats.OHB,valueFormatter:Y.x100Tenths,minWidth:ft,flex:10,headerName:e("Grid.Headers.Basic.OHB")},{field:m.Stats.ERR,valueFormatter:Y.x100Tenths,minWidth:ft,flex:10,headerName:e("Grid.Headers.Basic.ERR")},{field:"ED",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.DMG")},{field:"EHP",valueFormatter:Y.floor,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.EHP")},{field:"HEAL",valueFormatter:Y.floor,minWidth:ft,flex:10,headerName:e("Grid.Headers.Basic.HEAL")},{field:"SHIELD",valueFormatter:Y.floor,minWidth:ft,flex:10,headerName:e("Grid.Headers.Basic.SHIELD")},{field:"WEIGHT",valueFormatter:Y.floor,minWidth:Il,flex:10,headerName:e("Grid.Headers.Basic.WEIGHT")},{field:"BASIC",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Basic.BASIC")},{field:"SKILL",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Basic.SKILL")},{field:"ULT",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Basic.ULT")},{field:"FUA",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Basic.FUA")},{field:"MEMO_SKILL",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Basic.MEMO_SKILL")},{field:"MEMO_TALENT",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Basic.MEMO_TALENT")},{field:"DOT",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Basic.DOT")},{field:"BREAK",valueFormatter:Y.floor,minWidth:xe,flex:12,headerName:e("Grid.Headers.Basic.BREAK")},{field:"COMBO",valueFormatter:Y.floor,minWidth:xl,flex:13,headerName:e("Grid.Headers.Basic.COMBO")}]}function fR(e){return[{field:"relicSetIndex",cellRenderer:Y.relicSet,width:72,headerName:e("Grid.Headers.Basic.Set")},{field:"ornamentSetIndex",cellRenderer:Y.ornamentSet,width:42,headerName:e("Grid.Headers.Basic.Set")},{field:"mATK",valueFormatter:Y.floor,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.ATK")+it,cellStyle:fe.getOptimizerColumnGradient},{field:"mDEF",valueFormatter:Y.floor,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.DEF")+it,cellStyle:fe.getOptimizerColumnGradient},{field:"mHP",valueFormatter:Y.floor,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.HP")+it,cellStyle:fe.getOptimizerColumnGradient},{field:"mSPD",valueFormatter:Y.tenths,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.SPD")+it,cellStyle:fe.getOptimizerColumnGradient},{field:"mCR",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.CR")+it,cellStyle:fe.getOptimizerColumnGradient},{field:"mCD",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.CD")+it,cellStyle:fe.getOptimizerColumnGradient},{field:"mEHR",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.EHR")+it,cellStyle:fe.getOptimizerColumnGradient},{field:"mRES",valueFormatter:Y.x100Tenths,minWidth:ft,flex:10,headerName:e("Grid.Headers.Basic.RES")+it,cellStyle:fe.getOptimizerColumnGradient},{field:"mBE",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.BE")+it,cellStyle:fe.getOptimizerColumnGradient},{field:"mOHB",valueFormatter:Y.x100Tenths,minWidth:ft,flex:10,headerName:e("Grid.Headers.Basic.OHB")+it},{field:"mERR",valueFormatter:Y.x100Tenths,minWidth:ft,flex:10,headerName:e("Grid.Headers.Basic.ERR")+it},{field:"mELEMENTAL_DMG",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.DMG")+it},{field:"mxEHP",valueFormatter:Y.floor,minWidth:xe,flex:10,headerName:e("Grid.Headers.Basic.EHP")},{field:"HEAL",valueFormatter:Y.floor,minWidth:ft,flex:10,headerName:e("Grid.Headers.Basic.HEAL")},{field:"SHIELD",valueFormatter:Y.floor,minWidth:ft,flex:10,headerName:e("Grid.Headers.Basic.SHIELD")},{field:"WEIGHT",valueFormatter:Y.floor,minWidth:Il,flex:10,headerName:e("Grid.Headers.Basic.WEIGHT")},{field:"BASIC",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Basic.BASIC")},{field:"SKILL",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Basic.SKILL")},{field:"ULT",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Basic.ULT")},{field:"FUA",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Basic.FUA")},{field:"MEMO_SKILL",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Basic.MEMO_SKILL")},{field:"MEMO_TALENT",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Basic.MEMO_TALENT")},{field:"DOT",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Basic.DOT")},{field:"BREAK",valueFormatter:Y.floor,minWidth:xe,flex:12,headerName:e("Grid.Headers.Basic.BREAK")},{field:"COMBO",valueFormatter:Y.floor,minWidth:xl,flex:13,headerName:e("Grid.Headers.Basic.COMBO")}]}function GR(e){return[{field:"relicSetIndex",cellRenderer:Y.relicSet,width:72,headerName:e("Grid.Headers.Combat.Set")},{field:"ornamentSetIndex",cellRenderer:Y.ornamentSet,width:42,headerName:e("Grid.Headers.Combat.Set")},{field:"xATK",valueFormatter:Y.floor,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.ATK")},{field:"xDEF",valueFormatter:Y.floor,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.DEF")},{field:"xHP",valueFormatter:Y.floor,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.HP")},{field:"xSPD",valueFormatter:Y.tenths,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.SPD")},{field:"xCR",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.CR")},{field:"xCD",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.CD")},{field:"xEHR",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.EHR")},{field:"xRES",valueFormatter:Y.x100Tenths,minWidth:ft,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.RES")},{field:"xBE",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.BE")},{field:"xOHB",valueFormatter:Y.x100Tenths,minWidth:ft,flex:10,headerName:e("Grid.Headers.Combat.OHB")},{field:"xERR",valueFormatter:Y.x100Tenths,minWidth:ft,flex:10,headerName:e("Grid.Headers.Combat.ERR")},{field:"xELEMENTAL_DMG",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,headerName:e("Grid.Headers.Combat.DMG")},{field:"EHP",valueFormatter:Y.floor,minWidth:xe,flex:10,headerName:e("Grid.Headers.Combat.EHP")},{field:"HEAL",valueFormatter:Y.floor,minWidth:ft,flex:10,headerName:e("Grid.Headers.Combat.HEAL")},{field:"SHIELD",valueFormatter:Y.floor,minWidth:ft,flex:10,headerName:e("Grid.Headers.Combat.SHIELD")},{field:"WEIGHT",valueFormatter:Y.floor,minWidth:Il,flex:10,headerName:e("Grid.Headers.Combat.WEIGHT")},{field:"BASIC",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Combat.BASIC")},{field:"SKILL",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Combat.SKILL")},{field:"ULT",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Combat.ULT")},{field:"FUA",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Combat.FUA")},{field:"MEMO_SKILL",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Combat.MEMO_SKILL")},{field:"MEMO_TALENT",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Combat.MEMO_TALENT")},{field:"DOT",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Combat.DOT")},{field:"BREAK",valueFormatter:Y.floor,minWidth:xe,flex:12,headerName:e("Grid.Headers.Combat.BREAK")},{field:"COMBO",valueFormatter:Y.floor,minWidth:xl,flex:13,headerName:e("Grid.Headers.Combat.COMBO")}]}function gR(e){return[{field:"relicSetIndex",cellRenderer:Y.relicSet,width:72,headerName:e("Grid.Headers.Combat.Set")},{field:"ornamentSetIndex",cellRenderer:Y.ornamentSet,width:42,headerName:e("Grid.Headers.Combat.Set")},{field:"mxATK",valueFormatter:Y.floor,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.ATK")+it},{field:"mxDEF",valueFormatter:Y.floor,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.DEF")+it},{field:"mxHP",valueFormatter:Y.floor,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.HP")+it},{field:"mxSPD",valueFormatter:Y.tenths,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.SPD")+it},{field:"mxCR",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.CR")+it},{field:"mxCD",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.CD")+it},{field:"mxEHR",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.EHR")+it},{field:"mxRES",valueFormatter:Y.x100Tenths,minWidth:ft,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.RES")+it},{field:"mxBE",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,cellStyle:fe.getOptimizerColumnGradient,headerName:e("Grid.Headers.Combat.BE")+it},{field:"mxOHB",valueFormatter:Y.x100Tenths,minWidth:ft,flex:10,headerName:e("Grid.Headers.Combat.OHB")+it},{field:"mxERR",valueFormatter:Y.x100Tenths,minWidth:ft,flex:10,headerName:e("Grid.Headers.Combat.ERR")+it},{field:"mxELEMENTAL_DMG",valueFormatter:Y.x100Tenths,minWidth:xe,flex:10,headerName:e("Grid.Headers.Combat.DMG")+it},{field:"mxEHP",valueFormatter:Y.floor,minWidth:xe,flex:10,headerName:e("Grid.Headers.Combat.EHP")},{field:"HEAL",valueFormatter:Y.floor,minWidth:ft,flex:10,headerName:e("Grid.Headers.Combat.HEAL")},{field:"SHIELD",valueFormatter:Y.floor,minWidth:ft,flex:10,headerName:e("Grid.Headers.Combat.SHIELD")},{field:"WEIGHT",valueFormatter:Y.floor,minWidth:Il,flex:10,headerName:e("Grid.Headers.Combat.WEIGHT")},{field:"BASIC",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Combat.BASIC")},{field:"SKILL",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Combat.SKILL")},{field:"ULT",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Combat.ULT")},{field:"FUA",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Combat.FUA")},{field:"MEMO_SKILL",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Combat.MEMO_SKILL")},{field:"MEMO_TALENT",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Combat.MEMO_TALENT")},{field:"DOT",valueFormatter:Y.floor,minWidth:je,flex:12,headerName:e("Grid.Headers.Combat.DOT")},{field:"BREAK",valueFormatter:Y.floor,minWidth:xe,flex:12,headerName:e("Grid.Headers.Combat.BREAK")},{field:"COMBO",valueFormatter:Y.floor,minWidth:xl,flex:13,headerName:e("Grid.Headers.Combat.COMBO")}]}const TR=()=>{const{t:e}=K("optimizerTab",{keyPrefix:"AdvancedOptions"}),t=window.store(c=>c.setCombatBuffsDrawerOpen),n=window.store(c=>c.setEnemyConfigurationsDrawerOpen),l=window.store(c=>c.setStatTracesDrawerOpen),s=window.store(c=>c.setStatTracesDrawerFocusCharacter),o=U.useWatch(c=>c.combatBuffs,window.optimizerForm),r=E.useMemo(()=>o?Object.values(o).filter(c=>c!=null).length:0,[o]);return i.jsxs(S,{vertical:!0,gap:It,children:[i.jsx($,{style:{marginTop:25},children:e("Header")}),i.jsx(z,{onClick:()=>{l(!0),s(window.store.getState().optimizerTabFocusCharacter)},icon:i.jsx(xa,{}),children:e("CustomTracesButtonText")}),i.jsx(z,{onClick:()=>t(!0),icon:i.jsx(xa,{}),children:r?e("CombatBuffsButtonText",{activeCount:r}):e("CombatBuffsButtonTextNone")}),i.jsx(z,{onClick:()=>n(!0),icon:i.jsx(xa,{}),children:e("EnemyConfigButtonText")})]})};function cu(){const e=v.getFixedT(null,"gameData","Characters"),t=y.clone(I.getMetadata().characters);for(const n of Object.values(t))n.value=n.id,n.label=e(`${n.id}.LongName`);return Object.values(t).sort((n,l)=>n.label.localeCompare(l.label,va()))}function yR(e){const t=v.getFixedT(null,"gameData","Lightcones"),n=y.clone(I.getMetadata().lightCones);let l=null;for(const s of Object.values(n))s.value=s.id,s.label=t(`${s.id}.Name`);return Object.values(n).filter(s=>!l).sort((s,o)=>s.label.localeCompare(o.label,va()))}const{useToken:ZR}=Bt,{Paragraph:CR}=ye,DR=100,ER=150,du=e=>i.jsxs("div",{children:[i.jsx("img",{width:e.innerW,src:e.imgSrc,style:{transform:`translate(${(e.innerW-DR)/2/e.innerW*-100}%, ${(e.innerH-ER)/2/e.innerH*-100}%)`}}),i.jsx(CR,{ellipsis:{rows:e.rows},style:{position:"absolute",bottom:0,left:0,width:"110%",textAlign:"center",background:"#282B31",color:"#D0D0D2",marginLeft:"-5%",paddingLeft:10,paddingRight:10,lineHeight:"16px",height:18*e.rows,alignItems:"center",marginBottom:0,fontSize:13},children:i.jsx("div",{style:{position:"relative",top:"50%",transform:"translateY(-50%)",maxHeight:18*e.rows,textOverflow:"ellipsis",overflow:"hidden"},children:e.text})})]});function y0(){return Object.keys(Xi).map(e=>({key:e,display:i.jsx("img",{style:{width:32},src:k.getPath(e)})}))}function IR(){return[5,4,3].map(e=>{const t=[];for(let n=0;n<e;n++)t.push(i.jsx("img",{style:{width:16},src:k.getStar()},n));return{key:e,display:i.jsx(S,{flex:1,justify:"center",align:"center",style:{marginTop:1},children:t})}})}function uu(){return Object.keys(ei).map(e=>({key:e,display:i.jsx("img",{style:{width:30},src:k.getElement(e)})}))}function Pi(e){const{token:t}=ZR(),{currentFilters:n,name:l,flexBasis:s,tags:o,setCurrentFilters:r}=e,c=n[l],d=(u,b)=>{const p=b?[...c,u]:c.filter(G=>G!=u),R=y.clone(n);R[l]=p,console.log("filters",l,R),r(R)};return i.jsx(S,{style:{flexWrap:"wrap",flexGrow:1,backgroundColor:t.colorBgContainer,boxShadow:`0px 0px 0px 1px ${t.colorBorder} inset`,borderRadius:6,overflow:"hidden",height:40},children:o.map(u=>i.jsx($c,{checked:bn(c,u.key),onChange:b=>d(u.key,b),style:{flex:1,flexBasis:s,boxShadow:`1px 1px 1px 0px ${t.colorBorder}`,backgroundColor:bn(c,u.key)?t.colorPrimary:"transparent"},children:i.jsx(S,{align:"center",justify:"space-around",style:{height:"100%"},children:u.display})},u.key))})}const xR=100,WR=150,MR=150,LR=170,VR="linear-gradient(#8A6700 0px, #D6A100 63px, #D6A100 130px, #282B31 130px, #282B31 150px)",PR="linear-gradient(#5F388C 0px, #9F6CD9 63px, #9F6CD9 130px, #282B31 130px, #282B31 150px)",Dr={rarity:[],path:[],element:[],name:""},Fi=({value:e,onChange:t,selectStyle:n,multipleSelect:l,withIcon:s,externalOpen:o,setExternalOpen:r})=>{const c=E.useRef(null),{t:d}=K("modals",{keyPrefix:"CharacterSelect"}),[u,b]=E.useState(!1),[p,R]=E.useState(B.clone(Dr)),G=E.useMemo(()=>cu(),[d]),[T,C]=E.useState(new Map),D=window.store(O=>O.excludedRelicPotentialCharacters),V=[];for(const O of G)V.push({value:O.value,label:i.jsxs(S,{gap:5,align:"center",children:[i.jsx("img",{src:k.getCharacterAvatarById(O.value),style:{height:22,marginRight:4}}),O.label]})});E.useEffect(()=>{if((u||o)&&(setTimeout(()=>{var O;return(O=c==null?void 0:c.current)==null?void 0:O.focus()},100),l)){const O=new Map(D.map(j=>[j,!0]));C(O)}},[u,o]);function M(O){return!(p.element.length&&!p.element.includes(O.element)||p.path.length&&!p.path.includes(O.path)||!O.label.toLowerCase().includes(p.name))}const x=O=>{l?(T.set(O,!T.get(O)),C(new Map(T))):(b(!1),r&&r(!1),t&&t(O))},W=()=>{const O=new Map(T);G.filter(M).forEach(j=>O.set(j.id,!0)),C(O)},H=()=>{const O=new Map(T);G.filter(M).forEach(j=>O.delete(j.id)),C(O)};return i.jsxs(i.Fragment,{children:[i.jsx(J,{style:n,value:e,options:s?V:G,placeholder:d(l?"MultiSelect.Placeholder":"SingleSelect.Placeholder"),allowClear:!0,maxTagCount:0,maxTagPlaceholder:()=>i.jsx("span",{children:D.length?d("MultiSelect.MaxTagPlaceholderSome",{count:D.length}):d("MultiSelect.MaxTagPlaceholderNone")}),onClear:()=>{t&&t(null)},onDropdownVisibleChange:O=>{O&&(b(!0),R(B.clone(Dr)))},dropdownStyle:{display:"none"},suffixIcon:null,mode:l?"multiple":void 0}),i.jsx(Vt,{open:u||o,centered:!0,destroyOnClose:!0,width:"90%",style:{height:"80%",maxWidth:1450},title:d(l?"MultiSelect.ModalTitle":"SingleSelect.ModalTitle"),onCancel:()=>{l&&t&&t(T),b(!1),r&&r(!1)},footer:null,children:i.jsxs(S,{vertical:!0,gap:12,style:{minWidth:350},children:[i.jsxs(S,{gap:12,wrap:"wrap",children:[i.jsxs(S,{wrap:"nowrap",style:{flexGrow:1},gap:10,children:[i.jsx(Yt,{size:"large",style:{height:40,flex:1},placeholder:d("SearchPlaceholder"),ref:c,onChange:O=>{const j=B.clone(p);j.name=O.target.value.toLowerCase(),R(j)},onPressEnter:()=>{const O=G.filter(M)[0];O&&x(O.id)}}),l&&i.jsxs(S,{gap:12,children:[i.jsx(z,{onClick:W,style:{height:"100%",width:120},children:d("ExcludeButton")}),i.jsx(z,{onClick:H,style:{height:"100%",width:120},children:d("ClearButton")})]})]}),i.jsxs(S,{wrap:"wrap",style:{minWidth:350,flexGrow:1},gap:12,children:[i.jsx(S,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:i.jsx(Pi,{name:"element",tags:uu(),flexBasis:"14.2%",currentFilters:p,setCurrentFilters:R})}),i.jsx(S,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:i.jsx(Pi,{name:"path",tags:y0(),flexBasis:"12.5%",currentFilters:p,setCurrentFilters:R})})]})]}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(auto-fill, minmax(${xR}px, 1fr))`,gridGap:8},children:G.sort(B.sortRarityDesc).filter(M).map(O=>i.jsx(zn,{hoverable:!0,style:{background:O.rarity===5?VR:PR,overflow:"hidden",height:`${WR}px`,...T.get(O.id)?{opacity:.25,background:"grey"}:{}},styles:{body:{padding:1}},onMouseDown:()=>x(O.id),children:i.jsx(du,{imgSrc:k.getCharacterPreviewById(O.id),text:O.label,innerW:MR,innerH:LR,rows:1})},O.id))})]})})]})},FR="linear-gradient(#8A6700 0px, #D6A100 63px, #D6A100 112px, #282B31 112px, #282B31 150px)",BR="linear-gradient(#5F388C 0px, #9F6CD9 63px, #9F6CD9 112px, #282B31 112px, #282B31 150px)",HR="linear-gradient(#2d4cc5 0px, #4A85C8 63px, #4A85C8 112px, #282B31 112px, #282B31 150px)",vR={5:FR,4:BR,3:HR},XR=100,kR=150,YR=115,wR=150,Z0=({characterId:e,value:t,onChange:n,selectStyle:l,initialPath:s,withIcon:o,externalOpen:r,setExternalOpen:c})=>{const d=I.getMetadata(),[u,b]=E.useState(!1),{t:p}=K("modals",{keyPrefix:"LightconeSelect"}),R=E.useMemo(()=>({rarity:[],path:s??(e?[d.characters[e].path]:[]),name:""}),[e,s]),G=E.useRef(null),[T,C]=E.useState(B.clone(R)),D=E.useMemo(()=>yR(),[p]),V=E.useMemo(()=>{const W=[];for(const H of D)W.push({value:H.value,label:i.jsxs(S,{gap:5,align:"center",children:[i.jsx("img",{src:k.getPath(d.lightCones[H.value].path),style:{height:22,marginRight:4}}),H.label]})});return W},[D]);E.useEffect(()=>{(u||r)&&setTimeout(()=>{var W;return(W=G==null?void 0:G.current)==null?void 0:W.focus()},100)},[u,r]);function M(W){return!(T.rarity.length&&!T.rarity.includes(W.rarity)||T.path.length&&!T.path.includes(W.path)||!W.name.toLowerCase().includes(T.name))}const x=W=>{b(!1),c&&c(!1),n&&n(W)};return i.jsxs(i.Fragment,{children:[i.jsx(J,{style:l,value:t,options:o?V:D,placeholder:p("Placeholder"),allowClear:!0,onClear:()=>{n&&n(null)},onDropdownVisibleChange:W=>{W&&(b(!0),C(B.clone(R)))},dropdownStyle:{display:"none"},suffixIcon:null}),i.jsx(Vt,{open:u||r,centered:!0,width:"90%",style:{height:"70%",maxWidth:1200},destroyOnClose:!0,title:p("Title"),onCancel:()=>{b(!1),c&&c(!1)},footer:null,children:i.jsxs(S,{vertical:!0,gap:12,children:[i.jsxs(S,{gap:12,wrap:"wrap",children:[i.jsx(S,{vertical:!0,wrap:"wrap",style:{minWidth:300,flexGrow:1},children:i.jsx(Yt,{size:"large",style:{height:40},placeholder:p("Placeholder"),ref:G,onChange:W=>{const H=B.clone(T);H.name=W.target.value.toLowerCase(),C(H)},onPressEnter:()=>{const W=D.filter(M)[0];W&&x(W.id)}})}),i.jsxs(S,{wrap:"wrap",style:{flexGrow:1},gap:12,children:[i.jsx(S,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:i.jsx(Pi,{name:"path",tags:y0(),flexBasis:"12.5%",currentFilters:T,setCurrentFilters:C})}),i.jsx(S,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:i.jsx(Pi,{name:"rarity",tags:IR(),flexBasis:"14.2%",currentFilters:T,setCurrentFilters:C})})]})]}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(auto-fill, minmax(${XR}px, 1fr))`,gridGap:8},children:D.sort(B.sortRarityDesc).filter(M).map(W=>i.jsx(zn,{hoverable:!0,style:{background:vR[W.rarity],overflow:"hidden",height:`${kR}px`},onMouseDown:()=>x(W.id),styles:{body:{padding:1}},children:i.jsx(du,{imgSrc:k.getLightConeIconById(W.id),text:W.label,innerW:YR,innerH:wR,rows:2})},W.id))})]})})]})};function NR(){const{t:e}=K(["optimizerTab","common"]),t=window.store(R=>R.optimizerTabFocusCharacter),n=window.store(R=>R.setOptimizerTabFocusCharacter),l=window.store(R=>R.setOptimizerFormCharacterEidolon),s=window.store(R=>R.setOptimizerFormSelectedLightCone),o=window.store(R=>R.setOptimizerFormSelectedLightConeSuperimposition),r=window.store(R=>R.optimizerTabFocusCharacterSelectModalOpen),c=window.store(R=>R.setOptimizerTabFocusCharacterSelectModalOpen);E.useEffect(()=>{se.updateCharacter(t)},[t]);const d=E.useMemo(()=>{const R=[];for(let G=0;G<=6;G++)R.push({value:G,label:e("common:EidolonNShort",{eidolon:G})});return R},[e]),u=E.useMemo(()=>{const R=[];for(let G=1;G<=5;G++)R.push({value:G,label:e("common:SuperimpositionNShort",{superimposition:G})});return R},[e]),b=E.useMemo(()=>{const R=[];for(let G=64;G<=65536;G=G*2)R.push({value:G,label:e("ResultLimitN",{limit:G})});return R},[e]),p=E.useMemo(()=>[{label:e("SortOptions.DMGLabel"),options:[{value:Z.COMBO.key,label:e("SortOptions.COMBO")},{value:Z.BASIC.key,label:e("SortOptions.BASIC")},{value:Z.SKILL.key,label:e("SortOptions.SKILL")},{value:Z.ULT.key,label:e("SortOptions.ULT")},{value:Z.FUA.key,label:e("SortOptions.FUA")},{value:Z.MEMO_SKILL.key,label:e("SortOptions.MEMO_SKILL")},{value:Z.MEMO_TALENT.key,label:e("SortOptions.MEMO_TALENT")},{value:Z.DOT.key,label:e("SortOptions.DOT")},{value:Z.BREAK.key,label:e("SortOptions.BREAK")},{value:Z.HEAL.key,label:e("SortOptions.HEAL")},{value:Z.SHIELD.key,label:e("SortOptions.SHIELD")}]},{label:e("SortOptions.StatLabel"),options:[{value:Z.HP.key,label:e("SortOptions.HP")},{value:Z.ATK.key,label:e("SortOptions.ATK")},{value:Z.DEF.key,label:e("SortOptions.DEF")},{value:Z.SPD.key,label:e("SortOptions.SPD")},{value:Z.CR.key,label:e("SortOptions.CR")},{value:Z.CD.key,label:e("SortOptions.CD")},{value:Z.EHR.key,label:e("SortOptions.EHR")},{value:Z.RES.key,label:e("SortOptions.RES")},{value:Z.BE.key,label:e("SortOptions.BE")},{value:Z.OHB.key,label:e("SortOptions.OHB")},{value:Z.ERR.key,label:e("SortOptions.ERR")},{value:Z.ELEMENTAL_DMG.key,label:e("SortOptions.DMG")},{value:Z.EHP.key,label:e("SortOptions.EHP")}]}],[e]);return i.jsxs(S,{vertical:!0,gap:It,children:[i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx($,{children:e("CharacterSelector.Character")}),i.jsx(ht,{type:ut.character()})]}),i.jsxs(S,{gap:It,children:[i.jsx(U.Item,{name:"characterId",children:i.jsx(Fi,{value:"",selectStyle:{width:151},onChange:n,externalOpen:r,setExternalOpen:c})}),i.jsx(U.Item,{name:"characterEidolon",children:i.jsx(J,{showSearch:!0,style:{width:55},options:d,onChange:l,placeholder:e("CharacterSelector.EidolonPlaceholder"),popupMatchSelectWidth:55,suffixIcon:null})})]}),i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx($,{children:e("CharacterSelector.Lightcone")}),i.jsx(ht,{type:ut.lightCone()})]}),i.jsx(S,{vertical:!0,gap:It,children:i.jsxs(S,{gap:It,children:[i.jsx(U.Item,{name:"lightCone",children:i.jsx(Z0,{value:"",selectStyle:{width:151},characterId:t,onChange:s})}),i.jsx(U.Item,{name:"lightConeSuperimposition",children:i.jsx(J,{showSearch:!0,style:{width:55},onChange:o,options:u,placeholder:e("CharacterSelector.SuperimpositionPlaceholder"),popupMatchSelectWidth:55,suffixIcon:null})})]})}),i.jsx(S,{justify:"space-between",align:"center",style:{marginTop:30},children:i.jsx($,{children:e("CharacterSelector.Presets")})}),i.jsx(MG,{}),i.jsx(S,{justify:"space-between",align:"center",style:{marginTop:30},children:i.jsx($,{children:e("CharacterSelector.Target")})}),i.jsx(U.Item,{name:"resultsLimit",children:i.jsx(J,{showSearch:!0,style:{width:oa},options:b,placeholder:e("CharacterSelector.ResultsPlaceholder"),listHeight:800})}),i.jsx(U.Item,{name:"resultSort",children:i.jsx(J,{showSearch:!0,style:{width:oa},options:p,listHeight:900,popupMatchSelectWidth:250,placeholder:e("CharacterSelector.TargetPlaceholder"),filterOption:B.labelFilterOption})})]})}const Ke=22,$e=8,Gs=280*3+$e*2,Aa=198*2+$e,OR=1024,UR=240,KR=280,mu=250,JR=1260/902*mu,AR=240,sl=Ft($t)`
    width: 60px
`,{Text:jR}=ye,zR=()=>{const{t:e}=K("optimizerTab",{keyPrefix:"CombatBuffs"}),t=window.store(s=>s.combatBuffsDrawerOpen),n=window.store(s=>s.setCombatBuffsDrawerOpen),l=E.useMemo(()=>Object.values(Zl).map(s=>i.jsx(_R,{title:e(`${s.key}`),name:s.key},s.key)),[e]);return i.jsx(_n,{title:e("Title"),placement:"right",onClose:()=>n(!1),open:t,width:300,forceRender:!0,children:i.jsx(S,{vertical:!0,gap:$e,children:i.jsx(S,{vertical:!0,gap:It,children:l})})})};function _R(e){return i.jsxs(S,{justify:"space-between",children:[i.jsx(jR,{children:e.title}),i.jsx(U.Item,{name:["combatBuffs",e.name],children:i.jsx(sl,{size:"small",controls:!1})})]})}function QR(){const e=window.scrollY;document.body.style.position="fixed",document.body.style.top=`-${e}px`,document.body.style.width="100%"}function $R(){const e=parseInt(document.body.style.top||"0")*-1;document.body.style.position="",document.body.style.top="",document.body.style.width="",window.scrollTo(0,e)}function os(e){const{value:t,label:n,closable:l,onClose:s}=e,o=typeof n=="string"?n.replace(/[^0-9+]/g,""):null;return t?i.jsx(Ii,{closable:l,onClose:s,style:{display:"flex",flexDirection:"row",paddingInline:"1px",marginInlineEnd:"4px",height:21,alignItems:"center",overflow:"hidden"},children:i.jsx(S,{children:i.jsx("img",{title:t,src:k.getSetImage(t,m.Parts.PlanarSphere),style:{width:24,height:24}})})}):i.jsx(Ii,{closable:l,onClose:s,children:i.jsx(S,{children:o})})}const C0=()=>Object.values(qn).filter(e=>!xi[e]).map(e=>({value:e,label:i.jsxs(S,{gap:5,align:"center",children:[i.jsx("img",{src:k.getSetImage(e,m.Parts.PlanarSphere),style:{width:21,height:21}}),i.jsx("div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",width:250,whiteSpace:"nowrap"},children:v.t(`common:RelicSets.${ot[e]}.Name`)})]})})),qR=()=>{const e=v.getFixedT(null,"optimizerTab","RelicSetSelector"),t=v.getFixedT(null,"gameData","RelicSets"),n=[{value:pa.relic4Piece,label:e("4pcLabel"),children:[]},{value:pa.relic2Plus2Piece,label:e("2+2pcLabel"),children:[]},{value:pa.relic2PlusAny,label:e("2pcLabel"),children:[]}],l=Object.entries(m.SetsRelics).filter(o=>!xi[o[1]]).map(o=>({value:o[1],label:o[1]})),s=(o,r,c)=>{const d=o=="Any"?k.getBlank():k.getSetImage(o,m.Parts.Head);return i.jsxs(S,{gap:5,align:"center",children:[i.jsx("img",{src:d,style:{width:26,height:26}}),i.jsx("div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",width:250,whiteSpace:"nowrap"},children:r+c})]})};for(const o of Object.entries(m.SetsRelics).filter(r=>!xi[r[1]]))n[0].children.push({value:o[1],label:s(o[1],"(4) ",t(`${ot[o[1]]}.Name`))}),n[1].children.push({value:o[1],label:s(o[1],"(2) ",t(`${ot[o[1]]}.Name`)),children:l.map(r=>({value:r.value,label:s(r.value,"(2) ",t(`${ot[r.label]}.Name`))}))}),n[2].children.push({value:o[1],label:s(o[1],"(2) ",t(`${ot[o[1]]}.Name`))});return n},Vo=()=>{const e=v.getFixedT(null,"gameData","RelicSets");return Object.values(m.SetsRelics).filter(t=>!xi[t]).map(t=>({value:t,label:i.jsxs(S,{gap:5,align:"center",children:[i.jsx("img",{src:k.getSetImage(t,m.Parts.Head),style:{width:21,height:21}}),i.jsx("div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",width:250,whiteSpace:"nowrap"},children:e(`${ot[t]}.Name`)})]})}))};function Pt(e){return i.jsx("a",{href:e.url,target:"_blank",onClick:e.onClick,rel:"noreferrer",children:i.jsxs("span",{style:{display:"inline-flex",gap:"4px",alignItems:"center",textDecoration:e.noUnderline?"":"underline",color:"#91bfff"},children:[e.text,e.linkIcon&&i.jsx(qc,{}),e.externalIcon&&i.jsx(ed,{})]})})}const ll={fontSize:20};function ef(){const e=window.store(c=>c.comboDrawerOpen),t=window.store(c=>c.setComboDrawerOpen),n=window.store(c=>c.formValues),l=window.store(c=>c.comboState),s=window.store(c=>c.setComboState),o=E.useRef(!0),r=E.useRef(void 0);return E.useEffect(()=>{if(e){QR();const c=se.getForm();if(!(c!=null&&c.characterId)||!c.characterConditionals)return;const d=al(c,!0);s(d)}else $R(),c0(l)},[n,e]),i.jsx(_n,{title:i.jsx(tf,{}),placement:"right",onClose:()=>t(!1),open:e,width:1125,className:".comboDrawer",extra:i.jsx(S,{style:{width:716},align:"center",children:i.jsx(lf,{comboState:l})}),children:i.jsxs("div",{style:{width:1050,height:"100%"},children:[i.jsx(cf,{comboState:l}),i.jsx(Bm,{className:"selecto-selection",selectableTargets:[".selectable"],selectByClick:!0,selectFromInside:!0,continueSelect:!0,keyContainer:window,hitRate:0,onDrag:c=>{const d=c.inputEvent.srcElement.getAttribute("data-key")??"{}";d!=r.current&&(cr(d,l),r.current=d)},onDragStart:c=>{const d=c.inputEvent.srcElement.getAttribute("data-key")??"{}",u=r0(d,l);o.current=!(u&&u.value),r.current=void 0},onSelect:c=>{const d={...l};c.added.forEach(b=>{rr(Er(b),o.current,d)}),c.removed.forEach(b=>{rr(Er(b),o.current,d)});const u=c.inputEvent.srcElement.getAttribute("data-key")??"{}";u!=r.current&&(cr(u,l),r.current=u),s(d)}})]})})}function tf(){const{t:e}=K("optimizerTab",{keyPrefix:"ComboDrawer"});return i.jsx("div",{style:{width:"fit-content"},children:i.jsx(Pt,{text:e("Title"),url:"https://github.com/fribbels/hsr-optimizer/blob/main/docs/guides/en/advanced-rotations.md",linkIcon:!0})})}function af(e){return e.index==0?i.jsx(i.Fragment,{}):i.jsx(J,{dropdownStyle:{width:"fit-content"},style:{width:bu},listHeight:800,optionLabelProp:"display",options:e.abilitySelectOptions,placement:"bottomLeft",value:e.comboAbilities[e.index],allowClear:!0,onSelect:t=>{ur(e.index,t)},onDeselect:t=>{},onClear:()=>{ur(e.index,null)}})}const bu=70,nf=6,sf=[{value:"BASIC",label:"Basic"},{value:"SKILL",label:"Skill"},{value:"ULT",label:"Ult"},{value:"FUA",label:"Fua"},{value:"MEMO_SKILL",label:"MemoSkill"},{value:"MEMO_TALENT",label:"MemoTalent"}];function lf(e){const{t}=K("optimizerTab",{keyPrefix:"ComboFilter.ComboOptions"}),n=e.comboState.comboAbilities,l=E.useMemo(()=>{const r=[];for(const c of sf)r.push({value:c.value,label:t(`${c.label}`),display:t(`${c.label}`)});return r},[t]);if(!n)return i.jsx(i.Fragment,{});const s=n.length,o=Array(Math.min(9,s+1)).fill(!1).map((r,c)=>i.jsx(af,{comboAbilities:n,index:c,abilitySelectOptions:l},c));return i.jsxs(S,{gap:nf,children:[i.jsx("div",{style:{width:bu}}),o]})}function Er(e){return e.getAttribute("data-key")??"{}"}function Bs(e){return i.jsx(Wt,{plain:!0,children:e.text})}function Ir(e){return i.jsx(J,{dropdownStyle:{width:300},listHeight:800,mode:"multiple",allowClear:!0,style:{flex:1},options:e.options,tagRender:os,placeholder:e.placeholder,maxTagCount:"responsive",placement:"topRight",value:e.selected??[],onSelect:t=>{[...e.selected],e.submit([...e.selected,t])},onDeselect:t=>{const n=e.selected.filter(l=>l!==t);e.submit(n)},onClear:()=>{e.submit([])}})}function of(e){var o,r;const{t,i18n:n}=K("optimizerTab",{keyPrefix:"ComboDrawer.Placeholders"}),l=E.useMemo(()=>C0(),[n.resolvedLanguage]),s=E.useMemo(()=>Vo(),[n.resolvedLanguage]);return i.jsxs(S,{style:{width:"100%"},gap:10,children:[i.jsx(Ir,{selected:(o=e.comboOrigin)==null?void 0:o.displayedRelicSets,options:s,placeholder:t("Sets"),submit:c=>{dr(c,!1)}}),i.jsx(Ir,{selected:(r=e.comboOrigin)==null?void 0:r.displayedOrnamentSets,options:l,placeholder:t("Ornaments"),submit:c=>{dr(c,!0)}})]})}function rf(e){var s,o;const t=((s=e.comboOrigin)==null?void 0:s.displayedRelicSets)||[],n=((o=e.comboOrigin)==null?void 0:o.displayedOrnamentSets)||[],l=[...t,...n].map(r=>i.jsx(Ht,{comboOrigin:e.comboOrigin,conditionalType:r,actionCount:e.actionCount,originKey:e.originKey},r));return i.jsx(S,{vertical:!0,gap:8,children:l})}function cf(e){var c,d,u,b,p,R;const t=(c=e.comboState)==null?void 0:c.comboCharacter,n=(d=e.comboState)==null?void 0:d.comboTeammate0,l=(u=e.comboState)==null?void 0:u.comboTeammate1,s=(b=e.comboState)==null?void 0:b.comboTeammate2,o=((R=(p=e.comboState)==null?void 0:p.comboAbilities)==null?void 0:R.length)||0,{t:r}=K("optimizerTab",{keyPrefix:"ComboDrawer"});return i.jsxs(S,{vertical:!0,gap:8,children:[i.jsx(Ht,{comboOrigin:t,actionCount:o,conditionalType:"character",originKey:"comboCharacter"}),i.jsx(Ht,{comboOrigin:t,actionCount:o,conditionalType:"lightCone",originKey:"comboCharacterLightCone"}),i.jsx(Bs,{text:r("GroupHeaders.Sets")}),i.jsx(of,{comboOrigin:t}),i.jsx(rf,{comboOrigin:t,conditionalType:"relicSets",actionCount:o,originKey:"comboCharacterRelicSets"}),i.jsx(Bs,{text:r("GroupHeaders.Teammate1")}),i.jsx(Ht,{comboOrigin:n,actionCount:o,conditionalType:"character",originKey:"comboTeammate0"}),i.jsx(Ht,{comboOrigin:n,actionCount:o,conditionalType:"lightCone",originKey:"comboTeammate0LightCone"}),i.jsx(Ht,{comboOrigin:n,actionCount:o,conditionalType:"lightCone",originKey:"comboTeammate0RelicSet"}),i.jsx(Ht,{comboOrigin:n,actionCount:o,conditionalType:"lightCone",originKey:"comboTeammate0OrnamentSet"}),i.jsx(Bs,{text:r("GroupHeaders.Teammate2")}),i.jsx(Ht,{comboOrigin:l,actionCount:o,conditionalType:"character",originKey:"comboTeammate1"}),i.jsx(Ht,{comboOrigin:l,actionCount:o,conditionalType:"lightCone",originKey:"comboTeammate1LightCone"}),i.jsx(Ht,{comboOrigin:l,actionCount:o,conditionalType:"lightCone",originKey:"comboTeammate1RelicSet"}),i.jsx(Ht,{comboOrigin:l,actionCount:o,conditionalType:"lightCone",originKey:"comboTeammate1OrnamentSet"}),i.jsx(Bs,{text:r("GroupHeaders.Teammate3")}),i.jsx(Ht,{comboOrigin:s,actionCount:o,conditionalType:"character",originKey:"comboTeammate2"}),i.jsx(Ht,{comboOrigin:s,actionCount:o,conditionalType:"lightCone",originKey:"comboTeammate2LightCone"}),i.jsx(Ht,{comboOrigin:s,actionCount:o,conditionalType:"lightCone",originKey:"comboTeammate2RelicSet"}),i.jsx(Ht,{comboOrigin:s,actionCount:o,conditionalType:"lightCone",originKey:"comboTeammate2OrnamentSet"})]})}function Ht(e){const{t,i18n:n}=K("gameData",{keyPrefix:"RelicSets"}),{t:l}=K("optimizerTab",{keyPrefix:"SetConditionals.SelectOptions"}),s=E.useMemo(()=>zp(l),[l]),o=E.useMemo(()=>{var G,T;if(!e.comboOrigin)return null;let r,c,d;const u=e.originKey.includes("Teammate"),b=e.comboOrigin,p=e.comboOrigin,R=b.metadata;if(e.originKey.includes("LightCone")){const C=aa.get(R,!0);r=u?((G=C.teammateContent)==null?void 0:G.call(C))??[]:C.content(),c=k.getLightConeIconById(R.lightCone),d=b.lightConeConditionals}else if(e.originKey.includes("comboCharacterRelicSets")){const C=e.conditionalType,D=!Vi[C].modifiable,V=b.setConditionals[C];if(V.type==ce.BOOLEAN)r=[{formItem:"switch",disabled:D,id:C,name:C,text:t(`${ot[C]}.Name`),title:"",content:t(`${ot[C]}.Name`)}];else if(V.type==ce.NUMBER)r=[{formItem:"slider",disabled:D,id:C,name:C,text:t(`${ot[C]}.Name`),title:"",content:t(`${ot[C]}.Name`),min:0,max:10}];else if(V.type==ce.SELECT)r=[{formItem:"select",disabled:D,id:C,name:C,text:t(`${ot[C]}.Name`),title:"",content:t(`${ot[C]}.Name`),options:s[C]}];else return null;c=k.getSetImage(C,null,!0),d=b.setConditionals}else if(e.originKey.includes("RelicSet")){const C=Object.keys(p.relicSetConditionals);if(C.length){const D=C[0];r=[{formItem:"switch",id:D,name:D,text:D,title:D,content:D}],c=k.getSetImage(D,null,!0),d=p.relicSetConditionals}else return null}else if(e.originKey.includes("OrnamentSet")){const C=Object.keys(p.ornamentSetConditionals);if(C.length){const D=C[0];r=[{formItem:"switch",id:D,name:D,text:D,title:D,content:D}],c=k.getSetImage(D,null,!0),d=p.ornamentSetConditionals}else return null}else{const C=ta.get(R,!0);r=u?((T=C.teammateContent)==null?void 0:T.call(C))??[]:C.content(),c=k.getCharacterAvatarById(R.characterId),d=b.characterConditionals}return{content:r,src:c,conditionals:d}},[e.comboOrigin,n.resolvedLanguage]);return o?i.jsxs(S,{gap:10,align:"center",style:{padding:8,background:"#677dbd1c",borderRadius:5},children:[i.jsx("img",{src:o.src,style:{width:80,height:80}}),i.jsx(df,{contentItems:o.content,comboConditionals:o.conditionals,actionCount:e.actionCount,sourceKey:e.originKey})]}):i.jsx(i.Fragment,{})}function df(e){const{t,i18n:n}=K("optimizerTab",{keyPrefix:"ComboDrawer"}),l=E.useMemo(()=>{const s=[];for(const o of e.contentItems){const r=e.comboConditionals[o.id];if(r==null)continue;const c=i.jsx(uf,{contentItem:o,comboConditional:r,actionCount:e.actionCount,sourceKey:e.sourceKey},o.id);s.push(c)}return s},[JSON.stringify(e.comboConditionals),e.actionCount,n.resolvedLanguage]);return i.jsx(S,{vertical:!0,children:l.length==0?i.jsx("div",{style:{marginLeft:5},children:t("NoConditionals")}):l})}function uf(e){return e.contentItem.formItem=="switch"?i.jsx(mf,{contentItem:e.contentItem,activations:e.comboConditional.activations,actionCount:e.actionCount,sourceKey:e.sourceKey}):e.contentItem.formItem=="select"?i.jsx(hf,{comboConditional:e.comboConditional,contentItem:e.contentItem,actionCount:e.actionCount,sourceKey:e.sourceKey}):i.jsx(bf,{comboConditional:e.comboConditional,contentItem:e.contentItem,actionCount:e.actionCount,sourceKey:e.sourceKey})}function mf(e){const t=[];for(let n=0;n<e.activations.length;n++)t.push(JSON.stringify({id:e.contentItem.id,source:e.sourceKey,index:n}));return i.jsxs(S,{style:{height:45},children:[i.jsx(pf,{contentItem:e.contentItem,sourceKey:e.sourceKey,value:e.activations[0]}),i.jsx(pu,{activations:e.activations,actionCount:e.actionCount,dataKeys:t,partition:!1,unselectable:e.contentItem.disabled})]},e.contentItem.id)}function bf(e){const t=e.comboConditional,n=[];for(let s=0;s<t.partitions.length;s++){const o=t.partitions[s];n.push({value:o.value,display:i.jsx(hu,{partition:o,contentItem:e.contentItem,activations:o.activations,partitionIndex:s,actionCount:e.actionCount,sourceKey:e.sourceKey},s)})}const l=n.sort((s,o)=>s.value-o.value).map(s=>s.display);return i.jsxs(S,{vertical:!0,style:{position:"relative"},children:[i.jsx(ol,{}),l,i.jsx(ol,{bottom:!0})]})}function ol(e){return i.jsx("div",{style:{position:"absolute",top:e.bottom?void 0:-1,bottom:e.bottom?0:void 0,left:0,right:0,borderTop:"1px solid #7999c8",pointerEvents:"none"}})}function hf(e){const t=e.comboConditional,n=[];for(let l=0;l<t.partitions.length;l++){const s=t.partitions[l];n.push(i.jsx(hu,{partition:s,contentItem:e.contentItem,activations:s.activations,partitionIndex:l,actionCount:e.actionCount,sourceKey:e.sourceKey},l))}return i.jsxs(S,{vertical:!0,style:{position:"relative"},children:[i.jsx(ol,{}),n,i.jsx(ol,{bottom:!0})]})}function hu(e){const t=[];for(let l=0;l<e.activations.length;l++)t.push(JSON.stringify({id:e.contentItem.id,source:e.sourceKey,partitionIndex:e.partitionIndex,index:l}));const n=e.contentItem.formItem=="slider"?i.jsx(Sf,{contentItem:e.contentItem,value:e.partition.value,sourceKey:e.sourceKey,partitionIndex:e.partitionIndex}):i.jsx(Rf,{contentItem:e.contentItem,value:e.partition.value,sourceKey:e.sourceKey,partitionIndex:e.partitionIndex});return i.jsxs(S,{style:{height:45},children:[n,i.jsx(pu,{activations:e.activations,actionCount:e.actionCount,dataKeys:t,partition:!0})]},e.partitionIndex)}function pf(e){const t=e.contentItem;return i.jsx(S,{style:{width:250,marginRight:10},align:"center",gap:0,children:i.jsx(S,{style:{width:210},align:"center",children:i.jsx(su,{...t,name:t.id,title:t.text,teammateIndex:D0(e.sourceKey),content:Zs(t.content),text:t.text,removeForm:!1,set:e.sourceKey.includes("comboCharacterRelicSets"),value:e.value,disabled:e.sourceKey.includes("Teammate")&&e.sourceKey.includes("Set")||e.contentItem.disabled})})})}function D0(e){if(e.includes("Teammate0"))return 0;if(e.includes("Teammate1"))return 1;if(e.includes("Teammate2"))return 2}function Sf(e){const t=e.contentItem;return i.jsxs(S,{style:{width:250,marginRight:10},align:"center",gap:0,children:[i.jsx(S,{style:{width:210},align:"center",children:i.jsx(ou,{...t,name:t.id,title:t.text,content:Zs(t.content),teammateIndex:D0(e.sourceKey),text:t.text,onChange:n=>Ud(e.sourceKey,t.id,e.partitionIndex,n),value:e.value,removeForm:e.partitionIndex>0},e.value+e.partitionIndex)}),i.jsx(z,{type:"text",shape:"circle",icon:e.partitionIndex==0?i.jsx(td,{style:ll}):i.jsx(ad,{style:ll}),onClick:()=>{e.partitionIndex==0?Nd(e.sourceKey,e.contentItem.id,e.partitionIndex):Od(e.sourceKey,e.contentItem.id,e.partitionIndex)}})]})}function Rf(e){const t=e.contentItem;return i.jsxs(S,{style:{width:250,marginRight:10},align:"center",gap:5,children:[i.jsx(lu,{...t,name:t.id,title:t.text,teammateIndex:D0(e.sourceKey),content:Zs(t.content),text:t.text,set:e.sourceKey.includes("comboCharacterRelicSets"),onChange:n=>Ud(e.sourceKey,t.id,e.partitionIndex,n),value:e.value,removeForm:e.partitionIndex>0,fullWidth:!e.sourceKey.includes("comboCharacterRelicSets")}),i.jsx(z,{type:"text",shape:"circle",icon:e.partitionIndex==0?i.jsx(td,{style:ll}):i.jsx(ad,{style:ll}),onClick:()=>{e.partitionIndex==0?Nd(e.sourceKey,e.contentItem.id,e.partitionIndex):Od(e.sourceKey,e.contentItem.id,e.partitionIndex)}})]})}function pu(e){return i.jsx(S,{children:e.activations.map((t,n)=>i.jsx(ff,{dataKey:e.dataKeys[n],active:t,disabled:n>=e.actionCount,index:n,partition:e.partition,unselectable:e.unselectable},n))})}const ff=Tt.memo(function(t){let n;return t.disabled?n="disabledSelect":(t.unselectable?n=t.active?"unselectable selected defaultShaded":"unselectable defaultShaded":n=t.active?"selectable selected":"selectable",t.index==0&&(n+=" defaultShaded"),t.partition&&t.active&&(n+=" partitionShaded")),i.jsx("div",{className:n,"data-key":t.dataKey,style:{width:75,marginLeft:-1,marginTop:-1}})},(e,t)=>e.dataKey===t.dataKey&&e.active===t.active&&e.disabled===t.disabled&&e.index===t.index&&e.partition===t.partition&&e.unselectable===t.unselectable),xr={display:"flex",flex:1,justifyContent:"center",paddingInline:0},Gf=()=>{const{t:e}=K("optimizerTab",{keyPrefix:"ComboFilter"}),{t}=K("common"),n=U.useFormInstance(),l=window.store(r=>r.setComboDrawerOpen),s=U.useWatch("comboType",n),o=E.useMemo(()=>[{label:e("ComboOptions.Basic"),value:"BASIC"},{label:e("ComboOptions.Skill"),value:"SKILL"},{label:e("ComboOptions.Ult"),value:"ULT"},{label:e("ComboOptions.Fua"),value:"FUA"},{label:e("ComboOptions.MemoSkill"),value:"MEMO_SKILL"},{label:e("ComboOptions.MemoTalent"),value:"MEMO_TALENT"}],[e]);return i.jsxs(S,{vertical:!0,gap:It,children:[i.jsx($,{children:e("Header")}),i.jsx(U.Item,{name:"comboType",children:i.jsx(ze.Group,{size:"small",buttonStyle:"solid",style:{width:"100%"},children:i.jsxs(S,{align:"center",children:[i.jsx(ze.Button,{style:xr,value:"simple",children:e("ModeSelector.Simple")}),i.jsx(ze.Button,{style:xr,value:"advanced",children:e("ModeSelector.Advanced")})]})})}),i.jsxs(S,{style:{width:"100%"},gap:5,children:[i.jsx(z,{size:"small",variant:"outlined",style:{flex:1},onClick:()=>gf(n),children:e("RowControls.Add")}),i.jsx(yn,{title:t("Confirm"),description:e("RowControls.ResetConfirm.Description"),onConfirm:()=>yf(n),placement:"bottom",okText:t("Yes"),cancelText:t("Cancel"),children:i.jsx(z,{size:"small",variant:"outlined",style:{flex:1},children:t("Reset")})}),i.jsx(z,{size:"small",variant:"outlined",style:{flex:1},onClick:()=>Tf(n),children:e("RowControls.Remove")})]}),i.jsx(Zf,{comboOptions:o}),i.jsxs(i.Fragment,{children:[i.jsx(S,{vertical:!0,gap:8,style:{marginTop:5},children:i.jsx(z,{onClick:()=>l(!0),icon:i.jsx(xa,{}),disabled:s=="simple",children:e("RotationButton")})}),i.jsx(U.Item,{name:"comboStateJson",style:{height:0},children:i.jsx(Yt,{placeholder:"This is a fake hidden input to save combo data into the form",style:{display:"none"}})}),i.jsx(ef,{})]})]})};function gf(e){var n;const t=e.getFieldsValue();for(let l=1;l<=10;l++)if(((n=t.comboAbilities)==null?void 0:n[l])==null){e.setFieldValue(["comboAbilities",l],"BASIC");break}}function Tf(e){var n;const t=e.getFieldsValue();for(let l=10;l>1;l--)if(((n=t.comboAbilities)==null?void 0:n[l])!=null){e.setFieldValue(["comboAbilities",l],null);break}}function yf(e){var r,c,d,u,b,p;const t=window.store.getState().optimizerTabFocusCharacter,n=I.getMetadata().characters[t];if(!n)return;const l=((c=(r=n.scoringMetadata)==null?void 0:r.simulation)==null?void 0:c.comboAbilities)??[null,"BASIC"],s=((u=(d=n.scoringMetadata)==null?void 0:d.simulation)==null?void 0:u.comboDot)??0,o=((p=(b=n.scoringMetadata)==null?void 0:b.simulation)==null?void 0:p.comboBreak)??0;for(let R=0;R<=10;R++)e.setFieldValue(["comboAbilities",R],l[R]??null);e.setFieldValue(["comboDot"],s),e.setFieldValue(["comboBreak"],o),e.setFieldValue(["comboStateJson"],"{}")}function Zf(e){const{t}=K("optimizerTab",{keyPrefix:"ComboFilter"});return i.jsxs(S,{children:[i.jsxs(S,{vertical:!0,flex:1,style:{marginLeft:2},gap:3,children:[i.jsx($,{children:t("AbilityLabel")}),i.jsx(tn,{index:1,comboOptions:e.comboOptions}),i.jsx(tn,{index:2,comboOptions:e.comboOptions}),i.jsx(tn,{index:3,comboOptions:e.comboOptions}),i.jsx(tn,{index:4,comboOptions:e.comboOptions}),i.jsx(tn,{index:5,comboOptions:e.comboOptions}),i.jsx(tn,{index:6,comboOptions:e.comboOptions}),i.jsx(tn,{index:7,comboOptions:e.comboOptions}),i.jsx(tn,{index:8,comboOptions:e.comboOptions})]}),i.jsx(ha,{width:10}),i.jsxs(S,{vertical:!0,gap:10,flex:1,align:"flex-start",children:[i.jsxs(S,{vertical:!0,children:[i.jsx($,{children:t("CounterLabels.Dot")}),i.jsx(Wr,{name:"comboDot"})]}),i.jsxs(S,{vertical:!0,children:[i.jsx($,{children:t("CounterLabels.Break")}),i.jsx(Wr,{name:"comboBreak"})]})]})]})}function tn(e){return i.jsx(U.Item,{shouldUpdate:(t,n)=>t.comboAbilities!==n.comboAbilities,noStyle:!0,children:({getFieldValue:t})=>(t("comboAbilities")||[])[e.index]!=null||e.index<2?i.jsx(U.Item,{noStyle:!0,name:["comboAbilities",e.index],children:i.jsx(J,{size:"small",variant:"borderless",className:"select-no-padding select-20",options:e.comboOptions,labelRender:s=>`${e.index}. ${s.label}`})}):null})}function Wr(e){return i.jsx(U.Item,{name:e.name,children:i.jsx(sl,{addonBefore:"⨯",size:"small",controls:!0,style:{width:"100%"},rootClassName:"comboInputNumber"})})}const{Text:Mr}=ye,Cf=()=>{const{t:e}=K("optimizerTab",{keyPrefix:"EnemyConfiguration"}),t=window.store(d=>d.enemyConfigurationsDrawerOpen),n=window.store(d=>d.setEnemyConfigurationsDrawerOpen),l=E.useMemo(()=>{const d=[];for(let u=95;u>=1;u--)d.push({value:u,label:e("LevelOptionLabel",{level:u,defense:200+10*u})});return d},[e]),s=E.useMemo(()=>{const d=[];for(let u=1;u<=5;u+=2)d.push({value:u,label:e("CountOptionLabel",{targetCount:u})});return d},[e]),o=E.useMemo(()=>{const d=[];for(let u=20;u<=60;u+=20)d.push({value:u/100,label:e("DmgResOptionLabel",{resistance:u})});return d},[e]),r=E.useMemo(()=>{const d=[];for(let u=0;u<=40;u+=10)d.push({value:u/100,label:e("EffResOptionLabel",{resistance:u})});return d},[e]),c=E.useMemo(()=>{const d=[];for(let u=720;u>=1;u-=30)d.push({value:u,label:e("ToughnessOptionLabel",{toughness:u/3})});return d},[e]);return i.jsx(_n,{title:e("Title"),placement:"right",onClose:()=>n(!1),open:t,width:300,forceRender:!0,children:i.jsxs(S,{vertical:!0,gap:5,children:[i.jsxs(S,{justify:"space-between",align:"center",style:{marginBottom:5},children:[i.jsx($,{children:e("StatHeader")}),i.jsx(ht,{type:ut.enemyOptions()})]}),i.jsx(U.Item,{name:"enemyLevel",children:i.jsx(J,{showSearch:!0,filterOption:B.labelFilterOption,options:l})}),i.jsx(U.Item,{name:"enemyResistance",children:i.jsx(J,{showSearch:!0,filterOption:B.labelFilterOption,options:o})}),i.jsx(U.Item,{name:"enemyEffectResistance",children:i.jsx(J,{showSearch:!0,filterOption:B.labelFilterOption,options:r})}),i.jsx(U.Item,{name:"enemyMaxToughness",children:i.jsx(J,{showSearch:!0,filterOption:B.labelFilterOption,options:c})}),i.jsx(U.Item,{name:"enemyCount",children:i.jsx(J,{showSearch:!0,filterOption:B.labelFilterOption,options:s})}),i.jsxs(S,{align:"center",children:[i.jsx(U.Item,{name:"enemyElementalWeak",valuePropName:"checked",children:i.jsx(Sn,{checkedChildren:i.jsx(Rn,{}),unCheckedChildren:i.jsx(Ba,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),i.jsx(Mr,{children:e("WeaknessLabel")})]}),i.jsxs(S,{align:"center",children:[i.jsx(U.Item,{name:"enemyWeaknessBroken",valuePropName:"checked",children:i.jsx(Sn,{checkedChildren:i.jsx(Rn,{}),unCheckedChildren:i.jsx(Ba,{}),style:{width:45,marginRight:5}})}),i.jsx(Mr,{children:e("BrokenLabel")})]})]})})};const{Text:Ti}=ye,rl=40,cl=200,Hs=80,yi=5;function Df(){const{t:e}=K("optimizerTab",{keyPrefix:"SetConditionals"}),t=window.store(R=>R.conditionalSetEffectsDrawerOpen),n=window.store(R=>R.setConditionalSetEffectsDrawerOpen),l=E.useMemo(()=>{const R=[];for(let G=0;G<=5;G++)R.push({display:e("SelectOptions.Streetwise.Display",{stackCount:G}),value:G,label:e("SelectOptions.Streetwise.Label",{stackCount:G,buffValue:5*G})});return R},[e]),s=E.useMemo(()=>[{display:e("SelectOptions.Wastelander.Off.Display"),value:0,label:e("SelectOptions.Wastelander.Off.Label")},{display:e("SelectOptions.Wastelander.Debuffed.Display"),value:1,label:e("SelectOptions.Wastelander.Debuffed.Label")},{display:e("SelectOptions.Wastelander.Imprisoned.Display"),value:2,label:e("SelectOptions.Wastelander.Imprisoned.Label")}],[e]),o=E.useMemo(()=>{const R=[];for(let G=0;G<=2;G++)R.push({display:e("SelectOptions.Sacerdos.Display",{stackCount:G}),value:G,label:e("SelectOptions.Sacerdos.Label",{stackCount:G,buffValue:18*G})});return R},[e]),r=E.useMemo(()=>{const R=[];for(let G=0;G<=2;G++)R.push({display:e("SelectOptions.Longevous.Display",{stackCount:G}),value:G,label:e("SelectOptions.Longevous.Label",{stackCount:G,buffValue:8*G})});return R},[e]),c=E.useMemo(()=>{const R=[];for(let G=0;G<=8;G++)R.push({display:e("SelectOptions.Ashblazing.Display",{stackCount:G}),value:G,label:e("SelectOptions.Ashblazing.Label",{stackCount:G,buffValue:6*G})});return R},[e]),d=E.useMemo(()=>{const R=[];for(let G=0;G<=3;G++)R.push({display:e("SelectOptions.Prisoner.Display",{stackCount:G}),value:G,label:e("SelectOptions.Prisoner.Label",{stackCount:G,buffValue:6*G})});return R},[e]),u=E.useMemo(()=>[{display:e("SelectOptions.Diver.Off.Display"),value:-1,label:e("SelectOptions.Diver.Off.Label")},{display:e("SelectOptions.Diver.1Debuff.Display"),value:0,label:e("SelectOptions.Diver.1Debuff.Label")},{display:e("SelectOptions.Diver.2Debuff.Display"),value:1,label:e("SelectOptions.Diver.2Debuff.Label")},{display:e("SelectOptions.Diver.3Debuff.Display"),value:2,label:e("SelectOptions.Diver.3Debuff.Label")},{display:e("SelectOptions.Diver.2+Debuff.Display"),value:3,label:e("SelectOptions.Diver.2+Debuff.Label")},{display:e("SelectOptions.Diver.3+Debuff.Display"),value:4,label:e("SelectOptions.Diver.3+Debuff.Label")}],[e]),b=E.useMemo(()=>{const R=[];for(let G=0;G<=10;G++)R.push({display:e("SelectOptions.Sigonia.Display",{stackCount:G}),value:G,label:e("SelectOptions.Sigonia.Label",{stackCount:G,buffValue:4*G})});return R},[e]),p=E.useMemo(()=>{const R=[];for(let G=0;G<=5;G++)R.push({display:e("SelectOptions.Duran.Display",{stackCount:G}),value:G,label:e("SelectOptions.Duran.Label",{stackCount:G,buffValue:5*G})});return R[5].label=e("SelectOptions.Duran.Label5"),R},[e]);return i.jsx(_n,{title:e("Title"),placement:"right",onClose:()=>n(!1),open:t,width:750,forceRender:!0,children:i.jsxs(S,{justify:"center",children:[i.jsxs(S,{vertical:!0,gap:yi,children:[i.jsxs(S,{gap:yi,align:"center",justify:"flex-start",children:[i.jsx(Ti,{style:{width:rl}}),i.jsx(Ti,{style:{width:cl}})]}),i.jsx(Ce,{set:m.Sets.PasserbyOfWanderingCloud,description:e("RelicDescription",{id:101}),conditional:e("Conditionals.DefaultMessage"),p4Checked:!0}),i.jsx(Ce,{set:m.Sets.MusketeerOfWildWheat,description:e("RelicDescription",{id:102}),conditional:e("Conditionals.DefaultMessage"),p4Checked:!0}),i.jsx(Ce,{set:m.Sets.KnightOfPurityPalace,description:e("RelicDescription",{id:103}),conditional:e("Conditionals.DefaultMessage"),p4Checked:!0}),i.jsx(Ce,{set:m.Sets.HunterOfGlacialForest,description:e("RelicDescription",{id:104}),conditional:e("Conditionals.Hunter")}),i.jsx(Ce,{set:m.Sets.ChampionOfStreetwiseBoxing,selectOptions:l,description:e("RelicDescription",{id:105}),conditional:e("Conditionals.Streetwise")}),i.jsx(Ce,{set:m.Sets.GuardOfWutheringSnow,description:e("RelicDescription",{id:106}),conditional:e("Conditionals.DefaultMessage"),p4Checked:!0}),i.jsx(Ce,{set:m.Sets.FiresmithOfLavaForging,description:e("RelicDescription",{id:107}),conditional:e("Conditionals.Firesmith")}),i.jsx(Ce,{set:m.Sets.GeniusOfBrilliantStars,description:e("RelicDescription",{id:108}),conditional:e("Conditionals.Genius")}),i.jsx(Ce,{set:m.Sets.BandOfSizzlingThunder,description:e("RelicDescription",{id:109}),conditional:e("Conditionals.Thunder")}),i.jsx(Ce,{set:m.Sets.EagleOfTwilightLine,description:e("RelicDescription",{id:110}),conditional:e("Conditionals.DefaultMessage"),p4Checked:!0}),i.jsx(Ce,{set:m.Sets.ThiefOfShootingMeteor,description:e("RelicDescription",{id:111}),conditional:e("Conditionals.DefaultMessage"),p4Checked:!0}),i.jsx(Ce,{set:m.Sets.WastelanderOfBanditryDesert,selectOptions:s,description:e("RelicDescription",{id:112}),conditional:e("Conditionals.Wastelander")}),i.jsx(Ce,{set:m.Sets.LongevousDisciple,selectOptions:r,description:e("RelicDescription",{id:113}),conditional:e("Conditionals.Longevous")}),i.jsx(Ce,{set:m.Sets.MessengerTraversingHackerspace,description:e("RelicDescription",{id:114}),conditional:e("Conditionals.Messenger")}),i.jsx(Ce,{set:m.Sets.TheAshblazingGrandDuke,selectOptions:c,description:e("RelicDescription",{id:115}),conditional:e("Conditionals.Ashblazing")}),i.jsx(Ce,{set:m.Sets.PrisonerInDeepConfinement,selectOptions:d,description:e("RelicDescription",{id:116}),conditional:e("Conditionals.Prisoner")}),i.jsx(Ce,{set:m.Sets.PioneerDiverOfDeadWaters,selectOptions:u,description:e("RelicDescription",{id:117}),conditional:e("Conditionals.Diver")}),i.jsx(Ce,{set:m.Sets.WatchmakerMasterOfDreamMachinations,description:e("RelicDescription",{id:118}),conditional:e("Conditionals.Watchmaker")}),i.jsx(Ce,{set:m.Sets.IronCavalryAgainstTheScourge,description:e("RelicDescription",{id:119}),conditional:e("Conditionals.DefaultMessage"),p4Checked:!0}),i.jsx(Ce,{set:m.Sets.TheWindSoaringValorous,description:e("RelicDescription",{id:120}),conditional:e("Conditionals.Valorous")}),i.jsx(Ce,{set:m.Sets.SacerdosRelivedOrdeal,selectOptions:o,description:e("RelicDescription",{id:121}),conditional:e("Conditionals.Sacerdos")}),i.jsx(Ce,{set:m.Sets.ScholarLostInErudition,description:e("RelicDescription",{id:122}),conditional:e("Conditionals.DefaultMessage")}),i.jsx(Ce,{set:m.Sets.HeroOfTriumphantSong,description:e("RelicDescription",{id:123}),conditional:e("Conditionals.DefaultMessage")}),i.jsx(Ce,{set:m.Sets.PoetOfMourningCollapse,description:e("RelicDescription",{id:124}),conditional:e("Conditionals.DefaultMessage"),p4Checked:!0})]}),i.jsx(ha,{}),i.jsxs(S,{vertical:!0,gap:yi,style:{marginLeft:5},children:[i.jsxs(S,{gap:yi,align:"center",justify:"flex-start",children:[i.jsx(Ti,{style:{width:rl}}),i.jsx(Ti,{style:{width:cl}})]}),i.jsx(Ce,{set:m.Sets.SpaceSealingStation,description:e("PlanarDescription",{id:301}),conditional:e("Conditionals.DefaultMessage"),p2Checked:!0}),i.jsx(Ce,{set:m.Sets.FleetOfTheAgeless,description:e("PlanarDescription",{id:302}),conditional:e("Conditionals.DefaultMessage"),p2Checked:!0}),i.jsx(Ce,{set:m.Sets.PanCosmicCommercialEnterprise,description:e("PlanarDescription",{id:303}),conditional:e("Conditionals.DefaultMessage"),p2Checked:!0}),i.jsx(Ce,{set:m.Sets.BelobogOfTheArchitects,description:e("PlanarDescription",{id:304}),conditional:e("Conditionals.DefaultMessage"),p2Checked:!0}),i.jsx(Ce,{set:m.Sets.CelestialDifferentiator,description:e("PlanarDescription",{id:305}),conditional:e("Conditionals.Differentiator")}),i.jsx(Ce,{set:m.Sets.InertSalsotto,description:e("PlanarDescription",{id:306}),conditional:e("Conditionals.DefaultMessage"),p2Checked:!0}),i.jsx(Ce,{set:m.Sets.TaliaKingdomOfBanditry,description:e("PlanarDescription",{id:307}),conditional:e("Conditionals.DefaultMessage"),p2Checked:!0}),i.jsx(Ce,{set:m.Sets.SprightlyVonwacq,description:e("PlanarDescription",{id:308}),conditional:e("Conditionals.DefaultMessage"),p2Checked:!0}),i.jsx(Ce,{set:m.Sets.RutilantArena,description:e("PlanarDescription",{id:309}),conditional:e("Conditionals.DefaultMessage"),p2Checked:!0}),i.jsx(Ce,{set:m.Sets.BrokenKeel,description:e("PlanarDescription",{id:310}),conditional:e("Conditionals.DefaultMessage"),p2Checked:!0}),i.jsx(Ce,{set:m.Sets.FirmamentFrontlineGlamoth,description:e("PlanarDescription",{id:311}),conditional:e("Conditionals.DefaultMessage"),p2Checked:!0}),i.jsx(Ce,{set:m.Sets.PenaconyLandOfTheDreams,description:e("PlanarDescription",{id:312}),conditional:e("Conditionals.Penacony")}),i.jsx(Ce,{set:m.Sets.SigoniaTheUnclaimedDesolation,selectOptions:b,description:e("PlanarDescription",{id:313}),conditional:e("Conditionals.Sigonia")}),i.jsx(Ce,{set:m.Sets.IzumoGenseiAndTakamaDivineRealm,description:e("PlanarDescription",{id:314}),conditional:e("Conditionals.Izumo")}),i.jsx(Ce,{set:m.Sets.DuranDynastyOfRunningWolves,selectOptions:p,description:e("PlanarDescription",{id:315}),conditional:e("Conditionals.Duran")}),i.jsx(Ce,{set:m.Sets.ForgeOfTheKalpagniLantern,description:e("PlanarDescription",{id:316}),conditional:e("Conditionals.Kalpagni")}),i.jsx(Ce,{set:m.Sets.LushakaTheSunkenSeas,description:e("PlanarDescription",{id:317}),conditional:e("Conditionals.Lushaka"),p2Checked:!0}),i.jsx(Ce,{set:m.Sets.TheWondrousBananAmusementPark,description:e("PlanarDescription",{id:318}),conditional:e("Conditionals.Banana")}),i.jsx(Ce,{set:m.Sets.BoneCollectionsSereneDemesne,description:e("PlanarDescription",{id:319}),conditional:e("Conditionals.DefaultMessage"),p2Checked:!0}),i.jsx(Ce,{set:m.Sets.GiantTreeOfRaptBrooding,description:e("PlanarDescription",{id:320}),conditional:e("Conditionals.DefaultMessage"),p2Checked:!0})]})]})})}function Ce(e){const{t}=K("optimizerTab",{keyPrefix:"SetConditionals"}),n=i.jsxs(S,{vertical:!0,gap:10,children:[i.jsxs(S,{vertical:!0,children:[i.jsx($,{children:i.jsx("p",{children:t("DescriptionHeader")})}),i.jsx("p",{children:Zs(e.description)})]}),i.jsxs(S,{vertical:!0,children:[i.jsx($,{children:i.jsx("p",{children:t("EffectHeader")})}),i.jsx("p",{children:e.conditional})]})]});if(m.SetsRelicsNames.includes(e.set)){let l=i.jsx(Sn,{disabled:e.p4Checked});return e.selectOptions&&(l=i.jsx(J,{optionLabelProp:"display",listHeight:500,size:"small",style:{width:Hs},dropdownStyle:{width:"fit-content"},options:e.selectOptions})),i.jsx(bs,{content:n,title:t("SetName",{id:ot[e.set]}),mouseEnterDelay:.5,overlayStyle:{width:600},children:i.jsxs(S,{gap:yi,align:"center",justify:"flex-start",children:[i.jsx(S,{style:{width:rl},children:i.jsx("img",{src:k.getSetImage(e.set,m.Parts.PlanarSphere),style:{width:36,height:36}})}),i.jsx(Ti,{style:{width:cl,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:t("SetName",{id:ot[e.set]})}),i.jsx(S,{style:{width:Hs},justify:"flex-end",children:i.jsx(U.Item,{name:["setConditionals",e.set,1],valuePropName:e.selectOptions?"value":"checked",children:l})})]})})}else{let l=i.jsx(Sn,{disabled:e.p2Checked});return e.selectOptions&&(l=i.jsx(J,{optionLabelProp:"display",listHeight:500,size:"small",style:{width:Hs},dropdownStyle:{width:"fit-content"},options:e.selectOptions})),i.jsx(bs,{content:n,title:t("SetName",{id:ot[e.set]}),mouseEnterDelay:.5,overlayStyle:{width:600},children:i.jsxs(S,{gap:yi,align:"center",justify:"flex-start",children:[i.jsx(S,{style:{width:rl},children:i.jsx("img",{src:k.getSetImage(e.set,m.Parts.PlanarSphere),style:{width:36,height:36}})}),i.jsx(Ti,{style:{width:cl,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:t("SetName",{id:ot[e.set]})}),i.jsx(S,{style:{width:Hs},justify:"flex-end",children:i.jsx(U.Item,{name:["setConditionals",e.set,1],valuePropName:e.selectOptions?"value":"checked",children:l})})]})})}}Ce.propTypes={description:zt.string,p2Checked:zt.bool,p4Checked:zt.bool,set:zt.string,conditional:zt.string,selectOptions:zt.array};function E0(e){const{currentCharacters:t,excludeCharacters:n,withNobodyOption:l}={currentCharacters:[],excludeCharacters:[],withNobodyOption:!0,...e},s=t.filter(o=>!n.includes(o)).map(o=>({value:o.id,label:i.jsxs(S,{gap:5,align:"center",children:[i.jsx("img",{src:k.getCharacterAvatarById(o.id),style:{height:22,marginRight:4}}),e.longNameLabel?v.t(`gameData:Characters.${o.id}.LongName`):v.t(`gameData:Characters.${o.id}.Name`)]}),title:e.longNameTitle?v.t(`gameData:Characters.${o.id}.LongName`):v.t(`gameData:Characters.${o.id}.Name`)})).sort((o,r)=>o.title.localeCompare(r.title));return l&&s.unshift({value:"None",label:"None",title:"None"}),s}const{Text:Kl}=ye,Ef=()=>{const{t:e,i18n:t}=K(["optimizerTab","common"]),n=window.store(r=>r.characters),l=window.store(r=>r.optimizerTabFocusCharacter),s=E.useMemo(()=>E0({currentCharacters:n,excludeCharacters:[I.getCharacterById(l)],withNobodyOption:!1,longNameLabel:!0}),[n,l,t.resolvedLanguage]),o=E.useMemo(()=>n.map(r=>({value:r.rank,label:i.jsxs(S,{gap:5,children:[i.jsx("img",{src:k.getCharacterAvatarById(r.id),style:{height:22,marginRight:6}}),e("OptimizerOptions.Priority.Label",{rank:r.rank+1,id:r.id})]}),name:e("OptimizerOptions.Priority.Name",{rank:r.rank+1})})),[n,e]);return i.jsx(S,{vertical:!0,children:i.jsxs(S,{vertical:!0,gap:It,children:[i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx($,{children:e("OptimizerOptions.Header")}),i.jsx(ht,{type:ut.optimizerOptions()})]}),i.jsxs(S,{align:"center",children:[i.jsx(U.Item,{name:"includeEquippedRelics",valuePropName:"checked",children:i.jsx(Sn,{checkedChildren:i.jsx(Rn,{}),unCheckedChildren:i.jsx(Ba,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),i.jsx(Kl,{children:e("OptimizerOptions.AllowEquipped")})]}),i.jsxs(S,{align:"center",children:[i.jsx(U.Item,{name:"rankFilter",valuePropName:"checked",children:i.jsx(Sn,{checkedChildren:i.jsx(Rn,{}),unCheckedChildren:i.jsx(Ba,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),i.jsx(Kl,{children:e("OptimizerOptions.PriorityFilter")})]}),i.jsxs(S,{align:"center",children:[i.jsx(U.Item,{name:"keepCurrentRelics",valuePropName:"checked",children:i.jsx(Sn,{checkedChildren:i.jsx(Rn,{}),unCheckedChildren:i.jsx(Ba,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),i.jsx(Kl,{children:e("OptimizerOptions.KeepCurrent")})]}),i.jsxs(S,{gap:It,style:{marginTop:10},children:[i.jsxs(S,{vertical:!0,gap:2,children:[i.jsx($,{children:e("OptimizerOptions.Priority.Header")}),i.jsx(U.Item,{name:"rank",children:i.jsx(J,{style:{width:(oa-It)/2},options:o,popupMatchSelectWidth:225,listHeight:500,optionLabelProp:"name",placeholder:e("OptimizerOptions.Priority.Header"),showSearch:!0,filterOption:B.nameFilterOption})})]}),i.jsxs(S,{vertical:!0,gap:2,children:[i.jsx($,{children:e("OptimizerOptions.Exclude")}),i.jsx(U.Item,{name:"exclude",children:i.jsx(J,{style:{width:(oa-It)/2},mode:"multiple",maxTagCount:"responsive",popupMatchSelectWidth:250,listHeight:500,allowClear:!0,showSearch:!0,optionLabelProp:"title",placeholder:e("OptimizerOptions.Exclude"),options:s,filterOption:B.titleFilterOption})})]})]}),i.jsxs(S,{justify:"space-between",children:[i.jsxs(S,{vertical:!0,gap:2,children:[i.jsx($,{children:e("OptimizerOptions.MinEnhance.Header")}),i.jsx(U.Item,{name:"enhance",children:i.jsx(J,{style:{width:(oa-It)/2},options:[{value:0,label:e("OptimizerOptions.MinEnhance.Label0")},{value:3,label:e("OptimizerOptions.MinEnhance.Label3")},{value:6,label:e("OptimizerOptions.MinEnhance.Label6")},{value:9,label:e("OptimizerOptions.MinEnhance.Label9")},{value:12,label:e("OptimizerOptions.MinEnhance.Label12")},{value:15,label:e("OptimizerOptions.MinEnhance.Label15")}]})})]}),i.jsxs(S,{vertical:!0,gap:2,children:[i.jsx($,{children:e("OptimizerOptions.MinRarity.Header")}),i.jsx(U.Item,{name:"grade",children:i.jsx(J,{style:{width:(oa-It)/2},options:[{value:2,label:e("OptimizerOptions.MinRarity.Label2")},{value:3,label:e("OptimizerOptions.MinRarity.Label3")},{value:4,label:e("OptimizerOptions.MinRarity.Label4")},{value:5,label:e("OptimizerOptions.MinRarity.Label5")}]})})]})]}),i.jsx(S,{justify:"space-between",align:"center",children:i.jsxs(S,{vertical:!0,gap:2,children:[i.jsx($,{children:e("OptimizerOptions.BoostMain.Header")}),i.jsx(U.Item,{name:"mainStatUpscaleLevel",children:i.jsx(J,{style:{width:(oa-It)/2},options:[{value:3,label:e("OptimizerOptions.BoostMain.Label3")},{value:6,label:e("OptimizerOptions.BoostMain.Label6")},{value:9,label:e("OptimizerOptions.BoostMain.Label9")},{value:12,label:e("OptimizerOptions.BoostMain.Label12")},{value:15,label:e("OptimizerOptions.BoostMain.Label15")}]})})]})})]})})},Su=233,Ru=350,Jl=350,Lr=400,If=()=>{const e=window.store(t=>t.optimizerTabFocusCharacter);return i.jsx("div",{style:{width:Su,height:Ru,borderRadius:10,position:"relative"},children:i.jsx(fu,{id:e})})};function fu(e){const t=e.parentH??Ru,n=t>=Lr?t:Lr;return i.jsx("img",{width:Jl,src:k.getCharacterPreviewById(e.id),style:{transform:`translate(${(Jl-Su)/2/Jl*-100}%, ${(n-t)/2/n*-100}%)`,cursor:e.disableClick?"":"pointer"},onClick:()=>{e.disableClick||window.store.getState().setOptimizerTabFocusCharacterSelectModalOpen(!0)}})}function xf(e){const{value:t,label:n,closable:l,onClose:s}=e;if(!t){const c=typeof n=="string"?n.replace(/[^0-9+]/g,""):null;return i.jsx(Ii,{closable:l,onClose:s,children:i.jsx(S,{children:c})})}const o=t.split("__RC_CASCADER_SPLIT__");let r;return o[0]==pa.relic4Piece&&(r=i.jsxs(Tt.Fragment,{children:[i.jsx("img",{title:o[1],src:k.getSetImage(o[1],m.Parts.Head),style:{width:26,height:26}}),i.jsx("img",{title:o[1],src:k.getSetImage(o[1],m.Parts.Head),style:{width:26,height:26}})]})),o[0]==pa.relic2Plus2Piece&&(r=i.jsxs(Tt.Fragment,{children:[i.jsx("img",{title:o[1],src:k.getSetImage(o[1],m.Parts.Head),style:{width:26,height:26}}),i.jsx("img",{title:o[2],src:k.getSetImage(o[2],m.Parts.Head),style:{width:26,height:26}})]})),o[0]==pa.relic2PlusAny&&(r=i.jsx(Tt.Fragment,{children:i.jsx("img",{title:o[1],src:k.getSetImage(o[1],m.Parts.Head),style:{width:26,height:26}})})),i.jsx(Ii,{closable:!1,onClose:s,style:{display:"flex",flexDirection:"row",paddingInline:"1px",marginInlineEnd:"4px",height:22,alignItems:"center",overflow:"hidden"},children:i.jsx(S,{children:r})})}const{SHOW_CHILD:Wf}=nd;function Mf(){const{t:e}=K(["optimizerTab","common"]),t=window.store(n=>n.setConditionalSetEffectsDrawerOpen);return i.jsxs(S,{vertical:!0,gap:It,children:[i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx($,{children:e("MainStats")}),i.jsx(ht,{type:ut.mainStats()})]}),i.jsxs(S,{vertical:!0,gap:7,children:[i.jsx(U.Item,{name:"mainBody",children:i.jsxs(J,{mode:"multiple",allowClear:!0,style:{width:oa},placeholder:e("common:Parts.Body"),optionLabelProp:"label",maxTagCount:"responsive",suffixIcon:i.jsx("img",{style:{width:16},src:k.getPart(f.Body)}),children:[i.jsx(J.Option,{value:m.Stats.HP_P,label:e("common:ShortStats.HP%"),children:e("common:Stats.HP%")}),i.jsx(J.Option,{value:m.Stats.ATK_P,label:e("common:ShortStats.ATK%"),children:e("common:Stats.ATK%")}),i.jsx(J.Option,{value:m.Stats.DEF_P,label:e("common:ShortStats.DEF%"),children:e("common:Stats.DEF%")}),i.jsx(J.Option,{value:m.Stats.CR,label:e("common:ShortStats.CRIT Rate"),children:e("common:Stats.CRIT Rate")}),i.jsx(J.Option,{value:m.Stats.CD,label:e("common:ShortStats.CRIT DMG"),children:e("common:Stats.CRIT DMG")}),i.jsx(J.Option,{value:m.Stats.EHR,label:e("common:ShortStats.Effect Hit Rate"),children:e("common:Stats.Effect Hit Rate")}),i.jsx(J.Option,{value:m.Stats.OHB,label:e("common:ShortStats.Outgoing Healing Boost"),children:e("common:Stats.Outgoing Healing Boost")})]})}),i.jsx(U.Item,{name:"mainFeet",children:i.jsxs(J,{mode:"multiple",allowClear:!0,style:{width:oa},placeholder:e("common:Parts.Feet"),optionLabelProp:"label",maxTagCount:"responsive",suffixIcon:i.jsx("img",{style:{width:16},src:k.getPart(f.Feet)}),children:[i.jsx(J.Option,{value:m.Stats.HP_P,label:e("common:ShortStats.HP%"),children:e("common:Stats.HP%")}),i.jsx(J.Option,{value:m.Stats.ATK_P,label:e("common:ShortStats.ATK%"),children:e("common:Stats.ATK%")}),i.jsx(J.Option,{value:m.Stats.DEF_P,label:e("common:ShortStats.DEF%"),children:e("common:Stats.DEF%")}),i.jsx(J.Option,{value:m.Stats.SPD,label:e("common:ShortStats.SPD"),children:e("common:Stats.SPD")})]})}),i.jsx(U.Item,{name:"mainPlanarSphere",children:i.jsxs(J,{mode:"multiple",allowClear:!0,style:{width:oa},placeholder:e("common:Parts.PlanarSphere"),optionLabelProp:"label",listHeight:400,maxTagCount:"responsive",suffixIcon:i.jsx("img",{style:{width:16},src:k.getPart(f.PlanarSphere)}),children:[i.jsx(J.Option,{value:m.Stats.HP_P,label:e("common:ShortStats.HP%"),children:e("common:Stats.HP%")}),i.jsx(J.Option,{value:m.Stats.ATK_P,label:e("common:ShortStats.ATK%"),children:e("common:Stats.ATK%")}),i.jsx(J.Option,{value:m.Stats.DEF_P,label:e("common:ShortStats.DEF%"),children:e("common:Stats.DEF%")}),i.jsx(J.Option,{value:m.Stats.Physical_DMG,label:e("common:ShortStats.Physical DMG Boost"),children:e("common:Stats.Physical DMG Boost")}),i.jsx(J.Option,{value:m.Stats.Fire_DMG,label:e("common:ShortStats.Fire DMG Boost"),children:e("common:Stats.Fire DMG Boost")}),i.jsx(J.Option,{value:m.Stats.Ice_DMG,label:e("common:ShortStats.Ice DMG Boost"),children:e("common:Stats.Ice DMG Boost")}),i.jsx(J.Option,{value:m.Stats.Lightning_DMG,label:e("common:ShortStats.Lightning DMG Boost"),children:e("common:Stats.Lightning DMG Boost")}),i.jsx(J.Option,{value:m.Stats.Wind_DMG,label:e("common:ShortStats.Wind DMG Boost"),children:e("common:Stats.Wind DMG Boost")}),i.jsx(J.Option,{value:m.Stats.Quantum_DMG,label:e("common:ShortStats.Quantum DMG Boost"),children:e("common:Stats.Quantum DMG Boost")}),i.jsx(J.Option,{value:m.Stats.Imaginary_DMG,label:e("common:ShortStats.Imaginary DMG Boost"),children:e("common:Stats.Imaginary DMG Boost")})]})}),i.jsx(U.Item,{name:"mainLinkRope",children:i.jsxs(J,{mode:"multiple",allowClear:!0,style:{width:oa},placeholder:e("common:Parts.LinkRope"),optionLabelProp:"label",maxTagCount:"responsive",suffixIcon:i.jsx("img",{style:{width:16},src:k.getPart(f.LinkRope)}),children:[i.jsx(J.Option,{value:m.Stats.HP_P,label:e("common:ShortStats.HP%"),children:e("common:Stats.HP%")}),i.jsx(J.Option,{value:m.Stats.ATK_P,label:e("common:ShortStats.ATK%"),children:e("common:Stats.ATK%")}),i.jsx(J.Option,{value:m.Stats.DEF_P,label:e("common:ShortStats.DEF%"),children:e("common:Stats.DEF%")}),i.jsx(J.Option,{value:m.Stats.BE,label:e("common:ShortStats.Break Effect"),children:e("common:Stats.Break Effect")}),i.jsx(J.Option,{value:m.Stats.ERR,label:e("common:ShortStats.Energy Regeneration Rate"),children:e("common:Stats.Energy Regeneration Rate")})]})})]}),i.jsxs(S,{justify:"space-between",align:"center",style:{marginTop:30},children:[i.jsx($,{children:e("Sets")}),i.jsx(ht,{type:ut.sets()})]}),i.jsxs(S,{vertical:!0,gap:7,children:[i.jsx(wn,{theme:{components:{Cascader:{dropdownHeight:730,controlItemWidth:100,controlWidth:100,optionPadding:"2px 12px"}}},children:i.jsx(U.Item,{name:"relicSets",children:i.jsx(nd,{placeholder:e("RelicSetSelector.Placeholder"),options:E.useMemo(()=>qR(),[e]),showCheckedStrategy:Wf,tagRender:xf,placement:"bottomLeft",maxTagCount:"responsive",multiple:!0,expandTrigger:"hover"})})}),i.jsx(U.Item,{name:"ornamentSets",children:i.jsx(J,{dropdownStyle:{width:250},listHeight:800,mode:"multiple",allowClear:!0,style:{width:oa},options:E.useMemo(()=>C0(),[e]),tagRender:os,placeholder:e("OrnamentSetSelector.Placeholder"),maxTagCount:"responsive"})}),i.jsx(z,{onClick:()=>t(!0),icon:i.jsx(xa,{}),children:e("SetConditionals.Title")})]})]})}const{Text:Lf}=ye,Vf=Ft(Lf)`
    display: block;
    text-align: center;
`,St=e=>i.jsxs(S,{justify:"space-between",style:{margin:0},children:[i.jsx(U.Item,{name:`min${e.name}`,style:{margin:0},children:i.jsx(sl,{size:"small",controls:!1,style:{margin:0,width:63}})}),i.jsx(Vf,{children:e.label}),i.jsx(U.Item,{name:`max${e.name}`,style:{marginRight:0},children:i.jsx(sl,{size:"small",controls:!1,style:{margin:0,width:63}})})]}),Pf=()=>{const{t:e}=K("optimizerTab",{keyPrefix:"MinMaxFilters"});return i.jsxs(S,{vertical:!0,gap:It,children:[i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx($,{children:e("StatHeader")}),i.jsx(ht,{type:ut.statFilters()})]}),i.jsxs(S,{vertical:!0,gap:7,children:[i.jsx(St,{name:"Hp",label:e("HPLabel")}),i.jsx(St,{name:"Atk",label:e("ATKLabel")}),i.jsx(St,{name:"Def",label:e("DEFLabel")}),i.jsx(St,{name:"Spd",label:e("SPDLabel")}),i.jsx(St,{name:"Cr",label:e("CRLabel")}),i.jsx(St,{name:"Cd",label:e("CDLabel")}),i.jsx(St,{name:"Ehr",label:e("EHRLabel")}),i.jsx(St,{name:"Res",label:e("RESLabel")}),i.jsx(St,{name:"Be",label:e("BELabel")}),i.jsx(St,{name:"Err",label:e("ERRLabel")})]})]})},Ff=()=>{const{t:e}=K("optimizerTab",{keyPrefix:"MinMaxFilters"});return i.jsxs(S,{vertical:!0,gap:It,children:[i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx($,{children:e("RatingHeader")}),i.jsx(ht,{type:ut.ratingFilters()})]}),i.jsxs(S,{vertical:!0,gap:7,children:[i.jsx(St,{name:"Ehp",label:e("EHPLabel")}),i.jsx(St,{name:"Basic",label:e("BASICLabel")}),i.jsx(St,{name:"Skill",label:e("SKILLLabel")}),i.jsx(St,{name:"Ult",label:e("ULTLabel")}),i.jsx(St,{name:"Fua",label:e("FUALabel")}),i.jsx(St,{name:"MemoSkill",label:e("MEMOSKILLLabel")}),i.jsx(St,{name:"Dot",label:e("DOTLabel")}),i.jsx(St,{name:"Break",label:e("BREAKLabel")}),i.jsx(St,{name:"Heal",label:e("HEALLabel")}),i.jsx(St,{name:"Shield",label:e("SHIELDLabel")})]})]})};function Gu(){var l;const e=window.optimizerForm.getFieldsValue();console.log("Save statSim",e.statSim);const t=window.store.getState().statSimulationDisplay;if(t==qa.Disabled||!((l=e.statSim)!=null&&l[t]))return console.warn("Invalid sim",e,t),null;const n=e.statSim[t];return Bf(n)?gu(n,t,!0):(console.warn("Invalid sim",e,t),null)}function gu(e,t,n=!1){const l=window.store.getState().statSimulations||[],s=B.randomId(),r={name:e.name||void 0,key:s,simType:t,request:e},c=Vr(r);for(const d of l){const u=Vr(d);if(c==u)return _.error(v.t("optimizerTab:StatSimulation.DuplicateSimMessage")),null}l.push(r),window.store.getState().setStatSimulations(l),Wl(l),n&&Tu(),Cs()}function Vr(e){const t={};for(const n of Object.entries(e.request))n[1]!=null&&(t[n[0]]=n[1]);return B.objectHash({simType:e.simType,request:t})}function Bf(e){return!e.simBody||!e.simFeet||!e.simLinkRope||!e.simPlanarSphere?(_.error(v.t("optimizerTab:StatSimulation.MissingMainstatsMessage")),!1):!0}function Hf(e){return i.jsxs(S,{gap:5,children:[i.jsx(vf,{sim:e}),"|",i.jsx(Xf,{sim:e}),"|",i.jsx(S,{children:e.name?`${e.name}`:null}),i.jsx(S,{children:e.name?"|":null}),i.jsx(kf,{sim:e})]})}function vf(e){const t=e.sim.request,n=22,l=k.getSetImage(t.simRelicSet1),s=k.getSetImage(t.simRelicSet2),o=t.simOrnamentSet?k.getSetImage(t.simOrnamentSet):k.getBlank();return i.jsxs(S,{gap:5,children:[i.jsxs(S,{style:{width:n*2+5},justify:"center",children:[i.jsx("img",{style:{width:t.simRelicSet1?n:0},src:l}),i.jsx("img",{style:{width:t.simRelicSet2?n:0},src:s})]}),i.jsx("img",{style:{width:n},src:o})]})}function Xf(e){const t=e.sim.request,n=22;return i.jsxs(S,{children:[i.jsx("img",{style:{width:n},src:k.getStatIcon(t.simBody,!0)}),i.jsx("img",{style:{width:n},src:k.getStatIcon(t.simFeet,!0)}),i.jsx("img",{style:{width:n},src:k.getStatIcon(t.simPlanarSphere,!0)}),i.jsx("img",{style:{width:n},src:k.getStatIcon(t.simLinkRope,!0)})]})}const Pr={[a.ATK_P]:0,[a.ATK]:1,[a.CR]:2,[a.CD]:3,[a.SPD]:4,[a.BE]:5,[a.HP_P]:6,[a.HP]:7,[a.DEF_P]:8,[a.DEF]:9,[a.EHR]:10,[a.RES]:11};function kf(e){const{t}=K("common",{keyPrefix:"ShortStats"}),n=[],l=e.sim.request.stats;for(const o of m.SubStats){const r=l[o];r&&n.push({stat:o,value:r})}n.sort((o,r)=>Pr[o.stat]-Pr[r.stat]);function s(o){return e.sim.simType==qa.SubstatRolls?`${t([o.stat])} x ${o.value}`:`${t([o.stat])} ${o.value}${B.isFlat(o.stat)?"":"%"}`}return i.jsx(S,{gap:0,children:n.map(o=>i.jsx(S,{children:i.jsx(Ii,{style:{paddingInline:"5px",marginInlineEnd:"5px"},children:s(o)})},o.stat))})}function Yf(){if(Gu()===null)return;const e=window.store.getState().selectedStatSimulations,t=window.store.getState().statSimulations,n=t.map(s=>s.key===e[0]?t.at(-1):s),l=n.pop();window.store.getState().setStatSimulations(n),Wl(n),window.store.getState().setSelectedStatSimulations([l.key]),Cs()}function wf(e){console.log("Delete sim",e);const t=window.store.getState().statSimulations,n=B.clone(t.filter(l=>l.key!=e.key));window.store.getState().setStatSimulations(n),Wl(n),Cs()}function Nf(){window.store.getState().setStatSimulations([]),Wl([]),Cs()}function Wl(e){window.optimizerForm.setFieldValue(["statSim","simulations"],e)}const Of=new Wa(!1),Uf=new $a(!1),Kf={quality:1,speedRollValue:2.6,mainStatMultiplier:1,substatRollsModifier:e=>e,simulationFlags:{}};function Ha(e,t,n,l={},s=!1){const o={...Kf,...l},r=o.simulationFlags.forceBasicSpd?o.simulationFlags.forceBasicSpdValue:void 0,c=[];for(const d of n){const u=d.request,b=ii(),p=ii(),R=ii(),G=ii(),T=ii(),C=ii();b.augmentedStats.mainStat=m.Stats.HP,p.augmentedStats.mainStat=m.Stats.ATK,R.augmentedStats.mainStat=u.simBody,G.augmentedStats.mainStat=u.simFeet,T.augmentedStats.mainStat=u.simLinkRope,C.augmentedStats.mainStat=u.simPlanarSphere,b.augmentedStats.mainValue=705.6,p.augmentedStats.mainValue=352.8,R.augmentedStats.mainValue=Ct.getMaxedStatValue(u.simBody)*o.mainStatMultiplier,G.augmentedStats.mainValue=Ct.getMaxedStatValue(u.simFeet)*o.mainStatMultiplier,T.augmentedStats.mainValue=Ct.getMaxedStatValue(u.simLinkRope)*o.mainStatMultiplier,C.augmentedStats.mainValue=Ct.getMaxedStatValue(u.simPlanarSphere)*o.mainStatMultiplier;const D=_a.filter(N=>N!=u.simRelicSet1&&N!=u.simRelicSet2);b.set=u.simRelicSet1||D[0],p.set=u.simRelicSet1||D[1],R.set=u.simRelicSet2||D[2],G.set=u.simRelicSet2||D[3],T.set=u.simOrnamentSet||Qa[0],C.set=u.simOrnamentSet||Qa[1],b.part=f.Head,p.part=f.Hands,R.part=f.Body,G.part=f.Feet,T.part=f.LinkRope,C.part=f.PlanarSphere;const V={[f.Head]:[b],[f.Hands]:[p],[f.Body]:[R],[f.Feet]:[G],[f.LinkRope]:[T],[f.PlanarSphere]:[C]},M={[f.Head]:b,[f.Hands]:p,[f.Body]:R,[f.Feet]:G,[f.LinkRope]:T,[f.PlanarSphere]:C},x=[];for(const N of qt){let F=d.request.stats[N];if(d.simType==qa.SubstatRolls){const P=N==a.SPD?o.speedRollValue:Ct.getMaxedSubstatValue(N,o.quality);let X=B.precisionRound(d.request.stats[N]||0);X=o.substatRollsModifier(X,N,M),F=X*P}F&&x.push({stat:N,value:F})}b.substats=x,qe.condenseRelicSubstatsForOptimizer(V);const W=e.trace?new $a(!0):Uf,H=e.trace?new Wa(!0):Of,O=An(e,M,t,W,H,!0,!0,!1,r,s),j=R0(O);j.statSim={key:d.key},c.push(j)}return c}function Tu(){const e=se.getForm(),t=window.store.getState().statSimulations||[];if(t.length==0||!se.validateForm(e))return;console.log("Starting sims",t);const n=Ha(e,null,t,void 0,!0);n.forEach(o=>o.id=o.statSim.key),se.setRows(n),S0(e),window.optimizerGrid.current.api.updateGridOptions({datasource:se.getDataSource()});const l=Z[e.resultSort],s=e.statDisplay=="combat"?l.combatGridColumn:l.basicGridColumn;Ml(s),Cs()}function Cs(){const e=se.getForm();I.addFromForm(e),Te.delayedSave()}function Jf(){const e=window.optimizerGrid.current.api.getSelectedRows()[0];if(!e){_.warning(v.t("optimizerTab:StatSimulation.NothingToImport"));return}if(e.statSim){_.warning(v.t("optimizerTab:StatSimulation.BuildAlreadyImported"));return}const t=se.calculateRelicsFromId(e.id),n=e.relicSetIndex,l=yu(n),s=e.ornamentSetIndex,o=Zu(s),r=I0(t,l[0],l[1],o,1);gu(r,qa.SubstatRolls,!1)}function yu(e){const t=Object.values(m.SetsRelics).length,n=e%t,l=(e-n)/t%t,s=(e-l*t-n)/(t*t)%t,o=(e-s*t*t-l*t-n)/(t*t*t)%t;return Cu([n,l,s,o])}function Zu(e){const t=Object.values(m.SetsOrnaments).length,n=e%t,l=(e-n)/t%t;return Du([n,l],!1)}function I0(e,t,n,l,s=1,o=2.6){const r=Object.values(e),c={};qt.map(d=>c[d]=0);for(const d of r)for(const u of d.substats)c[u.stat]+=u.value/(u.stat==a.SPD?o:Ct.getMaxedSubstatValue(u.stat,s));return qt.map(d=>c[d]=B.precisionRound(c[d],4)),{name:"",simRelicSet1:t,simRelicSet2:n,simOrnamentSet:l,simBody:e[f.Body].main.stat,simFeet:e[f.Feet].main.stat,simPlanarSphere:e[f.PlanarSphere].main.stat,simLinkRope:e[f.LinkRope].main.stat,stats:{[a.HP]:c[a.HP]||null,[a.ATK]:c[a.ATK]||null,[a.DEF]:c[a.DEF]||null,[a.HP_P]:c[a.HP_P]||null,[a.ATK_P]:c[a.ATK_P]||null,[a.DEF_P]:c[a.DEF_P]||null,[a.CR]:c[a.CR]||null,[a.CD]:c[a.CD]||null,[a.SPD]:c[a.SPD]||null,[a.EHR]:c[a.EHR]||null,[a.RES]:c[a.RES]||null,[a.BE]:c[a.BE]||null}}}function Cu(e,t=!1){const n=[];for(;e.length>0;){const l=e[0];if(e.lastIndexOf(l)){const s=t?l:Object.entries(m.RelicSetToIndex).find(r=>r[1]==l)[0];n.push(s);const o=e.lastIndexOf(l);e.splice(o,1)}e.splice(0,1)}return n}function Du(e,t=!0){if(e[0]!=null&&e[0]==e[1])return t?e[1]:Object.entries(m.OrnamentSetToIndex).find(n=>n[1]==e[1])[0]}const Af=[{title:i.jsx(S,{style:{marginLeft:5},children:"Simulation details"}),dataIndex:"name",fixed:"left",width:"560",render:(e,t)=>Hf(t),key:"y",ellipsis:!0},{title:"",dataIndex:"",key:"x",render:(e,t)=>i.jsx("a",{onClick:()=>{wf(t)},style:{display:"flex",justifyContent:"center"},children:i.jsx(Ba,{})}),width:36,fixed:"right"}];function jf(e){for(const t of Object.entries(e))t[1]==0&&(e[t[0]]=null);return e}function zf(){const{t:e}=K("optimizerTab",{keyPrefix:"StatSimulation"}),t=window.store(o=>o.statSimulations),n=window.store(o=>o.selectedStatSimulations),l=window.store(o=>o.setSelectedStatSimulations);function s(o){n[0]!=o&&l(o!=null?[o]:[]);const r=t.find(u=>u.key===o);if(console.log("Syncing matching statSim",r),!r)return;let c;window.optimizerGrid.current.api.forEachNode(u=>{var b,p;((p=(b=u.data)==null?void 0:b.statSim)==null?void 0:p.key)==r.key&&(c=u)}),c&&c.setSelected(!0,!0);const d=B.clone(r.request);jf(d.stats),window.optimizerForm.setFieldValue(["statSim",r.simType],d),window.store.getState().setStatSimulationDisplay(r.simType)}return E.useEffect(()=>{n.length&&s(n[0])},[n]),i.jsx(Qn,{showHeader:!1,locale:{emptyText:i.jsx(A0,{image:A0.PRESENTED_IMAGE_SIMPLE,description:e("NoStatSimulations")})},rowSelection:{selectedRowKeys:n,type:"radio",columnWidth:0,renderCell:()=>""},columns:Af,dataSource:t,onRow:o=>({onClick:()=>{l(o.key!=null?[o.key]:[])}}),pagination:!1,size:"small",style:{flex:1,width:Iu,height:"100%",backgroundColor:"#0000001a",border:"1px solid rgba(255, 255, 255, 0.15)"},scroll:{y:300}})}const{useToken:_f}=Bt,Ds="rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.15) 0px 0px 0px 1px inset",Es="rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em",Qf=5,$f=oa,qf=373,eG=1183,tG={small:$f,narrow:233,medium:qf,large:eG};function ma(e){var s,o;const{token:t}=_f(),n=e.size??"small",l=tG[n];return i.jsx(S,{style:{borderRadius:5,backgroundColor:t.colorBgContainer,height:e.height??400,padding:((s=e.style)==null?void 0:s.padding)??Ei,boxShadow:Ds,overflow:(o=e.style)==null?void 0:o.overflow},children:i.jsx(S,{style:{width:l},justify:e.justify??void 0,children:i.jsx(S,{vertical:!0,style:{width:l},gap:Qf,justify:e.justify??void 0,children:e.children})})})}const{Text:Eu}=ye;var qa=(e=>(e.Disabled="disabled",e.SubstatTotals="substatTotals",e.SubstatRolls="substatRolls",e))(qa||{});const aG=425,Iu=680,rs=215,xu=190;function nG(){const{t:e}=K("optimizerTab",{keyPrefix:"StatSimulation"}),{t}=K("common"),n=window.store(r=>r.statSimulationDisplay),l=window.store(r=>r.setStatSimulationDisplay),s=window.store(r=>r.setConditionalSetEffectsDrawerOpen);function o(){return n=="disabled"||!n}return i.jsx(ma,{style:{overflow:"hidden"},size:"large",height:aG,children:i.jsxs(S,{gap:15,style:{height:"100%"},children:[i.jsxs(S,{vertical:!0,gap:15,align:"center",children:[i.jsxs(ze.Group,{onChange:r=>{const{target:{value:c}}=r;l(c)},optionType:"button",buttonStyle:"solid",value:n,style:{width:`${Iu}px`,display:"flex"},children:[i.jsx(ze,{style:{display:"flex",flex:.3,justifyContent:"center",paddingInline:0},value:"disabled",children:e("ModeSelector.Off")}),i.jsx(ze,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"substatRolls",children:e("ModeSelector.RollCount")}),i.jsx(ze,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"substatTotals",children:e("ModeSelector.Totals")})]}),i.jsx(S,{style:{minHeight:302},children:i.jsx(zf,{})}),i.jsxs(S,{gap:10,children:[i.jsx(z,{style:{width:200},disabled:o(),onClick:Tu,icon:i.jsx(gl,{}),children:e("FooterLabels.Simulate")}),i.jsx(z,{style:{width:200},disabled:o(),onClick:Jf,icon:i.jsx(Hm,{}),children:e("FooterLabels.Import")}),i.jsx(z,{style:{width:200},disabled:o(),onClick:()=>s(!0),icon:i.jsx(xa,{}),children:e("FooterLabels.Conditionals")})]})]}),i.jsx(S,{vertical:!0,justify:"space-around",children:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx(z,{type:"primary",style:{width:35,height:100,padding:0},onClick:Gu,disabled:o(),children:i.jsx(vm,{})}),i.jsx(z,{type:"dashed",style:{width:35,height:35,padding:0},disabled:o(),onClick:Yf,children:i.jsx(id,{})}),i.jsx(yn,{title:e("DeletePopup.Title"),description:e("DeletePopup.Description"),onConfirm:Nf,placement:"bottom",okText:t("Yes"),cancelText:t("Cancel"),children:i.jsx(z,{type:"dashed",style:{width:35,height:35,padding:0},disabled:o(),children:i.jsx(_o,{})})})]})}),i.jsx(iG,{})]})})}function iG(){const{t:e}=K("optimizerTab",{keyPrefix:"StatSimulation"}),t=window.store(o=>o.statSimulationDisplay),n=U.useWatch(o=>o.statSim,window.optimizerForm),l=E.useMemo(()=>{if(!n)return 0;let o=0;for(const r of qt){const c=n.substatRolls;c!=null&&c.stats[r]&&(o+=c.stats[r])}return o},[n]),s=E.useMemo(()=>i.jsxs(i.Fragment,{children:[i.jsx(U.Item,{name:fn("simulations"),children:i.jsx(Yt,{placeholder:"This is a fake hidden input to save simulations into the form",style:{display:"none"}})}),i.jsxs(S,{gap:5,style:{display:t=="substatTotals"?"flex":"none"},children:[i.jsxs(S,{vertical:!0,gap:5,style:{width:rs},children:[i.jsx(Fr,{simType:"substatTotals"}),i.jsx(Br,{simType:"substatTotals"}),i.jsx($,{children:e("OptionsHeader")}),i.jsx(U.Item,{name:fn("substatTotals","name"),children:i.jsx(Yt,{placeholder:e("SimulationNamePlaceholder"),autoComplete:"off"})})]}),i.jsx(ha,{}),i.jsx(Hr,{simType:"substatTotals",title:e("TotalsHeader")})]}),i.jsxs(S,{gap:5,style:{display:t=="substatRolls"?"flex":"none"},children:[i.jsxs(S,{vertical:!0,gap:5,style:{width:rs},children:[i.jsx(Fr,{simType:"substatRolls"}),i.jsx(Br,{simType:"substatRolls"}),i.jsx($,{children:e("OptionsHeader")}),i.jsx(U.Item,{name:fn("substatRolls","name"),children:i.jsx(Yt,{placeholder:e("SimulationNamePlaceholder"),autoComplete:"off"})})]}),i.jsx(ha,{}),i.jsx(Hr,{simType:"substatRolls",title:e("RollsHeader"),total:l})]}),i.jsxs(S,{gap:5,style:{display:t=="disabled"?"flex":"none"},children:[i.jsx("div",{style:{width:rs}}),i.jsx(ha,{})]})]}),[t,l,e]);return i.jsx(S,{style:{minHeight:300},children:s})}function Fr(e){const{t,i18n:n}=K("optimizerTab",{keyPrefix:"StatSimulation"});return i.jsxs(i.Fragment,{children:[i.jsx($,{children:t("SetSelection.Header")}),i.jsx(U.Item,{name:fn(e.simType,"simRelicSet1"),style:{maxHeight:32},children:i.jsx(J,{dropdownStyle:{width:250},listHeight:700,allowClear:!0,options:E.useMemo(()=>Vo(),[n.resolvedLanguage]),tagRender:os,placeholder:t("SetSelection.RelicPlaceholder"),maxTagCount:"responsive",showSearch:!0})}),i.jsx(U.Item,{name:fn(e.simType,"simRelicSet2"),style:{maxHeight:32},children:i.jsx(J,{dropdownStyle:{width:250},listHeight:700,allowClear:!0,options:E.useMemo(()=>Vo(),[n.resolvedLanguage]),tagRender:os,placeholder:t("SetSelection.RelicPlaceholder"),maxTagCount:"responsive",showSearch:!0})}),i.jsx(U.Item,{name:fn(e.simType,"simOrnamentSet"),style:{maxHeight:32},children:i.jsx(J,{dropdownStyle:{width:250},listHeight:600,allowClear:!0,options:E.useMemo(()=>C0(),[n.resolvedLanguage]),tagRender:os,placeholder:t("SetSelection.OrnamentPlaceholder"),maxTagCount:"responsive",showSearch:!0})})]})}function Br(e){const{t}=K("optimizerTab",{keyPrefix:"StatSimulation.MainStatsSelection"}),n=E.useMemo(()=>[a.HP_P,a.ATK_P,a.DEF_P,a.CR,a.CD,a.EHR,a.OHB].map(r=>({value:r,short:t("ShortStat",{stat:r}),label:t("LabelStat",{stat:r})})),[t]),l=E.useMemo(()=>[a.HP_P,a.ATK_P,a.DEF_P,a.SPD].map(r=>({value:r,short:t("ShortStat",{stat:r}),label:t("LabelStat",{stat:r})})),[t]),s=E.useMemo(()=>[a.HP_P,a.ATK_P,a.DEF_P,a.BE,a.ERR].map(r=>({value:r,short:t("ShortStat",{stat:r}),label:t("LabelStat",{stat:r})})),[t]),o=E.useMemo(()=>[a.HP_P,a.ATK_P,a.DEF_P,a.Physical_DMG,a.Fire_DMG,a.Ice_DMG,a.Lightning_DMG,a.Wind_DMG,a.Quantum_DMG,a.Imaginary_DMG].map(r=>({value:r,short:t("ShortStat",{stat:r}),label:t("LabelStat",{stat:r})})),[t]);return i.jsxs(i.Fragment,{children:[i.jsx($,{children:t("Header")}),i.jsxs(S,{vertical:!0,gap:5,children:[i.jsxs(S,{gap:5,style:{width:rs},children:[i.jsx(vs,{placeholder:t("BodyPlaceholder"),part:f.Body,options:n,simType:e.simType}),i.jsx(vs,{placeholder:t("FeetPlaceholder"),part:f.Feet,options:l,simType:e.simType})]}),i.jsxs(S,{gap:5,style:{width:rs},children:[i.jsx(vs,{placeholder:t("SpherePlaceholder"),part:f.PlanarSphere,options:o,simType:e.simType}),i.jsx(vs,{placeholder:t("SpherePlaceholder"),part:f.LinkRope,options:s,simType:e.simType})]})]})]})}function vs(e){return i.jsx(U.Item,{name:fn(e.simType,"sim"+e.part),style:{flex:1},children:i.jsx(J,{placeholder:e.placeholder,style:{flex:1},allowClear:!0,optionLabelProp:"short",maxTagCount:"responsive",suffixIcon:i.jsx("img",{style:{width:16},src:k.getPart(e.part)}),options:e.options,listHeight:750,popupMatchSelectWidth:200,showSearch:!0})})}function Hr(e){const{t}=K("optimizerTab",{keyPrefix:"StatSimulation"});return i.jsx(i.Fragment,{children:i.jsxs(S,{vertical:!0,children:[i.jsx($,{children:e.title}),i.jsxs(S,{vertical:!0,gap:5,children:[i.jsx(da,{simType:e.simType,name:a.ATK_P,label:t("SubstatSelectorLabel",{stat:a.ATK_P})}),i.jsx(da,{simType:e.simType,name:a.ATK,label:t("SubstatSelectorLabel",{stat:a.ATK})}),i.jsx(da,{simType:e.simType,name:a.CR,label:t("SubstatSelectorLabel",{stat:a.CR})}),i.jsx(da,{simType:e.simType,name:a.CD,label:t("SubstatSelectorLabel",{stat:a.CD})}),i.jsx(da,{simType:e.simType,name:a.SPD,label:t("SubstatSelectorLabel",{stat:a.SPD})}),i.jsx(da,{simType:e.simType,name:a.BE,label:t("SubstatSelectorLabel",{stat:a.BE})}),i.jsx(da,{simType:e.simType,name:a.HP_P,label:t("SubstatSelectorLabel",{stat:a.HP_P})}),i.jsx(da,{simType:e.simType,name:a.HP,label:t("SubstatSelectorLabel",{stat:a.HP})}),i.jsx(da,{simType:e.simType,name:a.DEF_P,label:t("SubstatSelectorLabel",{stat:a.DEF_P})}),i.jsx(da,{simType:e.simType,name:a.DEF,label:t("SubstatSelectorLabel",{stat:a.DEF})}),i.jsx(da,{simType:e.simType,name:a.EHR,label:t("SubstatSelectorLabel",{stat:a.EHR})}),i.jsx(da,{simType:e.simType,name:a.RES,label:t("SubstatSelectorLabel",{stat:a.RES})}),e.simType=="substatRolls"&&i.jsxs(S,{justify:"space-between",style:{width:xu},children:[i.jsx(Eu,{children:t("TotalRolls")}),i.jsx($t,{size:"small",controls:!1,disabled:!0,value:B.truncate10ths(e.total),variant:"borderless",formatter:n=>`${n} / 54`,max:54,status:e.total>54?"error":void 0,style:{width:70}})]})]})]})})}function da(e){return i.jsxs(S,{justify:"space-between",style:{width:xu},children:[i.jsx(Eu,{children:e.label}),i.jsx(U.Item,{name:fn(e.simType,"stats",e.name),children:i.jsx($t,{size:"small",controls:!1,disabled:e.disabled,value:e.value,style:{width:70}})})]})}function fn(e,t,n){return["statSim",e,t,n].filter(l=>l)}Ft(ye)`
    white-space: pre-line;
`;const sG=[{text:"HPFilterText",name:m.Stats.HP_P},{text:"ATKFilterText",name:m.Stats.ATK_P},{text:"DEFFilterText",name:m.Stats.DEF_P},{text:"SPDFilterText",name:m.Stats.SPD},{text:"CRFilterText",name:m.Stats.CR},{text:"CDFilterText",name:m.Stats.CD},{text:"EHRFilterText",name:m.Stats.EHR},{text:"RESFilterText",name:m.Stats.RES},{text:"BEFilterText",name:m.Stats.BE}];function lG(){const{t:e}=K("optimizerTab",{keyPrefix:"WeightFilter"}),t=[],n=[];for(const l of sG)t.push(i.jsx("span",{style:{textWrap:"nowrap"},children:e(l.text)},l.name)),n.push(i.jsx(U.Item,{name:["weights",l.name],style:{width:"100%",alignContent:"end",alignSelf:"end"},children:i.jsx(Gl,{min:0,max:1,step:.25,style:{width:"100%",marginTop:0,marginBottom:0,marginLeft:"auto",marginRight:"auto"},onChangeComplete:()=>window.onOptimizerFormValuesChange({},se.getForm(),!0)})},l.name));return i.jsxs(S,{gap:10,children:[i.jsx(S,{vertical:!0,style:{width:"max-content"},gap:3,children:t}),i.jsx(S,{vertical:!0,gap:3,style:{width:"100%",marginLeft:10,marginRight:10},align:"flex-end",children:n})]})}const oG={0:[f.Head,f.Hands],1:[f.Body,f.Feet],2:[f.PlanarSphere,f.LinkRope]},rG={0:"headHands",1:"bodyFeet",2:"sphereRope"},vr=5;function Al(e){const{index:t}=e,n=oG[t],l=rG[t],[s,o]=E.useState(1),r=c=>{o(c)};return i.jsxs(S,{gap:5,style:{marginBottom:0},align:"center",children:[i.jsxs(S,{gap:5,justify:"flex-start",style:{minWidth:50},children:[i.jsx("img",{src:k.getPart(n[0]),style:{width:18}}),i.jsx("img",{src:k.getPart(n[1]),style:{width:18}})]}),i.jsx(S,{align:"center",justify:"flex-start",gap:10,children:i.jsx(U.Item,{name:["weights",l],children:i.jsx(Gl,{min:0,max:vr,step:.5,style:{minWidth:105,marginTop:0,marginBottom:0,marginLeft:0,marginRight:5},keyboard:!1,tooltip:{formatter:c=>`${B.precisionRound(c)}`},value:typeof s=="number"?s:0,onChange:r,onChangeComplete:()=>window.onOptimizerFormValuesChange({},se.getForm(),!0)})})}),i.jsx(U.Item,{name:["weights",l],children:i.jsx($t,{size:"small",className:"center-input-text",style:{width:40},controls:!1,min:0,max:vr,variant:"borderless",onChange:c=>{r(c),window.onOptimizerFormValuesChange({},se.getForm(),!0)}})})]})}const cG=()=>{const{t:e}=K("optimizerTab",{keyPrefix:"WeightFilter"});return i.jsxs(S,{vertical:!0,gap:20,children:[i.jsxs(S,{vertical:!0,gap:0,children:[i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx($,{children:e("WeightFilterHeader")}),i.jsx(ht,{type:ut.substatWeightFilter()})]}),i.jsx(lG,{})]}),i.jsxs(S,{vertical:!0,gap:3,children:[i.jsx($,{children:e("RollFilterHeader")}),i.jsxs(S,{vertical:!0,gap:7,children:[i.jsx(Al,{index:0}),i.jsx(Al,{index:1}),i.jsx(Al,{index:2})]})]})]})},{Text:Wu}=ye,Zi=110,dG=Zi,uG=Zi,Is=120,mG=Is,bG=Is,Xr=Is,kr=Is,hG=480,Yr=e=>e.data.value?i.jsxs(S,{gap:10,align:"center",children:[i.jsx(S,{children:i.jsx("img",{src:k.getSetImage(e.data.value,m.Parts.PlanarSphere),style:{width:26,height:26}})}),e.data.desc]}):i.jsx(Wu,{children:"None"}),an=(e,t)=>i.jsxs(S,{align:"center",gap:3,children:[i.jsx("img",{src:k.getSetImage(e,m.Parts.PlanarSphere),style:{width:20,height:20}}),i.jsx(Wu,{style:{fontSize:12},children:t})]});function pG(e){return`teammate${e}`}function SG(){return{characterEidolon:0,characterConditionals:{},lightConeSuperimposition:1,lightConeConditionals:{}}}const RG=[g.MessengerTraversingHackerspace,g.WatchmakerMasterOfDreamMachinations,g.SacerdosRelivedOrdeal],fG=[g.BrokenKeel,g.FleetOfTheAgeless,g.PenaconyLandOfTheDreams,g.LushakaTheSunkenSeas];function GG(e){const t=Object.values(e.equipped).map(l=>I.getRelicById(l)).filter(l=>l),n={};for(const l of RG)if(t.filter(s=>s.set==l).length==4){if(l==g.MessengerTraversingHackerspace)continue;l==g.SacerdosRelivedOrdeal?e.id=="1313"||e.id=="1306"?n.teamRelicSet=Ss:n.teamRelicSet=ps:n.teamRelicSet=l}for(const l of fG)t.filter(s=>s.set==l).length==2&&(n.teamOrnamentSet=l);return n}function gG(){const e=window.optimizerForm.getFieldsValue();return[e.teammate0,e.teammate1,e.teammate2].filter(t=>t==null?void 0:t.characterId).length}const jl=e=>{const{t}=K("optimizerTab",{keyPrefix:"TeammateCard"}),n=E.useMemo(()=>pG(e.index),[e.index]),l=U.useWatch([n,"characterId"],window.optimizerForm),s=U.useWatch([n,"characterEidolon"],window.optimizerForm),o=U.useWatch([n,"lightCone"],window.optimizerForm),r=U.useWatch([n,"lightConeSuperimposition"],window.optimizerForm),[c,d]=E.useState(!1),[u,b]=E.useState(!1),p=l==null,R=E.useMemo(()=>[{value:g.MessengerTraversingHackerspace,desc:t("TeammateSets.Messenger.Desc"),label:an(g.MessengerTraversingHackerspace,t("TeammateSets.Messenger.Text"))},{value:g.WatchmakerMasterOfDreamMachinations,desc:t("TeammateSets.Watchmaker.Desc"),label:an(g.WatchmakerMasterOfDreamMachinations,t("TeammateSets.Watchmaker.Text"))},{value:ps,desc:t("TeammateSets.Sacerdos1Stack.Desc"),label:an(g.SacerdosRelivedOrdeal,t("TeammateSets.Sacerdos1Stack.Text"))},{value:Ss,desc:t("TeammateSets.Sacerdos2Stack.Desc"),label:an(g.SacerdosRelivedOrdeal,t("TeammateSets.Sacerdos2Stack.Text"))}],[t]),G=E.useMemo(()=>[{value:g.BrokenKeel,desc:t("TeammateSets.Keel.Desc"),label:an(g.BrokenKeel,t("TeammateSets.Keel.Text"))},{value:g.FleetOfTheAgeless,desc:t("TeammateSets.Ageless.Desc"),label:an(g.FleetOfTheAgeless,t("TeammateSets.Ageless.Text"))},{value:g.PenaconyLandOfTheDreams,desc:t("TeammateSets.Penacony.Desc"),label:an(g.PenaconyLandOfTheDreams,t("TeammateSets.Penacony.Text"))},{value:g.LushakaTheSunkenSeas,desc:t("TeammateSets.Lushaka.Desc"),label:an(g.LushakaTheSunkenSeas,t("TeammateSets.Lushaka.Text"))}],[t]),T=E.useMemo(()=>{const V=[];for(let M=1;M<=5;M++)V.push({value:M,label:t("SuperimpositionN",{superimposition:M})});return V},[t]),C=E.useMemo(()=>{const V=[];for(let M=0;M<=6;M++)V.push({value:M,label:t("EidolonN",{eidolon:M})});return V},[t]);function D(){if(window.store.getState().setTeammateCount(gG()),!l){window.optimizerForm.setFieldValue([n],SG());return}const M=se.formToDisplay(se.getForm())[n],x=I.getCharacterById(l);if(x){M.lightCone=x.form.lightCone,M.lightConeSuperimposition=x.form.lightConeSuperimposition||1,M.characterEidolon=x.form.characterEidolon;const H=GG(x);M.teamRelicSet=H.teamRelicSet,M.teamOrnamentSet=H.teamOrnamentSet}else M.lightConeSuperimposition=1,M.characterEidolon=0;const W=ta.get({characterId:l,characterEidolon:M.characterEidolon});W.teammateDefaults&&(M.characterConditionals=Object.assign({},W.teammateDefaults(),M.characterConditionals)),window.optimizerForm.setFieldValue([n],M)}return E.useEffect(()=>{D()},[l,e.index]),E.useEffect(()=>{if(!o)return;const V=se.formToDisplay(se.getForm()),M=V[n],x=Cn(M,e.dbMetadata),W=aa.get(x);if(!W.teammateDefaults)return;const H=Object.assign({},W.teammateDefaults(),V[n].lightConeConditionals);window.optimizerForm.setFieldValue([n,"lightConeConditionals"],H)},[o,r,l,e.index]),i.jsx(ma,{size:"medium",height:hG,style:{overflow:"auto"},children:i.jsxs(S,{vertical:!0,gap:5,children:[i.jsxs(S,{gap:5,children:[i.jsx(U.Item,{name:[n,"characterId"],style:{flex:1},children:i.jsx(Fi,{value:"",selectStyle:{},externalOpen:c,setExternalOpen:d})}),i.jsx(z,{icon:i.jsx(sd,{}),style:{width:35},disabled:p,onClick:()=>{D(),_.success(t("TeammateSyncSuccessMessage"))}}),i.jsx(U.Item,{name:[n,"characterEidolon"],children:i.jsx(J,{showSearch:!0,style:{width:110},options:C,placeholder:t("EidolonPlaceholder"),disabled:p})})]}),i.jsxs(S,{children:[i.jsx(S,{vertical:!0,style:{minWidth:258,marginLeft:5},children:i.jsx(G0,{id:l,eidolon:s,teammateIndex:e.index})}),i.jsxs(S,{vertical:!0,gap:5,children:[i.jsx("div",{style:{width:`${Zi}px`,height:`${Zi}px`,borderRadius:"10px"},children:i.jsx("img",{width:Zi,height:Zi,src:k.getCharacterAvatarById(l),onClick:()=>d(!0),style:{cursor:"pointer"}})}),i.jsx(U.Item,{name:[n,"teamRelicSet"],children:i.jsx(J,{className:"teammate-set-select",style:{width:110},options:R,placeholder:t("RelicsPlaceholder"),allowClear:!0,popupMatchSelectWidth:!1,optionLabelProp:"label",optionRender:Yr,disabled:p})}),i.jsx(U.Item,{name:[n,"teamOrnamentSet"],children:i.jsx(J,{className:"teammate-set-select",style:{width:110},options:G,placeholder:t("OrnamentsPlaceholder"),allowClear:!0,popupMatchSelectWidth:!1,optionLabelProp:"label",optionRender:Yr,disabled:p})})]})]}),i.jsxs(S,{gap:5,children:[i.jsx(U.Item,{name:[n,"lightCone"],children:i.jsx(Z0,{value:"",selectStyle:{width:258},characterId:l,externalOpen:u,setExternalOpen:b})}),i.jsx(U.Item,{name:[n,"lightConeSuperimposition"],children:i.jsx(J,{showSearch:!0,style:{width:110},options:T,placeholder:t("SuperimpositionPlaceholder"),disabled:p})})]}),i.jsxs(S,{children:[i.jsx(S,{vertical:!0,style:{minWidth:258,marginLeft:5},children:i.jsx(g0,{id:o,superImposition:r,teammateIndex:e.index,dbMetadata:e.dbMetadata})}),i.jsx(S,{children:i.jsx("div",{style:{width:`${dG}px`,height:`${uG}px`,borderRadius:"10px"},children:i.jsx("img",{width:Is,src:k.getLightConeIconById(o),style:{marginLeft:-5,transform:`translate(${(Xr-mG)/2/Xr*-100}%, ${(kr-bG)/2/kr*-100}%)`,cursor:"pointer"},onClick:()=>b(!0)})})})]})]})})};function Mu(e){return i.jsx(S,{vertical:!0,style:{overflow:"hidden",borderRadius:5,paddingBottom:10,background:"rgb(29 42 81 / 73%)",boxShadow:Es,backdropFilter:"blur(5px)",border:"1px solid rgba(255, 255, 255, 0.10)",WebkitBackdropFilter:"blur(5px)",width:1227},children:e.children})}const Ea={characterOptions:"Character options",relicAndStatFilters:"Relic & stat filters",teammates:"Teammates",characterStatsSimulation:"Character custom stats simulation",analysis:"Analysis"};function cs(e){const{t}=K("optimizerTab",{keyPrefix:"FormRowLabels"}),n=window.store(r=>r.optimizerMenuState),l=window.store(r=>r.setOptimizerMenuState);function s(r){n[e.id]=r.length>0,l(n)}const o=[{key:e.id,label:i.jsx(S,{style:{paddingTop:6},children:e.label??t(`${e.id}`)}),forceRender:!0,children:i.jsx(S,{style:{paddingLeft:10,marginTop:5,paddingRight:10},gap:10,children:e.children})}];return i.jsx(S,{gap:0,vertical:!0,className:"form-row",style:{minWidth:"100%"},children:i.jsx(Tl,{defaultActiveKey:n[e.id]?e.id:void 0,items:o,onChange:s,expandIconPosition:"end",ghost:!0})})}function TG(e){const{t}=K("optimizerTab",{keyPrefix:"TeammateRow"}),n=window.store(s=>s.teammateCount),l=E.useMemo(()=>t("Header",{teammateCount:n?` (${n})`:""}),[n,t]);return i.jsx(cs,{id:e.id,label:l,children:e.children})}const x0={};function yG(){console.log("======================================================================= RENDER OptimizerForm");const[e]=U.useForm();window.optimizerForm=e,E.useEffect(()=>{var r;const s=I.getCharacters()||[],o=window.store.getState().savedSession[Ue.optimizerCharacterId];se.updateCharacter(o??((r=s[0])==null?void 0:r.id))},[]);const t=E.useMemo(()=>I.getMetadata(),[]),n=(s,o,r=!1)=>{if(!s||!(o!=null&&o.characterId))return;const c=Object.keys(s);if(c.length==1&&(c[0]=="characterConditionals"||c[0]=="lightConeConditionals"||c[0]=="setConditionals"||c[0].startsWith("teammate"))&&b2(s),!r){if(c.length==1&&(c[0].startsWith("min")||c[0].startsWith("max")||c[0].startsWith("buff")||c[0].startsWith("statDisplay")||c[0].startsWith("statSim")||c[0].startsWith("teammate")||c[0].startsWith("combatBuffs")||c[0]=="characterConditionals"||c[0]=="lightConeConditionals"))return}const d=o;c[0]==="characterId"&&(window.store.getState().setSavedSessionKey(Ue.optimizerCharacterId,s.characterId),Te.delayedSave()),!I.getCharacterById(o.characterId)&&c[0]!="characterId"&&I.addFromForm(o),s.rank!=null&&I.getCharacterById(o.characterId).rank!=o.rank&&(I.insertCharacter(o.characterId,o.rank),I.refreshCharacters());const[u,b]=il.getFilteredRelics(d),p={Head:u.Head.length,Hands:u.Hands.length,Body:u.Body.length,Feet:u.Feet.length,PlanarSphere:u.PlanarSphere.length,LinkRope:u.LinkRope.length,HeadTotal:b.Head.length,HandsTotal:b.Hands.length,BodyTotal:b.Body.length,FeetTotal:b.Feet.length,PlanarSphereTotal:b.PlanarSphere.length,LinkRopeTotal:b.LinkRope.length};window.store.getState().setPermutationDetails(p),window.store.getState().setPermutations(u.Head.length*u.Hands.length*u.Body.length*u.Feet.length*u.PlanarSphere.length*u.LinkRope.length)};window.onOptimizerFormValuesChange=n;function l(){console.log("Start clicked");const s=se.getForm();if(!se.validateForm(s))return;window.store.getState().setPermutationsSearched(0),window.store.getState().setPermutationsResults(0),window.store.getState().setOptimizationInProgress(!0),setTimeout(()=>{I.addFromForm(s)},2e3),Te.delayedSave();const o=B.randomId();window.store.getState().setOptimizationId(o),s.optimizationId=o,s.statDisplay=window.store.getState().statDisplay,x0[o]=s,console.log("Form finished",s),setTimeout(()=>il.optimize(s),50)}return window.optimizerStartClicked=l,i.jsx("div",{style:{position:"relative"},children:i.jsxs(U,{form:e,layout:"vertical",onValuesChange:n,children:[i.jsx(Df,{}),i.jsxs(Mu,{children:[i.jsxs(cs,{id:Ea.characterOptions,children:[i.jsx(ma,{style:{overflow:"hidden",padding:"none"},size:"narrow",children:i.jsx(If,{})}),i.jsx(ma,{children:i.jsx(NR,{})}),i.jsx(ma,{children:i.jsx(ZG,{})}),i.jsx(ma,{justify:"space-between",children:i.jsx(CG,{metadata:t})}),i.jsx(ma,{children:i.jsx(Ef,{})})]}),i.jsxs(cs,{id:Ea.relicAndStatFilters,children:[i.jsx(ma,{children:i.jsx(Mf,{})}),i.jsx(ma,{children:i.jsx(cG,{})}),i.jsx(ma,{children:i.jsx(Pf,{})}),i.jsx(ma,{children:i.jsx(Ff,{})}),i.jsxs(ma,{children:[i.jsx(Gf,{}),i.jsx(zR,{}),i.jsx(Cf,{})]})]}),i.jsxs(TG,{id:Ea.teammates,children:[i.jsx(jl,{index:0,dbMetadata:t}),i.jsx(jl,{index:1,dbMetadata:t}),i.jsx(jl,{index:2,dbMetadata:t})]}),i.jsx(cs,{id:Ea.characterStatsSimulation,children:i.jsx(nG,{})})]})]})})}function ZG(){const e=U.useWatch(["characterId"],window.optimizerForm),t=U.useWatch(["characterEidolon"],window.optimizerForm);return i.jsx(G0,{id:e,eidolon:t})}function CG(e){const{metadata:t}=e,n=U.useWatch(["lightCone"],window.optimizerForm),l=U.useWatch(["lightConeSuperimposition"],window.optimizerForm),s=U.useWatch(["characterId"],window.optimizerForm);return E.useEffect(()=>{var u;const o=Cn({characterId:s,characterEidolon:0,lightCone:n,lightConeSuperimposition:l},t),c=aa.get(o).defaults(),d=((u=I.getCharacterById(s))==null?void 0:u.form.lightConeConditionals)||{};B.mergeDefinedValues(c,d),window.optimizerForm.setFieldValue("lightConeConditionals",c)},[n,l,s]),i.jsxs(S,{vertical:!0,justify:"space-between",style:{height:"100%",marginBottom:8},children:[i.jsx(g0,{id:n,superImposition:l,dbMetadata:t}),i.jsx(TR,{})]})}function DG(e){const t=m.MAX_INT;e.statDisplay=window.store.getState().statDisplay||ys,e.memoDisplay=window.store.getState().memoDisplay||yl,e.maxHp=Me(e.maxHp,t),e.minHp=Me(e.minHp,0),e.maxAtk=Me(e.maxAtk,t),e.minAtk=Me(e.minAtk,0),e.maxDef=Me(e.maxDef,t),e.minDef=Me(e.minDef,0),e.maxSpd=Me(e.maxSpd,t),e.minSpd=Me(e.minSpd,0),e.maxCr=Me(e.maxCr,t,100),e.minCr=Me(e.minCr,0,100),e.maxCd=Me(e.maxCd,t,100),e.minCd=Me(e.minCd,0,100),e.maxEhr=Me(e.maxEhr,t,100),e.minEhr=Me(e.minEhr,0,100),e.maxRes=Me(e.maxRes,t,100),e.minRes=Me(e.minRes,0,100),e.maxBe=Me(e.maxBe,t,100),e.minBe=Me(e.minBe,0,100),e.maxErr=Me(e.maxErr,t,100),e.minErr=Me(e.minErr,0,100),e.maxEhp=Me(e.maxEhp,t),e.minEhp=Me(e.minEhp,0),e.maxBasic=Me(e.maxBasic,t),e.minBasic=Me(e.minBasic,0),e.maxSkill=Me(e.maxSkill,t),e.minSkill=Me(e.minSkill,0),e.maxUlt=Me(e.maxUlt,t),e.minUlt=Me(e.minUlt,0),e.maxFua=Me(e.maxFua,t),e.minFua=Me(e.minFua,0),e.maxMemoSkill=Me(e.maxMemoSkill,t),e.minMemoSkill=Me(e.minMemoSkill,0),e.maxMemoTalent=Me(e.maxMemoTalent,t),e.minMemoTalent=Me(e.minMemoTalent,0),e.maxDot=Me(e.maxDot,t),e.minDot=Me(e.minDot,0),e.maxBreak=Me(e.maxBreak,t),e.minBreak=Me(e.minBreak,0),e.maxHeal=Me(e.maxHeal,t),e.minHeal=Me(e.minHeal,0),e.maxShield=Me(e.maxShield,t),e.minShield=Me(e.minShield,0),e.combatBuffs||(e.combatBuffs={});for(const n of Object.values(Zl))e.combatBuffs[n.key]=Me(e.combatBuffs[n.key],0,n.percent?100:0);return e.characterConditionals||(e.characterConditionals={}),e.lightConeConditionals||(e.lightConeConditionals={}),e.mainHead=e.mainHead||[],e.mainHands=e.mainHands||[],e.mainBody=e.mainBody||[],e.mainFeet=e.mainFeet||[],e.mainPlanarSphere=e.mainPlanarSphere||[],e.mainLinkRope=e.mainLinkRope||[],e}function EG(e){var u;const t=e.characterId,n=y.clone(e),l=I.getMetadata(),s=t?l.characters[t]:null,o=t?I.getScoringMetadata(t):null;n.maxHp=mt(e.maxHp),n.minHp=rt(e.minHp),n.maxAtk=mt(e.maxAtk),n.minAtk=rt(e.minAtk),n.maxDef=mt(e.maxDef),n.minDef=rt(e.minDef),n.maxSpd=mt(e.maxSpd),n.minSpd=rt(e.minSpd),n.maxCr=mt(e.maxCr,!0),n.minCr=rt(e.minCr,!0),n.maxCd=mt(e.maxCd,!0),n.minCd=rt(e.minCd,!0),n.maxEhr=mt(e.maxEhr,!0),n.minEhr=rt(e.minEhr,!0),n.maxRes=mt(e.maxRes,!0),n.minRes=rt(e.minRes,!0),n.maxBe=mt(e.maxBe,!0),n.minBe=rt(e.minBe,!0),n.maxErr=mt(e.maxErr,!0),n.minErr=rt(e.minErr,!0),n.maxEhp=mt(e.maxEhp),n.minEhp=rt(e.minEhp),n.maxBasic=mt(e.maxBasic),n.minBasic=rt(e.minBasic),n.maxSkill=mt(e.maxSkill),n.minSkill=rt(e.minSkill),n.maxUlt=mt(e.maxUlt),n.minUlt=rt(e.minUlt),n.maxFua=mt(e.maxFua),n.minFua=rt(e.minFua),n.maxMemoSkill=mt(e.maxMemoSkill),n.minMemoSkill=rt(e.minMemoSkill),n.maxMemoTalent=mt(e.maxMemoTalent),n.minMemoTalent=rt(e.minMemoTalent),n.maxDot=mt(e.maxDot),n.minDot=rt(e.minDot),n.maxBreak=mt(e.maxBreak),n.minBreak=rt(e.minBreak),n.maxHeal=mt(e.maxHeal),n.minHeal=rt(e.minHeal),n.maxShield=mt(e.maxShield),n.minShield=rt(e.minShield);const r={};e.combatBuffs||(e.combatBuffs={});for(const b of Object.values(Zl))r[b.key]=rt(e.combatBuffs[b.key],b.percent);n.combatBuffs=r,n.setConditionals?B.mergeUndefinedValues(n.setConditionals,Ci):n.setConditionals=Ci;const c=Hu();if(e.enemyLevel||(n.enemyLevel=c.enemyLevel),e.enemyCount||(n.enemyCount=c.enemyCount),e.enemyResistance||(n.enemyResistance=c.enemyResistance),e.enemyEffectResistance||(n.enemyEffectResistance=c.enemyEffectResistance),e.enemyElementalWeak==null&&(n.enemyElementalWeak=c.enemyElementalWeak),e.enemyWeaknessBroken==null&&(n.enemyWeaknessBroken=c.enemyWeaknessBroken),e.enemyMaxToughness||(n.enemyMaxToughness=c.enemyMaxToughness),n.characterId){const b=ta.get(e).defaults();n.characterConditionals||(n.characterConditionals={});for(const p of Object.keys(b))n.characterConditionals[p]==null&&(n.characterConditionals[p]=b[p])}if(n.lightCone){const b=Cn(e,l),p=aa.get(b).defaults();n.lightConeConditionals||(n.lightConeConditionals={});for(const R of Object.keys(p))n.lightConeConditionals[R]==null&&(n.lightConeConditionals[R]=p[R])}else n.lightCone=void 0,n.lightConeLevel=80,n.lightConeSuperimposition=1,n.lightConeConditionals={};n.statDisplay||(n.statDisplay=ys),n.memoDisplay||(n.memoDisplay=yl);const d=I.getCharacterById(t);if(d)n.rank=d.rank;else if(n.rank=I.getCharacters().length,s&&o){for(const b of o.presets||[])b.apply(n);n.mainBody=o.parts[m.Parts.Body],n.mainFeet=o.parts[m.Parts.Feet],n.mainPlanarSphere=o.parts[m.Parts.PlanarSphere],n.mainLinkRope=o.parts[m.Parts.LinkRope],n.weights=o.stats,n.weights.headHands=0,n.weights.bodyFeet=0,n.weights.sphereRope=0,Pu(n,o)}if(n.weights||(n.weights=Bo(t)),n.weights.headHands||(n.weights.headHands=0),n.weights.bodyFeet||(n.weights.bodyFeet=0),n.weights.sphereRope||(n.weights.sphereRope=0),n.exclude||(n.exclude=[]),n.exclude=n.exclude.filter(b=>I.getCharacterById(b)),n.includeEquippedRelics==null&&(n.includeEquippedRelics=!0),[1,3,5].includes(n.enemyCount)||(n.enemyCount=1),n.teammate0=zl(e.teammate0),n.teammate1=zl(e.teammate1),n.teammate2=zl(e.teammate2),n.weights||(n.weights=Bo()),n.resultSort||s&&(n.resultSort=s.scoringMetadata.sortOption.key),n.resultsLimit||(n.resultsLimit=1024),n.mainStatUpscaleLevel||(n.mainStatUpscaleLevel=15),n.comboStateJson||(n.comboStateJson="{}"),!n.comboAbilities&&s){const b=(u=s.scoringMetadata)==null?void 0:u.simulation;n.comboAbilities=(b==null?void 0:b.comboAbilities)??[null,"BASIC"],n.comboDot=(b==null?void 0:b.comboDot)??0,n.comboBreak=(b==null?void 0:b.comboBreak)??0}n.comboType||(n.comboType="simple");for(const[b,p]of Object.entries(n.setConditionals)){const R=b;if(!Vi[R]){delete e.setConditionals[R],delete n.setConditionals[R];continue}Vi[R].type===ce.SELECT?typeof p[1]!="number"&&(n.setConditionals[R][1]=Ci[R][1]):typeof p[1]!="boolean"&&(n.setConditionals[R][1]=Ci[R][1])}return n}function Me(e,t,n=0){return e==null?t:(n=n||1,e/n)}function rt(e,t=!1){if(e!=null)return e==0?void 0:parseFloat((t?e*100:e).toFixed(3))}function mt(e,t=!1){if(e!=null)return e==m.MAX_INT?void 0:parseFloat((t?e*100:e).toFixed(3))}function zl(e){return e!=null&&e.characterId?{characterId:e.characterId??null,characterEidolon:e.characterEidolon??null,lightCone:e.lightCone??null,lightConeSuperimposition:e.lightConeSuperimposition??null,characterConditionals:wr(e.characterConditionals),lightConeConditionals:wr(e.lightConeConditionals)}:_s()}function wr(e){if(!e)return null;for(const t of Object.keys(e))e[t]==null&&delete e[t];return e}function W0(){return window.optimizerGrid.current.api}let In,xn,Po,Xt=[],Fo,Ji,Xn;const Lu={[a.HP]:!0,[a.ATK]:!0,[a.DEF]:!0,[a.SPD]:!0,[a.CR]:!0,[a.CD]:!0,[a.EHR]:!0,[a.RES]:!0,[a.BE]:!0,[a.ERR]:!0,[a.OHB]:!0,ED:!0,WEIGHT:!0,EHP:!0,BASIC:!0,SKILL:!0,ULT:!0,FUA:!0,MEMO_SKILL:!0,MEMO_TALENT:!0,DOT:!0,BREAK:!0,COMBO:!0,HEAL:!0,SHIELD:!0,xATK:!0,xDEF:!0,xHP:!0,xSPD:!0,xCR:!0,xCD:!0,xEHR:!0,xRES:!0,xBE:!0,xERR:!0,xOHB:!0,xELEMENTAL_DMG:!0,mATK:!0,mDEF:!0,mHP:!0,mSPD:!0,mCR:!0,mCD:!0,mEHR:!0,mRES:!0,mBE:!0,mERR:!0,mOHB:!0,mELEMENTAL_DMG:!0,mxATK:!0,mxDEF:!0,mxHP:!0,mxSPD:!0,mxCR:!0,mxCD:!0,mxEHR:!0,mxRES:!0,mxBE:!0,mxERR:!0,mxOHB:!0,mxELEMENTAL_DMG:!0,mxEHP:!0},IG=Object.keys(Lu),se={setMetadata:(e,t)=>{xn=e,In=t},getAggregations:()=>Po,setRows:e=>{Xt=e},setTopRow:(e,t=!1)=>{var l,s,o,r,c;if(t){(l=window.optimizerGrid.current)==null||l.api.updateGridOptions({pinnedTopRowData:[e]});return}const n=((r=(o=(s=window.optimizerGrid)==null?void 0:s.current)==null?void 0:o.api)==null?void 0:r.getGridOption("pinnedTopRowData"))??[];n[0]=e,(c=window.optimizerGrid.current)==null||c.api.updateGridOptions({pinnedTopRowData:n})},getRows:()=>Xt,scrollToGrid:()=>{const e=document.getElementById("optimizerGridContainer");e&&y.smoothScrollNearest(e,250)},getForm:()=>{const e=window.optimizerForm.getFieldsValue();return se.displayToForm(e)},formToDisplay:e=>EG(e),displayToForm:e=>DG(e),equipClicked:()=>{var o,r,c;console.log("Equip clicked");const e=se.getForm(),t=e.characterId;if(!t)return;I.addFromForm(e);const n=(o=window.optimizerGrid.current)==null?void 0:o.api.getSelectedNodes();if(!n||n.length==0||(c=(r=n[0])==null?void 0:r.data)!=null&&c.statSim)return;const l=n[0].data,s=se.calculateRelicIdsFromId(l.id);I.equipRelicIdsToCharacter(Object.values(s),t),_.success("Equipped relics"),se.setTopRow(l),window.store.getState().setOptimizerBuild(s),Te.delayedSave(),se.updateFilters()},cellClicked:e=>{var s,o;const t=e.data,n=W0();if(window.store.getState().setOptimizerSelectedRowData(t),e.rowPinned=="top"){console.log("Top row clicked",t);const r=se.getForm();if(t&&r.characterId){t.id||n.deselectAll();const c=I.getCharacterById(r.characterId);if(c&&t.id){const d=t.id,u=se.calculateRelicIdsFromId(d,r);window.store.getState().setOptimizerBuild(u);const b=n.getRowNode(String(t.id));if(b){const p=n.getGridOption("pinnedTopRowData")??[];String(p[0].id)==String(b.data.id)?(s=window.optimizerGrid.current)==null||s.api.deselectAll():b.setSelected(!0)}}else c&&window.store.getState().setOptimizerBuild(c.equipped)}return}if(console.log("cellClicked",e),t.statSim){const r=t.statSim.key;window.store.getState().setSelectedStatSimulations([r]),window.store.getState().setOptimizerBuild({}),(o=window.optimizerGrid.current)==null||o.api.deselectAll();return}const l=se.calculateRelicIdsFromId(t.id);window.store.getState().setOptimizerBuild(l)},getColumnsToAggregate:()=>IG,getColumnsToAggregateMap:()=>Lu,resetDataSource:()=>{var e,t;(t=(e=window.optimizerGrid.current)==null?void 0:e.api)==null||t.updateGridOptions({datasource:se.getDataSource(Xn,Ji)})},getDataSource:(e,t)=>(e&&(Xn=e),t&&(Ji=t),{getRows:n=>{var l,s,o;Po=void 0,(s=(l=window==null?void 0:window.optimizerGrid)==null?void 0:l.current)!=null&&s.api&&((o=window.optimizerGrid.current)==null||o.api.setGridOption("loading",!0)),y.sleep(100).then(()=>{var r,c,d;if(n.sortModel.length>0&&n.sortModel[0]!=Xn&&(Xn=n.sortModel[0],xG()),Ji){WG(Ji);const u=Fo.slice(n.startRow,n.endRow),b=[];for(const p of u)b.push(Xt[p]);Nr(b),n.successCallback(b,Fo.length)}else{const u=Xt.slice(n.startRow,n.endRow);Nr(u),n.successCallback(u,Xt.length)}(c=(r=window==null?void 0:window.optimizerGrid)==null?void 0:r.current)!=null&&c.api&&((d=window.optimizerGrid.current)==null||d.api.setGridOption("loading",!1)),se.redrawRows()})}}),calculateRelicsFromId:(e,t)=>{if(e===-1){const C=t??x0[window.store.getState().optimizationId],D=I.getCharacterById(C.characterId).equipped,V={};for(const M of Object.keys(D))V[M]=I.getRelicById(D[M]);return V}const n=xn.lSize,l=xn.pSize,s=xn.fSize,o=xn.bSize,r=xn.gSize,c=xn.hSize,d=e,u=d%n,b=(d-u)/n%l,p=(d-b*n-u)/(n*l)%s,R=(d-p*l*n-b*n-u)/(n*l*s)%o,G=(d-R*s*l*n-p*l*n-b*n-u)/(n*l*s*o)%r,T=(d-G*o*s*l*n-R*s*l*n-p*l*n-b*n-u)/(n*l*s*o*r)%c;return{Head:In.Head[T],Hands:In.Hands[G],Body:In.Body[R],Feet:In.Feet[p],PlanarSphere:In.PlanarSphere[b],LinkRope:In.LinkRope[u]}},calculateRelicIdsFromId:(e,t)=>{var l,s,o,r,c,d;const n=se.calculateRelicsFromId(e,t);return{Head:(l=n.Head)==null?void 0:l.id,Hands:(s=n.Hands)==null?void 0:s.id,Body:(o=n.Body)==null?void 0:o.id,Feet:(r=n.Feet)==null?void 0:r.id,PlanarSphere:(c=n.PlanarSphere)==null?void 0:c.id,LinkRope:(d=n.LinkRope)==null?void 0:d.id}},validateForm:e=>{if(console.log("validate",e),!e.lightCone||!e.lightConeSuperimposition)return _.error("Missing light cone fields"),console.log("Missing light cone"),!1;if(!e.characterId||e.characterEidolon==null)return _.error("Missing character fields"),console.log("Missing character"),!1;if(!e.resultsLimit||!e.resultSort)return _.error("Missing optimization target fields"),console.log("Missing optimization target fields"),!1;if(Object.values(m.Stats).map(s=>e.weights[s]).filter(s=>!!s).length==0)return _.error("All substat weights are set to 0. Make sure to set the substat weights for your character or use the Recommended presets button.",10),console.log("Top percent"),!1;const t=I.getMetadata(),n=t.lightCones[e.lightCone],l=t.characters[e.characterId];return n.path!=l.path&&(_.warning("Character path doesn't match light cone path.",10),console.log("Path mismatch")),!0},updateFilters:()=>{if(window.optimizerForm&&window.onOptimizerFormValuesChange){const e=se.getForm();window.onOptimizerFormValuesChange({},e)}},resetFilters:()=>{const e=se.getForm(),t={characterEidolon:e.characterEidolon,characterId:e.characterId,characterLevel:80,enhance:9,grade:5,mainStatUpscaleLevel:15,rankFilter:!0,includeEquippedRelics:!0,keepCurrentRelics:!1,lightCone:e.lightCone,lightConeLevel:80,lightConeSuperimposition:e.lightConeSuperimposition,mainBody:[],mainFeet:[],mainHands:[],mainHead:[],mainLinkRope:[],mainPlanarSphere:[],ornamentSets:[],relicSets:[]};window.optimizerForm.setFieldsValue(se.formToDisplay(t)),se.updateFilters()},setCharacter:e=>{window.store.getState().setOptimizerTabFocusCharacter(e),window.optimizerForm.setFieldValue("characterId",e),window.store.getState().setSavedSessionKey(Ue.optimizerCharacterId,e),Te.delayedSave()},updateCharacter:e=>{if(console.log("@updateCharacter",e),!e)return;se.setRows([]),se.resetDataSource();const t=I.getCharacterById(e),n=t?t.form:wi({id:e}),l=se.formToDisplay(n);window.optimizerForm.setFieldsValue(l);const s=se.displayToForm(l),o=al(s,!0);window.store.getState().setComboState(o),setTimeout(()=>{var r,c,d;window.store.getState().setOptimizerFormSelectedLightCone(n.lightCone),window.store.getState().setOptimizerFormSelectedLightConeSuperimposition(n.lightConeSuperimposition),window.store.getState().setOptimizerTabFocusCharacter(e),window.store.getState().setOptimizerFormCharacterEidolon(n.characterEidolon),window.store.getState().setStatDisplay(n.statDisplay??ys),window.store.getState().setStatSimulations(((r=n.statSim)==null?void 0:r.simulations)??[]),window.store.getState().setOptimizerSelectedRowData(null),(d=(c=window.optimizerGrid.current)==null?void 0:c.api)==null||d.deselectAll(),Yi(s),S0(s),window.onOptimizerFormValuesChange({},l)},50)},redrawRows:()=>{var e;(e=window.optimizerGrid.current)==null||e.api.refreshCells({force:!0})},applyRowFilters:()=>{const e=se.getForm();e.statDisplay=window.store.getState().statDisplay,Ji=e,console.log("Apply filters to rows",e),se.resetDataSource()}};function Nr(e){const t=Ct.getZeroes();for(const s of se.getColumnsToAggregate())t[s]=m.MAX_INT;function n(s){t[s]=m.MAX_INT,l[s]=0}const l=Ct.getZeroes();t.ED=m.MAX_INT,l.ED=0,t.WEIGHT=m.MAX_INT,l.WEIGHT=0,t.EHP=m.MAX_INT,l.EHP=0,n("BASIC"),n("SKILL"),n("ULT"),n("FUA"),n("MEMO_SKILL"),n("MEMO_TALENT"),n("DOT"),n("BREAK"),n("COMBO"),n("HEAL"),n("SHIELD"),n("xATK"),n("xDEF"),n("xHP"),n("xSPD"),n("xCR"),n("xCD"),n("xEHR"),n("xRES"),n("xBE"),n("xERR"),n("xOHB"),n("xELEMENTAL_DMG"),n("mATK"),n("mDEF"),n("mHP"),n("mSPD"),n("mCR"),n("mCD"),n("mEHR"),n("mRES"),n("mBE"),n("mERR"),n("mOHB"),n("mELEMENTAL_DMG"),n("mxATK"),n("mxDEF"),n("mxHP"),n("mxSPD"),n("mxCR"),n("mxCD"),n("mxEHR"),n("mxRES"),n("mxBE"),n("mxERR"),n("mxOHB"),n("mxELEMENTAL_DMG"),n("mxEHP");for(const s of e)for(const o of se.getColumnsToAggregate()){const r=s[o];r<t[o]&&(t[o]=r),r>l[o]&&(l[o]=r)}Po={min:t,max:l}}function xG(){Xn.sort=="desc"?j0(Xt).desc(e=>e[Xn.colId]):j0(Xt).asc(e=>e[Xn.colId])}function WG(e){const t=e.statDisplay=="combat",n=e.memoDisplay=="memo",l=[];if(t)if(n)for(let s=0;s<Xt.length;s++){const o=Xt[s];o.mxHP>=e.minHp&&o.mxHP<=e.maxHp&&o.mxATK>=e.minAtk&&o.mxATK<=e.maxAtk&&o.mxDEF>=e.minDef&&o.mxDEF<=e.maxDef&&o.mxSPD>=e.minSpd&&o.mxSPD<=e.maxSpd&&o.mxCR>=e.minCr&&o.mxCR<=e.maxCr&&o.mxCD>=e.minCd&&o.mxCD<=e.maxCd&&o.mxEHR>=e.minEhr&&o.mxEHR<=e.maxEhr&&o.mxRES>=e.minRes&&o.mxRES<=e.maxRes&&o.mxBE>=e.minBe&&o.mxBE<=e.maxBe&&o.mxERR>=e.minErr&&o.mxERR<=e.maxErr&&o.EHP>=e.minEhp&&o.EHP<=e.maxEhp&&o.BASIC>=e.minBasic&&o.BASIC<=e.maxBasic&&o.SKILL>=e.minSkill&&o.SKILL<=e.maxSkill&&o.ULT>=e.minUlt&&o.ULT<=e.maxUlt&&o.FUA>=e.minFua&&o.FUA<=e.maxFua&&o.MEMO_SKILL>=e.minMemoSkill&&o.MEMO_SKILL<=e.maxMemoSkill&&o.MEMO_TALENT>=e.minMemoTalent&&o.MEMO_TALENT<=e.maxMemoTalent&&o.DOT>=e.minDot&&o.DOT<=e.maxDot&&o.BREAK>=e.minBreak&&o.BREAK<=e.maxBreak&&o.HEAL>=e.minHeal&&o.HEAL<=e.maxHeal&&o.SHIELD>=e.minShield&&o.SHIELD<=e.maxShield&&l.push(s)}else for(let s=0;s<Xt.length;s++){const o=Xt[s];o.xHP>=e.minHp&&o.xHP<=e.maxHp&&o.xATK>=e.minAtk&&o.xATK<=e.maxAtk&&o.xDEF>=e.minDef&&o.xDEF<=e.maxDef&&o.xSPD>=e.minSpd&&o.xSPD<=e.maxSpd&&o.xCR>=e.minCr&&o.xCR<=e.maxCr&&o.xCD>=e.minCd&&o.xCD<=e.maxCd&&o.xEHR>=e.minEhr&&o.xEHR<=e.maxEhr&&o.xRES>=e.minRes&&o.xRES<=e.maxRes&&o.xBE>=e.minBe&&o.xBE<=e.maxBe&&o.xERR>=e.minErr&&o.xERR<=e.maxErr&&o.EHP>=e.minEhp&&o.EHP<=e.maxEhp&&o.BASIC>=e.minBasic&&o.BASIC<=e.maxBasic&&o.SKILL>=e.minSkill&&o.SKILL<=e.maxSkill&&o.ULT>=e.minUlt&&o.ULT<=e.maxUlt&&o.FUA>=e.minFua&&o.FUA<=e.maxFua&&o.MEMO_SKILL>=e.minMemoSkill&&o.MEMO_SKILL<=e.maxMemoSkill&&o.MEMO_TALENT>=e.minMemoTalent&&o.MEMO_TALENT<=e.maxMemoTalent&&o.DOT>=e.minDot&&o.DOT<=e.maxDot&&o.BREAK>=e.minBreak&&o.BREAK<=e.maxBreak&&o.HEAL>=e.minHeal&&o.HEAL<=e.maxHeal&&o.SHIELD>=e.minShield&&o.SHIELD<=e.maxShield&&l.push(s)}else if(n)for(let s=0;s<Xt.length;s++){const o=Xt[s];o.mHP>=e.minHp&&o.mHP<=e.maxHp&&o.mATK>=e.minAtk&&o.mATK<=e.maxAtk&&o.mDEF>=e.minDef&&o.mDEF<=e.maxDef&&o.mSPD>=e.minSpd&&o.mSPD<=e.maxSpd&&o.mCR>=e.minCr&&o.mCR<=e.maxCr&&o.mCD>=e.minCd&&o.mCD<=e.maxCd&&o.mEHR>=e.minEhr&&o.mEHR<=e.maxEhr&&o.mRES>=e.minRes&&o.mRES<=e.maxRes&&o.mBE>=e.minBe&&o.mBE<=e.maxBe&&o.mERR>=e.minErr&&o.mERR<=e.maxErr&&o.EHP>=e.minEhp&&o.EHP<=e.maxEhp&&o.BASIC>=e.minBasic&&o.BASIC<=e.maxBasic&&o.SKILL>=e.minSkill&&o.SKILL<=e.maxSkill&&o.ULT>=e.minUlt&&o.ULT<=e.maxUlt&&o.FUA>=e.minFua&&o.FUA<=e.maxFua&&o.MEMO_SKILL>=e.minMemoSkill&&o.MEMO_SKILL<=e.maxMemoSkill&&o.MEMO_TALENT>=e.minMemoTalent&&o.MEMO_TALENT<=e.maxMemoTalent&&o.DOT>=e.minDot&&o.DOT<=e.maxDot&&o.BREAK>=e.minBreak&&o.BREAK<=e.maxBreak&&o.HEAL>=e.minHeal&&o.HEAL<=e.maxHeal&&o.SHIELD>=e.minShield&&o.SHIELD<=e.maxShield&&l.push(s)}else for(let s=0;s<Xt.length;s++){const o=Xt[s];o[a.HP]>=e.minHp&&o[a.HP]<=e.maxHp&&o[a.ATK]>=e.minAtk&&o[a.ATK]<=e.maxAtk&&o[a.DEF]>=e.minDef&&o[a.DEF]<=e.maxDef&&o[a.SPD]>=e.minSpd&&o[a.SPD]<=e.maxSpd&&o[a.CR]>=e.minCr&&o[a.CR]<=e.maxCr&&o[a.CD]>=e.minCd&&o[a.CD]<=e.maxCd&&o[a.EHR]>=e.minEhr&&o[a.EHR]<=e.maxEhr&&o[a.RES]>=e.minRes&&o[a.RES]<=e.maxRes&&o[a.BE]>=e.minBe&&o[a.BE]<=e.maxBe&&o[a.ERR]>=e.minErr&&o[a.ERR]<=e.maxErr&&o.EHP>=e.minEhp&&o.EHP<=e.maxEhp&&o.BASIC>=e.minBasic&&o.BASIC<=e.maxBasic&&o.SKILL>=e.minSkill&&o.SKILL<=e.maxSkill&&o.ULT>=e.minUlt&&o.ULT<=e.maxUlt&&o.FUA>=e.minFua&&o.FUA<=e.maxFua&&o.MEMO_SKILL>=e.minMemoSkill&&o.MEMO_SKILL<=e.maxMemoSkill&&o.MEMO_TALENT>=e.minMemoTalent&&o.MEMO_TALENT<=e.maxMemoTalent&&o.DOT>=e.minDot&&o.DOT<=e.maxDot&&o.BREAK>=e.minBreak&&o.BREAK<=e.maxBreak&&o.HEAL>=e.minHeal&&o.HEAL<=e.maxHeal&&o.SHIELD>=e.minShield&&o.SHIELD<=e.maxShield&&l.push(s)}Fo=l}const le={fnAshblazingSet:e=>({name:"fnAshblazingSet",value:e,apply:t=>{t.setConditionals[g.TheAshblazingGrandDuke][1]=e}}),fnPioneerSet:e=>({name:"fnPioneerSet",value:e,apply:t=>{t.setConditionals[g.PioneerDiverOfDeadWaters][1]=e}}),fnSacerdosSet:e=>({name:"fnSacerdosSet",value:e,apply:t=>{t.setConditionals[g.SacerdosRelivedOrdeal][1]=e}}),PRISONER_SET:{name:"PRISONER_SET",value:3,apply:e=>{e.setConditionals[g.PrisonerInDeepConfinement][1]=3}},WASTELANDER_SET:{name:"WASTELANDER_SET",value:2,apply:e=>{e.setConditionals[g.WastelanderOfBanditryDesert][1]=2}},VALOROUS_SET:{name:"VALOROUS_SET",value:!0,apply:e=>{e.setConditionals[g.TheWindSoaringValorous][1]=!0}},BANANA_SET:{name:"BANANA_SET",value:!0,apply:e=>{e.setConditionals[g.TheWondrousBananAmusementPark][1]=!0}},GENIUS_SET:{name:"GENIUS_SET",value:!0,apply:e=>{e.setConditionals[g.GeniusOfBrilliantStars][1]=!0}}};function Ml(e){var n;const t={state:[{colId:e,sort:"desc"}],defaultState:{sort:null}};(n=window.optimizerGrid.current)==null||n.api.applyColumnState(t)}function Vu(e){return{SPD0:{key:"SPD0",label:e("SpdValues.SPD0"),value:void 0},SPD111:{key:"SPD111",label:e("SpdValues.SPD111"),value:111.112},SPD114:{key:"SPD114",label:e("SpdValues.SPD114"),value:114.286},SPD120:{key:"SPD120",label:e("SpdValues.SPD120"),value:120},SPD133:{key:"SPD133",label:e("SpdValues.SPD133"),value:133.334},SPD142:{key:"SPD142",label:e("SpdValues.SPD142"),value:142.858},SPD155:{key:"SPD155",label:e("SpdValues.SPD155"),value:155.556},SPD160:{key:"SPD160",label:e("SpdValues.SPD160"),value:160},SPD171:{key:"SPD171",label:e("SpdValues.SPD171"),value:171.429},SPD177:{key:"SPD177",label:e("SpdValues.SPD177"),value:177.778},SPD200:{key:"SPD200",label:e("SpdValues.SPD200"),value:200}}}const MG=()=>{const{t:e}=K("optimizerTab",{keyPrefix:"Presets"}),t=window.store(c=>c.optimizerTabFocusCharacter),n=E.useMemo(()=>Vu(e),[e]),l=Object.values(n);l.map(c=>c.label=i.jsx("div",{style:{minWidth:450},children:c.label}));function s(c){return{key:c,label:c,children:l}}const r={items:E.useMemo(function(){if(!t)return[];const c=I.getMetadata().characters[t];return c?[s(e("StandardLabel",{id:c.id}))]:[]},[t,e]),onClick:c=>{n[c.key]?Or(n[c.key].value,t):_.warning(e("PresetNotAvailable"))}};return i.jsx(Ts.Button,{className:"full-width-dropdown-button",type:"primary",menu:r,onClick:()=>Or(n.SPD0.value,t),icon:i.jsx(gl,{}),style:{flex:1,width:"100%"},children:e("RecommendedPresets")})};function Or(e,t){if(!t)return;const n=I.getMetadata().characters[t],l=y.clone(n.scoringMetadata),s=se.formToDisplay(se.getForm()),o=se.formToDisplay(wi(n));s.setConditionals=o.setConditionals;const r=window.store.getState().scoringMetadataOverrides[t];r&&(B.mergeDefinedValues(l.parts,r.parts),B.mergeDefinedValues(l.stats,r.stats)),s.minSpd=e,Pu(s,l);const c=l.sortOption;s.resultSort=c.key,Ml(c.combatGridColumn),window.optimizerForm.setFieldsValue(s),window.onOptimizerFormValuesChange({},s)}function Pu(e,t){var n,l,s;B.mergeUndefinedValues(e,wi()),e.comboAbilities=((n=t==null?void 0:t.simulation)==null?void 0:n.comboAbilities)||[null,"BASIC"],e.comboDot=((l=t==null?void 0:t.simulation)==null?void 0:l.comboDot)||0,e.comboBreak=((s=t==null?void 0:t.simulation)==null?void 0:s.comboBreak)||0,e.maxSpd=void 0,e.mainBody=t.parts[m.Parts.Body],e.mainFeet=t.parts[m.Parts.Feet],e.mainPlanarSphere=t.parts[m.Parts.PlanarSphere],e.mainLinkRope=t.parts[m.Parts.LinkRope],e.weights={...e.weights,...t.stats},e.weights.headHands=e.weights.headHands||0,e.weights.bodyFeet=e.weights.bodyFeet||0,e.weights.sphereRope=e.weights.sphereRope||0,Bu(e),Fu(e)}function Fu(e){var l;const t=I.getMetadata().characters[e.characterId],n=((l=t==null?void 0:t.scoringMetadata)==null?void 0:l.presets)??[];for(const s of n)s.apply(e)}function Bu(e){const t=I.getMetadata().characters[e.characterId];B.mergeUndefinedValues(e.setConditionals,Ci);const n=t==null?void 0:t.element;e.setConditionals[g.GeniusOfBrilliantStars][1]=n==er.Quantum,e.setConditionals[g.ForgeOfTheKalpagniLantern][1]=n==er.Fire;const l=t==null?void 0:t.path;e.setConditionals[g.HeroOfTriumphantSong][1]=l==Xi.Remembrance}function Bo(e){if(e){const t=y.clone(I.getScoringMetadata(e));return t.stats.headHands=0,t.stats.bodyFeet=0,t.stats.sphereRope=0,t.stats}return{[m.Stats.HP_P]:1,[m.Stats.ATK_P]:1,[m.Stats.DEF_P]:1,[m.Stats.SPD_P]:1,[m.Stats.HP]:1,[m.Stats.ATK]:1,[m.Stats.DEF]:1,[m.Stats.SPD]:1,[m.Stats.CD]:1,[m.Stats.CR]:1,[m.Stats.EHR]:1,[m.Stats.RES]:1,[m.Stats.BE]:1,headHands:0,bodyFeet:0,sphereRope:0}}function wi(e){var r,c;const t=(r=I.getMetadata().characters[e==null?void 0:e.id])==null?void 0:r.scoringMetadata,n=(t==null?void 0:t.parts)||{},l=(t==null?void 0:t.stats)||Bo(),s={};Object.values(Zl).map(d=>s[d.key]=0);const o=y.clone({characterId:e==null?void 0:e.id,mainBody:n[m.Parts.Body]||[],mainFeet:n[m.Parts.Feet]||[],mainPlanarSphere:n[m.Parts.PlanarSphere]||[],mainLinkRope:n[m.Parts.LinkRope]||[],relicSets:[],ornamentSets:[],characterLevel:80,characterEidolon:0,lightConeLevel:80,lightConeSuperimposition:1,mainStatUpscaleLevel:15,rankFilter:!0,includeEquippedRelics:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[],statDisplay:ys,memoDisplay:yl,weights:l,setConditionals:Ci,teammate0:_s(),teammate1:_s(),teammate2:_s(),resultSort:t==null?void 0:t.sortOption.key,resultsLimit:1024,combatBuffs:s,combo:{BASIC:0,SKILL:0,ULT:0,FUA:0,DOT:0,BREAK:0},comboStateJson:"{}",...Hu()});return Bu(o),Fu(o),(c=t==null?void 0:t.simulation)!=null&&c.comboAbilities&&(o.comboAbilities=t.simulation.comboAbilities,o.comboDot=t.simulation.comboDot,o.comboBreak=t.simulation.comboBreak),o}function _s(){return{characterId:void 0,characterEidolon:0,lightCone:void 0,lightConeSuperimposition:1}}function Hu(){return{enemyLevel:95,enemyCount:1,enemyResistance:.2,enemyEffectResistance:.2,enemyMaxToughness:360,enemyElementalWeak:!0,enemyWeaknessBroken:!1}}const Ci={[g.PasserbyOfWanderingCloud]:[void 0,!0],[g.MusketeerOfWildWheat]:[void 0,!0],[g.KnightOfPurityPalace]:[void 0,!0],[g.HunterOfGlacialForest]:[void 0,!0],[g.ChampionOfStreetwiseBoxing]:[void 0,5],[g.GuardOfWutheringSnow]:[void 0,!0],[g.FiresmithOfLavaForging]:[void 0,!0],[g.GeniusOfBrilliantStars]:[void 0,!0],[g.BandOfSizzlingThunder]:[void 0,!0],[g.EagleOfTwilightLine]:[void 0,!0],[g.ThiefOfShootingMeteor]:[void 0,!0],[g.WastelanderOfBanditryDesert]:[void 0,1],[g.LongevousDisciple]:[void 0,2],[g.MessengerTraversingHackerspace]:[void 0,!1],[g.TheAshblazingGrandDuke]:[void 0,0],[g.PrisonerInDeepConfinement]:[void 0,0],[g.PioneerDiverOfDeadWaters]:[void 0,2],[g.WatchmakerMasterOfDreamMachinations]:[void 0,!1],[g.IronCavalryAgainstTheScourge]:[void 0,!0],[g.TheWindSoaringValorous]:[void 0,!1],[g.SacerdosRelivedOrdeal]:[void 0,0],[g.ScholarLostInErudition]:[void 0,!0],[g.HeroOfTriumphantSong]:[void 0,!1],[g.PoetOfMourningCollapse]:[void 0,!0],[g.SpaceSealingStation]:[void 0,!0],[g.FleetOfTheAgeless]:[void 0,!0],[g.PanCosmicCommercialEnterprise]:[void 0,!0],[g.BelobogOfTheArchitects]:[void 0,!0],[g.CelestialDifferentiator]:[void 0,!1],[g.InertSalsotto]:[void 0,!0],[g.TaliaKingdomOfBanditry]:[void 0,!0],[g.SprightlyVonwacq]:[void 0,!0],[g.RutilantArena]:[void 0,!0],[g.BrokenKeel]:[void 0,!0],[g.FirmamentFrontlineGlamoth]:[void 0,!0],[g.PenaconyLandOfTheDreams]:[void 0,!0],[g.SigoniaTheUnclaimedDesolation]:[void 0,4],[g.IzumoGenseiAndTakamaDivineRealm]:[void 0,!0],[g.DuranDynastyOfRunningWolves]:[void 0,5],[g.ForgeOfTheKalpagniLantern]:[void 0,!1],[g.LushakaTheSunkenSeas]:[void 0,!1],[g.TheWondrousBananAmusementPark]:[void 0,!1],[g.BoneCollectionsSereneDemesne]:[void 0,!0],[g.GiantTreeOfRaptBrooding]:[void 0,!0]},{Text:Xs}=ye,LG=5,_l=Ft.span`
    white-space: wrap !important;
    word-break: break-word !important;`,we={RelicEquippingBehavior:{name:"RelicEquippingBehavior",Swap:"Swap",Replace:"Replace"},PermutationsSidebarBehavior:{name:"PermutationsSidebarBehavior",NoShow:"Do Not Show",ShowXL:"Show XL",ShowXXL:"Show XXL"},RelicPotentialLoadBehavior:{name:"RelicPotentialLoadBehavior",ScoreAtStartup:"Score at startup",ManuallyClickReapplyScores:"Manually click reapply scores"},ExpandedInfoPanelPosition:{name:"ExpandedInfoPanelPosition",Above:"Above",Below:"Below"}},vu={[we.RelicEquippingBehavior.name]:we.RelicEquippingBehavior.Replace,[we.PermutationsSidebarBehavior.name]:we.PermutationsSidebarBehavior.ShowXL,[we.RelicPotentialLoadBehavior.name]:we.RelicPotentialLoadBehavior.ScoreAtStartup,[we.ExpandedInfoPanelPosition.name]:we.ExpandedInfoPanelPosition.Below},VG=()=>{const[e]=U.useForm(),t=window.store(p=>p.settingsDrawerOpen),n=window.store(p=>p.setSettingsDrawerOpen),l=window.store(p=>p.settings),s=window.store(p=>p.setSettings),{t:o}=K("settings"),r=[{value:we.RelicEquippingBehavior.Replace,label:i.jsx("span",{children:o("RelicEquippingBehaviour.Replace")})},{value:we.RelicEquippingBehavior.Swap,label:i.jsx("span",{children:o("RelicEquippingBehaviour.Swap")})}],c=[{value:we.PermutationsSidebarBehavior.ShowXL,label:i.jsx("span",{children:o("PermutationSidebarBehaviour.XL")})},{value:we.PermutationsSidebarBehavior.ShowXXL,label:i.jsx("span",{children:o("PermutationSidebarBehaviour.XXL")})},{value:we.PermutationsSidebarBehavior.NoShow,label:i.jsx("span",{children:o("PermutationSidebarBehaviour.NoShow")})}],d=[{value:we.RelicPotentialLoadBehavior.ScoreAtStartup,label:i.jsx("span",{children:o("RelicPotentialLoadBehaviour.OnStartup")})},{value:we.RelicPotentialLoadBehavior.ManuallyClickReapplyScores,label:i.jsx("span",{children:o("RelicPotentialLoadBehaviour.Manual")})}],u=[{value:we.ExpandedInfoPanelPosition.Above,label:i.jsx("span",{children:"Show expanded info above relics preview"})},{value:we.ExpandedInfoPanelPosition.Below,label:i.jsx("span",{children:"Default: Show expanded info below relics preview"})}];E.useEffect(()=>{const p=y.clone(vu),R=B.mergeDefinedValues(p,l);s(R),e.setFieldsValue(R)},[]);const b=(p,R)=>{s(R),Te.delayedSave()};return i.jsx(U,{form:e,onValuesChange:b,children:i.jsx(_n,{title:o("Title"),placement:"right",onClose:()=>n(!1),open:t,width:900,forceRender:!0,children:i.jsxs(S,{vertical:!0,gap:LG,children:[i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx(Xs,{children:o("RelicEquippingBehaviour.Label")}),i.jsx(U.Item,{name:we.RelicEquippingBehavior.name,children:i.jsx(J,{style:{width:500},options:r})})]}),i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx(Xs,{children:o("PermutationSidebarBehaviour.Label")}),i.jsx(U.Item,{name:we.PermutationsSidebarBehavior.name,children:i.jsx(J,{style:{width:500},options:c,optionRender:p=>i.jsx(_l,{children:p.label})})})]}),i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx(Xs,{children:o("RelicPotentialLoadBehaviour.Label")}),i.jsx(U.Item,{name:we.RelicPotentialLoadBehavior.name,children:i.jsx(J,{style:{width:500},options:d,optionRender:p=>i.jsx(_l,{children:p.label})})})]}),i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx(Xs,{children:"Optimizer Expanded info panel position"}),i.jsx(U.Item,{name:we.ExpandedInfoPanelPosition.name,children:i.jsx(J,{style:{width:500},options:u,optionRender:p=>i.jsx(_l,{children:p.label})})})]})]})})})},Xu={1:m.Parts.Head,2:m.Parts.Hands,3:m.Parts.Body,4:m.Parts.Feet,5:m.Parts.PlanarSphere,6:m.Parts.LinkRope},ku={6:5,5:4,4:3,3:2},Ho={HPAddedRatio:m.Stats.HP_P,AttackAddedRatio:m.Stats.ATK_P,DefenceAddedRatio:m.Stats.DEF_P,HPDelta:m.Stats.HP,AttackDelta:m.Stats.ATK,DefenceDelta:m.Stats.DEF,SpeedDelta:m.Stats.SPD,CriticalDamageBase:m.Stats.CD,CriticalChanceBase:m.Stats.CR,StatusProbabilityBase:m.Stats.EHR,StatusResistanceBase:m.Stats.RES,BreakDamageAddedRatioBase:m.Stats.BE,SPRatioBase:m.Stats.ERR,HealRatioBase:m.Stats.OHB,PhysicalAddedRatio:m.Stats.Physical_DMG,FireAddedRatio:m.Stats.Fire_DMG,IceAddedRatio:m.Stats.Ice_DMG,ThunderAddedRatio:m.Stats.Lightning_DMG,WindAddedRatio:m.Stats.Wind_DMG,QuantumAddedRatio:m.Stats.Quantum_DMG,ImaginaryAddedRatio:m.Stats.Imaginary_DMG},M0={convert:e=>{const t=e.relicList||[],n=e.equipment,l=e.rank||0,s=""+e.avatarId,o=n?""+n.tid:void 0,r=n?n.level:0,c=n?n.rank:0,d=t.map(b=>PG(b)).filter(b=>!!b),u={};for(const b of d)b.equippedBy=s,u[b.part]=b;return{id:s,key:B.randomId(),form:{characterLevel:80,characterId:s,characterEidolon:l,lightCone:o,lightConeLevel:r,lightConeSuperimposition:c},equipped:u}},getConstantConversions:()=>({statConversion:Ho,partConversion:Xu,gradeConversion:ku})},ci={55001:{set:"101",part:"3",main:"436"},55002:{set:"101",part:"4",main:"441"},55003:{set:"102",part:"3",main:"434"},55004:{set:"103",part:"3",main:"433"},55005:{set:"103",part:"4",main:"443"},55006:{set:"105",part:"3",main:"434"}};function PG(e){try{const t=I.getMetadata().relics,n=""+e.tid,l=e.level||0;let s=n.substring(1,4);ci[n]&&(s=ci[n].set);const o=t.relicSets[s].name;let r=n.substring(4,5);ci[n]&&(r=ci[n].part);const c=Xu[r],d=n.substring(0,1),u=ku[d];let b=e.mainAffixId;b||(b=Object.values(t.relicMainAffixes[`${u}${r}`].affixes).find(x=>x.property==e.main_affix.type).affix_id);let p=t.relicMainAffixes[`${u}${r}`].affixes[b];ci[n]&&(p=t.relicMainAffixes[ci[n].main].affixes[b]);const R=Ho[p.property],G=p.base,T=p.step,C=G+T*l,D={stat:R,value:B.precisionRound(C*(B.isFlat(R)?1:100),5)},V=[];for(const x of e.subAffixList){let W=x.affixId;W||(W=Object.values(t.relicSubAffixes[`${u}`].affixes).find(w=>w.property==x.type).affix_id);const H=x.cnt??x.count,O=x.step||0,j=t.relicSubAffixes[u].affixes[W],N=Ho[j.property],F=j.base,P=j.step,X=F*H+P*O;if(H!=null&&O!=null){const w=L0(H,O).rolls;V.push({stat:N,value:B.precisionRound(X*(B.isFlat(N)?1:100),5),addedRolls:Math.max(0,H-1),rolls:w})}else V.push({stat:N,value:B.precisionRound(X*(B.isFlat(N)?1:100),5)})}const M={verified:!0,part:c,set:o,enhance:l,grade:u,main:D,substats:V};return jn.augment(M)}catch(t){return console.error(t),null}}function L0(e,t){const n={high:0,mid:0,low:0};let l=!1;if(e!=null&&t!=null){n.low=e;for(let s=0;s<t;s++)n.low==0?(n.high++,n.mid--):(n.mid++,n.low--);(n.high>e||n.mid<0||n.low<0)&&(l=!0),n.high=Math.min(e,n.high),n.mid=Math.max(0,n.mid),n.low=Math.max(0,n.low)}else l=!0;return{rolls:n,errorFlag:l}}let Ur,Ql,Kr,$l=!1;const Bi={fixMainStatValue:e=>{$l||Bi.initialize();const t=e.enhance,n=e.main.stat,l=Kr[e.part],o=`${e.grade}${l}`,r=I.getMetadata().relics.relicMainAffixes[o].affixes,c=Object.values(r).find(R=>R.property==Ql[n]);if(!c)return 0;const d=c.step,b=c.base+d*t,p=B.isFlat(n)?b:b*100;return y.precisionRound(p,5)},fixSubStatValue:(e,t,n)=>{if($l||Bi.initialize(),e==m.Stats.SPD)return t;const l=FG[n];if(!l)return t;const s=Ur[e];if(!s||!l[s])return t;const r=l[s][t];if(!r)return t;const c=typeof r!="number"?r[0]:r,d=I.getMetadata().relics.relicSubAffixes[n].affixes,u=Object.values(d).find(C=>C.property==Ql[e]);if(!u)return t;const b=u.base,p=u.step,G=(b+p*2)*c,T=B.isFlat(e)?G:G*100;return B.precisionRound(T,5)},initialize:()=>{$l=!0;const e=M0.getConstantConversions();Ql=y.flipStringMapping(e.statConversion),Kr=y.flipStringMapping(e.partConversion),Ur=B.flipMapping({ATK:m.Stats.ATK,HP:m.Stats.HP,DEF:m.Stats.DEF,ATK_:m.Stats.ATK_P,HP_:m.Stats.HP_P,DEF_:m.Stats.DEF_P,SPD:m.Stats.SPD,"CRIT Rate_":m.Stats.CR,"CRIT DMG_":m.Stats.CD,"Effect Hit Rate_":m.Stats.EHR,"Effect RES_":m.Stats.RES,"Break Effect_":m.Stats.BE})}},FG={2:{HP:{13:.8,15:.9,16:1},ATK:{6:.8,7:.9,8:1},DEF:{6:.8,7:.9,8:1},HP_:{1.3:.8,1.5:.9,1.7:1},ATK_:{1.3:.8,1.5:.9,1.7:1},DEF_:{1.7:.8,1.9:.9,2.1:1},SPD:{1:[.8,.9,1]},"CRIT Rate_":{1:.8,1.1:.9,1.2:1},"CRIT DMG_":{2:.8,2.3:.9,2.5:1},"Effect Hit Rate_":{1.3:.8,1.5:.9,1.7:1},"Effect RES_":{1.3:.8,1.5:.9,1.7:1},"Break Effect_":{2:.8,2.3:.9,2.5:1}},3:{HP:{20:.8,22:.9,25:1,40:1.6,43:1.7,45:1.8,48:1.9,50:2},ATK:{10:.8,11:.9,12:1,20:1.6,21:1.7,22:1.8,24:1.9,25:2},DEF:{10:.8,11:.9,12:1,20:1.6,21:1.7,22:1.8,24:1.9,25:2},HP_:{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},ATK_:{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},DEF_:{2.5:.8,2.9:.9,3.2:1,5.1:1.6,5.5:1.7,5.8:1.8,6.1:1.9,6.4:2},SPD:{1:[.8,.9,1],2:[1.6,1.7,1.8,1.9,2]},"CRIT Rate_":{1.5:.8,1.7:.9,1.9:1,3.1:1.6,3.3:1.7,3.4:1.8,3.6:1.9,3.8:2},"CRIT DMG_":{3.1:.8,3.4:.9,3.8:1,6.2:1.6,6.6:1.7,6.9:1.8,7.3:1.9,7.7:2},"Effect Hit Rate_":{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},"Effect RES_":{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},"Break Effect_":{3.1:.8,3.4:.9,3.8:1,6.2:1.6,6.6:1.7,6.9:1.8,7.3:1.9,7.7:2}},4:{HP:{27:.8,30:.9,33:1,54:1.6,57:1.7,60:1.8,64:1.9,67:2,81:2.4,84:2.5,88:2.6,91:2.7,94:2.8,98:2.9,101:3,108:3.2,111:3.3,115:3.4,118:3.5,121:3.6,125:3.7,128:3.8,132:3.9,135:4},ATK:{13:.8,15:.9,16:1,27:1.6,28:1.7,30:1.8,32:1.9,33:2,40:2.4,42:2.5,44:2.6,45:2.7,47:2.8,49:2.9,50:3,54:3.2,55:3.3,57:3.4,59:3.5,60:3.6,62:3.7,64:3.8,66:3.9,67:4},DEF:{13:.8,15:.9,16:1,27:1.6,28:1.7,30:1.8,32:1.9,33:2,40:2.4,42:2.5,44:2.6,45:2.7,47:2.8,49:2.9,50:3,54:3.2,55:3.3,57:3.4,59:3.5,60:3.6,62:3.7,64:3.8,66:3.9,67:4},HP_:{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},ATK_:{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},DEF_:{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4},SPD:{1:[.8,.9],2:1,3:[1.6,1.7,1.8,1.9],4:[2,2.4],5:[2.5,2.6,2.7,2.8,2.9],6:[3,3.2,3.3,3.4],7:[3.5,3.6,3.7,3.8,3.9],8:4},"CRIT Rate_":{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2,6.2:2.4,6.4:2.5,6.7:2.6,6.9:2.7,7.2:2.8,7.5:2.9,7.7:3,8.2:3.2,8.5:3.3,8.8:3.4,9:3.5,9.3:3.6,9.5:3.7,9.8:3.8,10.1:3.9,10.3:4},"CRIT DMG_":{4.1:.8,4.6:.9,5.1:1,8.2:1.6,8.8:1.7,9.3:1.8,9.8:1.9,10.3:2,12.4:2.4,12.9:2.5,13.4:2.6,13.9:2.7,14.5:2.8,15:2.9,15.5:3,16.5:3.2,17.1:3.3,17.6:3.4,18.1:3.5,18.6:3.6,19.1:3.7,19.6:3.8,20.2:3.9,20.7:4},"Effect Hit Rate_":{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},"Effect RES_":{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},"Break Effect_":{4.1:.8,4.6:.9,5.1:1,8.2:1.6,8.8:1.7,9.3:1.8,9.8:1.9,10.3:2,12.4:2.4,12.9:2.5,13.4:2.6,13.9:2.7,14.5:2.8,15:2.9,15.5:3,16.5:3.2,17.1:3.3,17.6:3.4,18.1:3.5,18.6:3.6,19.1:3.7,19.6:3.8,20.2:3.9,20.7:4}},5:{HP:{33:.8,38:.9,42:1,67:1.6,71:1.7,76:1.8,80:1.9,84:2,101:2.4,105:2.5,110:2.6,114:2.7,118:2.8,122:2.9,127:3,135:3.2,139:3.3,143:3.4,148:3.5,152:3.6,156:3.7,160:3.8,165:3.9,169:4,173:4.1,177:4.2,182:4.3,186:4.4,190:4.5,194:4.6,198:4.7,203:4.8,207:4.9,211:5,215:5.1,220:5.2,224:5.3,228:5.4,232:5.5,237:5.6,241:5.7,245:5.8,249:5.9,254:6},ATK:{16:.8,19:.9,21:1,33:1.6,35:1.7,38:1.8,40:1.9,42:2,50:2.4,52:2.5,55:2.6,57:2.7,59:2.8,61:2.9,63:3,67:3.2,69:3.3,71:3.4,74:3.5,76:3.6,78:3.7,80:3.8,82:3.9,84:4,86:4.1,88:4.2,91:4.3,93:4.4,95:4.5,97:4.6,99:4.7,101:4.8,103:4.9,105:5,107:5.1,110:5.2,112:5.3,114:5.4,116:5.5,118:5.6,120:5.7,122:5.8,124:5.9,127:6},DEF:{16:.8,19:.9,21:1,33:1.6,35:1.7,38:1.8,40:1.9,42:2,50:2.4,52:2.5,55:2.6,57:2.7,59:2.8,61:2.9,63:3,67:3.2,69:3.3,71:3.4,74:3.5,76:3.6,78:3.7,80:3.8,82:3.9,84:4,86:4.1,88:4.2,91:4.3,93:4.4,95:4.5,97:4.6,99:4.7,101:4.8,103:4.9,105:5,107:5.1,110:5.2,112:5.3,114:5.4,116:5.5,118:5.6,120:5.7,122:5.8,124:5.9,127:6},HP_:{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},ATK_:{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},DEF_:{4.3:.8,4.8:.9,5.4:1,8.6:1.6,9.1:1.7,9.7:1.8,10.2:1.9,10.8:2,12.9:2.4,13.5:2.5,14:2.6,14.5:2.7,15.1:2.8,15.6:2.9,16.2:3,17.2:3.2,17.8:3.3,18.3:3.4,18.9:3.5,19.4:3.6,19.9:3.7,20.5:3.8,21:3.9,21.6:4,22.1:4.1,22.6:4.2,23.2:4.3,23.7:4.4,24.3:4.5,24.8:4.6,25.3:4.7,25.9:4.8,26.4:4.9,27:5,27.5:5.1,28:5.2,28.6:5.3,29.1:5.4,29.7:5.5,30.2:5.6,30.7:5.7,31.3:5.8,31.8:5.9,32.4:6},SPD:{2:[.8,.9,1],4:[1.6,1.7,1.8,1.9],5:2,6:[2.4,2.5,2.6],7:[2.7,2.8,2.9,3],8:[3.2,3.3,3.4],9:[3.5,3.6,3.7,3.8],10:[3.9,4,4.1,4.2],11:[4.3,4.4,4.5,4.6],12:[4.7,4.8,4.9],13:[5,5.1,5.2,5.3],14:[5.4,5.5,5.6,5.7],15:[5.8,5.9,6]},"CRIT Rate_":{2.5:.8,2.9:.9,3.2:1,5.1:1.6,5.5:1.7,5.8:1.8,6.1:1.9,6.4:2,7.7:2.4,8.1:2.5,8.4:2.6,8.7:2.7,9:2.8,9.3:2.9,9.7:3,10.3:3.2,10.6:3.3,11:3.4,11.3:3.5,11.6:3.6,11.9:3.7,12.3:3.8,12.6:3.9,12.9:4,13.2:4.1,13.6:4.2,13.9:4.3,14.2:4.4,14.5:4.5,14.9:4.6,15.2:4.7,15.5:4.8,15.8:4.9,16.2:5,16.5:5.1,16.8:5.2,17.1:5.3,17.4:5.4,17.8:5.5,18.1:5.6,18.4:5.7,18.7:5.8,19.1:5.9,19.4:6},"CRIT DMG_":{5.1:.8,5.8:.9,6.4:1,10.3:1.6,11:1.7,11.6:1.8,12.3:1.9,12.9:2,15.5:2.4,16.2:2.5,16.8:2.6,17.4:2.7,18.1:2.8,18.7:2.9,19.4:3,20.7:3.2,21.3:3.3,22:3.4,22.6:3.5,23.3:3.6,23.9:3.7,24.6:3.8,25.2:3.9,25.9:4,26.5:4.1,27.2:4.2,27.8:4.3,28.5:4.4,29.1:4.5,29.8:4.6,30.4:4.7,31.1:4.8,31.7:4.9,32.4:5,33:5.1,33.6:5.2,34.3:5.3,34.9:5.4,35.6:5.5,36.2:5.6,36.9:5.7,37.5:5.8,38.2:5.9,38.8:6},"Effect Hit Rate_":{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},"Effect RES_":{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},"Break Effect_":{5.1:.8,5.8:.9,6.4:1,10.3:1.6,11:1.7,11.6:1.8,12.3:1.9,12.9:2,15.5:2.4,16.2:2.5,16.8:2.6,17.4:2.7,18.1:2.8,18.7:2.9,19.4:3,20.7:3.2,21.3:3.3,22:3.4,22.6:3.5,23.3:3.6,23.9:3.7,24.6:3.8,25.2:3.9,25.9:4,26.5:4.1,27.2:4.2,27.8:4.3,28.5:4.4,29.1:4.5,29.8:4.6,30.4:4.7,31.1:4.8,31.7:4.9,32.4:5,33:5.1,33.6:5.2,34.3:5.3,34.9:5.4,35.6:5.5,36.2:5.6,36.9:5.7,37.5:5.8,38.2:5.9,38.8:6}}},Yu={calculateIncrementCounts(e,t){let n=1/0,l=null;function s(o,r,c){if(c===Object.keys(t).length){Math.abs(o-e)<Math.abs(n-e)&&(n=o,l={...r});return}const d=Object.keys(t)[c];for(let u=0;o+u*t[d]<=e+.01;u++)r[d]=u,s(o+u*t[d],r,c+1)}return s(0,{high:0,mid:0,low:0},0),l},calculateRelicSubstatRolls(e){if(e.verified&&!e.substats.some(n=>n.rolls==null))return;if(e.grade<5){e.substats.map(n=>{n.addedRolls=0});return}let t=0;if(e.substats.forEach(n=>{const l=ge[n.stat][e.grade],s=this.calculateIncrementCounts(n.value,l);s&&(n.addedRolls=Math.min(5,Math.max(0,s.high+s.mid+s.low-1)),n.rolls=s,t+=n.addedRolls)}),t>Math.floor(e.enhance/3)){const n=e.substats.reduce((l,s)=>l.addedRolls>s.addedRolls?l:s);n.addedRolls-=1}}},jn={augment:function(e){const t={};if(e.grade&&!e.main)return null;const n=e.main.stat;e.main.value=Bi.fixMainStatValue(e);const l=e.main.value;t.mainStat=n,t.mainValue=l,BG(e);for(const s of e.substats){const o=s.stat;s.value=B.precisionRound(s.value),s.value=Bi.fixSubStatValue(o,s.value,e.grade),t[o]=s.value}return e.enhance>12&&e.grade!=5&&(e.grade=5),e.id||(e.id=B.randomId()),e.augmentedStats=t,HG([e]),Yu.calculateRelicSubstatRolls(e),e}},Jr={[a.HP]:0,[a.ATK]:1,[a.DEF]:2,[a.HP_P]:3,[a.ATK_P]:4,[a.DEF_P]:5,[a.SPD]:6,[a.CR]:7,[a.CD]:8,[a.EHR]:9,[a.RES]:10,[a.BE]:11};function BG(e){e.substats=e.substats.sort((t,n)=>Jr[t.stat]-Jr[n.stat])}function HG(e){return e.map(t=>{for(const n of Object.values(m.Stats))t.augmentedStats&&(t.augmentedStats[n]=t.augmentedStats[n]||0,B.isFlat(n)||(t.augmentedStats.mainStat==n&&(t.augmentedStats.mainValue=t.augmentedStats.mainValue/100),t.augmentedStats[n]=t.augmentedStats[n]/100));return t})}const vo={BLUE:{colorTextBase:"#ffffff",colorBgBase:"#182239",colorPrimary:"#1677FF"},ALT:{colorTextBase:"#ffffff",colorBgBase:"#182239",colorPrimary:"#1677FF"}};function V0(e){return{"--ag-background-color":e.colorBgContainer,"--ag-odd-row-background-color":e.colorBgElevated,"--ag-header-background-color":e.colorBgLayout,"--ag-border-color":e.colorBorderSecondary,"--ag-row-hover-color":e.colorPrimary}}function vG(e){return{token:{motionUnit:.1,opacityLoading:.2,colorBgBase:e.colorBgBase,colorTextBase:e.colorTextBase,colorPrimary:e.colorPrimary,colorPrimaryBorderHover:e.colorPrimary,screenXL:1530,screenXLMin:1530,screenXXL:1660,screenXXLMin:1660},components:{Collapse:{contentPadding:"0px 0px"},Menu:{margin:2,itemPaddingInline:0,subMenuItemBg:"rgba(255, 255, 255, 0.05)"},Table:{headerBg:"#00000036",cellPaddingInlineSM:5,cellPaddingBlockSM:6},Slider:{dotBorderColor:e.colorPrimary,dotActiveBorderColor:e.colorPrimary,handleActiveColor:e.colorPrimary,handleColor:e.colorPrimary,handleColorDisabled:e.colorPrimary,trackBg:e.colorPrimary,trackHoverBg:e.colorPrimary,railHoverBg:"#ffffff80",railBg:"#ffffff12",handleSize:5,handleSizeHover:5,handleLineWidth:3,handleLineWidthHover:3,railSize:3},InputNumber:{paddingInlineSM:6},Tag:{defaultColor:"#ffffff"},Notification:{width:450},Dropdown:{zIndexPopup:900}},algorithm:Bt.darkAlgorithm}}const XG={1001:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1002:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1003:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1004:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1005:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":.5,"CRIT DMG":.5,"Effect Hit Rate":.5,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1006:{ATK:.5,"ATK%":.5,DEF:.25,"DEF%":.25,HP:.25,"HP%":.25,SPD:1,"CRIT Rate":.75,"CRIT DMG":.75,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1008:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1009:{ATK:.75,"ATK%":.75,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":.5,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1013:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1101:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1102:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1103:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1104:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":.75,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1105:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1106:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1107:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1108:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1109:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1110:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1111:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1112:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1201:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1202:{ATK:1,"ATK%":1,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1203:{ATK:1,"ATK%":1,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1204:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1205:{ATK:.25,"ATK%":.25,DEF:0,"DEF%":0,HP:1,"HP%":1,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1206:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1207:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1208:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1209:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1210:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1211:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1212:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1213:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1214:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1215:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1217:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1218:{ATK:.5,"ATK%":.5,DEF:.5,"DEF%":.5,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1220:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1221:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1222:{ATK:.75,"ATK%":.75,DEF:.5,"DEF%":.5,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1223:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1224:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1301:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1302:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1303:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1304:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1305:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1306:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1307:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1308:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1309:{ATK:1,"ATK%":1,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1310:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1312:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1314:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1315:{ATK:.5,"ATK%":.5,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":.75,"CRIT DMG":.75,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8001:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8002:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8003:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":.75,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8004:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":.75,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8005:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8006:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0}},kG=()=>(e,t)=>{console.log(`Publishing [${e}] with data: ${t}`),document.dispatchEvent(new CustomEvent(e,{detail:t}))},{Text:Ai}=ye,YG=Ft(Wt)`
    margin-top: 10px !important;
    margin-bottom: 10px !important;
`,wG=Ft($t)`
    width: 62px
`;function NG(){const{t:e}=K(["modals","common"]),t=kG(),[n]=U.useForm(),l=window.store(x=>x.scoringAlgorithmFocusCharacter),s=window.store(x=>x.setScoringAlgorithmFocusCharacter),o=window.store(x=>x.setScoringModalOpen),r=window.store(x=>x.scoringModalOpen);function c(x){s(x)}function d(x){for(const W of Object.entries(x.stats))W[1]==0&&(x.stats[W[0]]=null);return x}E.useEffect(()=>{const x=l;if(x){let W=y.clone(I.getScoringMetadata(x));W=d(W),n.setFieldsValue(W)}},[l,r,n]);const u=220,b=5,p=260;function R(x){return i.jsxs(S,{justify:"flex-start",style:{width:u},align:"center",gap:5,children:[i.jsx(U.Item,{name:["stats",x.stat],children:i.jsx(wG,{controls:!1,size:"small",min:0,max:1})}),i.jsxs(S,{children:[i.jsx("img",{src:k.getStatIcon(x.stat),style:{width:25,height:25,marginRight:3}}),i.jsx(Ai,{style:{lineHeight:1.8},children:e(`common:ReadableStats.${x.stat}`)})]})]})}function G(){console.log("onModalOk OK");const x=n.getFieldsValue();T(x),o(!1),t("refreshRelicsScore","null")}const T=x=>{if(!l)return;console.log("Form finished",x),x.stats[a.ATK_P]=x.stats[a.ATK],x.stats[a.DEF_P]=x.stats[a.DEF],x.stats[a.HP_P]=x.stats[a.HP];const W=y.clone(I.getMetadata().characters[l].scoringMetadata),H=I.getScoringMetadata(l);W.simulation=H.simulation,I.updateCharacterScoreOverrides(l,x)},C=()=>{if(!l)return;const x=I.getMetadata().characters[l].scoringMetadata,W=d(x);I.updateCharacterScoreOverrides(l,x),n.setFieldsValue(W)};function D(){const x=()=>{console.log("Reset the scoring algorithm for all characters");const W=window.store.getState().charactersById;for(const H of Object.keys(W)){const O=I.getMetadata().characters[H].scoringMetadata;I.updateCharacterScoreOverrides(H,O)}if(l){const H=I.getMetadata().characters[l].scoringMetadata,O=d(H);n.setFieldsValue(O)}};return i.jsx(yn,{title:e("Scoring.ResetAllConfirm.Title"),description:e("Scoring.ResetAllConfirm.Description"),onConfirm:x,okText:e("common:Yes"),cancelText:e("common:No"),children:i.jsx(z,{danger:!0,children:e("Scoring.Footer.ResetAll")})})}const V=()=>{o(!1)},M=l?k.getCharacterPreviewById(l):k.getBlank();return i.jsx(Vt,{open:r,width:900,destroyOnClose:!0,centered:!0,forceRender:!0,onOk:G,onCancel:V,footer:[i.jsx(z,{onClick:V,children:e("common:Cancel")},"back"),i.jsx(z,{onClick:C,children:e("Scoring.Footer.Reset")},"default"),i.jsx(D,{},"resetAll"),i.jsx(z,{type:"primary",onClick:G,children:e("Scoring.Footer.Save")},"submit")],children:i.jsxs(U,{form:n,preserve:!1,layout:"vertical",onFinish:T,children:[i.jsx(YG,{children:e("Scoring.StatWeightsHeader")}),i.jsxs(S,{gap:20,children:[i.jsxs(S,{vertical:!0,gap:5,children:[i.jsx(U.Item,{name:"characterId",children:i.jsx(Fi,{value:"",selectStyle:{},onChange:c})}),i.jsx("div",{style:{height:230,width:u,overflow:"hidden"},children:i.jsx("img",{src:M,style:{width:u}})})]}),i.jsx(ha,{}),i.jsx(S,{vertical:!0,children:i.jsx(S,{justify:"space-between",children:i.jsxs(S,{vertical:!0,gap:b*2,children:[i.jsxs(S,{vertical:!0,gap:1,justify:"flex-start",children:[i.jsx(Ai,{style:{marginLeft:5},children:e("common:Parts.Body")}),i.jsx(U.Item,{name:["parts",f.Body],children:i.jsxs(J,{mode:"multiple",allowClear:!0,style:{width:p},placeholder:e("common:Parts.Body"),maxTagCount:"responsive",children:[i.jsx(J.Option,{value:a.HP_P,children:e(`common:Stats.${a.HP_P}`)}),i.jsx(J.Option,{value:a.ATK_P,children:e(`common:Stats.${a.ATK_P}`)}),i.jsx(J.Option,{value:a.DEF_P,children:e(`common:Stats.${a.DEF_P}`)}),i.jsx(J.Option,{value:a.CR,children:e(`common:Stats.${a.CR}`)}),i.jsx(J.Option,{value:a.CD,children:e(`common:Stats.${a.CD}`)}),i.jsx(J.Option,{value:a.OHB,children:e(`common:Stats.${a.OHB}`)}),i.jsx(J.Option,{value:a.EHR,children:e(`common:Stats.${a.EHR}`)})]})})]}),i.jsxs(S,{vertical:!0,gap:1,justify:"flex-start",children:[i.jsx(Ai,{style:{marginLeft:5},children:e("common:Parts.Feet")}),i.jsx(U.Item,{name:["parts",f.Feet],children:i.jsxs(J,{mode:"multiple",allowClear:!0,style:{width:p},placeholder:e("common:Parts.Feet"),maxTagCount:"responsive",children:[i.jsx(J.Option,{value:a.HP_P,children:e(`common:Stats.${a.HP_P}`)}),i.jsx(J.Option,{value:a.ATK_P,children:e(`common:Stats.${a.ATK_P}`)}),i.jsx(J.Option,{value:a.DEF_P,children:e(`common:Stats.${a.DEF_P}`)}),i.jsx(J.Option,{value:a.SPD,children:e(`common:Stats.${a.SPD}`)})]})})]}),i.jsxs(S,{vertical:!0,gap:1,justify:"flex-start",children:[i.jsx(Ai,{style:{marginLeft:5},children:e("common:Parts.PlanarSphere")}),i.jsx(U.Item,{name:["parts",f.PlanarSphere],children:i.jsxs(J,{mode:"multiple",allowClear:!0,style:{width:p},placeholder:e("common:Parts.PlanarSphere"),listHeight:400,maxTagCount:"responsive",children:[i.jsx(J.Option,{value:a.HP_P,children:e(`common:Stats.${a.HP_P}`)}),i.jsx(J.Option,{value:a.ATK_P,children:e(`common:Stats.${a.ATK_P}`)}),i.jsx(J.Option,{value:a.DEF_P,children:e(`common:Stats.${a.DEF_P}`)}),i.jsx(J.Option,{value:a.Physical_DMG,children:e(`common:Stats.${a.Physical_DMG}`)}),i.jsx(J.Option,{value:a.Fire_DMG,children:e(`common:Stats.${a.Fire_DMG}`)}),i.jsx(J.Option,{value:a.Ice_DMG,children:e(`common:Stats.${a.Ice_DMG}`)}),i.jsx(J.Option,{value:a.Lightning_DMG,children:e(`common:Stats.${a.Lightning_DMG}`)}),i.jsx(J.Option,{value:a.Wind_DMG,children:e(`common:Stats.${a.Wind_DMG}`)}),i.jsx(J.Option,{value:a.Quantum_DMG,children:e(`common:Stats.${a.Quantum_DMG}`)}),i.jsx(J.Option,{value:a.Imaginary_DMG,children:e(`common:Stats.${a.Imaginary_DMG}`)})]})})]}),i.jsxs(S,{vertical:!0,gap:1,justify:"flex-start",children:[i.jsx(Ai,{style:{marginLeft:5},children:e("common:Parts.LinkRope")}),i.jsx(U.Item,{name:["parts",f.LinkRope],children:i.jsxs(J,{mode:"multiple",allowClear:!0,style:{width:p},placeholder:e("common:Parts.LinkRope"),maxTagCount:"responsive",children:[i.jsx(J.Option,{value:a.HP_P,children:e(`common:Stats.${a.HP_P}`)}),i.jsx(J.Option,{value:a.ATK_P,children:e(`common:Stats.${a.ATK_P}`)}),i.jsx(J.Option,{value:a.DEF_P,children:e(`common:Stats.${a.DEF_P}`)}),i.jsx(J.Option,{value:a.BE,children:e(`common:Stats.${a.BE}`)}),i.jsx(J.Option,{value:a.ERR,children:e(`common:Stats.${a.ERR}`)})]})})]})]})})}),i.jsx(ha,{}),i.jsxs(S,{vertical:!0,gap:3,children:[i.jsx(R,{stat:a.ATK}),i.jsx(R,{stat:a.HP}),i.jsx(R,{stat:a.DEF}),i.jsx(R,{stat:a.SPD}),i.jsx(R,{stat:a.CR}),i.jsx(R,{stat:a.CD}),i.jsx(R,{stat:a.EHR}),i.jsx(R,{stat:a.RES}),i.jsx(R,{stat:a.BE})]})]}),i.jsx(Wt,{style:{marginTop:10,marginBottom:40},children:i.jsx(Pt,{text:e("Scoring.WeightMethodology.Header"),linkIcon:!0,url:"https://github.com/fribbels/hsr-optimizer/blob/main/docs/guides/en/stat-score.md"})})]})})}function Ar(e){return e??0}var wu=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.DEFAULT_NO_SPEED=1]="DEFAULT_NO_SPEED",e[e.MODIFIED=2]="MODIFIED",e))(wu||{});function OG(e,t){let n=!1,l=!0,s=!1;for(const o of Object.values(a)){const r=t.stats[o];e.stats[o]!=r&&(n=!0,o==a.SPD&&r==0?s=!0:l=!1)}return l&&s||!n&&e.stats[a.SPD]==0?1:n?2:0}function ql(e,t){t.modified=!1;for(const n of Object.values(a))Ar(t.stats[n])!=Ar(e.stats[n])&&(t.modified=!0)}const jr={};function UG(e,t,n){const l=jr[e];l&&clearTimeout(l),jr[e]=setTimeout(()=>{n()},t)}const zr={metadata:{}};var dl=(e=>(e.MAIN="/hsr-optimizer",e.BETA="/dreary-quibbles",e))(dl||{});const vt="/dreary-quibbles",de={OPTIMIZER:"OPTIMIZER",CHARACTERS:"CHARACTERS",RELICS:"RELICS",IMPORT:"IMPORT",GETTING_STARTED:"GETTING_STARTED",CHANGELOG:"CHANGELOG",RELIC_SCORER:"RELIC_SCORER",SHOWCASE:"SHOWCASE",WARP:"WARP",WEBGPU_TEST:"WEBGPU_TEST",METADATA_TEST:"METADATA_TEST",HOME:"HOME"},la={[de.HOME]:vt,[de.OPTIMIZER]:vt+"#main",[de.RELIC_SCORER]:vt+"#scorer",[de.SHOWCASE]:vt+"#showcase",[de.WARP]:vt+"#warp",[de.CHANGELOG]:vt+"#changelog",[de.GETTING_STARTED]:vt+"#getting-started",[de.WEBGPU_TEST]:vt+"#webgpu",[de.METADATA_TEST]:vt+"#metadata"},KG={[la[de.OPTIMIZER]]:de.OPTIMIZER,[la[de.RELIC_SCORER]]:de.SHOWCASE,[la[de.SHOWCASE]]:de.SHOWCASE,[la[de.WARP]]:de.WARP,[la[de.CHANGELOG]]:de.CHANGELOG,[la[de.GETTING_STARTED]]:de.GETTING_STARTED,[la[de.WEBGPU_TEST]]:de.WEBGPU_TEST,[la[de.METADATA_TEST]]:de.METADATA_TEST,[la[de.HOME]]:de.HOME},Nu={[Ue.optimizerCharacterId]:null,[Ue.relicScorerSidebarOpen]:!0,[Ue.scoringType]:Wi,[Ue.combatScoreDetails]:n0,[Ue.computeEngine]:Mi,[Ue.showcaseStandardMode]:!1,[Ue.showcaseDarkMode]:!1,[Ue.showcaseUID]:!0,[Ue.showcasePreciseSpd]:!1};function JG(){const e=y.stripTrailingSlashes(window.location.pathname);return KG[e+window.location.hash.split("?")[0]]??de.HOME}window.store=Xm(e=>({version:el,colorTheme:vo.BLUE,globalThemeConfig:vG(vo.BLUE),formValues:void 0,optimizerGrid:void 0,comboState:{},optimizerTabFocusCharacter:void 0,characterTabFocusCharacter:void 0,scoringAlgorithmFocusCharacter:void 0,statTracesDrawerFocusCharacter:void 0,relicsTabFocusCharacter:void 0,inventoryWidth:9,rowLimit:10,activeKey:JG(),characters:[],charactersById:{},conditionalSetEffectsDrawerOpen:!1,comboDrawerOpen:!1,combatBuffsDrawerOpen:!1,statTracesDrawerOpen:!1,enemyConfigurationsDrawerOpen:!1,settingsDrawerOpen:!1,gettingStartedDrawerOpen:!1,permutations:0,permutationsResults:0,permutationsSearched:0,relicsById:{},scorerId:"",scoringMetadataOverrides:{},showcasePreferences:{},showcaseTemporaryOptions:{},warpRequest:{},warpResult:{},statDisplay:ys,memoDisplay:yl,statSimulationDisplay:qa.Disabled,statSimulations:[],selectedStatSimulations:[],optimizationInProgress:!1,optimizationId:null,teammateCount:0,zeroPermutationModalOpen:!1,zeroResultModalOpen:!1,scoringModalOpen:!1,menuSidebarOpen:!0,relicScorerSidebarOpen:!0,optimizerRunningEngine:Mi,optimizerStartTime:null,optimizerEndTime:null,optimizerTabFocusCharacterSelectModalOpen:!1,optimizerFormCharacterEidolon:0,optimizerFormSelectedLightCone:void 0,optimizerFormSelectedLightConeSuperimposition:1,permutationDetails:{Head:0,Hands:0,Body:0,Feet:0,PlanarSphere:0,LinkRope:0,HeadTotal:0,HandsTotal:0,BodyTotal:0,FeetTotal:0,PlanarSphereTotal:0,LinkRopeTotal:0},relicTabFilters:{set:[],part:[],enhance:[],mainStats:[],subStats:[],grade:[],verified:[],equippedBy:[]},characterTabFilters:{name:"",element:[],path:[],rarity:[]},excludedRelicPotentialCharacters:[],optimizerMenuState:{[Ea.characterOptions]:!0,[Ea.relicAndStatFilters]:!0,[Ea.teammates]:!0,[Ea.characterStatsSimulation]:!1,[Ea.analysis]:!0},savedSession:Nu,settings:vu,optimizerBuild:null,optimizerExpandedPanelBuildData:null,optimizerSelectedRowData:null,optimizerBuffGroups:void 0,setComboState:n=>e(()=>({comboState:n})),setVersion:n=>e(()=>({version:n})),setActiveKey:n=>e(()=>({activeKey:n})),setFormValues:n=>e(()=>({formValues:n})),setCharacters:n=>e(()=>({characters:n})),setCharactersById:n=>e(()=>({charactersById:n})),setInventoryWidth:n=>e(()=>({inventoryWidth:n})),setRowLimit:n=>e(()=>({rowLimit:n})),setConditionalSetEffectsDrawerOpen:n=>e(()=>({conditionalSetEffectsDrawerOpen:n})),setComboDrawerOpen:n=>e(()=>({comboDrawerOpen:n})),setCombatBuffsDrawerOpen:n=>e(()=>({combatBuffsDrawerOpen:n})),setStatTracesDrawerOpen:n=>e(()=>({statTracesDrawerOpen:n})),setEnemyConfigurationsDrawerOpen:n=>e(()=>({enemyConfigurationsDrawerOpen:n})),setSettingsDrawerOpen:n=>e(()=>({settingsDrawerOpen:n})),setGettingStartedDrawerOpen:n=>e(()=>({gettingStartedDrawerOpen:n})),setOptimizerTabFocusCharacter:n=>e(()=>({optimizerTabFocusCharacter:n})),setCharacterTabFocusCharacter:n=>e(()=>({characterTabFocusCharacter:n})),setScoringAlgorithmFocusCharacter:n=>e(()=>({scoringAlgorithmFocusCharacter:n})),setStatTracesDrawerFocusCharacter:n=>e(()=>({statTracesDrawerFocusCharacter:n})),setRelicsTabFocusCharacter:n=>e(()=>({relicsTabFocusCharacter:n})),setPermutationDetails:n=>e(()=>({permutationDetails:n})),setPermutations:n=>e(()=>({permutations:n})),setPermutationsResults:n=>e(()=>({permutationsResults:n})),setPermutationsSearched:n=>e(()=>({permutationsSearched:n})),setRelicsById:n=>e(()=>({relicsById:n})),setRelicTabFilters:n=>e(()=>({relicTabFilters:n})),setCharacterTabFilters:n=>e(()=>({characterTabFilters:n})),setScorerId:n=>e(()=>({scorerId:n})),setScoringMetadataOverrides:n=>e(()=>({scoringMetadataOverrides:n})),setShowcasePreferences:n=>e(()=>({showcasePreferences:n})),setShowcaseTemporaryOptions:n=>e(()=>({showcaseTemporaryOptions:n})),setWarpRequest:n=>e(()=>({warpRequest:n})),setWarpResult:n=>e(()=>({warpResult:n})),setStatDisplay:n=>e(()=>({statDisplay:n})),setMemoDisplay:n=>e(()=>({memoDisplay:n})),setStatSimulationDisplay:n=>e(()=>({statSimulationDisplay:n})),setStatSimulations:n=>e(()=>({statSimulations:B.clone(n)})),setSelectedStatSimulations:n=>e(()=>({selectedStatSimulations:n})),setOptimizerMenuState:n=>e(()=>({optimizerMenuState:n})),setOptimizationInProgress:n=>e(()=>({optimizationInProgress:n})),setOptimizationId:n=>e(()=>({optimizationId:n})),setOptimizerStartTime:n=>e(()=>({optimizerStartTime:n})),setOptimizerRunningEngine:n=>e(()=>({optimizerRunningEngine:n})),setOptimizerEndTime:n=>e(()=>({optimizerEndTime:n})),setTeammateCount:n=>e(()=>({teammateCount:n})),setOptimizerFormCharacterEidolon:n=>e(()=>({optimizerFormCharacterEidolon:n})),setOptimizerFormSelectedLightCone:n=>e(()=>({optimizerFormSelectedLightCone:n})),setOptimizerFormSelectedLightConeSuperimposition:n=>e(()=>({optimizerFormSelectedLightConeSuperimposition:n})),setOptimizerTabFocusCharacterSelectModalOpen:n=>e(()=>({optimizerTabFocusCharacterSelectModalOpen:n})),setZeroPermutationsModalOpen:n=>e(()=>({zeroPermutationModalOpen:n})),setZeroResultModalOpen:n=>e(()=>({zeroResultModalOpen:n})),setScoringModalOpen:n=>e(()=>({scoringModalOpen:n})),setExcludedRelicPotentialCharacters:n=>e(()=>({excludedRelicPotentialCharacters:n})),setMenuSidebarOpen:n=>e(()=>({menuSidebarOpen:n})),setSettings:n=>e(()=>({settings:n})),setSavedSession:n=>e(()=>({savedSession:n})),setSavedSessionKey:(n,l)=>e(s=>({savedSession:{...s.savedSession,[n]:l}})),setColorTheme:n=>e(()=>({colorTheme:n})),setOptimizerBuild:n=>e(()=>({optimizerBuild:n})),setOptimizerExpandedPanelBuildData:n=>e(()=>({optimizerExpandedPanelBuildData:n})),setOptimizerSelectedRowData:n=>e(()=>({optimizerSelectedRowData:n})),setOptimizerBuffGroups:n=>e(()=>({optimizerBuffGroups:n})),setGlobalThemeConfig:n=>e(()=>({globalThemeConfig:n}))}));const I={getMetadata:()=>zr.metadata,setMetadata:e=>zr.metadata=e,getCharacters:()=>window.store.getState().characters,getCharacterById:e=>window.store.getState().charactersById[e],setCharacters:e=>{const t={};for(const l of e)t[l.id]=l;_r(e);const n=[...e];window.store.getState().setCharacters(n),window.store.getState().setCharactersById(t)},setCharacter:e=>{const t=window.store.getState().charactersById;t[e.id]=e,window.store.getState().setCharactersById(t)},addCharacter:e=>{const t=I.getCharacters();t.push(e),I.setCharacters(t)},insertCharacter:(e,t)=>{console.log("insert",e,t);const n=I.getCharacters();t<0&&(t=n.length);const l=I.getCharacterById(e);if(!l)return console.warn("No matching character to insert",e,t);const s=n.splice(l.rank,1);n.splice(t,0,s[0]),I.setCharacters(n),window.onOptimizerFormValuesChange({},se.getForm())},refreshCharacters:()=>{window.setCharacterRows&&window.setCharacterRows(I.getCharacters())},getRelics:()=>Object.values(window.store.getState().relicsById),getRelicsById:()=>window.store.getState().relicsById,setRelics:e=>{const t={};for(const n of e)t[n.id]=n;window.store.getState().setRelicsById(t)},getRelicById:e=>window.store.getState().relicsById[e],setRelic:e=>{var l;if(!e.id)return console.warn("No matching relic",e);const t=I.getRelicById(e.id);!t?(e.ageIndex=I.getRelics().length,Wn(e),e.equippedBy&&I.equipRelic(e,e.equippedBy)):((t.part!==e.part||!e.equippedBy)&&(I.unequipRelicById(e.id),Wn(e)),e.equippedBy&&((l=I.getCharacterById(e.equippedBy))==null?void 0:l.equipped[e.part])!==e.id&&I.equipRelic(e,e.equippedBy),Wn(e))},refreshRelics:()=>{window.setRelicRows&&window.setRelicRows(I.getRelics())},getState:()=>window.store.getState(),getScoringMetadata:e=>{const n=I.getMetadata().characters[e].scoringMetadata,s=window.store.getState().scoringMetadataOverrides[e],o=B.mergeUndefinedValues(s||{},n);for(const r of Object.keys(n.stats))o.stats[r]==null&&(o.stats[r]=0);return ql(n,o),delete o.presets,o},updateCharacterScoreOverrides:(e,t)=>{const n=window.store.getState().scoringMetadataOverrides;n[e]?B.mergeDefinedValues(n[e],t):n[e]=t,t.modified;const l=I.getMetadata().characters[e].scoringMetadata;ql(l,n[e]),window.store.getState().setScoringMetadataOverrides(n),Te.delayedSave()},updateSimulationScoreOverrides:(e,t)=>{if(!t)return;const n=window.store.getState().scoringMetadataOverrides;n[e]?n[e].simulation=t:n[e]={simulation:t},window.store.getState().setScoringMetadataOverrides(n),Te.delayedSave()},setStore:(e,t=!0)=>{var s,o,r,c,d,u,b,p,R;const n={},l=I.getMetadata().characters;I.getMetadata().lightCones,e.characters=e.characters.filter(G=>l[G.id]);for(const G of e.characters)G.equipped={},n[G.id]=G,(o=(s=G.form)==null?void 0:s.statSim)!=null&&o.simulations&&(G.form.statSim.simulations=G.form.statSim.simulations.filter(T=>{var C;return(C=T.request)==null?void 0:C.stats})),G.form.characterLevel=80,G.form.lightConeLevel=80,G.form.resultSort==="WEIGHT"&&(G.form.resultSort="SPD"),G.form.mainBody=ji(G.form.mainBody),G.form.mainFeet=ji(G.form.mainFeet),G.form.mainPlanarSphere=ji(G.form.mainPlanarSphere),G.form.mainLinkRope=ji(G.form.mainLinkRope),(((c=(r=G.form.setConditionals)==null?void 0:r[g.DuranDynastyOfRunningWolves])==null?void 0:c[1])??!1)&&(G.form.setConditionals[g.DuranDynastyOfRunningWolves][1]=5),typeof((u=(d=G.form.setConditionals)==null?void 0:d[g.SacerdosRelivedOrdeal])==null?void 0:u[1])=="boolean"&&(G.form.setConditionals[g.SacerdosRelivedOrdeal][1]=0);for(const G of Object.values(l))for(const T of Object.keys(m.Parts))G.scoringMetadata.parts[T]=ji(G.scoringMetadata.parts[T]);for(const G of e.relics){jn.augment(G);const T=n[G.equippedBy];T&&!T.equipped[G.part]?T.equipped[G.part]=G.id:G.equippedBy=void 0}if(eo(e.relics),e.scoringMetadataOverrides){for(const[G,T]of Object.entries(e.scoringMetadataOverrides)){T.length&&delete e.scoringMetadataOverrides[G];const C=e.scoringMetadataOverrides[G];if(C){if(!((b=l[G])!=null&&b.scoringMetadata))continue;const D=XG[G]||{},V=l[G].scoringMetadata;let M=!0;for(const x of Object.values(m.Stats))if(B.nullUndefinedToZero(C.stats[x])!=B.nullUndefinedToZero(D[x])){M=!1;break}if(M)C.stats=B.clone(V.stats),C.modified=!1;else{let x=!1;for(const W of m.SubStats){const H=C.stats[W];B.nullUndefinedToZero(H)!=B.nullUndefinedToZero(V.stats[W])&&(x=!0),H<0&&(C.stats[W]=0),H>1&&(C.stats[W]=1)}x&&(C.modified=!0)}ql(V,C)}}window.store.getState().setScoringMetadataOverrides(e.scoringMetadataOverrides||{})}if(e.showcasePreferences&&window.store.getState().setShowcasePreferences(e.showcasePreferences||{}),e.warpRequest&&window.store.getState().setWarpRequest(e.warpRequest||{}),window.store.getState().setScorerId(e.scorerId),e.optimizerMenuState){const G=window.store.getState().optimizerMenuState;for(const T of Object.values(Ea))e.optimizerMenuState[T]!=null&&(G[T]=e.optimizerMenuState[T]);window.store.getState().setOptimizerMenuState(G)}if(e.savedSession){const G=e.savedSession.optimizerCharacterId;G&&!l[G]&&delete e.savedSession.optimizerCharacterId;const T={...Nu,...e.savedSession};window.store.getState().setSavedSession(T)}e.settings&&window.store.getState().setSettings(e.settings),window.store.getState().setExcludedRelicPotentialCharacters(e.excludedRelicPotentialCharacters||[]),window.store.getState().setVersion(e.version),window.store.getState().setInventoryWidth(((p=e.relicLocator)==null?void 0:p.inventoryWidth)??9),window.store.getState().setRowLimit(((R=e.relicLocator)==null?void 0:R.rowLimit)??10),_r(e.characters),I.setRelics(e.relics),I.setCharacters(e.characters),I.refreshCharacters(),I.refreshRelics(),t&&Te.delayedSave(),Hb(Object.keys(I.getMetadata().characters))},resetStore:()=>{const e={relics:[],characters:[],showcasePreferences:{}};I.setStore(e)},replaceCharacterForm:e=>{const t=I.getCharacterById(e.characterId);t&&(t.form={...t.form,...e})},addFromForm:(e,t=!0)=>{var s,o;const n=I.getCharacters();let l=I.getCharacterById(e.characterId);if(l)l.form={...l.form,...e},I.setCharacters(n);else{const r=wi({id:e.characterId});l={id:e.characterId,form:{...r,...e},equipped:{}},I.addCharacter(l)}return(o=(s=window.characterGrid)==null?void 0:s.current)!=null&&o.api&&(window.characterGrid.current.api.updateGridOptions({rowData:n}),window.characterGrid.current.api.forEachNode(r=>{r.data.id==l.id&&r.setSelected(!0)}),window.store.getState().setCharacterTabFocusCharacter(l.id)),t&&Te.delayedSave(),l},saveCharacterPortrait:(e,t)=>{let n=I.getCharacterById(e);n||(I.addFromForm({characterId:e}),n=I.getCharacterById(e),console.log("Character did not previously exist, adding",n)),n.portrait=t,I.setCharacter(n),console.log("Saved portrait",I.getState())},deleteCharacterPortrait:e=>{const t=I.getCharacterById(e);if(!t){console.warn("No character selected");return}delete t.portrait,I.setCharacter(t),console.log("Deleted portrait",I.getState())},saveCharacterBuild:(e,t,n)=>{var o;const l=I.getCharacterById(t);if(!l){console.warn("No character selected");return}if((o=l.builds)==null?void 0:o.find(r=>r.name==e)){const r=`Build name [${e}] already exists`;return console.warn(r),{error:r}}else l.builds||(l.builds=[]),l.builds.push({name:e,build:[...Object.values(l.equipped)],score:n}),I.setCharacter(l),console.log("Saved build",I.getState())},deleteCharacterBuild:(e,t)=>{const n=I.getCharacterById(e);if(!n)return console.warn("No character to delete build for");n.builds=n.builds.filter(l=>l.name!=t),I.setCharacter(n)},clearCharacterBuilds:e=>{const t=I.getCharacterById(e);if(!t)return console.warn("No character to clear builds for");t.builds=[],I.setCharacter(t)},unequipCharacter:e=>{const t=I.getCharacterById(e);if(!t)return console.warn("No character to unequip");console.log("Unequipping character",e,t);for(const n of Object.values(m.Parts)){const l=t.equipped[n];if(!l)continue;const s=I.getRelicById(l);t.equipped[n]=void 0,s&&(s.equippedBy=void 0,Wn(s))}I.setCharacter(t)},removeCharacter:e=>{I.unequipCharacter(e);let t=I.getCharacters();t=t.filter(n=>n.id!=e),I.setCharacters(t)},unequipRelicById:e=>{var l;if(!e)return console.warn("No relic");const t=I.getRelicById(e);console.log("UNEQUIP RELIC");const n=I.getCharacters();for(const s of n)(l=s.equipped)!=null&&l[t.part]&&s.equipped[t.part]==t.id&&(s.equipped[t.part]=void 0);I.setCharacters(n),t.equippedBy=void 0,Wn(t)},equipRelic:(e,t,n=!1)=>{if(!(e!=null&&e.id))return console.warn("No relic");if(!t)return console.warn("No character");e=I.getRelicById(e.id);const l=e.equippedBy,s=I.getCharacterById(l),o=I.getCharacterById(t),r=I.getRelicById(o.equipped[e.part]);r&&I.unequipRelicById(r.id);const c=n||I.getState().settings[we.RelicEquippingBehavior.name]==we.RelicEquippingBehavior.Swap;l!==t&&s&&(r&&c?(s.equipped[e.part]=r.id,r.equippedBy=s.id,Wn(r)):s.equipped[e.part]=void 0,I.setCharacter(s)),o.equipped[e.part]=e.id,e.equippedBy=o.id,I.setCharacter(o),Wn(e),UG("refreshRelics",500,()=>{var d,u;return(u=(d=window.relicsGrid)==null?void 0:d.current)==null?void 0:u.api.refreshCells()})},equipRelicIdsToCharacter:(e,t,n=!1)=>{if(!t)return console.warn("No characterId to equip to");console.log("Equipping relics to character",e,t);for(const l of e)I.equipRelic({id:l},t,n)},switchRelics:(e,t)=>{if(!e)return console.warn("No characterId to equip from");if(!t)return console.warn("No characterId to equip to");console.log(`Switching relics from character ${e} to character ${t}`);const n=I.getCharacterById(e);I.equipRelicIdsToCharacter(Object.values(n.equipped),t,!0)},deleteRelic:e=>{var n,l;if(!e)return _.error("Unable to delete relic");I.unequipRelicById(e);const t=window.store.getState().relicsById;delete t[e],window.store.getState().setRelicsById(t),(l=(n=window.characterGrid)==null?void 0:n.current)!=null&&l.api&&window.characterGrid.current.api.redrawRows()},mergeRelicsWithState:(e,t)=>{var c,d,u,b,p;const n=I.getRelics();if(e=B.clone(e)||[],t=B.clone(t)||[],console.log("Merging relics",e,t),t)for(const R of t)I.addFromForm(R,!1);const l=I.getCharacters(),s={};for(const R of n){const G=Qr(R);s[G]=R}let o=[];e.length==0&&(o=n);for(let R of e){const G=Qr(R),T=s[G];let C;if(T?(R.verified&&(T.verified=!0,T.substats=R.substats,T.augmentedStats=R.augmentedStats),R.equippedBy&&t.length&&(T.equippedBy=R.equippedBy,R=T),o.push(T),C=T.id,delete s[G]):(C=R.id,o.push(R)),R.equippedBy&&t.length){const D=l.find(V=>V.id==R.equippedBy);D?D.equipped[R.part]=C:console.log("No character to equip relic to",R)}}eo(o),console.log("Replacement relics",o),I.setRelics(o);for(const R of l)for(const G of Object.values(m.Parts))(c=R.equipped)!=null&&c[G]&&!I.getRelicById(R.equipped[G])&&(R.equipped[G]=void 0);for(const R of I.getRelics()){if(!R.equippedBy)continue;const G=I.getCharacterById(R.equippedBy);(!G||G.equipped[R.part]!=R.id)&&(R.equippedBy=void 0)}for(const R of I.getCharacters())for(const G of Object.keys(R.equipped)){const T=R.equipped[G];T&&I.getRelicById(T).equippedBy!=R.id&&(R.equipped[G]=void 0)}I.setRelics(o),I.setCharacters(l),(u=(d=window.relicsGrid)==null?void 0:d.current)!=null&&u.api&&window.relicsGrid.current.api.updateGridOptions({rowData:o}),(p=(b=window.characterGrid)==null?void 0:b.current)!=null&&p.api&&window.characterGrid.current.api.redrawRows();const r=se.getForm();window.onOptimizerFormValuesChange({},r),window.refreshRelicsScore()},mergePartialRelicsWithState:(e,t=[])=>{var r,c;const n=y.clone(I.getRelics())||[];e=y.clone(e)||[];const l=[],s=[],o=[];for(const d of e){const u=AG(d,n);u?(u.substats=d.substats,u.main=d.main,u.enhance=d.enhance,u.verified=!0,l.push(u),o.push({relic:u,equippedBy:d.equippedBy})):(n.push(d),s.push(d),o.push({relic:d,equippedBy:d.equippedBy}),d.equippedBy=void 0)}console.log("addedNewRelics",s),console.log("updatedOldRelics",l),n.map(d=>jn.augment(d)),eo(n),I.setRelics(n);for(const d of o)t.find(u=>u.id==d.equippedBy)&&I.equipRelic(d.relic,d.equippedBy);I.refreshRelics(),window.refreshRelicsScore(),(c=(r=window.characterGrid)==null?void 0:r.current)!=null&&c.api&&window.characterGrid.current.api.redrawRows(),l.length&&_.success(v.t("importSaveTab:PartialImport.OldRelics",{count:l.length}),8),s.length&&_.success(v.t("importSaveTab:PartialImport.NewRelics",{count:s.length}),8)}};function AG(e,t){const n={};for(const r of t){const c=qr(r);n[c]||(n[c]=[]),n[c].push(r)}const l=qr(e),s=n[l]||[];let o;for(const r of s){if(e.enhance<r.enhance||e.substats.length<r.substats.length)continue;let c=!1,d=0;for(let b=0;b<r.substats.length;b++){const p=r.substats[b],R=e.substats.find(G=>G.stat==p.stat);if(!R){c=!0;break}if(p.stat!=R.stat){c=!0;break}if($r(p,R)==-1){c=!0;break}$r(p,R)==1&&d++}if(c)continue;const u=Math.round((Math.floor(e.enhance/3)*3-Math.floor(r.enhance/3)*3)/3);if(!(d>u)){o=r;break}}return o}function _r(e){for(let n=0;n<e.length;n++)e[n].rank=n;const t=I.getCharacterById(window.store.getState().optimizerTabFocusCharacter);return t&&window.optimizerForm.setFieldValue("rank",t.rank),e}function Qr(e){const t=[],n=[];for(const s of e.substats)B.isFlat(s.stat)?t.push(Math.floor(s.value)):t.push(B.precisionRound(B.truncate10ths(s.value))),n.push(s.stat);const l={part:e.part,set:e.set,grade:e.grade,enhance:e.enhance,mainStat:e.main.stat,mainValue:Math.floor(e.main.value),substatValues:t,substatStats:n};return y.objectHash(l)}function $r(e,t){let n,l;return B.isFlat(e.stat)?(n=Math.floor(e.value),l=Math.floor(t.value)):(n=B.precisionRound(B.truncate10ths(e.value)),l=B.precisionRound(B.truncate10ths(t.value))),n==l?0:n<l?1:-1}function qr(e){const t={part:e.part,set:e.set,grade:e.grade,mainStat:e.main.stat};return y.objectHash(t)}function Wn(e){const t=window.store.getState().relicsById;t[e.id]=e,window.store.getState().setRelicsById(t)}function ji(e){return e==null?e:[...new Set(e)]}function eo(e){const t=e.length;for(let n=0;n<t;n++)e[n].ageIndex=t-n-1}function jG(e){const t=v.getFixedT(null,"notifications","Changelog");try{const n=!e||ld.lt(e,el);if(console.log(`Is out of date? ${n}`,e,el),!n)return;const l=i.jsxs(Qo,{children:[i.jsx(z,{type:"primary",icon:i.jsx(od,{}),onClick:()=>{window.notificationApi.destroy(),window.store.getState().setActiveKey(de.CHANGELOG)},children:t("View")}),i.jsx(z,{type:"default",onClick:()=>window.notificationApi.destroy(),children:t("Dismiss")})]});window.notificationApi.success({message:t("Message"),description:t("Description"),btn:l,duration:30})}catch(n){console.error(n)}}function zG(){const e=v.getFixedT(null,"notifications","GPU"),t=v.getFixedT(null,"notifications","GPUCrash");try{window.notificationApi.warning({message:e("Message"),description:i.jsxs(S,{vertical:!0,children:[i.jsx("div",{children:e("Description.l1")}),i.jsx("div",{children:i.jsxs("ul",{children:[i.jsx("li",{children:e("Description.l2")}),i.jsx("li",{children:i.jsx(gt,{t:e,i18nKey:"Description.l3",components:{CustomLink:i.jsx(Pt,{url:"https://github.com/gpuweb/gpuweb/wiki/Implementation-Status",linkIcon:!0})}})})]})}),i.jsx("p",{children:e("Description.l4")}),i.jsx("p",{children:i.jsx(gt,{t,i18nKey:"Description.l2",components:{CustomLink:i.jsx(Pt,{url:"https://github.com/fribbels/hsr-optimizer/blob/main/docs/guides/en/troubleshooting.md#gpu",linkIcon:!0})}})})]}),duration:15})}catch(n){console.error(n)}}function _G(){const e=v.getFixedT(null,"notifications","GPUCrash");try{window.notificationApi.warning({message:e("Message"),description:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("div",{children:e("Description.l1")}),i.jsx("div",{children:i.jsx(gt,{t:e,i18nKey:"Description.l2",components:{CustomLink:i.jsx(Pt,{url:"https://github.com/fribbels/hsr-optimizer/blob/main/docs/guides/en/troubleshooting.md#gpu",linkIcon:!0})}})})]}),duration:15})}catch(t){console.error(t)}}window.yaml=rd;const Xo=["en_US","fr_FR","ja_JP","ko_KR","pt_BR","vi_VN","zh_CN"],ko=vt===dl.BETA,QG=ko?Object.keys(T0):Xo;v.use(km).use(Ym).use(wm).init({ns:["charactersTab","common","conditionals","gameData","getStartedTab","hint","hometab","importSaveTab","modals","notifications","optimizerTab","relicScorerTab","relicsTab","settings","sidebar","warpCalculatorTab"],defaultNS:"common",fallbackNS:["common","gameData"],debug:!1,supportedLngs:QG,load:"currentOnly",fallbackLng:"en_US",interpolation:{escapeValue:!1},backend:{loadPath:vt+"/locales/{{lng}}/{{ns}}.yaml",parse:function(e){return rd.load(e)}}});function $G(){const{i18n:e}=K(),t=Object.values(T0).filter(n=>n.locale!=="aa_ER"?ko||Xo.includes(n.locale):vt===dl.BETA).map(({locale:n,nativeName:l,shortName:s})=>({value:n,display:i.jsxs(S,{align:"center",gap:10,children:[i.jsx("img",{style:{width:22},src:k.getGlobe()}),s]}),label:i.jsxs(S,{gap:8,title:n,children:[l,ko?` (${n})`:"",Xo.includes(n)?"":" - (WIP)"]})}));return i.jsx(J,{options:t,optionRender:n=>n.data.label,onChange:n=>{e.changeLanguage(n).then(()=>{vt===dl.BETA&&(n==="aa_ER"?window.jipt.start():window.jipt.stop()),console.log("setting language to:",e.resolvedLanguage)})},style:{width:135,marginRight:6,height:36},placement:"bottomLeft",optionLabelProp:"display",dropdownStyle:{width:210},defaultValue:e.resolvedLanguage,dropdownRender:n=>i.jsxs(S,{gap:4,vertical:!0,children:[n,i.jsx(z,{type:"primary",style:{borderRadius:5,height:32},onClick:()=>window.open("https://discord.gg/rDmB4Un7qg"),children:"Help translate the website!"})]})})}const{useToken:qG}=Bt,{Header:eg}=hs;function tg(){const e=window.store(l=>l.menuSidebarOpen),t=window.store(l=>l.setMenuSidebarOpen),{token:n}=qG();return i.jsx(eg,{style:{display:"flex",alignItems:"center",paddingLeft:"30px",paddingRight:"0px",height:48,width:"100%",backgroundColor:n.colorBgLayout,backgroundImage:"linear-gradient(rgb(0 0 0/60%) 0 0)"},children:i.jsxs(S,{align:"center",justify:"space-between",style:{width:"100%"},children:[i.jsxs(S,{children:[i.jsx(z,{type:"text",icon:e?i.jsx(Ba,{}):i.jsx(Nm,{}),onClick:()=>t(!e),style:{fontSize:"16px",position:"relative",left:"-20px"}}),i.jsx("a",{href:vt,children:i.jsxs(S,{align:"center",style:{position:"relative",left:"-10px"},children:[i.jsx("img",{src:k.getLogo(),style:{width:30,height:30,marginRight:15}}),i.jsx(ye,{style:{fontWeight:600,fontSize:22},color:"inherit",children:"Fribbels Honkai Star Rail Optimizer (Beta)"})]})})]}),i.jsxs(S,{children:[i.jsx($G,{}),i.jsx("a",{href:"https://ko-fi.com/fribbels",target:"_blank",rel:"noreferrer",children:i.jsx(S,{children:i.jsx("img",{src:k.getKofi(),style:{height:36,marginRight:6,borderRadius:5}})})}),i.jsx("a",{href:"https://github.com/fribbels/hsr-optimizer",target:"_blank",rel:"noreferrer",children:i.jsx(S,{children:i.jsx("img",{src:k.getGithub(),style:{height:36,marginRight:6,borderRadius:5}})})}),i.jsx("a",{href:"https://discord.gg/rDmB4Un7qg",target:"_blank",rel:"noreferrer",children:i.jsx(S,{children:i.jsx("img",{src:k.getDiscord(),style:{height:36,marginRight:8,borderRadius:5}})})})]})]})})}const ag=()=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:[i.jsx("path",{fillRule:"evenodd",d:"M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6zM13 12.5a2.01 2.01 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5"}),i.jsx("path",{d:"m4.4.8-.003.004-.014.019a4.167 4.167 0 0 0-.204.31 2.327 2.327 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.31 3.31 0 0 1-.202.388 5.444 5.444 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 3.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8m3 0-.003.004-.014.019a4.167 4.167 0 0 0-.204.31 2.327 2.327 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.31 3.31 0 0 1-.202.388 5.444 5.444 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 6.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8m3 0-.003.004-.014.019a4.077 4.077 0 0 0-.204.31 2.337 2.337 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.198 3.198 0 0 1-.202.388 5.385 5.385 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 9.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8"})]}),ng=e=>i.jsx(Nn,{component:ag,...e}),ig=()=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 -1 16 16",children:i.jsx("path",{d:"M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612m5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612"})}),sg=e=>i.jsx(Nn,{component:ig,...e}),lg=()=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:i.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8"})}),og=e=>i.jsx(Nn,{component:lg,...e});function Dt(e,t,n,l){return{label:e,key:t,icon:n,children:l}}const rg=()=>{const{t:e}=K("sidebar"),t=window.store(o=>o.activeKey),n=window.store(o=>o.setActiveKey),l=E.useMemo(()=>[Dt(e("Tools.Title"),"subTools",i.jsx(cd,{}),[Dt(i.jsxs(S,{children:[i.jsx(Om,{style:{marginRight:5,width:16}})," ",e("Tools.Showcase")]}),de.SHOWCASE),Dt(i.jsxs(S,{children:[i.jsx(Um,{style:{marginRight:5,width:16}})," ",e("Tools.WarpPlanner")]}),de.WARP)]),Dt(e("Optimization.Title"),"subOptimizer",i.jsx(jm,{}),[Dt(i.jsxs(S,{children:[i.jsx(Km,{style:{marginRight:5,width:16}})," ",e("Optimization.Optimizer")]}),de.OPTIMIZER),Dt(i.jsxs(S,{children:[i.jsx(dd,{style:{marginRight:5,width:16}})," ",e("Optimization.Characters")]}),de.CHARACTERS),Dt(i.jsxs(S,{children:[i.jsx(Jm,{style:{marginRight:5,width:16}})," ",e("Optimization.Relics")]}),de.RELICS),Dt(i.jsxs(S,{children:[i.jsx($o,{style:{marginRight:5,width:16}})," ",e("Optimization.Import")]}),de.IMPORT),Dt(i.jsxs(S,{onClick:()=>window.store.getState().setSettingsDrawerOpen(!0),style:{width:"100%"},children:[i.jsx(xa,{style:{marginRight:5,width:16}})," ",e("Optimization.Settings")]}),"link settings"),Dt(i.jsxs(S,{onClick:()=>window.store.getState().setGettingStartedDrawerOpen(!0),style:{width:"100%"},children:[i.jsx(Am,{style:{marginRight:5,width:16}})," ",e("Optimization.Start")]}),"link gettingstarted")]),Dt(e("Links.Title"),"subLinks",i.jsx(_m,{}),[Dt(i.jsxs(ye.Link,{children:[i.jsx(zm,{style:{marginRight:2,width:16}})," ",e("Links.Home")]}),de.HOME),Dt(i.jsxs(ye.Link,{children:[i.jsx(od,{style:{marginRight:2,width:16}})," ",e("Links.Changelog")]}),de.CHANGELOG),Dt(i.jsxs(ye.Link,{href:"https://ko-fi.com/fribbels",target:"_blank",rel:"noopener noreferrer",children:[i.jsx(ng,{style:{marginRight:5}})," ",e("Links.Kofi")]}),"link donate"),Dt(i.jsxs(ye.Link,{href:"https://discord.gg/rDmB4Un7qg",target:"_blank",rel:"noopener noreferrer",children:[i.jsx(sg,{style:{marginRight:5}})," ",e("Links.Discord")]}),"link discord"),Dt(i.jsxs(ye.Link,{href:"https://github.com/fribbels/hsr-optimizer",target:"_blank",rel:"noopener noreferrer",children:[i.jsx(og,{style:{marginRight:5}})," ",e("Links.Github")]}),"link github"),Dt(i.jsxs(ye.Link,{href:"https://starrailoptimizer.github.io/",target:"_blank",rel:"noopener noreferrer",children:[i.jsx(qc,{style:{marginRight:5}})," ",e("Links.Unleak")]}),"link leaks free")])],[e]),s=o=>{var r;(r=o.key)!=null&&r.includes("link")||n(o.key)};return i.jsx(Qm,{onClick:s,inlineIndent:12,defaultSelectedKeys:["1"],defaultOpenKeys:["subOptimizer","subTools","subLinks"],selectedKeys:[t],mode:"inline",items:l,className:"no-highlight"})},{useToken:cg}=Bt,{Sider:dg}=hs;function ug(){const{token:e}=cg(),t=window.store(n=>n.menuSidebarOpen);return i.jsx(dg,{width:170,style:{background:e.colorBgContainer},collapsible:!0,collapsedWidth:48,collapsed:!t,trigger:null,children:i.jsx("div",{style:{position:"sticky",top:0},children:i.jsx(rg,{})})})}const mg=[{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"CRIT Rate",value:11.016,scoreMeta:{multiplier:1,score:22}},{stat:"CRIT DMG",value:10.367999999999999,scoreMeta:{multiplier:1,score:10.3}},{stat:"Effect RES",value:3.456,scoreMeta:{multiplier:0,score:0}},{stat:"Break Effect",value:5.183999999999999,scoreMeta:{multiplier:0,score:0}}],id:"cd85c14c-a662-4413-a149-a379e6d538d3",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"CRIT Rate":.11016,"CRIT DMG":.10367999999999998,"Effect RES":.03456,"Break Effect":.05183999999999999,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:32.3,ss:5.184,ds:5.183999999999999,cs:32.4,equippedBy:"1212",weightScore:42.767999999999994},{part:"Head",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:19.0518957},{stat:"HP%",value:12.096},{stat:"DEF%",value:14.580000000000002},{stat:"Effect RES",value:7.344}],id:"0bd7404f-3420-4bf5-9e45-f79343728685",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:19.0518957,"HP%":.12096,"DEF%":.1458,"Effect RES":.07344,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:46.656,ds:0,equippedBy:"1217",cs:0},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:35.9869141},{stat:"SPD",value:8},{stat:"CRIT Rate",value:2.916},{stat:"Effect RES",value:7.344}],id:"77ac4c85-21a7-4526-999a-6e54646dda6d",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:35.9869141,SPD:8,"CRIT Rate":.02916,"Effect RES":.07344,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:26.6,ss:31.816000000000003,ds:20.8,cs:26.632,weightScore:41.5581710950614},{part:"Head",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK%",value:4.32},{stat:"SPD",value:4},{stat:"CRIT Rate",value:10.367999999999999},{stat:"Effect RES",value:4.32}],id:"e898e418-bc4e-404d-be3f-2477dec9839a",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"ATK%":.0432,SPD:4,"CRIT Rate":.10367999999999998,"Effect RES":.0432,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:37.45,ss:16.880000000000003,ds:16.880000000000003,equippedBy:"1205",cs:31.135999999999996},{part:"Head",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:19.0518957},{stat:"CRIT Rate",value:8.424},{stat:"CRIT DMG",value:18.144},{stat:"Effect RES",value:8.208}],id:"eda5ede8-dfaa-4fa9-b2c2-17011ed0abe6",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:19.0518957,"CRIT Rate":.08424,"CRIT DMG":.18144,"Effect RES":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.900000000000006,ss:12.312000000000001,ds:0,equippedBy:"1102",cs:34.992},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:38.1037914},{stat:"DEF%",value:5.4},{stat:"CRIT Rate",value:2.916},{stat:"CRIT DMG",value:23.976}],id:"8de51c73-36b5-40ea-91a2-e566d97da2a9",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:38.1037914,"DEF%":.054000000000000006,"CRIT Rate":.02916,"CRIT DMG":.23976,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:29.7,ss:6.48,ds:0,equippedBy:"1101",cs:29.808,weightScore:41.00089936920223},{part:"Head",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK%",value:10.8},{stat:"DEF%",value:9.719999999999999},{stat:"SPD",value:2},{stat:"Break Effect",value:12.312}],id:"354bde06-a10b-4449-8365-16f0dcac7b88",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"ATK%":.10800000000000001,"DEF%":.0972,SPD:2,"Break Effect":.12312,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.400000000000002,ss:16.863999999999997,ds:33.712,equippedBy:"1005",cs:5.2},{part:"Head",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"HP%",value:3.456},{stat:"ATK%",value:7.776},{stat:"DEF%",value:10.26},{stat:"CRIT DMG",value:17.496000000000002}],id:"1e0de4ea-c1bf-4990-a0bd-739b1eea2e1d",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"HP%":.03456,"ATK%":.07776,"DEF%":.1026,"CRIT DMG":.17496000000000003,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.95,ss:17.496,ds:11.664,cs:17.496000000000002},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:40.2206687},{stat:"DEF",value:21.168773},{stat:"ATK%",value:12.096},{stat:"CRIT Rate",value:9.072}],id:"be226101-f443-4ea0-93e8-81813e48f692",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:40.2206687,DEF:21.168773,"ATK%":.12096,"CRIT Rate":.09072,"HP%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:36,ss:0,ds:18.144,cs:18.144,weightScore:43.34799806299142},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"HP%",value:12.528,scoreMeta:{multiplier:0,score:0}},{stat:"DEF%",value:9.719999999999999,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:5.832,scoreMeta:{multiplier:1,score:11.664}},{stat:"CRIT DMG",value:12.959999999999999,scoreMeta:{multiplier:1,score:12.959999999999999}}],id:"e30bce86-38ef-42db-9cea-58b18a94d4bc",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"HP%":.12528,"DEF%":.0972,"CRIT Rate":.05832,"CRIT DMG":.1296,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:30.456,ds:0,cs:24.624,weightScore:55.08},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK%",value:15.552},{stat:"DEF%",value:9.719999999999999},{stat:"SPD",value:2},{stat:"CRIT DMG",value:6.4799999999999995}],id:"01287db9-7fe8-49c9-b30e-907db3b6d0d0",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"ATK%":.15552,"DEF%":.0972,SPD:2,"CRIT DMG":.0648,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.85,ss:16.863999999999997,ds:28.528,cs:11.68,weightScore:46.655999999999985},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:19.0518957},{stat:"HP%",value:3.456},{stat:"SPD",value:6},{stat:"CRIT DMG",value:18.792}],id:"85c1d15d-a89e-4e08-ab91-29c09449eaf7",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:19.0518957,"HP%":.03456,SPD:6,"CRIT DMG":.18792,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.3,ss:20.784000000000002,ds:15.600000000000001,cs:34.392,weightScore:41.63197293267957},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"HP%",value:4.32},{stat:"DEF%",value:13.5},{stat:"CRIT Rate",value:8.748000000000001},{stat:"CRIT DMG",value:5.832}],id:"15153c3a-7c55-4f18-8b0f-5938ea3165a9",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"HP%":.0432,"DEF%":.135,"CRIT Rate":.08748000000000002,"CRIT DMG":.05832,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.2,ss:22.68,ds:0,cs:23.328000000000003,weightScore:46.008},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:38.1037914},{stat:"HP%",value:11.664},{stat:"CRIT Rate",value:6.156},{stat:"CRIT DMG",value:12.312}],id:"406b32a8-1a17-4a85-a9b2-f707bbb7d789",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:38.1037914,"HP%":.11664,"CRIT Rate":.06156,"CRIT DMG":.12312,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:17.496,ds:0,cs:24.624,weightScore:46.832899369202224},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"SPD",value:4},{stat:"CRIT DMG",value:23.976},{stat:"Effect Hit Rate",value:7.776},{stat:"Effect RES",value:3.888}],id:"32478990-1729-40f5-a85a-c6c448abf4e3",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,SPD:4,"CRIT DMG":.23976,"Effect Hit Rate":.07776,"Effect RES":.03888,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.3,ss:16.232,ds:22.064,cs:34.376,weightScore:51.839999999999996},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:16.9350184},{stat:"HP%",value:11.664},{stat:"SPD",value:4},{stat:"CRIT Rate",value:6.156}],id:"631dc239-48a5-4109-b4ad-57db6387e61a",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:16.9350184,"HP%":.11664,SPD:4,"CRIT Rate":.06156,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.6,ss:27.896,ds:10.4,cs:22.712,weightScore:42.27062194186765},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:38.1037914},{stat:"SPD",value:4},{stat:"CRIT DMG",value:11.016},{stat:"Effect RES",value:8.208}],id:"f02e66d8-7de8-4d81-97d1-3ea73fce4056",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:38.1037914,SPD:4,"CRIT DMG":.11016,"Effect RES":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.4,ss:22.712000000000003,ds:10.4,cs:21.416,weightScore:37.90394586535913},{part:"Head",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"DEF",value:33.8700368},{stat:"HP%",value:8.208},{stat:"CRIT Rate",value:5.832},{stat:"Effect Hit Rate",value:8.208}],id:"e3169778-e239-4cc6-b673-f02137df9378",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,DEF:33.8700368,"HP%":.08208,"CRIT Rate":.05832,"Effect Hit Rate":.08208,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.6,ss:12.312000000000001,ds:12.312000000000001,cs:11.664},{part:"Head",set:"Genius of Brilliant Stars",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:6.912},{stat:"ATK%",value:8.208},{stat:"CRIT Rate",value:5.183999999999999},{stat:"CRIT DMG",value:5.832}],id:"f5ca028c-ebfc-4a3f-86b9-92e8c191ca0f",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.06912,"ATK%":.08208,"CRIT Rate":.05183999999999999,"CRIT DMG":.05832,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.299999999999997,ss:10.368,ds:12.312000000000001,cs:16.2},{part:"Head",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:7.776},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect RES",value:7.776}],id:"712b4702-b22a-4e75-8921-1fe6dcca2f50",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.07776,"DEF%":.09180000000000002,"CRIT DMG":.0648,"Effect RES":.07776,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:6.4,ss:34.344,ds:0,cs:6.4799999999999995},{part:"Head",set:"Messenger Traversing Hackerspace",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:6.912},{stat:"ATK%",value:7.344},{stat:"SPD",value:2},{stat:"Break Effect",value:11.664}],id:"0ad72590-0a68-46b5-b2ba-1d7a45d77fd7",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.06912,"ATK%":.07344,SPD:2,"Break Effect":.11664,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.15,ss:15.568000000000001,ds:27.88,cs:5.2},{part:"Head",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"CRIT Rate",value:6.156},{stat:"CRIT DMG",value:16.848},{stat:"Effect RES",value:4.32},{stat:"Break Effect",value:6.4799999999999995}],id:"5e6a0316-5618-4e9e-8c7f-ae788edea454",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"CRIT Rate":.06156,"CRIT DMG":.16848,"Effect RES":.0432,"Break Effect":.0648,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:29,ss:6.48,ds:6.4799999999999995,cs:29.159999999999997},{part:"Head",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"ATK",value:40.2206687},{stat:"HP%",value:4.32},{stat:"CRIT DMG",value:12.312},{stat:"Effect Hit Rate",value:6.912}],id:"f8667a7d-7ba6-4e2f-931e-cbe2230b51bc",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,ATK:40.2206687,"HP%":.0432,"CRIT DMG":.12312,"Effect Hit Rate":.06912,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.3,ss:6.48,ds:10.368,cs:12.312},{part:"Head",set:"Band of Sizzling Thunder",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:4.32},{stat:"ATK%",value:3.456},{stat:"CRIT Rate",value:6.4799999999999995},{stat:"Effect Hit Rate",value:10.367999999999999}],id:"3a3dcda5-a6b0-4514-9aa3-5930e832aca5",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.0432,"ATK%":.03456,"CRIT Rate":.0648,"Effect Hit Rate":.10367999999999998,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.900000000000002,ss:6.48,ds:20.735999999999997,cs:12.959999999999999},{part:"Head",set:"Band of Sizzling Thunder",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"ATK",value:40.2206687},{stat:"HP%",value:3.888},{stat:"SPD",value:4},{stat:"CRIT Rate",value:9.072}],id:"75756842-66be-4ac6-bb65-70b51f222b0a",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,ATK:40.2206687,"HP%":.03888,SPD:4,"CRIT Rate":.09072,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.4,ss:16.232,ds:10.4,cs:28.543999999999997},{part:"Head",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:12.959999999999999},{stat:"Effect RES",value:7.344},{stat:"Break Effect",value:11.664}],id:"c4adf66e-d769-47be-bf6d-d22f94786308",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"CRIT Rate":.05832,"CRIT DMG":.1296,"Effect RES":.07344,"Break Effect":.11664,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:11.016,ds:11.664,cs:24.624},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.456,scoreMeta:{multiplier:0,score:0}},{stat:"SPD",value:4,scoreMeta:{multiplier:1,score:10.368}},{stat:"CRIT DMG",value:22.68,scoreMeta:{multiplier:1,score:22.6}},{stat:"Effect Hit Rate",value:3.456,scoreMeta:{multiplier:0,score:0}}],id:"798657c8-5c5c-4b44-9c5f-f5f094414289",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03456,SPD:4,"CRIT DMG":.2268,"Effect Hit Rate":.03456,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33,ss:15.584,ds:15.584,equippedBy:"1212",cs:33.08,weightScore:43.416},{part:"Hands",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:8.208},{stat:"ATK%",value:4.32},{stat:"CRIT DMG",value:17.496000000000002},{stat:"Effect RES",value:7.776}],id:"9b3f7f9b-b394-4c87-af67-0f4f7e41a6a8",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.08208,"ATK%":.0432,"CRIT DMG":.17496000000000003,"Effect RES":.07776,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.849999999999998,ss:23.976,ds:6.48,equippedBy:"1217",cs:17.496000000000002},{part:"Hands",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"SPD",value:7},{stat:"CRIT Rate",value:5.508},{stat:"CRIT DMG",value:11.664},{stat:"Effect Hit Rate",value:4.32}],id:"71b088e8-e254-4219-96d5-f56cde1702d3",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,SPD:7,"CRIT Rate":.05508,"CRIT DMG":.11664,"Effect Hit Rate":.0432,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:40.8,ss:18.2,ds:24.68,equippedBy:"1205",cs:40.879999999999995},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:38.1037941},{stat:"ATK%",value:7.776},{stat:"CRIT Rate",value:8.748000000000001},{stat:"CRIT DMG",value:12.312}],id:"d0b2b781-33dc-4029-b875-81ecbc659466",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:38.1037941,"ATK%":.07776,"CRIT Rate":.08748000000000002,"CRIT DMG":.12312,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:41.25,ss:0,ds:11.664,equippedBy:"1102",cs:29.808},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.456},{stat:"SPD",value:4},{stat:"CRIT DMG",value:17.496000000000002},{stat:"Effect RES",value:10.8}],id:"1c3f175d-c9db-4b42-aa7d-0ffb5f9f3cf4",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03456,SPD:4,"CRIT DMG":.17496000000000003,"Effect RES":.10800000000000001,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.799999999999997,ss:31.784000000000006,ds:10.4,cs:27.896,weightScore:49.248000000000005},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:38.1037941},{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:16.2},{stat:"Effect Hit Rate",value:8.208}],id:"9f2ab764-badb-4240-9b57-484fdab84ff7",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:38.1037941,"CRIT Rate":.05832,"CRIT DMG":.162,"Effect Hit Rate":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.799999999999997,ss:0,ds:12.312000000000001,cs:27.863999999999997},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:42.337549},{stat:"DEF",value:69.8569509},{stat:"ATK%",value:10.367999999999999},{stat:"CRIT Rate",value:2.5919999999999996}],id:"25966262-0749-4675-a5c3-7e701163e083",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:42.337549,DEF:69.8569509,"ATK%":.10367999999999998,"CRIT Rate":.025919999999999995,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:20.450000000000003,ss:0,ds:15.551999999999998,cs:5.183999999999999},{part:"Hands",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:42.337549},{stat:"ATK%",value:15.120000000000001},{stat:"CRIT DMG",value:11.664},{stat:"Break Effect",value:5.832}],id:"81a06240-1434-4b48-b7c4-cedbca15ff50",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:42.337549,"ATK%":.1512,"CRIT DMG":.11664,"Break Effect":.05832,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.25,ss:0,ds:28.512,equippedBy:"1005",cs:11.664},{part:"Hands",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF%",value:4.32},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:12.096},{stat:"Effect RES",value:7.776}],id:"24a8bb7d-4924-446c-8d8d-56b7d782ab70",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"DEF%":.0432,SPD:4,"Effect Hit Rate":.12096,"Effect RES":.07776,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:27.247999999999998,ds:28.543999999999997,cs:10.4},{part:"Hands",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.888},{stat:"ATK%",value:8.208},{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:9}],id:"039ac008-c1a4-453a-92d2-0aaece2fb9ca",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03888,"ATK%":.08208,"DEF%":.0486,SPD:9,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35.7,ss:35.064,ds:35.712,cs:23.400000000000002},{part:"Hands",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:42.337546},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:8.64},{stat:"Break Effect",value:12.959999999999999}],id:"0d95b359-89d2-4809-9f84-e0dc5794a367",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:42.337546,SPD:4,"Effect Hit Rate":.0864,"Break Effect":.1296,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:10.4,ds:36.32,cs:10.4},{part:"Hands",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.776},{stat:"ATK%",value:15.984000000000002},{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:5.183999999999999}],id:"19cb32c1-62e9-4a24-8b09-2e4d48056681",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07776,"ATK%":.15984,"CRIT Rate":.05832,"CRIT DMG":.05183999999999999,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:40.550000000000004,ss:11.664,ds:23.976000000000003,cs:16.848},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:38.1037914},{stat:"ATK%",value:3.888},{stat:"SPD",value:6},{stat:"CRIT Rate",value:5.508}],id:"58fd5666-2e8a-4a56-a675-5098c886ff87",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:38.1037914,"ATK%":.03888,SPD:6,"CRIT Rate":.05508,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:32.3,ss:15.600000000000001,ds:21.432000000000002,cs:26.616},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:55.0388098},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"CRIT DMG",value:11.016},{stat:"Effect RES",value:10.8}],id:"92158d7b-fd3a-462c-b4fd-2091b81286b2",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:55.0388098,"CRIT Rate":.025919999999999995,"CRIT DMG":.11016,"Effect RES":.10800000000000001,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16,ss:16.200000000000003,ds:0,cs:16.2},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.776},{stat:"CRIT Rate",value:5.183999999999999},{stat:"CRIT DMG",value:16.2},{stat:"Break Effect",value:10.367999999999999}],id:"26d1567a-3fe8-4c02-9874-80612a6fa4a7",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07776,"CRIT Rate":.05183999999999999,"CRIT DMG":.162,"Break Effect":.10367999999999998,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:26.4,ss:11.664,ds:10.367999999999999,cs:26.567999999999998,weightScore:48.599999999999994},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:40.2206687},{stat:"CRIT Rate",value:9.072},{stat:"CRIT DMG",value:5.832},{stat:"Break Effect",value:18.144}],id:"130a284c-8e10-40bf-9ba9-b3e56ac894b9",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:40.2206687,"CRIT Rate":.09072,"CRIT DMG":.05832,"Break Effect":.18144,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.8,ss:0,ds:18.144,cs:23.976,weightScore:47.09472711193568},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.344},{stat:"DEF%",value:9.719999999999999},{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:11.016}],id:"0bb9bf7e-5f26-496b-91ff-fa0087f1407b",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07344,"DEF%":.0972,"CRIT Rate":.05832,"CRIT DMG":.11016,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.6,ss:22.68,ds:0,cs:22.68,weightScore:45.35999999999999},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.776,scoreMeta:{multiplier:0,score:0}},{stat:"SPD",value:8,scoreMeta:{multiplier:1,score:20.736}},{stat:"CRIT DMG",value:6.4799999999999995,scoreMeta:{multiplier:1,score:6.4799999999999995}},{stat:"Effect Hit Rate",value:7.344,scoreMeta:{multiplier:0,score:0}}],id:"5b198c90-85fd-4baa-b44a-556f6e9d4d18",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07776,SPD:8,"CRIT DMG":.0648,"Effect Hit Rate":.07344,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.200000000000003,ss:32.464,ds:31.816000000000003,cs:27.28,weightScore:49.895999999999994},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:19.0518957},{stat:"CRIT Rate",value:5.183999999999999},{stat:"CRIT DMG",value:12.312},{stat:"Effect RES",value:10.8}],id:"85589ec4-df10-4cbc-b190-8a3fca0030b0",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:19.0518957,"CRIT Rate":.05183999999999999,"CRIT DMG":.12312,"Effect RES":.10800000000000001,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.5,ss:16.200000000000003,ds:0,cs:22.68,weightScore:41.23644968460111},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.456},{stat:"ATK%",value:7.776},{stat:"CRIT Rate",value:11.988},{stat:"Effect RES",value:3.888}],id:"467aa841-1d6b-4d13-8b7b-3f6d4c288367",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03456,"ATK%":.07776,"CRIT Rate":.11988,"Effect RES":.03888,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35.35,ss:11.016,ds:11.664,cs:23.976,weightScore:46.656},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"ATK%",value:8.64},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT DMG",value:12.312},{stat:"Break Effect",value:12.959999999999999}],id:"df9b4eda-ad97-4940-935e-a2094414414c",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"ATK%":.0864,"DEF%":.09180000000000002,"CRIT DMG":.12312,"Break Effect":.1296,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:25.2,ss:11.016000000000002,ds:25.92,cs:12.312,weightScore:49.248},{part:"Hands",set:"Guard of Wuthering Snow",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP%",value:3.888},{stat:"DEF%",value:4.32},{stat:"Effect Hit Rate",value:6.912},{stat:"Effect RES",value:10.8}],id:"605af0bc-ad64-46da-9681-e8889fa8d66d",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,"HP%":.03888,"DEF%":.0432,"Effect Hit Rate":.06912,"Effect RES":.10800000000000001,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:27.216,ds:10.368,cs:0},{part:"Hands",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP",value:71.9738333},{stat:"DEF",value:33.8700368},{stat:"HP%",value:12.959999999999999},{stat:"DEF%",value:4.32}],id:"67999399-0a5f-4a94-9267-32c42a7fbbe5",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,HP:71.9738333,DEF:33.8700368,"HP%":.1296,"DEF%":.0432,"ATK%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:24.624,ds:0,equippedBy:"1202",cs:0},{part:"Hands",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP%",value:16.416},{stat:"ATK%",value:7.776},{stat:"CRIT DMG",value:5.832},{stat:"Effect Hit Rate",value:3.456}],id:"2fa02060-e9c7-4910-bd20-c89864379aff",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,"HP%":.16416,"ATK%":.07776,"CRIT DMG":.05832,"Effect Hit Rate":.03456,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.35,ss:24.624000000000002,ds:16.848,cs:5.832},{part:"Hands",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"DEF",value:57.1556871},{stat:"ATK%",value:8.64},{stat:"CRIT Rate",value:3.2399999999999998},{stat:"CRIT DMG",value:5.183999999999999}],id:"5e67a642-be84-4d5d-b887-cc323b84e8c6",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,DEF:57.1556871,"ATK%":.0864,"CRIT Rate":.0324,"CRIT DMG":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.4,ss:0,ds:12.96,cs:11.663999999999998},{part:"Hands",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP",value:38.1037941},{stat:"SPD",value:6},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect RES",value:10.8}],id:"6f1373fd-b42f-4dc3-a562-9c44fbe8e1fb",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,HP:38.1037941,SPD:6,"CRIT DMG":.0648,"Effect RES":.10800000000000001,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22,ss:31.800000000000004,ds:15.600000000000001,cs:22.080000000000002},{part:"Hands",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP",value:42.337549},{stat:"SPD",value:2},{stat:"CRIT DMG",value:11.664},{stat:"Effect RES",value:12.096}],id:"63457d83-ec25-40dd-a1d1-04dda49a3740",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,HP:42.337549,SPD:2,"CRIT DMG":.11664,"Effect RES":.12096,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.8,ss:23.343999999999998,ds:5.2,cs:16.864},{part:"Hands",set:"Guard of Wuthering Snow",enhance:10,grade:3,main:{stat:"ATK",value:152.40960001200438},substats:[{stat:"HP",value:71},{stat:"HP%",value:8.2},{stat:"Effect Hit Rate",value:8.2},{stat:"Effect RES",value:3.8}],id:"d6aaf5a8-2351-4880-bcd6-0f7ceb011956",augmentedStats:{mainStat:"ATK",mainValue:152.40960001200438,HP:71,"HP%":.08199999999999999,"Effect Hit Rate":.08199999999999999,"Effect RES":.038,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:18,ds:12.299999999999999},{part:"Hands",set:"Musketeer of Wild Wheat",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.4},{stat:"DEF%",value:10.2},{stat:"Effect RES",value:7.3},{stat:"Break Effect",value:5.1}],id:"d61a533d-e721-4edb-99f4-787708a08132",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.034,"DEF%":.102,"Effect RES":.073,"Break Effect":.051,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:28.29,ds:5.1},{part:"Hands",set:"Passerby of Wandering Cloud",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP",value:42},{stat:"HP%",value:7.7},{stat:"CRIT Rate",value:5.5},{stat:"Effect Hit Rate",value:3.4}],id:"a75828e1-5e27-49ab-8bca-67e2e1fdd3ec",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,HP:42,"HP%":.077,"CRIT Rate":.055,"Effect Hit Rate":.034,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:11.55,ds:5.1000000000000005},{part:"Hands",set:"Guard of Wuthering Snow",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF",value:38},{stat:"DEF%",value:15.6},{stat:"CRIT Rate",value:2.9},{stat:"Effect Hit Rate",value:3.4}],id:"1c2a19ba-fb58-4ff6-9f4d-582c3db368ae",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,DEF:38,"DEF%":.156,"CRIT Rate":.028999999999999998,"Effect Hit Rate":.034,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.8,ss:18.72,ds:5.1000000000000005},{part:"Hands",set:"Band of Sizzling Thunder",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:8.6},{stat:"DEF%",value:4.3},{stat:"SPD",value:2},{stat:"Break Effect",value:11}],id:"30362d67-7152-4dd2-a57c-4408c0287b8e",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.086,"DEF%":.043,SPD:2,"Break Effect":.11,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.2,ss:23.259999999999998,ds:16.2},{part:"Hands",set:"Longevous Disciple",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.4},{stat:"DEF%",value:14.5},{stat:"CRIT DMG",value:6.4},{stat:"Effect Hit Rate",value:3.8}],id:"0a4f8d97-9ca4-452c-b872-3d19a9576b4c",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.034,"DEF%":.145,"CRIT DMG":.064,"Effect Hit Rate":.038,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:6.4,ss:22.5,ds:5.699999999999999},{part:"Hands",set:"Band of Sizzling Thunder",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.8},{stat:"ATK%",value:3.4},{stat:"Effect Hit Rate",value:12},{stat:"Break Effect",value:5.8}],id:"4e512372-e8b0-456e-a37e-8080445edfed",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.038,"ATK%":.034,"Effect Hit Rate":.12,"Break Effect":.057999999999999996,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:5.699999999999999,ds:28.900000000000002},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF",value:21.5921488},{stat:"SPD",value:2},{stat:"CRIT Rate",value:5.8},{stat:"Effect RES",value:7.3}],id:"c128854c-b34e-4a05-acdc-5179534bf55f",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,DEF:21.5921488,SPD:2,"CRIT Rate":.057999999999999996,"Effect RES":.073,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:16.8,ss:16.15,ds:5.2},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP",value:71},{stat:"ATK%",value:3.8},{stat:"DEF%",value:4.8},{stat:"CRIT Rate",value:5.5}],id:"9e27d180-01ec-4b06-86fc-cd7cb7868724",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,HP:71,"ATK%":.038,"DEF%":.048,"CRIT Rate":.055,"HP%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:5.76,ds:5.699999999999999},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF%",value:5.4},{stat:"SPD",value:4},{stat:"CRIT DMG",value:5.8},{stat:"Effect RES",value:8.2}],id:"8ed0420b-66e4-4b5e-83d0-6aa75db77e5d",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"DEF%":.054000000000000006,SPD:4,"CRIT DMG":.057999999999999996,"Effect RES":.08199999999999999,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:16.2,ss:29.18,ds:10.4},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.4},{stat:"ATK%",value:3.8},{stat:"DEF%",value:9.7},{stat:"CRIT Rate",value:5.8}],id:"0d3e87b1-c8de-4a05-a817-4e1e59f0281f",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.034,"ATK%":.038,"DEF%":.09699999999999999,"CRIT Rate":.057999999999999996,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11.6,ss:16.74,ds:5.699999999999999},{part:"Hands",set:"Passerby of Wandering Cloud",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF",value:16},{stat:"HP%",value:4.3},{stat:"DEF%",value:15.1},{stat:"Break Effect",value:6.4}],id:"98fdd38c-9f98-41b4-ba20-9b9333a4ed22",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,DEF:16,"HP%":.043,"DEF%":.151,"Break Effect":.064,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:24.569999999999997,ds:6.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:114.3113823,scoreMeta:{multiplier:0,score:0}},{stat:"ATK%",value:7.344,scoreMeta:{multiplier:.75,score:8.212499999999999}},{stat:"DEF%",value:4.32,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:8.1,scoreMeta:{multiplier:1,score:16.2}}],id:"b3376a19-62f9-489e-80e6-8f98335af158",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:114.3113823,"ATK%":.07344,"DEF%":.0432,"CRIT Rate":.081,"HP%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.15,ss:5.184,ds:11.016,equippedBy:"1212",cs:16.2,weightScore:38.37073442122549},{part:"Body",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"Outgoing Healing Boost",value:34.5606000395488},substats:[{stat:"DEF",value:21.5921488},{stat:"DEF%",value:14.04},{stat:"Effect RES",value:7.776},{stat:"Break Effect",value:11.664}],id:"0241587d-bbff-4ffb-b93c-d201728d1c0b",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.345606000395488,DEF:21.5921488,"DEF%":.1404,"Effect RES":.07776,"Break Effect":.11664,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:28.512,ds:11.664},{part:"Body",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:139.7139117},{stat:"DEF%",value:4.32},{stat:"SPD",value:4},{stat:"Break Effect",value:5.832}],id:"7cdd90c6-73fc-4a5f-9cea-6458d5e6f456",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:139.7139117,"DEF%":.0432,SPD:4,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:15.584,ds:16.232,equippedBy:"1205",cs:10.4},{part:"Body",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"CRIT Rate",value:32.399999862536205},substats:[{stat:"ATK%",value:12.096},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:6.912},{stat:"Break Effect",value:5.183999999999999}],id:"4b8dafeb-6f5a-410c-bcbc-4caaef116af2",augmentedStats:{mainStat:"CRIT Rate",mainValue:.32399999862536205,"ATK%":.12096,SPD:4,"Effect Hit Rate":.06912,"Break Effect":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.4,ss:10.4,ds:44.096,equippedBy:"1102",cs:10.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:71.9738333},{stat:"DEF",value:21.5921488},{stat:"SPD",value:5},{stat:"Break Effect",value:17.496000000000002}],id:"1717f468-9cb4-495a-b20d-57f69205b5f6",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:71.9738333,DEF:21.5921488,SPD:5,"Break Effect":.17496000000000003,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:13,ss:13,ds:30.496000000000002,weightScore:36.885994320187535},{part:"Body",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:110.0776274},{stat:"ATK%",value:8.64},{stat:"CRIT Rate",value:6.156},{stat:"Break Effect",value:5.832}],id:"3e94d21f-f47c-4dba-8470-8eaf4b8624e9",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:110.0776274,"ATK%":.0864,"CRIT Rate":.06156,"Break Effect":.05832,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:25.099999999999998,ss:0,ds:18.792,cs:12.312},{part:"Body",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:71.9738333},{stat:"DEF%",value:9.180000000000001},{stat:"SPD",value:4},{stat:"Break Effect",value:12.312}],id:"dd7d21eb-5a85-466e-a7a3-98fc6f63e546",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:71.9738333,"DEF%":.09180000000000002,SPD:4,"Break Effect":.12312,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:21.416000000000004,ds:22.712,equippedBy:"1005",cs:10.4},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP%",value:8.64},{stat:"ATK%",value:7.776},{stat:"DEF%",value:10.26},{stat:"Effect Hit Rate",value:12.528}],id:"29f91de6-5c70-4e10-90e1-cf79888932d6",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,"HP%":.0864,"ATK%":.07776,"DEF%":.1026,"Effect Hit Rate":.12528,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.55,ss:25.272,ds:30.456000000000003,cs:0},{part:"Body",set:"Eagle of Twilight Line",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP%",value:11.232000000000001},{stat:"SPD",value:2},{stat:"CRIT Rate",value:6.4799999999999995},{stat:"Effect RES",value:7.344}],id:"b41c1519-2f34-4701-9d04-2c54cbfa8a3f",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,"HP%":.11232000000000002,SPD:2,"CRIT Rate":.0648,"Effect RES":.07344,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:18.16,ss:33.06400000000001,ds:5.2},{part:"Body",set:"Eagle of Twilight Line",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"HP",value:76.2075882},{stat:"DEF%",value:4.32},{stat:"SPD",value:6},{stat:"CRIT DMG",value:12.312}],id:"834292d9-899b-42a7-84b1-82f663bc007d",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,HP:76.2075882,"DEF%":.0432,SPD:6,"CRIT DMG":.12312,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.900000000000002,ss:20.784000000000002,ds:15.600000000000001,cs:27.912},{part:"Body",set:"Guard of Wuthering Snow",enhance:15,grade:5,main:{stat:"Outgoing Healing Boost",value:34.5606000395488},substats:[{stat:"HP%",value:7.344},{stat:"DEF%",value:10.26},{stat:"Effect Hit Rate",value:3.456},{stat:"Effect RES",value:12.096}],id:"9a5915a8-e547-47aa-9ff1-fd907341a6c3",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.345606000395488,"HP%":.07344,"DEF%":.1026,"Effect Hit Rate":.03456,"Effect RES":.12096,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:41.471999999999994,ds:5.184,cs:0},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:67.7400784},{stat:"ATK%",value:7.776},{stat:"CRIT Rate",value:5.832},{stat:"Break Effect",value:16.848}],id:"b1006c27-f93f-4965-911b-4a934cd41021",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:67.7400784,"ATK%":.07776,"CRIT Rate":.05832,"Break Effect":.16848,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.15,ss:0,ds:28.512,cs:11.664,weightScore:43.71421299035585},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"ATK%",value:7.776,scoreMeta:{multiplier:.75,score:8.748}},{stat:"CRIT Rate",value:6.156,scoreMeta:{multiplier:1,score:12.312}},{stat:"Effect RES",value:7.344,scoreMeta:{multiplier:0,score:0}},{stat:"Break Effect",value:12.312,scoreMeta:{multiplier:0,score:0}}],id:"a8d2e198-7d41-4251-91ef-f7259ff39df4",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,"ATK%":.07776,"CRIT Rate":.06156,"Effect RES":.07344,"Break Effect":.12312,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.75,ss:11.016,ds:23.976,cs:12.312,weightScore:47.303999999999995},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"ATK",value:19.0518957},{stat:"DEF",value:40.2206687},{stat:"HP%",value:15.984000000000002},{stat:"CRIT Rate",value:2.916}],id:"f3177930-819d-4e84-8818-adc97455f734",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,ATK:19.0518957,DEF:40.2206687,"HP%":.15984,"CRIT Rate":.02916,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.8,ss:23.976000000000003,ds:0,cs:5.832,weightScore:36.886700044615246},{part:"Body",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"Outgoing Healing Boost",value:34.5606000395488},substats:[{stat:"HP",value:38.1037941},{stat:"SPD",value:9},{stat:"CRIT DMG",value:12.312},{stat:"Effect RES",value:3.456}],id:"725e6ee5-9465-45a2-8172-ed69241c1e54",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.345606000395488,HP:38.1037941,SPD:9,"CRIT DMG":.12312,"Effect RES":.03456,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35.7,ss:28.584000000000003,ds:23.400000000000002,equippedBy:"1217",cs:35.712},{part:"Body",set:"Guard of Wuthering Snow",enhance:14,grade:5,main:{stat:"CRIT DMG",value:61.1712006619205},substats:[{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:4},{stat:"Effect RES",value:11.232000000000001},{stat:"Break Effect",value:5.832}],id:"79f1d0f3-741b-4430-9685-87e29267e01d",augmentedStats:{mainStat:"CRIT DMG",mainValue:.611712006619205,"DEF%":.0486,SPD:4,"Effect RES":.11232000000000002,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:10.4,ss:33.08,ds:16.232},{part:"Body",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"Outgoing Healing Boost",value:28.7544000428167},substats:[{stat:"HP",value:38.1037941},{stat:"ATK",value:35.9869141},{stat:"ATK%",value:8.64},{stat:"SPD",value:4}],id:"0b4bdbc7-dac3-4648-bd6f-631d6750a5b5",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.287544000428167,HP:38.1037941,ATK:35.9869141,"ATK%":.0864,SPD:4,"HP%":0,"DEF%":0,"SPD%":0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.299999999999997,ss:10.4,ds:23.36,cs:10.4},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:12,grade:5,main:{stat:"HP%",value:35.9424005728218},substats:[{stat:"SPD",value:4},{stat:"CRIT Rate",value:5.508},{stat:"CRIT DMG",value:11.664},{stat:"Break Effect",value:6.4799999999999995}],id:"fb53d114-66ea-4014-9ef6-7dc4519cc4e1",augmentedStats:{mainStat:"HP%",mainValue:.35942400572821803,SPD:4,"CRIT Rate":.05508,"CRIT DMG":.11664,"Break Effect":.0648,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33,ss:10.4,ds:16.88,cs:33.08},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:12,grade:5,main:{stat:"HP%",value:35.9424005728218},substats:[{stat:"HP",value:105.8438725},{stat:"SPD",value:4},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect Hit Rate",value:4.32}],id:"45ad26f9-f51b-4ca6-960b-b0db7edb5087",augmentedStats:{mainStat:"HP%",mainValue:.35942400572821803,HP:105.8438725,SPD:4,"CRIT DMG":.0648,"Effect Hit Rate":.0432,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.8,ss:10.4,ds:16.880000000000003,cs:16.88},{part:"Body",set:"Champion of Streetwise Boxing",enhance:12,grade:5,main:{stat:"CRIT DMG",value:53.913600579835894},substats:[{stat:"HP%",value:4.32},{stat:"ATK%",value:8.208},{stat:"CRIT Rate",value:5.508},{stat:"Break Effect",value:10.367999999999999}],id:"3f8b30aa-4c91-4677-af83-8906d7d968d9",augmentedStats:{mainStat:"CRIT DMG",mainValue:.539136005798359,"HP%":.0432,"ATK%":.08208,"CRIT Rate":.05508,"Break Effect":.10367999999999998,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.299999999999997,ss:6.48,ds:22.68,cs:11.016},{part:"Body",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"CRIT DMG",value:53.913600579835894},substats:[{stat:"HP",value:110.0776274},{stat:"DEF",value:38.1037914},{stat:"ATK%",value:3.456},{stat:"CRIT Rate",value:3.2399999999999998}],id:"c23bb26b-ccb0-4318-ae7b-a8aec9ef0db1",augmentedStats:{mainStat:"CRIT DMG",mainValue:.539136005798359,HP:110.0776274,DEF:38.1037914,"ATK%":.03456,"CRIT Rate":.0324,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.5,ss:0,ds:5.184,cs:6.4799999999999995},{part:"Body",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"DEF%",value:44.9280005414036},substats:[{stat:"ATK%",value:3.888},{stat:"SPD",value:6},{stat:"Effect Hit Rate",value:7.344},{stat:"Break Effect",value:12.959999999999999}],id:"3147142d-dd65-4524-85ff-2535a61bd342",augmentedStats:{mainStat:"DEF%",mainValue:.449280005414036,"ATK%":.03888,SPD:6,"Effect Hit Rate":.07344,"Break Effect":.1296,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.3,ss:15.600000000000001,ds:45.408,cs:15.600000000000001},{part:"Body",set:"Knight of Purity Palace",enhance:12,grade:4,main:{stat:"DEF%",value:35.9424005728218},substats:[{stat:"DEF",value:28.789534},{stat:"ATK%",value:6.5664},{stat:"SPD",value:1},{stat:"Effect Hit Rate",value:6.912}],id:"c85f95b4-28af-4519-8992-bd274ed268f1",augmentedStats:{mainStat:"DEF%",mainValue:.35942400572821803,DEF:28.789534,"ATK%":.065664,SPD:1,"Effect Hit Rate":.06912,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.35,ss:2.6,ds:22.8176,cs:2.6},{part:"Body",set:"Musketeer of Wild Wheat",enhance:12,grade:4,main:{stat:"HP%",value:28.7544000428167},substats:[{stat:"HP",value:30.4830351},{stat:"DEF%",value:12.096},{stat:"SPD",value:3},{stat:"Break Effect",value:4.1472}],id:"cd8b362d-24e4-4427-b09e-2666c1fb97b4",augmentedStats:{mainStat:"HP%",mainValue:.287544000428167,HP:30.4830351,"DEF%":.12096,SPD:3,"Break Effect":.041471999999999995,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:7.800000000000001,ss:22.3152,ds:11.9472,equippedBy:"1202",cs:7.800000000000001},{part:"Body",set:"Passerby of Wandering Cloud",enhance:12,grade:4,main:{stat:"Outgoing Healing Boost",value:23.003300675190395},substats:[{stat:"HP%",value:2.7647999999999997},{stat:"ATK%",value:3.1104},{stat:"SPD",value:3},{stat:"CRIT DMG",value:14.5152}],id:"05045a76-0f4c-4ad8-8997-878b60b2d226",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.23003300675190397,"HP%":.027647999999999995,"ATK%":.031104,SPD:3,"CRIT DMG":.145152,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:26.95,ss:11.9472,ds:12.4656,cs:22.3152},{part:"Body",set:"Guard of Wuthering Snow",enhance:9,grade:3,main:{stat:"DEF%",value:21.5135999489572},substats:[{stat:"DEF",value:40},{stat:"HP%",value:3.4},{stat:"ATK%",value:4.3},{stat:"CRIT Rate",value:5.8}],id:"6be4a25d-b557-44a5-9176-12499975ba72",augmentedStats:{mainStat:"DEF%",mainValue:.215135999489572,DEF:40,"HP%":.034,"ATK%":.043,"CRIT Rate":.057999999999999996,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11.6,ss:5.1000000000000005,ds:6.449999999999999},{part:"Body",set:"Genius of Brilliant Stars",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"ATK",value:35},{stat:"HP%",value:7.7},{stat:"SPD",value:2},{stat:"Effect Hit Rate",value:3.4}],id:"c1257f42-d466-4cc6-ac37-a164be4efd1b",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,ATK:35,"HP%":.077,SPD:2,"Effect Hit Rate":.034,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.2,ss:16.75,ds:10.3},{part:"Body",set:"Genius of Brilliant Stars",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"ATK",value:38},{stat:"DEF",value:21.5921488},{stat:"DEF%",value:5.4},{stat:"SPD",value:6}],id:"5629890a-6aec-4990-851c-74532f2f37af",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,ATK:38,DEF:21.5921488,"DEF%":.054000000000000006,SPD:6,"HP%":0,"ATK%":0,"SPD%":0,HP:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:15.600000000000001,ss:22.080000000000002,ds:15.600000000000001},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:9,grade:3,main:{stat:"CRIT DMG",value:25.8165008621286},substats:[{stat:"HP%",value:3.8},{stat:"DEF%",value:9.1},{stat:"SPD",value:4},{stat:"CRIT Rate",value:2.9}],id:"8b8127ed-1513-4b8e-bfc5-e2f6ae07f501",augmentedStats:{mainStat:"CRIT DMG",mainValue:.258165008621286,"HP%":.038,"DEF%":.091,SPD:4,"CRIT Rate":.028999999999999998,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:16.2,ss:27.019999999999996,ds:10.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"CRIT Rate",value:12.9078010562808},substats:[{stat:"ATK",value:35},{stat:"DEF",value:42},{stat:"CRIT DMG",value:6.4},{stat:"Break Effect",value:6.4}],id:"ca9148ab-988c-4e5f-b24d-36336521b584",augmentedStats:{mainStat:"CRIT Rate",mainValue:.129078010562808,ATK:35,DEF:42,"CRIT DMG":.064,"Break Effect":.064,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:6.4,ss:0,ds:6.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"CRIT DMG",value:25.8165008621286},substats:[{stat:"HP",value:33},{stat:"ATK",value:33},{stat:"ATK%",value:3.4},{stat:"Break Effect",value:12.3}],id:"9bc3914c-ef10-492c-b9dc-20b9bbb53678",augmentedStats:{mainStat:"CRIT DMG",mainValue:.258165008621286,HP:33,ATK:33,"ATK%":.034,"Break Effect":.12300000000000001,"HP%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:0,ds:17.400000000000002},{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:21.168773,scoreMeta:{multiplier:.75,score:1.7533107772329706}},{stat:"ATK%",value:11.664,scoreMeta:{multiplier:.75,score:13.121999999999996}},{stat:"DEF%",value:4.859999999999999,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT DMG",value:17.496000000000002,scoreMeta:{multiplier:1,score:17.496000000000002}}],id:"92c53d06-80d0-43a8-b896-2feeda419674",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:21.168773,"ATK%":.11664,"DEF%":.0486,"CRIT DMG":.17496000000000003,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.8,ss:5.831999999999999,ds:17.496,equippedBy:"1212",cs:17.496000000000002,weightScore:43.161747702977294},{part:"Feet",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:148.1814215},{stat:"ATK%",value:6.912},{stat:"Effect Hit Rate",value:3.888},{stat:"Break Effect",value:5.183999999999999}],id:"f8d42acd-c848-484a-9eee-d03a7b88f030",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:148.1814215,"ATK%":.06912,"Effect Hit Rate":.03888,"Break Effect":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.350000000000001,ss:0,ds:21.384,equippedBy:"1217",cs:0},{part:"Feet",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:38.1037914},{stat:"DEF",value:21.168773},{stat:"HP%",value:16.848},{stat:"CRIT DMG",value:5.183999999999999}],id:"726e7b1f-f630-4182-ac11-1e8523a33fc1",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:38.1037914,DEF:21.168773,"HP%":.16848,"CRIT DMG":.05183999999999999,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1,ss:25.272,ds:0,equippedBy:"1205",cs:5.183999999999999},{part:"Feet",set:"Musketeer of Wild Wheat",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:38.1037941},{stat:"HP%",value:8.208},{stat:"ATK%",value:11.664},{stat:"Effect Hit Rate",value:11.232000000000001}],id:"ac206198-c5b1-4be7-8dda-0d7b85e1aabf",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:38.1037941,"HP%":.08208,"ATK%":.11664,"Effect Hit Rate":.11232000000000002,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.4,ss:12.312000000000001,ds:34.344,equippedBy:"1202",cs:0},{part:"Feet",set:"Musketeer of Wild Wheat",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:76.2075882},{stat:"ATK",value:38.1037914},{stat:"Effect RES",value:7.776},{stat:"Break Effect",value:12.312}],id:"ad67f0ac-1c0e-4869-8855-3718b601447b",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:76.2075882,ATK:38.1037914,"Effect RES":.07776,"Break Effect":.12312,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.664,ds:12.312,cs:0},{part:"Feet",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF",value:38.1037914},{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:9},{stat:"CRIT DMG",value:11.664}],id:"9d68a932-b623-4ac7-bd0a-7c54779b64fb",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,DEF:38.1037914,"DEF%":.0486,SPD:9,"CRIT DMG":.11664,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35,ss:29.232,ds:23.400000000000002,equippedBy:"1102",cs:35.064},{part:"Feet",set:"Eagle of Twilight Line",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:84.675098},{stat:"HP%",value:4.32},{stat:"DEF%",value:5.4},{stat:"Effect RES",value:16.416}],id:"dd1bb72d-80f3-432c-b8d9-0b62c7790b9a",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:84.675098,"HP%":.0432,"DEF%":.054000000000000006,"Effect RES":.16416,"ATK%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:37.584,ds:0,equippedBy:"1101",cs:0},{part:"Feet",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF%",value:9.180000000000001},{stat:"SPD",value:2},{stat:"CRIT Rate",value:11.016},{stat:"CRIT DMG",value:12.312}],id:"a615dc2f-c26d-4f13-8c92-0b2c746e0f3f",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,"DEF%":.09180000000000002,SPD:2,"CRIT Rate":.11016,"CRIT DMG":.12312,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:39.5,ss:16.216,ds:5.2,cs:39.544000000000004},{part:"Feet",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"DEF",value:16.9350184},{stat:"ATK%",value:4.32},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"Effect RES",value:19.872}],id:"53a00fa5-22a9-40bc-948b-8469d6e248ec",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,DEF:16.9350184,"ATK%":.0432,"CRIT Rate":.025919999999999995,"Effect RES":.19872,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.45,ss:29.808,ds:6.48,equippedBy:"1005",cs:5.183999999999999},{part:"Feet",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:33.8700368},{stat:"ATK%",value:7.344},{stat:"DEF%",value:19.439999999999998},{stat:"CRIT Rate",value:2.916}],id:"76603793-39c6-477f-9874-194d66f8ae88",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:33.8700368,"ATK%":.07344,"DEF%":.1944,"CRIT Rate":.02916,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.75,ss:23.327999999999996,ds:11.016,cs:5.832},{part:"Feet",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:156.6489313},{stat:"DEF%",value:5.4},{stat:"SPD",value:7},{stat:"Break Effect",value:5.832}],id:"5ba46dc3-191b-4a37-9781-bcaa1adf7f0d",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:156.6489313,"DEF%":.054000000000000006,SPD:7,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18.2,ss:24.68,ds:24.032,cs:18.2},{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"ATK",value:16.9350184},{stat:"DEF",value:19.0518957},{stat:"SPD",value:4},{stat:"CRIT DMG",value:22.68}],id:"af5b9fae-fdcc-4b11-bf4a-0ce3bd832648",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,ATK:16.9350184,DEF:19.0518957,SPD:4,"CRIT DMG":.2268,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33,ss:10.4,ds:10.4,cs:33.08},{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:40.2206687},{stat:"ATK%",value:3.888},{stat:"CRIT Rate",value:8.424},{stat:"Break Effect",value:11.016}],id:"01eca278-3dec-4b6a-bb39-e199603423f3",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:40.2206687,"ATK%":.03888,"CRIT Rate":.08424,"Break Effect":.11016,"HP%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.5,ss:0,ds:16.848,cs:16.848,weightScore:38.137720635656855},{part:"Feet",set:"Genius of Brilliant Stars",enhance:12,grade:5,main:{stat:"SPD",value:20.832000004360452},substats:[{stat:"ATK%",value:3.456},{stat:"DEF%",value:10.8},{stat:"Effect Hit Rate",value:7.776},{stat:"Break Effect",value:11.664}],id:"d348e2e3-87f5-4782-81db-1478c1ab2901",augmentedStats:{mainStat:"SPD",mainValue:20.832000004360452,"ATK%":.03456,"DEF%":.10800000000000001,"Effect Hit Rate":.07776,"Break Effect":.11664,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1000000000000005,ss:12.96,ds:28.512,cs:0},{part:"Feet",set:"Guard of Wuthering Snow",enhance:12,grade:4,main:{stat:"SPD",value:16.42560000135563},substats:[{stat:"ATK",value:28.789534},{stat:"DEF%",value:7.344},{stat:"Effect Hit Rate",value:3.456},{stat:"Effect RES",value:2.7647999999999997}],id:"4fa7cb12-80ac-43af-ae67-cec01b31208d",augmentedStats:{mainStat:"SPD",mainValue:16.42560000135563,ATK:28.789534,"DEF%":.07344,"Effect Hit Rate":.03456,"Effect RES":.027647999999999995,"HP%":0,"ATK%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:12.959999999999999,ds:5.184,cs:0},{part:"Feet",set:"Passerby of Wandering Cloud",enhance:12,grade:4,main:{stat:"SPD",value:16.42560000135563},substats:[{stat:"ATK%",value:9.6768},{stat:"Effect Hit Rate",value:2.7647999999999997},{stat:"Effect RES",value:3.456},{stat:"Break Effect",value:5.183999999999999}],id:"120c957e-4880-4fd7-a1a9-33fd9e5b5b74",augmentedStats:{mainStat:"SPD",mainValue:16.42560000135563,"ATK%":.096768,"Effect Hit Rate":.027647999999999995,"Effect RES":.03456,"Break Effect":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:14.399999999999999,ss:5.184,ds:23.846399999999996,cs:0},{part:"Feet",set:"Guard of Wuthering Snow",enhance:9,grade:3,main:{stat:"DEF%",value:21.5135999489572},substats:[{stat:"HP",value:38},{stat:"DEF",value:57},{stat:"HP%",value:4.3},{stat:"CRIT Rate",value:3.2}],id:"685b8eec-9f29-4213-b26e-7fc46ce17f43",augmentedStats:{mainStat:"DEF%",mainValue:.215135999489572,HP:38,DEF:57,"HP%":.043,"CRIT Rate":.032,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:6.4,ss:6.449999999999999,ds:0},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"SPD",value:11.419199999887496},substats:[{stat:"HP%",value:8.6},{stat:"ATK%",value:3.4},{stat:"CRIT Rate",value:6.1},{stat:"Effect Hit Rate",value:7.7}],id:"a616f8ad-8b70-43f9-a877-ec33ba60d6e8",augmentedStats:{mainStat:"SPD",mainValue:11.419199999887496,"HP%":.086,"ATK%":.034,"CRIT Rate":.061,"Effect Hit Rate":.077,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:12.2,ss:12.899999999999999,ds:16.650000000000002},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"DEF%",value:4.8},{stat:"CRIT Rate",value:5.5},{stat:"Effect Hit Rate",value:3.4},{stat:"Effect RES",value:7.3}],id:"578c0fdb-8976-4408-9271-fe43ce0afc5d",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,"DEF%":.048,"CRIT Rate":.055,"Effect Hit Rate":.034,"Effect RES":.073,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:16.71,ds:5.1000000000000005},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"SPD",value:11.419199999887496},substats:[{stat:"HP",value:33},{stat:"ATK",value:21.5921488},{stat:"CRIT Rate",value:6.1},{stat:"Effect RES",value:8.2}],id:"620a1f8e-ba95-47d9-99c1-8fd7713c7b10",augmentedStats:{mainStat:"SPD",mainValue:11.419199999887496,HP:33,ATK:21.5921488,"CRIT Rate":.061,"Effect RES":.08199999999999999,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:12.2,ss:12.299999999999999,ds:0},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"HP",value:38},{stat:"HP%",value:12.5},{stat:"SPD",value:5},{stat:"CRIT Rate",value:3.2}],id:"fe8aca62-7935-4897-ad02-fae126b720b1",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,HP:38,"HP%":.125,SPD:5,"CRIT Rate":.032,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:19.4,ss:31.75,ds:13},{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Ice DMG Boost",value:38.8803014298894},substats:[{stat:"DEF",value:74.0907055,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:5.508,scoreMeta:{multiplier:1,score:11.016}},{stat:"CRIT DMG",value:12.312,scoreMeta:{multiplier:1,score:12.312}},{stat:"Effect Hit Rate",value:4.32,scoreMeta:{multiplier:0,score:0}}],id:"80abbd56-b1a0-4587-a349-754c33627217",augmentedStats:{mainStat:"Ice DMG Boost",mainValue:.388803014298894,DEF:74.0907055,"CRIT Rate":.05508,"CRIT DMG":.12312,"Effect Hit Rate":.0432,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.3,ss:0,ds:6.48,equippedBy:"1212",cs:23.328,weightScore:38.97197099567099},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"ATK%",value:12.096},{stat:"DEF%",value:4.32},{stat:"Effect Hit Rate",value:4.32},{stat:"Break Effect",value:17.496000000000002}],id:"f89266f4-241e-43bc-b04a-a864eea60e49",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,"ATK%":.12096,"DEF%":.0432,"Effect Hit Rate":.0432,"Break Effect":.17496000000000003,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18,ss:5.184,ds:42.120000000000005,equippedBy:"1217",cs:0},{part:"PlanarSphere",set:"Broken Keel",enhance:15,grade:5,main:{stat:"DEF%",value:54.0000006789338},substats:[{stat:"HP%",value:8.208},{stat:"ATK%",value:3.888},{stat:"SPD",value:4},{stat:"Effect RES",value:11.664}],id:"16f7f4d9-5734-401f-b14f-2a74eaec9dcc",augmentedStats:{mainStat:"DEF%",mainValue:.540000006789338,"HP%":.08208,"ATK%":.03888,SPD:4,"Effect RES":.11664,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.1,ss:40.208,ds:16.232,cs:10.4},{part:"PlanarSphere",set:"Inert Salsotto",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"ATK",value:19.0518957},{stat:"CRIT Rate",value:6.4799999999999995},{stat:"CRIT DMG",value:17.496000000000002},{stat:"Effect RES",value:7.776}],id:"9714ef68-45e7-4f62-81f2-b437649d3a49",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,ATK:19.0518957,"CRIT Rate":.0648,"CRIT DMG":.17496000000000003,"Effect RES":.07776,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:30.2,ss:11.664,ds:0,equippedBy:"1205",cs:30.456000000000003},{part:"PlanarSphere",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"Physical DMG Boost",value:38.8803014298894},substats:[{stat:"SPD",value:2},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"CRIT DMG",value:23.328},{stat:"Effect RES",value:7.776}],id:"2340f351-b46e-4e11-87a2-732c5c887941",augmentedStats:{mainStat:"Physical DMG Boost",mainValue:.388803014298894,SPD:2,"CRIT Rate":.025919999999999995,"CRIT DMG":.23328,"Effect RES":.07776,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33.5,ss:16.864,ds:5.2,cs:33.712},{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Quantum DMG Boost",value:38.8803014298894},substats:[{stat:"ATK%",value:7.776},{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:4},{stat:"CRIT DMG",value:18.144}],id:"4806d951-5a01-48bb-876f-5368059a674d",augmentedStats:{mainStat:"Quantum DMG Boost",mainValue:.388803014298894,"ATK%":.07776,"DEF%":.0486,SPD:4,"CRIT DMG":.18144,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:40.050000000000004,ss:16.232,ds:22.064,equippedBy:"1102",cs:28.543999999999997},{part:"PlanarSphere",set:"Broken Keel",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"DEF",value:59.2725644},{stat:"DEF%",value:5.4},{stat:"CRIT DMG",value:5.183999999999999},{stat:"Effect Hit Rate",value:11.232000000000001}],id:"1735bd09-55f7-4023-866f-509dc716badf",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,DEF:59.2725644,"DEF%":.054000000000000006,"CRIT DMG":.05183999999999999,"Effect Hit Rate":.11232000000000002,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.183999999999999,ss:6.48,ds:16.848000000000003},{part:"PlanarSphere",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"Lightning DMG Boost",value:38.8803014298894},substats:[{stat:"ATK",value:59.2725644},{stat:"ATK%",value:8.208},{stat:"DEF%",value:5.4},{stat:"Effect Hit Rate",value:6.912}],id:"15d53aff-64cc-421f-837f-5ccfd55240b6",augmentedStats:{mainStat:"Lightning DMG Boost",mainValue:.388803014298894,ATK:59.2725644,"ATK%":.08208,"DEF%":.054000000000000006,"Effect Hit Rate":.06912,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.299999999999999,ss:6.48,ds:22.68,equippedBy:"1005",cs:0},{part:"PlanarSphere",set:"Broken Keel",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"HP",value:67.7400784},{stat:"ATK",value:38.1037914},{stat:"DEF%",value:9.719999999999999},{stat:"Effect Hit Rate",value:6.912}],id:"86816eed-af3c-441e-9379-22aca07bc15f",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,HP:67.7400784,ATK:38.1037914,"DEF%":.0972,"Effect Hit Rate":.06912,"HP%":0,"ATK%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.663999999999998,ds:10.368,equippedBy:"1101",cs:0},{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Ice DMG Boost",value:38.8803014298894},substats:[{stat:"DEF",value:40.2206687},{stat:"SPD",value:9},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"Effect Hit Rate",value:3.456}],id:"1e00ea87-98be-4601-a1b6-90eed8929758",augmentedStats:{mainStat:"Ice DMG Boost",mainValue:.388803014298894,DEF:40.2206687,SPD:9,"CRIT Rate":.025919999999999995,"Effect Hit Rate":.03456,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.400000000000002,ss:23.400000000000002,ds:28.584000000000003,cs:28.584000000000003,weightScore:38.670727111935676},{part:"PlanarSphere",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"Quantum DMG Boost",value:38.8803014298894},substats:[{stat:"HP%",value:7.344},{stat:"ATK%",value:6.912},{stat:"CRIT Rate",value:9.072},{stat:"CRIT DMG",value:5.832}],id:"030acc28-213c-4913-b527-fd5e4242ade5",augmentedStats:{mainStat:"Quantum DMG Boost",mainValue:.388803014298894,"HP%":.07344,"ATK%":.06912,"CRIT Rate":.09072,"CRIT DMG":.05832,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.150000000000006,ss:11.016,ds:10.368,cs:23.976},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"DEF%",value:44.9280005414036},substats:[{stat:"DEF",value:61.3894417},{stat:"HP%",value:3.888},{stat:"ATK%",value:8.64},{stat:"SPD",value:2}],id:"687f3295-1bfa-4349-b529-68145a681f3d",augmentedStats:{mainStat:"DEF%",mainValue:.449280005414036,DEF:61.3894417,"HP%":.03888,"ATK%":.0864,SPD:2,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18.099999999999998,ss:11.032,ds:18.16,cs:5.2},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"HP",value:33.8700392},{stat:"HP%",value:7.344},{stat:"Effect Hit Rate",value:8.208},{stat:"Break Effect",value:12.959999999999999}],id:"f838c821-addf-477a-97e7-605a00417a80",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,HP:33.8700392,"HP%":.07344,"Effect Hit Rate":.08208,"Break Effect":.1296,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.016,ds:25.272,cs:0},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"HP",value:122.7788921},{stat:"ATK",value:38.1037914},{stat:"HP%",value:4.32},{stat:"CRIT DMG",value:6.4799999999999995}],id:"2576e256-b473-481b-9e69-5e5ce2641f1a",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,HP:122.7788921,ATK:38.1037914,"HP%":.0432,"CRIT DMG":.0648,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:6.4,ss:6.48,ds:0,equippedBy:"1202",cs:6.4799999999999995},{part:"PlanarSphere",set:"Sprightly Vonwacq",enhance:12,grade:5,main:{stat:"HP%",value:35.9424005728218},substats:[{stat:"DEF",value:21.168773},{stat:"ATK%",value:8.64},{stat:"CRIT Rate",value:5.832},{stat:"Effect RES",value:8.208}],id:"29ec4a4e-a2d1-470b-8898-4271e5d58801",augmentedStats:{mainStat:"HP%",mainValue:.35942400572821803,DEF:21.168773,"ATK%":.0864,"CRIT Rate":.05832,"Effect RES":.08208,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:12.312000000000001,ds:12.96,cs:11.664},{part:"PlanarSphere",set:"Rutilant Arena",enhance:12,grade:5,main:{stat:"Ice DMG Boost",value:32.348401146008996},substats:[{stat:"ATK",value:38.1037914},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT Rate",value:6.156},{stat:"Break Effect",value:5.832}],id:"6ea90a16-c508-400a-84e5-956be061dd81",augmentedStats:{mainStat:"Ice DMG Boost",mainValue:.32348401146009,ATK:38.1037914,"DEF%":.09180000000000002,"CRIT Rate":.06156,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.2,ss:11.016000000000002,ds:5.832,cs:12.312},{part:"PlanarSphere",set:"Rutilant Arena",enhance:12,grade:5,main:{stat:"Quantum DMG Boost",value:32.348401146008996},substats:[{stat:"ATK",value:21.168773},{stat:"ATK%",value:7.344},{stat:"DEF%",value:10.26},{stat:"CRIT Rate",value:6.156}],id:"f6f59c42-c75d-4b13-8630-cf4030317fb6",augmentedStats:{mainStat:"Quantum DMG Boost",mainValue:.32348401146009,ATK:21.168773,"ATK%":.07344,"DEF%":.1026,"CRIT Rate":.06156,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.15,ss:12.312,ds:11.016,cs:12.312},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"HP",value:42},{stat:"ATK%",value:11.2},{stat:"DEF%",value:5.4},{stat:"Effect Hit Rate",value:3.4}],id:"bc8d6ec2-f7ce-46b5-99bd-f9abcb5cd7d3",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,HP:42,"ATK%":.11199999999999999,"DEF%":.054000000000000006,"Effect Hit Rate":.034,"HP%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:6.48,ds:21.9},{part:"PlanarSphere",set:"Belobog of the Architects",enhance:9,grade:3,main:{stat:"DEF%",value:21.5135999489572},substats:[{stat:"DEF",value:52},{stat:"HP%",value:7.7},{stat:"Effect RES",value:3.4},{stat:"Break Effect",value:6.4}],id:"1d4bfa56-f16b-4380-8124-481ef3c284f2",augmentedStats:{mainStat:"DEF%",mainValue:.215135999489572,DEF:52,"HP%":.077,"Effect RES":.034,"Break Effect":.064,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:16.650000000000002,ds:6.4},{part:"PlanarSphere",set:"Broken Keel",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"HP",value:33},{stat:"ATK",value:19},{stat:"Effect Hit Rate",value:7.3},{stat:"Effect RES",value:6.9}],id:"5968a21b-6035-45f7-8347-3445cb23dd48",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,HP:33,ATK:19,"Effect Hit Rate":.073,"Effect RES":.069,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:10.350000000000001,ds:10.95},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:80.4413431,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:8.424,scoreMeta:{multiplier:1,score:16.8}},{stat:"CRIT DMG",value:10.367999999999999,scoreMeta:{multiplier:1,score:10.3}},{stat:"Break Effect",value:5.832,scoreMeta:{multiplier:0,score:0}}],id:"c521dc03-6c6e-45ef-9933-811367312441",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:80.4413431,"CRIT Rate":.08424,"CRIT DMG":.10367999999999998,"Break Effect":.05832,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.1,ss:0,ds:5.832,equippedBy:"1212",cs:27.215999999999998,weightScore:37.249627926047566},{part:"LinkRope",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"ATK",value:38.1037914},{stat:"DEF",value:21.168773},{stat:"DEF%",value:15.659999999999998},{stat:"Break Effect",value:12.312}],id:"e1650ead-9ec8-4e2a-9ab9-c4199e1b609c",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,ATK:38.1037914,DEF:21.168773,"DEF%":.1566,"Break Effect":.12312,"HP%":0,"ATK%":0,"SPD%":0,HP:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:18.791999999999998,ds:12.312,equippedBy:"1217",cs:0},{part:"LinkRope",set:"Inert Salsotto",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"CRIT Rate",value:6.156},{stat:"Effect Hit Rate",value:7.344},{stat:"Effect RES",value:8.208},{stat:"Break Effect",value:12.312}],id:"426a1d2d-c361-42d0-a7d6-5001755c220d",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,"CRIT Rate":.06156,"Effect Hit Rate":.07344,"Effect RES":.08208,"Break Effect":.12312,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.2,ss:12.312000000000001,ds:23.328,equippedBy:"1205",cs:12.312},{part:"LinkRope",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"DEF",value:35.9869141},{stat:"ATK%",value:7.776},{stat:"DEF%",value:14.04},{stat:"SPD",value:2}],id:"9c66993a-07b4-4994-8bb5-86507e6ba49b",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,DEF:35.9869141,"ATK%":.07776,"DEF%":.1404,SPD:2,"HP%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.75,ss:22.048,ds:16.864,equippedBy:"1202",cs:5.2},{part:"LinkRope",set:"Belobog of the Architects",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"ATK%",value:14.688},{stat:"DEF%",value:5.4},{stat:"Effect Hit Rate",value:7.776},{stat:"Break Effect",value:5.183999999999999}],id:"f751b41e-8099-4b80-94c1-a86d264ca8bd",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,"ATK%":.14688,"DEF%":.054000000000000006,"Effect Hit Rate":.07776,"Break Effect":.05183999999999999,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.9,ss:6.48,ds:38.879999999999995,cs:0},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"SPD",value:2},{stat:"CRIT DMG",value:18.144},{stat:"Effect Hit Rate",value:7.344},{stat:"Effect RES",value:7.776}],id:"c32194b9-dddc-47de-853e-17ac8b8f61a4",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,SPD:2,"CRIT DMG":.18144,"Effect Hit Rate":.07344,"Effect RES":.07776,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.3,ss:16.864,ds:16.216,equippedBy:"1102",cs:23.343999999999998,weightScore:46.007999999999996},{part:"LinkRope",set:"Broken Keel",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"HP%",value:15.984000000000002},{stat:"ATK%",value:3.888},{stat:"CRIT Rate",value:3.2399999999999998},{stat:"CRIT DMG",value:17.496000000000002}],id:"5788b45d-6d75-4189-9689-872fd84280f7",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,"HP%":.15984,"ATK%":.03888,"CRIT Rate":.0324,"CRIT DMG":.17496000000000003,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:29.5,ss:23.976000000000003,ds:5.832,equippedBy:"1101",cs:23.976000000000003},{part:"LinkRope",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:38.1037941},{stat:"ATK",value:63.506319},{stat:"SPD",value:5},{stat:"Effect Hit Rate",value:8.208}],id:"c46c97d3-0cc6-4ac9-8b0d-2d5ad0f0a0e7",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:38.1037941,ATK:63.506319,SPD:5,"Effect Hit Rate":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:13,ss:13,ds:25.312,equippedBy:"1005",cs:13},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF%",value:10.8},{stat:"CRIT Rate",value:9.072},{stat:"Effect Hit Rate",value:6.912},{stat:"Break Effect",value:6.4799999999999995}],id:"9dc0a37b-9c62-4c1a-80f9-3edd769b0e68",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,"DEF%":.10800000000000001,"CRIT Rate":.09072,"Effect Hit Rate":.06912,"Break Effect":.0648,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18,ss:12.96,ds:16.848,cs:18.144,weightScore:47.95199999999999},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:38.1037941},{stat:"DEF%",value:10.8},{stat:"CRIT DMG",value:18.792},{stat:"Effect RES",value:7.776}],id:"b63d8cc1-3b84-476f-b8f7-ea31e0a83dbc",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:38.1037941,"DEF%":.10800000000000001,"CRIT DMG":.18792,"Effect RES":.07776,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18.7,ss:24.624000000000002,ds:0,cs:18.792,weightScore:45.40624480707517},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"ATK",value:35.9869141,scoreMeta:{multiplier:.75,score:2.9806283212960496}},{stat:"HP%",value:3.456,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT DMG",value:5.183999999999999,scoreMeta:{multiplier:1,score:5.183999999999999}},{stat:"Effect RES",value:15.984000000000002,scoreMeta:{multiplier:0,score:0}}],id:"7d1bb971-e351-47ee-9ab9-3c605386b6f8",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,ATK:35.9869141,"HP%":.03456,"CRIT DMG":.05183999999999999,"Effect RES":.15984,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1,ss:29.160000000000004,ds:0,cs:5.183999999999999,weightScore:38.318171095061395},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"HP",value:38.1037941},{stat:"ATK",value:78.3244601},{stat:"ATK%",value:7.776},{stat:"CRIT DMG",value:11.664}],id:"fce0a251-7922-469e-a3e6-b63783177cbf",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,HP:38.1037941,ATK:78.3244601,"ATK%":.07776,"CRIT DMG":.11664,"HP%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.15,ss:0,ds:11.664,cs:11.664},{part:"LinkRope",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"HP",value:33.8700392},{stat:"ATK",value:57.1556871},{stat:"DEF%",value:5.4},{stat:"CRIT DMG",value:17.496000000000002}],id:"4de09d13-9ab5-48c0-8552-c99e0961c6d7",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,HP:33.8700392,ATK:57.1556871,"DEF%":.054000000000000006,"CRIT DMG":.17496000000000003,"HP%":0,"ATK%":0,"SPD%":0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.4,ss:6.48,ds:0,cs:17.496000000000002},{part:"LinkRope",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"SPD",value:4},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect RES",value:7.344},{stat:"Break Effect",value:18.144}],id:"5336ce8e-c6be-426f-9e6b-cbdf058d7eb8",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,SPD:4,"CRIT DMG":.0648,"Effect RES":.07344,"Break Effect":.18144,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.8,ss:21.416,ds:28.543999999999997,cs:16.88},{part:"LinkRope",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF",value:38.1037914},{stat:"DEF%",value:17.82},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"Effect RES",value:3.456}],id:"507b39d1-d464-4b88-a968-074059a16326",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,DEF:38.1037914,"DEF%":.1782,"CRIT Rate":.025919999999999995,"Effect RES":.03456,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5,ss:26.568,ds:0,cs:5.183999999999999},{part:"LinkRope",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"DEF%",value:44.9280005414036},substats:[{stat:"DEF",value:38.1037914},{stat:"HP%",value:4.32},{stat:"ATK%",value:3.888},{stat:"Effect Hit Rate",value:15.552}],id:"13562a04-2e82-44a6-acee-42500b505634",augmentedStats:{mainStat:"DEF%",mainValue:.449280005414036,DEF:38.1037914,"HP%":.0432,"ATK%":.03888,"Effect Hit Rate":.15552,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.699999999999999,ss:6.48,ds:29.16,cs:0},{part:"LinkRope",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"Energy Regeneration Rate",value:16.1736014066265},substats:[{stat:"DEF",value:16.9350184},{stat:"DEF%",value:9.719999999999999},{stat:"CRIT Rate",value:3.2399999999999998},{stat:"Effect RES",value:12.096}],id:"1364b4d9-1dc2-4ea9-973c-5508c5676a78",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.161736014066265,DEF:16.9350184,"DEF%":.0972,"CRIT Rate":.0324,"Effect RES":.12096,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:6.4,ss:29.807999999999996,ds:0,cs:6.4799999999999995},{part:"LinkRope",set:"Space Sealing Station",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"HP%",value:15.552},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT DMG",value:5.183999999999999},{stat:"Break Effect",value:6.4799999999999995}],id:"439c6e66-9371-4872-a5dc-916756a46a99",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,"HP%":.15552,"DEF%":.09180000000000002,"CRIT DMG":.05183999999999999,"Break Effect":.0648,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1,ss:34.344,ds:6.4799999999999995,cs:5.183999999999999},{part:"LinkRope",set:"Space Sealing Station",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"ATK",value:19.0518957},{stat:"HP%",value:7.776},{stat:"Effect Hit Rate",value:11.664},{stat:"Break Effect",value:5.183999999999999}],id:"24e5659e-51f5-428d-83b7-0daa994ecf97",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,ATK:19.0518957,"HP%":.07776,"Effect Hit Rate":.11664,"Break Effect":.05183999999999999,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.664,ds:22.68,cs:0},{part:"LinkRope",set:"Rutilant Arena",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"ATK",value:40.2206687},{stat:"DEF",value:40.2206687},{stat:"CRIT DMG",value:11.664},{stat:"Effect Hit Rate",value:3.888}],id:"3aac125b-f436-4a66-bc76-124bccee2190",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,ATK:40.2206687,DEF:40.2206687,"CRIT DMG":.11664,"Effect Hit Rate":.03888,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.6,ss:0,ds:5.832,cs:11.664},{part:"LinkRope",set:"Broken Keel",enhance:9,grade:3,main:{stat:"Energy Regeneration Rate",value:7.7450001612309},substats:[{stat:"DEF",value:19},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:7.7},{stat:"Effect RES",value:4.3}],id:"563780c9-ac0a-4c54-98fa-2c24883f633b",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.077450001612309,DEF:19,SPD:4,"Effect Hit Rate":.077,"Effect RES":.043,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:10.4,ss:16.85,ds:21.950000000000003},{part:"LinkRope",set:"Broken Keel",enhance:9,grade:3,main:{stat:"Energy Regeneration Rate",value:7.7450001612309},substats:[{stat:"HP",value:38},{stat:"ATK%",value:12.5},{stat:"CRIT DMG",value:10.3},{stat:"Effect RES",value:4.3}],id:"bc344db6-5740-44ed-9858-46f15000d4a8",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.077450001612309,HP:38,"ATK%":.125,"CRIT DMG":.10300000000000001,"Effect RES":.043,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:10.3,ss:6.449999999999999,ds:18.75},{part:"LinkRope",set:"Rutilant Arena",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"DEF",value:40},{stat:"CRIT Rate",value:5.5},{stat:"Effect Hit Rate",value:3.8},{stat:"Effect RES",value:3.4}],id:"802a690c-b6be-4c91-8551-c79c4fe019d1",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,DEF:40,"CRIT Rate":.055,"Effect Hit Rate":.038,"Effect RES":.034,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:5.1000000000000005,ds:5.699999999999999},{part:"LinkRope",set:"Rutilant Arena",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"ATK%",value:7.7},{stat:"CRIT Rate",value:5.8},{stat:"CRIT DMG",value:6.4},{stat:"Break Effect",value:11}],id:"13ec2e5b-6f28-40b2-b85a-72a862499671",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,"ATK%":.077,"CRIT Rate":.057999999999999996,"CRIT DMG":.064,"Break Effect":.11,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:18,ss:0,ds:22.55},{part:"LinkRope",set:"Inert Salsotto",enhance:9,grade:3,main:{stat:"Energy Regeneration Rate",value:7.7450001612309},substats:[{stat:"DEF",value:16},{stat:"DEF%",value:10.2},{stat:"Effect Hit Rate",value:8.6},{stat:"Effect RES",value:7.7}],id:"6a81c65c-861d-4568-8373-d0a4ffe52989",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.077450001612309,DEF:16,"DEF%":.102,"Effect Hit Rate":.086,"Effect RES":.077,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:23.79,ds:12.899999999999999}],bg=[{id:"1212",form:{characterId:"1212",characterLevel:80,characterEidolon:1,lightCone:"23014",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["CRIT DMG"],mainFeet:["SPD"],mainPlanarSphere:["Ice DMG Boost"],mainLinkRope:["ATK%"],ornamentSets:["Rutilant Arena"],relicSets:[["4 Piece","Hunter of Glacial Forest"]],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:134,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minCv:0,maxCv:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:3.12,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,mainStatUpscaleLevel:12,keepCurrentRelics:!1,enhance:15,grade:5,mainHead:[],mainHands:[],setConditionals:{"Passerby of Wandering Cloud":[null,!0],"Musketeer of Wild Wheat":[null,!0],"Knight of Purity Palace":[null,!0],"Hunter of Glacial Forest":[null,!0],"Champion of Streetwise Boxing":[null,5],"Guard of Wuthering Snow":[null,!0],"Firesmith of Lava-Forging":[null,!0],"Genius of Brilliant Stars":[null,!0],"Band of Sizzling Thunder":[null,!0],"Eagle of Twilight Line":[null,!0],"Thief of Shooting Meteor":[null,!0],"Wastelander of Banditry Desert":[null,0],"Longevous Disciple":[null,2],"Messenger Traversing Hackerspace":[null,!0],"The Ashblazing Grand Duke":[null,0],"Prisoner in Deep Confinement":[null,0],"Space Sealing Station":[null,!0],"Fleet of the Ageless":[null,!0],"Pan-Cosmic Commercial Enterprise":[null,!0],"Belobog of the Architects":[null,!0],"Celestial Differentiator":[null,!1],"Inert Salsotto":[null,!0],"Talia: Kingdom of Banditry":[null,!0],"Sprightly Vonwacq":[null,!0],"Rutilant Arena":[null,!0],"Broken Keel":[null,!0],"Firmament Frontline: Glamoth":[null,!0],"Penacony, Land of the Dreams":[null,!0]},characterConditionals:{talentEnhancedState:!0,talentHpDrainAtkBuff:1.8,e1CdBuff:!0,e2SkillDmgBuff:!0},lightConeConditionals:{eclipseStacks:3,maxStackDefPen:!0},enemyLevel:95,enemyCount:1,enemyResistance:.2,enemyMaxToughness:360,enemyElementalWeak:!0,enemyWeaknessBroken:!1,statDisplay:"base",weights:{"ATK%":1,"DEF%":1,"HP%":1,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":1,"Effect RES":1,"Break Effect":1,topPercent:100,ATK:1,DEF:1,HP:1},minWeight:0,maxWeight:2147483647,minBasic:0,maxBasic:2147483647,minSkill:0,maxSkill:2147483647,minUlt:0,maxUlt:2147483647,minFua:0,maxFua:2147483647,minDot:0,maxDot:2147483647,buffSpd:0,buffSpdP:0,buffBe:0,buffDmgBoost:0,buffDefShred:0,buffResPen:0},equipped:{Head:"cd85c14c-a662-4413-a149-a379e6d538d3",Hands:"798657c8-5c5c-4b44-9c5f-f5f094414289",Body:"b3376a19-62f9-489e-80e6-8f98335af158",Feet:"92c53d06-80d0-43a8-b896-2feeda419674",PlanarSphere:"80abbd56-b1a0-4587-a349-754c33627217",LinkRope:"c521dc03-6c6e-45ef-9933-811367312441"},rank:0},{id:"1005",form:{characterId:"1005",characterLevel:80,characterEidolon:0,lightCone:"21022",lightConeLevel:80,lightConeSuperimposition:5,mainBody:["ATK%"],mainFeet:["SPD"],mainPlanarSphere:["Lightning DMG Boost"],mainLinkRope:["ATK%"],relicSets:[["4 Piece","Band of Sizzling Thunder"]],ornamentSets:["Space Sealing Station"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:130,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"354bde06-a10b-4449-8365-16f0dcac7b88",Hands:"81a06240-1434-4b48-b7c4-cedbca15ff50",Body:"dd7d21eb-5a85-466e-a7a3-98fc6f63e546",Feet:"53a00fa5-22a9-40bc-948b-8469d6e248ec",PlanarSphere:"15d53aff-64cc-421f-837f-5ccfd55240b6",LinkRope:"c46c97d3-0cc6-4ac9-8b0d-2d5ad0f0a0e7"},rank:1},{id:"1102",form:{characterId:"1102",characterLevel:80,characterEidolon:0,lightCone:"24001",lightConeLevel:80,lightConeSuperimposition:5,mainBody:["CRIT DMG","CRIT Rate"],mainFeet:["ATK%"],mainPlanarSphere:["Quantum DMG Boost"],mainLinkRope:["ATK%"],relicSets:[["4 Piece","Genius of Brilliant Stars"]],ornamentSets:["Rutilant Arena"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:130,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"eda5ede8-dfaa-4fa9-b2c2-17011ed0abe6",Hands:"d0b2b781-33dc-4029-b875-81ecbc659466",Body:"4b8dafeb-6f5a-410c-bcbc-4caaef116af2",Feet:"9d68a932-b623-4ac7-bd0a-7c54779b64fb",PlanarSphere:"4806d951-5a01-48bb-876f-5368059a674d",LinkRope:"c32194b9-dddc-47de-853e-17ac8b8f61a4"},rank:2},{id:"1217",form:{characterId:"1217",characterLevel:80,characterEidolon:0,lightCone:"21000",lightConeLevel:80,lightConeSuperimposition:4,mainBody:["Outgoing Healing Boost"],mainFeet:["SPD"],mainPlanarSphere:["HP%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[["4 Piece","Passerby of Wandering Cloud"]],ornamentSets:["Fleet of the Ageless"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:130,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"0bd7404f-3420-4bf5-9e45-f79343728685",Hands:"9b3f7f9b-b394-4c87-af67-0f4f7e41a6a8",Body:"725e6ee5-9465-45a2-8172-ed69241c1e54",Feet:"f8d42acd-c848-484a-9eee-d03a7b88f030",PlanarSphere:"f89266f4-241e-43bc-b04a-a864eea60e49",LinkRope:"e1650ead-9ec8-4e2a-9ab9-c4199e1b609c"},rank:3},{id:"1205",form:{characterId:"1205",characterLevel:80,characterEidolon:0,lightCone:"21012",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["CRIT Rate","CRIT DMG"],mainFeet:["SPD"],mainPlanarSphere:["Wind DMG Boost","HP%"],mainLinkRope:["HP%"],relicSets:[["4 Piece","Longevous Disciple"]],ornamentSets:["Inert Salsotto"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:134,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"e898e418-bc4e-404d-be3f-2477dec9839a",Hands:"71b088e8-e254-4219-96d5-f56cde1702d3",Body:"7cdd90c6-73fc-4a5f-9cea-6458d5e6f456",Feet:"726e7b1f-f630-4182-ac11-1e8523a33fc1",PlanarSphere:"9714ef68-45e7-4f62-81f2-b437649d3a49",LinkRope:"426a1d2d-c361-42d0-a7d6-5001755c220d"},rank:4},{id:"1202",form:{characterId:"1202",characterLevel:80,characterEidolon:6,lightCone:"21032",lightConeLevel:80,lightConeSuperimposition:4,mainBody:["HP%","ATK%"],mainFeet:["SPD"],mainPlanarSphere:["HP%","ATK%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[["4 Piece","Musketeer of Wild Wheat"]],ornamentSets:["Fleet of the Ageless"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:140,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Hands:"67999399-0a5f-4a94-9267-32c42a7fbbe5",Body:"cd8b362d-24e4-4427-b09e-2666c1fb97b4",Feet:"ac206198-c5b1-4be7-8dda-0d7b85e1aabf",PlanarSphere:"2576e256-b473-481b-9e69-5e5ce2641f1a",LinkRope:"9c66993a-07b4-4994-8bb5-86507e6ba49b"},rank:5},{id:"1101",form:{characterId:"1101",characterLevel:80,characterEidolon:1,lightCone:"23003",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["CRIT DMG","HP%"],mainFeet:["SPD"],mainPlanarSphere:["HP%","DEF%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[["2 Piece","Eagle of Twilight Line"]],ornamentSets:["Fleet of the Ageless","Broken Keel"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:134,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"8de51c73-36b5-40ea-91a2-e566d97da2a9",Feet:"dd1bb72d-80f3-432c-b8d9-0b62c7790b9a",PlanarSphere:"86816eed-af3c-441e-9379-22aca07bc15f",LinkRope:"5788b45d-6d75-4189-9689-872fd84280f7"},rank:6},{id:"1105",form:{characterId:"1105",characterLevel:80,characterEidolon:6,lightCone:"21007",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["Outgoing Healing Boost"],mainFeet:["SPD"],mainPlanarSphere:["HP%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[],ornamentSets:[],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:0,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{},rank:7}],hg={relics:mg,characters:bg},pg=()=>{const{t:e}=K(["getStartedTab","common"]),t=window.store(s=>s.gettingStartedDrawerOpen),n=window.store(s=>s.setGettingStartedDrawerOpen);function l(){I.setStore(JSON.parse(JSON.stringify(hg)),!1),Te.save(),_.success(e("TryOut.SuccessMessage"))}return i.jsx(_n,{title:e("TryOut.Header"),placement:"right",onClose:()=>n(!1),open:t,width:250,children:i.jsxs(S,{vertical:!0,gap:20,children:[i.jsx(Pt,{text:e("TryOut.DocumentationTitle"),linkIcon:!0,url:"https://github.com/fribbels/hsr-optimizer/blob/main/docs/guides/en/optimizer.md"}),i.jsx(yn,{title:e("common:Confirm"),description:e("TryOut.description"),onConfirm:l,placement:"bottom",okText:e("common:Yes"),cancelText:e("common:Cancel"),children:i.jsx(z,{type:"primary",icon:i.jsx(ts,{}),style:{width:200},children:e("TryOut.ButtonText")})})]})})},Sg=()=>{const{t:e}=K("common",{keyPrefix:"Stats"}),{t}=K("optimizerTab",{keyPrefix:"TracesDrawer"}),n=window.store(C=>C.statTracesDrawerOpen),l=window.store(C=>C.setStatTracesDrawerOpen),s=window.store.getState().statTracesDrawerFocusCharacter,[o,r]=E.useState([]),[c,d]=E.useState([]),[u,b]=E.useState(!1),p=E.useMemo(()=>{if(s){const C=I.getScoringMetadata(s),D=I.getMetadata().characters[s].traceTree,V=[...D],M=[];for(;V.length;){const x=V.pop();for(const W of x.children)V.push(W);M.push(x.id)}if(r(M),C.traces){const x=C.traces.deactivated??[],W=M.filter(H=>!x.includes(H));d(W)}else d(M);return D}return[]},[s]),R={},G=[...p];for(;G.length;){const C=G.pop();for(const D of C.children)G.push(D);R[C.id]=C}const T=(C,D)=>{let V=C.checked;const M=R[D.node.key];if(M){if(D.checked){let x=M.id;for(;x;){const H=R[x];if(!H)break;V=Array.from(new Set([...V,H.id])),x=H.pre}const W=[M];for(;W.length;){const H=W.pop();V=Array.from(new Set([...V,H.id]));for(const O of H.children)W.push(O)}}else{const x=[M];for(;x.length;){const W=x.pop();V=V.filter(H=>H!==W.id);for(const H of W.children)x.push(H)}}d(V)}};return i.jsx(_n,{title:t("Title"),placement:"right",onClose:()=>l(!1),open:n,width:400,forceRender:!0,children:i.jsxs(S,{vertical:!0,gap:15,style:{display:s?"flex":"none"},children:[i.jsx($,{children:t("Header")}),i.jsx($m,{checkable:!0,checkStrictly:!0,showLine:!0,expandedKeys:o,selectable:!1,onCheck:T,checkedKeys:c,fieldNames:{title:"stat",key:"id",children:"children"},defaultExpandParent:!0,defaultExpandAll:!0,switcherIcon:i.jsx(qm,{}),treeData:p,titleRender:C=>i.jsxs(S,{gap:0,align:"center",children:[i.jsx("img",{src:k.getStatIcon(C.stat),style:{height:20,marginLeft:-6,marginRight:4}}),i.jsx("div",{style:{whiteSpace:"pre-wrap"},children:`${B.isFlat(C.stat)?C.value:B.precisionRound(C.value*100)+"%"} - ${e(C.stat)}`})]}),style:{padding:8}}),i.jsx(z,{block:!0,type:"primary",loading:u,onClick:()=>{if(!s)return;b(!0);const D=Object.keys(R).filter(M=>!c.includes(M)),V=I.getScoringMetadata(s);V.traces={deactivated:D},I.updateCharacterScoreOverrides(s,V),setTimeout(()=>{_.success("Saved"),b(!1),Te.delayedSave(),l(!1)},500)},children:t("ButtonText")})]})})},{useToken:Rg}=Bt,{Text:fg}=ye;function Gg(){const{token:e}=Rg(),t=window.store(s=>s.activeKey),n=E.useMemo(()=>gg(),[]);if(t!=de.CHANGELOG)return i.jsx(i.Fragment,{});function l(s,o){const r=[];let c=0;for(const u of s)u.endsWith(".webp")?r.push(i.jsx("img",{src:k.getChangelog(`${o.date}/${u}`),loading:"lazy",style:{border:`2px solid ${e.colorBgContainer}`,margin:5,maxWidth:1200}},c++)):u.startsWith("https")?r.push(i.jsx("li",{children:i.jsx(Pt,{text:u,url:u},c++)},c++)):r.push(i.jsx("li",{children:i.jsx(fg,{style:{fontSize:16},children:u})},c++));const d=o.date!=""?`Update ${o.date}`:o.title;return i.jsxs(S,{vertical:!0,children:[i.jsx(ye.Title,{style:{marginLeft:20},children:i.jsx("u",{children:d})}),i.jsx("ul",{children:r})]})}return i.jsx(z0,{itemLayout:"vertical",size:"large",pagination:{onChange:s=>{console.log(s)},position:"bottom",align:"start",pageSize:4},dataSource:n,renderItem:s=>i.jsx(z0.Item,{children:l(s.content,s)},s.title)})}function gg(){const e=[{title:`Current data version: ${On}`,date:"",content:[]},{title:"",date:"2025-03-10",content:["Updated content to 3.2v3","Added a DPS Score progress meter to visualize the scoring benchmarks and the damage increments between them","meter.webp","Updated main stat / substat upgrade tables on the DPS Score analysis page","The main stat upgrades now show the damage difference on downgrades as well","upgrade.webp","Updated warp income options to v3.2","income.webp","Added a New / Rerun banner selector to the Warp Planner page","When Rerun is selected, the current eidolon and superimposition options are shown","rerun.webp","Optimizer stat upgrades are now shown as an additional max stat roll instead of min roll","maxRoll.webp","Added a new Relics tab column for Reroll average delta potential vs currently equipped relics","This column can be used to sort by the most likely upgrades to a character's current relics","vs.webp","The Combat buffs menu will now show ability scalings by the scaling stat","scaling.webp","Relic displays will now accurately show previously ambiguous roll counts on relics verified by the Showcase page or Reliquary Archiver","roll.webp","Toughness measurement displays are now updated to 10 per basic atk instead of 30 per basic atk, no functional changes","Selecting Trailblazers on character menus will now default to E6","Improved performance of GPU optimization engine","Improved performance of CPU optimization engine on Firefox","Light cone effects will no longer activate when its path is mismatched with the character","Fix: Acheron's trace will now automatically update based on the number of Nihility teammates","Fix: Sparkle's trace will now automatically update based on the number of Quantum teammates","Fix: The Herta's trace will now automatically update based on the number of Erudition teammates","Fix: Poised To Bloom light cone will now automatically update based on teammates' paths","Fix: Izumo Gensei and Takama Divine Realm set will automatically update based on teammates' paths","Fix: On-Hit ATK / CR / CD boosting abilities will now no longer count towards filters and conditional activations, e.g. Ruan Mei E2, Acheron's E1","Fix: E6 Sparkle now correctly buffs memosprites","Fix: Penacony, Land of the Dreams set will now correctly buff the wearer's memosprite","Fix: Rappa's break vulnerability now correctly applies to memosprites","Fix: Long Road Leads Home light cone break vulnerability now correctly applies to memosprites","Fix: Buff priority no longer disables Castorice and her memosprite's self buffs","Fix: Clicking substat upgrades on the Edit Relic menu will now upgrade to the nearest 3, instead of adding 3","Balance: Mydei's benchmark now defaults to Bone Collection's Serene Demesne set","Balance: Acheron's simulated benchmarks can now also optimize with ATK % body"]},{title:"",date:"2025-02-25",content:["Updated content to v3.2v1","Added Castorice showcase","castorice.webp","Added Anaxa showcase","anaxa.webp","Fix: Improved GPU optimization performance and faster compile times","Fix: Combo DMG optimization on GPU on Mac no longer crashes"]},{title:"",date:"2025-02-21",content:["Added an Optimization Results Analysis panel with in depth information & comparisons for optimizer results","analysis.webp","Enabled i18n support for Korean","Enabled i18n support for Vietnamese","vnkr.webp","Added a display for tracking sources of combat buffs on the showcase analysis and optimizer analysis","buffs.webp","Improved the additional warp resources selector to include warp income per half patch","income.webp","Added an overwrite button to the custom stats simulation tool, to edit and replace an existing simulation","replace.webp","UID is now shown by default on the character showcase","uid.webp","Added a UID show / hide selector on the showcase customization toolbar","showUid.webp","Added an importer option to only import characters that are already in the optimizer","import.webp","Bronya / Remembrance Trailblazer / Sunday Crit DMG limits are increased to 400% on optimizer conditionals","cd.webp","The optimizer now selects the character's currently equipped relics for stat display and the analysis panel",'Character scores are now set to "?" ranking for non-6 piece builds and missing light cones',"Improved UI performance for loading showcases","Optimization performance improvements for CPU engine","Fix: Forcing weakness break from certain character conditionals now also correctly applies the global weakness broken DMG multiplier","Fix: Optimizer input changes now save correctly after page refresh","Fix: Aglaea and Remembrance Trailblazer conditionals now enable The Wondrous BananAmusement Park set by default","Fix: Memosprites now correctly receive SPD buffs","Fix: Memosprites now correctly calculate Super Break DMG","Fix: Additional DMG instances now correctly get calculated without ability-type DMG boosts","Fix: Tribbie E1 now correctly applies to the entire team","Fix: True DMG now correctly applies to DOT and Break DMG instances","Fix: Home page UID input now searches on Enter key press","Fix: Damage upgrades will no longer recommend an existing main stat","Fix: Damage upgrades will no longer recommend other ropes when the benchmark is matching Energy Regen rope","Fix: Mydei now correctly uses basic HP for conversion instead of combat HP","Fix: Sacerdos' Relived Ordeal set now syncs correctly on optimizer teammates","Fix: Bone Collection's Serene Demesne and Giant Tree of Rapt Brooding sets are now applied correctly in SubDPS scoring mode","Balance: Argenti's benchmarks now equalize for Energy Regen rope","Balance: Tribbie's SPD weight updated 0 -> 1.0 again after buffs","Balance: Tribbie's benchmarks now use Genius of Brilliant Stars by default, while matching the user's Poet of Mourning Collapse set","Balance: Tribbie's combo rotation now uses 4 -> 3 FUAs","Balance: Blade's default benchmark set is now Bone Collection's Serene Demesne"]},{title:"",date:"2025-01-26",content:["Updated content to version 3.1v3","Added a Warp Planner tab for calculating warp probabilities","warp.webp","Added a new customization sidebar for showcase scoring and stat views","stats.webp","Stat trace trees can now be customized, allowing SPD traces to be disabled for Poet of Mourning Collapse sets for example","trace.webp","The SPD precision selector will allow for toggling between 1 and 3 decimal places for SPD displays for precise SPD tuning","Modified traces will show with an asterisk *","spd.webp","The SPD weight selector will allow for toggling the value of SPD substats between 0% and 100% for better grading of low SPD builds","0% weight SPD scores are marked with a special boots icon when SPD = 0 is the only customized weight","weight.webp","The SPD benchmark selector will force the benchmark simulations to target a specific SPD value that is lower than your character's SPD","benchmark.webp","Scores with a modified SPD benchmark will show their SPD target on the DPS score display","benchmarkScore.webp","The Buff Priority selector will allow for toggling between making the character the primary target of single target buffs or not","priority.webp","When a character is on Buff Priority: Low, they will no longer be targeted with single target buffs, and will be labeled as a Sub DPS","Their Combat Stats and DPS score will also adjust based on their buff status","subdps.webp","Updated the auto color selection algorithm for custom portraits","Removed the CV value display from character cards, adjusted the logic for showing relevant stats","Fixed: Showcase shadows on mobile screenshot downloads","Fixed: Various formatting issues were corrected in conditional text popups","Fixed: Relic potential scoring now matches the main stats for optimal main stat relics","Balance: Added ERR rope to Tribbie scoring","Balance: Set Tribbie's default SPD weight to 0","Balance: Set Tribbie's default set to Poet of Mourning Collapse","Balance: Enabling Sub DPS mode by default for Tribbie / Aventurine / Fugue / Serval / Topaz / Moze / March 7th (Hunt)"]},{title:"",date:"2025-01-13",content:["Updated content to version 3.1v1","Added Tribbie showcase","tribbie.webp","Added Mydei showcase","mydei.webp","Added new relic sets for 3.1","sets.webp","Added new relic rating columns for relic reroll potential","— The reroll column shows the average potential of the relic after using reroll dice on it","— The reroll delta column shows the expected increase in potential from the current relic to its post-reroll stats","ratingColumns.webp","The reroll and delta columns are now sortable in the relics grid","columns.webp","Added buff priority selectors for Remembrance characters, for choosing between prioritizing the summoner or memosprite when receiving single target buffs","buffPrio.webp","Fix: Added Aglaea missing Seam Stitch conditional","Fix: Added Black Swan missing E4 conditional","Fix: Dmg RES and Eff RES enemy options labels were swapped","Fix: Showcase rendering on mobile devices","Fix: Relic potential changed between re-scores in certain cases","Balance: Added ERR rope to Serval scoring","Balance: Added ERR rope to Welt scoring"]},{title:"",date:"2025-01-07",content:["Added a no-scoring showcase card view","noScore.webp","Added dark mode for showcase card colors","Adjusted showcase card colors for various characters","dark.webp","Content has been updated for version 3.0","Added Memosprite handling logic for remembrance characters","Optimizer sidebar now has a Summoner / Memosprite stats view selector which changes the optimizer stat targets, similar to Combat / Basic mode","memoView.webp","On the optimizer grid, columns for Memosprite stats are now denoted in superscript such as Σ ATKᴹ","Added a new ability damage column for Memosprite skills: SKILLᴹ DMG","memoSkill.webp","The Combo DMG ability rotation panel is updated to include SKILLᴹ DMG","memoCombo.webp","Aglaea DPS scoring is now active, defaulting to Hero of Triumphant Song + The Wondrous BananAmusement Park sets","aglaea.webp","Remembrance Trailblazer True DMG scoring conditionals are now active","rmc.webp","Single target buffs are assumed to apply to the summoner, certain Sunday buffs / RMC buffs / team buffs can apply to both summoner and memo","Hero of Triumphant Song and Poet of Mourning Collapse sets are now active","heroPoet.webp","Added rerun characters to showcase presets","rerun.webp","Added support for Japanese translations in the i18n menu","jp.webp","Imported characters' light cones are now preselected on character / teammate menus","Updated menu banner to identify no leaks / beta sites",'Fix: Showcase Damage Improvements tab now shows Elemental + Ability DMG as "DMG %" to not overflow space',"Fix: The 100% benchmark for DPS scoring will now exactly match the user's SPD stat (except for Poet of Mourning Collapse sets)","Fix: The 200% incorrectly assumed the 100%'s boots were optimal - now, 200% will always choose the optimal SPD / ATK boots, resulting in possible score decreases","Balance: Added diminishing returns for 100% benchmark with high SPD, for characters like Kafka","Balance: Benchmarks with the Poet of Mourning Collapse set will now match the set's SPD threshold at 110 or 95 SPD, instead of matching the user's SPD","Balance: The Wondrous BananAmusement Park set is now matched for summoner benchmarks","Balance: Updated some outdated characters' relic / ornament benchmark sets for combat score",'Balance: 4 star relics are now rated as "?"',"Balance: Scoring changes for version 3.0 dice and resin","— Previously, main stats were given between 1 to 2 free substats worth of score to balance for rarity / difficulty of obtaining optimal the main stat","— This was balanced for version 1.x but now with the addition of reroll dice and substat resin in 3.x, optimal main stats are much easier to obtain","— We're adjusting this free score to be worth 1 substat roll for all main stats, which will result in a slight Character / Relic score decrease","— For Combat scoring, the scaling thresholds have also been updated for grades above the 100% benchmark to adjust for score inflation from dice / resin","score.webp"]},{title:"",date:"2024-11-27",content:["The optimizer site has a new home page","home.webp","Updated the character showcase design","showcase.webp","Added a new showcase theme customization sidebar","custom.webp","I18n support has been enabled with support for: Français, Português (BR), 中文","i18n.webp","Added healing and shielding columns and filters for sustain characters, and adjusted their default sort columns","heal.webp","Added new selector conditional type for healing and shielding sources","healSource.webp","Added a new AEON tier for DPS score at 150% with verified-only relics","aeon.webp","Incorrect main stat pieces will now get a (?) rating on the character showcase","question.webp","The optimizer grid will now remove irrelevant columns for characters to hide the full-zero columns","Made slight adjustments to relic scoring - flat stats are now valued at a static 0.40x of their percentage counterpart","Fix: Fugue E4 break DMG buff now calculates correctly","Balance: Sim scoring will now match Energy Regeneration rope for certain character / eidolon combinations","Balance: Fugue now has additional Break instances in her combo damage rotation to push towards break focus"]},{title:"",date:"2024-10-19",content:["Updated content for version 2.7","fugue.webp","Added a new ability rotation calculation methodology, where damage abilities are evaluated sequentially for buff activation","rotation.webp","Added an Advanced Rotation panel for full customizability of buff uptime and in-battle conditional calculations for the entire team","Simple mode will automatically apply presets, while Advanced mode grants full control. Improved preset accuracy is under development","advanced.webp","DPS score now shows the combo rotation abilities","abilities.webp","Added i18n support, looking for contributors to help translate the website","i18n.webp","Removed Stat Weight sort and filter options for optimizer simplification. The stat weight column still remains","Sacerdos has been added as a personal relic set conditional for characters with self buffs","Fix: The Recommended Presets button no longer resets weighted rolls per relic","Fix: Improved Firefox optimizer search performance","Balance: DPS score overvalued ATK boots in certain situations with large amount of speed buffs, mostly affects ATK boots Kafka S1 builds","Balance: Jiaoqiu is now recommended ATK / ERR rope by default","Balance: Ruan Mei can now use all mains stats for feet","Balance: Shadowed by Night light cone now has SPD buff enabled by default"]},{title:"",date:"2024-09-20",content:["Added a Relic Locator tool to the Relics tab for finding the relic's row / column in the inventory","locator.webp","Updated all assets files to high quality images for character portraits, light cones, icons","Readjusted the crop and zoom for the new portrait assets","Reduced the light cone portrait height for Combat scoring view","Moved the Character Menu button to the top of the Characters tab for better findability","characterTab.webp","Reliquary is now updated for 2.5","reliquary.webp","Updated Rappa's default scoring team","rappaTeam.webp","Added pointer cursors to clickable icons","Optimizer tab character and teammate menus are now open upon clicking their icons","Fix: Save file now correctly loads previous scoring algorithm changes","Fix: Pioneer Diver of Dead Waters 0x conditional now correctly applies","Balance: Lowered the scoring penalty for missing flat stat breakpoints for combat scoring","Balance: Updated Pioneer Diver of Dead Waters default conditional to 3x+ for characters with debuffs","Balance: Changed Rappa's scoring weights from 1 ATK / 1 SPD / 1 BE to 0.5 ATK / 1 SPD / 1 BE"]},{title:"",date:"2024-09-08",content:["Added GPU acceleration to perform calculations on the graphics card for a significant improvement in optimizer search speed","Enabling GPU acceleration will improve the optimizer's search speed to hundreds of millions of permutations per second, up to billions on high end devices","3 compute engine options are now available","— GPU Experimental: Fastest search speed but potentially unsupported on some devices","— GPU Stable: Fast search speed for general device compatability (default)","— CPU Only","GPU acceleration only supported on Windows & Mac: Chrome, Opera, Edge browsers, Linux: Chromium browsers with a cli flag","gpu.webp","Updated the substat scoring algorithm to score relics stats relative to the maximum possible score on the relic","This means that when a weighted substat is occupied by the main stat, the score value of the remaining substat weights increases","Default character weights were rebalanced to account for this, and now more accurately reflect the true value of substats, for example:","Firefly's previous weight of 1.0 ATK / 1.0 SPD / 1.0 BE has been updated to 0.5 ATK / 1.0 SPD / 1.0 BE since her passive converts ATK at roughly half the value of BE","While the ATK weight was reduced, this actually makes the score value of SPD and BE higher since the new system scores stats relative to the other weights","The updated substat weight methodology can be viewed from the Scoring Algorithm menu","scoring.webp","Updated the copy screenshot button to work for all browsers. Also works on mobile devices now","screenshot.webp","Updated the Edit Portrait workflow to be smoother. Added an 'Upload new image' button to change the portrait","portrait.webp","Multiple relics can now be selected and deleted simultaneously on the Relics tab with Shift + Click and Ctrl + Click","multiselect.webp","Added a new setting for enabling / disabling a full inventory rescore on page load. Disable for faster load times on large inventories","scoreSetting.webp","Results limits for the optimization target have been changed to be compatible with GPU optimizer - now defaults to 1024 results","resultCount.webp","The Relic Insights tool now opens the character scoring panel on click, and now updates correctly when the selected character is changed","insights.webp","Updated with version 2.6v1 content","rappa.webp","Clicking the light cone portrait on character cards now bring up the Edit Character / Light Cone menu","Added a confirmation popup for resetting optimizer filters","Added on-hit buffs for the character's primary ability to the Combat stats section of scoring cards","Relic scorer URL can now be shared with user IDs included","Relic cards now show a border on hover","Performance: Improved relic scorer stability","Performance: Improved portrait image loading times, fixed images jumping around when loading","Performance: Improved character card loading time for Combat score cards","Performance: Improved relic import responsiveness","Performance: Improved editing and saving relics responsiveness","Fix: Some custom portrait dimensions were not cropping correctly","Fix: On the Relics tab, relics will remain selected after editing it","Fix: Prevent Combat stats panel from overflowing on scoring cards","Fix: Firesmith of Lava-Forging 4p was incorrectly adding combat buffs","Fix: Relic / ornament set selector on Optimizer tab was incorrectly rendering overflowing tags","Fix: But the Battle Isn't Over was not showing the Energy Regeneration Rate passive","Balance: Allow ATK % rope on Lingsha default scoring","Balance: Fixed a bug where the 200% benchmark used an extra substat roll in some cases, resulting in an impossible build. Minor DPS Score buff to affected characters","Balance: The Wind-Soaring Valorous 4p is now disabled by default, but activated by default only for specific characters who can benefit from it","Balance: Updated Jiaoqiu to have 3x stacks of Prisoner in Deep Confinement 4p by default","Balance: Updated Moze to have 3x+ stacks of Pioneer Diver of Dead Waters 4p by default","Balance: Updated Jade to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Updated Herta to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Updated Yunli to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Updated Himeko to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Revisited all characters weights and adjusted values for maximum-potential based relic scoring","Balance: Kafka weights","— Prev: 1.0 ATK / 1.0 SPD / 0.5 CR / 0.5 CD / 0.5 EHR / 0.75 BE","— Now: 1.0 ATK, 1.0 SPD, 0.5 EHR","Balance: Silver Wolf weights","— Prev: 0.5 ATK / 0.25 DEF / 0.25 HP / 1.0 SPD / 0.75 CR / 0.75 CD / 1.0 EHR / 0.75 BE","— Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Asta weights","— Prev: 0.75 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES / 0.5 BE","— Now: 0.5 ATK / 0.5 DEF / 1.0 HP / 1.0 SPD / 0.5 RES / 0.5 BE","Balance: Bronya weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 CD / 0.75 RES","— Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 CD / 0.75 RES","Balance: Pela weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 EHR / 0.75 RES","— Now: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Tingyun weights","— Prev: 1.0 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES","— Now: 1.0 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.5 RES","Balance: Fu Xuan weights","— Prev: 0.75 DEF / 1.0 HP / 1.0 SPD / 0.75 RES","— Now: 1.0 DEF / 1.0 HP / 1.0 SPD / 0.5 RES","Balance: Guinaifen weights","— Prev: 1.0 ATK / 1.0 SPD / 1.0 EHR / 0.75 BE","— Now: 1.0 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Hanya weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES","— Now: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.5 RES","Balance: Jiaoqiu weights","— Prev: 0.5 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR","— Now: 0.5 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Ruan Mei weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES / 1.0 BE","— Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 0.5 RES / 1.0 BE","Balance: Aventurine weights","— Prev: 1.0 DEF / 0.5 HP / 1.0 SPD / 1.0 CR / 1.0 CD","— Now: 1.0 DEF / 1.0 SPD / 1.0 CR / 1.0 CD","Balance: Sparkle weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 CD / 0.75 RES","— Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 CD / 0.5 RES","Balance: Black Swan weights","— Prev: 1.0 ATK / 1.0 SPD / 1.0 EHR / 0.5 BE","— Now: 1.0 ATK / 1.0 SPD / 1.0 EHR","Balance: Robin weights","— Prev: 1.0 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES","— Now: 1.0 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 0.5 RES","Balance: Firefly weights","— Prev: 1.0 ATK / 1.0 SPD / 1.0 BE","— Now: 0.5 ATK / 1.0 SPD / 1.0 BE","Balance: Boothill weights","— Prev: 0.5 ATK / 1.0 SPD / 0.75 CR / 0.75 CD / 1.0 BE","— Now: 0.25 ATK / 1.0 SPD / 0.25 CR / 0.25 CD / 1.0 BE","Balance: Trailblazer Harmony weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES / 1.0 BE","— New: 0.5 DEF / 0.5 HP / 1.0 SPD / 0.5 RES / 1.0 BE","Keep in mind with the new substat scoring system, a reduction in one stat's weight now actually makes the other substats worth more","Meaning in most cases these weight reductions actually are buffs to the scores of good relics"]},{title:"",date:"2024-08-19",content:["Added a new Combat Stats view for the score card, showing the character's fully buffed in-combat details","combat.webp","Added a new toggle to switch between Combat Stats and Damage Upgrades card view","upgrades.webp","Added a new panel to suggest filter changes when optimizer searches produce zero results","popup.webp","Updated scoring card with better rules for showing relevant stats","Renamed Sim Damage to Combo DMG for clarity","stats.webp","Updated Edit Character menu to auto-populate the light cone path, added path icons","Switching light cones will now reset its superimposition to S1","modal.webp","Relic scorer card now has an Edit character button","edit.webp","Moved Relic Scorer tab to a new Showcase menu at the top of the sidebar for visibility","showcase.webp","Updated content to version 2.5v4","Editing a relic now re-scores it automatically and updates the Relics tab grid","Updated Kel-Z and Reliquary Archiver imports to support the new v4 format","Fix: Some relic set text descriptions were out of date","Fix: Importing relics no longer overwrites the optimizer's equipped owner","Balance: Kafka / Black Swan's sim scoring updated to lean more towards DoT","Balance: Moze's default sim updated to to 4p Pioneer, allow Ashblazing and Izumo","Balance: Feixiao's damage combo updated to remove Break, updated combo with her ult changes"]},{title:"",date:"2024-08-10",content:["Added Healing Boost and Energy Regen on the character score card","Removed CV from the stat card","card.webp","Optimizer builds can now be pinned to the top of the grid for easier comparisons","pin.webp","The Relic scorer can now import characters along with relics","import.webp","Updated the Edit character menu with more convenient selectors","edit.webp","Added estimated time remaining to optimizer searches","eta.webp","Added an Equipped state filter to the Relics tab","equipped.webp","Added Lushaka set to teammate effects","lushaka.webp","Updated with 2.5 beta data","Fix: Conditional sliders max/min selections will now update properly when eidolons change","Fix: The baseline simulation will now use the best default set when the user's character isn't using an equivalent set","Fix: Lingsha calculations now correctly take into account teammate super break triggers","Balance: Himeko's default ornament set is now Duran","Balance: Dr Ratio's default ornament set is now Duran","Balance: Feixiao secondary ult now forces weakness break to enabled","Balance: Removed break damage from Feixiao's rotation","Balance: Adjusted logic for simulation scoring using speed boots vs atk boots"]},{title:"",date:"2024-07-08",content:["Buffed DPS scores across all characters, making the 100% benchmark slightly easier to reach","benchmark.webp","The Characters tab now has a search bar, and filters for element / path","search.webp","The Relics tab custom characters menu now has buttons to Exclude all / Clear","Custom view is now the default","exclude.webp","Reliquary archiver is back online and been updated for v2.3, new download required","reliquary.webp","Re-formatted optimizer grid headers for readability","grid.webp","Characters' default scoring combo is now automatically filled in on the optimizer","combo.webp","Updated Yunli's default scoring team","yunli.webp","Updated Yunli and March 8th's Ashblazing set calcs","Updated v2.3 characters conditional tooltips","Re-centered all light cones for simulation scoring view","Fix: Updated ability-type buff logic to correctly apply DMG buffs on characters that can change ability types","Fix: Aventurine now correctly applies CD buff on Unnerved","Fix: Certain relics weren't showing correctly in Hoyolab import","Fix: Duran and Lantern set stats are now applied correctly for scoring","Fix: Manual relic creation was broken in certain cases","Balance: Allow the scoring simulation to use Lantern/Talia sets as well as Cavalry on Harmony MC teams","Balance: Seele E1 CR buff is now disabled by default","Balance: March 8th now uses S5 Cruising in the Stellar Sea for scoring"]},{title:"",date:"2024-06-18",content:["Added 2.4 characters and light cones","beta.webp","Changed DPS Score Improvements -> Damage improvements and updated the percentage to use damage","damageImprovements.webp","Added relic counter on the relics tab grid","relicCount.webp","The sorted optimizer column is now highlighted","highlightColumn.webp","Moved enemy options to an Enemy configurations menu under Advanced options","advancedOptions.webp","Added Effect RES as a customizable enemy option for DoT calcs","enemyConfigurations.webp","Added options to toggle seeing all / custom characters on the potential graph","customCharacters.webp","Expanded the Extra combat stats menu with more buff options","combatBuffs.webp","Added a new Boost main stat option to select the desired main stat upgrade level","optimizerOptions.webp","Added character icons to various places","Character cards now zoom out properly for the smaller sim scoring portrait","Fix: Herta's technique now disabled by default","Fix: Manually editing verified relics will now remove their verified status","Fix: Elemental damage now shows correctly on the character card","Fix: Corrected display bug on relics tab potential upgrades suggesting invalid stats","Fix: Ruan Mei's E2 is now correctly calculated for Firefly","Fix: Harmony Trailblazer is now imported correctly from the scanners","Balance: Increased DoT scoring for Luka / Sampo","Balance: Adding Break Effect and Cavalry set as valid BiS scoring options when HMC is on the simulation team","Balance: Adjusted multiple support characters main stats to be more flexible","Balance: Firefly's scoring stats have been adjusted","Balance: Firefly's default sim now uses Cavalry / Lantern sets"]},{title:"",date:"2024-06-06",content:["Improved relic edit menu UI, with automatic substat upgrade calculations","relicModal.webp","DPS Score upgrades section now shows the score improvement of switching main stats, and switching to BiS relic set","scoreUpgrades.webp","Adding option to switch between scoring types","switchScoring.webp","Added a settings menu for combat sim options","scoringSettings.webp","Added new Edit character button to the Characters tab for changing eidolons / lcs","editCharacter.webp","Added new Sim Damage stat for showing the simulated combo damage used for scoring","simDamage.webp","Added new version of the substat weight filter, to filter relics by minimum weighted rolls per gear slot","substatWeight.webp","Changed the scoring grade scale to balance DPS score changes","newGrades.webp","Updated build analysis section with more details about the benchmark builds","buildAnalysis.webp","Added HoyoLab import to the scanner options","importer.webp","Various other DPS score balance changes, detailed out in the methodology section. New benchmark ruleset measures against 0% / 100% / 200% builds","Fix: Sets were not activating correctly in some cases for Aventurine","Fix: Jade now correctly applies Ashblazing set buffs","Fix: Boothill's Standoff conditional now correctly applies as a vulnerability instead of DMG increase","Fix: Sleep Like the Dead's Crit Rate buff is now deactivated by default","Fix: Cruising in the Stellar Sea's Crit Rate buff is now deactivated by default","Fix: Adjusted Firefly and Boothill scoring main stats","Fix: Ruan Mei scoring can now use all main stats for body / sphere"]},{title:"",date:"2024-05-22",content:["Updated with new character card layout","Added damage simulation based character scoring","newScore.webp","Add custom teammates display","customTeam.webp","Added a substat upgrade calculation for damage scoring","scoreUpgrades.webp","More details about the simulation scoring can be found below the character card","scoreSummary.webp","Added EHR considerations for DoT damage calculation, assumes 20% enemy RES","Adding customizable Rotation Combo damage formula","comboMenu.webp","The combo results can be filtered and sorted in the optimizer","comboGrid.webp","Added responsive handling to optimizer permutations sidebar, which now collapses into a footer for smaller screens","footer.webp","Moved Combat Buffs menu into a drawer","combatBuffs.webp","Added a +3 enhance button to the Relic Edit modal for easy enhancing","plusThree.webp","Added bar search to damage sim selectors","Raised Robin’s ATK cap to 8000","Raised Robin’s ATK default to 5000","Reliquary version bumped to 0.1.6","Character / light cone images are now blurred while loading","Updated with beta 5.3v3 changes","Fix: Fixed Firefly Break Effect conversion interaction with ratio converted ATK buffs (Robin/Lynx)","Fix: Ruan Mei’s default sort is now Break Effect","Fix: Robin’s default sort is now ATK","Fix: Prevent Ult DMG buffs from applying to Robin’s ult (Salsotto)","Fix: Removed Jade skill damage","Fix: Sparkle now correctly applies her skill CD","Fix: Custom character weights are now applied to the optimizer page","Fix: Allow all main stats for Harmony MC on body and sphere","Fix: Super break override now applies correctly to HMC","Fix: Prevent teammate sync from adding messenger set to calculations","Fix: Various relics tab potential optimality bugs have been fixed","Fix: Characters with not enough desired stats now score correctly on relics tab","Fix: Renamed Base stats to Basic stats"]},{title:"",date:"2024-05-07",content:['Added a new "Character custom stats simulation" feature',"This allows for simulating and comparing multiple character builds with custom main stats / teammates / sets / substats without having to edit relics","The substat rolls view calculates builds based on the number of max rolls in each substat","Optimizer builds can be imported as substat roll simulations","rollSim.webp","The substat totals view simulates the sum of the substat values","totalsSim.webp","Jade and Firefly have been added with damage calculations, and to the Relic Scorer experiment options","jade.webp","Custom character portraits can now be saved from the Relic Scorer","scorer.webp","Updated Harmony Trailblazer with Super Break DMG calculations","When the Super Break conditional is enabled, each ability's toughness DMG will be used to calculate Super Break DMG, which is added to the respective ability's damage column","superBreak.webp","Added new 2.3 relic sets","relics.webp","Added new 2.3 ornament sets","ornaments.webp","Reliquary Archiver is now the recommended scanner","Note: It may have a few hours of downtime following new ingame patches","import.webp","New updates will now show a notification linking to the changelog","update.webp","Added a new settings panel","The first setting is toggle the behavior when equipping relics with another owner, which now defaults to replacing without swapping","settings.webp","Using the Recommended Presets button now takes into account custom scoring overrides","Newly added characters will have their recommended presets applied by default","Harmony Trailblazer's default teammate Break Effect conditional is now 200%, and the cap is increased to 400%","The Genius set's conditional effects are now only active by default on Quantum characters, and disabled by default otherwise","Fix: Tingyun SPD buff is now disabled by default due to having inconsistent uptime","Fix: Himeko's SPD buff is now disabled by default due to having inconsistent uptime","Fix: Qingque's SPD buff is now disabled by default due to having inconsistent uptime","Fix: Sparkle's self-skill buff is now disabled on herself by default","Fix: Bronya's battle-start buffs are now disabled by default","Fix: Asta's skill now correctly calculates the sum of the bounces for damage instead of an individual hit","Fix: Remove ATK% rope from Robin's presets","Fix: Main stat free rolls are now applied correctly to non-full-weight main stats. This results in a minor score buff for certain main stats","Fix: Various visual overflow issues on small screens"]},{title:"",date:"2024-04-18",content:["Launched a new leak-free version of the optimizer which has no leaks and only contains officially released content","https://starrailoptimizer.github.io","noLeaks.webp","Added a one-click-optimize button to the Relic Scorer page, accessed by clicking the graph icon or the Optimize Character Stats button","This automatically imports the scored profile relics, adds the character and light cone, applies recommended filters and conditionals, and starts an optimizer search","This is meant to be an easy way for new users to get started using the optimizer","oneClick.webp","Updated the Get Started tab with up to date instructions and a step-by-step guide to using the optimizer for the first time","getStarted.webp","Added new Average potential view as an option alongside Max potential on Relics tab","potentialUpdates.webp","Relic potential ratings menu now has a Custom characters view enabled by default, where only a subset of characters are considered for the potential calculations","relicRatings.webp","All characters are included initially, then specific characters can be selected to excluded from the relic potential view","customCharacters.webp","Clicking empty relic slots now brings up the Add New Relic menu","clickEmpty.webp","Added icons to sidebar menu tabs","Added a button to hide the menu sidebar for easier viewing on smaller screens","hideSidebar.webp","Updated the Recommended Presets speed breakpoints to 1000ths precision","breakpoints.webp","Ambiguous speed values near specific breakpoints (such as 133.333..) are now displayed to 1000ths precision for checking if the breakpoint is met","spdValues.webp","Added a Reset All Characters button to the scoring algorithm menu","resetAll.webp","Rephrased pioneer conditional to specify between basic and combat stat buffs","The last optimized character will now be open by default on the next session","The Simulate Relics On Another Character menu is now open by default on the Relic Scorer tab","Updated Boothill damage calcs","Updated Robin damage calcs","Fix: Herta now correctly defaults to FUA sort","Fix: Removed leftover unused character level selectors, all characters now default to level 80","Fix: Black Swan E1 now correctly only applies res shred on DOT elements","Fix: Scores for saved builds will now update with scoring changes","Fix: Creating new relics with an owner now equips the relic"]},{title:"",date:"2024-04-04",content:["Added Break DMG calculations for all characters and a sortable BREAK column in the optimizer grid","breakDmg.webp","Updated Boothill's Enhanced basic attack calculation to include his Talent's additional break damage",`Updated Boothill's conditional toggle to be "Talent break DMG (forces weakness break)" which overrides the weakness break option when enabled`,"Updated Boothill's default sort option to Basic DMG","boothill.webp","Updated Boothill's scoring algorithm to prioritize SPD and Break Effect","boothillScore.webp","Added a display for the artist's name on custom character portraits","artist.webp","The artist name can be updated along with the image on the crop menu","Enabled gif uploads for custom character portraits","artistInput.webp","Updated Reliquary Archiver import for 2.1 patch, which imports accurate speed decimals for the entire inventory","archiver.webp",'Added new character action menu entry to "Sort by score" which rearranges the character priority by their character scores',"sortByScore.webp","Updated conditional set effects for Pioneer Diver of Dead Waters set with a 0x debuffs option which disables the 2p effect","pioneer.webp","Removed the Enemy HP% selector from the enemy options panel, and replaced it with Enemy Toughness, which affects the Break DMG calculations in the optimizer","tough.webp","Since the Enemy HP% selector was removed, updated character conditionals that depended on it to have their own toggle","Dan Heng now has an enemy HP% threshold toggle","Himeko now has an enemy HP% threshold toggle","Herta now has an enemy HP% threshold toggle","Argenti now has an enemy HP% threshold toggle","Reduced the filesize of assets for faster image loading","Optimizer search speed improvements for unfiltered searches","Added warning popup for optimizer searches with mismatching character and light cone paths",`Ruan Mei's teammate buff renamed to "Overtone buff" and now also applies her weakness break efficiency buff`,"Gallagher's Besotted buff added with Break DMG vulnerability","Fix: Argenti A6 trace now correctly applies to all his abilities instead of just ult DMG","Fix: Updated tooltips for 2.1 light cones","Fix: Updated Along the Passing Shore light cone's passive effect to Mirage Fizzle","Fix: Planetary Rendezvous now shows correctly on the teammate buffs panel","Fix: Bug with unselectable main stats being available in the Edit Relic view in certain cases","Fix: Stat filters are now saved to 1000ths precision"]},{title:"",date:"2024-03-26",content:['Added custom character portrait images, through the "Edit portrait" menu button on the character preview/relic scorer',"sparkle.webp","Portrait images can be selected by url or uploaded from file","crop.webp","Added substat roll count indicators to relics, showing the number of additional rolls per stat","rollQuality.webp","Added new relic rating tools to the Relics tab: for evaluating relic potential for the selected character or all characters","When selecting a character on the Relics grid, all selected relics will show their score according to the selected character's weights","relicsGrid.webp","Added new Relic Insights: Buckets graphs to display the potential of a relic and which characters are the best fit for the stats","relicBuckets.webp","The Relic Insights: Top 10 view shows the min/max range of potential for the top 10 best fit characters","relicTop10.webp","Added new 2.1 sets: Sigonia, the Unclaimed Desolation & Izumo Gensei and Takama Divine Realm","21sets.webp","Added new importer option for the Reliquary Archiver (beta) which can import accurate speed decimals for the entire inventory","importer.webp","Added new Optimization Target options to the optimizer page.","optimimationTarget.webp","This removes the 2 million results hard cap from before.","resultsLimit.webp","Choose the desired optimization goal for damage/stats/rating, and select a results limit, to find the top search results sorted by the target","sortBy.webp","Stat decimals are now shown to 1000ths precision on the Character preview when hovered","spdHover.webp","Added new Character action to switch relics with another character","switchRelics.webp","Added new 2.2 characters: Robin / Boothill / Harmony Trailblazer","Added new 2.2 light cones: Boundless Choreo / For Tomorrow's Journey / Flowing Nightglow / Sailing Towards A Second Life","22chars.webp","Adjusted character optimal main stats, allowing more lenient options such as ATK% spheres for DPS and any sphere stats for Bronya/Sparkle","Removed level selectors on Optimizer tab - all optimizations now assume level 80 character and light cone","Made the sidebar menu always stay on screen when scrolling","Fix: Relic imports from scanning newly rolled relics before logout no longer causes duplicate relics","Fix: Download screenshot button on mobile devices and Safari browsers now generates the image correctly","Fix: Pela E2 skill conditional SPD buff is now off by default","Fix: Bronya technique conditional ATK buff is now off by default","Fix: Silver Wolf skill conditional weakness implanted RES shred is now off by default","Fix: Sparkle talent conditional Quantum allies ATK buff now only applies to Quantum elemental main characters","Fix: Acheron trace Stygian Resurge now has its own slider instead of assuming all hits on target","Fix: Seele E1 conditional CR buff now has its own toggle instead of being linked to the enemy HP selector"]},{title:"",date:"2024-03-12",content:["Added a new visual character selector menu with search and filters","charSelect.webp","Light cone selectors are also updated and now default to the selected character's path","lcSelect.webp","Added a new menu that automatically shows suggestions to fix common misconfigurations in setting up optimizer searches that result in 0 permutations","zeroPerm.webp","Presets speed breakpoints are now defined to 100ths precision","presets.webp","Added def values to enemy level selector","enemyDef.webp","Updated calculations with the latest beta character abilities","Reorganized some stat orderings for consistency",`Fix: Light cone "Today is Another Peaceful Day" now defaults to the character's max energy`,"Fix: E2/E5 eidolon calculations for some characters","Fix: EHP filter works again","Fix: Linking to #scorer and other pages works again","Fix: Permutations now refresh when navigating to Optimizer tab","Fix: Alerts can now be closed when clicking on them"]},{title:"",date:"2024-02-28",content:["Enabled up/down arrow key navigation for grids","Updated the selected row overlay to be more visible","gridRow.webp","Added new priority and exclusion selectors in optimizer options","Priority can now be changed from the optimizer tab now instead of dragging. Exclude will additionally filter out specific characters relics","priorityExclude.webp","Added a notice to update when the scanner version is out of date","outOfDate.webp","Relic scorer Simulate button has been move to a sidebar, and now has preset characters for current/upcoming banners","simulate.webp","Added a sortable CV column for crit value to the Relics tab","cvColumn.webp",'Added a "Move to top" action button to the Characters tab',"moveToTop.webp","Started adding more icons to selectors for readability, more to come","icons.webp","Removed CV column & filter from optimizer tab - damage calculations are a better option to sort by now",'Stats display is set to "Combat Stats" by default now, also the setting now saves correctly per character',"Changed relic scorer API in preparation for upcoming leaderboards update"]},{title:"",date:"2024-02-20",content:["Added: Acheron / Aventurine / Gallagher","newChars.webp",'Added: "Simulate relics on another character" button on the Relic scorer.',"Now the profile characters' builds can be simulated as unowned or unreleased characters & light cones to preview their gear with accurate base stats","simulate.webp","Added: Teammates menu for the optimizer. This automatically adds the teammate's character passives/eidolons/light cone/relic sets to the calculations for more accurate results","teammates.webp","Added: Character builds can now be saved as loadouts, keeping a history of saved builds that can be easily swapped between","savedBuilds.webp","Added: Changelog page to track new optimizer changes","changelog.webp","Moved stat display to the sidebar for easier access","statDisplay.webp",'Clicking "Start optimizing" now scrolls the page down to the results grid',"Deprecated the Fribbels scanner option in favor of the Kel-Z scanner","Energy Regeneration Rate column can be filtered on now","Imports now work with scanner files that only contain characters/light cones without relics","Minor scoring changes for: Sushang, Luka, Physical Trailblazer, Blade, Silver Wolf, Kafka, and Preservation characters"]},{title:"",date:"2024-02-05",content:["Added 'Recommended Presets' button to fill out the optimizer with some suggested values","presets.webp","Added the new Pioneer & Watchmaker relic sets","newSets.webp","Added support for 8 relic scorer slots","scorer8Characters.webp","All character and light cone passives now have descriptions on hover","skillDescriptions.webp","Reorganized Character tab buttons with new Add / Edit character actions","characterActions.webp","Added a Screenshot button for copying the character preview to clipboard / downloads","screenshot.webp","Added a progress bar for the search","progress.webp","Updated damage calcs with all 2.0 light cones","Relic set filters now have a 2 piece + Any option","Improved optimizer search performance, should run 3-6x faster now"]},{title:"",date:"2024-01-22",content:["Black Swan / Sparkle / Misha added with dmg calcs and their signature light cones","newChars.webp","New 'Use equipped relics' optimizer filter toggle","useEquipped.webp","Optimizer grid now shows speed decimals","spd.webp","QOLs for relic editing for autofilled main stats","Double clicking on the characters list now will navigate to the optimizer"]},{title:"",date:"2024-01-13",content:["Big update to the relics tab, including filters and a relic recommendation tool","The recommendation tool scores each relic by its potential at +15 to help with picking which unenhanced relics to roll while building characters","relicsTab.webp","Also updated the Relic Scorer with an import option - now you can import relics directly from your ingame profile characters, with accurate speed values","import.webp"]},{title:"",date:"2024-01-06",content:["Accurate damage calculations for every character, and new optimization columns for average Basic / Skill / Ult / Follow-up / DoT damage","calcs.webp","Character abilities + Light cone passive selectors to customize the damage simulation","passives.webp","Relic set effects menu for customizing which sets to activate","setEffects.webp","New filtering tools including the substat weight filter to reduce permutations & improve search time","weightFilter.webp","Enemy count / DEF / RES / HP / and weakness selectors for optimizing specific combat scenarios","enemyOptions.webp","Integrated with the Kel-Z HSR Scanner for faster & more accurate scans","importer.webp","Expanded combat buffs options for adding more team effects like SPD / DMG% / DEF & RES shred / etc","Relic stat editor and better handling for hidden decimals","New character importer option - Import all your character builds and light cones directly from the game"]}];return e.map(t=>t.content=t.content.filter(n=>n.length>0)),e}const{Text:Tg}=ye;var Zt=(e=>(e[e.CHARACTER_TAB=0]="CHARACTER_TAB",e[e.SHOWCASE_TAB=1]="SHOWCASE_TAB",e[e.BUILDS_MODAL=2]="BUILDS_MODAL",e))(Zt||{});function yg(){const e=navigator.userAgent,t=/Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop|BlackBerry/i.test(e),n=/^((?!chrome|android).)*safari/i.test(e);return t||n}const Hi=yg()?"rgb(0, 0, 0) 1px 0px 6px":"rgb(0, 0, 0) 1px 1px 6px",Ou=", inset rgb(255 255 255 / 30%) 0px 0px 2px",ec="rgba(255, 255, 255, 0.20) solid 1px",vi="rgba(255, 255, 255, 0.40) solid 1px",Yo="blur(3px)",to={flex:"auto",opacity:0,transition:"opacity 0.3s ease",visibility:"hidden"};function tc(e){const t=e.top;return i.jsx(S,{vertical:!0,style:{position:"relative",height:0,top:t},align:"center",children:i.jsx(Tg,{style:{position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.85)",padding:"2px 14px",borderRadius:4,fontSize:12,whiteSpace:"nowrap",textShadow:"0px 0px 10px black",outline:vi,lineHeight:"12px"},children:e.text})})}function Zg(e){return e==f.PlanarSphere||e==f.LinkRope}function Cg(e){return e==f.Head||e==f.Hands||e==f.Body||e==f.Feet}const P0={onEditOk:(e,t)=>{t.id=e.id;const n={...e,...t};return window.rescoreSingleRelic(n),I.setRelic(n),window.setRelicRows(I.getRelics()),console.log("onEditOk",n),_.success(v.t("modals:Relic.Messages.EditSuccess")),setTimeout(()=>{Te.delayedSave(),window.forceCharacterTabUpdate(),se.updateFilters()},200),n}};function ks(e){return isNaN(parseFloat(e))}function Dg(e){if(console.log("Form finished",e),!e.part)return _.error(v.t("modals:Relic.Messages.Error.PartMissing"));if(!e.mainStatType)return _.error(v.t("modals:Relic.Messages.Error.MainstatMissing"));if(!e.mainStatValue)return _.error(v.t("modals:Relic.Messages.Error.MainstatMissing"));if(!e.set)return _.error(v.t("modals:Relic.Messages.Error.SetMissing"));if(e.enhance==null)return _.error(v.t("modals:Relic.Messages.Error.EnhanceMissing"));if(e.grade==null)return _.error(v.t("modals:Relic.Messages.Error.GradeMissing"));if(e.grade>5||e.grade<2)return _.error(v.t("modals:Relic.Messages.Error.GradeInvalid"));if(e.enhance>15||e.enhance<0)return _.error(v.t("modals:Relic.Messages.Error.EnhanceInvalid"));if(e.enhance>e.grade*3)return _.error(v.t("modals:Relic.Messages.Error.EnhanceTooHigh"));if(!bn(_a,e.set)&&!bn(Qa,e.set))return _.error(v.t("modals:Relic.Messages.Error.SetInvalid"));if(bn(_a,e.set)&&Zg(e.part))return _.error(v.t("modals:Relic.Messages.Error.SetNotOrnament"));if(bn(Qa,e.set)&&Cg(e.part))return _.error(v.t("modals:Relic.Messages.Error.SetNotRelic"));if(e.substatType0!=null&&ks(e.substatValue0)||e.substatType0==null&&e.substatValue0!=null)return _.error(v.t("modals:Relic.Messages.Error.SubNInvalid",{number:1}));if(e.substatType1!=null&&ks(e.substatValue1)||e.substatType1==null&&e.substatValue1!=null)return _.error(v.t("modals:Relic.Messages.Error.SubNInvalid",{number:2}));if(e.substatType2!=null&&ks(e.substatValue2)||e.substatType2==null&&e.substatValue2!=null)return _.error(v.t("modals:Relic.Messages.Error.SubNInvalid",{number:3}));if(e.substatType3!=null&&ks(e.substatValue3)||e.substatType3==null&&e.substatValue3!=null)return _.error(v.t("modals:Relic.Messages.Error.SubNInvalid",{number:4}));if(e.substatType3!=null&&(e.substatType0==null||e.substatType1==null||e.substatType2==null))return _.error(v.t("modals:Relic.Messages.Error.SubsOutOfOrder"));if(e.substatType2!=null&&(e.substatType0==null||e.substatType1==null))return _.error(v.t("modals:Relic.Messages.Error.SubsOutOfOrder"));if(e.substatType1!=null&&e.substatType0==null)return _.error(v.t("modals:Relic.Messages.Error.SubsOutOfOrder"));const t=[e.substatType0,e.substatType1,e.substatType2,e.substatType3].filter(d=>d!=null);if(new Set(t).size!==t.length)return _.error(v.t("modals:Relic.Messages.Error.DuplicateSubs"));if(t.includes(e.mainStatType))return _.error(v.t("modals:Relic.Messages.Error.MainAsSub"));const n=parseFloat(e.substatValue0),l=parseFloat(e.substatValue1),s=parseFloat(e.substatValue2),o=parseFloat(e.substatValue3);if(n>=1e3||l>=1e3||s>=1e3||o>=1e3)return _.error(v.t("modals:Relic.Messages.Error.SubTooBig"));if(e.mainStatValue>=1e3)return _.error(v.t("modals:Relic.Messages.Error.MainTooBig"));if(n<=0||l<=0||s<=0||o<=0)return _.error(v.t("modals:Relic.Messages.Error.SubTooSmall"));if(e.mainStatValue<=0)return _.error(v.t("modals:Relic.Messages.Error.MainTooSmall"));const r={equippedBy:e.equippedBy=="None"?void 0:e.equippedBy,enhance:e.enhance,grade:e.grade,part:e.part,set:e.set,main:{stat:e.mainStatType,value:e.mainStatValue}},c=[];return e.substatType0!=null&&e.substatValue0!=null&&c.push({stat:e.substatType0,value:n}),e.substatType1!=null&&e.substatValue1!=null&&c.push({stat:e.substatType1,value:l}),e.substatType2!=null&&e.substatValue2!=null&&c.push({stat:e.substatType2,value:s}),e.substatType3!=null&&e.substatValue3!=null&&c.push({stat:e.substatType3,value:o}),r.substats=c,jn.augment(r),r}function Eg(e){const t=[{stat:e.substatType0,value:e.substatValue0},{stat:e.substatType1,value:e.substatValue1},{stat:e.substatType2,value:e.substatValue2},{stat:e.substatType3,value:e.substatValue3}],n=[];for(let{stat:l,value:s}of t)if(l!=null&&s!=null){if(s=="")s="0";else if(isNaN(parseFloat(s))){n.push({low:void 0,mid:void 0,high:void 0});continue}if(l==a.SPD){const d=parseFloat(s)+(e.grade==5?2:1);n.push({low:Math.floor(d),mid:void 0,high:Math.floor(d+1)});continue}const o=B.truncate10ths(B.precisionRound(parseFloat(s))),r=Bi.fixSubStatValue(l,o,5),c=B.clone(ge[l][e.grade]);B.isFlat(l)?(c.low=ao(r+c.low),c.mid=ao(r+c.mid),c.high=ao(r+c.high)):(c.low=no(r+c.low),c.mid=no(r+c.mid),c.high=no(r+c.high)),n.push(c)}else n.push({low:void 0,mid:void 0,high:void 0});return n}function ao(e){return Math.floor(y.precisionRound(e))}function no(e){return parseFloat(B.truncate10ths(y.precisionRound(e)).toFixed(1))}const ac=["F","F","F","F+","D","D+","C","C+","B","B+","A","A+","S","S+","SS","SS+","SSS","SSS+","WTF","WTF+"],io={HP:.4,ATK:.4,DEF:.4},ya=.582,F0=5.1,nn={[m.Stats.HP_P]:64.8/43.2,[m.Stats.ATK_P]:64.8/43.2,[m.Stats.DEF_P]:64.8/54,[m.Stats.HP]:64.8/43.2*ge[m.Stats.HP_P][5].high/ge[m.Stats.HP][5].high,[m.Stats.ATK]:64.8/43.2*ge[m.Stats.ATK_P][5].high/ge[m.Stats.ATK][5].high,[m.Stats.DEF]:64.8/54*ge[m.Stats.DEF_P][5].high/ge[m.Stats.DEF][5].high,[m.Stats.CR]:64.8/32.4,[m.Stats.CD]:64.8/64.8,[m.Stats.OHB]:64.8/34.5606,[m.Stats.EHR]:64.8/43.2,[m.Stats.RES]:64.8/43.2,[m.Stats.SPD]:64.8/25.032,[m.Stats.BE]:64.8/64.8},so=[a.Physical_DMG,a.Fire_DMG,a.Ice_DMG,a.Lightning_DMG,a.Wind_DMG,a.Quantum_DMG,a.Imaginary_DMG],Ys=new Set(m.SubStats);class dt{constructor(){Ae(this,"characterRelicScoreMetas");Ae(this,"optimalPartScore");Ae(this,"currentRelicScore");Ae(this,"futureRelicScore");this.characterRelicScoreMetas=new Map,this.optimalPartScore=new Map,this.currentRelicScore=new Map,this.futureRelicScore=new Map}static scoreFutureRelic(t,n,l=!1){return new dt().getFutureRelicScore(t,n,l)}static scoreCurrentRelic(t,n){return new dt().getCurrentRelicScore(t,n)}static scoreCharacterWithRelics(t,n){return new dt().scoreCharacterWithRelics(t,n)}static scoreCharacter(t){return new dt().scoreCharacter(t)}static scoreRelicPotential(t,n,l=!1){return new dt().scoreRelicPotential(t,n,l)}getRelicScoreMeta(t){let n=this.characterRelicScoreMetas.get(t);if(n)return n;n=B.clone(I.getScoringMetadata(t));const l=I.getMetadata().characters[t].scoringMetadata;n.category=OG(l,{stats:n.stats}),n.stats[m.Stats.HP]=n.stats[m.Stats.HP_P]*io.HP,n.stats[m.Stats.ATK]=n.stats[m.Stats.ATK_P]*io.ATK,n.stats[m.Stats.DEF]=n.stats[m.Stats.DEF_P]*io.DEF,n.sortedSubstats=Object.entries(n.stats).filter(r=>Ys.has(r[0])).sort((r,c)=>c[1]*nn[c[0]]*ge[c[0]][5].high-r[1]*nn[r[0]]*ge[r[0]][5].high),n.groupedSubstats=new Map;for(const[r,c]of n.sortedSubstats)n.groupedSubstats.has(c)||n.groupedSubstats.set(c,[]),n.groupedSubstats.get(c).push(r);for(const r of n.groupedSubstats.values())r.sort();let s=0;Object.entries(n.stats).forEach(([r,c])=>{so.includes(r)&&c&&s++});let o=0;if(n.parts.PlanarSphere.forEach(r=>{so.includes(r)&&o++}),s<2&&o<2){const r=[n.parts.Head,n.parts.Hands,n.parts.Body,n.parts.Feet,n.parts.PlanarSphere.filter(c=>!so.includes(c)),n.parts.LinkRope];n.greedyHash=y.objectHash({sortedSubstats:n.sortedSubstats,parts:r}),n.hash=y.objectHash({...n.stats,...n.parts})}else n.greedyHash=y.objectHash({stats:n.stats,parts:n.parts}),n.hash=n.greedyHash;return this.characterRelicScoreMetas.set(t,n),n}getOptimalPartScore(t,n,l){var r,c;const s=this.getRelicScoreMeta(l).greedyHash;let o=(c=(r=this.optimalPartScore.get(t))==null?void 0:r.get(s))==null?void 0:c.get(n);return o||(o=this.scoreOptimalRelic(t,n,l),this.optimalPartScore.has(t)||this.optimalPartScore.set(t,new Map),this.optimalPartScore.get(t).has(s)||this.optimalPartScore.get(t).set(s,new Map),this.optimalPartScore.get(t).get(s).set(n,o)),o}getFutureRelicScore(t,n,l=!1){var r;const s=this.getRelicScoreMeta(n).hash;let o=(r=this.futureRelicScore.get(t.id))==null?void 0:r.get(s);return o||(o=this.scoreFutureRelic(t,n,l),this.futureRelicScore.has(t.id)||this.futureRelicScore.set(t.id,new Map),this.futureRelicScore.get(t.id).set(s,o)),o}getCurrentRelicScore(t,n){var o;if(!t)return{score:"0",rating:"",mainStatScore:0};const l=this.getRelicScoreMeta(n).hash;let s=(o=this.currentRelicScore.get(t.id))==null?void 0:o.get(l);return s||(s=this.scoreCurrentRelic(t,n),this.currentRelicScore.has(t.id)||this.currentRelicScore.set(t.id,new Map),this.currentRelicScore.get(t.id).set(l,s)),s}substatScore(t,n){const l=this.getRelicScoreMeta(n);if(!l||!n||!t)return console.warn("substatScore() called but missing 1 or more arguments. relic:",t,"meta:",l,"id:",n),{score:0,mainStatScore:0,scoringMetadata:l,part:t==null?void 0:t.part};const s=l.stats;let o=0;for(const c of t.substats)o+=c.value*(s[c.stat]||0)*nn[c.stat];const r=((c,d,u,b)=>{if(u==f.Head||u==f.Hands)return 0;let p;switch(d){case 2:p=12.8562;break;case 3:p=25.8165;break;case 4:p=43.1304;break;default:p=64.8}return p*(b[u].includes(c)?1:s[c])})(t.main.stat,t.grade,t.part,l.parts);return{score:o,mainStatScore:r,part:t.part,scoringMetadata:l}}scoreOptimalRelic(t,n,l){let s=0,o;const r=this.getRelicScoreMeta(l),c=xg(r);switch(c){case 5:s=1/0;break;case 1:case 2:case 3:{let d=[];const u=r.sortedSubstats[0][0],b=r.sortedSubstats[1][0];t==m.Parts.Head&&c==1||t==m.Parts.Hands&&c==2?d=Mn(5,{stat:u,value:ge[u][5].high*6}):d=Mn(5,{stat:u,value:ge[u][5].high*6},{stat:b,value:ge[b][5].high}),o=di(5,15,t,m.Stats.HP_P,d),s=this.substatScore(o,l).score}break;case 0:{const d=r.sortedSubstats[0][0],u=Mn(5,{stat:d,value:ge[d][5].high*6});s=this.substatScore(di(5,15,t,m.Stats.HP_P,u),l).score}break;case 4:{let d="";const u=r.parts[t]||[];if(u.includes(n)||r.stats[n]==1||!B.hasMainStat(t))d=n;else{const G=Object.entries(r.stats).map(x=>u.includes(x[0])||r.stats[x[0]]==1?[x[0],1]:[x[0],x[1]]).sort((x,W)=>{const H=Ys.has(x[0])?x[1]*nn[x[0]]*ge[x[0]][5].high:x[1]*6.48;return(Ys.has(W[0])?W[1]*nn[W[0]]*ge[W[0]][5].high:W[1]*6.48)-H}),T=a0[t],C=G.findIndex(([x,W])=>T.includes(x)),D=G[C][1];d=G[C][0];let V=!1,M=!0;for(let x=C;x<G.length;x++){const[W,H]=G[x];if(H!=D)break;if(!T.includes(W))continue;const O=u.includes(W),j=Ys.has(W);V&&!O||!M&&j||V===O&&M==j||(d=W,V=O,M=j)}}const p=r.sortedSubstats.filter(([G,T])=>G!==d).slice(0,4),R=Mn(5,{stat:p[0][0],value:ge[p[0][0]][5].high*6},{stat:p[1][0],value:ge[p[1][0]][5].high},{stat:p[2][0],value:ge[p[2][0]][5].high},{stat:p[3][0],value:ge[p[3][0]][5].high});o=di(5,15,t,d,R),s=this.substatScore(o,l).score}break}return s}scoreFutureRelic(t,n,l=!1){if(!n||!t)return console.warn("scoreFutureRelic() called but lacking arguments"),{current:0,best:0,average:0,worst:0,rerollAvg:0,idealScore:1,meta:{bestAddedStats:[""],bestUpgradedStats:[""]},substatScore:{best:0,average:0,worst:0}};const s=this.getRelicScoreMeta(n);if(!s.sortedSubstats[0][0])return{current:0,best:0,average:0,worst:0,rerollAvg:0,idealScore:1,meta:{bestAddedStats:[""],bestUpgradedStats:[""]},substatScore:{best:0,average:0,worst:0}};const o=(()=>{switch(t.grade){case 2:return 12.8562;case 3:return 25.8165;case 4:return 43.1304;case 5:return 64.8}})(),r=B.hasMainStat(t.part)?(Vg(t,s)-1)*o:0,c=s.sortedSubstats.filter(N=>N[0]!=t.main.stat&&!t.substats.map(F=>F.stat).includes(N[0])),d=Math.ceil((ws(t.grade)-t.enhance)/3)-(4-t.substats.length),u=lo(t.part,t.main.stat,s),b=this.getOptimalPartScore(t.part,t.main.stat,n),p=Math.max(0,(this.substatScore(t,n).score+u)/b*100*ya+r),R=[{stat:"HP",value:0},{stat:"HP",value:0},{stat:"HP",value:0},{stat:"HP",value:0}];for(let N=0;N<t.substats.length;N++)R[N].stat=t.substats[N].stat,R[N].value=t.substats[N].value;for(let N=t.substats.length;N<4;N++){const F=c[N-t.substats.length][0];R[N].stat=F,R[N].value=ge[F][5].high}const G=Wg(R,s);R[G.index].value+=d*ge[G.stat][t.grade].high;let T=di(t.grade,ws(t.grade),t.part,t.main.stat,Mn(5,R[0],R[1],R[2],R[3]));const C=Math.max(0,(this.substatScore(T,n).score+r)/b*100*ya+u),D=[{stat:"HP",value:0},{stat:"HP",value:0},{stat:"HP",value:0},{stat:"HP",value:0}];for(let N=0;N<t.substats.length;N++)D[N].stat=t.substats[N].stat,D[N].value=t.substats[N].value+d/4*ge[D[N].stat][t.grade].mid;let V=0;for(const N of c){const[F,P]=N;V+=ge[F][t.grade].mid*P*nn[F]}V=V/c.length;for(let N=t.substats.length;N<4;N++)D[N].stat=s.sortedSubstats[0][0],D[N].value=V*(1+d/4)/(nn[s.sortedSubstats[0][0]]*s.sortedSubstats[0][1]);T=di(t.grade,ws(t.grade),t.part,t.main.stat,Mn(5,D[0],D[1],D[2],D[3]));const M=Math.max(0,(this.substatScore(T,n).score+r)/b*100*ya+u);c.reverse();const x=[{stat:"HP",value:0},{stat:"HP",value:0},{stat:"HP",value:0},{stat:"HP",value:0}];for(let N=0;N<t.substats.length;N++)x[N].stat=t.substats[N].stat,x[N].value=t.substats[N].value;for(let N=t.substats.length;N<4;N++){const F=c[N-t.substats.length][0];x[N].stat=F,x[N].value=ge[F][5].high}const W=Mg(x,s);x[W.index].value+=ge[W.stat][t.grade].low*d,T=di(t.grade,ws(t.grade),t.part,t.main.stat,Mn(5,x[0],x[1],x[2],x[3]));const H=Math.max(0,(this.substatScore(T,n).score+r)/b*100*ya+u);let O;if(l){const N=[];if(t.substats.length<4)for(const[ee,me]of c)me>=c[c.length-1][1]&&N.push(ee);const F=s.sortedSubstats.filter(ee=>t.main.stat!==ee[0]),P=[],X={...s2(t.substats,"stat"),...l2(N)},w=F.filter(ee=>X[ee[0]]),ie=w[0][1];for(const[ee,me]of w)X[ee]&&me>=ie&&P.push(ee);N.forEach((ee,me)=>N[me]=v.t(`common:Stats.${ee}`)),P.forEach((ee,me)=>P[me]=v.t(`common:Stats.${ee}`)),O={bestAddedStats:N,bestUpgradedStats:P}}let j=0;if(t.grade>=5&&t.substats.length==4){const N=y.sumArray(t.substats.map(X=>X.addedRolls??0)),F=Math.ceil((15-t.enhance)/3),P=Math.min(N+F,5);for(const X of t.substats){const w=X.stat,ie=ge[w][5].high*s.stats[w]*nn[w];P>=5?j+=ie*2.25:j+=ie*2}j=Math.min(j,b),j=(j+r)/b*100*ya+u}return{current:p,best:C,average:M,worst:H,rerollAvg:j,meta:O}}scoreCurrentRelic(t,n){if(!t)return{score:"",scoreNumber:0,rating:"",mainStatScore:0};if(!n)return console.warn("scoreCurrentRelic called but lacking character",t),{score:"",scoreNumber:0,rating:"",mainStatScore:0};const l=this.getRelicScoreMeta(n),s=t.part,o=lo(t.part,t.main.stat,l),r=this.substatScore(t,n),c=this.getOptimalPartScore(s,t.main.stat,n),d=r.score/c*100*ya+o,u=nc(d,r,t),b=r.mainStatScore;return{score:d.toFixed(1),scoreNumber:d,rating:u,mainStatScore:b,part:s,meta:l}}scoreCharacterWithRelics(t,n){if(!(t!=null&&t.id))return console.warn("scoreCharacterWithRelics called but no character given"),{relics:[],totalScore:0,totalRating:"?"};const l=n.map(c=>this.getCurrentRelicScore(c,t.id));let s=0;for(const c of l)s+=Number(c.score)+Number(c.mainStatScore);const o=3-Ig(n.filter(c=>c!=null).map(c=>c.set));s=Math.max(0,s-o*3*F0);const r=l.length<6?"?":nc((s-4*64.8)/6);return{relics:l,totalScore:s,totalRating:r}}scoreCharacter(t){if(!t)return{};const n=window.store.getState().relicsById,l=Object.values(t.equipped).map(s=>n[s??""]);return this.scoreCharacterWithRelics(t,l)}scoreRelicPotential(t,n,l=!1){const s=this.getRelicScoreMeta(n),o=lo(t.part,t.main.stat,s),r=this.getFutureRelicScore(t,n,l);return{currentPct:Math.max(0,r.current-o)/ya,bestPct:Math.max(0,r.best-o)/ya,averagePct:Math.max(0,r.average-o)/ya,worstPct:Math.max(0,r.worst-o)/ya,rerollAvgPct:Math.max(0,r.rerollAvg-o)/ya,meta:r.meta}}}function Ig(e){let t=0;const n={};return e.forEach(l=>{n[l]?(t+=1,n[l]=0):n[l]=1}),t}function lo(e,t,n){const l=n.stats,s=n.parts;if(e==m.Parts.Body||e==m.Parts.Feet||e==m.Parts.PlanarSphere||e==m.Parts.LinkRope){const o=s[e].includes(t)?1:l[t];return 1*F0*o}return 0}function di(e,t,n,l,s){return{enhance:t,grade:e,part:n,main:{stat:l,value:Wo[l][e].base+Wo[l][e].increment*t},substats:s}}function Mn(e,t,n,l,s){const o=[{stat:t.stat,value:t.value,rolls:{high:ge[t.stat][e].high,mid:ge[t.stat][e].mid,low:ge[t.stat][e].low},addedRolls:0}];return n&&o.push({stat:n.stat,value:n.value,rolls:{high:ge[n.stat][e].high,mid:ge[n.stat][e].mid,low:ge[n.stat][e].low},addedRolls:0}),l&&o.push({stat:l.stat,value:l.value,rolls:{high:ge[l.stat][e].high,mid:ge[l.stat][e].mid,low:ge[l.stat][e].low},addedRolls:0}),s&&o.push({stat:s.stat,value:s.value,rolls:{high:ge[s.stat][e].high,mid:ge[s.stat][e].mid,low:ge[s.stat][e].low},addedRolls:0}),o}function xg(e){const t=e.sortedSubstats;return t[0][1]==0?5:t[1][1]==0?0:t[2][1]>0?4:t[1][0]==a.HP&&t[0][0]==a.HP_P||t[1][0]==a.HP_P&&t[0][0]==a.HP?1:t[1][0]==a.ATK&&t[0][0]==a.ATK_P||t[1][0]==a.ATK_P&&t[0][0]==a.ATK?2:t[1][0]==a.DEF&&t[0][0]==a.DEF_P||t[1][0]==a.DEF_P&&t[0][0]==a.DEF?3:4}function Wg(e,t){let n=0,l=0,s="";for(let o=0;o<e.length;o++){const r=t.stats[e[o].stat];(r>l||o==0)&&(l=r,n=o,s=e[o].stat)}return{index:n,weight:l,stat:s}}function Mg(e,t){let n=0,l=1,s="";for(let o=0;o<e.length;o++){const r=t.stats[e[o].stat];(r<l||o==0)&&(l=r,n=o,s=e[o].stat)}return{index:n,weight:l,stat:s}}function ws(e){switch(e){case 2:return 6;case 3:return 9;case 4:return 12;default:return 15}}function nc(e,t,n){if(n&&n.grade!=5)return"?";const l=Math.min(Math.floor(e/(F0/2)),ac.length-1);return l<0||Lg(t)?"?":ac[l]}function Lg(e){return e&&e.part!=f.Hands&&e.part!=f.Head&&y.precisionRound(e.mainStatScore)<=0}function Vg(e,t){return B.hasMainStat(e.part)?t.parts[e.part].includes(e.main.stat)?1:t.stats[e.main.stat]:0}function Uu(e,t,n){return{[a.HP_P]:t.freeRolls,[a.ATK_P]:t.freeRolls,[a.DEF_P]:t.freeRolls,[a.HP]:t.freeRolls,[a.ATK]:t.freeRolls,[a.DEF]:t.freeRolls,[a.SPD]:e.speedRollsDeduction,[a.CR]:t.freeRolls,[a.CD]:t.freeRolls,[a.EHR]:t.freeRolls,[a.RES]:t.freeRolls,[a.BE]:t.freeRolls}}function Ku(e,t,n,l,s){var b;const o=e.simulation.request,r={[a.HP_P]:0,[a.ATK_P]:0,[a.DEF_P]:0,[a.HP]:0,[a.ATK]:0,[a.DEF]:0,[a.SPD]:0,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:0,[a.BE]:0};for(const p of t.substats)r[p]=n.maxPerSub;r[o.simBody]-=n.deductionPerMain,r[o.simFeet]-=n.deductionPerMain,r[o.simPlanarSphere]-=n.deductionPerMain,r[o.simLinkRope]-=n.deductionPerMain;for(const p of qt)r[p]=Math.min(r[p],n.substatGoal-10*n.freeRolls-Math.ceil(e.speedRollsDeduction)),r[p]=Math.max(r[p],n.freeRolls),((b=t.maxBonusRolls)==null?void 0:b[p])!=null&&(r[p]=Math.min(r[p],t.maxBonusRolls[p]+n.freeRolls));if(n.limitFlatStats&&(r[a.ATK]=n.freeRolls,r[a.HP]=n.freeRolls,r[a.DEF]=n.freeRolls),r[a.ATK]=Math.min(10,r[a.ATK]),r[a.HP]=Math.min(10,r[a.HP]),r[a.DEF]=Math.min(10,r[a.DEF]),r[a.SPD]=e.speedRollsDeduction,!s.overcapCritRate){const p=Ct.getMaxedSubstatValue(a.CR,n.quality),R=Math.max(0,100-l.xa[h.CR]*100);r[a.CR]=Math.max(n.baselineFreeRolls,Math.max(n.enforcePossibleDistribution?6:0,Math.min(o.simBody==a.CR?Math.ceil((R-32.4)/p):Math.ceil(R/p),r[a.CR])))}const c=Ct.getMaxedSubstatValue(a.EHR,n.quality),d=Math.max(0,120-l.xa[h.EHR]*100);r[a.EHR]=r[a.EHR]==0?0:Math.max(n.baselineFreeRolls,Math.max(n.enforcePossibleDistribution?6:0,Math.min(o.simBody==a.EHR?Math.ceil((d-43.2)/c):Math.ceil(d/c),r[a.EHR])));const u=Math.ceil(e.speedRollsDeduction)-6;for(const p of qt)p!=a.SPD&&(r[p]=Math.max(n.baselineFreeRolls,Math.min(r[p],36-u)));return r}const La={quality:.8,speedRollValue:2.3,substatGoal:48,freeRolls:2,maxPerSub:30,deductionPerMain:5,baselineFreeRolls:2,limitFlatStats:!0,enforcePossibleDistribution:!1,substatRollsModifier:Pg},wo={...La,substatRollsModifier:e=>e},ui={quality:1,speedRollValue:2.6,substatGoal:54,freeRolls:0,maxPerSub:36,deductionPerMain:6,baselineFreeRolls:0,limitFlatStats:!1,enforcePossibleDistribution:!0,substatRollsModifier:e=>e};function Pg(e,t,n){const l=Object.values(n).filter(s=>s.augmentedStats.mainStat==t).length;return t==a.SPD?ul(l,e):Ju(l,e)}function Ju(e,t){const n=12-2*e;if(t<=n)return t;const l=Math.max(0,t-n),s=l/Math.pow(l,.25);return n+s}function ul(e,t){const n=12-2*e;if(t<=n)return t;const l=Math.max(0,t-n),s=l/Math.pow(l,.1);return n+s}function Fg(e,t,n){let l=0,s=0;for(;l<t;)s++,l=ul(e,s)*n;const o=s-1;if(l===t)return s;let r=o,c=s,d=0;const u=1e-6;for(;c-r>u;)d=(r+c)/2,ul(e,d)*n<t?r=d:c=d;return d}function Bg(e){const t=y.clone(e),n={};for(const l of Object.values(f))n[l]=t[l]||{set:-1,substats:[],main:{stat:"NONE",value:0}};return n}function Hg(e){return e.request.simFeet==a.SPD}function Au(e,t){const n=Hg(e);return t.substatGoal==48?n?25:26:n?30:36}function ju(e,t){const n=e.result;return t.result.simScore-n.simScore}function vg(e,t,n,l,s,o,r,c,d){const u=t-r.xa[h.SPD],b=[];for(const p of n.parts[f.Feet])for(const R of n.parts[f.PlanarSphere]){const G=y.clone(e);G.request.simPlanarSphere=R,G.request.simFeet=p;const T=p==a.SPD?Math.max(0,y.precisionRound((u-25.032)/ui.speedRollValue)):Math.max(0,y.precisionRound(u/ui.speedRollValue));if(T>36&&p!=a.SPD)continue;const C={simulation:G,finalSpeed:0,speedRollsDeduction:Math.min(T,Au(G,ui))},D=Uu(C,ui),V=Ku(C,n,ui,r,d);Object.values(qt).map(x=>C.simulation.request.stats[x]=V[x]);const M=zu(C,D,V,l,s,o,n,ui,d);b.push(M)}return b.sort(ju),b[0]}const oo={};function Xg(e,t,n,l){const s=e.form,o=s.characterId,r=s.characterEidolon,c=s.lightCone,d=s.lightConeSuperimposition,u=I.getMetadata().characters[o];if(!(u!=null&&u.scoringMetadata.simulation))return console.log("No scoring sim defined for this character"),null;if(!o||!s)return console.log("Invalid character sim setup"),null;const b=u.scoringMetadata,p=I.getScoringMetadata(o),R=y.clone(b.simulation),G=y.clone(p.simulation),T=p.traces,C=G.deprioritizeBuffs??!1;n==Gi&&(R.teammates=G.teammates);const D=Bg(t),V=y.objectHash({traces:T,characterId:o,characterEidolon:r,lightCone:c,lightConeSuperimposition:d,relicsByPart:D,metadata:R,customMetadata:G,showcaseTemporaryOptions:l});if(oo[V])return oo[V];const M={addBreakEffect:!1,overcapCritRate:!1,simPoetActive:!1,characterPoetActive:!1,forceBasicSpd:!0,forceBasicSpdValue:0},x=R.substats;R.comboBreak>0&&(M.addBreakEffect=!0),R.teammates.find(oe=>oe.characterId=="8005"||oe.characterId=="8006"||oe.characterId=="1225")&&(M.addBreakEffect=!0),M.addBreakEffect&&!x.includes(a.BE)&&x.push(a.BE),M.addBreakEffect&&!R.parts[f.LinkRope].includes(a.BE)&&R.parts[f.LinkRope].push(a.BE),M.addBreakEffect&&!R.relicSets.find(oe=>oe[0]==oe[1]&&oe[1]==g.IronCavalryAgainstTheScourge)&&R.relicSets.push([g.IronCavalryAgainstTheScourge,g.IronCavalryAgainstTheScourge]),M.addBreakEffect&&!R.relicSets.find(oe=>oe[0]==oe[1]&&oe[1]==g.IronCavalryAgainstTheScourge)&&R.relicSets.push([g.IronCavalryAgainstTheScourge,g.IronCavalryAgainstTheScourge]),M.addBreakEffect&&!R.ornamentSets.find(oe=>oe==g.TaliaKingdomOfBanditry)&&R.ornamentSets.push(g.TaliaKingdomOfBanditry),M.addBreakEffect&&!R.ornamentSets.find(oe=>oe==g.ForgeOfTheKalpagniLantern)&&R.ornamentSets.push(g.ForgeOfTheKalpagniLantern),R.teammates.find(oe=>oe.characterId=="1313"&&oe.characterEidolon==6)&&(M.overcapCritRate=!0);const W=wg(R,D);D.Head.set==g.PoetOfMourningCollapse&&D.Hands.set==g.PoetOfMourningCollapse&&D.Body.set==g.PoetOfMourningCollapse&&D.Feet.set==g.PoetOfMourningCollapse&&(M.characterPoetActive=!0),W.relicSet1==g.PoetOfMourningCollapse&&W.relicSet2==g.PoetOfMourningCollapse&&(M.simPoetActive=!0);const H=Di(o,c,r,d,!1),O=Di(R.teammates[0].characterId,R.teammates[0].lightCone,R.teammates[0].characterEidolon,R.teammates[0].lightConeSuperimposition,!0),j=Di(R.teammates[1].characterId,R.teammates[1].lightCone,R.teammates[1].characterEidolon,R.teammates[1].lightConeSuperimposition,!0),N=Di(R.teammates[2].characterId,R.teammates[2].lightCone,R.teammates[2].characterEidolon,R.teammates[2].lightConeSuperimposition,!0);H.teammate0=O,H.teammate1=j,H.teammate2=N,H.deprioritizeBuffs=C;const F=Yi(H),P=(oe,at=!0)=>{oe&&(oe.unpenalizedSimScore=oe.xa[h.COMBO_DMG],oe.penaltyMultiplier=Ug(oe,R,La),oe.simScore=oe.unpenalizedSimScore*(at?oe.penaltyMultiplier:1))};let{originalSimResult:X,originalSim:w}=No(D,W,H,F,wo,M);const ie=y.precisionRound(X.ca[h.SPD],3),{baselineSimResult:ee,baselineSim:me}=Og(D,H,F,W,La,M);P(ee);const be=l.spdBenchmark!=null?Math.max(ee[a.SPD],l.spdBenchmark):null;M.simPoetActive?ee[a.SPD]<95?M.forceBasicSpdValue=Math.min(ie,94.999,be??94.999):ee[a.SPD]<110&&(M.forceBasicSpdValue=Math.min(ie,109.999,be??109.999)):M.forceBasicSpdValue=Math.min(be??ie,ie);const{originalSimResult:Ge,originalSim:ae}=No(D,W,H,F,wo,M);let Q;M.characterPoetActive?Q=Ge.xa[h.SPD]:M.simPoetActive?Q=M.forceBasicSpdValue:(X=Ge,w=ae,Q=X.xa[h.SPD]),P(X);const Xe=Ng(e,R,W,w),Pe=[];for(const oe of Xe){const Ut=Ha(H,F,[oe.simulation],La)[0].xa[h.SPD];oe.finalSpeed=Ut;const ti=oe.simulation.request.simFeet==a.SPD?1:0,Dn=y.precisionRound(Fg(ti,Q-Ut,La.speedRollValue),3);if(oe.speedRollsDeduction=Math.min(Math.max(0,Dn),Au(oe.simulation,La)),oe.speedRollsDeduction>=26&&oe.simulation.request.simFeet!=a.SPD){console.log("Rejected candidate sim with non SPD boots");continue}const ai=Uu(oe,La),Be=Ku(oe,R,La,ee,M);Object.values(qt).map(en=>oe.simulation.request.stats[en]=Be[en]);const Gt=zu(oe,ai,Be,H,F,P,R,La,M);P(Gt.result),Gt.key=JSON.stringify(Gt.request),Gt.name="",oe.simulation.request.stats[a.SPD]>26&&oe.simulation.request.simFeet!=a.SPD?console.log("Rejected candidate sim"):Pe.push(Gt)}Pe.sort(ju);const Oe=Pe[0],tt=Oe.result,ue=vg(Oe,Q,R,H,F,P,ee,X,M),te=ue.result;P(te);const pe=tt.simScore,Se=X.simScore,Fe=ee.simScore,et=te.simScore,Lt=Se>=pe?1+(Se-pe)/(et-pe):(Se-Fe)/(pe-Fe),{substatUpgradeResults:Ot,setUpgradeResults:Ga,mainUpgradeResults:q}=kg(X,w,Pe[0],H,F,R,P,La);for(const oe of[...Ot,...Ga,...q]){const at=oe.simulationResult.simScore,Ut=at>=pe?1+(at-pe)/(et-pe):(at-Fe)/(pe-Fe);oe.percent=Ut}Ot.sort((oe,at)=>at.percent-oe.percent),Ga.sort((oe,at)=>at.percent-oe.percent),q.sort((oe,at)=>at.percent-oe.percent);const Je={percent:Lt,originalSim:w,baselineSim:me,benchmarkSim:Oe,maximumSim:ue,originalSimResult:X,baselineSimResult:ee,benchmarkSimResult:tt,maximumSimResult:te,originalSimScore:Se,baselineSimScore:Fe,benchmarkSimScore:pe,maximumSimScore:et,substatUpgrades:Ot,setUpgrades:Ga,mainUpgrades:q,simulationForm:H,simulationMetadata:R,characterMetadata:u,originalSpd:ie,spdBenchmark:be,simulationFlags:M};return oo[V]=Je,Je}function kg(e,t,n,l,s,o,r,c){const d=[];for(const C of o.substats){const D=C,V=y.clone(t);V.request.stats[D]=(V.request.stats[D]??0)+1;const M=Ha(l,s,[V],{...c,substatRollsModifier:x=>x})[0];r(M),d.push({stat:D,simulation:V,simulationResult:M})}const u=[],b=y.clone(t);b.request.simRelicSet1=n.request.simRelicSet1,b.request.simRelicSet2=n.request.simRelicSet2,b.request.simOrnamentSet=n.request.simOrnamentSet;const p=Ha(l,s,[b],{...c,substatRollsModifier:C=>C})[0];r(p),u.push({simulation:b,simulationResult:p});const R=[],G=_u(l,o,t);function T(C){for(const D of o.parts[C]){const V=y.clone(t),M=Yg[C],x=V.request[M];if(G&&x==a.ERR||D==x||D==a.SPD||x==a.SPD)continue;V.request[M]=D;const W=Ha(l,s,[V],{...c,substatRollsModifier:O=>O})[0];r(W);const H={stat:D,part:C,simulation:V,simulationResult:W};R.push(H)}}return T(f.Body),T(f.Feet),T(f.PlanarSphere),T(f.LinkRope),{substatUpgradeResults:d,setUpgradeResults:u,mainUpgradeResults:R}}const Yg={[f.Body]:"simBody",[f.Feet]:"simFeet",[f.PlanarSphere]:"simPlanarSphere",[f.LinkRope]:"simLinkRope"};function Di(e,t,n,l,s=!1){var R;if(!e)return null;const o=I.getMetadata(),r=wi({id:e});r.characterId=e,r.characterEidolon=n,r.lightCone=t,r.lightConeSuperimposition=l,r.characterConditionals={},r.lightConeConditionals={};const c={characterId:e,characterEidolon:n},d=Cn(r,o),u=ta.get(c),b=aa.get(d);s?(u.teammateDefaults&&B.mergeUndefinedValues(r.characterConditionals,u.teammateDefaults()),b.teammateDefaults&&B.mergeUndefinedValues(r.lightConeConditionals,b.teammateDefaults())):(u.defaults&&B.mergeUndefinedValues(r.characterConditionals,u.defaults()),b.defaults&&B.mergeUndefinedValues(r.lightConeConditionals,b.defaults()));const p=(R=I.getMetadata().characters[e].scoringMetadata)==null?void 0:R.simulation;return p?(r.comboAbilities=[...p.comboAbilities],r.comboDot=p.comboDot,r.comboBreak=p.comboBreak):(r.comboAbilities=[null,"BASIC"],r.comboDot=0,r.comboBreak=0),r}function zu(e,t,n,l,s,o,r,c,d){const u=t,b=n,p=r.breakpoints,R=c.substatGoal;let G=ic(b),T=e.simulation,C,D=!0,V=!0,M=0;const x=y.sumArray(Object.values(T.request.stats)),W=y.sumArray(Object.values(u));if(x==W||x<R)return T.result=Ha(l,s,[T],{...c,substatRollsModifier:c.substatRollsModifier})[0],T;const H={parts:[]};if(c.enforcePossibleDistribution){V=!1,b[a.SPD]=Math.max(6,b[a.SPD]),T.request.stats[a.SPD]=Math.max(6,b[a.SPD]),G=ic(b);const j=[...r.substats,a.SPD],N=P=>{const X={};return j.forEach(w=>{w!=P&&(X[w]=!0)}),{main:P,substats:X}},F=e.simulation.request;H.parts=[N(F.simLinkRope),N(F.simPlanarSphere),N(F.simFeet),N(F.simBody),N(a.ATK),N(a.HP)]}const O={};for(;G>R;){let j,N,F,P;const X=Object.entries(T.request.stats).filter(([w,ie])=>ie>c.freeRolls).map(([w])=>w).filter(w=>!O[w]);T.request.stats;for(const w of X){if(T.request.stats[w]<=c.freeRolls||B.sumArray(Object.values(T.request.stats))<=c.substatGoal||w==a.SPD&&T.request.stats[a.SPD]<=Math.ceil(e.speedRollsDeduction)||T.request.stats[w]<=u[w])continue;const ie=T.request.stats[w],ee=T;ee.request.stats[w]-=1;const me=Ha(l,s,[ee],{...c,substatRollsModifier:c.substatRollsModifier,simulationFlags:d})[0];if(M++,D&&(p!=null&&p[w])&&me.xa[xt[w]]<p[w]){T.request.stats[w]=ie;continue}o(me),(!j||me.simScore>F.simScore)&&(j=ee,N=Object.assign({},ee.request.stats),F=me,P=w),T.request.stats[w]=ie}if(!F){if(D){D=!1;continue}if(V){V=!1;continue}G-=1;continue}if(c.enforcePossibleDistribution&&N[P]<6){const w=P,ie=N[w],ee=H.parts.map(me=>me.substats[w]).filter(me=>me).length;if(ie<ee){let me=!1;for(const be of H.parts)if(be.substats[w]&&!(Object.values(be.substats).length<=4)){delete be.substats[w],me=!0;break}if(!me){O[w]=!0;continue}}}T=j,C=F,T.request.stats=N,G-=1}return T.result=C,console.log("simulationRuns",M,e.simulation.request.simBody,e.simulation.request.simFeet,e.simulation.request.simLinkRope,e.simulation.request.simPlanarSphere),T}function ic(e){let t=0;for(const n of qt)t+=e[n];return t}function wg(e,t){const{relicSetNames:n,ornamentSetName:l}=Qu(t);let s=e.relicSets[0][0],o=e.relicSets[0][1],r=e.ornamentSets[0];const c=e.relicSets.map(u=>u.sort());for(const u of c){if(n[0]==u[0]&&n[1]==u[1]){s=u[0],o=u[1];break}if(u[0]!=u[1]&&u.includes(n[0])&&u.includes(n[1])){s=n[0],o=n[1];break}}const d=e.ornamentSets;for(const u of d)if(l==u){r=u;break}return{relicSet1:s,relicSet2:o,ornamentSet:r}}function _u(e,t,n){return n.request.simLinkRope==a.ERR&&t.errRopeEidolon!=null&&e.characterEidolon>=t.errRopeEidolon}function Ng(e,t,n,l){const s=t.parts[f.Feet],r=_u(e.form,t,l)?[a.ERR]:t.parts[f.LinkRope],{relicSet1:c,relicSet2:d,ornamentSet:u}=n,b=[];for(const p of t.parts[f.Body])for(const R of s)for(const G of t.parts[f.PlanarSphere])for(const T of r){const C={name:"",simRelicSet1:c,simRelicSet2:d,simOrnamentSet:u,simBody:p,simFeet:R,simPlanarSphere:G,simLinkRope:T,stats:{[a.HP_P]:0,[a.ATK_P]:0,[a.DEF_P]:0,[a.HP]:0,[a.ATK]:0,[a.DEF]:0,[a.SPD]:0,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:0,[a.BE]:0}},V={simulation:{name:"",key:"",simType:qa.SubstatRolls,request:C},finalSpeed:0,speedRollsDeduction:0};b.push(V)}return b}function Og(e,t,n,l,s,o){const r=y.clone(e);Object.values(f).forEach(u=>r[u]=r[u]||b0()),Object.values(f).forEach(u=>r[u].part=u),Object.values(r).map(u=>{if(u.substats=[],u.part==f.Head)for(const b of qt)b!=a.SPD&&u.substats.push({stat:b,value:Ct.getMaxedSubstatValue(b,s.quality)*0})});const{originalSimResult:c,originalSim:d}=No(r,l,t,n,s,o,0,!0);return{baselineSimResult:c,baselineSim:d}}function No(e,t,n,l,s,o,r=1,c=!1){const d=y.clone(e);Object.values(f).forEach(T=>d[T].part=T);const{relicSetNames:u,ornamentSetName:b}=Qu(d),p=I0(d,u[0],u[1],b,s.quality,s.speedRollValue);if(c){const{relicSet1:T,relicSet2:C,ornamentSet:D}=t;p.simRelicSet1=T,p.simRelicSet2=C,p.simOrnamentSet=D}const R={name:"",key:"",simType:qa.SubstatRolls,request:p},G=Ha(n,l,[R],{...s,substatRollsModifier:T=>T,mainStatMultiplier:r,simulationFlags:o})[0];return R.result=G,{originalSimResult:G,originalSim:R}}function Qu(e){Object.values(f).forEach(o=>e[o]=e[o]||b0());const t=[e[f.Head].set,e[f.Hands].set,e[f.Body].set,e[f.Feet].set].filter(o=>o!=-1),n=[e[f.PlanarSphere].set,e[f.LinkRope].set].filter(o=>o!=-1),l=Cu(t,!0),s=Du(n,!0);return l.sort(),{relicSetNames:l,ornamentSetName:s}}function Ug(e,t,n){let l=1;if(t.breakpoints)for(const s of Object.keys(t.breakpoints))B.isFlat(s)?l*=(Math.min(1,e.xa[xt[s]]/t.breakpoints[s])+1)/2:l*=Math.min(1,1-(t.breakpoints[s]-e.xa[xt[s]])/Ct.getMaxedSubstatValue(s,n.quality));return e.penaltyMultiplier=l,l}function Kg(e,t,n,l=!0){if(n!=6||!l)return"?";let s="WTF+";const o=y.precisionRound(e*100);for(const[r,c]of Object.entries($u))if(!(r=="AEON"&&!t)&&(s=r,o>=c))return s;return"?"}const $u={AEON:150,"WTF+":140,WTF:130,"SSS+":121,SSS:113,"SS+":106,SS:100,"S+":95,S:90,"A+":85,A:80,"B+":75,B:70,"C+":65,C:60,"D+":55,D:50,"F+":45,F:40};function Jg(e,t,n){let l,s;if(e==Zt.CHARACTER_TAB)l=dt.scoreCharacter(t),s={Head:mi(n,t,f.Head),Hands:mi(n,t,f.Hands),Body:mi(n,t,f.Body),Feet:mi(n,t,f.Feet),PlanarSphere:mi(n,t,f.PlanarSphere),LinkRope:mi(n,t,f.LinkRope)};else{const o=t.equipped,r=Object.values(o);l=dt.scoreCharacterWithRelics(t,r),s=o}return r2(Object.values(s)).forEach(o=>{const r=l.relics.find(c=>c.part==o.part);r&&(o.scoringResult=r)}),{scoringResults:l,displayRelics:s}}function mi(e,t,n){var l;return(l=t.equipped)!=null&&l[n]?e[t.equipped[n]]:null}function Ag(e){var l,s,o;const t=((l=e==null?void 0:e.portrait)==null?void 0:l.artistName)??((o=(s=I.getCharacterById(e==null?void 0:e.id))==null?void 0:s.portrait)==null?void 0:o.artistName);if(!t)return;const n=t.trim();return n.length<1?void 0:n}function jg(e,t){const s=I.getMetadata().characters[e.id].imageCenter,o=e.form.lightCone&&e.form.lightCone!="0"?I.getMetadata().lightCones[e.form.lightCone].imageCenter:0;let r=UR,c=KR,d=mu,u=JR,b=Gs,p=OR;return t&&(r=Aa,c=128,d=Aa+16,u=1260/902*d,b=Gs-128-8,p=950),{tempLcParentW:r,tempLcParentH:c,tempLcInnerW:d,tempLcInnerH:u,tempInnerW:p,tempParentH:b,newLcHeight:128,newLcMargin:8,charCenter:s,lcCenter:o}}function zg(e,t,n){const l=y.clone(t);qe.condenseRelicSubstatsForOptimizerSingle(Object.values(l).filter(c=>!!c));const r={...An(se.displayToForm(se.formToDisplay(e.form)),l,null,null,null).c.toBasicStatsObject()};return r[n.elementalDmgType]=r.ELEMENTAL_DMG,r}function _g(e,t,n,l,s,o){if(n!=Wi)return null;const r=o[e.id]??{};let c=Xg(e,t,l,r);return c!=null&&c.originalSim?c.originalSimResult[s.elementalDmgType]=c.originalSimResult.ELEMENTAL_DMG:c=null,c}function Qg(e,t,n){const l=P0.onEditOk(t,e);n(l),Te.delayedSave()}function $g(e,t){const n=v.getFixedT(null,["charactersTab","modals","common"]);I.setRelic(e),window.setRelicRows(I.getRelics()),t(e),Te.delayedSave(),_.success(n("CharacterPreview.Messages.AddedRelic"))}function qg(e,t,n,l){const s=v.getFixedT(null,["charactersTab","modals","common"]),{type:o,config:r}=t;switch(o){case"add":n(r),I.saveCharacterPortrait(e.id,r),_.success(s("CharacterPreview.Messages.SavedPortrait")),Te.delayedSave();break;case"delete":I.deleteCharacterPortrait(e.id),n(void 0),_.success(s("CharacterPreview.Messages.RevertedPortrait")),Te.delayedSave();break;default:console.error(`Payload of type '${o}' is not valid!`)}l(!1)}function e5(e,t,n){let l=n[e.id];const s=I.getMetadata().characters[e.id].scoringMetadata;if(s!=null&&s.simulation){const o=I.getScoringMetadata(e.id);B.objectHash(o.simulation.teammates)!=B.objectHash(s.simulation.teammates)&&l!=as&&(l=Gi)}return t.current=e.id,l??as}function t5(e){const t=v.getFixedT(null,["charactersTab","modals","common"]),n=e.form.characterId,l=I.getMetadata().characters[n],s=l.element,o=80,r=e.form.characterEidolon,c=n?t(`gameData:Characters.${n}.Name`):"",d=l.path,u=e.form.lightCone,b=80,p=e.form.lightConeSuperimposition,R=I.getMetadata().lightCones[u],G=u?t(`gameData:Lightcones.${u}.Name`):"",T=k.getLightConePortrait(R)||"",C=ei[s];return{characterId:n,characterMetadata:l,characterElement:s,characterLevel:o,characterEidolon:r,characterName:c,characterPath:d,lightConeId:u,lightConeLevel:b,lightConeSuperimposition:p,lightConeMetadata:R,lightConeName:G,lightConeSrc:T,elementalDmgType:C}}const a5=[[111.1,111.2],[114.2,114.3],[133.3,133.4],[142.8,142.9],[155.5,155.6],[171.4,171.5],[177.7,177.8]],n5=e=>a5.some(([t,n])=>e>=t&&e<n),sc={"Fire DMG Boost":"Fire DMG","Ice DMG Boost":"Ice DMG","Imaginary DMG Boost":"Imaginary DMG","Lightning DMG Boost":"Lightning DMG","Physical DMG Boost":"Physical DMG","Quantum DMG Boost":"Quantum DMG","Wind DMG Boost":"Wind DMG"},i5={simScore:"Combo DMG","Fire DMG Boost":"Fire DMG","Ice DMG Boost":"Ice DMG","Imaginary DMG Boost":"Imaginary DMG","Lightning DMG Boost":"Lightning DMG","Physical DMG Boost":"Physical DMG","Quantum DMG Boost":"Quantum DMG","Wind DMG Boost":"Wind DMG","Outgoing Healing Boost":"Healing Boost","Energy Regeneration Rate":"Energy Regen",BASIC:"Basic Damage",ULT:"Ult Damage",SKILL:"Skill Damage",FUA:"FUA Damage",DOT:"DoT Damage"};function Jt(e){const{stat:t,finalStats:n,edits:l}=e,s=y.precisionRound(n[t]),{t:o,i18n:r}=K("common"),c=i5[t]||t=="CV"?r.exists(`ReadableStats.${t}`)?o(`ReadableStats.${t}`):o(`DMGTypes.${t}`):o(`Stats.${t}`),{valueDisplay:d,value1000thsPrecision:u}=B0(s,e.value,e.stat,e.preciseSpd);return n?i.jsxs(S,{justify:"space-between",align:"center",title:u,children:[i.jsx("img",{src:k.getStatIcon(t),style:{width:Ke,height:Ke,marginRight:3}}),`${c}${l!=null&&l[t]?" *":""}`,i.jsx(Wt,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),`${d}${B.isFlat(t)||t=="CV"||t=="simScore"?"":"%"}${t=="simScore"?o("ThousandsSuffix"):""}`]}):(console.log("No final stats"),i.jsx("div",{}))}function B0(e,t,n,l){let s,o;return n=="CV"?(s=yt(B.precisionRound(t)),o=Pn(B.precisionRound(t))):n=="simScore"||n=="COMBO_DMG"?(s=yt(B.truncate10ths(B.precisionRound((t??0)/1e3))),o=Pn(B.precisionRound(t))):n==m.Stats.SPD?(s=n5(e)||l?Pn(B.precisionRound(e,3)):yt(B.truncate10ths(B.precisionRound(e,3))),o=Pn(B.precisionRound(e))):B.isFlat(n)?(s=hn(Math.floor(e)),o=Pn(B.precisionRound(e))):(s=yt(B.truncate10ths(B.precisionRound(e*100))),o=Pn(B.truncate1000ths(B.precisionRound(e*100)))),{valueDisplay:s,value1000thsPrecision:o}}const{Text:H0}=ye,Tn=Ft(H0)`
    font-family: Segoe UI, Frutiger, Frutiger Linotype, Dejavu Sans, Helvetica Neue, Arial, sans-serif;
    font-size: 17px;
    font-weight: 400;
    white-space: nowrap;
`,s5=Ft(H0)`
    font-family: Segoe UI, Frutiger, Frutiger Linotype, Dejavu Sans, Helvetica Neue, Arial, sans-serif;
    font-size: 17px;
    font-weight: 400;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
`,Hn=Ft(H0)`
    font-family: Segoe UI, Frutiger, Frutiger Linotype, Dejavu Sans, Helvetica Neue, Arial, sans-serif;
    font-size: 16px;
    font-weight: 400;
    white-space: nowrap;
`,lc=.001,Oo=e=>{const t=l5(e.characterId),n=window.store(l=>l.savedSession[Ue.showcasePreciseSpd]);return i.jsx(Tn,{children:i.jsxs(S,{vertical:!0,style:{paddingLeft:4,paddingRight:6},gap:e.scoringType==za?5:3,children:[i.jsx(Jt,{finalStats:e.finalStats,stat:a.HP,edits:t}),i.jsx(Jt,{finalStats:e.finalStats,stat:a.ATK,edits:t}),i.jsx(Jt,{finalStats:e.finalStats,stat:a.DEF,edits:t}),i.jsx(Jt,{finalStats:e.finalStats,stat:a.SPD,edits:t,preciseSpd:n}),i.jsx(Jt,{finalStats:e.finalStats,stat:a.CR,edits:t}),i.jsx(Jt,{finalStats:e.finalStats,stat:a.CD,edits:t}),i.jsx(Jt,{finalStats:e.finalStats,stat:a.EHR,edits:t}),i.jsx(Jt,{finalStats:e.finalStats,stat:a.RES,edits:t}),i.jsx(Jt,{finalStats:e.finalStats,stat:a.BE,edits:t}),!e.simScore&&e.finalStats[a.OHB]>lc&&i.jsx(Jt,{finalStats:e.finalStats,stat:a.OHB,edits:t}),(e.showAll||e.finalStats[a.ERR]>lc||e.simScore==null)&&i.jsx(Jt,{finalStats:e.finalStats,stat:a.ERR,edits:t}),i.jsx(Jt,{finalStats:e.finalStats,stat:e.elementalDmgValue,edits:t}),e.simScore!=null&&i.jsx(Jt,{finalStats:e.finalStats,stat:"simScore",value:e.simScore})]})})};function l5(e){if(!e)return{};const t=I.getMetadata().characters[e],n=Wd(t),l=t.traces,s={};for(const[o,r]of Object.entries(l))y.precisionRound(n[o])!=y.precisionRound(r)&&(s[o]=!0,o==a.ATK_P&&(s[a.ATK]=!0),o==a.DEF_P&&(s[a.DEF]=!0),o==a.HP_P&&(s[a.HP]=!0));return s}function v0(e,t=100){const[n,l]=E.useState(null);return E.useEffect(()=>{const s=setTimeout(()=>{l(e)},t);return()=>clearTimeout(s)},[e,t]),n}const o5=()=>i.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"none",viewBox:"0 1 20 20",children:i.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v13m0-13 4 4m-4-4-4 4"})}),r5=e=>i.jsx(Nn,{component:o5,...e});function qu(e,t){const n=d5(e);return c5(n,t)}function c5(e,t){const n=Object.fromEntries(Object.values(Qt).map(s=>[s,{}])),l=I.getMetadata().characters[t.characterId].path==Xi.Remembrance;for(const s of[...e.buffsBasic,...e.buffs,...l?e.buffsMemo:[]]){const o=s.source.id,r=t.characterId==o?Qt.PRIMARY:s.source.buffType,c=n[r];c[o]||(c[o]=[]),c[o].push(s)}return n}function d5(e){const t=e.buffs,n=e.c.buffs,l=e.m?[...e.buffsMemo,...e.m.buffs]:[];return l.forEach(o=>o.memo=!0),{buffs:t,buffsMemo:l,buffsBasic:n}}function em(e){const t=e.buffGroups??u5(e.result);if(!t)return i.jsx(i.Fragment,{});const n=[],l=[];let s=0;const o=e.size??390;for(const[r,c]of Object.entries(t.PRIMARY))n.push(i.jsx(Ns,{id:r,buffs:c,buffType:Qt.PRIMARY,size:o},s++));for(const[r,c]of Object.entries(t.SETS))n.push(i.jsx(Ns,{id:r,buffs:c,buffType:Qt.SETS,size:o},s++));for(const[r,c]of Object.entries(t.CHARACTER))l.push(i.jsx(Ns,{id:r,buffs:c,buffType:Qt.CHARACTER,size:o},s++));for(const[r,c]of Object.entries(t.LIGHTCONE))l.push(i.jsx(Ns,{id:r,buffs:c,buffType:Qt.LIGHTCONE,size:o},s++));return e.singleColumn?i.jsxs(S,{gap:20,vertical:!0,children:[n,l]}):i.jsxs(S,{justify:"space-between",style:{width:"100%"},children:[i.jsx(S,{gap:20,vertical:!0,children:n}),i.jsx(S,{gap:20,vertical:!0,children:l})]})}function u5(e){if(!e)return null;e.simulationForm.trace=!0;const n=Ha(e.simulationForm,null,[e.originalSim],wo)[0].tracedX;return qu(n,e.simulationForm)}function Ns(e){K();const{id:t,buffs:n,buffType:l,size:s}=e;let o;return l==Qt.PRIMARY||l==Qt.CHARACTER?o=k.getCharacterAvatarById(t):l==Qt.LIGHTCONE?o=k.getLightConeIconById(t):l==Qt.SETS?o=k.getSetImage(g[t]):o=k.getBlank(),i.jsxs(S,{align:"center",gap:5,children:[i.jsx("img",{src:o,style:{width:64,height:64}}),i.jsx(m5,{buffs:n,size:s})]})}function m5(e){const{buffs:t}=e,{t:n}=K(["gameData","optimizerTab"]),l=e.size??390,s=[{dataIndex:"value",key:"value",width:70,minWidth:70,render:r=>i.jsx("span",{style:{textWrap:"nowrap"},children:r})},{dataIndex:"stat",key:"stat",render:(r,c)=>i.jsxs(S,{justify:"space-between",children:[i.jsxs("span",{style:{flex:"1 1 auto",overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap",marginRight:10,minWidth:130},children:[`${c.statLabel}`," ",c.memo?"ᴹ":""]}),i.jsx("span",{style:{flex:"1 1 auto",overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap",textAlign:"end"},children:c.sourceLabel})]})}],o=t.map((r,c)=>{var T;const d=r.stat,u=!is[d].flat,b=is[d].bool,p=((T=is[d])==null?void 0:T.label)??d;let R;switch(r.source.buffType){case Qt.CHARACTER:R=n(`optimizerTab:ExpandedDataPanel.BuffsAnalysisDisplay.Sources.${r.source.ability}`);break;case Qt.LIGHTCONE:R=n(`Lightcones.${r.source.id}.Name`);break;case Qt.SETS:R=n(`RelicSets.${ot[g[r.source.id]]}.Name`);break;default:R=r.source.label}let G;return b?G=r.value?"True":"False":u?G=`${y.precisionRound(r.value*100,2)} %`:G=`${y.precisionRound(r.value,0)}`,{key:c,value:G,memo:r.memo,statLabel:p,sourceLabel:R}});return i.jsx(Qn,{columns:s,dataSource:o,pagination:!1,size:"small",className:"buff-table remove-table-bottom-border",rowClassName:"buff-row",tableLayout:"fixed",style:{width:l,border:"1px solid #354b7d",boxShadow:Ds,borderRadius:5,overflow:"hidden",fontSize:14}})}var tm=(e=>(e[e.SMALL=390]="SMALL",e[e.LARGE=450]="LARGE",e))(tm||{});const am=730,nm=400;function b5(e){const t=e.analysis.newX.dmgSplits;if(!t)return i.jsx("div",{});t.MEMO_SKILL_DMG=e.analysis.newX.m.dmgSplits.MEMO_SKILL_DMG,t.MEMO_TALENT_DMG=e.analysis.newX.m.dmgSplits.MEMO_TALENT_DMG;const n=Object.values(t);return i.jsx(S,{vertical:!0,align:"center",gap:8,style:{width:am,height:nm,boxShadow:Ds,borderRadius:5,overflow:"hidden",background:"#243356"},children:i.jsx(h5,{data:n})})}const oc=["abilityDmg","dotDmg","superBreakDmg","jointDmg","memoDmg","additionalDmg","breakDmg","trueDmg"],rc="#DDD";function h5(e){const{t}=K("optimizerTab",{keyPrefix:"ExpandedDataPanel.DamageSplits"}),[n,l]=E.useState(null),o=e.data.filter(r=>oc.some(c=>r[c]!==0)).map(r=>{const c=r;let d=0;for(const u of oc)d+=r[u]??0;return c.sum=d,c});return o.sort((r,c)=>{const d=Object.values(r).filter(b=>typeof b=="number").reduce((b,p)=>b+p,0);return Object.values(c).filter(b=>typeof b=="number").reduce((b,p)=>b+p,0)-d}),i.jsxs(S,{justify:"center",className:"pre-font",children:[i.jsx("span",{style:{position:"absolute",marginTop:20,fontSize:14},children:t("Title")}),i.jsxs(ud,{layout:"vertical",data:o,margin:{top:50,right:60,bottom:20,left:70},barCategoryGap:"25%",width:am,height:nm,children:[i.jsx(md,{type:"number",tick:{fill:rc},tickFormatter:ds,width:100}),i.jsx(bd,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,tick:{fill:rc},tickFormatter:r=>t(`YAxisLabel.${r}`),tickMargin:10,width:20}),i.jsx(eb,{cursor:!1,isAnimationActive:!1,content:i.jsx(p5,{bar:n})}),i.jsx(tb,{formatter:r=>t(`Legend.${r}`),wrapperStyle:{paddingTop:10,paddingRight:40,paddingLeft:40}}),sn("abilityDmg","#85c1e9",l),sn("jointDmg","#2980b9",l),sn("superBreakDmg","#e59866",l),sn("additionalDmg","#bb8fce",l),sn("dotDmg","#45b39d",l),sn("memoDmg","#cd6155",l),sn("breakDmg","#f8c471",l),sn("trueDmg","#cacfd2",l,!0)]})]})}function sn(e,t,n,l=!1){return i.jsx(hd,{dataKey:e,stackId:"a",fill:t,activeBar:!1,isAnimationActive:!1,onMouseEnter:()=>n(e),onMouseLeave:()=>n(null),children:l&&i.jsx(ab,{dataKey:"sum",position:"right",formatter:ds})},e)}const p5=e=>{const{t}=K("optimizerTab",{keyPrefix:"ExpandedDataPanel.DamageSplits.TooltipText"}),{active:n,payload:l,bar:s}=e;if(!s||!l||!n)return null;const o=l.find(r=>r.dataKey==s);return o?i.jsxs(S,{vertical:!0,className:"pre-font",style:{background:"rgb(69,93,154)",padding:8,borderRadius:3},children:[i.jsx("span",{style:{fontSize:14,fontWeight:"bold"},children:t(s)}),i.jsx("span",{children:ra(Math.floor(o.value))})]}):null};function ds(e){return`${Math.floor(Number(e)/1e3)}${v.t("common:ThousandsSuffix")}`}const S5={"WTF+":!0,"SSS+":!0,"SS+":!0,"S+":!0,"A+":!0,"B+":!0,"C+":!0,"D+":!0,"F+":!0};function R5(e){const{maximum:t,benchmark:n,minimum:l}=e,s=Math.min(t,Math.max(e.score,l)),o=Math.random(),r=Object.entries($u).sort((ae,Q)=>Q[1]-ae[1]),c=ae=>{const Q=ae/100;if(ae<=100)return l+(n-l)*Q;{const Xe=(ae-100)/100;return n+(t-n)*Xe}},d=[{name:"Score",value:s}],u="#666",b="#999",p=1060,R=150,G={top:45,right:20,left:20,bottom:55},T=10,C=28,D=36,V=p-G.left-G.right,M="#FF6355dd",x="#faf742dd",W="#b0fa42dd",H="#75ec46dd",O="#17D553dd",j="#23BBFFdd",N="#9F50FFdd",F="#BC38FFdD",P="0%",X=`${(n-l)/2/(t-l)*100}%`,w=`${(n-l)*(3/4)/(t-l)*100}%`,ie=`${(n-l)/(t-l)*100}%`,ee=`${((t-n)/4+(n-l))/(t-l)*100}%`,me=`${((t-n)/2+(n-l))/(t-l)*100}%`,be=`${((t-n)*(3/4)+(n-l))/(t-l)*100}%`;return i.jsx("div",{style:{width:1060},children:i.jsxs(ud,{layout:"vertical",width:p,height:R,data:d,margin:G,barSize:20,children:[i.jsx(md,{type:"number",domain:[l,t],tick:!1,tickLine:!1,axisLine:{stroke:"#777",strokeWidth:1}}),i.jsx(bd,{type:"category",tick:!1,axisLine:!1,width:0,height:10}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:`gradient${o}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{offset:P,stopColor:M}),i.jsx("stop",{offset:X,stopColor:x}),i.jsx("stop",{offset:w,stopColor:W}),i.jsx("stop",{offset:ie,stopColor:H}),i.jsx("stop",{offset:ee,stopColor:O}),i.jsx("stop",{offset:me,stopColor:j}),i.jsx("stop",{offset:be,stopColor:N}),i.jsx("stop",{offset:"100%",stopColor:F})]})}),i.jsx("rect",{x:G.left,y:G.top,width:V,height:20,fill:`url(#gradient${o})`,opacity:.15}),i.jsx(hd,{dataKey:"value",minPointSize:5,isAnimationActive:!1,fill:`url(#gradient${o})`}),i.jsx(Ni,{x:s,stroke:"#fff",strokeWidth:4}),i.jsxs(Ni,{x:t,stroke:u,strokeWidth:1,children:[i.jsx(ca,{value:"200%",position:"bottom",fontSize:12,offset:T,fill:b}),i.jsx(ca,{value:`${ds(t)}`,position:"top",fontSize:12,offset:C,fill:b}),i.jsx(ca,{value:"DMG",position:"top",fontSize:12,offset:T,fill:b})]}),i.jsxs(Ni,{x:n,stroke:u,strokeWidth:1,children:[i.jsx(ca,{value:`${ds(n)}`,position:"top",fontSize:12,offset:C,fill:b}),i.jsx(ca,{value:"DMG",position:"top",fontSize:12,offset:T,fill:b})]}),i.jsxs(Ni,{x:l,stroke:u,strokeWidth:1,children:[i.jsx(ca,{value:"0%",position:"bottom",fontSize:12,offset:T,fill:b}),i.jsx(ca,{value:`${ds(l)}`,position:"top",fontSize:12,offset:C,fill:b}),i.jsx(ca,{value:"DMG",position:"top",fontSize:12,offset:T,fill:b})]}),r.map(([ae,Q])=>{const Xe=c(Q);return i.jsx(Ni,{x:Xe,stroke:u,strokeWidth:1,children:S5[ae]?i.jsxs(i.Fragment,{children:[i.jsx(ca,{value:ae,position:"bottom",fontSize:12,offset:D+T,fill:b}),i.jsx(ca,{value:`${Q}%`,position:"bottom",fontSize:11,offset:D+C,fill:b})]}):i.jsxs(i.Fragment,{children:[i.jsx(ca,{value:ae,position:"bottom",fontSize:12,offset:T,fill:b}),i.jsx(ca,{value:`${Q}%`,position:"bottom",fontSize:11,offset:C,fill:b})]})},ae)})]})})}const f5=429,cc=730;function G5(e){const{analysis:t}=e;return i.jsxs(S,{style:{borderRadius:5,width:cc,height:f5},gap:10,children:[i.jsx(D5,{analysis:t}),i.jsx(S,{style:{borderRadius:5,width:cc,overflow:"hidden",padding:10,background:"#243356",boxShadow:Ds},children:i.jsx(g5,{analysis:t})})]})}function g5(e){const t=e.analysis.oldX.toComputedStatsObject(),n=e.analysis.newX.toComputedStatsObject();return t[e.analysis.elementalDmgValue]=t.ELEMENTAL_DMG,n[e.analysis.elementalDmgValue]=n.ELEMENTAL_DMG,t.simScore=t.COMBO_DMG,n.simScore=n.COMBO_DMG,i.jsx(Tn,{style:{width:"100%"},children:i.jsxs(S,{vertical:!0,gap:5,children:[i.jsx(na,{oldStats:t,newStats:n,stat:"COMBO_DMG"}),i.jsx(na,{oldStats:t,newStats:n,stat:a.HP}),i.jsx(na,{oldStats:t,newStats:n,stat:a.ATK}),i.jsx(na,{oldStats:t,newStats:n,stat:a.DEF}),i.jsx(na,{oldStats:t,newStats:n,stat:a.SPD}),i.jsx(na,{oldStats:t,newStats:n,stat:a.CR}),i.jsx(na,{oldStats:t,newStats:n,stat:a.CD}),i.jsx(na,{oldStats:t,newStats:n,stat:a.EHR}),i.jsx(na,{oldStats:t,newStats:n,stat:a.RES}),i.jsx(na,{oldStats:t,newStats:n,stat:a.BE}),i.jsx(na,{oldStats:t,newStats:n,stat:a.OHB}),i.jsx(na,{oldStats:t,newStats:n,stat:a.ERR}),i.jsx(na,{oldStats:t,newStats:n,stat:e.analysis.elementalDmgValue})]})})}function na(e){const{oldStats:t,newStats:n,stat:l}=e,s=y.precisionRound(t[l]),o=y.precisionRound(n[l]),{valueDisplay:r}=B0(o,o,l,!1);return i.jsxs(S,{gap:12,align:"center",children:[i.jsx("div",{style:{width:240},children:i.jsx(Jt,{finalStats:t,stat:l=="COMBO_DMG"?"simScore":l,value:l=="COMBO_DMG"?s:void 0})}),i.jsx("span",{style:{marginLeft:15,marginRight:15,fontSize:14,lineHeight:"17px"},children:"➤"}),i.jsx(S,{style:{width:55},justify:"end",children:i.jsx(im,{value:r,stat:l})}),i.jsx(Z5,{oldValue:s,newValue:o,stat:l})]})}function im(e){const{t}=K("common"),{value:n,stat:l}=e;return l=="COMBO_DMG"?n+(e.comboDiff?"%":t("ThousandsSuffix")):B.isFlat(l)?n:n+"%"}const T5="#95ef90",y5="#ff97a9";function sm(e){return e?T5:y5}function lm(e){return e?"▲":"▼"}function Z5(e){const{newValue:t,oldValue:n,stat:l}=e;if(ro(t,n,l)==0)return i.jsx(i.Fragment,{});const s=t>n,o=s?ro(t,n,l):ro(n,t,l),r=lm(s),c=sm(s),{valueDisplay:d}=C5(o,o,l);return i.jsxs(S,{style:{color:c,width:90},gap:10,justify:"end",align:"center",children:[i.jsx(im,{value:d,stat:l,comboDiff:!0}),i.jsx("span",{style:{fontSize:10,lineHeight:"17px"},children:r})]})}function C5(e,t,n){if(n=="COMBO_DMG"){const l=`${B.truncate10ths(B.precisionRound(t??0)).toFixed(1)}`,s=B.precisionRound(t).toFixed(3);return{valueDisplay:l,value1000thsPrecision:s}}return B0(e,t,n)}function ro(e,t,n){return n==a.SPD?y.precisionRound(B.truncate10ths(e)-B.truncate10ths(t)):B.isFlat(n)?y.precisionRound(Math.floor(e)-Math.floor(t)):n=="COMBO_DMG"?y.precisionRound((e/t-1)*100):y.precisionRound(B.truncate1000ths(e)-B.truncate1000ths(t))}function D5(e){return i.jsx("div",{style:{overflow:"hidden",boxShadow:Ds,borderRadius:5,minWidth:233,height:"100%",background:"#243356"},children:i.jsx(fu,{id:e.analysis.request.characterId,disableClick:!0,parentH:400})})}function E5(e){const{t}=K("charactersTab",{keyPrefix:"CharacterPreview.SubstatUpgradeComparisons"}),{t:n}=K(["common","charactersTab"]),{simScore:l}=e,o=l.mainUpgrades.map(c=>{const d=c.stat,u=c.part;return{key:u+d,stat:d,part:u,...om(l,c)}}).sort((c,d)=>d.scorePercentUpgrade-c.scorePercentUpgrade),r=[{title:t("MainStatUpgrade"),dataIndex:"stat",align:"center",width:200,rowScope:"row",render:(c,d)=>i.jsxs(S,{align:"center",gap:5,children:[i.jsx("img",{src:k.getPart(d.part),style:{width:Ke,height:Ke,marginLeft:3,marginRight:3}}),i.jsx("span",{children:"➔"}),i.jsx("img",{src:k.getStatIcon(c),style:{width:Ke,height:Ke}}),i.jsx("span",{children:`${n(`ShortReadableStats.${c}`)}`})]})},...rm(t)];return i.jsx(Qn,{className:"remove-table-bottom-border",columns:r,dataSource:o,pagination:!1,size:"small",style:cm,locale:{emptyText:""}})}function om(e,t){const n=t.simulationResult.simScore-e.originalSimScore,l=Math.abs(n)<1?0:n,s=t.percent-e.percent;return{scorePercentUpgrade:(Math.abs(s)<1e-4?0:s)*100,scoreValueUpgrade:t.percent*100,damagePercentUpgrade:l/e.originalSimScore*100,damageValueUpgrade:l}}function rm(e){return[{title:e("DpsScorePercentUpgrade"),dataIndex:"scorePercentUpgrade",align:"center",render:t=>i.jsxs(S,{align:"center",justify:"center",gap:5,children:[i.jsx(dc,{up:t>=0}),` ${Yn(t)}%`]})},{title:e("ComboDmgPercentUpgrade"),dataIndex:"damagePercentUpgrade",align:"center",render:t=>i.jsxs(S,{align:"center",justify:"center",gap:5,children:[i.jsx(dc,{up:t>=0}),` ${Yn(t)}%`]})},{title:e("UpgradedDpsScore"),dataIndex:"scoreValueUpgrade",align:"center",render:t=>i.jsx(i.Fragment,{children:`${yt(Math.max(0,t))}%`})},{title:e("ComboDmgUpgrade"),dataIndex:"damageValueUpgrade",align:"center",render:t=>i.jsx(i.Fragment,{children:yt(t)})}]}const cm={width:"100%",border:"1px solid #354b7d",boxShadow:Es,borderRadius:5,overflow:"hidden"};function dc(e){return i.jsx("span",{style:{color:sm(e.up),fontSize:10},children:lm(e.up)})}function I5(e){const{t}=K("charactersTab",{keyPrefix:"CharacterPreview.SubstatUpgradeComparisons"}),{t:n}=K("common",{keyPrefix:"ShortSpacedStats"}),{simScore:l}=e,o=l.substatUpgrades.map(c=>{const d=c.stat;return{key:d,stat:d,...om(l,c)}}),r=[{title:t("SubStatUpgrade"),dataIndex:"stat",align:"center",width:200,rowScope:"row",render:(c,d)=>i.jsxs(S,{children:[i.jsx("img",{src:k.getStatIcon(c),style:{width:Ke,height:Ke,marginLeft:3,marginRight:3}}),i.jsx("span",{style:{marginRight:10},children:`+1x roll ${n(c)} `})]})},...rm(t)];return i.jsx(Qn,{className:"remove-table-bottom-border",columns:r,dataSource:o,pagination:!1,size:"small",style:cm,locale:{emptyText:""}})}const x5=e=>{const{t,i18n:n}=K(["charactersTab","common"]);if(!e.simScoringResult)return i.jsx(i.Fragment,{});const l=y.clone(e.simScoringResult),s=l.simulationForm.characterId,o=I.getMetadata().characters[s],r=ei[o.element];function c(P){return i.jsx(S,{vertical:!0,align:"center",gap:2,children:i.jsx("img",{src:k.getSetImage(P.set),style:{height:60}})})}function d(P){var w;const X=((w=P.stat)==null?void 0:w.replace("Boost",""))||"";return i.jsxs(S,{align:"center",gap:10,children:[i.jsx("img",{src:k.getPart(P.part),style:{height:30}}),i.jsx("pre",{style:{margin:0},children:X})]})}function u(P){const X=P.precision??1,w=P.number??0,ie=w!=0;return i.jsxs(S,{gap:15,justify:"space-between",children:[i.jsx("pre",{style:{margin:0},children:P.label}),i.jsx("pre",{style:{margin:0,textAlign:"right"},children:ie&&Ul(w,X,P.useGrouping)})]})}function b(P){const X=P.precision??1,w=P.number??0,ie=P.parens??0,ee=w!=0,me=ie!=0;return i.jsxs(S,{gap:5,justify:"space-between",children:[i.jsx("pre",{style:{margin:0},children:P.label}),i.jsxs("pre",{style:{margin:0,textAlign:"right"},children:[ee&&Ul(w,X),me&&i.jsx("span",{style:{margin:3},children:"-"}),me&&Ul(ie,1)]})]})}function p(P){const X=P.number??0;return i.jsxs(S,{gap:9,justify:"space-between",children:[i.jsx("pre",{style:{margin:0},children:P.label}),i.jsx("pre",{style:{margin:0,width:P.valueWidth},children:X})]})}function R(P){const X=P.text??"";return i.jsxs(S,{align:"center",gap:1,justify:"space-between",children:[i.jsx("pre",{style:{margin:0},children:P.label}),i.jsx("pre",{style:{margin:0,textAlign:"right"},children:X})]})}function G(P){const X=n.exists(`charactersTab:CharacterPreview.BuildAnalysis.Rotation.${P.comboAbilities[P.index]}`)?t(`CharacterPreview.BuildAnalysis.Rotation.${P.comboAbilities[P.index]}`):null;return X==null?i.jsx(i.Fragment,{}):i.jsx(S,{align:"center",gap:15,children:i.jsx("pre",{style:{margin:0},children:`#${P.index} - ${X}`})})}const T=y.clone(l.originalSimResult),C=y.clone(l.benchmarkSimResult),D=y.clone(l.maximumSimResult),V=T.ca,M=C.ca,x=D.ca,W=T.xa,H=C.xa,O=D.xa;V[xt[r]]=V[h.ELEMENTAL_DMG],M[xt[r]]=M[h.ELEMENTAL_DMG],x[xt[r]]=x[h.ELEMENTAL_DMG],W[xt[r]]=W[h.ELEMENTAL_DMG],H[xt[r]]=H[h.ELEMENTAL_DMG],O[xt[r]]=O[h.ELEMENTAL_DMG];const j=300,N=i.jsx(S,{vertical:!0,children:i.jsx(Wt,{type:"vertical",style:{flexGrow:1,margin:"10px 30px"}})});function F(P){const X=P.simulation.request,w=y.clone(P.simulation.result),ie=Cd(w.ca),ee=Dd(w.xa),me=P.type=="Character",be="rgb(225, 165, 100)";ie[r]=ie.ELEMENTAL_DMG,ee[r]=ee.ELEMENTAL_DMG;const Ge={};if(P.type=="Benchmark")for(const[Xe,Pe]of Object.entries(X.stats)){const Oe=[X.simBody,X.simFeet,X.simPlanarSphere,X.simLinkRope,a.ATK,a.HP].filter(tt=>tt==Xe).length;Xe==a.SPD?Ge[Xe]=Pe-ul(Oe,Pe):Ge[Xe]=Pe-Ju(Oe,Pe)}const ae=X.stats,Q=P.precision;return i.jsxs(S,{vertical:!0,gap:25,style:{margin:"auto"},children:[i.jsx(S,{vertical:!0,gap:$e,children:i.jsx(S,{justify:"space-around",children:i.jsx("pre",{style:{fontSize:20,fontWeight:"bold",color:me?be:""},children:i.jsx("u",{children:t(`CharacterPreview.ScoringColumn.${P.type}.Header`,{score:B.truncate10ths(B.precisionRound(P.percent*100))})})})})}),i.jsxs(S,{vertical:!0,gap:$e,style:{width:j,margin:"auto"},children:[i.jsx("pre",{style:{margin:"auto",color:me?be:""},children:t(`CharacterPreview.ScoringColumn.${P.type}.BasicStats`)}),i.jsx(Oo,{characterId:s,finalStats:ie,elementalDmgValue:r,simScore:w.simScore,showAll:!0})]}),i.jsxs(S,{vertical:!0,gap:$e,style:{width:j,margin:"auto"},children:[i.jsx("pre",{style:{margin:"auto",color:me?be:""},children:i.jsxs(gt,{t,i18nKey:`CharacterPreview.ScoringColumn.${P.type}.CombatStats`,children:["build type ",i.jsx("u",{children:"combat stats"})]})}),i.jsx(Oo,{characterId:s,finalStats:ee,elementalDmgValue:r,simScore:w.simScore,showAll:!0})]}),i.jsxs(S,{vertical:!0,gap:$e,children:[i.jsx("pre",{style:{margin:"10px auto",color:me?be:""},children:t(`CharacterPreview.ScoringColumn.${P.type}.Substats`)}),i.jsxs(S,{justify:"space-between",children:[i.jsxs(S,{vertical:!0,gap:$e,style:{width:125,paddingLeft:5},children:[i.jsx(b,{label:t(`common:ShortStats.${a.ATK_P}`)+":",number:ae[a.ATK_P],parens:Ge[a.ATK_P],precision:Q}),i.jsx(b,{label:t(`common:ShortStats.${a.ATK}`)+":",number:ae[a.ATK],parens:Ge[a.ATK],precision:Q}),i.jsx(b,{label:t(`common:ShortStats.${a.HP_P}`)+":",number:ae[a.HP_P],parens:Ge[a.HP_P],precision:Q}),i.jsx(b,{label:t(`common:ShortStats.${a.HP}`)+":",number:ae[a.HP],parens:Ge[a.HP],precision:Q}),i.jsx(b,{label:t(`common:ShortStats.${a.DEF_P}`)+":",number:ae[a.DEF_P],parens:Ge[a.DEF_P],precision:Q}),i.jsx(b,{label:t(`common:ShortStats.${a.DEF}`)+":",number:ae[a.DEF],parens:Ge[a.DEF],precision:Q})]}),i.jsx(ha,{}),i.jsxs(S,{vertical:!0,gap:$e,style:{width:125,paddingRight:5},children:[i.jsx(b,{label:t(`common:ShortStats.${a.SPD}`)+":",number:ae[a.SPD],parens:Ge[a.SPD],precision:2}),i.jsx(b,{label:t(`common:ShortStats.${a.CR}`)+":",number:ae[a.CR],parens:Ge[a.CR],precision:Q}),i.jsx(b,{label:t(`common:ShortStats.${a.CD}`)+":",number:ae[a.CD],parens:Ge[a.CD],precision:Q}),i.jsx(b,{label:t(`common:ShortStats.${a.EHR}`)+":",number:ae[a.EHR],parens:Ge[a.EHR],precision:Q}),i.jsx(b,{label:t(`common:ShortStats.${a.RES}`)+":",number:ae[a.RES],parens:Ge[a.RES],precision:Q}),i.jsx(b,{label:t(`common:ShortStats.${a.BE}`)+":",number:ae[a.BE],parens:Ge[a.BE],precision:Q})]})]})]}),i.jsxs(S,{vertical:!0,gap:$e,children:[i.jsx("pre",{style:{margin:"0 auto",color:me?be:""},children:t(`CharacterPreview.ScoringColumn.${P.type}.Mainstats`)}),i.jsx(S,{gap:$e,justify:"space-around",children:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx(d,{stat:X.simBody!=="NONE"?t(`common:ReadableStats.${X.simBody}`):"",part:f.Body}),i.jsx(d,{stat:X.simFeet!=="NONE"?t(`common:ReadableStats.${X.simFeet}`):"",part:f.Feet}),i.jsx(d,{stat:X.simPlanarSphere!=="NONE"?t(`common:ReadableStats.${X.simPlanarSphere}`):"",part:f.PlanarSphere}),i.jsx(d,{stat:X.simLinkRope!=="NONE"?t(`common:ReadableStats.${X.simLinkRope}`):"",part:f.LinkRope})]})})]}),i.jsxs(S,{vertical:!0,gap:20,children:[i.jsx("pre",{style:{margin:"0 auto",color:me?be:""},children:t(`CharacterPreview.ScoringColumn.${P.type}.Abilities`)}),i.jsx(S,{gap:$e,justify:"space-around",children:i.jsxs(S,{vertical:!0,gap:10,style:{width:230},children:[i.jsx(u,{label:String(t("common:ShortDMGTypes.Basic"))+":",number:w.BASIC,precision:1}),i.jsx(u,{label:String(t("common:ShortDMGTypes.Skill"))+":",number:w.SKILL,precision:1}),i.jsx(u,{label:String(t("common:ShortDMGTypes.Ult"))+":",number:w.ULT,precision:1}),i.jsx(u,{label:String(t("common:ShortDMGTypes.Fua"))+":",number:w.FUA,precision:1}),i.jsx(u,{label:String(t("common:ShortDMGTypes.Memo_Skill"))+":",number:w.MEMO_SKILL,precision:1}),i.jsx(u,{label:String(t("common:ShortDMGTypes.Memo_Talent"))+":",number:w.MEMO_TALENT,precision:1}),i.jsx(u,{label:String(t("common:ShortDMGTypes.Dot"))+":",number:w.DOT,precision:1}),i.jsx(u,{label:String(t("common:ShortDMGTypes.Break"))+":",number:w.BREAK,precision:1})]})})]})]})}return i.jsxs(S,{vertical:!0,gap:15,align:"center",style:{width:1068},children:[i.jsxs(S,{align:"center",style:{marginTop:15},vertical:!0,gap:15,children:[i.jsx("pre",{style:{fontSize:28,fontWeight:"bold",margin:0},children:i.jsx(Pt,{text:t("CharacterPreview.BuildAnalysis.Header"),linkIcon:!0,url:"https://github.com/fribbels/hsr-optimizer/blob/main/docs/guides/en/dps-score.md"})}),i.jsx("pre",{style:{textAlign:"center",color:"rgb(225, 165, 100)",lineHeight:"24px",fontSize:14,textWrap:"wrap",margin:0},children:t("CharacterPreview.BuildAnalysis.ScoringNote")}),i.jsx(R5,{score:l.originalSimScore,minimum:l.baselineSimScore,maximum:l.maximumSimScore,benchmark:l.benchmarkSimScore})]}),i.jsxs(S,{gap:$e,vertical:!0,style:{width:"100%"},align:"center",children:[i.jsx("pre",{style:{fontSize:22,textDecoration:"underline"},children:t("CharacterPreview.SubstatUpgradeComparisons.Header")}),i.jsx(I5,{simScore:l})]}),i.jsxs(S,{gap:$e,vertical:!0,style:{width:"100%"},align:"center",children:[i.jsx("pre",{style:{fontSize:22,textDecoration:"underline"},children:t("CharacterPreview.SubstatUpgradeComparisons.MainStatHeader")}),i.jsx(E5,{simScore:l})]}),i.jsxs(S,{gap:25,style:{width:"100%",marginTop:30},justify:"space-around",children:[i.jsxs(S,{vertical:!0,gap:$e,children:[i.jsx("pre",{style:{margin:"5px auto"},children:t("CharacterPreview.BuildAnalysis.SimulationTeammates")}),i.jsxs(S,{gap:15,children:[i.jsx(co,{result:l,index:0}),i.jsx(co,{result:l,index:1}),i.jsx(co,{result:l,index:2})]})]}),i.jsx(ha,{}),i.jsxs(S,{vertical:!0,gap:$e,children:[i.jsx("pre",{style:{margin:"5px auto"},children:t("CharacterPreview.BuildAnalysis.SimulationSets")}),i.jsxs(S,{vertical:!0,gap:$e,children:[i.jsxs(S,{children:[i.jsx(c,{set:l.maximumSim.request.simRelicSet1}),i.jsx(c,{set:l.maximumSim.request.simRelicSet2})]}),i.jsx(c,{set:l.maximumSim.request.simOrnamentSet})]})]}),i.jsx(ha,{}),i.jsxs(S,{vertical:!0,gap:$e,children:[i.jsx("pre",{style:{margin:"5px auto"},children:t("CharacterPreview.BuildAnalysis.Rotation.Header")}),i.jsxs(S,{gap:30,children:[i.jsxs(S,{vertical:!0,gap:2,children:[i.jsx(G,{comboAbilities:l.simulationMetadata.comboAbilities,index:1}),i.jsx(G,{comboAbilities:l.simulationMetadata.comboAbilities,index:2}),i.jsx(G,{comboAbilities:l.simulationMetadata.comboAbilities,index:3}),i.jsx(G,{comboAbilities:l.simulationMetadata.comboAbilities,index:4}),i.jsx(G,{comboAbilities:l.simulationMetadata.comboAbilities,index:5}),i.jsx(G,{comboAbilities:l.simulationMetadata.comboAbilities,index:6}),i.jsx(G,{comboAbilities:l.simulationMetadata.comboAbilities,index:7}),i.jsx(G,{comboAbilities:l.simulationMetadata.comboAbilities,index:8})]}),i.jsxs(S,{vertical:!0,gap:2,children:[i.jsx(p,{label:t("CharacterPreview.BuildAnalysis.Rotation.DOTS"),number:l.simulationMetadata.comboDot}),i.jsx(p,{label:t("CharacterPreview.BuildAnalysis.Rotation.BREAKS"),number:l.simulationMetadata.comboBreak})]})]})]}),i.jsx(ha,{}),i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx("pre",{style:{margin:"5px auto"},children:t("CharacterPreview.BuildAnalysis.CombatResults.Header")}),i.jsxs(S,{vertical:!0,gap:10,style:{width:255},children:[i.jsx(R,{label:t("CharacterPreview.BuildAnalysis.CombatResults.Primary"),text:t(`CharacterPreview.BuildAnalysis.CombatResults.Abilities.${l.characterMetadata.scoringMetadata.sortOption.key}`)}),i.jsx(u,{label:t("CharacterPreview.BuildAnalysis.CombatResults.Character"),number:l.originalSimScore,precision:1}),i.jsx(u,{label:t("CharacterPreview.BuildAnalysis.CombatResults.Baseline"),number:l.baselineSimScore,precision:1}),i.jsx(u,{label:t("CharacterPreview.BuildAnalysis.CombatResults.Benchmark"),number:l.benchmarkSimScore,precision:1}),i.jsx(u,{label:t("CharacterPreview.BuildAnalysis.CombatResults.Maximum"),number:l.maximumSimScore,precision:1}),i.jsx(u,{label:t("CharacterPreview.BuildAnalysis.CombatResults.Score"),number:l.percent*100,precision:2})]})]})]}),i.jsxs(S,{children:[i.jsx(F,{simulation:l.originalSim,percent:l.percent,precision:2,type:"Character"}),N,i.jsx(F,{simulation:l.benchmarkSim,percent:1,precision:0,type:"Benchmark"}),N,i.jsx(F,{simulation:l.maximumSim,percent:2,precision:0,type:"Perfect"})]}),i.jsxs(S,{vertical:!0,align:"center",style:{width:"100%"},children:[i.jsx("pre",{style:{fontSize:22,textDecoration:"underline"},children:l.simulationForm.deprioritizeBuffs?t("CharacterPreview.BuildAnalysis.CombatBuffs.SubDpsHeader"):t("CharacterPreview.BuildAnalysis.CombatBuffs.Header")}),i.jsx(em,{result:l,size:tm.LARGE})]})]})};function co(e){const{t}=K("common"),n=e.result.simulationMetadata.teammates[e.index],l=60;return i.jsxs(S,{vertical:!0,align:"center",gap:5,children:[i.jsx("img",{src:k.getCharacterAvatarById(n.characterId),style:{height:l}}),i.jsx("pre",{style:{margin:0},children:t("EidolonNShort",{eidolon:n.characterEidolon})}),i.jsx("img",{src:k.getLightConeIconById(n.lightCone),style:{height:l}}),i.jsx("pre",{style:{margin:0},children:t("SuperimpositionNShort",{superimposition:n.lightConeSuperimposition})})]})}function W5(e,t){const n=t.key;e[h.ELEMENTAL_DMG]+=e[h[`${n}_DMG_BOOST`]],n!=Z.DOT.key&&(e[h[`${n}_CR_BOOST`]]&&(e[h.CR]+=e[h[`${n}_CR_BOOST`]]),e[h[`${n}_CD_BOOST`]]&&(e[h.CD]+=e[h[`${n}_CD_BOOST`]]))}const uc={[a.ATK_P]:!0,[a.DEF_P]:!0,[a.HP_P]:!0};function M5(e){const t=e.result,n=new Float32Array(t.originalSimResult.xa),l=t.characterMetadata.scoringMetadata.sortOption;W5(n,l);const{t:s}=K("common"),{t:o}=K("charactersTab"),r=window.store(G=>G.savedSession[Ue.showcasePreciseSpd]),c=t.characterMetadata.scoringMetadata.simulation,d=ei[t.characterMetadata.element];let u=c.substats;u=o2(u).filter(G=>!uc[G]),u.length<5&&u.push(a.SPD),u.sort((G,T)=>qt.indexOf(G)-qt.indexOf(T));const b=[...u,d],p=[];for(const G of b){if(uc[G])continue;const T=sc[G]?n[h.ELEMENTAL_DMG]:n[xt[G]],C=B.isFlat(G),D=sc[G]?B.precisionRound(n[h.ELEMENTAL_DMG],2)!=B.precisionRound(t.originalSimResult.ca[h.ELEMENTAL_DMG],2):B.precisionRound(n[xt[G]],2)!=B.precisionRound(t.originalSimResult.ca[xt[G]],2);let V=hn(Math.floor(T));G==a.SPD?V=r?Pn(y.precisionRound(T,4)):yt(B.truncate10ths(y.precisionRound(T,4))):C||(V=yt(B.truncate10ths(T*100)));const M=G.includes("DMG Boost")?s("DamagePercent"):s(`ReadableStats.${G}`);p.push(i.jsxs(S,{justify:"space-between",align:"center",style:{width:"100%"},children:[i.jsx("img",{src:k.getStatIcon(G),style:{width:Ke,height:Ke,marginRight:3}}),i.jsxs(S,{gap:1,align:"center",children:[i.jsx(Hn,{children:M}),D&&i.jsx(L5,{})]}),i.jsx(Wt,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),i.jsx(Hn,{children:`${V}${C?"":"%"}`})]},B.randomId()))}const R=t.simulationForm.deprioritizeBuffs?o("CharacterPreview.DetailsSlider.Labels.SubDpsCombatStats"):o("CharacterPreview.DetailsSlider.Labels.CombatStats");return i.jsxs(S,{vertical:!0,gap:1,align:"center",style:{paddingLeft:4,paddingRight:6,marginBottom:1},children:[i.jsx($,{style:{fontSize:16},children:R}),p]})}function L5(){return i.jsx(S,{align:"center",children:i.jsx(r5,{})})}function V5(e){const{t}=K(["common","charactersTab"]),n=e.result,l=[],s=n.originalSimResult.simScore,o=n.percent,r=n.substatUpgrades.filter(b=>b.stat!=a.SPD);for(const b of r.slice(0,4)){const p=b.stat,R=b.simulationResult.simScore/s-1;l.push(i.jsxs(S,{justify:"space-between",align:"center",style:{width:"100%"},children:[i.jsx("img",{src:k.getStatIcon(p),style:{width:Ke,height:Ke,marginRight:3}}),i.jsx(Hn,{children:`+1x ${t(`ShortReadableStats.${p}`)}`}),i.jsx(Wt,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),i.jsx(Hn,{children:`+ ${Yn(R*100)}%`})]},B.randomId()))}const c=[],d=n.mainUpgrades[0];if(d&&d.percent-o>0){const b=d.part,p=d.stat,R=d.simulationResult.simScore/s-1;c.push(i.jsxs(S,{gap:3,justify:"space-between",align:"center",style:{width:"100%",paddingLeft:1},children:[i.jsx("img",{src:k.getPart(b),style:{width:Ke,height:Ke,marginRight:3}}),i.jsx(Hn,{children:`➔ ${t(`ShortReadableStats.${p}`)}`}),i.jsx(Wt,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),i.jsx(Hn,{children:`+ ${Yn(R*100)}%`})]},B.randomId()))}const u=n.setUpgrades[0];if(u.percent-o>0){const b=u.simulationResult.simScore/s-1;c.push(i.jsxs(S,{gap:2,justify:"space-between",align:"center",style:{width:"100%",paddingLeft:1},children:[i.jsx("img",{src:k.getSetImage(u.simulation.request.simRelicSet1),style:{width:Ke,height:Ke,marginRight:3}}),i.jsx("img",{src:k.getSetImage(u.simulation.request.simRelicSet2),style:{width:Ke,height:Ke,marginRight:5}}),i.jsx("img",{src:k.getSetImage(u.simulation.request.simOrnamentSet),style:{width:Ke,height:Ke,marginRight:3}}),i.jsx(Wt,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),i.jsx(Hn,{children:`+ ${Yn(b*100)}%`})]},B.randomId()))}return c.length&&(l.splice(4-c.length,c.length),c.map(b=>l.unshift(b))),i.jsxs(S,{vertical:!0,gap:1,align:"center",style:{paddingLeft:4,paddingRight:6,marginBottom:0},children:[i.jsx(S,{vertical:!0,align:"center",children:i.jsx($,{style:{fontSize:16},children:t("charactersTab:CharacterPreview.DMGUpgrades")})}),l]})}function P5(e,t,n,l){return{LinkRope:bi(e.LinkRope,t.LinkRope,n,l),PlanarSphere:bi(e.PlanarSphere,t.PlanarSphere,n,l),Feet:bi(e.Feet,t.Feet,n,l),Body:bi(e.Body,t.Body,n,l),Hands:bi(e.Hands,t.Hands,n,l),Head:bi(e.Head,t.Head,n,l)}}function bi(e,t,n,l){if(!e)return;const s=dt.scoreRelicPotential(e,l),o=F5(e,n);return{relic:e,estDays:t,estTbp:t*240,currentPotential:s.currentPct,rerollPotential:s.rerollAvgPct,rerollDelta:s.rerollAvgPct-s.currentPct,weights:n.stats,weightedRolls:o}}function F5(e,t){let n=0;for(const l of e.substats){const s=l.stat;if(!(l.rolls&&l.rolls.low!=null&&l.rolls.mid!=null&&l.rolls.high!=null)){const o=l.addedRolls+1,r=s==a.SPD?.3:Ct.getMaxedSubstatValue(s)/10,c=l.value,d=Ct.getMaxedSubstatValue(s,.8)*o,b=Math.max(0,c-d)/r,p=y.precisionRound(b,0),R=L0(o,p);l.rolls=R.rolls}n+=t.stats[s]*dm(s)*(l.rolls.high+l.rolls.mid*.9+l.rolls.low*.8)}return n}function dm(e){return e==a.HP||e==a.DEF||e==a.ATK?.4:1}function B5(e,t){return y.objectHash({relicsHash:Object.values(e).map(H5),characterId:t})}function H5(e){return e?y.objectHash({enhance:e.enhance,equippedBy:e.equippedBy,grade:e.grade,id:e.id,main:e.main,part:e.part,set:e.set,substats:e.substats}):"-"}const v5=()=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",children:i.jsx("g",{transform:"translate(24 1) scale(-1 1)",children:i.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"3",d:"M8 12L15 5M8 12L15 19"})})}),X5=e=>i.jsx(Nn,{component:v5,...e}),zi=(e,t,n)=>{const{t:l}=K("common");if(!(e!=null&&e.stat)||e.value==null)return i.jsx("img",{src:k.getBlank(),style:{width:Ke,height:Ke,marginRight:2,marginLeft:-3}});let s;return t?s=Y.renderMainStatNumber(e):s=Y.renderSubstatNumber(e,n),s+=B.isFlat(e.stat)?"":"%",i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsxs(S,{children:[i.jsx("img",{src:k.getStatIcon(e.stat),style:{width:Ke,height:Ke,marginRight:2,marginLeft:-3}}),l(`ReadableStats.${e.stat}`)]}),t?i.jsx(i.Fragment,{children:s}):i.jsxs(S,{justify:"space-between",style:{width:"41.5%"},children:[i.jsx(S,{gap:0,align:"center",children:e.addedRolls!=null&&k5(e)}),s]})]})};function k5(e){const t=[];for(let n=0;n<e.addedRolls;n++)t.push(i.jsx(X5,{style:{marginRight:-5,opacity:.75}},n));return e.addedRolls==0&&t.push(i.jsx("div",{},0)),t}const{Text:Y5}=ye,w5=Ft(Y5)`
    ${e=>N5(e.language)}
`;function N5(e){switch(e){case"fr_FR":case"pt_BR":case"vi_VN":return`
        white-space: nowrap;
        letter-spacing: -0.2px;
        font-size: 13px;
        line-height: 22px;
      `;default:return`
        white-space: nowrap;
        letter-spacing: -0.2px;
      `}}function mc(e,t,n,l){return e<t?e+(t-e)*l:e>n?e-(e-n)*l:e}function O5(e,t){const o=Nt(e),r=o.get("hsl.s"),c=mc(r,.2,.3,.96),d=o.set("hsl.s",c),u=d.luminance(mc(d.luminance(),.025,.03,.93)).alpha(t?.7:.765);return Ll(u,t).css()}function Ll(e,t){return t?e.desaturate(.05).darken(.2):e}function U5(e,t){const n=Nt(e).desaturate(.55).luminance(.125).brighten(.75).alpha(.8);return Ll(n,t).css()}function K5(e,t){const n=Nt(e).desaturate(.2).luminance(.02);return Ll(n,t).css()}function J5(e,t){const n=Nt(e).desaturate(.5).luminance(.2).alpha(.3);return Ll(n,t).css()}function A5(){return"#00000000"}function Uo(){return"background-color 0.35s, box-shadow 0.25s, border-color 0.25s"}const um="#2241be";function j5(e){const t=um;return!e||e.length===0||e.map(uo).every(l=>l>.4)?t:e.reduce((l,s,o)=>{const r=Nt.deltaE(l,t),c=Nt.deltaE(s,t),d=uo(l),u=uo(s),b=r*(1+d);return c*(1+u)<b?s:l})}function uo(e){const[l,s,o]=Nt(e).hsl(),r=Math.abs(l-37.5),c=1-Math.min(r/40,1),d=Math.max(0,s-.2);return .8*c+.2*d}function z5(e,t){const[n,,l]=Nt(e).hsl(),[s,,o]=Nt(t).hsl(),r=o-l;return r!==0?r:n-s}function _5(e,t){const n=e.sort(z5),l=[];for(let s=0;s<n.length;s+=t){const r=n.slice(s,s+t).sort((c,d)=>{const u=Nt(c).hsl()[0],b=Nt(d).hsl()[0];return u-b});l.push(...r)}return l}function bc(e){const t=[e.Vibrant,e.DarkVibrant,e.Muted,e.DarkMuted,e.LightVibrant,e.LightMuted,...e.colors].slice(0,64);return _5(t,8)}function Q5(e){if(e==um)return e;const t=Nt(e),n=t.get("hsv.v"),l=n+(1-n)*.45,s=t.get("hsv.s"),o=s-s*.15;return t.set("hsv.v",l).set("hsv.s",o).hex()}function _t(e){const{source:t,characterId:n,score:l,scoringType:s,setEditModalOpen:o,setAddModalOpen:r,setSelectedRelic:c,showcaseTheme:d,unhoverable:u}=e,p={...{enhance:0,part:void 0,set:void 0,grade:0,substats:[],main:void 0,equippedBy:void 0},...e.relic},R=p.set?k.getSetImage(p.set,p.part):k.getBlank(),G=p.equippedBy?k.getCharacterAvatarById(p.equippedBy):k.getBlank(),T=()=>{!p.id&&!n||t==Zt.SHOWCASE_TAB||t==Zt.BUILDS_MODAL||(p.id?(c(p),o==null||o(!0)):(console.log(`Add new relic for characterId=${n}.`),p.equippedBy=n,p.enhance=15,p.grade=5,c(p),r==null||r(!0)))},C=s==za?6:0,D=s==za?54:50,V=s==za?"space-around":"space-between";return i.jsx(zn,{size:"small",hoverable:t!=Zt.SHOWCASE_TAB&&t!=Zt.BUILDS_MODAL&&!u,onClick:T,style:{width:200,minWidth:200,height:280,backgroundColor:d==null?void 0:d.cardBackgroundColor,borderColor:d==null?void 0:d.cardBorderColor,transition:Uo(),borderRadius:6,boxShadow:t==null?void 0:Hi+Ou},children:i.jsx(w5,{language:v.resolvedLanguage,children:i.jsxs(S,{vertical:!0,justify:V,style:{height:255},children:[i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx("img",{style:{height:D,width:D},title:p.set,src:R}),i.jsxs(S,{align:"center",gap:8,children:[i.jsx("span",{children:Y.renderGrade(p)}),i.jsx("span",{children:p.id!=null?`+${p.enhance}`:""})]}),i.jsx("img",{style:{height:D,width:D,borderRadius:D/2,border:p.equippedBy?"1px solid rgba(150, 150, 150, 0.25)":void 0,backgroundColor:p.equippedBy?"rgba(0, 0, 0, 0.1)":void 0},src:G})]}),i.jsx(Wt,{style:{margin:"6px 0px 6px 0px"}}),zi(p.main,!0,p),i.jsx(Wt,{style:{margin:"6px 0px 6px 0px"}}),i.jsxs(S,{vertical:!0,gap:C,children:[zi(p.substats[0],!1,p),zi(p.substats[1],!1,p),zi(p.substats[2],!1,p),zi(p.substats[3],!1,p)]}),s!=za&&i.jsx($5,{score:l})]})})})}function $5(e){var r,c;const{t}=K("common"),{score:n}=e;let l=k.getBlank(),s=!1;const o=n!==void 0;return o&&(((r=n==null?void 0:n.meta)==null?void 0:r.category)==wu.DEFAULT_NO_SPEED?l=k.getScoreNoSpeed():l=k.getScore(),(c=n==null?void 0:n.meta)!=null&&c.modified&&(s=!0)),i.jsxs(i.Fragment,{children:[i.jsx(Wt,{style:{margin:"6px 0px 6px 0px"}}),i.jsxs(S,{justify:"space-between",children:[i.jsxs(S,{children:[i.jsx("img",{src:l,style:{width:Ke,height:Ke,marginRight:2,marginLeft:-3}}),o?`${t("Score")}${s?" *":""}`:""]}),o?`${hR(Number(n.score))} (${n.rating})`:""]})]})}const mm="Y29uc3QgaD17QVRLX1A6IkFUSyUiLEFUSzoiQVRLIixCRToiQnJlYWsgRWZmZWN0IixDRDoiQ1JJVCBETUciLENSOiJDUklUIFJhdGUiLERFRl9QOiJERUYlIixERUY6IkRFRiIsRUhSOiJFZmZlY3QgSGl0IFJhdGUiLEVSUjoiRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIixGaXJlX0RNRzoiRmlyZSBETUcgQm9vc3QiLEhQX1A6IkhQJSIsSFA6IkhQIixJY2VfRE1HOiJJY2UgRE1HIEJvb3N0IixJbWFnaW5hcnlfRE1HOiJJbWFnaW5hcnkgRE1HIEJvb3N0IixMaWdodG5pbmdfRE1HOiJMaWdodG5pbmcgRE1HIEJvb3N0IixPSEI6Ik91dGdvaW5nIEhlYWxpbmcgQm9vc3QiLFBoeXNpY2FsX0RNRzoiUGh5c2ljYWwgRE1HIEJvb3N0IixRdWFudHVtX0RNRzoiUXVhbnR1bSBETUcgQm9vc3QiLFJFUzoiRWZmZWN0IFJFUyIsU1BEX1A6IlNQRCUiLFNQRDoiU1BEIixXaW5kX0RNRzoiV2luZCBETUcgQm9vc3QifSxLdD1baC5IUF9QLGguQVRLX1AsaC5ERUZfUCxoLkhQLGguQVRLLGguU1BELGguQ1IsaC5DRCxoLkVIUixoLkJFLGguT0hCLGguRVJSLGguUGh5c2ljYWxfRE1HLGguRmlyZV9ETUcsaC5JY2VfRE1HLGguTGlnaHRuaW5nX0RNRyxoLldpbmRfRE1HLGguUXVhbnR1bV9ETUcsaC5JbWFnaW5hcnlfRE1HXSxfdD17W2guSFBfUF06ezU6e2Jhc2U6Ni45MTIsaW5jcmVtZW50OjIuNDE5Mn0sNDp7YmFzZTo1LjUyOTYsaW5jcmVtZW50OjEuOTM1NH0sMzp7YmFzZTo0LjE0NzIsaW5jcmVtZW50OjEuNDUxNX0sMjp7YmFzZToyLjc2NDgsaW5jcmVtZW50Oi45Njc3fX0sW2guQVRLX1BdOns1OntiYXNlOjYuOTEyLGluY3JlbWVudDoyLjQxOTJ9LDQ6e2Jhc2U6NS41Mjk2LGluY3JlbWVudDoxLjkzNTR9LDM6e2Jhc2U6NC4xNDcyLGluY3JlbWVudDoxLjQ1MTV9LDI6e2Jhc2U6Mi43NjQ4LGluY3JlbWVudDouOTY3N319LFtoLkRFRl9QXTp7NTp7YmFzZTo4LjY0LGluY3JlbWVudDozLjAyNH0sNDp7YmFzZTo2LjkxMixpbmNyZW1lbnQ6Mi40MTkyfSwzOntiYXNlOjUuMTg0LGluY3JlbWVudDoxLjgxNDR9LDI6e2Jhc2U6My40NTYsaW5jcmVtZW50OjEuMjA5Nn19LFtoLkhQXTp7NTp7YmFzZToxMTIuODk2LGluY3JlbWVudDozOS41MTM2fSw0OntiYXNlOjkwLjMxNjgsaW5jcmVtZW50OjMxLjYxMDg4fSwzOntiYXNlOjY3LjczNzYsaW5jcmVtZW50OjIzLjcwODE2fSwyOntiYXNlOjQ1LjE1ODQsaW5jcmVtZW50OjE1LjgwNTQ0fX0sW2guQVRLXTp7NTp7YmFzZTo1Ni40NDgsaW5jcmVtZW50OjE5Ljc1Njh9LDQ6e2Jhc2U6NDUuMTU4NCxpbmNyZW1lbnQ6MTUuODA1NDR9LDM6e2Jhc2U6MzMuODY4OCxpbmNyZW1lbnQ6MTEuODU0MDh9LDI6e2Jhc2U6MjIuNTc5MixpbmNyZW1lbnQ6Ny45MDI3Mn19LFtoLlNQRF06ezU6e2Jhc2U6NC4wMzIsaW5jcmVtZW50OjEuNH0sNDp7YmFzZTozLjIyNixpbmNyZW1lbnQ6MS4xfSwzOntiYXNlOjIuNDE5LGluY3JlbWVudDoxfSwyOntiYXNlOjEuNjEzLGluY3JlbWVudDoxfX0sW2guQ1JdOns1OntiYXNlOjUuMTg0LGluY3JlbWVudDoxLjgxNDR9LDQ6e2Jhc2U6NC4xNDcyLGluY3JlbWVudDoxLjQ1MTV9LDM6e2Jhc2U6My4xMTA0LGluY3JlbWVudDoxLjA4ODZ9LDI6e2Jhc2U6Mi4wNzM2LGluY3JlbWVudDouNzI1OH19LFtoLkNEXTp7NTp7YmFzZToxMC4zNjgsaW5jcmVtZW50OjMuNjI4OH0sNDp7YmFzZTo4LjI5NDQsaW5jcmVtZW50OjIuOTAzfSwzOntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSwyOntiYXNlOjQuMTQ3MixpbmNyZW1lbnQ6MS40NTE1fX0sW2guRUhSXTp7NTp7YmFzZTo2LjkxMixpbmNyZW1lbnQ6Mi40MTkyfSw0OntiYXNlOjUuNTI5NixpbmNyZW1lbnQ6MS45MzU0fSwzOntiYXNlOjQuMTQ3MixpbmNyZW1lbnQ6MS40NTE1fSwyOntiYXNlOjIuNzY0OCxpbmNyZW1lbnQ6Ljk2Nzd9fSxbaC5CRV06ezU6e2Jhc2U6MTAuMzY4LGluY3JlbWVudDozLjYyODh9LDQ6e2Jhc2U6OC4yOTQ0LGluY3JlbWVudDoyLjkwM30sMzp7YmFzZTo2LjIyMDgsaW5jcmVtZW50OjIuMTc3M30sMjp7YmFzZTo0LjE0NzIsaW5jcmVtZW50OjEuNDUxNX19LFtoLkVSUl06ezU6e2Jhc2U6My4xMTA0LGluY3JlbWVudDoxLjA4ODZ9LDQ6e2Jhc2U6Mi40ODgzLGluY3JlbWVudDouODcwOX0sMzp7YmFzZToxLjg2NjIsaW5jcmVtZW50Oi42NTMyfSwyOntiYXNlOjEuMjQ0MixpbmNyZW1lbnQ6LjQzNTV9fSxbaC5PSEJdOns1OntiYXNlOjUuNTI5NixpbmNyZW1lbnQ6MS45MzU0fSw0OntiYXNlOjQuNDIzNyxpbmNyZW1lbnQ6MS41NDgzfSwzOntiYXNlOjMuMzE3OCxpbmNyZW1lbnQ6MS4xNjEyfSwyOntiYXNlOjIuMjExOCxpbmNyZW1lbnQ6Ljc3NDF9fSxbaC5QaHlzaWNhbF9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fSxbaC5GaXJlX0RNR106ezU6e2Jhc2U6Ni4yMjA4LGluY3JlbWVudDoyLjE3NzN9LDQ6e2Jhc2U6NC45NzY2LGluY3JlbWVudDoxLjc0MTh9LDM6e2Jhc2U6My43MzI1LGluY3JlbWVudDoxLjMwNjR9LDI6e2Jhc2U6Mi40ODgzLGluY3JlbWVudDouODcwOX19LFtoLkljZV9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fSxbaC5MaWdodG5pbmdfRE1HXTp7NTp7YmFzZTo2LjIyMDgsaW5jcmVtZW50OjIuMTc3M30sNDp7YmFzZTo0Ljk3NjYsaW5jcmVtZW50OjEuNzQxOH0sMzp7YmFzZTozLjczMjUsaW5jcmVtZW50OjEuMzA2NH0sMjp7YmFzZToyLjQ4ODMsaW5jcmVtZW50Oi44NzA5fX0sW2guV2luZF9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fSxbaC5RdWFudHVtX0RNR106ezU6e2Jhc2U6Ni4yMjA4LGluY3JlbWVudDoyLjE3NzN9LDQ6e2Jhc2U6NC45NzY2LGluY3JlbWVudDoxLjc0MTh9LDM6e2Jhc2U6My43MzI1LGluY3JlbWVudDoxLjMwNjR9LDI6e2Jhc2U6Mi40ODgzLGluY3JlbWVudDouODcwOX19LFtoLkltYWdpbmFyeV9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fX0sU3Q9W2guSFBfUCxoLkFUS19QLGguREVGX1AsaC5IUCxoLkFUSyxoLkRFRixoLlNQRCxoLkNSLGguQ0QsaC5FSFIsaC5SRVMsaC5CRV0sVnQ9e1toLkhQX1BdOiJIUCAlIixbaC5BVEtfUF06IkFUSyAlIixbaC5ERUZfUF06IkRFRiAlIixbaC5TUERfUF06IlNQRCAlIixbaC5IUF06IkhQIixbaC5BVEtdOiJBVEsiLFtoLkRFRl06IkRFRiIsW2guU1BEXToiU1BEIixbaC5DUl06IkNSSVQgUmF0ZSIsW2guQ0RdOiJDUklUIERNRyIsW2guRUhSXToiRWZmZWN0IEhJVCIsW2guUkVTXToiRWZmZWN0IFJFUyIsW2guQkVdOiJCcmVhayBFZmZlY3QiLFtoLkVSUl06IkVuZXJneSBSZWdlbiIsW2guT0hCXToiSGVhbGluZyBCb29zdCIsW2guUGh5c2ljYWxfRE1HXToiUGh5c2ljYWwgRE1HIixbaC5GaXJlX0RNR106IkZpcmUgRE1HIixbaC5JY2VfRE1HXToiSWNlIERNRyIsW2guTGlnaHRuaW5nX0RNR106IkxpZ2h0bmluZyBETUciLFtoLldpbmRfRE1HXToiV2luZCBETUciLFtoLlF1YW50dW1fRE1HXToiUXVhbnR1bSBETUciLFtoLkltYWdpbmFyeV9ETUddOiJJbWFnaW5hcnkgRE1HIn0sRj17SGVhZDoiSGVhZCIsSGFuZHM6IkhhbmRzIixCb2R5OiJCb2R5IixGZWV0OiJGZWV0IixQbGFuYXJTcGhlcmU6IlBsYW5hclNwaGVyZSIsTGlua1JvcGU6IkxpbmtSb3BlIn0sV3Q9e1tGLkhlYWRdOiJIZWFkIixbRi5IYW5kc106IkhhbmRzIixbRi5Cb2R5XToiQm9keSIsW0YuRmVldF06IkZlZXQiLFtGLlBsYW5hclNwaGVyZV06IlNwaGVyZSIsW0YuTGlua1JvcGVdOiJSb3BlIn0sSnQ9e1tGLkhlYWRdOltoLkhQXSxbRi5IYW5kc106W2guQVRLXSxbRi5Cb2R5XTpbaC5IUF9QLGguQVRLX1AsaC5ERUZfUCxoLkNSLGguQ0QsaC5PSEIsaC5FSFJdLFtGLkZlZXRdOltoLkhQX1AsaC5BVEtfUCxoLkRFRl9QLGguU1BEXSxbRi5QbGFuYXJTcGhlcmVdOltoLkhQX1AsaC5BVEtfUCxoLkRFRl9QLGguUGh5c2ljYWxfRE1HLGguRmlyZV9ETUcsaC5JY2VfRE1HLGguTGlnaHRuaW5nX0RNRyxoLldpbmRfRE1HLGguUXVhbnR1bV9ETUcsaC5JbWFnaW5hcnlfRE1HXSxbRi5MaW5rUm9wZV06W2guSFBfUCxoLkFUS19QLGguREVGX1AsaC5CRSxoLkVSUl19LHBlPXtQYXNzZXJieU9mV2FuZGVyaW5nQ2xvdWQ6IlBhc3NlcmJ5IG9mIFdhbmRlcmluZyBDbG91ZCIsTXVza2V0ZWVyT2ZXaWxkV2hlYXQ6Ik11c2tldGVlciBvZiBXaWxkIFdoZWF0IixLbmlnaHRPZlB1cml0eVBhbGFjZToiS25pZ2h0IG9mIFB1cml0eSBQYWxhY2UiLEh1bnRlck9mR2xhY2lhbEZvcmVzdDoiSHVudGVyIG9mIEdsYWNpYWwgRm9yZXN0IixDaGFtcGlvbk9mU3RyZWV0d2lzZUJveGluZzoiQ2hhbXBpb24gb2YgU3RyZWV0d2lzZSBCb3hpbmciLEd1YXJkT2ZXdXRoZXJpbmdTbm93OiJHdWFyZCBvZiBXdXRoZXJpbmcgU25vdyIsRmlyZXNtaXRoT2ZMYXZhRm9yZ2luZzoiRmlyZXNtaXRoIG9mIExhdmEtRm9yZ2luZyIsR2VuaXVzT2ZCcmlsbGlhbnRTdGFyczoiR2VuaXVzIG9mIEJyaWxsaWFudCBTdGFycyIsQmFuZE9mU2l6emxpbmdUaHVuZGVyOiJCYW5kIG9mIFNpenpsaW5nIFRodW5kZXIiLEVhZ2xlT2ZUd2lsaWdodExpbmU6IkVhZ2xlIG9mIFR3aWxpZ2h0IExpbmUiLFRoaWVmT2ZTaG9vdGluZ01ldGVvcjoiVGhpZWYgb2YgU2hvb3RpbmcgTWV0ZW9yIixXYXN0ZWxhbmRlck9mQmFuZGl0cnlEZXNlcnQ6Ildhc3RlbGFuZGVyIG9mIEJhbmRpdHJ5IERlc2VydCIsTG9uZ2V2b3VzRGlzY2lwbGU6Ikxvbmdldm91cyBEaXNjaXBsZSIsTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlOiJNZXNzZW5nZXIgVHJhdmVyc2luZyBIYWNrZXJzcGFjZSIsVGhlQXNoYmxhemluZ0dyYW5kRHVrZToiVGhlIEFzaGJsYXppbmcgR3JhbmQgRHVrZSIsUHJpc29uZXJJbkRlZXBDb25maW5lbWVudDoiUHJpc29uZXIgaW4gRGVlcCBDb25maW5lbWVudCIsUGlvbmVlckRpdmVyT2ZEZWFkV2F0ZXJzOiJQaW9uZWVyIERpdmVyIG9mIERlYWQgV2F0ZXJzIixXYXRjaG1ha2VyTWFzdGVyT2ZEcmVhbU1hY2hpbmF0aW9uczoiV2F0Y2htYWtlciwgTWFzdGVyIG9mIERyZWFtIE1hY2hpbmF0aW9ucyIsSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZToiSXJvbiBDYXZhbHJ5IEFnYWluc3QgdGhlIFNjb3VyZ2UiLFRoZVdpbmRTb2FyaW5nVmFsb3JvdXM6IlRoZSBXaW5kLVNvYXJpbmcgVmFsb3JvdXMiLFNhY2VyZG9zUmVsaXZlZE9yZGVhbDoiU2FjZXJkb3MnIFJlbGl2ZWQgT3JkZWFsIixTY2hvbGFyTG9zdEluRXJ1ZGl0aW9uOiJTY2hvbGFyIExvc3QgaW4gRXJ1ZGl0aW9uIixIZXJvT2ZUcml1bXBoYW50U29uZzoiSGVybyBvZiBUcml1bXBoYW50IFNvbmciLFBvZXRPZk1vdXJuaW5nQ29sbGFwc2U6IlBvZXQgb2YgTW91cm5pbmcgQ29sbGFwc2UifSxnZT17U3BhY2VTZWFsaW5nU3RhdGlvbjoiU3BhY2UgU2VhbGluZyBTdGF0aW9uIixGbGVldE9mVGhlQWdlbGVzczoiRmxlZXQgb2YgdGhlIEFnZWxlc3MiLFBhbkNvc21pY0NvbW1lcmNpYWxFbnRlcnByaXNlOiJQYW4tQ29zbWljIENvbW1lcmNpYWwgRW50ZXJwcmlzZSIsQmVsb2JvZ09mVGhlQXJjaGl0ZWN0czoiQmVsb2JvZyBvZiB0aGUgQXJjaGl0ZWN0cyIsQ2VsZXN0aWFsRGlmZmVyZW50aWF0b3I6IkNlbGVzdGlhbCBEaWZmZXJlbnRpYXRvciIsSW5lcnRTYWxzb3R0bzoiSW5lcnQgU2Fsc290dG8iLFRhbGlhS2luZ2RvbU9mQmFuZGl0cnk6IlRhbGlhOiBLaW5nZG9tIG9mIEJhbmRpdHJ5IixTcHJpZ2h0bHlWb253YWNxOiJTcHJpZ2h0bHkgVm9ud2FjcSIsUnV0aWxhbnRBcmVuYToiUnV0aWxhbnQgQXJlbmEiLEJyb2tlbktlZWw6IkJyb2tlbiBLZWVsIixGaXJtYW1lbnRGcm9udGxpbmVHbGFtb3RoOiJGaXJtYW1lbnQgRnJvbnRsaW5lOiBHbGFtb3RoIixQZW5hY29ueUxhbmRPZlRoZURyZWFtczoiUGVuYWNvbnksIExhbmQgb2YgdGhlIERyZWFtcyIsU2lnb25pYVRoZVVuY2xhaW1lZERlc29sYXRpb246IlNpZ29uaWEsIHRoZSBVbmNsYWltZWQgRGVzb2xhdGlvbiIsSXp1bW9HZW5zZWlBbmRUYWthbWFEaXZpbmVSZWFsbToiSXp1bW8gR2Vuc2VpIGFuZCBUYWthbWEgRGl2aW5lIFJlYWxtIixEdXJhbkR5bmFzdHlPZlJ1bm5pbmdXb2x2ZXM6IkR1cmFuLCBEeW5hc3R5IG9mIFJ1bm5pbmcgV29sdmVzIixGb3JnZU9mVGhlS2FscGFnbmlMYW50ZXJuOiJGb3JnZSBvZiB0aGUgS2FscGFnbmkgTGFudGVybiIsTHVzaGFrYVRoZVN1bmtlblNlYXM6Ikx1c2hha2EsIHRoZSBTdW5rZW4gU2VhcyIsVGhlV29uZHJvdXNCYW5hbkFtdXNlbWVudFBhcms6IlRoZSBXb25kcm91cyBCYW5hbkFtdXNlbWVudCBQYXJrIixCb25lQ29sbGVjdGlvbnNTZXJlbmVEZW1lc25lOiJCb25lIENvbGxlY3Rpb24ncyBTZXJlbmUgRGVtZXNuZSIsR2lhbnRUcmVlT2ZSYXB0QnJvb2Rpbmc6IkdpYW50IFRyZWUgb2YgUmFwdCBCcm9vZGluZyJ9LHp0PXsuLi5wZSwuLi5nZX0sRWU9T2JqZWN0LnZhbHVlcyhwZSksRGU9T2JqZWN0LnZhbHVlcyhnZSksUHQ9e307Zm9yKGxldCBuPTA7bjxEZS5sZW5ndGg7bisrKVB0W0RlW25dXT1uO2NvbnN0IHh0PXt9O2ZvcihsZXQgbj0wO248RWUubGVuZ3RoO24rKyl4dFtFZVtuXV09bjtPYmplY3QudmFsdWVzKHBlKS5sZW5ndGg7T2JqZWN0LnZhbHVlcyhnZSkubGVuZ3RoO2NvbnN0IE5lPXtTZXRzOnp0LFBhcnRzOkYsU3RhdHM6aCxNYWluU3RhdHM6S3QsTWFpblN0YXRzVmFsdWVzOl90LFN1YlN0YXRzOlN0LFNldHNPcm5hbWVudHM6Z2UsU2V0c1JlbGljczpwZSxTZXRzUmVsaWNzTmFtZXM6RWUsU2V0c09ybmFtZW50c05hbWVzOkRlLFN0YXRzVG9SZWFkYWJsZTpWdCxQYXJ0c1RvUmVhZGFibGU6V3QsUGFydHNNYWluU3RhdHM6SnQsUmVsaWNTZXRUb0luZGV4Onh0LE9ybmFtZW50U2V0VG9JbmRleDpQdCxNQVhfSU5UOjIxNDc0ODM2NDcsVEhSRUFEX0JVRkZFUl9MRU5HVEg6MTVlNH0sUXQ9e3R5cGU6ImxvZ2dlciIsbG9nKG4pe3RoaXMub3V0cHV0KCJsb2ciLG4pfSx3YXJuKG4pe3RoaXMub3V0cHV0KCJ3YXJuIixuKX0sZXJyb3Iobil7dGhpcy5vdXRwdXQoImVycm9yIixuKX0sb3V0cHV0KG4sZSl7Y29uc29sZSYmY29uc29sZVtuXSYmY29uc29sZVtuXS5hcHBseShjb25zb2xlLGUpfX07Y2xhc3MgYWV7Y29uc3RydWN0b3IoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9O3RoaXMuaW5pdChlLHQpfWluaXQoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9O3RoaXMucHJlZml4PXQucHJlZml4fHwiaTE4bmV4dDoiLHRoaXMubG9nZ2VyPWV8fFF0LHRoaXMub3B0aW9ucz10LHRoaXMuZGVidWc9dC5kZWJ1Z31sb2coKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gdGhpcy5mb3J3YXJkKHQsImxvZyIsIiIsITApfXdhcm4oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gdGhpcy5mb3J3YXJkKHQsIndhcm4iLCIiLCEwKX1lcnJvcigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKXRbcl09YXJndW1lbnRzW3JdO3JldHVybiB0aGlzLmZvcndhcmQodCwiZXJyb3IiLCIiKX1kZXByZWNhdGUoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gdGhpcy5mb3J3YXJkKHQsIndhcm4iLCJXQVJOSU5HIERFUFJFQ0FURUQ6ICIsITApfWZvcndhcmQoZSx0LHIsaSl7cmV0dXJuIGkmJiF0aGlzLmRlYnVnP251bGw6KHR5cGVvZiBlWzBdPT0ic3RyaW5nIiYmKGVbMF09YCR7cn0ke3RoaXMucHJlZml4fSAke2VbMF19YCksdGhpcy5sb2dnZXJbdF0oZSkpfWNyZWF0ZShlKXtyZXR1cm4gbmV3IGFlKHRoaXMubG9nZ2VyLHtwcmVmaXg6YCR7dGhpcy5wcmVmaXh9OiR7ZX06YCwuLi50aGlzLm9wdGlvbnN9KX1jbG9uZShlKXtyZXR1cm4gZT1lfHx0aGlzLm9wdGlvbnMsZS5wcmVmaXg9ZS5wcmVmaXh8fHRoaXMucHJlZml4LG5ldyBhZSh0aGlzLmxvZ2dlcixlKX19dmFyIEM9bmV3IGFlO2NsYXNzIGhle2NvbnN0cnVjdG9yKCl7dGhpcy5vYnNlcnZlcnM9e319b24oZSx0KXtyZXR1cm4gZS5zcGxpdCgiICIpLmZvckVhY2gocj0+e3RoaXMub2JzZXJ2ZXJzW3JdfHwodGhpcy5vYnNlcnZlcnNbcl09bmV3IE1hcCk7Y29uc3QgaT10aGlzLm9ic2VydmVyc1tyXS5nZXQodCl8fDA7dGhpcy5vYnNlcnZlcnNbcl0uc2V0KHQsaSsxKX0pLHRoaXN9b2ZmKGUsdCl7aWYodGhpcy5vYnNlcnZlcnNbZV0pe2lmKCF0KXtkZWxldGUgdGhpcy5vYnNlcnZlcnNbZV07cmV0dXJufXRoaXMub2JzZXJ2ZXJzW2VdLmRlbGV0ZSh0KX19ZW1pdChlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheSh0PjE/dC0xOjApLGk9MTtpPHQ7aSsrKXJbaS0xXT1hcmd1bWVudHNbaV07dGhpcy5vYnNlcnZlcnNbZV0mJkFycmF5LmZyb20odGhpcy5vYnNlcnZlcnNbZV0uZW50cmllcygpKS5mb3JFYWNoKGE9PntsZXRbbyxsXT1hO2ZvcihsZXQgZj0wO2Y8bDtmKyspbyguLi5yKX0pLHRoaXMub2JzZXJ2ZXJzWyIqIl0mJkFycmF5LmZyb20odGhpcy5vYnNlcnZlcnNbIioiXS5lbnRyaWVzKCkpLmZvckVhY2goYT0+e2xldFtvLGxdPWE7Zm9yKGxldCBmPTA7ZjxsO2YrKylvLmFwcGx5KG8sW2UsLi4ucl0pfSl9fWNvbnN0IEo9KCk9PntsZXQgbixlO2NvbnN0IHQ9bmV3IFByb21pc2UoKHIsaSk9PntuPXIsZT1pfSk7cmV0dXJuIHQucmVzb2x2ZT1uLHQucmVqZWN0PWUsdH0sTWU9bj0+bj09bnVsbD8iIjoiIituLHF0PShuLGUsdCk9PntuLmZvckVhY2gocj0+e2Vbcl0mJih0W3JdPWVbcl0pfSl9LFl0PS8jIyMvZyxqZT1uPT5uJiZuLmluZGV4T2YoIiMjIyIpPi0xP24ucmVwbGFjZShZdCwiLiIpOm4sQmU9bj0+IW58fHR5cGVvZiBuPT0ic3RyaW5nIix6PShuLGUsdCk9Pntjb25zdCByPXR5cGVvZiBlIT0ic3RyaW5nIj9lOmUuc3BsaXQoIi4iKTtsZXQgaT0wO2Zvcig7aTxyLmxlbmd0aC0xOyl7aWYoQmUobikpcmV0dXJue307Y29uc3Qgcz1qZShyW2ldKTshbltzXSYmdCYmKG5bc109bmV3IHQpLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHMpP249bltzXTpuPXt9LCsraX1yZXR1cm4gQmUobik/e306e29iajpuLGs6amUocltpXSl9fSxVZT0obixlLHQpPT57Y29uc3R7b2JqOnIsazppfT16KG4sZSxPYmplY3QpO2lmKHIhPT12b2lkIDB8fGUubGVuZ3RoPT09MSl7cltpXT10O3JldHVybn1sZXQgcz1lW2UubGVuZ3RoLTFdLGE9ZS5zbGljZSgwLGUubGVuZ3RoLTEpLG89eihuLGEsT2JqZWN0KTtmb3IoO28ub2JqPT09dm9pZCAwJiZhLmxlbmd0aDspcz1gJHthW2EubGVuZ3RoLTFdfS4ke3N9YCxhPWEuc2xpY2UoMCxhLmxlbmd0aC0xKSxvPXoobixhLE9iamVjdCksbyYmby5vYmomJnR5cGVvZiBvLm9ialtgJHtvLmt9LiR7c31gXTwidSImJihvLm9iaj12b2lkIDApO28ub2JqW2Ake28ua30uJHtzfWBdPXR9LFp0PShuLGUsdCxyKT0+e2NvbnN0e29iajppLGs6c309eihuLGUsT2JqZWN0KTtpW3NdPWlbc118fFtdLGlbc10ucHVzaCh0KX0sb2U9KG4sZSk9Pntjb25zdHtvYmo6dCxrOnJ9PXoobixlKTtpZih0KXJldHVybiB0W3JdfSxYdD0obixlLHQpPT57Y29uc3Qgcj1vZShuLHQpO3JldHVybiByIT09dm9pZCAwP3I6b2UoZSx0KX0sT3Q9KG4sZSx0KT0+e2Zvcihjb25zdCByIGluIGUpciE9PSJfX3Byb3RvX18iJiZyIT09ImNvbnN0cnVjdG9yIiYmKHIgaW4gbj90eXBlb2YgbltyXT09InN0cmluZyJ8fG5bcl1pbnN0YW5jZW9mIFN0cmluZ3x8dHlwZW9mIGVbcl09PSJzdHJpbmcifHxlW3JdaW5zdGFuY2VvZiBTdHJpbmc/dCYmKG5bcl09ZVtyXSk6T3QobltyXSxlW3JdLHQpOm5bcl09ZVtyXSk7cmV0dXJuIG59LE49bj0+bi5yZXBsYWNlKC9bXC1cW1xdXC9ce1x9XChcKVwqXCtcP1wuXFxcXlwkXHxdL2csIlxcJCYiKTt2YXIgZXI9eyImIjoiJmFtcDsiLCI8IjoiJmx0OyIsIj4iOiImZ3Q7IiwnIic6IiZxdW90OyIsIiciOiImIzM5OyIsIi8iOiImI3gyRjsifTtjb25zdCB0cj1uPT50eXBlb2Ygbj09InN0cmluZyI/bi5yZXBsYWNlKC9bJjw+IidcL10vZyxlPT5lcltlXSk6bjtjbGFzcyBycntjb25zdHJ1Y3RvcihlKXt0aGlzLmNhcGFjaXR5PWUsdGhpcy5yZWdFeHBNYXA9bmV3IE1hcCx0aGlzLnJlZ0V4cFF1ZXVlPVtdfWdldFJlZ0V4cChlKXtjb25zdCB0PXRoaXMucmVnRXhwTWFwLmdldChlKTtpZih0IT09dm9pZCAwKXJldHVybiB0O2NvbnN0IHI9bmV3IFJlZ0V4cChlKTtyZXR1cm4gdGhpcy5yZWdFeHBRdWV1ZS5sZW5ndGg9PT10aGlzLmNhcGFjaXR5JiZ0aGlzLnJlZ0V4cE1hcC5kZWxldGUodGhpcy5yZWdFeHBRdWV1ZS5zaGlmdCgpKSx0aGlzLnJlZ0V4cE1hcC5zZXQoZSxyKSx0aGlzLnJlZ0V4cFF1ZXVlLnB1c2goZSkscn19Y29uc3QgbnI9WyIgIiwiLCIsIj8iLCIhIiwiOyJdLGlyPW5ldyBycigyMCksc3I9KG4sZSx0KT0+e2U9ZXx8IiIsdD10fHwiIjtjb25zdCByPW5yLmZpbHRlcihhPT5lLmluZGV4T2YoYSk8MCYmdC5pbmRleE9mKGEpPDApO2lmKHIubGVuZ3RoPT09MClyZXR1cm4hMDtjb25zdCBpPWlyLmdldFJlZ0V4cChgKCR7ci5tYXAoYT0+YT09PSI/Ij8iXFw/IjphKS5qb2luKCJ8Iil9KWApO2xldCBzPSFpLnRlc3Qobik7aWYoIXMpe2NvbnN0IGE9bi5pbmRleE9mKHQpO2E+MCYmIWkudGVzdChuLnN1YnN0cmluZygwLGEpKSYmKHM9ITApfXJldHVybiBzfSxMZT1mdW5jdGlvbihuLGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXToiLiI7aWYoIW4pcmV0dXJuO2lmKG5bZV0pcmV0dXJuIG5bZV07Y29uc3Qgcj1lLnNwbGl0KHQpO2xldCBpPW47Zm9yKGxldCBzPTA7czxyLmxlbmd0aDspe2lmKCFpfHx0eXBlb2YgaSE9Im9iamVjdCIpcmV0dXJuO2xldCBhLG89IiI7Zm9yKGxldCBsPXM7bDxyLmxlbmd0aDsrK2wpaWYobCE9PXMmJihvKz10KSxvKz1yW2xdLGE9aVtvXSxhIT09dm9pZCAwKXtpZihbInN0cmluZyIsIm51bWJlciIsImJvb2xlYW4iXS5pbmRleE9mKHR5cGVvZiBhKT4tMSYmbDxyLmxlbmd0aC0xKWNvbnRpbnVlO3MrPWwtcysxO2JyZWFrfWk9YX1yZXR1cm4gaX0sbGU9bj0+biYmbi5pbmRleE9mKCJfIik+MD9uLnJlcGxhY2UoIl8iLCItIik6bjtjbGFzcyBHZSBleHRlbmRzIGhle2NvbnN0cnVjdG9yKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7bnM6WyJ0cmFuc2xhdGlvbiJdLGRlZmF1bHROUzoidHJhbnNsYXRpb24ifTtzdXBlcigpLHRoaXMuZGF0YT1lfHx7fSx0aGlzLm9wdGlvbnM9dCx0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yPT09dm9pZCAwJiYodGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcj0iLiIpLHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlPT09dm9pZCAwJiYodGhpcy5vcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmU9ITApfWFkZE5hbWVzcGFjZXMoZSl7dGhpcy5vcHRpb25zLm5zLmluZGV4T2YoZSk8MCYmdGhpcy5vcHRpb25zLm5zLnB1c2goZSl9cmVtb3ZlTmFtZXNwYWNlcyhlKXtjb25zdCB0PXRoaXMub3B0aW9ucy5ucy5pbmRleE9mKGUpO3Q+LTEmJnRoaXMub3B0aW9ucy5ucy5zcGxpY2UodCwxKX1nZXRSZXNvdXJjZShlLHQscil7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT12b2lkIDA/YXJndW1lbnRzWzNdOnt9O2NvbnN0IHM9aS5rZXlTZXBhcmF0b3IhPT12b2lkIDA/aS5rZXlTZXBhcmF0b3I6dGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcixhPWkuaWdub3JlSlNPTlN0cnVjdHVyZSE9PXZvaWQgMD9pLmlnbm9yZUpTT05TdHJ1Y3R1cmU6dGhpcy5vcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmU7bGV0IG87ZS5pbmRleE9mKCIuIik+LTE/bz1lLnNwbGl0KCIuIik6KG89W2UsdF0sciYmKEFycmF5LmlzQXJyYXkocik/by5wdXNoKC4uLnIpOnR5cGVvZiByPT0ic3RyaW5nIiYmcz9vLnB1c2goLi4uci5zcGxpdChzKSk6by5wdXNoKHIpKSk7Y29uc3QgbD1vZSh0aGlzLmRhdGEsbyk7cmV0dXJuIWwmJiF0JiYhciYmZS5pbmRleE9mKCIuIik+LTEmJihlPW9bMF0sdD1vWzFdLHI9by5zbGljZSgyKS5qb2luKCIuIikpLGx8fCFhfHx0eXBlb2YgciE9InN0cmluZyI/bDpMZSh0aGlzLmRhdGEmJnRoaXMuZGF0YVtlXSYmdGhpcy5kYXRhW2VdW3RdLHIscyl9YWRkUmVzb3VyY2UoZSx0LHIsaSl7bGV0IHM9YXJndW1lbnRzLmxlbmd0aD40JiZhcmd1bWVudHNbNF0hPT12b2lkIDA/YXJndW1lbnRzWzRdOntzaWxlbnQ6ITF9O2NvbnN0IGE9cy5rZXlTZXBhcmF0b3IhPT12b2lkIDA/cy5rZXlTZXBhcmF0b3I6dGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcjtsZXQgbz1bZSx0XTtyJiYobz1vLmNvbmNhdChhP3Iuc3BsaXQoYSk6cikpLGUuaW5kZXhPZigiLiIpPi0xJiYobz1lLnNwbGl0KCIuIiksaT10LHQ9b1sxXSksdGhpcy5hZGROYW1lc3BhY2VzKHQpLFVlKHRoaXMuZGF0YSxvLGkpLHMuc2lsZW50fHx0aGlzLmVtaXQoImFkZGVkIixlLHQscixpKX1hZGRSZXNvdXJjZXMoZSx0LHIpe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dm9pZCAwP2FyZ3VtZW50c1szXTp7c2lsZW50OiExfTtmb3IoY29uc3QgcyBpbiByKSh0eXBlb2YgcltzXT09InN0cmluZyJ8fEFycmF5LmlzQXJyYXkocltzXSkpJiZ0aGlzLmFkZFJlc291cmNlKGUsdCxzLHJbc10se3NpbGVudDohMH0pO2kuc2lsZW50fHx0aGlzLmVtaXQoImFkZGVkIixlLHQscil9YWRkUmVzb3VyY2VCdW5kbGUoZSx0LHIsaSxzKXtsZXQgYT1hcmd1bWVudHMubGVuZ3RoPjUmJmFyZ3VtZW50c1s1XSE9PXZvaWQgMD9hcmd1bWVudHNbNV06e3NpbGVudDohMSxza2lwQ29weTohMX0sbz1bZSx0XTtlLmluZGV4T2YoIi4iKT4tMSYmKG89ZS5zcGxpdCgiLiIpLGk9cixyPXQsdD1vWzFdKSx0aGlzLmFkZE5hbWVzcGFjZXModCk7bGV0IGw9b2UodGhpcy5kYXRhLG8pfHx7fTthLnNraXBDb3B5fHwocj1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHIpKSksaT9PdChsLHIscyk6bD17Li4ubCwuLi5yfSxVZSh0aGlzLmRhdGEsbyxsKSxhLnNpbGVudHx8dGhpcy5lbWl0KCJhZGRlZCIsZSx0LHIpfXJlbW92ZVJlc291cmNlQnVuZGxlKGUsdCl7dGhpcy5oYXNSZXNvdXJjZUJ1bmRsZShlLHQpJiZkZWxldGUgdGhpcy5kYXRhW2VdW3RdLHRoaXMucmVtb3ZlTmFtZXNwYWNlcyh0KSx0aGlzLmVtaXQoInJlbW92ZWQiLGUsdCl9aGFzUmVzb3VyY2VCdW5kbGUoZSx0KXtyZXR1cm4gdGhpcy5nZXRSZXNvdXJjZShlLHQpIT09dm9pZCAwfWdldFJlc291cmNlQnVuZGxlKGUsdCl7cmV0dXJuIHR8fCh0PXRoaXMub3B0aW9ucy5kZWZhdWx0TlMpLHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJPT09InYxIj97Li4udGhpcy5nZXRSZXNvdXJjZShlLHQpfTp0aGlzLmdldFJlc291cmNlKGUsdCl9Z2V0RGF0YUJ5TGFuZ3VhZ2UoZSl7cmV0dXJuIHRoaXMuZGF0YVtlXX1oYXNMYW5ndWFnZVNvbWVUcmFuc2xhdGlvbnMoZSl7Y29uc3QgdD10aGlzLmdldERhdGFCeUxhbmd1YWdlKGUpO3JldHVybiEhKHQmJk9iamVjdC5rZXlzKHQpfHxbXSkuZmluZChpPT50W2ldJiZPYmplY3Qua2V5cyh0W2ldKS5sZW5ndGg+MCl9dG9KU09OKCl7cmV0dXJuIHRoaXMuZGF0YX19dmFyIHd0PXtwcm9jZXNzb3JzOnt9LGFkZFBvc3RQcm9jZXNzb3Iobil7dGhpcy5wcm9jZXNzb3JzW24ubmFtZV09bn0saGFuZGxlKG4sZSx0LHIsaSl7cmV0dXJuIG4uZm9yRWFjaChzPT57dGhpcy5wcm9jZXNzb3JzW3NdJiYoZT10aGlzLnByb2Nlc3NvcnNbc10ucHJvY2VzcyhlLHQscixpKSl9KSxlfX07Y29uc3QgSGU9e307Y2xhc3MgdWUgZXh0ZW5kcyBoZXtjb25zdHJ1Y3RvcihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e307c3VwZXIoKSxxdChbInJlc291cmNlU3RvcmUiLCJsYW5ndWFnZVV0aWxzIiwicGx1cmFsUmVzb2x2ZXIiLCJpbnRlcnBvbGF0b3IiLCJiYWNrZW5kQ29ubmVjdG9yIiwiaTE4bkZvcm1hdCIsInV0aWxzIl0sZSx0aGlzKSx0aGlzLm9wdGlvbnM9dCx0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yPT09dm9pZCAwJiYodGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcj0iLiIpLHRoaXMubG9nZ2VyPUMuY3JlYXRlKCJ0cmFuc2xhdG9yIil9Y2hhbmdlTGFuZ3VhZ2UoZSl7ZSYmKHRoaXMubGFuZ3VhZ2U9ZSl9ZXhpc3RzKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7aW50ZXJwb2xhdGlvbjp7fX07aWYoZT09bnVsbClyZXR1cm4hMTtjb25zdCByPXRoaXMucmVzb2x2ZShlLHQpO3JldHVybiByJiZyLnJlcyE9PXZvaWQgMH1leHRyYWN0RnJvbUtleShlLHQpe2xldCByPXQubnNTZXBhcmF0b3IhPT12b2lkIDA/dC5uc1NlcGFyYXRvcjp0aGlzLm9wdGlvbnMubnNTZXBhcmF0b3I7cj09PXZvaWQgMCYmKHI9IjoiKTtjb25zdCBpPXQua2V5U2VwYXJhdG9yIT09dm9pZCAwP3Qua2V5U2VwYXJhdG9yOnRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I7bGV0IHM9dC5uc3x8dGhpcy5vcHRpb25zLmRlZmF1bHROU3x8W107Y29uc3QgYT1yJiZlLmluZGV4T2Yocik+LTEsbz0hdGhpcy5vcHRpb25zLnVzZXJEZWZpbmVkS2V5U2VwYXJhdG9yJiYhdC5rZXlTZXBhcmF0b3ImJiF0aGlzLm9wdGlvbnMudXNlckRlZmluZWROc1NlcGFyYXRvciYmIXQubnNTZXBhcmF0b3ImJiFzcihlLHIsaSk7aWYoYSYmIW8pe2NvbnN0IGw9ZS5tYXRjaCh0aGlzLmludGVycG9sYXRvci5uZXN0aW5nUmVnZXhwKTtpZihsJiZsLmxlbmd0aD4wKXJldHVybntrZXk6ZSxuYW1lc3BhY2VzOnN9O2NvbnN0IGY9ZS5zcGxpdChyKTsociE9PWl8fHI9PT1pJiZ0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihmWzBdKT4tMSkmJihzPWYuc2hpZnQoKSksZT1mLmpvaW4oaSl9cmV0dXJuIHR5cGVvZiBzPT0ic3RyaW5nIiYmKHM9W3NdKSx7a2V5OmUsbmFtZXNwYWNlczpzfX10cmFuc2xhdGUoZSx0LHIpe2lmKHR5cGVvZiB0IT0ib2JqZWN0IiYmdGhpcy5vcHRpb25zLm92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyJiYodD10aGlzLm9wdGlvbnMub3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXIoYXJndW1lbnRzKSksdHlwZW9mIHQ9PSJvYmplY3QiJiYodD17Li4udH0pLHR8fCh0PXt9KSxlPT1udWxsKXJldHVybiIiO0FycmF5LmlzQXJyYXkoZSl8fChlPVtTdHJpbmcoZSldKTtjb25zdCBpPXQucmV0dXJuRGV0YWlscyE9PXZvaWQgMD90LnJldHVybkRldGFpbHM6dGhpcy5vcHRpb25zLnJldHVybkRldGFpbHMscz10LmtleVNlcGFyYXRvciE9PXZvaWQgMD90LmtleVNlcGFyYXRvcjp0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yLHtrZXk6YSxuYW1lc3BhY2VzOm99PXRoaXMuZXh0cmFjdEZyb21LZXkoZVtlLmxlbmd0aC0xXSx0KSxsPW9bby5sZW5ndGgtMV0sZj10LmxuZ3x8dGhpcy5sYW5ndWFnZSxjPXQuYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGV8fHRoaXMub3B0aW9ucy5hcHBlbmROYW1lc3BhY2VUb0NJTW9kZTtpZihmJiZmLnRvTG93ZXJDYXNlKCk9PT0iY2ltb2RlIil7aWYoYyl7Y29uc3Qgdj10Lm5zU2VwYXJhdG9yfHx0aGlzLm9wdGlvbnMubnNTZXBhcmF0b3I7cmV0dXJuIGk/e3JlczpgJHtsfSR7dn0ke2F9YCx1c2VkS2V5OmEsZXhhY3RVc2VkS2V5OmEsdXNlZExuZzpmLHVzZWROUzpsLHVzZWRQYXJhbXM6dGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyh0KX06YCR7bH0ke3Z9JHthfWB9cmV0dXJuIGk/e3JlczphLHVzZWRLZXk6YSxleGFjdFVzZWRLZXk6YSx1c2VkTG5nOmYsdXNlZE5TOmwsdXNlZFBhcmFtczp0aGlzLmdldFVzZWRQYXJhbXNEZXRhaWxzKHQpfTphfWNvbnN0IGc9dGhpcy5yZXNvbHZlKGUsdCk7bGV0IHU9ZyYmZy5yZXM7Y29uc3QgcD1nJiZnLnVzZWRLZXl8fGEsZD1nJiZnLmV4YWN0VXNlZEtleXx8YSxtPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkodSkseT1bIltvYmplY3QgTnVtYmVyXSIsIltvYmplY3QgRnVuY3Rpb25dIiwiW29iamVjdCBSZWdFeHBdIl0seD10LmpvaW5BcnJheXMhPT12b2lkIDA/dC5qb2luQXJyYXlzOnRoaXMub3B0aW9ucy5qb2luQXJyYXlzLFM9IXRoaXMuaTE4bkZvcm1hdHx8dGhpcy5pMThuRm9ybWF0LmhhbmRsZUFzT2JqZWN0O2lmKFMmJnUmJih0eXBlb2YgdSE9InN0cmluZyImJnR5cGVvZiB1IT0iYm9vbGVhbiImJnR5cGVvZiB1IT0ibnVtYmVyIikmJnkuaW5kZXhPZihtKTwwJiYhKHR5cGVvZiB4PT0ic3RyaW5nIiYmQXJyYXkuaXNBcnJheSh1KSkpe2lmKCF0LnJldHVybk9iamVjdHMmJiF0aGlzLm9wdGlvbnMucmV0dXJuT2JqZWN0cyl7dGhpcy5vcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlcnx8dGhpcy5sb2dnZXIud2FybigiYWNjZXNzaW5nIGFuIG9iamVjdCAtIGJ1dCByZXR1cm5PYmplY3RzIG9wdGlvbnMgaXMgbm90IGVuYWJsZWQhIik7Y29uc3Qgdj10aGlzLm9wdGlvbnMucmV0dXJuZWRPYmplY3RIYW5kbGVyP3RoaXMub3B0aW9ucy5yZXR1cm5lZE9iamVjdEhhbmRsZXIocCx1LHsuLi50LG5zOm99KTpga2V5ICcke2F9ICgke3RoaXMubGFuZ3VhZ2V9KScgcmV0dXJuZWQgYW4gb2JqZWN0IGluc3RlYWQgb2Ygc3RyaW5nLmA7cmV0dXJuIGk/KGcucmVzPXYsZy51c2VkUGFyYW1zPXRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHModCksZyk6dn1pZihzKXtjb25zdCB2PUFycmF5LmlzQXJyYXkodSksUD12P1tdOnt9LEQ9dj9kOnA7Zm9yKGNvbnN0IFIgaW4gdSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodSxSKSl7Y29uc3QgJD1gJHtEfSR7c30ke1J9YDtQW1JdPXRoaXMudHJhbnNsYXRlKCQsey4uLnQsam9pbkFycmF5czohMSxuczpvfSksUFtSXT09PSQmJihQW1JdPXVbUl0pfXU9UH19ZWxzZSBpZihTJiZ0eXBlb2YgeD09InN0cmluZyImJkFycmF5LmlzQXJyYXkodSkpdT11LmpvaW4oeCksdSYmKHU9dGhpcy5leHRlbmRUcmFuc2xhdGlvbih1LGUsdCxyKSk7ZWxzZXtsZXQgdj0hMSxQPSExO2NvbnN0IEQ9dC5jb3VudCE9PXZvaWQgMCYmdHlwZW9mIHQuY291bnQhPSJzdHJpbmciLFI9dWUuaGFzRGVmYXVsdFZhbHVlKHQpLCQ9RD90aGlzLnBsdXJhbFJlc29sdmVyLmdldFN1ZmZpeChmLHQuY291bnQsdCk6IiIsR3Q9dC5vcmRpbmFsJiZEP3RoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4KGYsdC5jb3VudCx7b3JkaW5hbDohMX0pOiIiLEllPUQmJiF0Lm9yZGluYWwmJnQuY291bnQ9PT0wJiZ0aGlzLnBsdXJhbFJlc29sdmVyLnNob3VsZFVzZUludGxBcGkoKSxLPUllJiZ0W2BkZWZhdWx0VmFsdWUke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2BdfHx0W2BkZWZhdWx0VmFsdWUkeyR9YF18fHRbYGRlZmF1bHRWYWx1ZSR7R3R9YF18fHQuZGVmYXVsdFZhbHVlOyF0aGlzLmlzVmFsaWRMb29rdXAodSkmJlImJih2PSEwLHU9SyksdGhpcy5pc1ZhbGlkTG9va3VwKHUpfHwoUD0hMCx1PWEpO2NvbnN0IEh0PSh0Lm1pc3NpbmdLZXlOb1ZhbHVlRmFsbGJhY2tUb0tleXx8dGhpcy5vcHRpb25zLm1pc3NpbmdLZXlOb1ZhbHVlRmFsbGJhY2tUb0tleSkmJlA/dm9pZCAwOnUsXz1SJiZLIT09dSYmdGhpcy5vcHRpb25zLnVwZGF0ZU1pc3Npbmc7aWYoUHx8dnx8Xyl7aWYodGhpcy5sb2dnZXIubG9nKF8/InVwZGF0ZUtleSI6Im1pc3NpbmdLZXkiLGYsbCxhLF8/Szp1KSxzKXtjb25zdCBMPXRoaXMucmVzb2x2ZShhLHsuLi50LGtleVNlcGFyYXRvcjohMX0pO0wmJkwucmVzJiZ0aGlzLmxvZ2dlci53YXJuKCJTZWVtcyB0aGUgbG9hZGVkIHRyYW5zbGF0aW9ucyB3ZXJlIGluIGZsYXQgSlNPTiBmb3JtYXQgaW5zdGVhZCBvZiBuZXN0ZWQuIEVpdGhlciBzZXQga2V5U2VwYXJhdG9yOiBmYWxzZSBvbiBpbml0IG9yIG1ha2Ugc3VyZSB5b3VyIHRyYW5zbGF0aW9ucyBhcmUgcHVibGlzaGVkIGluIG5lc3RlZCBmb3JtYXQuIil9bGV0IFY9W107Y29uc3QgWj10aGlzLmxhbmd1YWdlVXRpbHMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcsdC5sbmd8fHRoaXMubGFuZ3VhZ2UpO2lmKHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1RvPT09ImZhbGxiYWNrIiYmWiYmWlswXSlmb3IobGV0IEw9MDtMPFoubGVuZ3RoO0wrKylWLnB1c2goWltMXSk7ZWxzZSB0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmdUbz09PSJhbGwiP1Y9dGhpcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeSh0LmxuZ3x8dGhpcy5sYW5ndWFnZSk6Vi5wdXNoKHQubG5nfHx0aGlzLmxhbmd1YWdlKTtjb25zdCBUZT0oTCxJLFcpPT57Y29uc3Qga2U9UiYmVyE9PXU/VzpIdDt0aGlzLm9wdGlvbnMubWlzc2luZ0tleUhhbmRsZXI/dGhpcy5vcHRpb25zLm1pc3NpbmdLZXlIYW5kbGVyKEwsbCxJLGtlLF8sdCk6dGhpcy5iYWNrZW5kQ29ubmVjdG9yJiZ0aGlzLmJhY2tlbmRDb25uZWN0b3Iuc2F2ZU1pc3NpbmcmJnRoaXMuYmFja2VuZENvbm5lY3Rvci5zYXZlTWlzc2luZyhMLGwsSSxrZSxfLHQpLHRoaXMuZW1pdCgibWlzc2luZ0tleSIsTCxsLEksdSl9O3RoaXMub3B0aW9ucy5zYXZlTWlzc2luZyYmKHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1BsdXJhbHMmJkQ/Vi5mb3JFYWNoKEw9Pntjb25zdCBJPXRoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4ZXMoTCx0KTtJZSYmdFtgZGVmYXVsdFZhbHVlJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gXSYmSS5pbmRleE9mKGAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2ApPDAmJkkucHVzaChgJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gKSxJLmZvckVhY2goVz0+e1RlKFtMXSxhK1csdFtgZGVmYXVsdFZhbHVlJHtXfWBdfHxLKX0pfSk6VGUoVixhLEspKX11PXRoaXMuZXh0ZW5kVHJhbnNsYXRpb24odSxlLHQsZyxyKSxQJiZ1PT09YSYmdGhpcy5vcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvTWlzc2luZ0tleSYmKHU9YCR7bH06JHthfWApLChQfHx2KSYmdGhpcy5vcHRpb25zLnBhcnNlTWlzc2luZ0tleUhhbmRsZXImJih0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSE9PSJ2MSI/dT10aGlzLm9wdGlvbnMucGFyc2VNaXNzaW5nS2V5SGFuZGxlcih0aGlzLm9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9NaXNzaW5nS2V5P2Ake2x9OiR7YX1gOmEsdj91OnZvaWQgMCk6dT10aGlzLm9wdGlvbnMucGFyc2VNaXNzaW5nS2V5SGFuZGxlcih1KSl9cmV0dXJuIGk/KGcucmVzPXUsZy51c2VkUGFyYW1zPXRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHModCksZyk6dX1leHRlbmRUcmFuc2xhdGlvbihlLHQscixpLHMpe3ZhciBhPXRoaXM7aWYodGhpcy5pMThuRm9ybWF0JiZ0aGlzLmkxOG5Gb3JtYXQucGFyc2UpZT10aGlzLmkxOG5Gb3JtYXQucGFyc2UoZSx7Li4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcywuLi5yfSxyLmxuZ3x8dGhpcy5sYW5ndWFnZXx8aS51c2VkTG5nLGkudXNlZE5TLGkudXNlZEtleSx7cmVzb2x2ZWQ6aX0pO2Vsc2UgaWYoIXIuc2tpcEludGVycG9sYXRpb24pe3IuaW50ZXJwb2xhdGlvbiYmdGhpcy5pbnRlcnBvbGF0b3IuaW5pdCh7Li4ucixpbnRlcnBvbGF0aW9uOnsuLi50aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiwuLi5yLmludGVycG9sYXRpb259fSk7Y29uc3QgZj10eXBlb2YgZT09InN0cmluZyImJihyJiZyLmludGVycG9sYXRpb24mJnIuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXMhPT12b2lkIDA/ci5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlczp0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXMpO2xldCBjO2lmKGYpe2NvbnN0IHU9ZS5tYXRjaCh0aGlzLmludGVycG9sYXRvci5uZXN0aW5nUmVnZXhwKTtjPXUmJnUubGVuZ3RofWxldCBnPXIucmVwbGFjZSYmdHlwZW9mIHIucmVwbGFjZSE9InN0cmluZyI/ci5yZXBsYWNlOnI7aWYodGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyYmKGc9ey4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMsLi4uZ30pLGU9dGhpcy5pbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUoZSxnLHIubG5nfHx0aGlzLmxhbmd1YWdlfHxpLnVzZWRMbmcsciksZil7Y29uc3QgdT1lLm1hdGNoKHRoaXMuaW50ZXJwb2xhdG9yLm5lc3RpbmdSZWdleHApLHA9dSYmdS5sZW5ndGg7YzxwJiYoci5uZXN0PSExKX0hci5sbmcmJnRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJIT09InYxIiYmaSYmaS5yZXMmJihyLmxuZz10aGlzLmxhbmd1YWdlfHxpLnVzZWRMbmcpLHIubmVzdCE9PSExJiYoZT10aGlzLmludGVycG9sYXRvci5uZXN0KGUsZnVuY3Rpb24oKXtmb3IodmFyIHU9YXJndW1lbnRzLmxlbmd0aCxwPW5ldyBBcnJheSh1KSxkPTA7ZDx1O2QrKylwW2RdPWFyZ3VtZW50c1tkXTtyZXR1cm4gcyYmc1swXT09PXBbMF0mJiFyLmNvbnRleHQ/KGEubG9nZ2VyLndhcm4oYEl0IHNlZW1zIHlvdSBhcmUgbmVzdGluZyByZWN1cnNpdmVseSBrZXk6ICR7cFswXX0gaW4ga2V5OiAke3RbMF19YCksbnVsbCk6YS50cmFuc2xhdGUoLi4ucCx0KX0scikpLHIuaW50ZXJwb2xhdGlvbiYmdGhpcy5pbnRlcnBvbGF0b3IucmVzZXQoKX1jb25zdCBvPXIucG9zdFByb2Nlc3N8fHRoaXMub3B0aW9ucy5wb3N0UHJvY2VzcyxsPXR5cGVvZiBvPT0ic3RyaW5nIj9bb106bztyZXR1cm4gZSE9bnVsbCYmbCYmbC5sZW5ndGgmJnIuYXBwbHlQb3N0UHJvY2Vzc29yIT09ITEmJihlPXd0LmhhbmRsZShsLGUsdCx0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5wb3N0UHJvY2Vzc1Bhc3NSZXNvbHZlZD97aTE4blJlc29sdmVkOnsuLi5pLHVzZWRQYXJhbXM6dGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhyKX0sLi4ucn06cix0aGlzKSksZX1yZXNvbHZlKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fSxyLGkscyxhLG87cmV0dXJuIHR5cGVvZiBlPT0ic3RyaW5nIiYmKGU9W2VdKSxlLmZvckVhY2gobD0+e2lmKHRoaXMuaXNWYWxpZExvb2t1cChyKSlyZXR1cm47Y29uc3QgZj10aGlzLmV4dHJhY3RGcm9tS2V5KGwsdCksYz1mLmtleTtpPWM7bGV0IGc9Zi5uYW1lc3BhY2VzO3RoaXMub3B0aW9ucy5mYWxsYmFja05TJiYoZz1nLmNvbmNhdCh0aGlzLm9wdGlvbnMuZmFsbGJhY2tOUykpO2NvbnN0IHU9dC5jb3VudCE9PXZvaWQgMCYmdHlwZW9mIHQuY291bnQhPSJzdHJpbmciLHA9dSYmIXQub3JkaW5hbCYmdC5jb3VudD09PTAmJnRoaXMucGx1cmFsUmVzb2x2ZXIuc2hvdWxkVXNlSW50bEFwaSgpLGQ9dC5jb250ZXh0IT09dm9pZCAwJiYodHlwZW9mIHQuY29udGV4dD09InN0cmluZyJ8fHR5cGVvZiB0LmNvbnRleHQ9PSJudW1iZXIiKSYmdC5jb250ZXh0IT09IiIsbT10LmxuZ3M/dC5sbmdzOnRoaXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkodC5sbmd8fHRoaXMubGFuZ3VhZ2UsdC5mYWxsYmFja0xuZyk7Zy5mb3JFYWNoKHk9Pnt0aGlzLmlzVmFsaWRMb29rdXAocil8fChvPXksIUhlW2Ake21bMF19LSR7eX1gXSYmdGhpcy51dGlscyYmdGhpcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UmJiF0aGlzLnV0aWxzLmhhc0xvYWRlZE5hbWVzcGFjZShvKSYmKEhlW2Ake21bMF19LSR7eX1gXT0hMCx0aGlzLmxvZ2dlci53YXJuKGBrZXkgIiR7aX0iIGZvciBsYW5ndWFnZXMgIiR7bS5qb2luKCIsICIpfSIgd29uJ3QgZ2V0IHJlc29sdmVkIGFzIG5hbWVzcGFjZSAiJHtvfSIgd2FzIG5vdCB5ZXQgbG9hZGVkYCwiVGhpcyBtZWFucyBzb21ldGhpbmcgSVMgV1JPTkcgaW4geW91ciBzZXR1cC4gWW91IGFjY2VzcyB0aGUgdCBmdW5jdGlvbiBiZWZvcmUgaTE4bmV4dC5pbml0IC8gaTE4bmV4dC5sb2FkTmFtZXNwYWNlIC8gaTE4bmV4dC5jaGFuZ2VMYW5ndWFnZSB3YXMgZG9uZS4gV2FpdCBmb3IgdGhlIGNhbGxiYWNrIG9yIFByb21pc2UgdG8gcmVzb2x2ZSBiZWZvcmUgYWNjZXNzaW5nIGl0ISEhIikpLG0uZm9yRWFjaCh4PT57aWYodGhpcy5pc1ZhbGlkTG9va3VwKHIpKXJldHVybjthPXg7Y29uc3QgUz1bY107aWYodGhpcy5pMThuRm9ybWF0JiZ0aGlzLmkxOG5Gb3JtYXQuYWRkTG9va3VwS2V5cyl0aGlzLmkxOG5Gb3JtYXQuYWRkTG9va3VwS2V5cyhTLGMseCx5LHQpO2Vsc2V7bGV0IHY7dSYmKHY9dGhpcy5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXgoeCx0LmNvdW50LHQpKTtjb25zdCBQPWAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2AsRD1gJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfW9yZGluYWwke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9YDtpZih1JiYoUy5wdXNoKGMrdiksdC5vcmRpbmFsJiZ2LmluZGV4T2YoRCk9PT0wJiZTLnB1c2goYyt2LnJlcGxhY2UoRCx0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yKSkscCYmUy5wdXNoKGMrUCkpLGQpe2NvbnN0IFI9YCR7Y30ke3RoaXMub3B0aW9ucy5jb250ZXh0U2VwYXJhdG9yfSR7dC5jb250ZXh0fWA7Uy5wdXNoKFIpLHUmJihTLnB1c2goUit2KSx0Lm9yZGluYWwmJnYuaW5kZXhPZihEKT09PTAmJlMucHVzaChSK3YucmVwbGFjZShELHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IpKSxwJiZTLnB1c2goUitQKSl9fWxldCBPO2Zvcig7Tz1TLnBvcCgpOyl0aGlzLmlzVmFsaWRMb29rdXAocil8fChzPU8scj10aGlzLmdldFJlc291cmNlKHgseSxPLHQpKX0pKX0pfSkse3JlczpyLHVzZWRLZXk6aSxleGFjdFVzZWRLZXk6cyx1c2VkTG5nOmEsdXNlZE5TOm99fWlzVmFsaWRMb29rdXAoZSl7cmV0dXJuIGUhPT12b2lkIDAmJiEoIXRoaXMub3B0aW9ucy5yZXR1cm5OdWxsJiZlPT09bnVsbCkmJiEoIXRoaXMub3B0aW9ucy5yZXR1cm5FbXB0eVN0cmluZyYmZT09PSIiKX1nZXRSZXNvdXJjZShlLHQscil7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT12b2lkIDA/YXJndW1lbnRzWzNdOnt9O3JldHVybiB0aGlzLmkxOG5Gb3JtYXQmJnRoaXMuaTE4bkZvcm1hdC5nZXRSZXNvdXJjZT90aGlzLmkxOG5Gb3JtYXQuZ2V0UmVzb3VyY2UoZSx0LHIsaSk6dGhpcy5yZXNvdXJjZVN0b3JlLmdldFJlc291cmNlKGUsdCxyLGkpfWdldFVzZWRQYXJhbXNEZXRhaWxzKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9O2NvbnN0IHQ9WyJkZWZhdWx0VmFsdWUiLCJvcmRpbmFsIiwiY29udGV4dCIsInJlcGxhY2UiLCJsbmciLCJsbmdzIiwiZmFsbGJhY2tMbmciLCJucyIsImtleVNlcGFyYXRvciIsIm5zU2VwYXJhdG9yIiwicmV0dXJuT2JqZWN0cyIsInJldHVybkRldGFpbHMiLCJqb2luQXJyYXlzIiwicG9zdFByb2Nlc3MiLCJpbnRlcnBvbGF0aW9uIl0scj1lLnJlcGxhY2UmJnR5cGVvZiBlLnJlcGxhY2UhPSJzdHJpbmciO2xldCBpPXI/ZS5yZXBsYWNlOmU7aWYociYmdHlwZW9mIGUuY291bnQ8InUiJiYoaS5jb3VudD1lLmNvdW50KSx0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzJiYoaT17Li4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcywuLi5pfSksIXIpe2k9ey4uLml9O2Zvcihjb25zdCBzIG9mIHQpZGVsZXRlIGlbc119cmV0dXJuIGl9c3RhdGljIGhhc0RlZmF1bHRWYWx1ZShlKXtjb25zdCB0PSJkZWZhdWx0VmFsdWUiO2Zvcihjb25zdCByIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJnQ9PT1yLnN1YnN0cmluZygwLHQubGVuZ3RoKSYmZVtyXSE9PXZvaWQgMClyZXR1cm4hMDtyZXR1cm4hMX19Y29uc3QgbWU9bj0+bi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStuLnNsaWNlKDEpO2NsYXNzIEtle2NvbnN0cnVjdG9yKGUpe3RoaXMub3B0aW9ucz1lLHRoaXMuc3VwcG9ydGVkTG5ncz10aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5nc3x8ITEsdGhpcy5sb2dnZXI9Qy5jcmVhdGUoImxhbmd1YWdlVXRpbHMiKX1nZXRTY3JpcHRQYXJ0RnJvbUNvZGUoZSl7aWYoZT1sZShlKSwhZXx8ZS5pbmRleE9mKCItIik8MClyZXR1cm4gbnVsbDtjb25zdCB0PWUuc3BsaXQoIi0iKTtyZXR1cm4gdC5sZW5ndGg9PT0yfHwodC5wb3AoKSx0W3QubGVuZ3RoLTFdLnRvTG93ZXJDYXNlKCk9PT0ieCIpP251bGw6dGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUodC5qb2luKCItIikpfWdldExhbmd1YWdlUGFydEZyb21Db2RlKGUpe2lmKGU9bGUoZSksIWV8fGUuaW5kZXhPZigiLSIpPDApcmV0dXJuIGU7Y29uc3QgdD1lLnNwbGl0KCItIik7cmV0dXJuIHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKHRbMF0pfWZvcm1hdExhbmd1YWdlQ29kZShlKXtpZih0eXBlb2YgZT09InN0cmluZyImJmUuaW5kZXhPZigiLSIpPi0xKXtjb25zdCB0PVsiaGFucyIsImhhbnQiLCJsYXRuIiwiY3lybCIsImNhbnMiLCJtb25nIiwiYXJhYiJdO2xldCByPWUuc3BsaXQoIi0iKTtyZXR1cm4gdGhpcy5vcHRpb25zLmxvd2VyQ2FzZUxuZz9yPXIubWFwKGk9PmkudG9Mb3dlckNhc2UoKSk6ci5sZW5ndGg9PT0yPyhyWzBdPXJbMF0udG9Mb3dlckNhc2UoKSxyWzFdPXJbMV0udG9VcHBlckNhc2UoKSx0LmluZGV4T2YoclsxXS50b0xvd2VyQ2FzZSgpKT4tMSYmKHJbMV09bWUoclsxXS50b0xvd2VyQ2FzZSgpKSkpOnIubGVuZ3RoPT09MyYmKHJbMF09clswXS50b0xvd2VyQ2FzZSgpLHJbMV0ubGVuZ3RoPT09MiYmKHJbMV09clsxXS50b1VwcGVyQ2FzZSgpKSxyWzBdIT09InNnbiImJnJbMl0ubGVuZ3RoPT09MiYmKHJbMl09clsyXS50b1VwcGVyQ2FzZSgpKSx0LmluZGV4T2YoclsxXS50b0xvd2VyQ2FzZSgpKT4tMSYmKHJbMV09bWUoclsxXS50b0xvd2VyQ2FzZSgpKSksdC5pbmRleE9mKHJbMl0udG9Mb3dlckNhc2UoKSk+LTEmJihyWzJdPW1lKHJbMl0udG9Mb3dlckNhc2UoKSkpKSxyLmpvaW4oIi0iKX1yZXR1cm4gdGhpcy5vcHRpb25zLmNsZWFuQ29kZXx8dGhpcy5vcHRpb25zLmxvd2VyQ2FzZUxuZz9lLnRvTG93ZXJDYXNlKCk6ZX1pc1N1cHBvcnRlZENvZGUoZSl7cmV0dXJuKHRoaXMub3B0aW9ucy5sb2FkPT09Imxhbmd1YWdlT25seSJ8fHRoaXMub3B0aW9ucy5ub25FeHBsaWNpdFN1cHBvcnRlZExuZ3MpJiYoZT10aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGUpKSwhdGhpcy5zdXBwb3J0ZWRMbmdzfHwhdGhpcy5zdXBwb3J0ZWRMbmdzLmxlbmd0aHx8dGhpcy5zdXBwb3J0ZWRMbmdzLmluZGV4T2YoZSk+LTF9Z2V0QmVzdE1hdGNoRnJvbUNvZGVzKGUpe2lmKCFlKXJldHVybiBudWxsO2xldCB0O3JldHVybiBlLmZvckVhY2gocj0+e2lmKHQpcmV0dXJuO2NvbnN0IGk9dGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUocik7KCF0aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5nc3x8dGhpcy5pc1N1cHBvcnRlZENvZGUoaSkpJiYodD1pKX0pLCF0JiZ0aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5ncyYmZS5mb3JFYWNoKHI9PntpZih0KXJldHVybjtjb25zdCBpPXRoaXMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUocik7aWYodGhpcy5pc1N1cHBvcnRlZENvZGUoaSkpcmV0dXJuIHQ9aTt0PXRoaXMub3B0aW9ucy5zdXBwb3J0ZWRMbmdzLmZpbmQocz0+e2lmKHM9PT1pKXJldHVybiBzO2lmKCEocy5pbmRleE9mKCItIik8MCYmaS5pbmRleE9mKCItIik8MCkmJihzLmluZGV4T2YoIi0iKT4wJiZpLmluZGV4T2YoIi0iKTwwJiZzLnN1YnN0cmluZygwLHMuaW5kZXhPZigiLSIpKT09PWl8fHMuaW5kZXhPZihpKT09PTAmJmkubGVuZ3RoPjEpKXJldHVybiBzfSl9KSx0fHwodD10aGlzLmdldEZhbGxiYWNrQ29kZXModGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nKVswXSksdH1nZXRGYWxsYmFja0NvZGVzKGUsdCl7aWYoIWUpcmV0dXJuW107aWYodHlwZW9mIGU9PSJmdW5jdGlvbiImJihlPWUodCkpLHR5cGVvZiBlPT0ic3RyaW5nIiYmKGU9W2VdKSxBcnJheS5pc0FycmF5KGUpKXJldHVybiBlO2lmKCF0KXJldHVybiBlLmRlZmF1bHR8fFtdO2xldCByPWVbdF07cmV0dXJuIHJ8fChyPWVbdGhpcy5nZXRTY3JpcHRQYXJ0RnJvbUNvZGUodCldKSxyfHwocj1lW3RoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKHQpXSkscnx8KHI9ZVt0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKHQpXSkscnx8KHI9ZS5kZWZhdWx0KSxyfHxbXX10b1Jlc29sdmVIaWVyYXJjaHkoZSx0KXtjb25zdCByPXRoaXMuZ2V0RmFsbGJhY2tDb2Rlcyh0fHx0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmd8fFtdLGUpLGk9W10scz1hPT57YSYmKHRoaXMuaXNTdXBwb3J0ZWRDb2RlKGEpP2kucHVzaChhKTp0aGlzLmxvZ2dlci53YXJuKGByZWplY3RpbmcgbGFuZ3VhZ2UgY29kZSBub3QgZm91bmQgaW4gc3VwcG9ydGVkTG5nczogJHthfWApKX07cmV0dXJuIHR5cGVvZiBlPT0ic3RyaW5nIiYmKGUuaW5kZXhPZigiLSIpPi0xfHxlLmluZGV4T2YoIl8iKT4tMSk/KHRoaXMub3B0aW9ucy5sb2FkIT09Imxhbmd1YWdlT25seSImJnModGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoZSkpLHRoaXMub3B0aW9ucy5sb2FkIT09Imxhbmd1YWdlT25seSImJnRoaXMub3B0aW9ucy5sb2FkIT09ImN1cnJlbnRPbmx5IiYmcyh0aGlzLmdldFNjcmlwdFBhcnRGcm9tQ29kZShlKSksdGhpcy5vcHRpb25zLmxvYWQhPT0iY3VycmVudE9ubHkiJiZzKHRoaXMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoZSkpKTp0eXBlb2YgZT09InN0cmluZyImJnModGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoZSkpLHIuZm9yRWFjaChhPT57aS5pbmRleE9mKGEpPDAmJnModGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoYSkpfSksaX19bGV0IGFyPVt7bG5nczpbImFjaCIsImFrIiwiYW0iLCJhcm4iLCJiciIsImZpbCIsImd1biIsImxuIiwibWZlIiwibWciLCJtaSIsIm9jIiwicHQiLCJwdC1CUiIsInRnIiwidGwiLCJ0aSIsInRyIiwidXoiLCJ3YSJdLG5yOlsxLDJdLGZjOjF9LHtsbmdzOlsiYWYiLCJhbiIsImFzdCIsImF6IiwiYmciLCJibiIsImNhIiwiZGEiLCJkZSIsImRldiIsImVsIiwiZW4iLCJlbyIsImVzIiwiZXQiLCJldSIsImZpIiwiZm8iLCJmdXIiLCJmeSIsImdsIiwiZ3UiLCJoYSIsImhpIiwiaHUiLCJoeSIsImlhIiwiaXQiLCJrayIsImtuIiwia3UiLCJsYiIsIm1haSIsIm1sIiwibW4iLCJtciIsIm5haCIsIm5hcCIsIm5iIiwibmUiLCJubCIsIm5uIiwibm8iLCJuc28iLCJwYSIsInBhcCIsInBtcyIsInBzIiwicHQtUFQiLCJybSIsInNjbyIsInNlIiwic2kiLCJzbyIsInNvbiIsInNxIiwic3YiLCJzdyIsInRhIiwidGUiLCJ0ayIsInVyIiwieW8iXSxucjpbMSwyXSxmYzoyfSx7bG5nczpbImF5IiwiYm8iLCJjZ2ciLCJmYSIsImh0IiwiaWQiLCJqYSIsImpibyIsImthIiwia20iLCJrbyIsImt5IiwibG8iLCJtcyIsInNhaCIsInN1IiwidGgiLCJ0dCIsInVnIiwidmkiLCJ3byIsInpoIl0sbnI6WzFdLGZjOjN9LHtsbmdzOlsiYmUiLCJicyIsImNuciIsImR6IiwiaHIiLCJydSIsInNyIiwidWsiXSxucjpbMSwyLDVdLGZjOjR9LHtsbmdzOlsiYXIiXSxucjpbMCwxLDIsMywxMSwxMDBdLGZjOjV9LHtsbmdzOlsiY3MiLCJzayJdLG5yOlsxLDIsNV0sZmM6Nn0se2xuZ3M6WyJjc2IiLCJwbCJdLG5yOlsxLDIsNV0sZmM6N30se2xuZ3M6WyJjeSJdLG5yOlsxLDIsMyw4XSxmYzo4fSx7bG5nczpbImZyIl0sbnI6WzEsMl0sZmM6OX0se2xuZ3M6WyJnYSJdLG5yOlsxLDIsMyw3LDExXSxmYzoxMH0se2xuZ3M6WyJnZCJdLG5yOlsxLDIsMywyMF0sZmM6MTF9LHtsbmdzOlsiaXMiXSxucjpbMSwyXSxmYzoxMn0se2xuZ3M6WyJqdiJdLG5yOlswLDFdLGZjOjEzfSx7bG5nczpbImt3Il0sbnI6WzEsMiwzLDRdLGZjOjE0fSx7bG5nczpbImx0Il0sbnI6WzEsMiwxMF0sZmM6MTV9LHtsbmdzOlsibHYiXSxucjpbMSwyLDBdLGZjOjE2fSx7bG5nczpbIm1rIl0sbnI6WzEsMl0sZmM6MTd9LHtsbmdzOlsibW5rIl0sbnI6WzAsMSwyXSxmYzoxOH0se2xuZ3M6WyJtdCJdLG5yOlsxLDIsMTEsMjBdLGZjOjE5fSx7bG5nczpbIm9yIl0sbnI6WzIsMV0sZmM6Mn0se2xuZ3M6WyJybyJdLG5yOlsxLDIsMjBdLGZjOjIwfSx7bG5nczpbInNsIl0sbnI6WzUsMSwyLDNdLGZjOjIxfSx7bG5nczpbImhlIiwiaXciXSxucjpbMSwyLDIwLDIxXSxmYzoyMn1dLG9yPXsxOm49Pisobj4xKSwyOm49PisobiE9MSksMzpuPT4wLDQ6bj0+biUxMD09MSYmbiUxMDAhPTExPzA6biUxMD49MiYmbiUxMDw9NCYmKG4lMTAwPDEwfHxuJTEwMD49MjApPzE6Miw1Om49Pm49PTA/MDpuPT0xPzE6bj09Mj8yOm4lMTAwPj0zJiZuJTEwMDw9MTA/MzpuJTEwMD49MTE/NDo1LDY6bj0+bj09MT8wOm4+PTImJm48PTQ/MToyLDc6bj0+bj09MT8wOm4lMTA+PTImJm4lMTA8PTQmJihuJTEwMDwxMHx8biUxMDA+PTIwKT8xOjIsODpuPT5uPT0xPzA6bj09Mj8xOm4hPTgmJm4hPTExPzI6Myw5Om49Pisobj49MiksMTA6bj0+bj09MT8wOm49PTI/MTpuPDc/MjpuPDExPzM6NCwxMTpuPT5uPT0xfHxuPT0xMT8wOm49PTJ8fG49PTEyPzE6bj4yJiZuPDIwPzI6MywxMjpuPT4rKG4lMTAhPTF8fG4lMTAwPT0xMSksMTM6bj0+KyhuIT09MCksMTQ6bj0+bj09MT8wOm49PTI/MTpuPT0zPzI6MywxNTpuPT5uJTEwPT0xJiZuJTEwMCE9MTE/MDpuJTEwPj0yJiYobiUxMDA8MTB8fG4lMTAwPj0yMCk/MToyLDE2Om49Pm4lMTA9PTEmJm4lMTAwIT0xMT8wOm4hPT0wPzE6MiwxNzpuPT5uPT0xfHxuJTEwPT0xJiZuJTEwMCE9MTE/MDoxLDE4Om49Pm49PTA/MDpuPT0xPzE6MiwxOTpuPT5uPT0xPzA6bj09MHx8biUxMDA+MSYmbiUxMDA8MTE/MTpuJTEwMD4xMCYmbiUxMDA8MjA/MjozLDIwOm49Pm49PTE/MDpuPT0wfHxuJTEwMD4wJiZuJTEwMDwyMD8xOjIsMjE6bj0+biUxMDA9PTE/MTpuJTEwMD09Mj8yOm4lMTAwPT0zfHxuJTEwMD09ND8zOjAsMjI6bj0+bj09MT8wOm49PTI/MToobjwwfHxuPjEwKSYmbiUxMD09MD8yOjN9O2NvbnN0IGxyPVsidjEiLCJ2MiIsInYzIl0sdXI9WyJ2NCJdLF9lPXt6ZXJvOjAsb25lOjEsdHdvOjIsZmV3OjMsbWFueTo0LG90aGVyOjV9LGZyPSgpPT57Y29uc3Qgbj17fTtyZXR1cm4gYXIuZm9yRWFjaChlPT57ZS5sbmdzLmZvckVhY2godD0+e25bdF09e251bWJlcnM6ZS5ucixwbHVyYWxzOm9yW2UuZmNdfX0pfSksbn07Y2xhc3MgY3J7Y29uc3RydWN0b3IoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9O3RoaXMubGFuZ3VhZ2VVdGlscz1lLHRoaXMub3B0aW9ucz10LHRoaXMubG9nZ2VyPUMuY3JlYXRlKCJwbHVyYWxSZXNvbHZlciIpLCghdGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OfHx1ci5pbmNsdWRlcyh0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04pKSYmKHR5cGVvZiBJbnRsPiJ1Inx8IUludGwuUGx1cmFsUnVsZXMpJiYodGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OPSJ2MyIsdGhpcy5sb2dnZXIuZXJyb3IoIllvdXIgZW52aXJvbm1lbnQgc2VlbXMgbm90IHRvIGJlIEludGwgQVBJIGNvbXBhdGlibGUsIHVzZSBhbiBJbnRsLlBsdXJhbFJ1bGVzIHBvbHlmaWxsLiBXaWxsIGZhbGxiYWNrIHRvIHRoZSBjb21wYXRpYmlsaXR5SlNPTiB2MyBmb3JtYXQgaGFuZGxpbmcuIikpLHRoaXMucnVsZXM9ZnIoKSx0aGlzLnBsdXJhbFJ1bGVzQ2FjaGU9e319YWRkUnVsZShlLHQpe3RoaXMucnVsZXNbZV09dH1jbGVhckNhY2hlKCl7dGhpcy5wbHVyYWxSdWxlc0NhY2hlPXt9fWdldFJ1bGUoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9O2lmKHRoaXMuc2hvdWxkVXNlSW50bEFwaSgpKXRyeXtjb25zdCByPWxlKGU9PT0iZGV2Ij8iZW4iOmUpLGk9dC5vcmRpbmFsPyJvcmRpbmFsIjoiY2FyZGluYWwiLHM9SlNPTi5zdHJpbmdpZnkoe2NsZWFuZWRDb2RlOnIsdHlwZTppfSk7aWYocyBpbiB0aGlzLnBsdXJhbFJ1bGVzQ2FjaGUpcmV0dXJuIHRoaXMucGx1cmFsUnVsZXNDYWNoZVtzXTtjb25zdCBhPW5ldyBJbnRsLlBsdXJhbFJ1bGVzKHIse3R5cGU6aX0pO3JldHVybiB0aGlzLnBsdXJhbFJ1bGVzQ2FjaGVbc109YSxhfWNhdGNoe3JldHVybn1yZXR1cm4gdGhpcy5ydWxlc1tlXXx8dGhpcy5ydWxlc1t0aGlzLmxhbmd1YWdlVXRpbHMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoZSldfW5lZWRzUGx1cmFsKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTtjb25zdCByPXRoaXMuZ2V0UnVsZShlLHQpO3JldHVybiB0aGlzLnNob3VsZFVzZUludGxBcGkoKT9yJiZyLnJlc29sdmVkT3B0aW9ucygpLnBsdXJhbENhdGVnb3JpZXMubGVuZ3RoPjE6ciYmci5udW1iZXJzLmxlbmd0aD4xfWdldFBsdXJhbEZvcm1zT2ZLZXkoZSx0KXtsZXQgcj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMD9hcmd1bWVudHNbMl06e307cmV0dXJuIHRoaXMuZ2V0U3VmZml4ZXMoZSxyKS5tYXAoaT0+YCR7dH0ke2l9YCl9Z2V0U3VmZml4ZXMoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9O2NvbnN0IHI9dGhpcy5nZXRSdWxlKGUsdCk7cmV0dXJuIHI/dGhpcy5zaG91bGRVc2VJbnRsQXBpKCk/ci5yZXNvbHZlZE9wdGlvbnMoKS5wbHVyYWxDYXRlZ29yaWVzLnNvcnQoKGkscyk9Pl9lW2ldLV9lW3NdKS5tYXAoaT0+YCR7dGhpcy5vcHRpb25zLnByZXBlbmR9JHt0Lm9yZGluYWw/YG9yZGluYWwke3RoaXMub3B0aW9ucy5wcmVwZW5kfWA6IiJ9JHtpfWApOnIubnVtYmVycy5tYXAoaT0+dGhpcy5nZXRTdWZmaXgoZSxpLHQpKTpbXX1nZXRTdWZmaXgoZSx0KXtsZXQgcj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMD9hcmd1bWVudHNbMl06e307Y29uc3QgaT10aGlzLmdldFJ1bGUoZSxyKTtyZXR1cm4gaT90aGlzLnNob3VsZFVzZUludGxBcGkoKT9gJHt0aGlzLm9wdGlvbnMucHJlcGVuZH0ke3Iub3JkaW5hbD9gb3JkaW5hbCR7dGhpcy5vcHRpb25zLnByZXBlbmR9YDoiIn0ke2kuc2VsZWN0KHQpfWA6dGhpcy5nZXRTdWZmaXhSZXRyb0NvbXBhdGlibGUoaSx0KToodGhpcy5sb2dnZXIud2Fybihgbm8gcGx1cmFsIHJ1bGUgZm91bmQgZm9yOiAke2V9YCksIiIpfWdldFN1ZmZpeFJldHJvQ29tcGF0aWJsZShlLHQpe2NvbnN0IHI9ZS5ub0Ficz9lLnBsdXJhbHModCk6ZS5wbHVyYWxzKE1hdGguYWJzKHQpKTtsZXQgaT1lLm51bWJlcnNbcl07dGhpcy5vcHRpb25zLnNpbXBsaWZ5UGx1cmFsU3VmZml4JiZlLm51bWJlcnMubGVuZ3RoPT09MiYmZS5udW1iZXJzWzBdPT09MSYmKGk9PT0yP2k9InBsdXJhbCI6aT09PTEmJihpPSIiKSk7Y29uc3Qgcz0oKT0+dGhpcy5vcHRpb25zLnByZXBlbmQmJmkudG9TdHJpbmcoKT90aGlzLm9wdGlvbnMucHJlcGVuZCtpLnRvU3RyaW5nKCk6aS50b1N0cmluZygpO3JldHVybiB0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT049PT0idjEiP2k9PT0xPyIiOnR5cGVvZiBpPT0ibnVtYmVyIj9gX3BsdXJhbF8ke2kudG9TdHJpbmcoKX1gOnMoKTp0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT049PT0idjIifHx0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXgmJmUubnVtYmVycy5sZW5ndGg9PT0yJiZlLm51bWJlcnNbMF09PT0xP3MoKTp0aGlzLm9wdGlvbnMucHJlcGVuZCYmci50b1N0cmluZygpP3RoaXMub3B0aW9ucy5wcmVwZW5kK3IudG9TdHJpbmcoKTpyLnRvU3RyaW5nKCl9c2hvdWxkVXNlSW50bEFwaSgpe3JldHVybiFsci5pbmNsdWRlcyh0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04pfX1jb25zdCBWZT1mdW5jdGlvbihuLGUsdCl7bGV0IHI9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT12b2lkIDA/YXJndW1lbnRzWzNdOiIuIixpPWFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dm9pZCAwP2FyZ3VtZW50c1s0XTohMCxzPVh0KG4sZSx0KTtyZXR1cm4hcyYmaSYmdHlwZW9mIHQ9PSJzdHJpbmciJiYocz1MZShuLHQscikscz09PXZvaWQgMCYmKHM9TGUoZSx0LHIpKSksc30seWU9bj0+bi5yZXBsYWNlKC9cJC9nLCIkJCQkIik7Y2xhc3MgcHJ7Y29uc3RydWN0b3IoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e307dGhpcy5sb2dnZXI9Qy5jcmVhdGUoImludGVycG9sYXRvciIpLHRoaXMub3B0aW9ucz1lLHRoaXMuZm9ybWF0PWUuaW50ZXJwb2xhdGlvbiYmZS5pbnRlcnBvbGF0aW9uLmZvcm1hdHx8KHQ9PnQpLHRoaXMuaW5pdChlKX1pbml0KCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9O2UuaW50ZXJwb2xhdGlvbnx8KGUuaW50ZXJwb2xhdGlvbj17ZXNjYXBlVmFsdWU6ITB9KTtjb25zdHtlc2NhcGU6dCxlc2NhcGVWYWx1ZTpyLHVzZVJhd1ZhbHVlVG9Fc2NhcGU6aSxwcmVmaXg6cyxwcmVmaXhFc2NhcGVkOmEsc3VmZml4Om8sc3VmZml4RXNjYXBlZDpsLGZvcm1hdFNlcGFyYXRvcjpmLHVuZXNjYXBlU3VmZml4OmMsdW5lc2NhcGVQcmVmaXg6ZyxuZXN0aW5nUHJlZml4OnUsbmVzdGluZ1ByZWZpeEVzY2FwZWQ6cCxuZXN0aW5nU3VmZml4OmQsbmVzdGluZ1N1ZmZpeEVzY2FwZWQ6bSxuZXN0aW5nT3B0aW9uc1NlcGFyYXRvcjp5LG1heFJlcGxhY2VzOngsYWx3YXlzRm9ybWF0OlN9PWUuaW50ZXJwb2xhdGlvbjt0aGlzLmVzY2FwZT10IT09dm9pZCAwP3Q6dHIsdGhpcy5lc2NhcGVWYWx1ZT1yIT09dm9pZCAwP3I6ITAsdGhpcy51c2VSYXdWYWx1ZVRvRXNjYXBlPWkhPT12b2lkIDA/aTohMSx0aGlzLnByZWZpeD1zP04ocyk6YXx8Int7Iix0aGlzLnN1ZmZpeD1vP04obyk6bHx8In19Iix0aGlzLmZvcm1hdFNlcGFyYXRvcj1mfHwiLCIsdGhpcy51bmVzY2FwZVByZWZpeD1jPyIiOmd8fCItIix0aGlzLnVuZXNjYXBlU3VmZml4PXRoaXMudW5lc2NhcGVQcmVmaXg/IiI6Y3x8IiIsdGhpcy5uZXN0aW5nUHJlZml4PXU/Tih1KTpwfHxOKCIkdCgiKSx0aGlzLm5lc3RpbmdTdWZmaXg9ZD9OKGQpOm18fE4oIikiKSx0aGlzLm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yPXl8fCIsIix0aGlzLm1heFJlcGxhY2VzPXh8fDFlMyx0aGlzLmFsd2F5c0Zvcm1hdD1TIT09dm9pZCAwP1M6ITEsdGhpcy5yZXNldFJlZ0V4cCgpfXJlc2V0KCl7dGhpcy5vcHRpb25zJiZ0aGlzLmluaXQodGhpcy5vcHRpb25zKX1yZXNldFJlZ0V4cCgpe2NvbnN0IGU9KHQscik9PnQmJnQuc291cmNlPT09cj8odC5sYXN0SW5kZXg9MCx0KTpuZXcgUmVnRXhwKHIsImciKTt0aGlzLnJlZ2V4cD1lKHRoaXMucmVnZXhwLGAke3RoaXMucHJlZml4fSguKz8pJHt0aGlzLnN1ZmZpeH1gKSx0aGlzLnJlZ2V4cFVuZXNjYXBlPWUodGhpcy5yZWdleHBVbmVzY2FwZSxgJHt0aGlzLnByZWZpeH0ke3RoaXMudW5lc2NhcGVQcmVmaXh9KC4rPykke3RoaXMudW5lc2NhcGVTdWZmaXh9JHt0aGlzLnN1ZmZpeH1gKSx0aGlzLm5lc3RpbmdSZWdleHA9ZSh0aGlzLm5lc3RpbmdSZWdleHAsYCR7dGhpcy5uZXN0aW5nUHJlZml4fSguKz8pJHt0aGlzLm5lc3RpbmdTdWZmaXh9YCl9aW50ZXJwb2xhdGUoZSx0LHIsaSl7bGV0IHMsYSxvO2NvbnN0IGw9dGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiYmdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlc3x8e30sZj1wPT57aWYocC5pbmRleE9mKHRoaXMuZm9ybWF0U2VwYXJhdG9yKTwwKXtjb25zdCB4PVZlKHQsbCxwLHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IsdGhpcy5vcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmUpO3JldHVybiB0aGlzLmFsd2F5c0Zvcm1hdD90aGlzLmZvcm1hdCh4LHZvaWQgMCxyLHsuLi5pLC4uLnQsaW50ZXJwb2xhdGlvbmtleTpwfSk6eH1jb25zdCBkPXAuc3BsaXQodGhpcy5mb3JtYXRTZXBhcmF0b3IpLG09ZC5zaGlmdCgpLnRyaW0oKSx5PWQuam9pbih0aGlzLmZvcm1hdFNlcGFyYXRvcikudHJpbSgpO3JldHVybiB0aGlzLmZvcm1hdChWZSh0LGwsbSx0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yLHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlKSx5LHIsey4uLmksLi4udCxpbnRlcnBvbGF0aW9ua2V5Om19KX07dGhpcy5yZXNldFJlZ0V4cCgpO2NvbnN0IGM9aSYmaS5taXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXJ8fHRoaXMub3B0aW9ucy5taXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIsZz1pJiZpLmludGVycG9sYXRpb24mJmkuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXMhPT12b2lkIDA/aS5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlczp0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXM7cmV0dXJuW3tyZWdleDp0aGlzLnJlZ2V4cFVuZXNjYXBlLHNhZmVWYWx1ZTpwPT55ZShwKX0se3JlZ2V4OnRoaXMucmVnZXhwLHNhZmVWYWx1ZTpwPT50aGlzLmVzY2FwZVZhbHVlP3llKHRoaXMuZXNjYXBlKHApKTp5ZShwKX1dLmZvckVhY2gocD0+e2ZvcihvPTA7cz1wLnJlZ2V4LmV4ZWMoZSk7KXtjb25zdCBkPXNbMV0udHJpbSgpO2lmKGE9ZihkKSxhPT09dm9pZCAwKWlmKHR5cGVvZiBjPT0iZnVuY3Rpb24iKXtjb25zdCB5PWMoZSxzLGkpO2E9dHlwZW9mIHk9PSJzdHJpbmciP3k6IiJ9ZWxzZSBpZihpJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxkKSlhPSIiO2Vsc2UgaWYoZyl7YT1zWzBdO2NvbnRpbnVlfWVsc2UgdGhpcy5sb2dnZXIud2FybihgbWlzc2VkIHRvIHBhc3MgaW4gdmFyaWFibGUgJHtkfSBmb3IgaW50ZXJwb2xhdGluZyAke2V9YCksYT0iIjtlbHNlIHR5cGVvZiBhIT0ic3RyaW5nIiYmIXRoaXMudXNlUmF3VmFsdWVUb0VzY2FwZSYmKGE9TWUoYSkpO2NvbnN0IG09cC5zYWZlVmFsdWUoYSk7aWYoZT1lLnJlcGxhY2Uoc1swXSxtKSxnPyhwLnJlZ2V4Lmxhc3RJbmRleCs9YS5sZW5ndGgscC5yZWdleC5sYXN0SW5kZXgtPXNbMF0ubGVuZ3RoKTpwLnJlZ2V4Lmxhc3RJbmRleD0wLG8rKyxvPj10aGlzLm1heFJlcGxhY2VzKWJyZWFrfX0pLGV9bmVzdChlLHQpe2xldCByPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXTp7fSxpLHMsYTtjb25zdCBvPShsLGYpPT57Y29uc3QgYz10aGlzLm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yO2lmKGwuaW5kZXhPZihjKTwwKXJldHVybiBsO2NvbnN0IGc9bC5zcGxpdChuZXcgUmVnRXhwKGAke2N9WyBdKntgKSk7bGV0IHU9YHske2dbMV19YDtsPWdbMF0sdT10aGlzLmludGVycG9sYXRlKHUsYSk7Y29uc3QgcD11Lm1hdGNoKC8nL2cpLGQ9dS5tYXRjaCgvIi9nKTsocCYmcC5sZW5ndGglMj09PTAmJiFkfHxkLmxlbmd0aCUyIT09MCkmJih1PXUucmVwbGFjZSgvJy9nLCciJykpO3RyeXthPUpTT04ucGFyc2UodSksZiYmKGE9ey4uLmYsLi4uYX0pfWNhdGNoKG0pe3JldHVybiB0aGlzLmxvZ2dlci53YXJuKGBmYWlsZWQgcGFyc2luZyBvcHRpb25zIHN0cmluZyBpbiBuZXN0aW5nIGZvciBrZXkgJHtsfWAsbSksYCR7bH0ke2N9JHt1fWB9cmV0dXJuIGEuZGVmYXVsdFZhbHVlJiZhLmRlZmF1bHRWYWx1ZS5pbmRleE9mKHRoaXMucHJlZml4KT4tMSYmZGVsZXRlIGEuZGVmYXVsdFZhbHVlLGx9O2Zvcig7aT10aGlzLm5lc3RpbmdSZWdleHAuZXhlYyhlKTspe2xldCBsPVtdO2E9ey4uLnJ9LGE9YS5yZXBsYWNlJiZ0eXBlb2YgYS5yZXBsYWNlIT0ic3RyaW5nIj9hLnJlcGxhY2U6YSxhLmFwcGx5UG9zdFByb2Nlc3Nvcj0hMSxkZWxldGUgYS5kZWZhdWx0VmFsdWU7bGV0IGY9ITE7aWYoaVswXS5pbmRleE9mKHRoaXMuZm9ybWF0U2VwYXJhdG9yKSE9PS0xJiYhL3suKn0vLnRlc3QoaVsxXSkpe2NvbnN0IGM9aVsxXS5zcGxpdCh0aGlzLmZvcm1hdFNlcGFyYXRvcikubWFwKGc9PmcudHJpbSgpKTtpWzFdPWMuc2hpZnQoKSxsPWMsZj0hMH1pZihzPXQoby5jYWxsKHRoaXMsaVsxXS50cmltKCksYSksYSkscyYmaVswXT09PWUmJnR5cGVvZiBzIT0ic3RyaW5nIilyZXR1cm4gczt0eXBlb2YgcyE9InN0cmluZyImJihzPU1lKHMpKSxzfHwodGhpcy5sb2dnZXIud2FybihgbWlzc2VkIHRvIHJlc29sdmUgJHtpWzFdfSBmb3IgbmVzdGluZyAke2V9YCkscz0iIiksZiYmKHM9bC5yZWR1Y2UoKGMsZyk9PnRoaXMuZm9ybWF0KGMsZyxyLmxuZyx7Li4ucixpbnRlcnBvbGF0aW9ua2V5OmlbMV0udHJpbSgpfSkscy50cmltKCkpKSxlPWUucmVwbGFjZShpWzBdLHMpLHRoaXMucmVnZXhwLmxhc3RJbmRleD0wfXJldHVybiBlfX1jb25zdCBncj1uPT57bGV0IGU9bi50b0xvd2VyQ2FzZSgpLnRyaW0oKTtjb25zdCB0PXt9O2lmKG4uaW5kZXhPZigiKCIpPi0xKXtjb25zdCByPW4uc3BsaXQoIigiKTtlPXJbMF0udG9Mb3dlckNhc2UoKS50cmltKCk7Y29uc3QgaT1yWzFdLnN1YnN0cmluZygwLHJbMV0ubGVuZ3RoLTEpO2U9PT0iY3VycmVuY3kiJiZpLmluZGV4T2YoIjoiKTwwP3QuY3VycmVuY3l8fCh0LmN1cnJlbmN5PWkudHJpbSgpKTplPT09InJlbGF0aXZldGltZSImJmkuaW5kZXhPZigiOiIpPDA/dC5yYW5nZXx8KHQucmFuZ2U9aS50cmltKCkpOmkuc3BsaXQoIjsiKS5mb3JFYWNoKGE9PntpZihhKXtjb25zdFtvLC4uLmxdPWEuc3BsaXQoIjoiKSxmPWwuam9pbigiOiIpLnRyaW0oKS5yZXBsYWNlKC9eJyt8JyskL2csIiIpLGM9by50cmltKCk7dFtjXXx8KHRbY109ZiksZj09PSJmYWxzZSImJih0W2NdPSExKSxmPT09InRydWUiJiYodFtjXT0hMCksaXNOYU4oZil8fCh0W2NdPXBhcnNlSW50KGYsMTApKX19KX1yZXR1cm57Zm9ybWF0TmFtZTplLGZvcm1hdE9wdGlvbnM6dH19LE09bj0+e2NvbnN0IGU9e307cmV0dXJuKHQscixpKT0+e2xldCBzPWk7aSYmaS5pbnRlcnBvbGF0aW9ua2V5JiZpLmZvcm1hdFBhcmFtcyYmaS5mb3JtYXRQYXJhbXNbaS5pbnRlcnBvbGF0aW9ua2V5XSYmaVtpLmludGVycG9sYXRpb25rZXldJiYocz17Li4ucyxbaS5pbnRlcnBvbGF0aW9ua2V5XTp2b2lkIDB9KTtjb25zdCBhPXIrSlNPTi5zdHJpbmdpZnkocyk7bGV0IG89ZVthXTtyZXR1cm4gb3x8KG89bihsZShyKSxpKSxlW2FdPW8pLG8odCl9fTtjbGFzcyBocntjb25zdHJ1Y3Rvcigpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7fTt0aGlzLmxvZ2dlcj1DLmNyZWF0ZSgiZm9ybWF0dGVyIiksdGhpcy5vcHRpb25zPWUsdGhpcy5mb3JtYXRzPXtudW1iZXI6TSgodCxyKT0+e2NvbnN0IGk9bmV3IEludGwuTnVtYmVyRm9ybWF0KHQsey4uLnJ9KTtyZXR1cm4gcz0+aS5mb3JtYXQocyl9KSxjdXJyZW5jeTpNKCh0LHIpPT57Y29uc3QgaT1uZXcgSW50bC5OdW1iZXJGb3JtYXQodCx7Li4ucixzdHlsZToiY3VycmVuY3kifSk7cmV0dXJuIHM9PmkuZm9ybWF0KHMpfSksZGF0ZXRpbWU6TSgodCxyKT0+e2NvbnN0IGk9bmV3IEludGwuRGF0ZVRpbWVGb3JtYXQodCx7Li4ucn0pO3JldHVybiBzPT5pLmZvcm1hdChzKX0pLHJlbGF0aXZldGltZTpNKCh0LHIpPT57Y29uc3QgaT1uZXcgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQodCx7Li4ucn0pO3JldHVybiBzPT5pLmZvcm1hdChzLHIucmFuZ2V8fCJkYXkiKX0pLGxpc3Q6TSgodCxyKT0+e2NvbnN0IGk9bmV3IEludGwuTGlzdEZvcm1hdCh0LHsuLi5yfSk7cmV0dXJuIHM9PmkuZm9ybWF0KHMpfSl9LHRoaXMuaW5pdChlKX1pbml0KGUpe2NvbnN0IHI9KGFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7aW50ZXJwb2xhdGlvbjp7fX0pLmludGVycG9sYXRpb247dGhpcy5mb3JtYXRTZXBhcmF0b3I9ci5mb3JtYXRTZXBhcmF0b3I/ci5mb3JtYXRTZXBhcmF0b3I6ci5mb3JtYXRTZXBhcmF0b3J8fCIsIn1hZGQoZSx0KXt0aGlzLmZvcm1hdHNbZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV09dH1hZGRDYWNoZWQoZSx0KXt0aGlzLmZvcm1hdHNbZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV09TSh0KX1mb3JtYXQoZSx0LHIpe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dm9pZCAwP2FyZ3VtZW50c1szXTp7fTtjb25zdCBzPXQuc3BsaXQodGhpcy5mb3JtYXRTZXBhcmF0b3IpO2lmKHMubGVuZ3RoPjEmJnNbMF0uaW5kZXhPZigiKCIpPjEmJnNbMF0uaW5kZXhPZigiKSIpPDAmJnMuZmluZChvPT5vLmluZGV4T2YoIikiKT4tMSkpe2NvbnN0IG89cy5maW5kSW5kZXgobD0+bC5pbmRleE9mKCIpIik+LTEpO3NbMF09W3NbMF0sLi4ucy5zcGxpY2UoMSxvKV0uam9pbih0aGlzLmZvcm1hdFNlcGFyYXRvcil9cmV0dXJuIHMucmVkdWNlKChvLGwpPT57Y29uc3R7Zm9ybWF0TmFtZTpmLGZvcm1hdE9wdGlvbnM6Y309Z3IobCk7aWYodGhpcy5mb3JtYXRzW2ZdKXtsZXQgZz1vO3RyeXtjb25zdCB1PWkmJmkuZm9ybWF0UGFyYW1zJiZpLmZvcm1hdFBhcmFtc1tpLmludGVycG9sYXRpb25rZXldfHx7fSxwPXUubG9jYWxlfHx1LmxuZ3x8aS5sb2NhbGV8fGkubG5nfHxyO2c9dGhpcy5mb3JtYXRzW2ZdKG8scCx7Li4uYywuLi5pLC4uLnV9KX1jYXRjaCh1KXt0aGlzLmxvZ2dlci53YXJuKHUpfXJldHVybiBnfWVsc2UgdGhpcy5sb2dnZXIud2FybihgdGhlcmUgd2FzIG5vIGZvcm1hdCBmdW5jdGlvbiBmb3IgJHtmfWApO3JldHVybiBvfSxlKX19Y29uc3QgZHI9KG4sZSk9PntuLnBlbmRpbmdbZV0hPT12b2lkIDAmJihkZWxldGUgbi5wZW5kaW5nW2VdLG4ucGVuZGluZ0NvdW50LS0pfTtjbGFzcyBtciBleHRlbmRzIGhle2NvbnN0cnVjdG9yKGUsdCxyKXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMD9hcmd1bWVudHNbM106e307c3VwZXIoKSx0aGlzLmJhY2tlbmQ9ZSx0aGlzLnN0b3JlPXQsdGhpcy5zZXJ2aWNlcz1yLHRoaXMubGFuZ3VhZ2VVdGlscz1yLmxhbmd1YWdlVXRpbHMsdGhpcy5vcHRpb25zPWksdGhpcy5sb2dnZXI9Qy5jcmVhdGUoImJhY2tlbmRDb25uZWN0b3IiKSx0aGlzLndhaXRpbmdSZWFkcz1bXSx0aGlzLm1heFBhcmFsbGVsUmVhZHM9aS5tYXhQYXJhbGxlbFJlYWRzfHwxMCx0aGlzLnJlYWRpbmdDYWxscz0wLHRoaXMubWF4UmV0cmllcz1pLm1heFJldHJpZXM+PTA/aS5tYXhSZXRyaWVzOjUsdGhpcy5yZXRyeVRpbWVvdXQ9aS5yZXRyeVRpbWVvdXQ+PTE/aS5yZXRyeVRpbWVvdXQ6MzUwLHRoaXMuc3RhdGU9e30sdGhpcy5xdWV1ZT1bXSx0aGlzLmJhY2tlbmQmJnRoaXMuYmFja2VuZC5pbml0JiZ0aGlzLmJhY2tlbmQuaW5pdChyLGkuYmFja2VuZCxpKX1xdWV1ZUxvYWQoZSx0LHIsaSl7Y29uc3Qgcz17fSxhPXt9LG89e30sbD17fTtyZXR1cm4gZS5mb3JFYWNoKGY9PntsZXQgYz0hMDt0LmZvckVhY2goZz0+e2NvbnN0IHU9YCR7Zn18JHtnfWA7IXIucmVsb2FkJiZ0aGlzLnN0b3JlLmhhc1Jlc291cmNlQnVuZGxlKGYsZyk/dGhpcy5zdGF0ZVt1XT0yOnRoaXMuc3RhdGVbdV08MHx8KHRoaXMuc3RhdGVbdV09PT0xP2FbdV09PT12b2lkIDAmJihhW3VdPSEwKToodGhpcy5zdGF0ZVt1XT0xLGM9ITEsYVt1XT09PXZvaWQgMCYmKGFbdV09ITApLHNbdV09PT12b2lkIDAmJihzW3VdPSEwKSxsW2ddPT09dm9pZCAwJiYobFtnXT0hMCkpKX0pLGN8fChvW2ZdPSEwKX0pLChPYmplY3Qua2V5cyhzKS5sZW5ndGh8fE9iamVjdC5rZXlzKGEpLmxlbmd0aCkmJnRoaXMucXVldWUucHVzaCh7cGVuZGluZzphLHBlbmRpbmdDb3VudDpPYmplY3Qua2V5cyhhKS5sZW5ndGgsbG9hZGVkOnt9LGVycm9yczpbXSxjYWxsYmFjazppfSkse3RvTG9hZDpPYmplY3Qua2V5cyhzKSxwZW5kaW5nOk9iamVjdC5rZXlzKGEpLHRvTG9hZExhbmd1YWdlczpPYmplY3Qua2V5cyhvKSx0b0xvYWROYW1lc3BhY2VzOk9iamVjdC5rZXlzKGwpfX1sb2FkZWQoZSx0LHIpe2NvbnN0IGk9ZS5zcGxpdCgifCIpLHM9aVswXSxhPWlbMV07dCYmdGhpcy5lbWl0KCJmYWlsZWRMb2FkaW5nIixzLGEsdCksIXQmJnImJnRoaXMuc3RvcmUuYWRkUmVzb3VyY2VCdW5kbGUocyxhLHIsdm9pZCAwLHZvaWQgMCx7c2tpcENvcHk6ITB9KSx0aGlzLnN0YXRlW2VdPXQ/LTE6Mix0JiZyJiYodGhpcy5zdGF0ZVtlXT0wKTtjb25zdCBvPXt9O3RoaXMucXVldWUuZm9yRWFjaChsPT57WnQobC5sb2FkZWQsW3NdLGEpLGRyKGwsZSksdCYmbC5lcnJvcnMucHVzaCh0KSxsLnBlbmRpbmdDb3VudD09PTAmJiFsLmRvbmUmJihPYmplY3Qua2V5cyhsLmxvYWRlZCkuZm9yRWFjaChmPT57b1tmXXx8KG9bZl09e30pO2NvbnN0IGM9bC5sb2FkZWRbZl07Yy5sZW5ndGgmJmMuZm9yRWFjaChnPT57b1tmXVtnXT09PXZvaWQgMCYmKG9bZl1bZ109ITApfSl9KSxsLmRvbmU9ITAsbC5lcnJvcnMubGVuZ3RoP2wuY2FsbGJhY2sobC5lcnJvcnMpOmwuY2FsbGJhY2soKSl9KSx0aGlzLmVtaXQoImxvYWRlZCIsbyksdGhpcy5xdWV1ZT10aGlzLnF1ZXVlLmZpbHRlcihsPT4hbC5kb25lKX1yZWFkKGUsdCxyKXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMD9hcmd1bWVudHNbM106MCxzPWFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dm9pZCAwP2FyZ3VtZW50c1s0XTp0aGlzLnJldHJ5VGltZW91dCxhPWFyZ3VtZW50cy5sZW5ndGg+NT9hcmd1bWVudHNbNV06dm9pZCAwO2lmKCFlLmxlbmd0aClyZXR1cm4gYShudWxsLHt9KTtpZih0aGlzLnJlYWRpbmdDYWxscz49dGhpcy5tYXhQYXJhbGxlbFJlYWRzKXt0aGlzLndhaXRpbmdSZWFkcy5wdXNoKHtsbmc6ZSxuczp0LGZjTmFtZTpyLHRyaWVkOmksd2FpdDpzLGNhbGxiYWNrOmF9KTtyZXR1cm59dGhpcy5yZWFkaW5nQ2FsbHMrKztjb25zdCBvPShmLGMpPT57aWYodGhpcy5yZWFkaW5nQ2FsbHMtLSx0aGlzLndhaXRpbmdSZWFkcy5sZW5ndGg+MCl7Y29uc3QgZz10aGlzLndhaXRpbmdSZWFkcy5zaGlmdCgpO3RoaXMucmVhZChnLmxuZyxnLm5zLGcuZmNOYW1lLGcudHJpZWQsZy53YWl0LGcuY2FsbGJhY2spfWlmKGYmJmMmJmk8dGhpcy5tYXhSZXRyaWVzKXtzZXRUaW1lb3V0KCgpPT57dGhpcy5yZWFkLmNhbGwodGhpcyxlLHQscixpKzEscyoyLGEpfSxzKTtyZXR1cm59YShmLGMpfSxsPXRoaXMuYmFja2VuZFtyXS5iaW5kKHRoaXMuYmFja2VuZCk7aWYobC5sZW5ndGg9PT0yKXt0cnl7Y29uc3QgZj1sKGUsdCk7ZiYmdHlwZW9mIGYudGhlbj09ImZ1bmN0aW9uIj9mLnRoZW4oYz0+byhudWxsLGMpKS5jYXRjaChvKTpvKG51bGwsZil9Y2F0Y2goZil7byhmKX1yZXR1cm59cmV0dXJuIGwoZSx0LG8pfXByZXBhcmVMb2FkaW5nKGUsdCl7bGV0IHI9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDA/YXJndW1lbnRzWzJdOnt9LGk9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7aWYoIXRoaXMuYmFja2VuZClyZXR1cm4gdGhpcy5sb2dnZXIud2FybigiTm8gYmFja2VuZCB3YXMgYWRkZWQgdmlhIGkxOG5leHQudXNlLiBXaWxsIG5vdCBsb2FkIHJlc291cmNlcy4iKSxpJiZpKCk7dHlwZW9mIGU9PSJzdHJpbmciJiYoZT10aGlzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KGUpKSx0eXBlb2YgdD09InN0cmluZyImJih0PVt0XSk7Y29uc3Qgcz10aGlzLnF1ZXVlTG9hZChlLHQscixpKTtpZighcy50b0xvYWQubGVuZ3RoKXJldHVybiBzLnBlbmRpbmcubGVuZ3RofHxpKCksbnVsbDtzLnRvTG9hZC5mb3JFYWNoKGE9Pnt0aGlzLmxvYWRPbmUoYSl9KX1sb2FkKGUsdCxyKXt0aGlzLnByZXBhcmVMb2FkaW5nKGUsdCx7fSxyKX1yZWxvYWQoZSx0LHIpe3RoaXMucHJlcGFyZUxvYWRpbmcoZSx0LHtyZWxvYWQ6ITB9LHIpfWxvYWRPbmUoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOiIiO2NvbnN0IHI9ZS5zcGxpdCgifCIpLGk9clswXSxzPXJbMV07dGhpcy5yZWFkKGkscywicmVhZCIsdm9pZCAwLHZvaWQgMCwoYSxvKT0+e2EmJnRoaXMubG9nZ2VyLndhcm4oYCR7dH1sb2FkaW5nIG5hbWVzcGFjZSAke3N9IGZvciBsYW5ndWFnZSAke2l9IGZhaWxlZGAsYSksIWEmJm8mJnRoaXMubG9nZ2VyLmxvZyhgJHt0fWxvYWRlZCBuYW1lc3BhY2UgJHtzfSBmb3IgbGFuZ3VhZ2UgJHtpfWAsbyksdGhpcy5sb2FkZWQoZSxhLG8pfSl9c2F2ZU1pc3NpbmcoZSx0LHIsaSxzKXtsZXQgYT1hcmd1bWVudHMubGVuZ3RoPjUmJmFyZ3VtZW50c1s1XSE9PXZvaWQgMD9hcmd1bWVudHNbNV06e30sbz1hcmd1bWVudHMubGVuZ3RoPjYmJmFyZ3VtZW50c1s2XSE9PXZvaWQgMD9hcmd1bWVudHNbNl06KCk9Pnt9O2lmKHRoaXMuc2VydmljZXMudXRpbHMmJnRoaXMuc2VydmljZXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlJiYhdGhpcy5zZXJ2aWNlcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UodCkpe3RoaXMubG9nZ2VyLndhcm4oYGRpZCBub3Qgc2F2ZSBrZXkgIiR7cn0iIGFzIHRoZSBuYW1lc3BhY2UgIiR7dH0iIHdhcyBub3QgeWV0IGxvYWRlZGAsIlRoaXMgbWVhbnMgc29tZXRoaW5nIElTIFdST05HIGluIHlvdXIgc2V0dXAuIFlvdSBhY2Nlc3MgdGhlIHQgZnVuY3Rpb24gYmVmb3JlIGkxOG5leHQuaW5pdCAvIGkxOG5leHQubG9hZE5hbWVzcGFjZSAvIGkxOG5leHQuY2hhbmdlTGFuZ3VhZ2Ugd2FzIGRvbmUuIFdhaXQgZm9yIHRoZSBjYWxsYmFjayBvciBQcm9taXNlIHRvIHJlc29sdmUgYmVmb3JlIGFjY2Vzc2luZyBpdCEhISIpO3JldHVybn1pZighKHI9PW51bGx8fHI9PT0iIikpe2lmKHRoaXMuYmFja2VuZCYmdGhpcy5iYWNrZW5kLmNyZWF0ZSl7Y29uc3QgbD17Li4uYSxpc1VwZGF0ZTpzfSxmPXRoaXMuYmFja2VuZC5jcmVhdGUuYmluZCh0aGlzLmJhY2tlbmQpO2lmKGYubGVuZ3RoPDYpdHJ5e2xldCBjO2YubGVuZ3RoPT09NT9jPWYoZSx0LHIsaSxsKTpjPWYoZSx0LHIsaSksYyYmdHlwZW9mIGMudGhlbj09ImZ1bmN0aW9uIj9jLnRoZW4oZz0+byhudWxsLGcpKS5jYXRjaChvKTpvKG51bGwsYyl9Y2F0Y2goYyl7byhjKX1lbHNlIGYoZSx0LHIsaSxvLGwpfSFlfHwhZVswXXx8dGhpcy5zdG9yZS5hZGRSZXNvdXJjZShlWzBdLHQscixpKX19fWNvbnN0IFdlPSgpPT4oe2RlYnVnOiExLGluaXRJbW1lZGlhdGU6ITAsbnM6WyJ0cmFuc2xhdGlvbiJdLGRlZmF1bHROUzpbInRyYW5zbGF0aW9uIl0sZmFsbGJhY2tMbmc6WyJkZXYiXSxmYWxsYmFja05TOiExLHN1cHBvcnRlZExuZ3M6ITEsbm9uRXhwbGljaXRTdXBwb3J0ZWRMbmdzOiExLGxvYWQ6ImFsbCIscHJlbG9hZDohMSxzaW1wbGlmeVBsdXJhbFN1ZmZpeDohMCxrZXlTZXBhcmF0b3I6Ii4iLG5zU2VwYXJhdG9yOiI6IixwbHVyYWxTZXBhcmF0b3I6Il8iLGNvbnRleHRTZXBhcmF0b3I6Il8iLHBhcnRpYWxCdW5kbGVkTGFuZ3VhZ2VzOiExLHNhdmVNaXNzaW5nOiExLHVwZGF0ZU1pc3Npbmc6ITEsc2F2ZU1pc3NpbmdUbzoiZmFsbGJhY2siLHNhdmVNaXNzaW5nUGx1cmFsczohMCxtaXNzaW5nS2V5SGFuZGxlcjohMSxtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXI6ITEscG9zdFByb2Nlc3M6ITEscG9zdFByb2Nlc3NQYXNzUmVzb2x2ZWQ6ITEscmV0dXJuTnVsbDohMSxyZXR1cm5FbXB0eVN0cmluZzohMCxyZXR1cm5PYmplY3RzOiExLGpvaW5BcnJheXM6ITEscmV0dXJuZWRPYmplY3RIYW5kbGVyOiExLHBhcnNlTWlzc2luZ0tleUhhbmRsZXI6ITEsYXBwZW5kTmFtZXNwYWNlVG9NaXNzaW5nS2V5OiExLGFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlOiExLG92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyOm49PntsZXQgZT17fTtpZih0eXBlb2YgblsxXT09Im9iamVjdCImJihlPW5bMV0pLHR5cGVvZiBuWzFdPT0ic3RyaW5nIiYmKGUuZGVmYXVsdFZhbHVlPW5bMV0pLHR5cGVvZiBuWzJdPT0ic3RyaW5nIiYmKGUudERlc2NyaXB0aW9uPW5bMl0pLHR5cGVvZiBuWzJdPT0ib2JqZWN0Inx8dHlwZW9mIG5bM109PSJvYmplY3QiKXtjb25zdCB0PW5bM118fG5bMl07T2JqZWN0LmtleXModCkuZm9yRWFjaChyPT57ZVtyXT10W3JdfSl9cmV0dXJuIGV9LGludGVycG9sYXRpb246e2VzY2FwZVZhbHVlOiEwLGZvcm1hdDpuPT5uLHByZWZpeDoie3siLHN1ZmZpeDoifX0iLGZvcm1hdFNlcGFyYXRvcjoiLCIsdW5lc2NhcGVQcmVmaXg6Ii0iLG5lc3RpbmdQcmVmaXg6IiR0KCIsbmVzdGluZ1N1ZmZpeDoiKSIsbmVzdGluZ09wdGlvbnNTZXBhcmF0b3I6IiwiLG1heFJlcGxhY2VzOjFlMyxza2lwT25WYXJpYWJsZXM6ITB9fSksSmU9bj0+KHR5cGVvZiBuLm5zPT0ic3RyaW5nIiYmKG4ubnM9W24ubnNdKSx0eXBlb2Ygbi5mYWxsYmFja0xuZz09InN0cmluZyImJihuLmZhbGxiYWNrTG5nPVtuLmZhbGxiYWNrTG5nXSksdHlwZW9mIG4uZmFsbGJhY2tOUz09InN0cmluZyImJihuLmZhbGxiYWNrTlM9W24uZmFsbGJhY2tOU10pLG4uc3VwcG9ydGVkTG5ncyYmbi5zdXBwb3J0ZWRMbmdzLmluZGV4T2YoImNpbW9kZSIpPDAmJihuLnN1cHBvcnRlZExuZ3M9bi5zdXBwb3J0ZWRMbmdzLmNvbmNhdChbImNpbW9kZSJdKSksbiksWD0oKT0+e30seXI9bj0+e09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE9iamVjdC5nZXRQcm90b3R5cGVPZihuKSkuZm9yRWFjaCh0PT57dHlwZW9mIG5bdF09PSJmdW5jdGlvbiImJihuW3RdPW5bdF0uYmluZChuKSl9KX07Y2xhc3MgUSBleHRlbmRzIGhle2NvbnN0cnVjdG9yKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7aWYoc3VwZXIoKSx0aGlzLm9wdGlvbnM9SmUoZSksdGhpcy5zZXJ2aWNlcz17fSx0aGlzLmxvZ2dlcj1DLHRoaXMubW9kdWxlcz17ZXh0ZXJuYWw6W119LHlyKHRoaXMpLHQmJiF0aGlzLmlzSW5pdGlhbGl6ZWQmJiFlLmlzQ2xvbmUpe2lmKCF0aGlzLm9wdGlvbnMuaW5pdEltbWVkaWF0ZSlyZXR1cm4gdGhpcy5pbml0KGUsdCksdGhpcztzZXRUaW1lb3V0KCgpPT57dGhpcy5pbml0KGUsdCl9LDApfX1pbml0KCl7dmFyIGU9dGhpcztsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e30scj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDt0aGlzLmlzSW5pdGlhbGl6aW5nPSEwLHR5cGVvZiB0PT0iZnVuY3Rpb24iJiYocj10LHQ9e30pLCF0LmRlZmF1bHROUyYmdC5kZWZhdWx0TlMhPT0hMSYmdC5ucyYmKHR5cGVvZiB0Lm5zPT0ic3RyaW5nIj90LmRlZmF1bHROUz10Lm5zOnQubnMuaW5kZXhPZigidHJhbnNsYXRpb24iKTwwJiYodC5kZWZhdWx0TlM9dC5uc1swXSkpO2NvbnN0IGk9V2UoKTt0aGlzLm9wdGlvbnM9ey4uLmksLi4udGhpcy5vcHRpb25zLC4uLkplKHQpfSx0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSE9PSJ2MSImJih0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbj17Li4uaS5pbnRlcnBvbGF0aW9uLC4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9ufSksdC5rZXlTZXBhcmF0b3IhPT12b2lkIDAmJih0aGlzLm9wdGlvbnMudXNlckRlZmluZWRLZXlTZXBhcmF0b3I9dC5rZXlTZXBhcmF0b3IpLHQubnNTZXBhcmF0b3IhPT12b2lkIDAmJih0aGlzLm9wdGlvbnMudXNlckRlZmluZWROc1NlcGFyYXRvcj10Lm5zU2VwYXJhdG9yKTtjb25zdCBzPWM9PmM/dHlwZW9mIGM9PSJmdW5jdGlvbiI/bmV3IGM6YzpudWxsO2lmKCF0aGlzLm9wdGlvbnMuaXNDbG9uZSl7dGhpcy5tb2R1bGVzLmxvZ2dlcj9DLmluaXQocyh0aGlzLm1vZHVsZXMubG9nZ2VyKSx0aGlzLm9wdGlvbnMpOkMuaW5pdChudWxsLHRoaXMub3B0aW9ucyk7bGV0IGM7dGhpcy5tb2R1bGVzLmZvcm1hdHRlcj9jPXRoaXMubW9kdWxlcy5mb3JtYXR0ZXI6dHlwZW9mIEludGw8InUiJiYoYz1ocik7Y29uc3QgZz1uZXcgS2UodGhpcy5vcHRpb25zKTt0aGlzLnN0b3JlPW5ldyBHZSh0aGlzLm9wdGlvbnMucmVzb3VyY2VzLHRoaXMub3B0aW9ucyk7Y29uc3QgdT10aGlzLnNlcnZpY2VzO3UubG9nZ2VyPUMsdS5yZXNvdXJjZVN0b3JlPXRoaXMuc3RvcmUsdS5sYW5ndWFnZVV0aWxzPWcsdS5wbHVyYWxSZXNvbHZlcj1uZXcgY3IoZyx7cHJlcGVuZDp0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yLGNvbXBhdGliaWxpdHlKU09OOnRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTixzaW1wbGlmeVBsdXJhbFN1ZmZpeDp0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXh9KSxjJiYoIXRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdHx8dGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0PT09aS5pbnRlcnBvbGF0aW9uLmZvcm1hdCkmJih1LmZvcm1hdHRlcj1zKGMpLHUuZm9ybWF0dGVyLmluaXQodSx0aGlzLm9wdGlvbnMpLHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdD11LmZvcm1hdHRlci5mb3JtYXQuYmluZCh1LmZvcm1hdHRlcikpLHUuaW50ZXJwb2xhdG9yPW5ldyBwcih0aGlzLm9wdGlvbnMpLHUudXRpbHM9e2hhc0xvYWRlZE5hbWVzcGFjZTp0aGlzLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKHRoaXMpfSx1LmJhY2tlbmRDb25uZWN0b3I9bmV3IG1yKHModGhpcy5tb2R1bGVzLmJhY2tlbmQpLHUucmVzb3VyY2VTdG9yZSx1LHRoaXMub3B0aW9ucyksdS5iYWNrZW5kQ29ubmVjdG9yLm9uKCIqIixmdW5jdGlvbihwKXtmb3IodmFyIGQ9YXJndW1lbnRzLmxlbmd0aCxtPW5ldyBBcnJheShkPjE/ZC0xOjApLHk9MTt5PGQ7eSsrKW1beS0xXT1hcmd1bWVudHNbeV07ZS5lbWl0KHAsLi4ubSl9KSx0aGlzLm1vZHVsZXMubGFuZ3VhZ2VEZXRlY3RvciYmKHUubGFuZ3VhZ2VEZXRlY3Rvcj1zKHRoaXMubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yKSx1Lmxhbmd1YWdlRGV0ZWN0b3IuaW5pdCYmdS5sYW5ndWFnZURldGVjdG9yLmluaXQodSx0aGlzLm9wdGlvbnMuZGV0ZWN0aW9uLHRoaXMub3B0aW9ucykpLHRoaXMubW9kdWxlcy5pMThuRm9ybWF0JiYodS5pMThuRm9ybWF0PXModGhpcy5tb2R1bGVzLmkxOG5Gb3JtYXQpLHUuaTE4bkZvcm1hdC5pbml0JiZ1LmkxOG5Gb3JtYXQuaW5pdCh0aGlzKSksdGhpcy50cmFuc2xhdG9yPW5ldyB1ZSh0aGlzLnNlcnZpY2VzLHRoaXMub3B0aW9ucyksdGhpcy50cmFuc2xhdG9yLm9uKCIqIixmdW5jdGlvbihwKXtmb3IodmFyIGQ9YXJndW1lbnRzLmxlbmd0aCxtPW5ldyBBcnJheShkPjE/ZC0xOjApLHk9MTt5PGQ7eSsrKW1beS0xXT1hcmd1bWVudHNbeV07ZS5lbWl0KHAsLi4ubSl9KSx0aGlzLm1vZHVsZXMuZXh0ZXJuYWwuZm9yRWFjaChwPT57cC5pbml0JiZwLmluaXQodGhpcyl9KX1pZih0aGlzLmZvcm1hdD10aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQscnx8KHI9WCksdGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nJiYhdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yJiYhdGhpcy5vcHRpb25zLmxuZyl7Y29uc3QgYz10aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcpO2MubGVuZ3RoPjAmJmNbMF0hPT0iZGV2IiYmKHRoaXMub3B0aW9ucy5sbmc9Y1swXSl9IXRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvciYmIXRoaXMub3B0aW9ucy5sbmcmJnRoaXMubG9nZ2VyLndhcm4oImluaXQ6IG5vIGxhbmd1YWdlRGV0ZWN0b3IgaXMgdXNlZCBhbmQgbm8gbG5nIGlzIGRlZmluZWQiKSxbImdldFJlc291cmNlIiwiaGFzUmVzb3VyY2VCdW5kbGUiLCJnZXRSZXNvdXJjZUJ1bmRsZSIsImdldERhdGFCeUxhbmd1YWdlIl0uZm9yRWFjaChjPT57dGhpc1tjXT1mdW5jdGlvbigpe3JldHVybiBlLnN0b3JlW2NdKC4uLmFyZ3VtZW50cyl9fSksWyJhZGRSZXNvdXJjZSIsImFkZFJlc291cmNlcyIsImFkZFJlc291cmNlQnVuZGxlIiwicmVtb3ZlUmVzb3VyY2VCdW5kbGUiXS5mb3JFYWNoKGM9Pnt0aGlzW2NdPWZ1bmN0aW9uKCl7cmV0dXJuIGUuc3RvcmVbY10oLi4uYXJndW1lbnRzKSxlfX0pO2NvbnN0IGw9SigpLGY9KCk9Pntjb25zdCBjPShnLHUpPT57dGhpcy5pc0luaXRpYWxpemluZz0hMSx0aGlzLmlzSW5pdGlhbGl6ZWQmJiF0aGlzLmluaXRpYWxpemVkU3RvcmVPbmNlJiZ0aGlzLmxvZ2dlci53YXJuKCJpbml0OiBpMThuZXh0IGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuIFlvdSBzaG91bGQgY2FsbCBpbml0IGp1c3Qgb25jZSEiKSx0aGlzLmlzSW5pdGlhbGl6ZWQ9ITAsdGhpcy5vcHRpb25zLmlzQ2xvbmV8fHRoaXMubG9nZ2VyLmxvZygiaW5pdGlhbGl6ZWQiLHRoaXMub3B0aW9ucyksdGhpcy5lbWl0KCJpbml0aWFsaXplZCIsdGhpcy5vcHRpb25zKSxsLnJlc29sdmUodSkscihnLHUpfTtpZih0aGlzLmxhbmd1YWdlcyYmdGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlBUEkhPT0idjEiJiYhdGhpcy5pc0luaXRpYWxpemVkKXJldHVybiBjKG51bGwsdGhpcy50LmJpbmQodGhpcykpO3RoaXMuY2hhbmdlTGFuZ3VhZ2UodGhpcy5vcHRpb25zLmxuZyxjKX07cmV0dXJuIHRoaXMub3B0aW9ucy5yZXNvdXJjZXN8fCF0aGlzLm9wdGlvbnMuaW5pdEltbWVkaWF0ZT9mKCk6c2V0VGltZW91dChmLDApLGx9bG9hZFJlc291cmNlcyhlKXtsZXQgcj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06WDtjb25zdCBpPXR5cGVvZiBlPT0ic3RyaW5nIj9lOnRoaXMubGFuZ3VhZ2U7aWYodHlwZW9mIGU9PSJmdW5jdGlvbiImJihyPWUpLCF0aGlzLm9wdGlvbnMucmVzb3VyY2VzfHx0aGlzLm9wdGlvbnMucGFydGlhbEJ1bmRsZWRMYW5ndWFnZXMpe2lmKGkmJmkudG9Mb3dlckNhc2UoKT09PSJjaW1vZGUiJiYoIXRoaXMub3B0aW9ucy5wcmVsb2FkfHx0aGlzLm9wdGlvbnMucHJlbG9hZC5sZW5ndGg9PT0wKSlyZXR1cm4gcigpO2NvbnN0IHM9W10sYT1vPT57aWYoIW98fG89PT0iY2ltb2RlIilyZXR1cm47dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShvKS5mb3JFYWNoKGY9PntmIT09ImNpbW9kZSImJnMuaW5kZXhPZihmKTwwJiZzLnB1c2goZil9KX07aT9hKGkpOnRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZykuZm9yRWFjaChsPT5hKGwpKSx0aGlzLm9wdGlvbnMucHJlbG9hZCYmdGhpcy5vcHRpb25zLnByZWxvYWQuZm9yRWFjaChvPT5hKG8pKSx0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IubG9hZChzLHRoaXMub3B0aW9ucy5ucyxvPT57IW8mJiF0aGlzLnJlc29sdmVkTGFuZ3VhZ2UmJnRoaXMubGFuZ3VhZ2UmJnRoaXMuc2V0UmVzb2x2ZWRMYW5ndWFnZSh0aGlzLmxhbmd1YWdlKSxyKG8pfSl9ZWxzZSByKG51bGwpfXJlbG9hZFJlc291cmNlcyhlLHQscil7Y29uc3QgaT1KKCk7cmV0dXJuIHR5cGVvZiBlPT0iZnVuY3Rpb24iJiYocj1lLGU9dm9pZCAwKSx0eXBlb2YgdD09ImZ1bmN0aW9uIiYmKHI9dCx0PXZvaWQgMCksZXx8KGU9dGhpcy5sYW5ndWFnZXMpLHR8fCh0PXRoaXMub3B0aW9ucy5ucykscnx8KHI9WCksdGhpcy5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLnJlbG9hZChlLHQscz0+e2kucmVzb2x2ZSgpLHIocyl9KSxpfXVzZShlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIllvdSBhcmUgcGFzc2luZyBhbiB1bmRlZmluZWQgbW9kdWxlISBQbGVhc2UgY2hlY2sgdGhlIG9iamVjdCB5b3UgYXJlIHBhc3NpbmcgdG8gaTE4bmV4dC51c2UoKSIpO2lmKCFlLnR5cGUpdGhyb3cgbmV3IEVycm9yKCJZb3UgYXJlIHBhc3NpbmcgYSB3cm9uZyBtb2R1bGUhIFBsZWFzZSBjaGVjayB0aGUgb2JqZWN0IHlvdSBhcmUgcGFzc2luZyB0byBpMThuZXh0LnVzZSgpIik7cmV0dXJuIGUudHlwZT09PSJiYWNrZW5kIiYmKHRoaXMubW9kdWxlcy5iYWNrZW5kPWUpLChlLnR5cGU9PT0ibG9nZ2VyInx8ZS5sb2cmJmUud2FybiYmZS5lcnJvcikmJih0aGlzLm1vZHVsZXMubG9nZ2VyPWUpLGUudHlwZT09PSJsYW5ndWFnZURldGVjdG9yIiYmKHRoaXMubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yPWUpLGUudHlwZT09PSJpMThuRm9ybWF0IiYmKHRoaXMubW9kdWxlcy5pMThuRm9ybWF0PWUpLGUudHlwZT09PSJwb3N0UHJvY2Vzc29yIiYmd3QuYWRkUG9zdFByb2Nlc3NvcihlKSxlLnR5cGU9PT0iZm9ybWF0dGVyIiYmKHRoaXMubW9kdWxlcy5mb3JtYXR0ZXI9ZSksZS50eXBlPT09IjNyZFBhcnR5IiYmdGhpcy5tb2R1bGVzLmV4dGVybmFsLnB1c2goZSksdGhpc31zZXRSZXNvbHZlZExhbmd1YWdlKGUpe2lmKCEoIWV8fCF0aGlzLmxhbmd1YWdlcykmJiEoWyJjaW1vZGUiLCJkZXYiXS5pbmRleE9mKGUpPi0xKSlmb3IobGV0IHQ9MDt0PHRoaXMubGFuZ3VhZ2VzLmxlbmd0aDt0Kyspe2NvbnN0IHI9dGhpcy5sYW5ndWFnZXNbdF07aWYoIShbImNpbW9kZSIsImRldiJdLmluZGV4T2Yocik+LTEpJiZ0aGlzLnN0b3JlLmhhc0xhbmd1YWdlU29tZVRyYW5zbGF0aW9ucyhyKSl7dGhpcy5yZXNvbHZlZExhbmd1YWdlPXI7YnJlYWt9fX1jaGFuZ2VMYW5ndWFnZShlLHQpe3ZhciByPXRoaXM7dGhpcy5pc0xhbmd1YWdlQ2hhbmdpbmdUbz1lO2NvbnN0IGk9SigpO3RoaXMuZW1pdCgibGFuZ3VhZ2VDaGFuZ2luZyIsZSk7Y29uc3Qgcz1sPT57dGhpcy5sYW5ndWFnZT1sLHRoaXMubGFuZ3VhZ2VzPXRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkobCksdGhpcy5yZXNvbHZlZExhbmd1YWdlPXZvaWQgMCx0aGlzLnNldFJlc29sdmVkTGFuZ3VhZ2UobCl9LGE9KGwsZik9PntmPyhzKGYpLHRoaXMudHJhbnNsYXRvci5jaGFuZ2VMYW5ndWFnZShmKSx0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvPXZvaWQgMCx0aGlzLmVtaXQoImxhbmd1YWdlQ2hhbmdlZCIsZiksdGhpcy5sb2dnZXIubG9nKCJsYW5ndWFnZUNoYW5nZWQiLGYpKTp0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvPXZvaWQgMCxpLnJlc29sdmUoZnVuY3Rpb24oKXtyZXR1cm4gci50KC4uLmFyZ3VtZW50cyl9KSx0JiZ0KGwsZnVuY3Rpb24oKXtyZXR1cm4gci50KC4uLmFyZ3VtZW50cyl9KX0sbz1sPT57IWUmJiFsJiZ0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3ImJihsPVtdKTtjb25zdCBmPXR5cGVvZiBsPT0ic3RyaW5nIj9sOnRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRCZXN0TWF0Y2hGcm9tQ29kZXMobCk7ZiYmKHRoaXMubGFuZ3VhZ2V8fHMoZiksdGhpcy50cmFuc2xhdG9yLmxhbmd1YWdlfHx0aGlzLnRyYW5zbGF0b3IuY2hhbmdlTGFuZ3VhZ2UoZiksdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yJiZ0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuY2FjaGVVc2VyTGFuZ3VhZ2UmJnRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5jYWNoZVVzZXJMYW5ndWFnZShmKSksdGhpcy5sb2FkUmVzb3VyY2VzKGYsYz0+e2EoYyxmKX0pfTtyZXR1cm4hZSYmdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yJiYhdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmFzeW5jP28odGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdCgpKTohZSYmdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yJiZ0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuYXN5bmM/dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdC5sZW5ndGg9PT0wP3RoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5kZXRlY3QoKS50aGVuKG8pOnRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5kZXRlY3Qobyk6byhlKSxpfWdldEZpeGVkVChlLHQscil7dmFyIGk9dGhpcztjb25zdCBzPWZ1bmN0aW9uKGEsbyl7bGV0IGw7aWYodHlwZW9mIG8hPSJvYmplY3QiKXtmb3IodmFyIGY9YXJndW1lbnRzLmxlbmd0aCxjPW5ldyBBcnJheShmPjI/Zi0yOjApLGc9MjtnPGY7ZysrKWNbZy0yXT1hcmd1bWVudHNbZ107bD1pLm9wdGlvbnMub3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXIoW2Esb10uY29uY2F0KGMpKX1lbHNlIGw9ey4uLm99O2wubG5nPWwubG5nfHxzLmxuZyxsLmxuZ3M9bC5sbmdzfHxzLmxuZ3MsbC5ucz1sLm5zfHxzLm5zLGwua2V5UHJlZml4IT09IiImJihsLmtleVByZWZpeD1sLmtleVByZWZpeHx8cnx8cy5rZXlQcmVmaXgpO2NvbnN0IHU9aS5vcHRpb25zLmtleVNlcGFyYXRvcnx8Ii4iO2xldCBwO3JldHVybiBsLmtleVByZWZpeCYmQXJyYXkuaXNBcnJheShhKT9wPWEubWFwKGQ9PmAke2wua2V5UHJlZml4fSR7dX0ke2R9YCk6cD1sLmtleVByZWZpeD9gJHtsLmtleVByZWZpeH0ke3V9JHthfWA6YSxpLnQocCxsKX07cmV0dXJuIHR5cGVvZiBlPT0ic3RyaW5nIj9zLmxuZz1lOnMubG5ncz1lLHMubnM9dCxzLmtleVByZWZpeD1yLHN9dCgpe3JldHVybiB0aGlzLnRyYW5zbGF0b3ImJnRoaXMudHJhbnNsYXRvci50cmFuc2xhdGUoLi4uYXJndW1lbnRzKX1leGlzdHMoKXtyZXR1cm4gdGhpcy50cmFuc2xhdG9yJiZ0aGlzLnRyYW5zbGF0b3IuZXhpc3RzKC4uLmFyZ3VtZW50cyl9c2V0RGVmYXVsdE5hbWVzcGFjZShlKXt0aGlzLm9wdGlvbnMuZGVmYXVsdE5TPWV9aGFzTG9hZGVkTmFtZXNwYWNlKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTtpZighdGhpcy5pc0luaXRpYWxpemVkKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKCJoYXNMb2FkZWROYW1lc3BhY2U6IGkxOG5leHQgd2FzIG5vdCBpbml0aWFsaXplZCIsdGhpcy5sYW5ndWFnZXMpLCExO2lmKCF0aGlzLmxhbmd1YWdlc3x8IXRoaXMubGFuZ3VhZ2VzLmxlbmd0aClyZXR1cm4gdGhpcy5sb2dnZXIud2FybigiaGFzTG9hZGVkTmFtZXNwYWNlOiBpMThuLmxhbmd1YWdlcyB3ZXJlIHVuZGVmaW5lZCBvciBlbXB0eSIsdGhpcy5sYW5ndWFnZXMpLCExO2NvbnN0IHI9dC5sbmd8fHRoaXMucmVzb2x2ZWRMYW5ndWFnZXx8dGhpcy5sYW5ndWFnZXNbMF0saT10aGlzLm9wdGlvbnM/dGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nOiExLHM9dGhpcy5sYW5ndWFnZXNbdGhpcy5sYW5ndWFnZXMubGVuZ3RoLTFdO2lmKHIudG9Mb3dlckNhc2UoKT09PSJjaW1vZGUiKXJldHVybiEwO2NvbnN0IGE9KG8sbCk9Pntjb25zdCBmPXRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5zdGF0ZVtgJHtvfXwke2x9YF07cmV0dXJuIGY9PT0tMXx8Zj09PTB8fGY9PT0yfTtpZih0LnByZWNoZWNrKXtjb25zdCBvPXQucHJlY2hlY2sodGhpcyxhKTtpZihvIT09dm9pZCAwKXJldHVybiBvfXJldHVybiEhKHRoaXMuaGFzUmVzb3VyY2VCdW5kbGUocixlKXx8IXRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5iYWNrZW5kfHx0aGlzLm9wdGlvbnMucmVzb3VyY2VzJiYhdGhpcy5vcHRpb25zLnBhcnRpYWxCdW5kbGVkTGFuZ3VhZ2VzfHxhKHIsZSkmJighaXx8YShzLGUpKSl9bG9hZE5hbWVzcGFjZXMoZSx0KXtjb25zdCByPUooKTtyZXR1cm4gdGhpcy5vcHRpb25zLm5zPyh0eXBlb2YgZT09InN0cmluZyImJihlPVtlXSksZS5mb3JFYWNoKGk9Pnt0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihpKTwwJiZ0aGlzLm9wdGlvbnMubnMucHVzaChpKX0pLHRoaXMubG9hZFJlc291cmNlcyhpPT57ci5yZXNvbHZlKCksdCYmdChpKX0pLHIpOih0JiZ0KCksUHJvbWlzZS5yZXNvbHZlKCkpfWxvYWRMYW5ndWFnZXMoZSx0KXtjb25zdCByPUooKTt0eXBlb2YgZT09InN0cmluZyImJihlPVtlXSk7Y29uc3QgaT10aGlzLm9wdGlvbnMucHJlbG9hZHx8W10scz1lLmZpbHRlcihhPT5pLmluZGV4T2YoYSk8MCYmdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmlzU3VwcG9ydGVkQ29kZShhKSk7cmV0dXJuIHMubGVuZ3RoPyh0aGlzLm9wdGlvbnMucHJlbG9hZD1pLmNvbmNhdChzKSx0aGlzLmxvYWRSZXNvdXJjZXMoYT0+e3IucmVzb2x2ZSgpLHQmJnQoYSl9KSxyKToodCYmdCgpLFByb21pc2UucmVzb2x2ZSgpKX1kaXIoZSl7aWYoZXx8KGU9dGhpcy5yZXNvbHZlZExhbmd1YWdlfHwodGhpcy5sYW5ndWFnZXMmJnRoaXMubGFuZ3VhZ2VzLmxlbmd0aD4wP3RoaXMubGFuZ3VhZ2VzWzBdOnRoaXMubGFuZ3VhZ2UpKSwhZSlyZXR1cm4icnRsIjtjb25zdCB0PVsiYXIiLCJzaHUiLCJzcXIiLCJzc2giLCJ4YWEiLCJ5aGQiLCJ5dWQiLCJhYW8iLCJhYmgiLCJhYnYiLCJhY20iLCJhY3EiLCJhY3ciLCJhY3giLCJhY3kiLCJhZGYiLCJhZHMiLCJhZWIiLCJhZWMiLCJhZmIiLCJhanAiLCJhcGMiLCJhcGQiLCJhcmIiLCJhcnEiLCJhcnMiLCJhcnkiLCJhcnoiLCJhdXoiLCJhdmwiLCJheWgiLCJheWwiLCJheW4iLCJheXAiLCJiYnoiLCJwZ2EiLCJoZSIsIml3IiwicHMiLCJwYnQiLCJwYnUiLCJwc3QiLCJwcnAiLCJwcmQiLCJ1ZyIsInVyIiwieWRkIiwieWRzIiwieWloIiwiamkiLCJ5aSIsImhibyIsIm1lbiIsInhtbiIsImZhIiwianByIiwicGVvIiwicGVzIiwicHJzIiwiZHYiLCJzYW0iLCJja2IiXSxyPXRoaXMuc2VydmljZXMmJnRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlsc3x8bmV3IEtlKFdlKCkpO3JldHVybiB0LmluZGV4T2Yoci5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShlKSk+LTF8fGUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCItYXJhYiIpPjE/InJ0bCI6Imx0ciJ9c3RhdGljIGNyZWF0ZUluc3RhbmNlKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7cmV0dXJuIG5ldyBRKGUsdCl9Y2xvbmVJbnN0YW5jZSgpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTpYO2NvbnN0IHI9ZS5mb3JrUmVzb3VyY2VTdG9yZTtyJiZkZWxldGUgZS5mb3JrUmVzb3VyY2VTdG9yZTtjb25zdCBpPXsuLi50aGlzLm9wdGlvbnMsLi4uZSxpc0Nsb25lOiEwfSxzPW5ldyBRKGkpO3JldHVybihlLmRlYnVnIT09dm9pZCAwfHxlLnByZWZpeCE9PXZvaWQgMCkmJihzLmxvZ2dlcj1zLmxvZ2dlci5jbG9uZShlKSksWyJzdG9yZSIsInNlcnZpY2VzIiwibGFuZ3VhZ2UiXS5mb3JFYWNoKG89PntzW29dPXRoaXNbb119KSxzLnNlcnZpY2VzPXsuLi50aGlzLnNlcnZpY2VzfSxzLnNlcnZpY2VzLnV0aWxzPXtoYXNMb2FkZWROYW1lc3BhY2U6cy5oYXNMb2FkZWROYW1lc3BhY2UuYmluZChzKX0sciYmKHMuc3RvcmU9bmV3IEdlKHRoaXMuc3RvcmUuZGF0YSxpKSxzLnNlcnZpY2VzLnJlc291cmNlU3RvcmU9cy5zdG9yZSkscy50cmFuc2xhdG9yPW5ldyB1ZShzLnNlcnZpY2VzLGkpLHMudHJhbnNsYXRvci5vbigiKiIsZnVuY3Rpb24obyl7Zm9yKHZhciBsPWFyZ3VtZW50cy5sZW5ndGgsZj1uZXcgQXJyYXkobD4xP2wtMTowKSxjPTE7YzxsO2MrKylmW2MtMV09YXJndW1lbnRzW2NdO3MuZW1pdChvLC4uLmYpfSkscy5pbml0KGksdCkscy50cmFuc2xhdG9yLm9wdGlvbnM9aSxzLnRyYW5zbGF0b3IuYmFja2VuZENvbm5lY3Rvci5zZXJ2aWNlcy51dGlscz17aGFzTG9hZGVkTmFtZXNwYWNlOnMuaGFzTG9hZGVkTmFtZXNwYWNlLmJpbmQocyl9LHN9dG9KU09OKCl7cmV0dXJue29wdGlvbnM6dGhpcy5vcHRpb25zLHN0b3JlOnRoaXMuc3RvcmUsbGFuZ3VhZ2U6dGhpcy5sYW5ndWFnZSxsYW5ndWFnZXM6dGhpcy5sYW5ndWFnZXMscmVzb2x2ZWRMYW5ndWFnZTp0aGlzLnJlc29sdmVkTGFuZ3VhZ2V9fX1jb25zdCBFPVEuY3JlYXRlSW5zdGFuY2UoKTtFLmNyZWF0ZUluc3RhbmNlPVEuY3JlYXRlSW5zdGFuY2U7RS5jcmVhdGVJbnN0YW5jZTtFLmRpcjtFLmluaXQ7RS5sb2FkUmVzb3VyY2VzO0UucmVsb2FkUmVzb3VyY2VzO0UudXNlO0UuY2hhbmdlTGFuZ3VhZ2U7RS5nZXRGaXhlZFQ7RS50O0UuZXhpc3RzO0Uuc2V0RGVmYXVsdE5hbWVzcGFjZTtFLmhhc0xvYWRlZE5hbWVzcGFjZTtFLmxvYWROYW1lc3BhY2VzO0UubG9hZExhbmd1YWdlcztmdW5jdGlvbiBicihuKXtyZXR1cm4gbiYmbi5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwiZGVmYXVsdCIpP24uZGVmYXVsdDpufXZhciBlZT17fSxiZSx6ZTtmdW5jdGlvbiB2cigpe2lmKHplKXJldHVybiBiZTt6ZT0xO3ZhciBuLGUsdD17JyInOiciJywiXFwiOiJcXCIsIi8iOiIvIixiOiJcYiIsZjoiXGYiLG46YApgLHI6IlxyIix0OiIJIn0scjtmdW5jdGlvbiBpKHApe3Rocm93e25hbWU6IlN5bnRheEVycm9yIixtZXNzYWdlOnAsYXQ6bix0ZXh0OnJ9fWZ1bmN0aW9uIHMocCl7cmV0dXJuIHAmJnAhPT1lJiZpKCJFeHBlY3RlZCAnIitwKyInIGluc3RlYWQgb2YgJyIrZSsiJyIpLGU9ci5jaGFyQXQobiksbis9MSxlfWZ1bmN0aW9uIGEoKXt2YXIgcCxkPSIiO2ZvcihlPT09Ii0iJiYoZD0iLSIscygiLSIpKTtlPj0iMCImJmU8PSI5IjspZCs9ZSxzKCk7aWYoZT09PSIuIilmb3IoZCs9Ii4iO3MoKSYmZT49IjAiJiZlPD0iOSI7KWQrPWU7aWYoZT09PSJlInx8ZT09PSJFIilmb3IoZCs9ZSxzKCksKGU9PT0iLSJ8fGU9PT0iKyIpJiYoZCs9ZSxzKCkpO2U+PSIwIiYmZTw9IjkiOylkKz1lLHMoKTtyZXR1cm4gcD1OdW1iZXIoZCksaXNGaW5pdGUocCl8fGkoIkJhZCBudW1iZXIiKSxwfWZ1bmN0aW9uIG8oKXt2YXIgcCxkLG09IiIseTtpZihlPT09JyInKWZvcig7cygpOyl7aWYoZT09PSciJylyZXR1cm4gcygpLG07aWYoZT09PSJcXCIpaWYocygpLGU9PT0idSIpe2Zvcih5PTAsZD0wO2Q8NCYmKHA9cGFyc2VJbnQocygpLDE2KSwhIWlzRmluaXRlKHApKTtkKz0xKXk9eSoxNitwO20rPVN0cmluZy5mcm9tQ2hhckNvZGUoeSl9ZWxzZSBpZih0eXBlb2YgdFtlXT09InN0cmluZyIpbSs9dFtlXTtlbHNlIGJyZWFrO2Vsc2UgbSs9ZX1pKCJCYWQgc3RyaW5nIil9ZnVuY3Rpb24gbCgpe2Zvcig7ZSYmZTw9IiAiOylzKCl9ZnVuY3Rpb24gZigpe3N3aXRjaChlKXtjYXNlInQiOnJldHVybiBzKCJ0IikscygiciIpLHMoInUiKSxzKCJlIiksITA7Y2FzZSJmIjpyZXR1cm4gcygiZiIpLHMoImEiKSxzKCJsIikscygicyIpLHMoImUiKSwhMTtjYXNlIm4iOnJldHVybiBzKCJuIikscygidSIpLHMoImwiKSxzKCJsIiksbnVsbDtkZWZhdWx0OmkoIlVuZXhwZWN0ZWQgJyIrZSsiJyIpfX1mdW5jdGlvbiBjKCl7dmFyIHA9W107aWYoZT09PSJbIil7aWYocygiWyIpLGwoKSxlPT09Il0iKXJldHVybiBzKCJdIikscDtmb3IoO2U7KXtpZihwLnB1c2godSgpKSxsKCksZT09PSJdIilyZXR1cm4gcygiXSIpLHA7cygiLCIpLGwoKX19aSgiQmFkIGFycmF5Iil9ZnVuY3Rpb24gZygpe3ZhciBwLGQ9e307aWYoZT09PSJ7Iil7aWYocygieyIpLGwoKSxlPT09In0iKXJldHVybiBzKCJ9IiksZDtmb3IoO2U7KXtpZihwPW8oKSxsKCkscygiOiIpLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLHApJiZpKCdEdXBsaWNhdGUga2V5ICInK3ArJyInKSxkW3BdPXUoKSxsKCksZT09PSJ9IilyZXR1cm4gcygifSIpLGQ7cygiLCIpLGwoKX19aSgiQmFkIG9iamVjdCIpfWZ1bmN0aW9uIHUoKXtzd2l0Y2gobCgpLGUpe2Nhc2UieyI6cmV0dXJuIGcoKTtjYXNlIlsiOnJldHVybiBjKCk7Y2FzZSciJzpyZXR1cm4gbygpO2Nhc2UiLSI6cmV0dXJuIGEoKTtkZWZhdWx0OnJldHVybiBlPj0iMCImJmU8PSI5Ij9hKCk6ZigpfX1yZXR1cm4gYmU9ZnVuY3Rpb24ocCxkKXt2YXIgbTtyZXR1cm4gcj1wLG49MCxlPSIgIixtPXUoKSxsKCksZSYmaSgiU3ludGF4IGVycm9yIiksdHlwZW9mIGQ9PSJmdW5jdGlvbiI/ZnVuY3Rpb24geSh4LFMpe3ZhciBPLHYsUD14W1NdO2lmKFAmJnR5cGVvZiBQPT0ib2JqZWN0Iilmb3IoTyBpbiB1KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChQLE8pJiYodj15KFAsTyksdHlwZW9mIHY+InUiP2RlbGV0ZSBQW09dOlBbT109dik7cmV0dXJuIGQuY2FsbCh4LFMsUCl9KHsiIjptfSwiIik6bX0sYmV9dmFyIHZlLFFlO2Z1bmN0aW9uIFNyKCl7aWYoUWUpcmV0dXJuIHZlO1FlPTE7dmFyIG49L1tcXCJceDAwLVx4MWZceDdmLVx4OWZcdTAwYWRcdTA2MDAtXHUwNjA0XHUwNzBmXHUxN2I0XHUxN2I1XHUyMDBjLVx1MjAwZlx1MjAyOC1cdTIwMmZcdTIwNjAtXHUyMDZmXHVmZWZmXHVmZmYwLVx1ZmZmZl0vZyxlLHQscj17IlxiIjoiXFxiIiwiCSI6IlxcdCIsIlxuIjoiXFxuIiwiXGYiOiJcXGYiLCJcciI6IlxcciIsJyInOidcXCInLCJcXCI6IlxcXFwifSxpO2Z1bmN0aW9uIHMobyl7cmV0dXJuIG4ubGFzdEluZGV4PTAsbi50ZXN0KG8pPyciJytvLnJlcGxhY2UobixmdW5jdGlvbihsKXt2YXIgZj1yW2xdO3JldHVybiB0eXBlb2YgZj09InN0cmluZyI/ZjoiXFx1IisoIjAwMDAiK2wuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KX0pKyciJzonIicrbysnIid9ZnVuY3Rpb24gYShvLGwpe3ZhciBmLGMsZyx1LHA9ZSxkLG09bFtvXTtzd2l0Y2gobSYmdHlwZW9mIG09PSJvYmplY3QiJiZ0eXBlb2YgbS50b0pTT049PSJmdW5jdGlvbiImJihtPW0udG9KU09OKG8pKSx0eXBlb2YgaT09ImZ1bmN0aW9uIiYmKG09aS5jYWxsKGwsbyxtKSksdHlwZW9mIG0pe2Nhc2Uic3RyaW5nIjpyZXR1cm4gcyhtKTtjYXNlIm51bWJlciI6cmV0dXJuIGlzRmluaXRlKG0pP1N0cmluZyhtKToibnVsbCI7Y2FzZSJib29sZWFuIjpjYXNlIm51bGwiOnJldHVybiBTdHJpbmcobSk7Y2FzZSJvYmplY3QiOmlmKCFtKXJldHVybiJudWxsIjtpZihlKz10LGQ9W10sT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShtKT09PSJbb2JqZWN0IEFycmF5XSIpe2Zvcih1PW0ubGVuZ3RoLGY9MDtmPHU7Zis9MSlkW2ZdPWEoZixtKXx8Im51bGwiO3JldHVybiBnPWQubGVuZ3RoPT09MD8iW10iOmU/YFsKYCtlK2Quam9pbihgLApgK2UpK2AKYCtwKyJdIjoiWyIrZC5qb2luKCIsIikrIl0iLGU9cCxnfWlmKGkmJnR5cGVvZiBpPT0ib2JqZWN0Iilmb3IodT1pLmxlbmd0aCxmPTA7Zjx1O2YrPTEpYz1pW2ZdLHR5cGVvZiBjPT0ic3RyaW5nIiYmKGc9YShjLG0pLGcmJmQucHVzaChzKGMpKyhlPyI6ICI6IjoiKStnKSk7ZWxzZSBmb3IoYyBpbiBtKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtLGMpJiYoZz1hKGMsbSksZyYmZC5wdXNoKHMoYykrKGU/IjogIjoiOiIpK2cpKTtyZXR1cm4gZz1kLmxlbmd0aD09PTA/Int9IjplP2B7CmArZStkLmpvaW4oYCwKYCtlKStgCmArcCsifSI6InsiK2Quam9pbigiLCIpKyJ9IixlPXAsZ319cmV0dXJuIHZlPWZ1bmN0aW9uKG8sbCxmKXt2YXIgYztpZihlPSIiLHQ9IiIsdHlwZW9mIGY9PSJudW1iZXIiKWZvcihjPTA7YzxmO2MrPTEpdCs9IiAiO2Vsc2UgdHlwZW9mIGY9PSJzdHJpbmciJiYodD1mKTtpZihpPWwsbCYmdHlwZW9mIGwhPSJmdW5jdGlvbiImJih0eXBlb2YgbCE9Im9iamVjdCJ8fHR5cGVvZiBsLmxlbmd0aCE9Im51bWJlciIpKXRocm93IG5ldyBFcnJvcigiSlNPTi5zdHJpbmdpZnkiKTtyZXR1cm4gYSgiIix7IiI6b30pfSx2ZX12YXIgcWU7ZnVuY3Rpb24gUHIoKXtyZXR1cm4gcWV8fChxZT0xLGVlLnBhcnNlPXZyKCksZWUuc3RyaW5naWZ5PVNyKCkpLGVlfXZhciB4cj17fS50b1N0cmluZyxPcj1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihuKXtyZXR1cm4geHIuY2FsbChuKT09IltvYmplY3QgQXJyYXldIn0sWWU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxSdD1mdW5jdGlvbihlKXt2YXIgdD1ZZS5jYWxsKGUpLHI9dD09PSJbb2JqZWN0IEFyZ3VtZW50c10iO3JldHVybiByfHwocj10IT09IltvYmplY3QgQXJyYXldIiYmZSE9PW51bGwmJnR5cGVvZiBlPT0ib2JqZWN0IiYmdHlwZW9mIGUubGVuZ3RoPT0ibnVtYmVyIiYmZS5sZW5ndGg+PTAmJlllLmNhbGwoZS5jYWxsZWUpPT09IltvYmplY3QgRnVuY3Rpb25dIikscn0sU2UsWmU7ZnVuY3Rpb24gd3IoKXtpZihaZSlyZXR1cm4gU2U7WmU9MTt2YXIgbjtpZighT2JqZWN0LmtleXMpe3ZhciBlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLHI9UnQsaT1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLHM9IWkuY2FsbCh7dG9TdHJpbmc6bnVsbH0sInRvU3RyaW5nIiksYT1pLmNhbGwoZnVuY3Rpb24oKXt9LCJwcm90b3R5cGUiKSxvPVsidG9TdHJpbmciLCJ0b0xvY2FsZVN0cmluZyIsInZhbHVlT2YiLCJoYXNPd25Qcm9wZXJ0eSIsImlzUHJvdG90eXBlT2YiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImNvbnN0cnVjdG9yIl0sbD1mdW5jdGlvbih1KXt2YXIgcD11LmNvbnN0cnVjdG9yO3JldHVybiBwJiZwLnByb3RvdHlwZT09PXV9LGY9eyRhcHBsaWNhdGlvbkNhY2hlOiEwLCRjb25zb2xlOiEwLCRleHRlcm5hbDohMCwkZnJhbWU6ITAsJGZyYW1lRWxlbWVudDohMCwkZnJhbWVzOiEwLCRpbm5lckhlaWdodDohMCwkaW5uZXJXaWR0aDohMCwkb25tb3pmdWxsc2NyZWVuY2hhbmdlOiEwLCRvbm1vemZ1bGxzY3JlZW5lcnJvcjohMCwkb3V0ZXJIZWlnaHQ6ITAsJG91dGVyV2lkdGg6ITAsJHBhZ2VYT2Zmc2V0OiEwLCRwYWdlWU9mZnNldDohMCwkcGFyZW50OiEwLCRzY3JvbGxMZWZ0OiEwLCRzY3JvbGxUb3A6ITAsJHNjcm9sbFg6ITAsJHNjcm9sbFk6ITAsJHNlbGY6ITAsJHdlYmtpdEluZGV4ZWREQjohMCwkd2Via2l0U3RvcmFnZUluZm86ITAsJHdpbmRvdzohMH0sYz1mdW5jdGlvbigpe2lmKHR5cGVvZiB3aW5kb3c+InUiKXJldHVybiExO2Zvcih2YXIgdSBpbiB3aW5kb3cpdHJ5e2lmKCFmWyIkIit1XSYmZS5jYWxsKHdpbmRvdyx1KSYmd2luZG93W3VdIT09bnVsbCYmdHlwZW9mIHdpbmRvd1t1XT09Im9iamVjdCIpdHJ5e2wod2luZG93W3VdKX1jYXRjaHtyZXR1cm4hMH19Y2F0Y2h7cmV0dXJuITB9cmV0dXJuITF9KCksZz1mdW5jdGlvbih1KXtpZih0eXBlb2Ygd2luZG93PiJ1Inx8IWMpcmV0dXJuIGwodSk7dHJ5e3JldHVybiBsKHUpfWNhdGNoe3JldHVybiExfX07bj1mdW5jdGlvbihwKXt2YXIgZD1wIT09bnVsbCYmdHlwZW9mIHA9PSJvYmplY3QiLG09dC5jYWxsKHApPT09IltvYmplY3QgRnVuY3Rpb25dIix5PXIocCkseD1kJiZ0LmNhbGwocCk9PT0iW29iamVjdCBTdHJpbmddIixTPVtdO2lmKCFkJiYhbSYmIXkpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmtleXMgY2FsbGVkIG9uIGEgbm9uLW9iamVjdCIpO3ZhciBPPWEmJm07aWYoeCYmcC5sZW5ndGg+MCYmIWUuY2FsbChwLDApKWZvcih2YXIgdj0wO3Y8cC5sZW5ndGg7Kyt2KVMucHVzaChTdHJpbmcodikpO2lmKHkmJnAubGVuZ3RoPjApZm9yKHZhciBQPTA7UDxwLmxlbmd0aDsrK1ApUy5wdXNoKFN0cmluZyhQKSk7ZWxzZSBmb3IodmFyIEQgaW4gcCkhKE8mJkQ9PT0icHJvdG90eXBlIikmJmUuY2FsbChwLEQpJiZTLnB1c2goU3RyaW5nKEQpKTtpZihzKWZvcih2YXIgUj1nKHApLCQ9MDskPG8ubGVuZ3RoOysrJCkhKFImJm9bJF09PT0iY29uc3RydWN0b3IiKSYmZS5jYWxsKHAsb1skXSkmJlMucHVzaChvWyRdKTtyZXR1cm4gU319cmV0dXJuIFNlPW4sU2V9dmFyIFJyPUFycmF5LnByb3RvdHlwZS5zbGljZSxBcj1SdCxYZT1PYmplY3Qua2V5cyxuZT1YZT9mdW5jdGlvbihlKXtyZXR1cm4gWGUoZSl9OndyKCksZXQ9T2JqZWN0LmtleXM7bmUuc2hpbT1mdW5jdGlvbigpe2lmKE9iamVjdC5rZXlzKXt2YXIgZT1mdW5jdGlvbigpe3ZhciB0PU9iamVjdC5rZXlzKGFyZ3VtZW50cyk7cmV0dXJuIHQmJnQubGVuZ3RoPT09YXJndW1lbnRzLmxlbmd0aH0oMSwyKTtlfHwoT2JqZWN0LmtleXM9ZnVuY3Rpb24ocil7cmV0dXJuIEFyKHIpP2V0KFJyLmNhbGwocikpOmV0KHIpfSl9ZWxzZSBPYmplY3Qua2V5cz1uZTtyZXR1cm4gT2JqZWN0LmtleXN8fG5lfTt2YXIgRXI9bmUsQXQ9e2V4cG9ydHM6e319LERyPSJGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlICIsTHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxGcj1NYXRoLm1heCwkcj0iW29iamVjdCBGdW5jdGlvbl0iLHR0PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPVtdLGk9MDtpPGUubGVuZ3RoO2krPTEpcltpXT1lW2ldO2Zvcih2YXIgcz0wO3M8dC5sZW5ndGg7cys9MSlyW3MrZS5sZW5ndGhdPXRbc107cmV0dXJuIHJ9LENyPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPVtdLGk9dCxzPTA7aTxlLmxlbmd0aDtpKz0xLHMrPTEpcltzXT1lW2ldO3JldHVybiByfSxJcj1mdW5jdGlvbihuLGUpe2Zvcih2YXIgdD0iIixyPTA7cjxuLmxlbmd0aDtyKz0xKXQrPW5bcl0scisxPG4ubGVuZ3RoJiYodCs9ZSk7cmV0dXJuIHR9LFRyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodHlwZW9mIHQhPSJmdW5jdGlvbiJ8fExyLmFwcGx5KHQpIT09JHIpdGhyb3cgbmV3IFR5cGVFcnJvcihEcit0KTtmb3IodmFyIHI9Q3IoYXJndW1lbnRzLDEpLGkscz1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBpKXt2YXIgYz10LmFwcGx5KHRoaXMsdHQocixhcmd1bWVudHMpKTtyZXR1cm4gT2JqZWN0KGMpPT09Yz9jOnRoaXN9cmV0dXJuIHQuYXBwbHkoZSx0dChyLGFyZ3VtZW50cykpfSxhPUZyKDAsdC5sZW5ndGgtci5sZW5ndGgpLG89W10sbD0wO2w8YTtsKyspb1tsXT0iJCIrbDtpZihpPUZ1bmN0aW9uKCJiaW5kZXIiLCJyZXR1cm4gZnVuY3Rpb24gKCIrSXIobywiLCIpKyIpeyByZXR1cm4gYmluZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsgfSIpKHMpLHQucHJvdG90eXBlKXt2YXIgZj1mdW5jdGlvbigpe307Zi5wcm90b3R5cGU9dC5wcm90b3R5cGUsaS5wcm90b3R5cGU9bmV3IGYsZi5wcm90b3R5cGU9bnVsbH1yZXR1cm4gaX0sa3I9VHIsJGU9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fGtyLE5yPUVycm9yLE1yPUV2YWxFcnJvcixqcj1SYW5nZUVycm9yLEJyPVJlZmVyZW5jZUVycm9yLEV0PVN5bnRheEVycm9yLGRlPVR5cGVFcnJvcixVcj1VUklFcnJvcixHcj1mdW5jdGlvbigpe2lmKHR5cGVvZiBTeW1ib2whPSJmdW5jdGlvbiJ8fHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzIT0iZnVuY3Rpb24iKXJldHVybiExO2lmKHR5cGVvZiBTeW1ib2wuaXRlcmF0b3I9PSJzeW1ib2wiKXJldHVybiEwO3ZhciBlPXt9LHQ9U3ltYm9sKCJ0ZXN0Iikscj1PYmplY3QodCk7aWYodHlwZW9mIHQ9PSJzdHJpbmcifHxPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkhPT0iW29iamVjdCBTeW1ib2xdInx8T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpIT09IltvYmplY3QgU3ltYm9sXSIpcmV0dXJuITE7dmFyIGk9NDI7ZVt0XT1pO2Zvcih0IGluIGUpcmV0dXJuITE7aWYodHlwZW9mIE9iamVjdC5rZXlzPT0iZnVuY3Rpb24iJiZPYmplY3Qua2V5cyhlKS5sZW5ndGghPT0wfHx0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM9PSJmdW5jdGlvbiImJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aCE9PTApcmV0dXJuITE7dmFyIHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtpZihzLmxlbmd0aCE9PTF8fHNbMF0hPT10fHwhT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsdCkpcmV0dXJuITE7aWYodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I9PSJmdW5jdGlvbiIpe3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KTtpZihhLnZhbHVlIT09aXx8YS5lbnVtZXJhYmxlIT09ITApcmV0dXJuITF9cmV0dXJuITB9LHJ0PXR5cGVvZiBTeW1ib2w8InUiJiZTeW1ib2wsSHI9R3IsS3I9ZnVuY3Rpb24oKXtyZXR1cm4gdHlwZW9mIHJ0IT0iZnVuY3Rpb24ifHx0eXBlb2YgU3ltYm9sIT0iZnVuY3Rpb24ifHx0eXBlb2YgcnQoImZvbyIpIT0ic3ltYm9sInx8dHlwZW9mIFN5bWJvbCgiYmFyIikhPSJzeW1ib2wiPyExOkhyKCl9LFBlPXtfX3Byb3RvX186bnVsbCxmb286e319LF9yPU9iamVjdCxWcj1mdW5jdGlvbigpe3JldHVybntfX3Byb3RvX186UGV9LmZvbz09PVBlLmZvbyYmIShQZSBpbnN0YW5jZW9mIF9yKX0sV3I9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsSnI9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSx6cj0kZSxRcj16ci5jYWxsKFdyLEpyKSxiLHFyPU5yLFlyPU1yLFpyPWpyLFhyPUJyLEg9RXQsRz1kZSxlbj1VcixEdD1GdW5jdGlvbix4ZT1mdW5jdGlvbihuKXt0cnl7cmV0dXJuIER0KCcidXNlIHN0cmljdCI7IHJldHVybiAoJytuKyIpLmNvbnN0cnVjdG9yOyIpKCl9Y2F0Y2h7fX0sVD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2lmKFQpdHJ5e1Qoe30sIiIpfWNhdGNoe1Q9bnVsbH12YXIgT2U9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgR30sdG49VD9mdW5jdGlvbigpe3RyeXtyZXR1cm4gYXJndW1lbnRzLmNhbGxlZSxPZX1jYXRjaHt0cnl7cmV0dXJuIFQoYXJndW1lbnRzLCJjYWxsZWUiKS5nZXR9Y2F0Y2h7cmV0dXJuIE9lfX19KCk6T2Usaj1LcigpLHJuPVZyKCksdz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fChybj9mdW5jdGlvbihuKXtyZXR1cm4gbi5fX3Byb3RvX199Om51bGwpLFU9e30sbm49dHlwZW9mIFVpbnQ4QXJyYXk+InUifHwhdz9iOncoVWludDhBcnJheSksaz17X19wcm90b19fOm51bGwsIiVBZ2dyZWdhdGVFcnJvciUiOnR5cGVvZiBBZ2dyZWdhdGVFcnJvcj4idSI/YjpBZ2dyZWdhdGVFcnJvciwiJUFycmF5JSI6QXJyYXksIiVBcnJheUJ1ZmZlciUiOnR5cGVvZiBBcnJheUJ1ZmZlcj4idSI/YjpBcnJheUJ1ZmZlciwiJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlIjpqJiZ3P3coW11bU3ltYm9sLml0ZXJhdG9yXSgpKTpiLCIlQXN5bmNGcm9tU3luY0l0ZXJhdG9yUHJvdG90eXBlJSI6YiwiJUFzeW5jRnVuY3Rpb24lIjpVLCIlQXN5bmNHZW5lcmF0b3IlIjpVLCIlQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUiOlUsIiVBc3luY0l0ZXJhdG9yUHJvdG90eXBlJSI6VSwiJUF0b21pY3MlIjp0eXBlb2YgQXRvbWljcz4idSI/YjpBdG9taWNzLCIlQmlnSW50JSI6dHlwZW9mIEJpZ0ludD4idSI/YjpCaWdJbnQsIiVCaWdJbnQ2NEFycmF5JSI6dHlwZW9mIEJpZ0ludDY0QXJyYXk+InUiP2I6QmlnSW50NjRBcnJheSwiJUJpZ1VpbnQ2NEFycmF5JSI6dHlwZW9mIEJpZ1VpbnQ2NEFycmF5PiJ1Ij9iOkJpZ1VpbnQ2NEFycmF5LCIlQm9vbGVhbiUiOkJvb2xlYW4sIiVEYXRhVmlldyUiOnR5cGVvZiBEYXRhVmlldz4idSI/YjpEYXRhVmlldywiJURhdGUlIjpEYXRlLCIlZGVjb2RlVVJJJSI6ZGVjb2RlVVJJLCIlZGVjb2RlVVJJQ29tcG9uZW50JSI6ZGVjb2RlVVJJQ29tcG9uZW50LCIlZW5jb2RlVVJJJSI6ZW5jb2RlVVJJLCIlZW5jb2RlVVJJQ29tcG9uZW50JSI6ZW5jb2RlVVJJQ29tcG9uZW50LCIlRXJyb3IlIjpxciwiJWV2YWwlIjpldmFsLCIlRXZhbEVycm9yJSI6WXIsIiVGbG9hdDMyQXJyYXklIjp0eXBlb2YgRmxvYXQzMkFycmF5PiJ1Ij9iOkZsb2F0MzJBcnJheSwiJUZsb2F0NjRBcnJheSUiOnR5cGVvZiBGbG9hdDY0QXJyYXk+InUiP2I6RmxvYXQ2NEFycmF5LCIlRmluYWxpemF0aW9uUmVnaXN0cnklIjp0eXBlb2YgRmluYWxpemF0aW9uUmVnaXN0cnk+InUiP2I6RmluYWxpemF0aW9uUmVnaXN0cnksIiVGdW5jdGlvbiUiOkR0LCIlR2VuZXJhdG9yRnVuY3Rpb24lIjpVLCIlSW50OEFycmF5JSI6dHlwZW9mIEludDhBcnJheT4idSI/YjpJbnQ4QXJyYXksIiVJbnQxNkFycmF5JSI6dHlwZW9mIEludDE2QXJyYXk+InUiP2I6SW50MTZBcnJheSwiJUludDMyQXJyYXklIjp0eXBlb2YgSW50MzJBcnJheT4idSI/YjpJbnQzMkFycmF5LCIlaXNGaW5pdGUlIjppc0Zpbml0ZSwiJWlzTmFOJSI6aXNOYU4sIiVJdGVyYXRvclByb3RvdHlwZSUiOmomJnc/dyh3KFtdW1N5bWJvbC5pdGVyYXRvcl0oKSkpOmIsIiVKU09OJSI6dHlwZW9mIEpTT049PSJvYmplY3QiP0pTT046YiwiJU1hcCUiOnR5cGVvZiBNYXA+InUiP2I6TWFwLCIlTWFwSXRlcmF0b3JQcm90b3R5cGUlIjp0eXBlb2YgTWFwPiJ1Inx8IWp8fCF3P2I6dyhuZXcgTWFwKClbU3ltYm9sLml0ZXJhdG9yXSgpKSwiJU1hdGglIjpNYXRoLCIlTnVtYmVyJSI6TnVtYmVyLCIlT2JqZWN0JSI6T2JqZWN0LCIlcGFyc2VGbG9hdCUiOnBhcnNlRmxvYXQsIiVwYXJzZUludCUiOnBhcnNlSW50LCIlUHJvbWlzZSUiOnR5cGVvZiBQcm9taXNlPiJ1Ij9iOlByb21pc2UsIiVQcm94eSUiOnR5cGVvZiBQcm94eT4idSI/YjpQcm94eSwiJVJhbmdlRXJyb3IlIjpaciwiJVJlZmVyZW5jZUVycm9yJSI6WHIsIiVSZWZsZWN0JSI6dHlwZW9mIFJlZmxlY3Q+InUiP2I6UmVmbGVjdCwiJVJlZ0V4cCUiOlJlZ0V4cCwiJVNldCUiOnR5cGVvZiBTZXQ+InUiP2I6U2V0LCIlU2V0SXRlcmF0b3JQcm90b3R5cGUlIjp0eXBlb2YgU2V0PiJ1Inx8IWp8fCF3P2I6dyhuZXcgU2V0KClbU3ltYm9sLml0ZXJhdG9yXSgpKSwiJVNoYXJlZEFycmF5QnVmZmVyJSI6dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPiJ1Ij9iOlNoYXJlZEFycmF5QnVmZmVyLCIlU3RyaW5nJSI6U3RyaW5nLCIlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlIjpqJiZ3P3coIiJbU3ltYm9sLml0ZXJhdG9yXSgpKTpiLCIlU3ltYm9sJSI6aj9TeW1ib2w6YiwiJVN5bnRheEVycm9yJSI6SCwiJVRocm93VHlwZUVycm9yJSI6dG4sIiVUeXBlZEFycmF5JSI6bm4sIiVUeXBlRXJyb3IlIjpHLCIlVWludDhBcnJheSUiOnR5cGVvZiBVaW50OEFycmF5PiJ1Ij9iOlVpbnQ4QXJyYXksIiVVaW50OENsYW1wZWRBcnJheSUiOnR5cGVvZiBVaW50OENsYW1wZWRBcnJheT4idSI/YjpVaW50OENsYW1wZWRBcnJheSwiJVVpbnQxNkFycmF5JSI6dHlwZW9mIFVpbnQxNkFycmF5PiJ1Ij9iOlVpbnQxNkFycmF5LCIlVWludDMyQXJyYXklIjp0eXBlb2YgVWludDMyQXJyYXk+InUiP2I6VWludDMyQXJyYXksIiVVUklFcnJvciUiOmVuLCIlV2Vha01hcCUiOnR5cGVvZiBXZWFrTWFwPiJ1Ij9iOldlYWtNYXAsIiVXZWFrUmVmJSI6dHlwZW9mIFdlYWtSZWY+InUiP2I6V2Vha1JlZiwiJVdlYWtTZXQlIjp0eXBlb2YgV2Vha1NldD4idSI/YjpXZWFrU2V0fTtpZih3KXRyeXtudWxsLmVycm9yfWNhdGNoKG4pe3ZhciBzbj13KHcobikpO2tbIiVFcnJvci5wcm90b3R5cGUlIl09c259dmFyIGFuPWZ1bmN0aW9uIG4oZSl7dmFyIHQ7aWYoZT09PSIlQXN5bmNGdW5jdGlvbiUiKXQ9eGUoImFzeW5jIGZ1bmN0aW9uICgpIHt9Iik7ZWxzZSBpZihlPT09IiVHZW5lcmF0b3JGdW5jdGlvbiUiKXQ9eGUoImZ1bmN0aW9uKiAoKSB7fSIpO2Vsc2UgaWYoZT09PSIlQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUiKXQ9eGUoImFzeW5jIGZ1bmN0aW9uKiAoKSB7fSIpO2Vsc2UgaWYoZT09PSIlQXN5bmNHZW5lcmF0b3IlIil7dmFyIHI9bigiJUFzeW5jR2VuZXJhdG9yRnVuY3Rpb24lIik7ciYmKHQ9ci5wcm90b3R5cGUpfWVsc2UgaWYoZT09PSIlQXN5bmNJdGVyYXRvclByb3RvdHlwZSUiKXt2YXIgaT1uKCIlQXN5bmNHZW5lcmF0b3IlIik7aSYmdyYmKHQ9dyhpLnByb3RvdHlwZSkpfXJldHVybiBrW2VdPXQsdH0sbnQ9e19fcHJvdG9fXzpudWxsLCIlQXJyYXlCdWZmZXJQcm90b3R5cGUlIjpbIkFycmF5QnVmZmVyIiwicHJvdG90eXBlIl0sIiVBcnJheVByb3RvdHlwZSUiOlsiQXJyYXkiLCJwcm90b3R5cGUiXSwiJUFycmF5UHJvdG9fZW50cmllcyUiOlsiQXJyYXkiLCJwcm90b3R5cGUiLCJlbnRyaWVzIl0sIiVBcnJheVByb3RvX2ZvckVhY2glIjpbIkFycmF5IiwicHJvdG90eXBlIiwiZm9yRWFjaCJdLCIlQXJyYXlQcm90b19rZXlzJSI6WyJBcnJheSIsInByb3RvdHlwZSIsImtleXMiXSwiJUFycmF5UHJvdG9fdmFsdWVzJSI6WyJBcnJheSIsInByb3RvdHlwZSIsInZhbHVlcyJdLCIlQXN5bmNGdW5jdGlvblByb3RvdHlwZSUiOlsiQXN5bmNGdW5jdGlvbiIsInByb3RvdHlwZSJdLCIlQXN5bmNHZW5lcmF0b3IlIjpbIkFzeW5jR2VuZXJhdG9yRnVuY3Rpb24iLCJwcm90b3R5cGUiXSwiJUFzeW5jR2VuZXJhdG9yUHJvdG90eXBlJSI6WyJBc3luY0dlbmVyYXRvckZ1bmN0aW9uIiwicHJvdG90eXBlIiwicHJvdG90eXBlIl0sIiVCb29sZWFuUHJvdG90eXBlJSI6WyJCb29sZWFuIiwicHJvdG90eXBlIl0sIiVEYXRhVmlld1Byb3RvdHlwZSUiOlsiRGF0YVZpZXciLCJwcm90b3R5cGUiXSwiJURhdGVQcm90b3R5cGUlIjpbIkRhdGUiLCJwcm90b3R5cGUiXSwiJUVycm9yUHJvdG90eXBlJSI6WyJFcnJvciIsInByb3RvdHlwZSJdLCIlRXZhbEVycm9yUHJvdG90eXBlJSI6WyJFdmFsRXJyb3IiLCJwcm90b3R5cGUiXSwiJUZsb2F0MzJBcnJheVByb3RvdHlwZSUiOlsiRmxvYXQzMkFycmF5IiwicHJvdG90eXBlIl0sIiVGbG9hdDY0QXJyYXlQcm90b3R5cGUlIjpbIkZsb2F0NjRBcnJheSIsInByb3RvdHlwZSJdLCIlRnVuY3Rpb25Qcm90b3R5cGUlIjpbIkZ1bmN0aW9uIiwicHJvdG90eXBlIl0sIiVHZW5lcmF0b3IlIjpbIkdlbmVyYXRvckZ1bmN0aW9uIiwicHJvdG90eXBlIl0sIiVHZW5lcmF0b3JQcm90b3R5cGUlIjpbIkdlbmVyYXRvckZ1bmN0aW9uIiwicHJvdG90eXBlIiwicHJvdG90eXBlIl0sIiVJbnQ4QXJyYXlQcm90b3R5cGUlIjpbIkludDhBcnJheSIsInByb3RvdHlwZSJdLCIlSW50MTZBcnJheVByb3RvdHlwZSUiOlsiSW50MTZBcnJheSIsInByb3RvdHlwZSJdLCIlSW50MzJBcnJheVByb3RvdHlwZSUiOlsiSW50MzJBcnJheSIsInByb3RvdHlwZSJdLCIlSlNPTlBhcnNlJSI6WyJKU09OIiwicGFyc2UiXSwiJUpTT05TdHJpbmdpZnklIjpbIkpTT04iLCJzdHJpbmdpZnkiXSwiJU1hcFByb3RvdHlwZSUiOlsiTWFwIiwicHJvdG90eXBlIl0sIiVOdW1iZXJQcm90b3R5cGUlIjpbIk51bWJlciIsInByb3RvdHlwZSJdLCIlT2JqZWN0UHJvdG90eXBlJSI6WyJPYmplY3QiLCJwcm90b3R5cGUiXSwiJU9ialByb3RvX3RvU3RyaW5nJSI6WyJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyJdLCIlT2JqUHJvdG9fdmFsdWVPZiUiOlsiT2JqZWN0IiwicHJvdG90eXBlIiwidmFsdWVPZiJdLCIlUHJvbWlzZVByb3RvdHlwZSUiOlsiUHJvbWlzZSIsInByb3RvdHlwZSJdLCIlUHJvbWlzZVByb3RvX3RoZW4lIjpbIlByb21pc2UiLCJwcm90b3R5cGUiLCJ0aGVuIl0sIiVQcm9taXNlX2FsbCUiOlsiUHJvbWlzZSIsImFsbCJdLCIlUHJvbWlzZV9yZWplY3QlIjpbIlByb21pc2UiLCJyZWplY3QiXSwiJVByb21pc2VfcmVzb2x2ZSUiOlsiUHJvbWlzZSIsInJlc29sdmUiXSwiJVJhbmdlRXJyb3JQcm90b3R5cGUlIjpbIlJhbmdlRXJyb3IiLCJwcm90b3R5cGUiXSwiJVJlZmVyZW5jZUVycm9yUHJvdG90eXBlJSI6WyJSZWZlcmVuY2VFcnJvciIsInByb3RvdHlwZSJdLCIlUmVnRXhwUHJvdG90eXBlJSI6WyJSZWdFeHAiLCJwcm90b3R5cGUiXSwiJVNldFByb3RvdHlwZSUiOlsiU2V0IiwicHJvdG90eXBlIl0sIiVTaGFyZWRBcnJheUJ1ZmZlclByb3RvdHlwZSUiOlsiU2hhcmVkQXJyYXlCdWZmZXIiLCJwcm90b3R5cGUiXSwiJVN0cmluZ1Byb3RvdHlwZSUiOlsiU3RyaW5nIiwicHJvdG90eXBlIl0sIiVTeW1ib2xQcm90b3R5cGUlIjpbIlN5bWJvbCIsInByb3RvdHlwZSJdLCIlU3ludGF4RXJyb3JQcm90b3R5cGUlIjpbIlN5bnRheEVycm9yIiwicHJvdG90eXBlIl0sIiVUeXBlZEFycmF5UHJvdG90eXBlJSI6WyJUeXBlZEFycmF5IiwicHJvdG90eXBlIl0sIiVUeXBlRXJyb3JQcm90b3R5cGUlIjpbIlR5cGVFcnJvciIsInByb3RvdHlwZSJdLCIlVWludDhBcnJheVByb3RvdHlwZSUiOlsiVWludDhBcnJheSIsInByb3RvdHlwZSJdLCIlVWludDhDbGFtcGVkQXJyYXlQcm90b3R5cGUlIjpbIlVpbnQ4Q2xhbXBlZEFycmF5IiwicHJvdG90eXBlIl0sIiVVaW50MTZBcnJheVByb3RvdHlwZSUiOlsiVWludDE2QXJyYXkiLCJwcm90b3R5cGUiXSwiJVVpbnQzMkFycmF5UHJvdG90eXBlJSI6WyJVaW50MzJBcnJheSIsInByb3RvdHlwZSJdLCIlVVJJRXJyb3JQcm90b3R5cGUlIjpbIlVSSUVycm9yIiwicHJvdG90eXBlIl0sIiVXZWFrTWFwUHJvdG90eXBlJSI6WyJXZWFrTWFwIiwicHJvdG90eXBlIl0sIiVXZWFrU2V0UHJvdG90eXBlJSI6WyJXZWFrU2V0IiwicHJvdG90eXBlIl19LHE9JGUsZmU9UXIsb249cS5jYWxsKEZ1bmN0aW9uLmNhbGwsQXJyYXkucHJvdG90eXBlLmNvbmNhdCksbG49cS5jYWxsKEZ1bmN0aW9uLmFwcGx5LEFycmF5LnByb3RvdHlwZS5zcGxpY2UpLGl0PXEuY2FsbChGdW5jdGlvbi5jYWxsLFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSksY2U9cS5jYWxsKEZ1bmN0aW9uLmNhbGwsU3RyaW5nLnByb3RvdHlwZS5zbGljZSksdW49cS5jYWxsKEZ1bmN0aW9uLmNhbGwsUmVnRXhwLnByb3RvdHlwZS5leGVjKSxmbj0vW14lLltcXV0rfFxbKD86KC0/XGQrKD86XC5cZCspPyl8KFsiJ10pKCg/Oig/IVwyKVteXFxdfFxcLikqPylcMilcXXwoPz0oPzpcLnxcW1xdKSg/OlwufFxbXF18JSQpKS9nLGNuPS9cXChcXCk/L2cscG49ZnVuY3Rpb24oZSl7dmFyIHQ9Y2UoZSwwLDEpLHI9Y2UoZSwtMSk7aWYodD09PSIlIiYmciE9PSIlIil0aHJvdyBuZXcgSCgiaW52YWxpZCBpbnRyaW5zaWMgc3ludGF4LCBleHBlY3RlZCBjbG9zaW5nIGAlYCIpO2lmKHI9PT0iJSImJnQhPT0iJSIpdGhyb3cgbmV3IEgoImludmFsaWQgaW50cmluc2ljIHN5bnRheCwgZXhwZWN0ZWQgb3BlbmluZyBgJWAiKTt2YXIgaT1bXTtyZXR1cm4gaXQoZSxmbixmdW5jdGlvbihzLGEsbyxsKXtpW2kubGVuZ3RoXT1vP2l0KGwsY24sIiQxIik6YXx8c30pLGl9LGduPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSxpO2lmKGZlKG50LHIpJiYoaT1udFtyXSxyPSIlIitpWzBdKyIlIiksZmUoayxyKSl7dmFyIHM9a1tyXTtpZihzPT09VSYmKHM9YW4ocikpLHR5cGVvZiBzPiJ1IiYmIXQpdGhyb3cgbmV3IEcoImludHJpbnNpYyAiK2UrIiBleGlzdHMsIGJ1dCBpcyBub3QgYXZhaWxhYmxlLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZSEiKTtyZXR1cm57YWxpYXM6aSxuYW1lOnIsdmFsdWU6c319dGhyb3cgbmV3IEgoImludHJpbnNpYyAiK2UrIiBkb2VzIG5vdCBleGlzdCEiKX0sWT1mdW5jdGlvbihlLHQpe2lmKHR5cGVvZiBlIT0ic3RyaW5nInx8ZS5sZW5ndGg9PT0wKXRocm93IG5ldyBHKCJpbnRyaW5zaWMgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZyIpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSYmdHlwZW9mIHQhPSJib29sZWFuIil0aHJvdyBuZXcgRygnImFsbG93TWlzc2luZyIgYXJndW1lbnQgbXVzdCBiZSBhIGJvb2xlYW4nKTtpZih1bigvXiU/W14lXSolPyQvLGUpPT09bnVsbCl0aHJvdyBuZXcgSCgiYCVgIG1heSBub3QgYmUgcHJlc2VudCBhbnl3aGVyZSBidXQgYXQgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIHRoZSBpbnRyaW5zaWMgbmFtZSIpO3ZhciByPXBuKGUpLGk9ci5sZW5ndGg+MD9yWzBdOiIiLHM9Z24oIiUiK2krIiUiLHQpLGE9cy5uYW1lLG89cy52YWx1ZSxsPSExLGY9cy5hbGlhcztmJiYoaT1mWzBdLGxuKHIsb24oWzAsMV0sZikpKTtmb3IodmFyIGM9MSxnPSEwO2M8ci5sZW5ndGg7Yys9MSl7dmFyIHU9cltjXSxwPWNlKHUsMCwxKSxkPWNlKHUsLTEpO2lmKChwPT09JyInfHxwPT09IicifHxwPT09ImAifHxkPT09JyInfHxkPT09IicifHxkPT09ImAiKSYmcCE9PWQpdGhyb3cgbmV3IEgoInByb3BlcnR5IG5hbWVzIHdpdGggcXVvdGVzIG11c3QgaGF2ZSBtYXRjaGluZyBxdW90ZXMiKTtpZigodT09PSJjb25zdHJ1Y3RvciJ8fCFnKSYmKGw9ITApLGkrPSIuIit1LGE9IiUiK2krIiUiLGZlKGssYSkpbz1rW2FdO2Vsc2UgaWYobyE9bnVsbCl7aWYoISh1IGluIG8pKXtpZighdCl0aHJvdyBuZXcgRygiYmFzZSBpbnRyaW5zaWMgZm9yICIrZSsiIGV4aXN0cywgYnV0IHRoZSBwcm9wZXJ0eSBpcyBub3QgYXZhaWxhYmxlLiIpO3JldHVybn1pZihUJiZjKzE+PXIubGVuZ3RoKXt2YXIgbT1UKG8sdSk7Zz0hIW0sZyYmImdldCJpbiBtJiYhKCJvcmlnaW5hbFZhbHVlImluIG0uZ2V0KT9vPW0uZ2V0Om89b1t1XX1lbHNlIGc9ZmUobyx1KSxvPW9bdV07ZyYmIWwmJihrW2FdPW8pfX1yZXR1cm4gb30sd2Usc3Q7ZnVuY3Rpb24gQ2UoKXtpZihzdClyZXR1cm4gd2U7c3Q9MTt2YXIgbj1ZLGU9bigiJU9iamVjdC5kZWZpbmVQcm9wZXJ0eSUiLCEwKXx8ITE7aWYoZSl0cnl7ZSh7fSwiYSIse3ZhbHVlOjF9KX1jYXRjaHtlPSExfXJldHVybiB3ZT1lLHdlfXZhciBobj1ZLGllPWhuKCIlT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciUiLCEwKTtpZihpZSl0cnl7aWUoW10sImxlbmd0aCIpfWNhdGNoe2llPW51bGx9dmFyIEx0PWllLGF0PUNlKCksZG49RXQsQj1kZSxvdD1MdCxtbj1mdW5jdGlvbihlLHQscil7aWYoIWV8fHR5cGVvZiBlIT0ib2JqZWN0IiYmdHlwZW9mIGUhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IEIoImBvYmpgIG11c3QgYmUgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb25gIik7aWYodHlwZW9mIHQhPSJzdHJpbmciJiZ0eXBlb2YgdCE9InN5bWJvbCIpdGhyb3cgbmV3IEIoImBwcm9wZXJ0eWAgbXVzdCBiZSBhIHN0cmluZyBvciBhIHN5bWJvbGAiKTtpZihhcmd1bWVudHMubGVuZ3RoPjMmJnR5cGVvZiBhcmd1bWVudHNbM10hPSJib29sZWFuIiYmYXJndW1lbnRzWzNdIT09bnVsbCl0aHJvdyBuZXcgQigiYG5vbkVudW1lcmFibGVgLCBpZiBwcm92aWRlZCwgbXVzdCBiZSBhIGJvb2xlYW4gb3IgbnVsbCIpO2lmKGFyZ3VtZW50cy5sZW5ndGg+NCYmdHlwZW9mIGFyZ3VtZW50c1s0XSE9ImJvb2xlYW4iJiZhcmd1bWVudHNbNF0hPT1udWxsKXRocm93IG5ldyBCKCJgbm9uV3JpdGFibGVgLCBpZiBwcm92aWRlZCwgbXVzdCBiZSBhIGJvb2xlYW4gb3IgbnVsbCIpO2lmKGFyZ3VtZW50cy5sZW5ndGg+NSYmdHlwZW9mIGFyZ3VtZW50c1s1XSE9ImJvb2xlYW4iJiZhcmd1bWVudHNbNV0hPT1udWxsKXRocm93IG5ldyBCKCJgbm9uQ29uZmlndXJhYmxlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIG9yIG51bGwiKTtpZihhcmd1bWVudHMubGVuZ3RoPjYmJnR5cGVvZiBhcmd1bWVudHNbNl0hPSJib29sZWFuIil0aHJvdyBuZXcgQigiYGxvb3NlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIik7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTpudWxsLHM9YXJndW1lbnRzLmxlbmd0aD40P2FyZ3VtZW50c1s0XTpudWxsLGE9YXJndW1lbnRzLmxlbmd0aD41P2FyZ3VtZW50c1s1XTpudWxsLG89YXJndW1lbnRzLmxlbmd0aD42P2FyZ3VtZW50c1s2XTohMSxsPSEhb3QmJm90KGUsdCk7aWYoYXQpYXQoZSx0LHtjb25maWd1cmFibGU6YT09PW51bGwmJmw/bC5jb25maWd1cmFibGU6IWEsZW51bWVyYWJsZTppPT09bnVsbCYmbD9sLmVudW1lcmFibGU6IWksdmFsdWU6cix3cml0YWJsZTpzPT09bnVsbCYmbD9sLndyaXRhYmxlOiFzfSk7ZWxzZSBpZihvfHwhaSYmIXMmJiFhKWVbdF09cjtlbHNlIHRocm93IG5ldyBkbigiVGhpcyBlbnZpcm9ubWVudCBkb2VzIG5vdCBzdXBwb3J0IGRlZmluaW5nIGEgcHJvcGVydHkgYXMgbm9uLWNvbmZpZ3VyYWJsZSwgbm9uLXdyaXRhYmxlLCBvciBub24tZW51bWVyYWJsZS4iKX0sRmU9Q2UoKSxGdD1mdW5jdGlvbigpe3JldHVybiEhRmV9O0Z0Lmhhc0FycmF5TGVuZ3RoRGVmaW5lQnVnPWZ1bmN0aW9uKCl7aWYoIUZlKXJldHVybiBudWxsO3RyeXtyZXR1cm4gRmUoW10sImxlbmd0aCIse3ZhbHVlOjF9KS5sZW5ndGghPT0xfWNhdGNoe3JldHVybiEwfX07dmFyIHluPUZ0LGJuPVksbHQ9bW4sdm49eW4oKSx1dD1MdCxmdD1kZSxTbj1ibigiJU1hdGguZmxvb3IlIiksUG49ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgZSE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgZnQoImBmbmAgaXMgbm90IGEgZnVuY3Rpb24iKTtpZih0eXBlb2YgdCE9Im51bWJlciJ8fHQ8MHx8dD40Mjk0OTY3Mjk1fHxTbih0KSE9PXQpdGhyb3cgbmV3IGZ0KCJgbGVuZ3RoYCBtdXN0IGJlIGEgcG9zaXRpdmUgMzItYml0IGludGVnZXIiKTt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJiEhYXJndW1lbnRzWzJdLGk9ITAscz0hMDtpZigibGVuZ3RoImluIGUmJnV0KXt2YXIgYT11dChlLCJsZW5ndGgiKTthJiYhYS5jb25maWd1cmFibGUmJihpPSExKSxhJiYhYS53cml0YWJsZSYmKHM9ITEpfXJldHVybihpfHxzfHwhcikmJih2bj9sdChlLCJsZW5ndGgiLHQsITAsITApOmx0KGUsImxlbmd0aCIsdCkpLGV9OyhmdW5jdGlvbihuKXt2YXIgZT0kZSx0PVkscj1QbixpPWRlLHM9dCgiJUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSUiKSxhPXQoIiVGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCUiKSxvPXQoIiVSZWZsZWN0LmFwcGx5JSIsITApfHxlLmNhbGwoYSxzKSxsPUNlKCksZj10KCIlTWF0aC5tYXglIik7bi5leHBvcnRzPWZ1bmN0aW9uKHUpe2lmKHR5cGVvZiB1IT0iZnVuY3Rpb24iKXRocm93IG5ldyBpKCJhIGZ1bmN0aW9uIGlzIHJlcXVpcmVkIik7dmFyIHA9byhlLGEsYXJndW1lbnRzKTtyZXR1cm4gcihwLDErZigwLHUubGVuZ3RoLShhcmd1bWVudHMubGVuZ3RoLTEpKSwhMCl9O3ZhciBjPWZ1bmN0aW9uKCl7cmV0dXJuIG8oZSxzLGFyZ3VtZW50cyl9O2w/bChuLmV4cG9ydHMsImFwcGx5Iix7dmFsdWU6Y30pOm4uZXhwb3J0cy5hcHBseT1jfSkoQXQpO3ZhciAkdD1BdC5leHBvcnRzLEN0PVksSXQ9JHQseG49SXQoQ3QoIlN0cmluZy5wcm90b3R5cGUuaW5kZXhPZiIpKSxPbj1mdW5jdGlvbihlLHQpe3ZhciByPUN0KGUsISF0KTtyZXR1cm4gdHlwZW9mIHI9PSJmdW5jdGlvbiImJnhuKGUsIi5wcm90b3R5cGUuIik+LTE/SXQocik6cn0sdGU9KHR5cGVvZiBKU09OPCJ1Ij9KU09OOlByKCkpLnN0cmluZ2lmeSx3bj1PcixSbj1FcixBbj0kdCxUdD1PbixjdD1UdCgiQXJyYXkucHJvdG90eXBlLmpvaW4iKSxSZT1UdCgiQXJyYXkucHJvdG90eXBlLnB1c2giKSxwdD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0iIixpPTA7aTxlO2krPTEpcis9dDtyZXR1cm4gcn0sRW49ZnVuY3Rpb24obixlLHQpe3JldHVybiB0fSxEbj1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxyPXQmJnQuc3BhY2V8fCIiO3R5cGVvZiByPT0ibnVtYmVyIiYmKHI9cHQociwiICIpKTt2YXIgaT0hIXQmJnR5cGVvZiB0LmN5Y2xlcz09ImJvb2xlYW4iJiZ0LmN5Y2xlcyxzPXQmJnQucmVwbGFjZXI/QW4odC5yZXBsYWNlcik6RW4sYT10eXBlb2YgdD09ImZ1bmN0aW9uIj90OnQmJnQuY21wLG89YSYmZnVuY3Rpb24oZil7dmFyIGM9YS5sZW5ndGg+MiYmZnVuY3Rpb24odSl7cmV0dXJuIGZbdV19O3JldHVybiBmdW5jdGlvbihnLHUpe3JldHVybiBhKHtrZXk6Zyx2YWx1ZTpmW2ddfSx7a2V5OnUsdmFsdWU6Zlt1XX0sYz97X19wcm90b19fOm51bGwsZ2V0OmN9OnZvaWQgMCl9fSxsPVtdO3JldHVybiBmdW5jdGlvbiBmKGMsZyx1LHApe3ZhciBkPXI/YApgK3B0KHAscik6IiIsbT1yPyI6ICI6IjoiO2lmKHUmJnUudG9KU09OJiZ0eXBlb2YgdS50b0pTT049PSJmdW5jdGlvbiImJih1PXUudG9KU09OKCkpLHU9cyhjLGcsdSksdSE9PXZvaWQgMCl7aWYodHlwZW9mIHUhPSJvYmplY3QifHx1PT09bnVsbClyZXR1cm4gdGUodSk7aWYod24odSkpe2Zvcih2YXIgTz1bXSx5PTA7eTx1Lmxlbmd0aDt5Kyspe3ZhciB4PWYodSx5LHVbeV0scCsxKXx8dGUobnVsbCk7UmUoTyxkK3IreCl9cmV0dXJuIlsiK2N0KE8sIiwiKStkKyJdIn1pZihsLmluZGV4T2YodSkhPT0tMSl7aWYoaSlyZXR1cm4gdGUoIl9fY3ljbGVfXyIpO3Rocm93IG5ldyBUeXBlRXJyb3IoIkNvbnZlcnRpbmcgY2lyY3VsYXIgc3RydWN0dXJlIHRvIEpTT04iKX1lbHNlIFJlKGwsdSk7Zm9yKHZhciBTPVJuKHUpLnNvcnQobyYmbyh1KSksTz1bXSx5PTA7eTxTLmxlbmd0aDt5Kyspe3ZhciBnPVNbeV0sdj1mKHUsZyx1W2ddLHArMSk7aWYodil7dmFyIFA9dGUoZykrbSt2O1JlKE8sZCtyK1ApfX1yZXR1cm4gbC5zcGxpY2UobC5pbmRleE9mKHUpLDEpLCJ7IitjdChPLCIsIikrZCsifSJ9fSh7IiI6ZX0sIiIsZSwwKX0sTG49YnIoRG4pLEE9W107Zm9yKHZhciBBZT0wO0FlPDI1NjsrK0FlKUEucHVzaCgoQWUrMjU2KS50b1N0cmluZygxNikuc2xpY2UoMSkpO2Z1bmN0aW9uIEZuKG4sZT0wKXtyZXR1cm4oQVtuW2UrMF1dK0FbbltlKzFdXStBW25bZSsyXV0rQVtuW2UrM11dKyItIitBW25bZSs0XV0rQVtuW2UrNV1dKyItIitBW25bZSs2XV0rQVtuW2UrN11dKyItIitBW25bZSs4XV0rQVtuW2UrOV1dKyItIitBW25bZSsxMF1dK0FbbltlKzExXV0rQVtuW2UrMTJdXStBW25bZSsxM11dK0FbbltlKzE0XV0rQVtuW2UrMTVdXSkudG9Mb3dlckNhc2UoKX12YXIgcmUsJG49bmV3IFVpbnQ4QXJyYXkoMTYpO2Z1bmN0aW9uIENuKCl7aWYoIXJlJiYocmU9dHlwZW9mIGNyeXB0bzwidSImJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pLCFyZSkpdGhyb3cgbmV3IEVycm9yKCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCIpO3JldHVybiByZSgkbil9dmFyIEluPXR5cGVvZiBjcnlwdG88InUiJiZjcnlwdG8ucmFuZG9tVVVJRCYmY3J5cHRvLnJhbmRvbVVVSUQuYmluZChjcnlwdG8pLGd0PXtyYW5kb21VVUlEOklufTtmdW5jdGlvbiBodChuLGUsdCl7aWYoZ3QucmFuZG9tVVVJRCYmIWUmJiFuKXJldHVybiBndC5yYW5kb21VVUlEKCk7bj1ufHx7fTt2YXIgcj1uLnJhbmRvbXx8KG4ucm5nfHxDbikoKTtyZXR1cm4gcls2XT1yWzZdJjE1fDY0LHJbOF09cls4XSY2M3wxMjgsRm4ocil9Y29uc3Qga3Q9e2Nsb25lKG4pe3JldHVybiBuJiZKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG4pKX0sb2JqZWN0SGFzaChuKXtyZXR1cm4gTG4obil9LHN1bUFycmF5Om49Pm4ucmVkdWNlKChlLHQpPT5lK3QsMCkscHJlY2lzaW9uUm91bmQ6KG4sZT01KT0+e2NvbnN0IHQ9TWF0aC5wb3coMTAsZSk7cmV0dXJuIE1hdGgucm91bmQobip0KS90fSxjYWxjdWxhdGVSZWxpY01haW5TdGF0VmFsdWU6KG4sZSx0KT0+TmUuTWFpblN0YXRzVmFsdWVzW25dW2VdLmJhc2UrTmUuTWFpblN0YXRzVmFsdWVzW25dW2VdLmluY3JlbWVudCp0LHdyYXBwZWRGaXhlZFQ6bj0+KHtnZXQ6bj9FLmdldEZpeGVkVDpUbn0pLGZsaXBTdHJpbmdNYXBwaW5nOm49Pk9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhuKS5tYXAoKFtlLHRdKT0+W3QsZV0pKSx1dWlkOigpPT5odCgpLHV1aWRBbHBoYU9ubHk6KCk9Pmh0KCkucmVwbGFjZSgvW15hLXpBLVowLTldL2csIiIpLHN0cmlwVHJhaWxpbmdTbGFzaGVzOm49Pm4ucmVwbGFjZSgvXC8rJC8sIiIpLHNsZWVwOm49Pm5ldyBQcm9taXNlKGU9PnNldFRpbWVvdXQoZSxuKSksY29uc29sZVdhcm5XcmFwcGVyOm49PntuIGluc3RhbmNlb2YgRXJyb3I/Y29uc29sZS53YXJuKG4ubmFtZSxuLm1lc3NhZ2UpOmNvbnNvbGUud2FybigiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCIsbil9LHZhbGlkYXRlVXVpZDpuPT57Y29uc3QgZT1uLnRyaW0oKTtyZXR1cm4vXlxkezl9JC8udGVzdChlKT9lOm51bGx9LHNtb290aFNjcm9sbE5lYXJlc3Q6KG4sZT0zMDApPT57Y29uc3QgdD1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHI9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHxkb2N1bWVudC5ib2R5LGk9ci5zY3JvbGxUb3Ascz10LnRvcCtpLGE9dC5ib3R0b20raSxvPXIuY2xpZW50SGVpZ2h0O2xldCBsO2lmKHQudG9wPDApbD1zO2Vsc2UgaWYodC5ib3R0b20+bylsPWEtbys1O2Vsc2UgcmV0dXJuO2NvbnN0IGY9cGVyZm9ybWFuY2Uubm93KCksYz1pLGc9bC1jO2Z1bmN0aW9uIHUocCl7Y29uc3QgZD1wLWYsbT1NYXRoLm1pbihkL2UsMSkseT1tPC41PzIqbSptOjEtTWF0aC5wb3coLTIqbSsyLDIpLzI7ci5zY3JvbGxUbygwLGMrZyp5KSxkPGUmJnJlcXVlc3RBbmltYXRpb25GcmFtZSh1KX1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodSl9fSxUbj0oKT0+KCk9PiIiLGR0PTEwMDtmdW5jdGlvbiBtdChuLGUpe3JldHVybiBrbihuLGUpfWZ1bmN0aW9uIHl0KG4sZSl7cmV0dXJuWy4uLm4uZW50cmllcygpXS5maWx0ZXIoKFt0LHJdKT0+a3QucHJlY2lzaW9uUm91bmQodCk+ZSkucmVkdWNlKCh0LFtyLGldKT0+dCtpLDApfWZ1bmN0aW9uIGtuKG4sZSl7Y29uc3QgdD1uLm1hcChnPT5NYXRoLmZsb29yKGcqZHQpKSxyPTEwLGk9c2UoWy44LC45LDFdLm1hcChnPT5nKnIpKSxzPWJ0KHQubWFwKGc9PnNlKFsuLi5pLmtleXMoKV0ubWFwKHU9PmcqdSkpKSksYT1ObihzZSh0KSxpKSxvPWJ0KEFycmF5KGUpLmZpbGwoYSkpLGw9TXQocyxvKSxmPWR0KnIsYz1uZXcgTWFwO2Zvcihjb25zdFtnLHVdb2YgbCljLnNldChnL2YsdSk7cmV0dXJuIGN9ZnVuY3Rpb24gYnQobil7cmV0dXJuIG4ucmVkdWNlKChlLHQpPT5NdChlLHQpLHNlKFswXSkpfWZ1bmN0aW9uIE50KG4sZSx0KXtjb25zdCByPW5ldyBNYXA7Zm9yKGNvbnN0W2ksc11vZiBuKWZvcihjb25zdFthLG9db2YgZSl7Y29uc3QgbD10KGksYSksZj1yLmdldChsKTtmPT09dm9pZCAwP3Iuc2V0KGwscypvKTpyLnNldChsLGYrcypvKX1yZXR1cm4gcn1mdW5jdGlvbiBNdChuLGUpe3JldHVybiBOdChuLGUsKHQscik9PnQrcil9ZnVuY3Rpb24gTm4obixlKXtyZXR1cm4gTnQobixlLCh0LHIpPT50KnIpfWZ1bmN0aW9uIHNlKG4pe2NvbnN0IGU9bmV3IE1hcCx0PTEvbi5sZW5ndGg7Zm9yKGNvbnN0IHIgb2Ygbil7Y29uc3QgaT1lLmdldChyKTtpPT09dm9pZCAwP2Uuc2V0KHIsdCk6ZS5zZXQocixpK3QpfXJldHVybiBlfWZ1bmN0aW9uIE1uKG4sZSl7Y29uc3QgdD1rdC5wcmVjaXNpb25Sb3VuZChqbihuLGUpKSxyPUhuKCkqS24obi5wYXJ0KSpHbihuLnBhcnQsbi5tYWluLnN0YXQpO2xldCBpPTA7Zm9yKGNvbnN0IGMgb2YgVW4obi5tYWluLnN0YXQsNCkpe2NvbnN0IGc9X24obi5tYWluLnN0YXQsYyksdT1jLm1hcCh5PT55PT0iQVRLInx8eT09IkRFRiJ8fHk9PSJIUCI/LjQqZVt5XTplW3ldKSxwPXl0KG10KHUsNCksdCksZD15dChtdCh1LDUpLHQpLG09LjgqcCsuMipkO2krPWcqbX1jb25zdCBhPTEvKHIqaSksbz00MC8yLjE7cmV0dXJuIGEqby8yNDB9ZnVuY3Rpb24gam4obixlKXtsZXQgdD0wO2Zvcihjb25zdCByIG9mIG4uc3Vic3RhdHMpe2NvbnN0IGk9ci5zdGF0LHM9ci5yb2xsczt0Kz0ocy5sb3cqLjgrcy5taWQqLjkrcy5oaWdoKSpCbihpKSplW2ldfXJldHVybiB0fWZ1bmN0aW9uIEJuKG4pe3JldHVybiBuPT1oLkhQfHxuPT1oLkRFRnx8bj09aC5BVEs/LjQ6MX1mdW5jdGlvbiBVbihuLGUpe3JldHVybiBCdChTdC5maWx0ZXIodD0+dCE9biksZSl9ZnVuY3Rpb24gR24obixlKXtzd2l0Y2gobil7Y2FzZSJIZWFkIjpjYXNlIkhhbmRzIjpyZXR1cm4gMTtjYXNlIkJvZHkiOnN3aXRjaChlKXtjYXNlIkhQJSI6Y2FzZSJBVEslIjpjYXNlIkRFRiUiOnJldHVybiAuMjtjYXNlIkNSSVQgUmF0ZSI6Y2FzZSJDUklUIERNRyI6Y2FzZSJFZmZlY3QgSGl0IFJhdGUiOmNhc2UiT3V0Z29pbmcgSGVhbGluZyBCb29zdCI6cmV0dXJuIC4xO2RlZmF1bHQ6cmV0dXJuIDB9Y2FzZSJGZWV0Ijpzd2l0Y2goZSl7Y2FzZSJIUCUiOmNhc2UiQVRLJSI6Y2FzZSJERUYlIjpyZXR1cm4gLjM7Y2FzZSJTUEQiOnJldHVybiAuMTtkZWZhdWx0OnJldHVybiAwfWNhc2UiUGxhbmFyU3BoZXJlIjpzd2l0Y2goZSl7Y2FzZSJIUCUiOmNhc2UiQVRLJSI6Y2FzZSJERUYlIjpyZXR1cm4gLjEyO2Nhc2UiUGh5c2ljYWwgRE1HIEJvb3N0IjpjYXNlIkZpcmUgRE1HIEJvb3N0IjpjYXNlIkljZSBETUcgQm9vc3QiOmNhc2UiTGlnaHRuaW5nIERNRyBCb29zdCI6Y2FzZSJXaW5kIERNRyBCb29zdCI6Y2FzZSJRdWFudHVtIERNRyBCb29zdCI6Y2FzZSJJbWFnaW5hcnkgRE1HIEJvb3N0IjpyZXR1cm4gLjY0Lzc7ZGVmYXVsdDpyZXR1cm4gMH1jYXNlIkxpbmtSb3BlIjpzd2l0Y2goZSl7Y2FzZSJIUCUiOmNhc2UiQVRLJSI6Y2FzZSJERUYlIjpyZXR1cm4gLjgvMztjYXNlIkJyZWFrIEVmZmVjdCI6cmV0dXJuIC4xNTtjYXNlIkVuZXJneSBSZWdlbmVyYXRpb24gUmF0ZSI6cmV0dXJuIC4wNTtkZWZhdWx0OnJldHVybiAwfWRlZmF1bHQ6cmV0dXJuIGNvbnNvbGUuZXJyb3IoInVuZGVmaW5lZCBwYXJ0IiksMH19ZnVuY3Rpb24gSG4oKXtyZXR1cm4gMS8yfWZ1bmN0aW9uIEtuKG4pe3N3aXRjaChuKXtjYXNlIkhlYWQiOmNhc2UiSGFuZHMiOmNhc2UiQm9keSI6Y2FzZSJGZWV0IjpyZXR1cm4gMS80O2Nhc2UiUGxhbmFyU3BoZXJlIjpjYXNlIkxpbmtSb3BlIjpyZXR1cm4gMS8yO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUuZXJyb3IoInVua25vd24gcGFydCIpLDB9fWZ1bmN0aW9uIHZ0KG4pe3N3aXRjaChuKXtjYXNlIkhQJSI6Y2FzZSJBVEslIjpjYXNlIkRFRiUiOmNhc2UiSFAiOmNhc2UiQVRLIjpjYXNlIkRFRiI6cmV0dXJuIDEwO2Nhc2UiU1BEIjpyZXR1cm4gNDtjYXNlIkNSSVQgUmF0ZSI6Y2FzZSJDUklUIERNRyI6cmV0dXJuIDY7Y2FzZSJFZmZlY3QgSGl0IFJhdGUiOmNhc2UiRWZmZWN0IFJFUyI6Y2FzZSJCcmVhayBFZmZlY3QiOnJldHVybiA4O2RlZmF1bHQ6cmV0dXJuIDB9fWZ1bmN0aW9uIF9uKG4sZSl7bGV0IHQ9MDtmb3IoY29uc3QgciBvZiBqdChlLnNsaWNlKDAsTWF0aC5taW4oNCxlLmxlbmd0aCkpKSl7bGV0IGk9MTAwLXZ0KG4pLHM9MTtmb3IoY29uc3QgYSBvZiByKXtjb25zdCBvPXZ0KGEpO3MqPW8vaSxpLT1vfXQrPXN9cmV0dXJuIHR9ZnVuY3Rpb24qanQobil7aWYobi5sZW5ndGg8MilyZXR1cm4geWllbGQgbjtjb25zdFtlLC4uLnRdPW47Zm9yKGNvbnN0IHIgb2YganQodCkpZm9yKGNvbnN0IGkgb2Ygbi5rZXlzKCkpeWllbGRbLi4uci5zbGljZSgwLGkpLGUsLi4uci5zbGljZShpKV19ZnVuY3Rpb24qQnQobixlKXtpZihlPDEpcmV0dXJuIHlpZWxkW107Zm9yKGNvbnN0W3Qscl1vZiBuLmVudHJpZXMoKSlmb3IoY29uc3QgaSBvZiBCdChuLnNsaWNlKHQrMSksZS0xKSl5aWVsZFtyLC4uLmldfWZ1bmN0aW9uIFZuKG4pe2NvbnN0e3JlbGljOmUsd2VpZ2h0czp0fT1uLmRhdGEscj1NbihlLHQpO3NlbGYucG9zdE1lc3NhZ2Uoe2RheXM6cn0pfXZhciBVdD0obj0+KG5bbi5PUFRJTUlaRVI9MF09Ik9QVElNSVpFUiIsbltuLkVTVF9UQlA9MV09IkVTVF9UQlAiLG4pKShVdHx8e30pO3NlbGYub25tZXNzYWdlPWZ1bmN0aW9uKG4pe3N3aXRjaChuLmRhdGEud29ya2VyVHlwZSl7Y2FzZSBVdC5FU1RfVEJQOlZuKG4pO2JyZWFrfX07Cg==",q5=e=>Uint8Array.from(atob(e),t=>t.charCodeAt(0)),hc=typeof self<"u"&&self.Blob&&new Blob(["URL.revokeObjectURL(import.meta.url);",q5(mm)],{type:"text/javascript;charset=utf-8"});function eT(e){let t;try{if(t=hc&&(self.URL||self.webkitURL).createObjectURL(hc),!t)throw"";const n=new Worker(t,{type:"module",name:e==null?void 0:e.name});return n.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(t)}),n}catch{return new Worker("data:text/javascript;base64,"+mm,{type:"module",name:e==null?void 0:e.name})}}async function tT(e,t){const{displayRelics:n,weights:l}=e,s=[hi(n.Head,l),hi(n.Hands,l),hi(n.Body,l),hi(n.Feet,l),hi(n.PlanarSphere,l),hi(n.LinkRope,l)],o=await Promise.all(s),r={Head:o[0].days,Hands:o[1].days,Body:o[2].days,Feet:o[3].days,PlanarSphere:o[4].days,LinkRope:o[5].days};t(r)}const mo={days:0};function hi(e,t){return e?new Promise((n,l)=>{if(e.grade!=5)return n(mo);const s=new eT;Yu.calculateRelicSubstatRolls(e);const o={relic:e,weights:t,workerType:p0.EST_TBP};s.onmessage=r=>{const c=r.data;s.terminate(),n(c)},s.onerror=r=>{console.error("Worker error:",r),s.terminate(),n(mo)},s.postMessage(o)}):Promise.resolve(mo)}const bo={},pc={};let Sc="";const aT=e=>{K(["charactersTab","common"]);const[t,n]=E.useState(null),[l,s]=E.useState(!1),{simScoringResult:o,displayRelics:r,showcaseMetadata:c,scoringType:d}=e;if(E.useEffect(()=>{if(d!=ns&&o!=null)return;const b=c.characterId,p=I.getScoringMetadata(b),R={displayRelics:r,weights:p.stats};Sc=b;const G=B5(r,b),T=bo[G];if(T){T!=pc&&n(T);return}s(!0),bo[G]=pc,tT(R,C=>{const D=P5(r,C,p,b);bo[G]=D,Sc==b&&(n(D),s(!1))})},[r,c,d,o]),d!=ns&&o!=null)return i.jsx(i.Fragment,{});const u={display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridTemplateRows:"repeat(3, auto)",gap:"10px",width:"100%",marginTop:20};return i.jsxs(S,{vertical:!0,align:"center",children:[i.jsx("pre",{style:{fontSize:28,fontWeight:"bold",margin:0,textDecoration:"underline",marginTop:15},children:i.jsx(Pt,{text:"Stat Score Analysis",linkIcon:!0,url:"https://github.com/fribbels/hsr-optimizer/blob/main/docs/guides/en/stat-score.md"})}),l||!t?i.jsx(nT,{}):i.jsxs(S,{vertical:!0,gap:40,style:u,children:[i.jsx(pi,{relicAnalysis:t.Head}),i.jsx(pi,{relicAnalysis:t.Hands}),i.jsx(pi,{relicAnalysis:t.Body}),i.jsx(pi,{relicAnalysis:t.Feet}),i.jsx(pi,{relicAnalysis:t.PlanarSphere}),i.jsx(pi,{relicAnalysis:t.LinkRope})]})]})};function nT(){return i.jsx(S,{justify:"center",align:"center",style:{height:"100px"},children:i.jsx(xo,{size:"large"})})}function pi(e){const{relicAnalysis:t}=e,n={width:"100%",flex:1,borderRadius:5,overflow:"hidden",padding:10,background:"rgb(29 42 81 / 73%)",boxShadow:Es,backdropFilter:"blur(5px)",border:"1px solid rgba(255, 255, 255, 0.10)",WebkitBackdropFilter:"blur(5px)",minHeight:302};return t?i.jsxs(S,{style:n,gap:10,children:[i.jsx(_t,{setSelectedRelic:()=>{},relic:t.relic,unhoverable:!0,score:t.relic.scoringResult}),i.jsx(sT,{relicAnalysis:t})]}):i.jsx("div",{style:n})}const Ko={flex:1,borderRadius:6,overflow:"hidden",padding:10,background:"#243356",border:"1px solid #354b7d"},iT={fontSize:14,color:"rgb(159, 175, 207)"};function sT(e){const{relicAnalysis:t}=e;return t?i.jsxs(S,{vertical:!0,style:{width:"100%"},gap:10,children:[i.jsxs(S,{style:{height:111},gap:10,children:[i.jsx(Rc,{relicAnalysis:t,index:0}),i.jsx(Rc,{relicAnalysis:t,index:1})]}),i.jsx(S,{style:{...Ko,padding:"12px 14px 0px 14px",paddingLeft:15},gap:10,children:i.jsx(lT,{relicAnalysis:t})})]}):i.jsx("div",{style:Ko})}function lT(e){const{relicAnalysis:t}=e,n=(t==null?void 0:t.currentPotential)??0,l=yt(n);return i.jsxs(S,{vertical:!0,justify:"space-between",style:{width:"100%"},children:[i.jsxs(S,{vertical:!0,children:[i.jsx(Os,{index:0,relicAnalysis:t}),i.jsx(Os,{index:1,relicAnalysis:t}),i.jsx(Os,{index:2,relicAnalysis:t}),i.jsx(Os,{index:3,relicAnalysis:t})]}),i.jsxs(S,{vertical:!0,style:{height:46,paddingBottom:10},justify:"space-between",gap:4,children:[i.jsx(sa,{style:{margin:0,paddingBottom:2}}),i.jsxs(S,{justify:"space-between",children:[i.jsx("span",{style:iT,children:"Perfection"}),i.jsxs("span",{children:[l,"%"]})]}),i.jsx("div",{style:{height:"100%",width:"100%",backgroundColor:"#304878",borderRadius:"20px",overflow:"hidden"},children:i.jsx("div",{style:{height:"100%",width:`${n}%`,background:`linear-gradient(
              to right,
              ${pm} 0%,
              ${hm} 40%,
              ${bm} 80%
            )`,backgroundSize:`${100/(n||1)*100}% 100%`,borderRadius:"4px 0 0 4px"}})})]})]})}function Rc(e){const{relicAnalysis:t,index:n}=e,l=n==0?"Days":"Weighted Rolls",s=n==0?"Estimated TBP":"Reroll Potential",o=n==0?ra(Math.ceil(t.estDays)):yt(t.weightedRolls),r=n==0?ra(Math.ceil(t.estTbp/40)*40):yt(t.rerollDelta)+"%";return i.jsxs(S,{style:{...Ko,padding:"6px 10px",backgroundColor:"#334f87",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.25)",border:"1px solid rgb(73 98 153)"},vertical:!0,flex:1,justify:"space-between",children:[i.jsxs(S,{vertical:!0,gap:2,children:[i.jsx("span",{style:{fontSize:"13px",color:"#9FAFCF"},children:l}),i.jsx("span",{style:{fontSize:"18px",fontWeight:"bold",color:"#E0E6F2"},children:o})]}),i.jsxs(S,{vertical:!0,gap:2,children:[i.jsx("span",{style:{fontSize:"13px",color:"#9FAFCF"},children:s}),i.jsx("span",{style:{fontSize:"18px",fontWeight:"bold",color:"#E0E6F2"},children:r})]})]})}const X0={width:"16px",height:"16px",marginRight:"5px",borderRadius:"2px",marginBottom:3},bm="#0e7eff",hm="#63a9ff",pm="#a5bcd9";function oT(){return i.jsx("div",{style:{...X0,backgroundColor:bm}})}function rT(){return i.jsx("div",{style:{...X0,backgroundColor:hm}})}function cT(){return i.jsx("div",{style:{...X0,backgroundColor:pm}})}function Os(e){const{index:t,relicAnalysis:n}=e,l=n.relic.substats[t];if(l==null)return i.jsx("div",{style:{height:22,width:"100%"}});const s=n.weights[l.stat]??0,o=Yn(n.weights[l.stat]*dm(l.stat)),r=l.rolls,c=[];let d=0;for(let u=0;u<r.high;u++)c.push(i.jsx(oT,{},d++));for(let u=0;u<r.mid;u++)c.push(i.jsx(rT,{},d++));for(let u=0;u<r.low;u++)c.push(i.jsx(cT,{},d++));return i.jsxs(S,{style:{height:22,width:"100%",opacity:s?1:.05},justify:"space-between",children:[i.jsxs(S,{align:"flex-end",children:[i.jsx("img",{style:{width:Ke,height:Ke,marginRight:5,marginLeft:-3},src:k.getStatIcon(l.stat)}),c]}),i.jsxs("div",{children:["⨯ ",o]})]})}const{Text:fc}=ye;function dT(e){const{t}=K(["charactersTab","modals","common"]);console.log("======================================================================= RENDER ShowcaseBuildAnalysis");const{token:n,combatScoreDetails:l,showcaseMetadata:s,scoringType:o,setScoringType:r,setCombatScoreDetails:c}=e,{characterMetadata:d}=s;return i.jsxs(S,{vertical:!0,style:{minHeight:1e3},children:[i.jsxs(S,{justify:"center",gap:10,children:[i.jsxs(S,{justify:"center",style:{paddingLeft:20,paddingRight:5,borderRadius:7,height:40,marginTop:10,backgroundColor:n.colorBgContainer+"85"},align:"center",children:[i.jsx(fc,{style:{width:150},children:t("CharacterPreview.AlgorithmSlider.Title")}),i.jsx(Va,{style:{width:354,height:30},onChange:u=>{r(u),window.store.getState().setSavedSessionKey(Ue.scoringType,u),Te.delayedSave()},value:o,block:!0,options:[{label:d.scoringMetadata.simulation==null?t("CharacterPreview.AlgorithmSlider.Labels.CombatScoreTBD"):t("CharacterPreview.AlgorithmSlider.Labels.CombatScore"),value:Wi,disabled:d.scoringMetadata.simulation==null},{label:t("CharacterPreview.AlgorithmSlider.Labels.StatScore"),value:ns,disabled:!1},{label:t("CharacterPreview.AlgorithmSlider.Labels.NoneScore"),value:za,disabled:!1,className:"noneScoreLabel"}]})]}),i.jsxs(S,{justify:"center",style:{paddingLeft:20,paddingRight:5,borderRadius:7,height:40,marginTop:10,backgroundColor:n.colorBgContainer+"85"},align:"center",children:[i.jsx(fc,{style:{width:150},children:t("CharacterPreview.DetailsSlider.Title")}),i.jsx(Va,{style:{width:354,height:30},onChange:u=>{c(u),window.store.getState().setSavedSessionKey(Ue.combatScoreDetails,u),Te.delayedSave()},value:l,block:!0,options:[{label:t("CharacterPreview.DetailsSlider.Labels.CombatStats"),value:i0,disabled:d.scoringMetadata.simulation==null||o==ns},{label:t("CharacterPreview.DetailsSlider.Labels.DMGUpgrades"),value:n0,disabled:d.scoringMetadata.simulation==null||o==ns}]})]})]}),i.jsx(uT,{simScoringResult:e.simScoringResult}),i.jsx(mT,{simScoringResult:e.simScoringResult,displayRelics:e.displayRelics,showcaseMetadata:e.showcaseMetadata,scoringType:e.scoringType})]})}function uT(e){const t=v0(e,150),n=E.useMemo(()=>t?i.jsx(x5,{simScoringResult:t.simScoringResult}):null,[t]);return t?n:null}function mT(e){const t=v0(e,50),n=E.useMemo(()=>t?i.jsx(aT,{simScoringResult:t.simScoringResult,displayRelics:e.displayRelics,showcaseMetadata:e.showcaseMetadata,scoringType:e.scoringType}):null,[t]);return t?n:null}const bT=({rarity:e=0})=>{const t=[];for(let n=0;n<e;n++)t.push(i.jsx("img",{src:k.getStar(),style:{width:20,height:20}},n));return i.jsx(S,{gap:0,align:"center",children:t})};function hT(e){const{t}=K(["charactersTab","modals","common"]),{characterLevel:n,characterEidolon:l,characterName:s,characterPath:o,characterElement:r,characterMetadata:c}=e.showcaseMetadata,d=e.scoringType===za?12:4;return i.jsxs(S,{vertical:!0,children:[i.jsxs(S,{justify:"space-around",style:{height:26,marginBottom:d,marginTop:d},align:"center",children:[i.jsx("img",{style:{width:32},src:k.getElement(r)}),i.jsx(bT,{rarity:c.rarity}),i.jsx("img",{style:{width:32},src:k.getPathFromClass(o)})]}),i.jsxs(S,{vertical:!0,children:[i.jsx(Tn,{style:{fontSize:24,lineHeight:"30px",fontWeight:400,textAlign:"center"},children:s}),i.jsx(Tn,{style:{fontSize:16,fontWeight:400,textAlign:"center"},children:`${t("common:LevelShort",{level:n})} ${t("common:EidolonNShort",{eidolon:l})}`})]})]})}const ml="#2473e1";function Gc(e,t,n,l){const o={...t[e]??{}};let r=!1;l.color&&(o.color||l.color!=ml)&&(o.color=l.color,r=!0),l.colorMode&&(o.colorMode||l.colorMode!=Rt.AUTO)&&(o.colorMode=l.colorMode,r=!0),r&&(t[e]=o,n(y.clone(t)),window.store.getState().setSavedSessionKey(Ue.showcaseStandardMode,l.colorMode===Rt.STANDARD),Te.delayedSave())}const pT={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function ST(e){let t=0;return e.forEach(n=>{t=Math.max(t,n.getPopulation())}),t}function RT(e,t){return e.Vibrant===t||e.DarkVibrant===t||e.LightVibrant===t||e.Muted===t||e.DarkMuted===t||e.LightMuted===t}function Si(e,t,n,l,s,o,r,c,d,u){let b=null,p=0;return t.forEach(R=>{let[,G,T]=R.getHsl();if(G>=c&&G<=d&&T>=s&&T<=o&&!RT(e,R)){let C=fT(G,r,T,l,R.getPopulation(),n,u);(b===null||C>p)&&(b=R,p=C)}}),b}function fT(e,t,n,l,s,o,r){function c(...u){let b=0,p=0;for(let R=0;R<u.length;R+=2){let G=u[R],T=u[R+1];b+=G*T,p+=T}return b/p}function d(u,b){return 1-Math.abs(u-b)}return c(d(e,t),r.weightSaturation,d(n,l),r.weightLuma,s/o,r.weightPopulation)}function GT(e,t,n){let l={};return l.Vibrant=Si(l,e,t,n.targetNormalLuma,n.minNormalLuma,n.maxNormalLuma,n.targetVibrantSaturation,n.minVibrantSaturation,1,n),l.LightVibrant=Si(l,e,t,n.targetLightLuma,n.minLightLuma,1,n.targetVibrantSaturation,n.minVibrantSaturation,1,n),l.DarkVibrant=Si(l,e,t,n.targetDarkLuma,0,n.maxDarkLuma,n.targetVibrantSaturation,n.minVibrantSaturation,1,n),l.Muted=Si(l,e,t,n.targetNormalLuma,n.minNormalLuma,n.maxNormalLuma,n.targetMutesSaturation,0,n.maxMutesSaturation,n),l.LightMuted=Si(l,e,t,n.targetLightLuma,n.minLightLuma,1,n.targetMutesSaturation,0,n.maxMutesSaturation,n),l.DarkMuted=Si(l,e,t,n.targetDarkLuma,0,n.maxDarkLuma,n.targetMutesSaturation,0,n.maxMutesSaturation,n),l}function gT(e,t,n){if(e.Vibrant===null&&e.DarkVibrant===null&&e.LightVibrant===null){if(e.DarkVibrant===null&&e.DarkMuted!==null){let[l,s,o]=e.DarkMuted.getHsl();o=n.targetDarkLuma,e.DarkVibrant=new Xa(ka.hslToRgb(l,s,o),0)}if(e.LightVibrant===null&&e.LightMuted!==null){let[l,s,o]=e.LightMuted.getHsl();o=n.targetDarkLuma,e.DarkVibrant=new Xa(ka.hslToRgb(l,s,o),0)}}if(e.Vibrant===null&&e.DarkVibrant!==null){let[l,s,o]=e.DarkVibrant.getHsl();o=n.targetNormalLuma,e.Vibrant=new Xa(ka.hslToRgb(l,s,o),0)}else if(e.Vibrant===null&&e.LightVibrant!==null){let[l,s,o]=e.LightVibrant.getHsl();o=n.targetNormalLuma,e.Vibrant=new Xa(ka.hslToRgb(l,s,o),0)}if(e.DarkVibrant===null&&e.Vibrant!==null){let[l,s,o]=e.Vibrant.getHsl();o=n.targetDarkLuma,e.DarkVibrant=new Xa(ka.hslToRgb(l,s,o),0)}if(e.LightVibrant===null&&e.Vibrant!==null){let[l,s,o]=e.Vibrant.getHsl();o=n.targetLightLuma,e.LightVibrant=new Xa(ka.hslToRgb(l,s,o),0)}if(e.Muted===null&&e.Vibrant!==null){let[l,s,o]=e.Vibrant.getHsl();o=n.targetMutesSaturation,e.Muted=new Xa(ka.hslToRgb(l,s,o),0)}if(e.DarkMuted===null&&e.DarkVibrant!==null){let[l,s,o]=e.DarkVibrant.getHsl();o=n.targetMutesSaturation,e.DarkMuted=new Xa(ka.hslToRgb(l,s,o),0)}if(e.LightMuted===null&&e.LightVibrant!==null){let[l,s,o]=e.LightVibrant.getHsl();o=n.targetMutesSaturation,e.LightMuted=new Xa(ka.hslToRgb(l,s,o),0)}}const TT=(e,t)=>{const n={...pT,...t};let l=ST(e),s=GT(e,l,n);return gT(s,l,n),s.colors=e.sort((o,r)=>r._population-o._population),s};function gc(e,t){pd.from(e).maxColorCount(100).useGenerator(TT).addFilter((n,l,s,o)=>{const r=Nt(n,l,s,"rgb"),c=r.lch()[0]/100;return r.hsl()[1]>.05&&c>.1&&c<.9&&o>.75}).getPalette().then(n=>{const l={Vibrant:n.Vibrant.hex,DarkVibrant:n.DarkVibrant.hex,Muted:n.Muted.hex,DarkMuted:n.DarkMuted.hex,LightVibrant:n.LightVibrant.hex,LightMuted:n.LightMuted.hex},s=n.colors.map(r=>Nt(r._rgb).hex()).filter(r=>r!=l.Vibrant&&r!=l.DarkVibrant&&r!=l.Muted&&r!=l.DarkMuted&&r!=l.LightVibrant&&r!=l.LightMuted),o={...l,colors:s};t(o)}).catch(n=>{console.error(n)})}const Sm=E.forwardRef((e,t)=>{var tt;const{id:n,source:l,characterId:s,simScoringResult:o,scoringType:r,seedColor:c,setSeedColor:d,colorMode:u,setColorMode:b}=e,{t:p}=K("charactersTab",{keyPrefix:"CharacterPreview.CustomizationSidebar"}),{t:R}=K("charactersTab",{keyPrefix:"CharacterPreview.ScoringSidebar"}),[G,T]=E.useState([]),C=window.store(ue=>ue.showcasePreferences),D=window.store(ue=>ue.setShowcasePreferences),[V,M]=E.useState(!1),x=window.store(ue=>ue.savedSession.showcaseDarkMode),W=window.store(ue=>ue.savedSession.showcaseUID),H=window.store(ue=>ue.savedSession.showcasePreciseSpd),O=window.store(()=>I.getScoringMetadata(s)),j=window.store(()=>O.stats[a.SPD]),N=window.store(()=>{var ue;return((ue=O.simulation)==null?void 0:ue.deprioritizeBuffs)??!1});E.useImperativeHandle(t,()=>({onPortraitLoad:(ue,te)=>{var pe;(pe=I.getCharacterById(te))!=null&&pe.portrait?gc(ue,Se=>{const Fe=Q5(j5([Se.Vibrant,Se.DarkVibrant,Se.Muted,Se.DarkMuted,Se.LightVibrant,Se.LightMuted]));d(Fe),bl[ue]=Fe,T(bc(Se))}):setTimeout(()=>{gc(ue,Se=>{T(bc(Se))})},1e3)}}));function F(ue){ue!=ml&&(Gc(s,C,D,{color:ue,colorMode:Rt.CUSTOM}),console.log("Set seed color to",ue),b(Rt.CUSTOM),d(ue))}function P(ue){Gc(s,C,D,{colorMode:ue}),console.log("Set color mode to",ue),b(ue)}function X(ue){console.log("Set dark mode to",ue),window.store.getState().setSavedSessionKey(Ue.showcaseDarkMode,ue)}const w=ue=>{console.log("Set show UID to",ue),window.store.getState().setSavedSessionKey(Ue.showcaseUID,ue)};function ie(ue){console.log("Set precise spd to",ue),window.store.getState().setSavedSessionKey(Ue.showcasePreciseSpd,ue)}function ee(ue){console.log("Set spd value to",ue);const te=y.clone(I.getScoringMetadata(s));te.stats[a.SPD]=ue,I.updateCharacterScoreOverrides(s,te)}function me(ue){var Se;const te=(Se=ue==null?void 0:ue.target)==null?void 0:Se.value;if(te==null)return be(void 0);const pe=parseFloat(te);if(isNaN(pe))return be(void 0);be(pe)}function be(ue){console.log("Set spd benchmark to",ue);const te=y.clone(window.store.getState().showcaseTemporaryOptions);te[s]||(te[s]={});const pe=ue==-1?void 0:ue;te[s].spdBenchmark=pe,window.store.getState().setShowcaseTemporaryOptions(te)}function Ge(){window.store.getState().setStatTracesDrawerFocusCharacter(s),window.store.getState().setStatTracesDrawerOpen(!0)}function ae(ue){const te=I.getScoringMetadata(s);if(te!=null&&te.simulation){console.log("Set deprioritizeBuffs to",ue);const pe=y.clone(te.simulation);pe.deprioritizeBuffs=ue,I.updateSimulationScoreOverrides(s,pe)}}const Q=[{label:p("PaletteLabel"),colors:G}],{spdPrecisionOptions:Xe,spdWeightOptions:Pe,buffPriorityOptions:Oe}=E.useMemo(()=>({spdPrecisionOptions:[{value:!1,label:R("SpdPrecision.Low")},{value:!0,label:R("SpdPrecision.High")}],spdWeightOptions:[{value:1,label:R("SpdWeight.Max")},{value:0,label:R("SpdWeight.Min")}],buffPriorityOptions:[{value:!1,label:R("BuffPriority.High")},{value:!0,label:R("BuffPriority.Low")}]}),[R]);return l!=Zt.SHOWCASE_TAB&&l!=Zt.CHARACTER_TAB?i.jsx(i.Fragment,{}):i.jsxs(S,{vertical:!0,gap:16,style:{position:"absolute",marginLeft:1085,width:130},children:[i.jsxs(S,{vertical:!0,gap:6,style:{backgroundColor:"rgb(29 42 71)",boxShadow:yc,borderRadius:5,padding:Ei},children:[i.jsxs(S,{justify:"space-between",align:"center",style:{position:"relative"},children:[i.jsx("span",{}),i.jsx($,{style:{textAlign:"center",position:"absolute",left:"50%",transform:"translateX(-50%)"},children:R("Stats.Header")}),i.jsx("a",{href:"https://github.com/fribbels/hsr-optimizer/blob/main/docs/guides/en/score-customization.md",target:"_blank",style:{display:"inline-flex",alignItems:"center"},rel:"noreferrer",children:i.jsx("img",{src:k.getQuestion(),style:{height:16,width:16,opacity:.6,marginLeft:"auto"}})})]}),i.jsx(sa,{}),i.jsx(z,{icon:i.jsx(xa,{}),onClick:Ge,children:R("Stats.ButtonText")}),i.jsx(sa,{}),i.jsx($,{style:{textAlign:"center",marginBottom:2},children:R("SpdPrecision.Header")}),i.jsx(Va,{options:Xe,block:!0,value:H,onChange:ie}),r!=za&&i.jsxs(i.Fragment,{children:[i.jsx(sa,{}),i.jsx($,{style:{textAlign:"center",marginBottom:2},children:R("SpdWeight.Header")}),i.jsx(Va,{options:Pe,block:!0,value:j,onChange:ee})]}),r==Wi&&i.jsxs(i.Fragment,{children:[i.jsx(sa,{}),i.jsx($,{style:{textAlign:"center",marginBottom:2},children:R("BenchmarkSpd.Header")}),i.jsx($t,{size:"small",controls:!1,style:{width:"100%"},value:ZT((tt=window.store.getState().showcaseTemporaryOptions[s])==null?void 0:tt.spdBenchmark),addonAfter:i.jsx(yT,{spdFilter:o==null?void 0:o.originalSpd,onShowcaseSpdBenchmarkChange:be,characterId:s,simScoringResult:o}),min:0,onBlur:me,onPressEnter:me})]}),r==Wi&&i.jsxs(i.Fragment,{children:[i.jsx(sa,{}),i.jsx($,{style:{textAlign:"center",marginBottom:2},children:R("BuffPriority.Header")}),i.jsx(Va,{options:Oe,block:!0,value:N,onChange:ae})]})]}),i.jsxs(S,{vertical:!0,gap:6,style:{backgroundColor:"rgb(29 42 71)",boxShadow:yc,borderRadius:5,padding:Ei},children:[i.jsx($,{style:{textAlign:"center"},children:p("Label")}),i.jsx(sa,{}),i.jsx(nb,{presets:Q,defaultValue:"#1677ff",value:c,onChangeComplete:ue=>{const te=ue.toHexString();F(te)},disabledAlpha:!0,disabledFormat:!0,showText:!0}),i.jsx(sa,{}),i.jsx(Va,{vertical:!0,options:[{value:Rt.AUTO,label:p("Modes.Auto")},{value:Rt.CUSTOM,label:p("Modes.Custom")},{value:Rt.STANDARD,label:p("Modes.Standard")}],value:u,onChange:P}),i.jsx(sa,{}),i.jsx(Va,{options:[{value:!1,label:i.jsx(cd,{})},{value:!0,label:i.jsx(ib,{})}],block:!0,value:x,onChange:X}),l==Zt.SHOWCASE_TAB&&i.jsxs(i.Fragment,{children:[i.jsx(sa,{}),i.jsx($,{style:{textAlign:"center",marginBottom:2},children:p("ShowUID")}),i.jsx(Va,{options:[{value:!0,label:i.jsx(Rn,{})},{value:!1,label:i.jsx(Ba,{})}],block:!0,value:W,onChange:w})]}),i.jsx(sa,{}),i.jsxs(S,{justify:"space-between",children:[i.jsx(z,{icon:i.jsx(Sd,{style:{fontSize:30}}),loading:V,onClick:()=>Tc(n,"clipboard",M,e.seedColor),type:"primary",style:{height:50,width:50,borderRadius:8}}),i.jsx(z,{icon:i.jsx(qo,{style:{fontSize:30}}),loading:V,onClick:()=>Tc(n,"download",M,e.seedColor),type:"primary",style:{height:50,width:50,borderRadius:8}})]})]})]})});Sm.displayName="ShowcaseCustomizationSidebar";function yT(e){const{t}=K("optimizerTab",{keyPrefix:"Presets"}),{t:n}=K("charactersTab",{keyPrefix:"CharacterPreview.ScoringSidebar.BenchmarkSpd"}),l=E.useMemo(()=>{const s=Object.values(y.clone(Vu(t))).slice(1);return e.spdFilter!=null&&s.map(o=>{o.disabled=o.value!=null&&o.value>e.spdFilter}),[{label:i.jsx("span",{children:n("BenchmarkOptionsLabel")}),title:"benchmark",options:[{label:i.jsx("b",{children:i.jsx("span",{children:n("CurrentSpdLabel")})}),value:-1},{label:i.jsx("span",{children:n("BaseSpdLabel")}),value:0}]},{label:i.jsx("span",{children:n("CommonBreakpointsLabel")}),options:s}]},[t,n,e.spdFilter,e.characterId,e.simScoringResult]);return i.jsx(J,{style:{width:34},labelRender:()=>i.jsx(i.Fragment,{}),dropdownStyle:{width:"fit-content"},options:l,placement:"bottomRight",listHeight:800,value:null,onChange:e.onShowcaseSpdBenchmarkChange})}function Tc(e,t,n,l){n(!0),setTimeout(()=>{B.screenshotElementById(e,t).finally(()=>{n(!1)})},100)}function ZT(e){return e==null||e<0?void 0:e}const yc="rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.15) 0px 0px 0px 1px inset",Rm="#799ef4";function CT(){return{color:Rm,colorMode:Rt.STANDARD}}function DT(e){return{color:e,colorMode:Rt.AUTO}}const bl={};function ET(e,t,n){var s;if(e==Rt.STANDARD)return Rt.STANDARD;const l=(s=t[n.id])==null?void 0:s.colorMode;return!l||l==Rt.STANDARD?Rt.AUTO:l}function IT(e,t,n){var s;return n==Rt.STANDARD?Rm:(s=I.getCharacterById(e))!=null&&s.portrait&&bl[t]?bl[t]:({1001:["#718fe5"],1002:["#7dd3ea"],1003:["#d6b5c2"],1004:["#6385d8"],1005:["#ea8abc"],1006:["#8483eb"],1008:["#817fd1"],1009:["#9e80e6"],1013:["#8969ea"],1101:["#375ee1"],1102:["#5f55eb"],1103:["#8772f4"],1104:["#0f4eef"],1105:["#82b5e9"],1106:["#4b88e0"],1107:["#a99dd1"],1108:["#7777c9"],1109:["#c8d0f0"],1110:["#53b1e1"],1111:["#5d8ce2"],1112:["#0f349b"],1201:["#87d2da"],1202:["#f4b5d4"],1203:["#8ce2f4"],1204:["#94e6f1"],1205:["#4d69be"],1206:["#81adf1"],1207:["#90a0e6"],1208:["#dd9cf2"],1209:["#6db1f4"],1210:["#88aade"],1211:["#5f9ce2"],1212:["#3e65f2"],1213:["#72c3de"],1214:["#3571e7"],1215:["#9a90e6"],1217:["#8cf4fc"],1218:["#fff4f8"],1220:["#7fd9e1"],1221:["#a2e9f5"],1222:["#ffeef5"],1223:["#575aa0"],1224:["#f7b6f7"],1225:["#fce4f7"],1301:["#7c7c99"],1302:["#f77784"],1303:["#3964d1"],1304:["#7cbcea"],1305:["#3151c7"],1306:["#5866bc"],1307:["#a37df4"],1308:["#837bd4"],1309:["#d7a4f1"],1310:["#a0efec"],1312:["#b0b7d0"],1313:["#7e95e9"],1314:["#8a74dc"],1315:["#a49ed2"],1317:["#7789e2"],8001:["#5f81f4"],8002:["#5f81f4"],8003:["#756d96"],8004:["#756d96"],8005:["#8d7abc"],8006:["#8d7abc"],1401:["#aa81fa"],1402:["#86bdf1"],8007:["#f0a1fa"],8008:["#f0a1fa"],1403:["#979af7"],1404:["#ff94b1"],1405:["#93d4c2"],1407:["#b985fd"]}[e]??["#000000"])[0]}function k0(e){var p,R,G;const[t]=U.useForm(),{t:n}=K("modals",{keyPrefix:"EditCharacter"}),{t:l}=K("common"),[s,o]=E.useState(((p=e.initialCharacter)==null?void 0:p.form.characterId)||""),[r]=E.useState(((R=e.initialCharacter)==null?void 0:R.form.characterEidolon)||0),[c,d]=E.useState(((G=e.initialCharacter)==null?void 0:G.form.lightConeSuperimposition)||1);E.useEffect(()=>{var C,D,V,M,x;if(!e.open)return;const T={characterId:(C=e.initialCharacter)==null?void 0:C.form.characterId,characterLevel:80,characterEidolon:((D=e.initialCharacter)==null?void 0:D.form.characterEidolon)||0,lightCone:(V=e.initialCharacter)==null?void 0:V.form.lightCone,lightConeLevel:80,lightConeSuperimposition:((M=e.initialCharacter)==null?void 0:M.form.lightConeSuperimposition)||1};o(((x=e.initialCharacter)==null?void 0:x.form.characterId)??""),t.setFieldsValue(T)},[e.open]);function u(){const T=t.getFieldsValue();console.log("Character modal submitted with form:",T),e.onOk(T),e.setOpen(!1)}const b=()=>{e.setOpen(!1)};return i.jsx(Vt,{open:e.open,width:400,destroyOnClose:!0,centered:!0,onOk:u,onCancel:b,footer:[i.jsx(z,{onClick:b,children:l("Cancel")},"back"),i.jsx(z,{type:"primary",onClick:u,children:l("Save")},"submit")],children:i.jsx(U,{form:t,preserve:!1,layout:"vertical",children:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsxs(S,{vertical:!0,gap:5,children:[i.jsx($,{children:n("Character")}),i.jsx(U.Item,{name:"characterId",children:i.jsx(Fi,{value:"",withIcon:!0,onChange:T=>{var x,W,H;o(T);const C=I.getCharacterById(T),D=T!=null&&T.startsWith("80")?6:((x=C==null?void 0:C.form)==null?void 0:x.characterEidolon)||0,V=((W=C==null?void 0:C.form)==null?void 0:W.lightCone)||void 0,M=((H=C==null?void 0:C.form)==null?void 0:H.lightConeSuperimposition)||1;t.setFieldValue("characterEidolon",D),t.setFieldValue("lightCone",V),t.setFieldValue("lightConeSuperimposition",M)}})}),i.jsx(U.Item,{name:"characterEidolon",children:i.jsxs(ze.Group,{value:r,buttonStyle:"solid",style:{width:"100%",display:"flex"},children:[i.jsx(ua,{text:n("EidolonButton",{eidolon:0}),value:0}),i.jsx(ua,{text:n("EidolonButton",{eidolon:1}),value:1}),i.jsx(ua,{text:n("EidolonButton",{eidolon:2}),value:2}),i.jsx(ua,{text:n("EidolonButton",{eidolon:3}),value:3}),i.jsx(ua,{text:n("EidolonButton",{eidolon:4}),value:4}),i.jsx(ua,{text:n("EidolonButton",{eidolon:5}),value:5}),i.jsx(ua,{text:n("EidolonButton",{eidolon:6}),value:6})]})})]}),i.jsxs(S,{vertical:!0,gap:5,children:[i.jsx($,{children:n("Lightcone")}),i.jsx(U.Item,{name:"lightCone",children:i.jsx(Z0,{value:"",withIcon:!0,characterId:s,onChange:()=>{t.setFieldValue("lightConeSuperimposition",1)}})}),i.jsx(U.Item,{name:"lightConeSuperimposition",children:i.jsxs(ze.Group,{value:c,onChange:T=>d(T.target.value),buttonStyle:"solid",style:{width:"100%",display:"flex"},children:[i.jsx(ua,{text:n("SuperimpositionButton",{superimposition:1}),value:1}),i.jsx(ua,{text:n("SuperimpositionButton",{superimposition:2}),value:2}),i.jsx(ua,{text:n("SuperimpositionButton",{superimposition:3}),value:3}),i.jsx(ua,{text:n("SuperimpositionButton",{superimposition:4}),value:4}),i.jsx(ua,{text:n("SuperimpositionButton",{superimposition:5}),value:5})]})})]})]})})})}function ua(e){return i.jsx(ze.Button,{value:e.value,style:{flex:1,padding:"unset",textAlign:"center"},children:e.text})}function xT(e){const{characterId:t,token:n,simScoringResult:l,teamSelection:s,combatScoreDetails:o,displayRelics:r,setTeamSelectionByCharacter:c,setRedrawTeammates:d}=e,[u,b]=E.useState(!1),[p,R]=E.useState(),[G,T]=E.useState();return i.jsxs(S,{vertical:!0,children:[i.jsxs(S,{justify:"space-around",style:{padding:"0 5px"},children:[i.jsx(ho,{index:0,result:l,token:n,setCharacterModalOpen:b,setSelectedTeammateIndex:R,setCharacterModalInitialCharacter:T}),i.jsx(ho,{index:1,result:l,token:n,setCharacterModalOpen:b,setSelectedTeammateIndex:R,setCharacterModalInitialCharacter:T}),i.jsx(ho,{index:2,result:l,token:n,setCharacterModalOpen:b,setSelectedTeammateIndex:R,setCharacterModalInitialCharacter:T})]}),i.jsx(VT,{characterId:t,teamSelection:s,selectedTeammateIndex:p,characterModalInitialCharacter:G,isCharacterModalOpen:u,setCharacterModalOpen:b,setTeamSelectionByCharacter:c,setRedrawTeammates:d})]})}function WT(e){const{combatScoreDetails:t,simScoringResult:n}=e;return i.jsxs(i.Fragment,{children:[t==n0&&i.jsx(S,{vertical:!0,gap:$e,children:i.jsx(V5,{result:n})}),t==i0&&i.jsx(S,{vertical:!0,gap:$e,children:i.jsx(M5,{result:n})})]})}function ho(e){const{t}=K(["charactersTab","modals","common"]),{result:n,index:l,token:s,setCharacterModalOpen:o,setSelectedTeammateIndex:r,setCharacterModalInitialCharacter:c}=e,d=n.simulationMetadata.teammates[l],u=64;return i.jsx(zn.Grid,{style:{width:"33.3333%",textAlign:"center",padding:1,boxShadow:"none"},hoverable:!0,onClick:()=>{c({form:d}),o(!0),r(l)},className:"custom-grid",children:i.jsxs(S,{vertical:!0,align:"center",gap:0,children:[i.jsx("img",{src:k.getCharacterAvatarById(d.characterId),style:{height:u,width:u,borderRadius:u,backgroundColor:"rgba(124, 124, 124, 0.1)",border:vi}}),i.jsx(tc,{text:t("common:EidolonNShort",{eidolon:d.characterEidolon}),top:-12}),i.jsx("img",{src:k.getLightConeIconById(d.lightCone),style:{height:u,marginTop:-3}}),i.jsx(tc,{text:t("common:SuperimpositionNShort",{superimposition:d.lightConeSuperimposition}),top:-18})]})})}function MT(e){const{t}=K(["charactersTab"]),n=e.result,l=Object.values(e.relics).filter(u=>u==null?void 0:u.verified).length==6,s=Object.values(e.relics).filter(u=>!!u).length,o={fontSize:17,fontWeight:"600",textAlign:"center",color:"rgb(225, 165, 100)",height:23,whiteSpace:"nowrap"},r=!!n.simulationForm.lightCone,c=n.spdBenchmark==null?t("CharacterPreview.ScoreHeader.Title"):t("CharacterPreview.ScoreHeader.TitleBenchmark",{spd:LT(n.spdBenchmark)}),d=i.jsxs(S,{align:"center",vertical:!0,style:{marginBottom:6,paddingTop:3,paddingBottom:3},children:[i.jsx(Tn,{style:o,children:c}),i.jsx(Tn,{style:o,children:t("CharacterPreview.ScoreHeader.Score",{score:yt(B.truncate10ths(Math.max(0,n.percent*100))),grade:Kg(n.percent,l,s,r)})})]});return i.jsx(S,{vertical:!0,children:d})}function LT(e){return B.truncate10ths(e).toFixed(1)}function VT(e){const{t}=K(["charactersTab","modals","common"]),n=window.store(G=>G.globalThemeConfig),{characterId:l,teamSelection:s,selectedTeammateIndex:o,characterModalInitialCharacter:r,setTeamSelectionByCharacter:c,setRedrawTeammates:d,isCharacterModalOpen:u,setCharacterModalOpen:b}=e;function p(G){if(!G.characterId||!G.lightCone)return _.error(t("CharacterPreview.Messages.NoSelectedCharacter"));const C=B.clone(I.getScoringMetadata(l)).simulation;C.teammates[o]=G,I.updateSimulationScoreOverrides(l,C),c({[l]:Gi}),d(Math.random())}const R=i.jsx(Va,{style:{marginLeft:10,marginRight:10,marginTop:2,marginBottom:0,alignItems:"center"},onChange:G=>{G==tr?window.modalApi.info({icon:null,width:400,okText:t("common:Ok"),maskClosable:!0,content:i.jsx("div",{style:{width:"100%"},children:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx($,{children:t("modals:ScoreFooter.ModalTitle")}),i.jsx(z,{icon:i.jsx(sd,{}),onClick:()=>{const C=B.clone(I.getMetadata().characters[l]).scoringMetadata.simulation;I.updateSimulationScoreOverrides(l,C),s!=as&&c({[l]:as}),d(Math.random()),_.success(t("modals:ScoreFooter.ResetSuccessMsg"))},children:t("modals:ScoreFooter.ResetButtonText")}),i.jsx(z,{icon:i.jsx(id,{}),onClick:()=>{var D;const C=B.clone(I.getScoringMetadata(l)).simulation;for(const V of C.teammates){const M=(D=I.getCharacterById(V.characterId))==null?void 0:D.form;M!=null&&(V.characterEidolon=M.characterEidolon,M.lightCone&&(V.lightCone=M.lightCone,V.lightConeSuperimposition=M.lightConeSuperimposition||1))}I.updateSimulationScoreOverrides(l,C),s!=Gi&&c({[l]:Gi}),d(Math.random()),_.success(t("modals:ScoreFooter.SyncSuccessMsg"))},children:t("modals:ScoreFooter.SyncButtonText")})]})})}):c({[l]:G})},value:s,block:!0,options:[{value:as,label:i.jsx(S,{justify:"center",align:"center",children:t("modals:ScoreFooter.TeamOptions.Default")})},{label:i.jsx(xa,{}),value:tr,className:"short-segmented"},{value:Gi,label:i.jsx(S,{justify:"center",align:"center",children:t("modals:ScoreFooter.TeamOptions.Custom")})}]});return i.jsxs(S,{vertical:!0,gap:2,children:[i.jsx(wn,{theme:n,children:i.jsx(k0,{onOk:p,open:u,setOpen:b,initialCharacter:r})}),R]})}const Vl=({src:e,style:t,callback:n})=>{const[l,s]=E.useState({}),[o,r]=E.useState({}),[c,d]=E.useState(!1),[u,b]=E.useState(!0);return E.useEffect(()=>{if(e==l.src&&y.objectHash(t)==y.objectHash(l.style)||e==o.src&&y.objectHash(t)==y.objectHash(o.style))return;b(!0),r({src:e,style:t});const p=new Image;if(p.src=e,p.complete||p.naturalWidth>0){d(!0);return}d(!1),p.onload=()=>{d(!0)}},[l,e,t]),E.useEffect(()=>{c&&(setTimeout(()=>{b(!1)},150),s({src:o.src,style:o.style}),d(!1),n&&n(o.src))},[c]),i.jsx("img",{src:l.src,loading:"eager",style:{...l.style,filter:u?"blur(6px)":"none",transition:u?"":"filter 0.5s cubic-bezier(.41,.65,.39,.99)"}})},{Text:PT}=ye;function FT(e){const{t}=K(["charactersTab","modals","common"]),{source:n,character:l,displayDimensions:s,setOriginalCharacterModalInitialCharacter:o,setOriginalCharacterModalOpen:r,setCharacterModalAdd:c,showcaseMetadata:d}=e,{tempLcParentW:u,tempLcParentH:b,tempLcInnerW:p,tempLcInnerH:R,newLcHeight:G,lcCenter:T}=s,{lightConeSrc:C,lightConeName:D,lightConeLevel:V,lightConeSuperimposition:M}=d;return i.jsxs(S,{vertical:!0,children:[D&&i.jsx(S,{vertical:!0,style:{position:"relative",height:0,top:G-35,paddingRight:5},align:"flex-end",children:i.jsx(PT,{style:{position:"absolute",height:30,backgroundColor:"rgb(0 0 0 / 70%)",padding:"3px 12px",borderRadius:8,fontSize:14,maxWidth:Aa-50,width:"fit-content",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",zIndex:21,textShadow:"0px 0px 10px black",border:vi,boxShadow:Hi,backdropFilter:Yo},children:`${t("common:SuperimpositionNShort",{superimposition:M})} - ${D}`})}),i.jsx(S,{className:"lightConeCard",style:{width:`${u}px`,height:`${b}px`,position:"relative",overflow:"hidden",zIndex:20,borderRadius:"8px",border:vi,boxShadow:Hi},onClick:()=>{n==Zt.SHOWCASE_TAB?(o(l),r(!0)):(c(!1),o(l),r(!0))},children:i.jsx(Vl,{src:C,style:{position:"absolute",width:420,top:-T+G/2,left:-8}})})]})}function BT(e){K(["charactersTab","modals","common"]);const{source:t,character:n,displayDimensions:l,setOriginalCharacterModalInitialCharacter:s,setOriginalCharacterModalOpen:o,setCharacterModalAdd:r,showcaseMetadata:c}=e,{tempLcParentW:d,tempLcParentH:u,tempLcInnerW:b,tempLcInnerH:p}=l,{lightConeSrc:R,lightConeName:G,lightConeLevel:T,lightConeSuperimposition:C}=c;return i.jsx("div",{className:"lightConeCard",style:{width:`${d}px`,height:`${u}px`,overflow:"hidden",borderRadius:"8px",zIndex:20,border:vi,boxShadow:Hi},onClick:()=>{t==Zt.SHOWCASE_TAB?(s(n),o(!0)):(r(!1),s(n),o(!0))},children:i.jsx(Vl,{src:R,style:{width:b,transform:`translate(${(b-d)/2/b*-100}%, ${(p-u)/2/p*-100+8}%)`}})})}function HT(e){const{t}=K(["charactersTab","modals","common"]),{showcaseMetadata:n}=e,{lightConeSrc:l,lightConeName:s,lightConeLevel:o,lightConeSuperimposition:r}=n;return i.jsxs(S,{vertical:!0,children:[i.jsx(s5,{style:{fontSize:18,fontWeight:400,marginLeft:10,marginRight:10,textAlign:"center"},children:`${s}`}),i.jsx(Tn,{style:{fontSize:16,fontWeight:400,marginBottom:5,textAlign:"center"},children:`${t("common:LevelShort",{level:o})} ${t("common:SuperimpositionNShort",{superimposition:r})}`})]})}const vT=({customPortrait:e,parentW:t,onPortraitLoad:n})=>{const l=t/e.customImageParams.croppedAreaPixels.width;return i.jsx("div",{style:{position:"absolute"},children:i.jsx(Vl,{src:e.imageUrl,style:{position:"relative",left:`-${e.customImageParams.croppedAreaPixels.x*l}px`,top:`-${e.customImageParams.croppedAreaPixels.y*l}px`,width:`${e.originalDimensions.width*l}px`,height:`${e.originalDimensions.height*l}px`,objectFit:"cover"},callback:n})})},{Text:XT}=ye,Zc="https://api.imgur.com/3/image",Cc="b6ed18a250f2835",Dc={width:0,height:0},Ec={x:0,y:0},Ic=1,xc={croppedArea:{x:0,y:0,width:0,height:0},croppedAreaPixels:{x:0,y:0,width:0,height:0}},po=1,So=5,kT=({existingConfig:e,aspectRatio:t,open:n,setOpen:l,onOk:s,title:o=v.t("modals:EditImage.DefaultTitle"),width:r=400,defaultImageUrl:c})=>{const[d,u]=E.useState(0),[b]=U.useForm(),{t:p}=K("modals",{keyPrefix:"EditImage"}),{t:R}=K("common"),[G,T]=E.useState(!1),[C,D]=E.useState(""),[V,M]=E.useState(e?e.originalDimensions:Dc),[x,W]=E.useState(e?e.cropper.crop:Ec),[H,O]=E.useState(e?e.cropper.zoom:Ic),[j,N]=E.useState(e?e.customImageParams:xc),[F,P]=E.useState("upload"),X=E.useCallback(()=>{b.resetFields(),u(0),T(!1),D(""),M(Dc),W(Ec),O(Ic),N(xc)},[b]);E.useEffect(()=>{n?e&&(b.setFieldsValue({imageUrl:e.imageUrl,artistName:e.artistName}),P("upload"),u(1),D(e.imageUrl),M(e.originalDimensions)):X()},[c,n,e,b,X]);const w=(te,pe)=>{d==1&&N({croppedArea:te,croppedAreaPixels:pe})},ie=()=>{const te=b.getFieldValue("artistName"),pe={originalDimensions:V,customImageParams:j,cropper:{zoom:H,crop:x}};switch(F){case"upload":s({type:"add",config:{...pe,artistName:te,imageUrl:C}}),u(0);break;case"url":b.validateFields().then(Se=>{s({type:"add",config:{...pe,imageUrl:Se.imageUrl,artistName:te}})}).catch(Se=>{console.error("Error:",Se)}).finally(()=>{u(0)});break;case"default":c||console.error("defaultImageUrl does not exist, but default image was chosen."),s({type:"delete",config:{}}),l(!1),u(0);break;default:console.warn(`Unexpected radio value: ${F}`),l(!1),u(0)}};async function ee(te){if(!te.includes("http"))return!1;T(!0);const pe=new Image;return pe.src=te,new Promise(Se=>{T(!1),pe.onerror=()=>Se(!1),pe.onload=async()=>{const Fe=await createImageBitmap(pe);M({width:Fe.width,height:Fe.height}),Se(!0)}})}async function me(te){return T(!0),new Promise(pe=>{const Se=new FileReader;Se.onerror=()=>{T(!1),pe(!1)},Se.onload=Fe=>{var Lt;const et=new Image;et.src=(Lt=Fe.target)==null?void 0:Lt.result,et.onload=async()=>{M({width:et.width,height:et.height}),T(!1),pe(!0)},et.onerror=()=>{T(!1),pe(!1)}},Se.readAsDataURL(te)})}async function be(te){try{return(await fetch(te,{method:"HEAD",mode:"cors"})).ok}catch{return console.log("CORS blocked image fetch, uploading to imgur:",te),!1}}const Ge=async te=>{const pe=new FormData;pe.append("image",te);try{T(!0);const Se=await fetch(Zc,{method:"POST",headers:{Authorization:`Client-ID ${Cc}`},body:pe});if(!Se.ok){const et=await Se.json();throw T(!1),new Error(`Imgur API error: ${et.data.error}`)}const Fe=await Se.json();if(Fe.data.width&&Fe.data.height&&M({width:Fe.data.width,height:Fe.data.height}),Fe.success){const et=Fe.data.link;D(et),u(d+1),T(!1)}else throw T(!1),new Error("Image url upload to Imgur failed but did not return a typical error response")}catch(Se){return T(!1),console.error("There was an error uploading the image to Imgur:",Se),null}},ae=async te=>{const pe=new FormData;pe.append("image",te);try{T(!0);const Se=await fetch(Zc,{method:"POST",headers:{Authorization:`Client-ID ${Cc}`},body:pe});if(!Se.ok){const et=await Se.json();throw T(!1),new Error(`Imgur API error: ${et.data.error}`)}const Fe=await Se.json();if(Fe.data.width&&Fe.data.height&&M({width:Fe.data.width,height:Fe.data.height}),Fe.success){const et=Fe.data.link;return T(!1),et}else throw T(!1),new Error("Image file upload to Imgur failed but did not return a typical error response")}catch(Se){return console.error("There was an error uploading the image to Imgur:",Se),T(!1),null}},Q=async te=>{if(!await me(te))return console.error("File is not a valid image file"),!1;const pe=await ae(te);return pe?(D(pe),u(d+1),!1):(_.error("Image upload failed"),!1)},Xe=async te=>{if(!te){b.setFields([{name:"imageUrl",errors:["An image URL is required"]}]);return}if(T(!0),!await ee(te)){b.setFields([{name:"imageUrl",errors:["URL does not lead to an image"]}]),T(!1);return}if(await be(te))D(te),u(d+1);else{const pe=await Ge(te);pe?(D(pe),u(d+1)):b.setFields([{name:"imageUrl",errors:["Failed to process image, upload image instead."]}])}T(!1)},Pe=async()=>{if(d!==0){console.error(`Stage #${d} not implemented!`);return}switch(F){case"url":await Xe(b.getFieldValue("imageUrl"));break;case"default":s({type:"delete",config:{}}),l(!1);break;case null:default:console.warn("Radio select must be either 'upload' or 'url'");break}},Oe=()=>u(d-1),tt=te=>P(te.target.value),ue=[{title:"Provide image",content:i.jsxs(i.Fragment,{children:[i.jsx(S,{justify:"center",style:{marginBottom:16},children:i.jsxs(ze.Group,{onChange:tt,value:F,buttonStyle:"solid",children:[i.jsx(ze.Button,{value:"upload",children:p("Upload.Radio.Upload")}),i.jsx(ze.Button,{value:"url",children:p("Upload.Radio.Url")}),c&&i.jsx(ze.Button,{value:"default",children:p("Upload.Radio.Default")})]})}),F==="upload"&&i.jsx(i.Fragment,{children:i.jsx(sb,{name:"file",multiple:!1,accept:"image/png, image/jpeg, image/jpg, image/gif",beforeUpload:Q,disabled:G,showUploadList:!1,children:G?i.jsx(S,{style:{height:"300px"},justify:"center",align:"center",children:i.jsx(xo,{size:"large"})}):i.jsxs(S,{style:{height:"300px"},justify:"center",align:"center",vertical:!0,children:[i.jsx("p",{className:"ant-upload-drag-icon",children:i.jsx(lb,{})}),i.jsx("p",{className:"ant-upload-text",children:p("Upload.Upload.Method")}),i.jsx("p",{className:"ant-upload-hint",children:p("Upload.Upload.Limit")})]})})}),F==="url"&&i.jsx(U.Item,{name:"imageUrl",label:p("Upload.Url.Label"),style:{margin:"0 20px"},rules:[{required:!0,message:p("Upload.Url.Rule")}],children:i.jsx(Yt,{autoComplete:"off"})}),F==="default"&&i.jsx(S,{justify:"center",style:{height:"400px"},children:i.jsx("img",{src:c})})]})},{title:"Crop image",content:i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{height:"380px",position:"relative"},children:i.jsx(ob,{image:C,crop:x,zoom:H,aspect:t,onCropChange:W,onCropComplete:w,onMediaLoaded:()=>{e&&(W(e.cropper.crop),O(e.cropper.zoom))},onZoomChange:te=>{navigator.maxTouchPoints===0?(te<H&&O(Math.max(po,H*.95)),te>H&&O(Math.min(So,H*1.05))):O(te)},zoomSpeed:navigator.maxTouchPoints===0?1e-4:1,minZoom:po,maxZoom:So})}),i.jsxs(S,{style:{width:"100%",marginTop:4},gap:8,align:"center",children:[i.jsx("label",{style:{whiteSpace:"nowrap"},children:p("Edit.Zoom")}),i.jsx(Gl,{style:{width:"100%"},min:po,max:So,step:.1,tooltip:{formatter:null},onChange:O,value:H})]}),i.jsxs(S,{style:{marginTop:0},children:[i.jsxs(S,{vertical:!0,style:{flex:1},children:[i.jsxs("div",{children:[i.jsx(rb,{style:{marginRight:8}}),p("Edit.Drag")]}),i.jsxs("div",{style:{flex:1,marginTop:8},children:[i.jsx(cb,{style:{marginRight:8}}),p("Edit.Pinch")]})]}),i.jsxs(S,{vertical:!0,style:{flex:1},children:[i.jsx(XT,{style:{flex:1,marginLeft:3},children:p("Edit.ArtBy")}),i.jsx(U.Item,{name:"artistName",children:i.jsx(Yt,{style:{flex:1,marginTop:3},placeholder:p("Edit.CreditPlaceholder"),autoComplete:"off"})})]})]})]})}];return i.jsx(U,{form:b,layout:"vertical",children:i.jsx(Vt,{open:n,width:r,destroyOnClose:!0,centered:!0,maskClosable:!1,onOk:ie,onCancel:()=>l(!1),transitionName:"",footer:[i.jsx(S,{justify:"flex-end",children:i.jsxs(S,{style:{marginTop:16},justify:"center",align:"center",gap:8,children:[G&&F!=="upload"&&i.jsx(xo,{style:{textAlign:"center"},size:"large"}),i.jsx(z,{onClick:()=>l(!1),children:R("Cancel")}),d>0&&e&&i.jsx(z,{onClick:Oe,danger:!0,children:p("Footer.Change")}),d>0&&!e&&i.jsx(z,{onClick:Oe,children:p("Footer.Previous")}),d<ue.length-1&&i.jsx(z,{type:"primary",onClick:Pe,disabled:F==="upload",children:p("Footer.Next")}),d===ue.length-1&&i.jsx(z,{type:"primary",onClick:ie,children:R("Submit")})]})},1)],title:o,children:i.jsxs("div",{style:{height:"505px",position:"relative"},children:[!e&&i.jsx(qs,{current:d,style:{marginBottom:12},children:ue.map(te=>i.jsx(qs.Step,{title:te.title=="Provide image"?p("Upload.Title"):p("Edit.Title")},te.title))}),ue.map((te,pe)=>i.jsx("div",{style:{display:d===pe?"block":"none"},children:te.content},te.title))]})})})};function YT(e){const{t}=K(["charactersTab","modals","common"]),n=window.store(ie=>ie.globalThemeConfig),l=window.store(ie=>ie.savedSession.showcaseUID),s=window.store(ie=>ie.scorerId),o=e.source==Zt.SHOWCASE_TAB&&l,{source:r,character:c,displayDimensions:d,customPortrait:u,editPortraitModalOpen:b,setEditPortraitModalOpen:p,onEditPortraitOk:R,simScoringResult:G,artistName:T,setOriginalCharacterModalInitialCharacter:C,setOriginalCharacterModalOpen:D,setCharacterModalAdd:V,onPortraitLoad:M}=e,{tempLcParentW:x,tempLcParentH:W,tempLcInnerW:H,tempLcInnerH:O,tempInnerW:j,tempParentH:N,newLcHeight:F,newLcMargin:P,lcCenter:X,charCenter:w}=d;return i.jsxs("div",{style:{width:`${Aa}px`,height:`${N}px`,position:"relative",overflow:"hidden",borderRadius:"8px",border:vi,boxShadow:Hi},children:[c.portrait??u?i.jsx(vT,{customPortrait:u??c.portrait,parentW:Aa,onPortraitLoad:M}):i.jsx(Vl,{src:k.getCharacterPortraitById(c.id),style:{position:"absolute",left:-w.x*w.z/2*j/1024+Aa/2,top:-w.y*w.z/2*j/1024+N/2,width:j*w.z},callback:M}),i.jsx(wn,{theme:n,children:i.jsxs(S,{vertical:!0,style:{width:"max-content",marginLeft:6,marginTop:6},gap:7,children:[r!=Zt.SHOWCASE_TAB&&i.jsx(z,{style:to,className:"character-build-portrait-button",icon:i.jsx(As,{}),onClick:()=>{V(!1),C(c),D(!0)},type:"primary",children:t("CharacterPreview.EditCharacter")}),r==Zt.SHOWCASE_TAB&&i.jsx(z,{style:to,className:"character-build-portrait-button",icon:i.jsx(As,{}),onClick:()=>{C(c),D(!0)},type:"primary",children:t("CharacterPreview.EditCharacter")}),i.jsx(z,{style:to,className:"character-build-portrait-button",icon:i.jsx(As,{}),onClick:()=>p(!0),type:"primary",children:t("CharacterPreview.EditPortrait")})]})}),i.jsx(wn,{theme:n,children:i.jsx(kT,{title:t("CharacterPreview.EditPortrait"),aspectRatio:Aa/Gs,existingConfig:u??c.portrait,open:b,setOpen:p,onOk:R,defaultImageUrl:k.getCharacterPortraitById(c.id),width:500})}),i.jsxs(S,{vertical:!0,gap:3,style:{marginBottom:3,paddingLeft:3,position:"absolute",bottom:0},children:[i.jsx("span",{style:{display:o?"inline":"none",backgroundColor:"rgb(20 20 20 / 30%)",color:"rgb(255 255 255 / 80%)",padding:"4px 12px",borderRadius:8,border:ec,backdropFilter:Yo,fontSize:14,width:"fit-content",maxWidth:Aa-150,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",zIndex:2,textShadow:"0px 0px 10px black"},children:s}),i.jsx("span",{style:{display:T?"inline":"none",backgroundColor:"rgb(20 20 20 / 30%)",color:"rgb(255 255 255 / 80%)",padding:"4px 12px",borderRadius:8,border:ec,backdropFilter:Yo,fontSize:14,width:"fit-content",maxWidth:Aa-150,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",zIndex:2,textShadow:"0px 0px 10px black"},children:t("CharacterPreview.ArtBy",{artistName:T??""})})]})]})}function wT(e){const{setSelectedRelic:t,setEditModalOpen:n,setAddModalOpen:l,displayRelics:s,source:o,characterId:r,scoredRelics:c,showcaseColors:d}=e;return i.jsxs(S,{gap:$e,children:[i.jsxs(S,{vertical:!0,gap:$e,children:[i.jsx(_t,{setEditModalOpen:n,setSelectedRelic:t,setAddModalOpen:l,relic:{...s.Head,part:m.Parts.Head},source:o,characterId:r,score:c.find(u=>u.part==m.Parts.Head),scoringType:e.scoringType,showcaseTheme:d}),i.jsx(_t,{setEditModalOpen:n,setSelectedRelic:t,setAddModalOpen:l,relic:{...s.Body,part:m.Parts.Body},source:o,characterId:r,score:c.find(u=>u.part==m.Parts.Body),scoringType:e.scoringType,showcaseTheme:d}),i.jsx(_t,{setEditModalOpen:n,setSelectedRelic:t,setAddModalOpen:l,relic:{...s.PlanarSphere,part:m.Parts.PlanarSphere},source:o,characterId:r,score:c.find(u=>u.part==m.Parts.PlanarSphere),scoringType:e.scoringType,showcaseTheme:d})]}),i.jsxs(S,{vertical:!0,gap:$e,children:[i.jsx(_t,{setEditModalOpen:n,setSelectedRelic:t,setAddModalOpen:l,relic:{...s.Hands,part:m.Parts.Hands},source:o,characterId:r,score:c.find(u=>u.part==m.Parts.Hands),scoringType:e.scoringType,showcaseTheme:d}),i.jsx(_t,{setEditModalOpen:n,setSelectedRelic:t,setAddModalOpen:l,relic:{...s.Feet,part:m.Parts.Feet},source:o,characterId:r,score:c.find(u=>u.part==m.Parts.Feet),scoringType:e.scoringType,showcaseTheme:d}),i.jsx(_t,{setEditModalOpen:n,setSelectedRelic:t,setAddModalOpen:l,relic:{...s.LinkRope,part:m.Parts.LinkRope},source:o,characterId:r,score:c.find(u=>u.part==m.Parts.LinkRope),scoringType:e.scoringType,showcaseTheme:d})]})]})}function NT(e){const{t}=K(["charactersTab","modals","common"]),{scoringResults:n}=e;return i.jsx(S,{vertical:!0,children:i.jsx(Tn,{style:{fontSize:17,fontWeight:600,letterSpacing:-.2,textAlign:"center",color:"#e1a564"},children:t("CharacterPreview.CharacterScore",{score:n.totalScore.toFixed(0),grade:n.totalScore==0?"":n.totalRating})})})}function OT(e){const{characterId:t}=e;return!t||!q0[t]?i.jsx(i.Fragment,{}):i.jsx(wn,{theme:{components:{Alert:{colorInfo:"#4bc65d",colorInfoBg:"#1f3464",colorInfoBorder:"#334d8a"}}},children:i.jsx(db,{message:q0[t],type:"info",showIcon:!0,style:{marginTop:10}})})}const{useToken:UT}=Bt;function Fn(e){return i.jsx(ze.Button,{value:e.value,style:{height:35,width:50,paddingLeft:10},children:i.jsx(Qc,{preview:!1,width:30,src:e.src})})}Fn.propTypes={value:zt.string,src:zt.string};Ft($t)`
    width: 90px
`;function Wc(e){var l,s;const t=(l=e.main)==null?void 0:l.stat,n=(s=e.main)==null?void 0:s.value;return t?fm(t,n):{}}function ln(e,t){const n=e.substats[t];if(!(n!=null&&n.stat))return{};const l=n.stat,s=n.value;return fm(l,s,e)}function fm(e,t,n){return e==a.SPD?n!=null&&n.verified?{stat:e,value:t.toFixed(1)}:{stat:e,value:t%1!==0?t.toFixed(1):Math.floor(t)}:B.isFlat(e)?{stat:e,value:Math.floor(t)}:{stat:e,value:B.precisionRound(Math.floor(t*10)/10).toFixed(1)}}function gs(e){var W,H,O,j,N;const{t}=K(["modals","common","gameData"]),{token:n}=UT(),[l]=U.useForm(),[s,o]=E.useState([]),r=window.store(F=>F.characters),c=E.useMemo(()=>E0({currentCharacters:r,longNameLabel:!0}),[r,v.resolvedLanguage]),d=E.useMemo(function(){const P=[];for(const X of[...Object.entries(m.SetsRelics),...Object.entries(m.SetsOrnaments)].filter(w=>!xi[w[1]]))P.push({label:i.jsxs(S,{align:"center",gap:10,children:[i.jsx("img",{style:{height:22,width:22},src:k.getSetImage(X[1])}),v.t(`gameData:RelicSets.${ot[X[1]]}.Name`)]}),value:X[1]});return P},[v.resolvedLanguage]),u=U.useWatch("equippedBy",l),[b,p]=E.useState([]);E.useEffect(()=>{let F={grade:5,enhance:15,part:m.Parts.Head,mainStatType:m.Stats.HP,mainStatValue:Math.floor(m.MainStatsValues[m.Stats.HP][5].base+m.MainStatsValues[m.Stats.HP][5].increment*15)};const P=e.selectedRelic;!P||e.type!="edit"||(F={equippedBy:P.equippedBy??"None",grade:P.grade,enhance:P.enhance,set:P.set,part:P.part,mainStatType:Wc(P).stat,mainStatValue:Wc(P).value,substatType0:ln(P,0).stat,substatValue0:ln(P,0).value,substatType1:ln(P,1).stat,substatValue1:ln(P,1).value,substatType2:ln(P,2).stat,substatValue2:ln(P,2).value,substatType3:ln(P,3).stat,substatValue3:ln(P,3).value}),T(F),l.setFieldsValue(F)},[e.selectedRelic,e.open,l,e]),E.useEffect(()=>{var P,X,w,ie;let F=[];(P=e.selectedRelic)!=null&&P.part&&(F=Object.entries(m.PartsMainStats[(X=e.selectedRelic)==null?void 0:X.part]).map(ee=>({label:i.jsxs(S,{align:"center",gap:10,children:[i.jsx("img",{src:k.getStatIcon(ee[1],!0),style:{width:22,height:22}}),t(`common:Stats.${ee[1]}`)]}),value:ee[1]}))),o(F),l.setFieldValue("mainStatType",(ie=(w=e.selectedRelic)==null?void 0:w.main)==null?void 0:ie.stat)},[(W=e.selectedRelic)==null?void 0:W.part,(O=(H=e.selectedRelic)==null?void 0:H.main)==null?void 0:O.stat,l,t]),E.useEffect(()=>{var F,P,X,w;s.length>0&&(s.map(ee=>ee.value).includes((P=(F=e.selectedRelic)==null?void 0:F.main)==null?void 0:P.stat)?l.setFieldValue("mainStatType",(w=(X=e.selectedRelic)==null?void 0:X.main)==null?void 0:w.stat):l.setFieldValue("mainStatType",s[0].value)),C()},[l,s,(N=(j=e.selectedRelic)==null?void 0:j.main)==null?void 0:N.stat]);const R=F=>{const P=Dg(F);P&&(KT(e.selectedRelic,P)&&(P.verified=!1),console.log(t("Relic.Messages.EditSuccess"),P),e.onOk(P),e.setOpen(!1))},G=()=>{_.error(t("Relic.Messages.SubmitFail")),e.setOpen(!1)},T=F=>{var ee,me;let P=[];F.part&&(P=Object.entries(m.PartsMainStats[F.part]).map(be=>({label:i.jsxs(S,{align:"center",gap:10,children:[i.jsx("img",{src:k.getStatIcon(be[1],!0),style:{width:22,height:22}}),t(`common:Stats.${be[1]}`)]}),value:be[1]})),o(P),l.setFieldValue("mainStatType",(ee=P[0])==null?void 0:ee.value));const X=((me=P[0])==null?void 0:me.value)||l.getFieldValue("mainStatType"),w=l.getFieldValue("enhance"),ie=l.getFieldValue("grade");if(X!=null&&w!=null&&ie!=null){const be=[m.Stats.OHB,m.Stats.Physical_DMG,m.Stats.Physical_DMG,m.Stats.Fire_DMG,m.Stats.Ice_DMG,m.Stats.Lightning_DMG,m.Stats.Wind_DMG,m.Stats.Quantum_DMG,m.Stats.Imaginary_DMG],Ge=[m.Stats.HP,m.Stats.ATK,m.Stats.SPD];let ae=y.calculateRelicMainStatValue(X,ie,w);be.includes(X)?ae=B.truncate10ths(ae):Ge.includes(X)?ae=Math.floor(ae):ae=ae.toFixed(1),l.setFieldValue("mainStatValue",ae)}};function C(){const F=Eg(l.getFieldsValue());p(F)}const D=()=>{e.setOpen(!1)},V=()=>{l.submit()},M=()=>{l.setFieldValue("enhance",Math.floor(Math.min(l.getFieldValue("enhance")+3,15)/3)*3)},x=E.useMemo(()=>{const F=[];for(let P=15;P>=0;P--)F.push({value:P,label:"+"+P});return F},[]);return i.jsx(U,{form:l,layout:"vertical",preserve:!1,onFinish:R,onFinishFailed:G,onValuesChange:T,children:i.jsx(Vt,{width:560,centered:!0,destroyOnClose:!0,open:e.open,onCancel:()=>e.setOpen(!1),footer:[i.jsx(z,{onClick:D,children:t("common:Cancel")},"back"),i.jsx(z,{type:"primary",onClick:V,children:t("common:Submit")},"submit")],children:i.jsxs(S,{vertical:!0,gap:5,children:[i.jsxs(S,{gap:10,children:[i.jsxs(S,{vertical:!0,gap:5,children:[i.jsx($,{children:t("Relic.Part")}),i.jsx(U.Item,{name:"part",children:i.jsxs(ze.Group,{buttonStyle:"solid",children:[i.jsx(Fn,{value:m.Parts.Head,src:k.getPart(m.Parts.Head)}),i.jsx(Fn,{value:m.Parts.Hands,src:k.getPart(m.Parts.Hands)}),i.jsx(Fn,{value:m.Parts.Body,src:k.getPart(m.Parts.Body)}),i.jsx(Fn,{value:m.Parts.Feet,src:k.getPart(m.Parts.Feet)}),i.jsx(Fn,{value:m.Parts.PlanarSphere,src:k.getPart(m.Parts.PlanarSphere)}),i.jsx(Fn,{value:m.Parts.LinkRope,src:k.getPart(m.Parts.LinkRope)})]})}),i.jsx($,{children:t("Relic.Set")}),i.jsx(U.Item,{name:"set",children:i.jsx(J,{showSearch:!0,allowClear:!0,style:{width:300},placeholder:t("Relic.Set"),options:d,maxTagCount:"responsive"})}),i.jsx($,{children:t("Relic.Enhance")}),i.jsxs(S,{gap:10,children:[i.jsx(U.Item,{name:"enhance",children:i.jsx(J,{showSearch:!0,style:{width:115},options:x})}),i.jsx(z,{style:{width:50},onClick:M,children:"+3"}),i.jsx(U.Item,{name:"grade",children:i.jsx(J,{showSearch:!0,style:{width:115},options:[{value:2,label:"2 ★"},{value:3,label:"3 ★"},{value:4,label:"4 ★"},{value:5,label:"5 ★"}],onChange:C})})]}),i.jsx($,{children:t("Relic.Mainstat")}),i.jsxs(S,{gap:10,children:[i.jsx(U.Item,{name:"mainStatType",children:i.jsx(J,{showSearch:!0,style:{width:210},maxTagCount:"responsive",options:s,disabled:s.length<=1})}),i.jsx(U.Item,{name:"mainStatValue",children:i.jsx($t,{controls:!1,disabled:!0,style:{width:80}})})]})]}),i.jsx("div",{style:{display:"block",minWidth:12}}),i.jsxs(S,{vertical:!0,gap:5,style:{},children:[i.jsx($,{children:t("Relic.Wearer")}),i.jsx(U.Item,{name:"equippedBy",children:i.jsx(J,{showSearch:!0,filterOption:B.titleFilterOption,style:{height:35},options:c,optionLabelProp:"title"})}),i.jsx("div",{style:{height:180,overflow:"hidden",marginTop:7,borderRadius:10,boxShadow:`0px 0px 0px 1px ${n.colorBorder} inset`},children:i.jsx("img",{style:{width:"100%"},src:k.getCharacterPreviewById(u=="None"?"":u)})})]})]}),i.jsx(S,{gap:20,children:i.jsxs(S,{vertical:!0,gap:5,style:{width:"100%"},children:[i.jsxs(S,{justify:"space-between",children:[i.jsx($,{children:t("Relic.Substat")}),i.jsx(S,{style:{width:180},children:i.jsx($,{children:t("Relic.Upgrades")})})]}),i.jsx(Us,{index:0,upgrades:b,relicForm:l,resetUpgradeValues:C,plusThree:M}),i.jsx(Us,{index:1,upgrades:b,relicForm:l,resetUpgradeValues:C,plusThree:M}),i.jsx(Us,{index:2,upgrades:b,relicForm:l,resetUpgradeValues:C,plusThree:M}),i.jsx(Us,{index:3,upgrades:b,relicForm:l,resetUpgradeValues:C,plusThree:M})]})})]})})})}function Us(e){const t=E.useRef(null),[n,l]=Tt.useState(!1),s=`substatType${e.index}`,o=`substatValue${e.index}`,{t:r}=K("modals",{keyPrefix:"Relic"}),c=()=>{t.current&&t.current.select()};function d(p){console.log(e,p),e.relicForm.setFieldValue(o,e.upgrades[e.index][p]),e.resetUpgradeValues(),e.plusThree()}const u=E.useMemo(()=>{const p=[];for(const R of Object.entries(m.SubStats))p.push({label:i.jsxs(S,{align:"center",gap:10,children:[i.jsx("img",{style:{width:22,height:22},src:k.getStatIcon(R[1],!0)}),v.t(`common:Stats.${R[1]}`)]}),value:R[1]});return p},[v.resolvedLanguage]);function b(p){var G,T;const R=(T=(G=e.upgrades)==null?void 0:G[e.index])==null?void 0:T[p.quality];return i.jsx(S,{style:{width:"100%"},children:i.jsx(z,{type:n?"default":"dashed",style:{width:"100%",padding:0},onClick:()=>d(p.quality),disabled:R==null,tabIndex:-1,children:R||""})})}return i.jsxs(S,{gap:10,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[i.jsxs(S,{gap:10,children:[i.jsx(U.Item,{name:s,children:i.jsx(J,{showSearch:!0,allowClear:!0,style:{width:210},placeholder:r("SubstatPlaceholder"),maxTagCount:"responsive",options:u,listHeight:750,onChange:()=>{e.relicForm.getFieldValue(s)?e.relicForm.setFieldValue(o,0):e.relicForm.setFieldValue(o,void 0),e.resetUpgradeValues()},tabIndex:0})}),i.jsx(U.Item,{name:`substatValue${e.index}`,children:i.jsx(Yt,{ref:t,onFocus:c,style:{width:80},onChange:e.resetUpgradeValues,tabIndex:0})})]}),i.jsx(ub,{style:{width:12}}),i.jsxs(S,{gap:5,style:{width:"100%"},children:[i.jsx(b,{quality:"low"}),i.jsx(b,{quality:"mid"}),i.jsx(b,{quality:"high"})]})]})}function Mc(e){var t;return y.objectHash({grade:e.grade,enhance:e.enhance,part:e.part,set:e.set,mainStatType:(t=e.main)==null?void 0:t.stat,substats:e.substats.map(n=>({stat:n.stat,value:B.truncate1000ths(y.precisionRound(n.value))}))})}function KT(e,t){if(!e||!t)return!0;const n=Mc(e),l=Mc(t);return n!=l}const{useToken:JT}=Bt;window.Vibrant=pd;function Y0(e){var ai;const{source:t,character:n,setOriginalCharacterModalOpen:l,setOriginalCharacterModalInitialCharacter:s,setCharacterModalAdd:o}=e,{token:r}=JT(),[c,d]=E.useState(),[u,b]=E.useState(!1),[p,R]=E.useState(!1),[G,T]=E.useState(!1),[C,D]=E.useState(),[V,M]=E.useState({}),[x,W]=E.useState(Wi),[H,O]=E.useState(i0),j=E.useRef(),N=E.useRef(ml),F=window.store(Be=>Be.relicsById),[P,X]=E.useState(0),w=window.store(Be=>Be.showcasePreferences),ie=E.useRef(null),[ee,me]=E.useState(ml),[be,Ge]=E.useState(window.store.getState().savedSession[Ue.showcaseStandardMode]?Rt.STANDARD:Rt.AUTO),ae=window.store(Be=>Be.activeKey),Q=window.store(Be=>Be.savedSession.showcaseDarkMode);window.store(Be=>{var Gt;return(Gt=Be.scoringMetadataOverrides[n==null?void 0:n.id])==null?void 0:Gt.stats[a.SPD]}),window.store(Be=>{var Gt;return(Gt=Be.scoringMetadataOverrides[n==null?void 0:n.id])==null?void 0:Gt.traces}),window.store(Be=>{var Gt,en;return(en=(Gt=Be.scoringMetadataOverrides[n==null?void 0:n.id])==null?void 0:Gt.simulation)==null?void 0:en.deprioritizeBuffs});const Xe=window.store(Be=>Be.showcaseTemporaryOptions);if(!n||ae!=de.CHARACTERS&&ae!=de.SHOWCASE)return i.jsx("div",{style:{height:Gs,width:1068,borderRadius:8,backgroundColor:r.colorBgLayout,border:`1px solid ${r.colorBgContainer}`}});console.log("======================================================================= RENDER CharacterPreview",t);function Pe(Be){M({...V,...Be})}const{scoringResults:Oe,displayRelics:tt}=Jg(t,n,F),ue=Oe.relics||[],te=t5(n),pe=e5(n,j,V),Se=_g(n,tt,x,pe,te,Xe),Fe=((ai=I.getCharacterById(n==null?void 0:n.id))==null?void 0:ai.portrait)??void 0,et=(Fe==null?void 0:Fe.imageUrl)??k.getCharacterPortraitById(n.id),Lt=IT(n.id,et,be),Ot=be==Rt.STANDARD?CT():w[n.id]??DT(Lt),Ga=ET(be,w,n),q=Fe?bl[et]?Ga==Rt.AUTO?Lt:Ot.color??Lt:N.current:Ga==Rt.AUTO?Lt:Ot.color??Lt;N.current=q;const Je={algorithm:Bt.darkAlgorithm,token:{colorBgLayout:q,colorPrimary:q},components:{Segmented:{trackBg:A5(),itemSelectedBg:J5(q,Q)}}},oe=mb(Je),at={cardBackgroundColor:O5(oe.colorPrimaryActive,Q),cardBorderColor:U5(oe.colorPrimaryActive,Q)},Ut=jg(n,!!Se),ti=Ag(n),Dn=zg(n,tt,te);return i.jsxs(S,{vertical:!0,style:{width:1068},children:[i.jsx(gs,{selectedRelic:c,type:"edit",onOk:Be=>Qg(Be,c,d),setOpen:b,open:u}),i.jsx(gs,{selectedRelic:c,type:"edit",onOk:Be=>$g(Be,d),setOpen:R,open:p}),i.jsx(Sm,{ref:ie,source:t,id:e.id,characterId:n.id,simScoringResult:Se,token:oe,showcasePreferences:Ot,setOverrideTheme:()=>{},scoringType:x,seedColor:q,setSeedColor:me,colorMode:Ga,setColorMode:Ge}),i.jsx(wn,{theme:Je,children:i.jsxs(S,{id:e.id,className:"characterPreview",style:{position:"relative",display:n?"flex":"none",height:Gs,background:K5(r.colorBgLayout,Q),backgroundBlendMode:"screen",overflow:"hidden",borderRadius:7,transition:Uo()},gap:$e,children:[i.jsx("div",{style:{backgroundImage:`url(${et})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"150%",position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0,filter:`blur(20px) brightness(${Q?.5:.7}) saturate(${.8})`,WebkitFilter:`blur(20px) brightness(${Q?.5:.7}) saturate(${.8})`}}),t!=Zt.BUILDS_MODAL&&i.jsxs(S,{vertical:!0,gap:8,className:"character-build-portrait",children:[i.jsx(YT,{source:t,character:n,displayDimensions:Ut,customPortrait:Fe,editPortraitModalOpen:G,setEditPortraitModalOpen:T,onEditPortraitOk:Be=>qg(n,Be,D,T),simScoringResult:Se,artistName:ti,setOriginalCharacterModalInitialCharacter:s,setOriginalCharacterModalOpen:l,setCharacterModalAdd:o,onPortraitLoad:Be=>{var Gt;return(Gt=ie.current)==null?void 0:Gt.onPortraitLoad(Be,n.id)}}),Se&&i.jsx(FT,{source:t,character:n,showcaseMetadata:te,displayDimensions:Ut,setOriginalCharacterModalInitialCharacter:s,setOriginalCharacterModalOpen:l,setCharacterModalAdd:o})]}),i.jsxs(S,{vertical:!0,justify:"space-between",gap:8,style:{},children:[i.jsxs(S,{vertical:!0,style:{width:AR,height:"100%",borderRadius:8,zIndex:10,backgroundColor:at.cardBackgroundColor,transition:Uo(),flex:1,paddingRight:2,paddingLeft:2,paddingBottom:3,boxShadow:Hi+Ou,border:`1px solid ${at.cardBorderColor}`},justify:"space-between",children:[i.jsx(hT,{showcaseMetadata:te,scoringType:x}),i.jsx(Oo,{characterId:n.id,finalStats:Dn,elementalDmgValue:te.elementalDmgType,scoringType:x,simScore:Se?Se.originalSimResult.simScore:void 0}),Se&&i.jsxs(i.Fragment,{children:[i.jsx(MT,{result:Se,relics:tt}),i.jsx(xT,{characterId:te.characterId,token:oe,simScoringResult:Se,teamSelection:pe,combatScoreDetails:H,displayRelics:tt,setTeamSelectionByCharacter:Pe,setRedrawTeammates:X}),i.jsx(WT,{combatScoreDetails:H,simScoringResult:Se})]}),!Se&&i.jsxs(i.Fragment,{children:[x!=za&&i.jsx(NT,{scoringResults:Oe}),i.jsx(HT,{showcaseMetadata:te})]})]}),!Se&&i.jsx(i.Fragment,{children:i.jsx(BT,{source:t,character:n,showcaseMetadata:te,displayDimensions:Ut,setOriginalCharacterModalInitialCharacter:s,setOriginalCharacterModalOpen:l,setCharacterModalAdd:o})})]}),i.jsx(wT,{setSelectedRelic:d,setEditModalOpen:b,setAddModalOpen:R,displayRelics:tt,source:t,scoringType:x,characterId:te.characterId,scoredRelics:ue,showcaseColors:at})]})}),i.jsx(OT,{characterId:te.characterId}),t!=Zt.BUILDS_MODAL&&i.jsx(dT,{token:r,simScoringResult:Se,combatScoreDetails:H,showcaseMetadata:te,scoringType:x,displayRelics:tt,setScoringType:W,setCombatScoreDetails:O})]})}const AT="ArrowLeft",jT="ArrowUp",zT="ArrowRight",_T="ArrowDown",w0=(e,t,n)=>{const l=e.previousCellPosition;let s,o,r;function c(d){return d>=o||d<=-1?null:(r=t.current.api.getDisplayedRowAtIndex(d),t.current.api.setNodesSelected({nodes:[r],newValue:!0}),n(r),{rowIndex:d,column:l.column,rowPinned:l.rowPinned})}switch(e.key){case jT:return s=l.rowIndex-1,c(s);case _T:return s=l.rowIndex+1,o=e.api.getDisplayedRowCount(),c(s);case AT:case zT:default:return null}},QT=({open:e,setOpen:t,selectedCharacter:n})=>{var V,M;const{t:l}=K(["modals","gameData","common"]),[s,o]=Vt.useModal(),[r,c]=E.useState(null),d=l(`gameData:Characters.${n==null?void 0:n.id}.Name`);E.useEffect(()=>{var x;e&&((x=n==null?void 0:n.builds)!=null&&x.length)&&(c(0),p(n.builds))},[e,n]);const u=E.useMemo(()=>{var x;if(r!=null&&((x=n==null?void 0:n.builds)!=null&&x[r].build)){const W=window.store.getState().relicsById,H=Object.values(n.builds[r].build).map(N=>W[N]),O={};H.filter(N=>!!N).map(N=>O[N.part]=N);const j=JSON.parse(JSON.stringify(n));return j.equipped=O,console.log("Previewing builds character:",j),i.jsx(Y0,{character:j,source:Zt.BUILDS_MODAL,id:"relicScorerPreview"})}return i.jsx("div",{style:{width:656,height:856,border:"1px solid #354b7d"}})},[r,n]);if(!((V=n==null?void 0:n.builds)!=null&&V.length))return i.jsxs(Vt,{open:e,width:300,destroyOnClose:!0,onOk:()=>t(!1),onCancel:()=>t(!1),centered:!0,okText:l("common:Ok"),cancelText:l("common:Cancel"),children:[l("Builds.NoBuilds.NoneSaved"),o]});async function b(x){return s.confirm({title:l("common:Confirm"),icon:i.jsx(Rd,{}),content:x,okText:l("common:Confirm"),cancelText:l("common:Cancel"),centered:!0})}function p(x){for(const W of x){const H=window.store.getState().relicsById,O=Object.values(W.build).map(N=>H[N]),j=dt.scoreCharacterWithRelics(n,O);W.score={score:Math.round(j.totalScore??0),rating:j.totalRating??"N/A"}}}function R(){t(!1)}const G=()=>{c(null),t(!1)},T=async()=>{await b(l("Builds.ConfirmDelete.DeleteAll"))&&(c(null),I.clearCharacterBuilds(n==null?void 0:n.id),window.forceCharacterTabUpdate(),Te.delayedSave(),_.success(l("Builds.ConfirmDelete.SuccessMessageAll",{characterName:d})),t(!1))},C=async x=>{await b(l("Builds.ConfirmDelete.DeleteSingle",{name:x}))&&(c(null),I.deleteCharacterBuild(n==null?void 0:n.id,x),window.forceCharacterTabUpdate(),Te.delayedSave(),_.success(l("Builds.ConfirmDelete.SuccessMessageSingle",{name:x})),(n==null?void 0:n.Builds.length)==0&&t(!1))},D=async x=>{await b(l("Builds.ConfirmEquip.Content"))&&(I.equipRelicIdsToCharacter(Object.values(x.build),n==null?void 0:n.id),window.forceCharacterTabUpdate(),Te.delayedSave(),_.success(l("Builds.ConfirmEquip.SuccessMessage",{buildName:x.name})),G())};return i.jsx(Vt,{open:e,width:1115,destroyOnClose:!0,centered:!0,onOk:R,onCancel:G,footer:[i.jsx(z,{onClick:()=>T(),children:l("Builds.DeleteAll")},"delete"),i.jsx(z,{onClick:G,children:l("common:Cancel")},"back")],children:i.jsxs(S,{gap:10,children:[n&&i.jsx(i.Fragment,{children:i.jsx(S,{vertical:!0,style:{overflowY:"auto",marginBottom:20,minWidth:400,maxWidth:400,height:840},gap:8,children:(M=n.builds)==null?void 0:M.map((x,W)=>i.jsx(zn,{style:{backgroundColor:r===W?"#001529":void 0,cursor:"pointer"},onClick:H=>{H.target.closest("button")!==null||c(W)},hoverable:!0,children:i.jsxs(S,{justify:"space-between",gap:8,align:"center",children:[i.jsx(S,{vertical:!0,align:"flex-start",children:i.jsx($,{style:{flex:1,fontSize:16,fontWeight:600},children:x.name})}),i.jsxs(S,{gap:5,children:[i.jsx(z,{onClick:()=>{D(x)},children:l("Builds.Equip")}),i.jsx(z,{style:{width:35},type:"primary",icon:i.jsx(_o,{}),onClick:()=>{C(x.name)}})]})]})},W))})}),o,u]})})},$T=({open:e,setOpen:t,onOk:n})=>{const[l]=U.useForm(),{t:s}=K("modals",{keyPrefix:"SaveBuild"}),{t:o}=K("common");function r(){const u=l.getFieldsValue();n(u.name)}const c=()=>{t(!1)};return i.jsx(Vt,{open:e,width:350,destroyOnClose:!0,centered:!0,onOk:r,onCancel:c,footer:[i.jsx(z,{onClick:c,children:o("Cancel")},"back"),i.jsx(z,{type:"primary",onClick:r,children:o("Save")},"submit")],children:i.jsx(U,{form:l,preserve:!1,layout:"vertical",children:i.jsx(U.Item,{name:"name",label:s("Label"),rules:[{required:!0,message:s("Rule")}],style:{width:300},children:i.jsx(Yt,{})})})})};function qT(e){const{onOk:t,open:n,setOpen:l,currentCharacter:s}=e,[o]=U.useForm(),r=window.store(G=>G.characters),{t:c}=K("modals",{keyPrefix:"SwitchRelics"}),{t:d}=K("common"),u=E.useMemo(()=>E0({currentCharacters:r,excludeCharacters:[s],withNobodyOption:!1,longNameLabel:!0,longNameTitle:!0}),[r,s,c]);E.useEffect(()=>{n&&o.setFieldsValue({characterId:null})},[o,n]);function b(){const{selectedCharacter:G}=o.getFieldsValue();console.log("Switch relics modal submitted with:",G),t(G),l(!1)}const p=()=>{l(!1)},R=278;return i.jsx(Vt,{open:n,width:R+47,destroyOnClose:!0,centered:!0,onOk:b,onCancel:p,footer:[i.jsx(z,{onClick:p,children:d("Cancel")},"back"),i.jsx(z,{type:"primary",onClick:b,children:d("Save")},"submit")],children:i.jsxs(U,{form:o,preserve:!1,layout:"vertical",children:[i.jsx(S,{justify:"space-between",align:"center",children:i.jsx($,{children:c("Title")})}),i.jsx(S,{vertical:!0,gap:$e,children:i.jsx(S,{gap:$e,children:i.jsx(U.Item,{name:"selectedCharacter",children:i.jsx(J,{labelInValue:!0,showSearch:!0,filterOption:B.titleFilterOption,style:{width:R},options:u})})})})]})})}const{Text:Gm}=ye;function e9(e){const{t}=K(["charactersTab","common","gameData"]),[n,l]=Tt.useState(I.getCharacters());window.setCharacterRows=l;const s=E.useMemo(()=>({rowHeight:46,rowDragManaged:!0,animateRows:!0,suppressDragLeaveHidesColumns:!0,suppressScrollOnNewData:!0}),[]),o=E.useMemo(()=>[{field:"",headerName:t("GridHeaders.Icon"),cellRenderer:gm,width:52},{field:"",headerName:t("GridHeaders.Priority"),cellRenderer:t9,width:60,rowDrag:!0},{field:"",headerName:t("GridHeaders.Character"),flex:1,cellRenderer:a9}],[t]),r=E.useMemo(()=>({sortable:!1,cellStyle:{display:"flex"}}),[]);return i.jsx(e0,{ref:e.characterGrid,rowData:n,gridOptions:s,getRowNodeId:c=>c.id,columnDefs:o,defaultColDef:r,deltaRowDataMode:!0,headerHeight:24,onCellClicked:e.cellClickedListener,onCellDoubleClicked:e.cellDoubleClickedListener,onRowDragEnd:e.onRowDragEnd,onRowDragLeave:e.onRowDragLeave,navigateToNextCell:e.navigateToNextCell,isExternalFilterPresent:e.isExternalFilterPresent,doesExternalFilterPass:e.doesExternalFilterPass,rowSelection:"single"})}function t9(e){const t=e.data,n=I.getCharacters().find(l=>l.id==t.id);return i.jsx(Gm,{style:{height:"100%"},children:n.rank+1})}function a9(e){const t=v.getFixedT(null,"gameData","Characters"),n=e.data,l=t(`${n.id}.LongName`),o=(l.includes(" (")?l.split(" (").map(d=>d.trim()).map((d,u)=>u===1?` (${d} `:d):l.split(/ - |•/).map(d=>d.trim())).map((d,u)=>i.jsx("span",{style:{display:"inline-block"},children:d},u)),r=n.equipped?Object.values(n.equipped).filter(d=>d!=null).length:0;let c="#81d47e";return r<6&&(c="rgb(229, 135, 66)"),r<1&&(c="#d72f2f"),i.jsxs(S,{align:"center",justify:"flex-start",style:{height:"100%",width:"100%"},children:[i.jsx(Gm,{style:{margin:"auto",padding:"0px 5px",textAlign:"center",overflow:"hidden",whiteSpace:"break-spaces",textWrap:"wrap",fontSize:14,width:"100%",lineHeight:"18px"},children:o}),i.jsx(S,{style:{display:"block",width:3,height:"100%",backgroundColor:c,zIndex:2}})]})}function gm(e){const t=e.data,n=k.getCharacterAvatarById(t.id);return i.jsx("img",{src:n,style:{flex:"0 0 auto",maxWidth:"100%",width:48}})}const{useToken:n9}=Bt,i9={path:[],element:[]};function s9(){const{token:e}=n9(),[t,n]=Vt.useModal();E.useState(!1),E.useState(!1);const[l,s]=E.useState(!1),[o,r]=E.useState(!1),[c,d]=E.useState(!1),[u,b]=E.useState(!1),[p,R]=E.useState(!1),[G,T]=E.useState(),C=E.useRef(""),[D,V]=E.useState(i9),{t:M}=K(["charactersTab","common","gameData"]);console.log("======================================================================= RENDER CharacterTab");const x=E.useRef();window.characterGrid=x;const W=window.store(q=>q.characterTabFocusCharacter),H=window.store(q=>q.setCharacterTabFocusCharacter),O=window.store(q=>q.setScoringAlgorithmFocusCharacter),j=window.store.getState().charactersById[W],[,N]=Tt.useReducer(q=>!q);window.forceCharacterTabUpdate=()=>{var q,Je;console.log("__________ CharacterTab forceCharacterTabUpdate"),N(),(Je=(q=x==null?void 0:x.current)==null?void 0:q.api)!=null&&Je.redrawRows?x.current.api.redrawRows():console.log("@forceCharacterTabUpdate: No characterGrid.current.api")};const F=[{key:"character group",type:"group",label:M("CharacterMenu.Character.Label"),children:[{label:M("CharacterMenu.Character.Options.Add"),key:"add"},{label:M("CharacterMenu.Character.Options.Edit"),key:"edit"},{label:M("CharacterMenu.Character.Options.Switch"),key:"switchRelics"},{label:M("CharacterMenu.Character.Options.Unequip"),key:"unequip"},{label:M("CharacterMenu.Character.Options.Delete"),key:"delete"}]},{key:"builds group",type:"group",label:M("CharacterMenu.Build.Label"),children:[{label:M("CharacterMenu.Build.Options.Save"),key:"saveBuild"},{label:M("CharacterMenu.Build.Options.View"),key:"viewBuilds"}]},{key:"scoring group",type:"group",label:M("CharacterMenu.Scoring.Label"),children:[{label:M("CharacterMenu.Scoring.Options.ScoringModal"),key:"scoring"}]},{key:"priority group",type:"group",label:M("CharacterMenu.Priority.Label"),children:[{label:M("CharacterMenu.Priority.Options.SortByScore"),key:"sortByScore"},{label:M("CharacterMenu.Priority.Options.MoveToTop"),key:"moveToTop"}]}],P=E.useCallback(()=>{x.current.api.onFilterChanged()},[]),X=E.useCallback(q=>{const Je=I.getMetadata().characters[q.data.id];return D.element.length&&!D.element.includes(Je.element)||D.path.length&&!D.path.includes(Je.path)?!1:M(`gameData:Characters.${q.data.id}.LongName`).toLowerCase().includes(C.current)},[D]),w=E.useCallback(()=>D.element.length+D.path.length+C.current.length>0,[D]),ie=E.useCallback(q=>{const Je=q.data;H(Je.id),console.log(`@CharacterTab::setCharacterTabFocusCharacter - [${Je.id}]`,q.data)},[H]),ee=window.store(q=>q.setActiveKey),me=E.useCallback(q=>{ee(de.OPTIMIZER),se.setCharacter(q.data.id),console.log(`@CharacterTab.cellDoubleClickedListener::setOptimizerTabFocusCharacter - focus [${q.data.id}]`,q.data)},[]),be=E.useCallback(q=>w0(q,x,Je=>ie(Je)),[]);function Ge(q,Je){const oe=q.node.data;I.insertCharacter(oe.id,Je),Te.delayedSave(),x.current.api.redrawRows()}const ae=E.useCallback(q=>{Ge(q,q.overIndex)},[]),Q=E.useCallback(q=>{q.overIndex==0?Ge(q,0):q.overIndex==-1&&q.vDirection=="down"?Ge(q,I.getCharacters().length):q.overIndex==-1&&q.vDirection=="up"?Ge(q,0):Ge(q,q.overIndex)},[]);function Xe(){var at,Ut;const q=x.current.api.getSelectedNodes();if(!q||q.length==0)return;const oe=q[0].data.id;I.removeCharacter(oe),setCharacterRows(I.getCharacters()),H(void 0),(Ut=(at=window.relicsGrid)==null?void 0:at.current)!=null&&Ut.api&&window.relicsGrid.current.api.redrawRows(),Te.delayedSave(),_.success(M("Messages.RemoveSuccess"))}function Pe(){console.log("unequipClicked",I.getCharacterById(W));const q=x.current.api.getSelectedNodes();if(!q||q.length==0)return;const oe=q[0].data.id;I.unequipCharacter(oe),x.current.api.redrawRows(),window.forceCharacterTabUpdate(),_.success(M("Messages.UnequipSuccess")),window.relicsGrid.current.api.redrawRows(),Te.delayedSave()}function Oe(q){if(!q.characterId)return _.error(M("Messages.NoSelectedCharacter"));const Je=I.addFromForm(q);window.characterGrid.current.api.ensureIndexVisible(Je.rank)}function tt(q){if(!q)return _.error(M("Messages.NoSelectedCharacter"));I.switchRelics(j.id,q.value),Te.delayedSave(),x.current.api.redrawRows(),window.forceCharacterTabUpdate(),_.success(M("Messages.SwitchSuccess",{charId:q.value})),window.relicsGrid.current.api.redrawRows()}function ue(){W&&O(W),window.store.getState().setScoringModalOpen(!0)}function te(){I.insertCharacter(W,0),I.refreshCharacters(),Te.delayedSave()}async function pe(){if(!await Lt(i.jsx(i.Fragment,{children:i.jsx(gt,{t:M,i18nKey:"Messages.SortByScoreWarning",children:i.jsx("br",{})})})))return;const Je=I.getCharacters().map(oe=>({score:dt.scoreCharacter(oe),character:oe})).sort((oe,at)=>at.score.totalScore-oe.score.totalScore).map(oe=>oe.character);I.setCharacters(Je),I.refreshCharacters(),Te.delayedSave()}function Se(q){const Je=dt.scoreCharacter(j),oe=I.saveCharacterBuild(q,j.id,{score:Je.totalScore.toFixed(0),rating:Je.totalRating});if(oe){_.error(oe.error);return}_.success(M("charactersTab:Messages.SaveSuccess",{name:q})),Te.delayedSave(),d(!1)}const et={items:F,onClick:async q=>{if(!j&&q.key!="add"&&q.key!="scoring"&&q.key!="sortByScore"){_.error(M("Messages.NoSelectedCharacter"));return}switch(q.key){case"add":R(!0),T(null),s(!0);break;case"edit":R(!1),T(j),s(!0);break;case"switchRelics":r(!0);break;case"unequip":if(!await Lt(M("Messages.UnequipWarning",{charId:j.id})))return;Pe();break;case"delete":if(!await Lt(M("Messages.DeleteWarning",{charId:j.id})))return;Xe();break;case"saveBuild":d(!0);break;case"viewBuilds":b(!0);break;case"scoring":ue();break;case"moveToTop":te();break;case"sortByScore":pe();break;default:console.error(`Unknown key ${q.key} in handleActionsMenuClick`)}}};async function Lt(q){return t.confirm({title:M("common:Confirm"),icon:i.jsx(Rd,{}),content:q,okText:M("common:Confirm"),cancelText:M("common:Cancel"),centered:!0})}const Ot=8,Ga=280*3+Ot*2;return i.jsxs(S,{style:{height:"100%",marginBottom:200,width:1455},gap:Ot,children:[i.jsxs(S,{vertical:!0,gap:Ot,children:[i.jsx(Ts,{placement:"topLeft",menu:et,trigger:["hover"],children:i.jsxs(z,{style:{width:"100%",height:40,boxShadow:"unset",borderRadius:8},icon:i.jsx(dd,{}),type:"default",children:[M("CharacterMenu.ButtonText"),i.jsx(gl,{})]})}),i.jsx(S,{vertical:!0,gap:8,style:{minWidth:240},children:i.jsx("div",{id:"characterGrid",className:"ag-theme-balham-dark",style:{display:"block",width:"100%",height:Ga,...V0(e)},children:i.jsx(e9,{characterGrid:x,cellClickedListener:ie,cellDoubleClickedListener:me,onRowDragEnd:ae,onRowDragLeave:Q,navigateToNextCell:be,isExternalFilterPresent:w,doesExternalFilterPass:X})})})]}),i.jsxs(S,{vertical:!0,gap:Ot,children:[i.jsxs(S,{gap:8,style:{width:"100%",marginBottom:0,alignItems:"center"},justify:"space-between",children:[i.jsx(Yt,{allowClear:!0,size:"large",style:{height:40,fontSize:14,width:200,borderRadius:8},placeholder:M("SearchPlaceholder"),onChange:q=>{C.current=q.target.value.toLowerCase(),P()}}),i.jsx(S,{style:{flex:1},children:i.jsx(Pi,{name:"path",tags:y0(),flexBasis:"12.5%",currentFilters:D,setCurrentFilters:V})}),i.jsx(S,{style:{width:408},children:i.jsx(Pi,{name:"element",tags:uu(),flexBasis:"14.2%",currentFilters:D,setCurrentFilters:V})})]}),i.jsx(E.Suspense,{children:i.jsx(Y0,{id:"characterTabPreview",source:Zt.CHARACTER_TAB,character:j,setOriginalCharacterModalOpen:s,setOriginalCharacterModalInitialCharacter:T,setCharacterModalAdd:R})})]}),i.jsx(k0,{onOk:Oe,open:l,setOpen:s,initialCharacter:G}),i.jsx(qT,{onOk:tt,open:o,setOpen:r,currentCharacter:j}),i.jsx($T,{open:c,setOpen:d,onOk:Se}),i.jsx(QT,{open:u,setOpen:b,selectedCharacter:j,imgRenderer:gm}),n]})}const Jo=900,Pl=1600;function l9(){return window.store(t=>t.activeKey)!=de.HOME?i.jsx(i.Fragment,{}):i.jsxs(S,{vertical:!0,style:{width:"100%",position:"relative",marginBottom:200},align:"center",children:[i.jsx(c9,{}),i.jsx(m9,{}),i.jsx(r9,{})]})}const Lc=[{key:"1",label:i.jsx(Vc,{i18nkey:"Explore"}),children:i.jsx(u9,{})},{key:"2",label:i.jsx(Vc,{i18nkey:"Join"}),children:i.jsx(o9,{})}];function Vc(e){const{t}=K("hometab",{keyPrefix:"CollapseLabels"});return i.jsx("div",{style:{marginRight:38,textAlign:"center"},children:i.jsx(Wt,{style:{fontSize:24,paddingInline:30,marginBlock:0},children:t(e.i18nkey)})})}function o9(){const{t:e}=K("hometab");return i.jsxs(S,{style:{padding:"0px 25px"},gap:50,children:[i.jsx(S,{vertical:!0,style:{flex:1,fontSize:20},gap:20,children:i.jsxs(gt,{t:e,i18nKey:"CommunityCollapse",children:[i.jsx("span",{children:"A huge thanks to all our contributors, translators, users, and everyone who provided feedback, for supporting this project and helping to build it together!"}),i.jsxs("span",{children:["Come be a part of our Star Rail community! Join the ",i.jsx(Pt,{url:"https://discord.gg/rDmB4Un7qg"})," server to hang out, or check out the ",i.jsx(Pt,{url:"https://github.com/fribbels/hsr-optimizer"})," repo if you'd like to contribute."]})]})}),i.jsx(S,{style:{flex:1},align:"flex-start",children:i.jsx("a",{href:"https://github.com/fribbels/hsr-optimizer/graphs/contributors",target:"_blank",rel:"noreferrer",style:{width:"100%"},children:i.jsx("img",{src:"https://contrib.rocks/image?repo=fribbels/hsr-optimizer&columns=10&anon=1",style:{width:"100%",maxWidth:Pl/2}})})})]})}function r9(){return i.jsx(Tl,{ghost:!0,style:{width:"100%",maxWidth:Pl},expandIcon:({isActive:e})=>i.jsx(bb.RightOutlined,{style:{marginLeft:10},rotate:e?90:0}),items:Lc,defaultActiveKey:Lc.map(e=>e.key)})}function c9(){return i.jsx("div",{style:{position:"absolute",top:0,width:"100%",maxWidth:Pl,height:Jo,maxHeight:Jo,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundImage:`
            linear-gradient(to top, rgba(24, 34, 57, 0) 99.5%, rgba(24, 34, 57, 1) 100%),
            linear-gradient(to bottom, rgba(24, 34, 57, 0) 99.5%, rgba(24, 34, 57, 1) 100%),
            linear-gradient(to left, rgba(24, 34, 57, 0) 98%, rgba(24, 34, 57, 1) 99.5%),
            linear-gradient(to right, rgba(24, 34, 57, 0) 98%, rgba(24, 34, 57, 1) 99.5%),
            url(${k.getHomeBackground("nous")})
          `,backgroundSize:"cover"}})}const Ro=20;function d9(e){return i.jsx("div",{style:{padding:"15px 15px 0px 15px"},children:i.jsx(h9,{src:k.getHomeFeature(e.id,v.resolvedLanguage),fallbackSrc:k.getHomeFeature(e.id),style:{width:"100%",height:593,borderRadius:8,outline:"rgba(255, 255, 255, 0.15) solid 1px",boxShadow:"rgb(0 0 0 / 50%) 2px 2px 3px",objectFit:"cover"}})})}function Ks(e){const{t}=K("hometab",{keyPrefix:"FeatureCards"});return i.jsx(zn,{title:i.jsx("span",{style:{fontSize:20},children:e.title}),style:{flex:1,cursor:"default",fontSize:16,minWidth:500},hoverable:!0,cover:i.jsx(d9,{id:e.id}),children:i.jsxs(S,{align:"center",gap:10,justify:"space-between",children:[i.jsx("span",{children:e.content}),i.jsx(z,{size:"large",iconPosition:"end",href:e.url,target:"_blank",icon:i.jsx(ed,{}),children:t("LearnMore")})]})})}function u9(){const{t:e}=K("hometab",{keyPrefix:"FeatureCards"});return i.jsx(S,{style:{maxWidth:Pl,minWidth:1e3,width:"100%",padding:"0px 20px"},children:i.jsxs(S,{vertical:!0,style:{width:"100%"},gap:Ro,children:[i.jsxs(S,{gap:Ro,children:[i.jsx(Ks,{title:e("Showcase.Title"),id:"showcase",content:e("Showcase.Content"),url:"https://github.com/fribbels/hsr-optimizer/blob/main/docs/guides/en/dps-score.md"}),i.jsx(Ks,{title:e("Optimizer.Title"),id:"optimizer",content:e("Optimizer.Content"),url:"https://github.com/fribbels/hsr-optimizer/blob/main/docs/guides/en/optimizer.md"})]}),i.jsxs(S,{gap:Ro,style:{width:"100%"},children:[i.jsx(Ks,{title:e("Calculator.Title"),id:"calculator",content:e("Calculator.Content"),url:"https://github.com/fribbels/hsr-optimizer/blob/main/docs/guides/en/advanced-rotations.md"}),i.jsx(Ks,{title:e("Organizer.Title"),id:"relics",content:e("Organizer.Content"),url:"https://github.com/fribbels/hsr-optimizer/blob/main/docs/guides/en/relics-tab.md"})]})]})})}function m9(){const{t:e}=K("hometab");return i.jsxs(S,{vertical:!0,style:{width:"100%",zIndex:1,height:Jo,paddingBottom:40},align:"center",justify:"space-between",children:[i.jsx("h1",{style:{marginTop:50,fontSize:50,color:"white",textShadow:"#000000 2px 2px 20px",textAlign:"center",fontFamily:"Tahoma, Geneva, Verdana, sans-serif"},children:i.jsxs(gt,{t:e,i18nKey:"Welcome",children:["Welcome to the",i.jsx("br",{}),"Fribbels Star Rail Optimizer"]})}),i.jsx(b9,{})]})}function b9(){const e=window.store(s=>s.scorerId),{t}=K("hometab",{keyPrefix:"SearchBar"}),n=E.useRef(null);function l(){var r,c;const s=(c=(r=n==null?void 0:n.current)==null?void 0:r.input)==null?void 0:c.value;if(!s)return;if(!y.validateUuid(s))return _.warning(t("Message"));window.history.pushState({},"",`/hsr-optimizer#showcase?id=${s}`),window.store.getState().setActiveKey(de.SHOWCASE)}return i.jsxs(S,{vertical:!0,className:"homeCard",style:{width:700,height:115,padding:20},align:"center",justify:"center",gap:5,children:[i.jsxs(S,{justify:"space-between",style:{width:"100%"},children:[i.jsx(S,{justify:"flex-start",style:{paddingLeft:3,paddingBottom:5,fontSize:17,textShadow:"rgb(0, 0, 0) 2px 2px 20px, rgb(0, 0, 0) 0px 0px 5px"},children:t("Label")}),i.jsx(S,{style:{fontSize:16,opacity:.8,marginRight:2},children:i.jsx(Pt,{text:t("Api"),noUnderline:!0,url:"https://enka.network/?hsr"})})]}),i.jsxs(Qo.Compact,{style:{width:"100%"},children:[i.jsx(z,{size:"large",type:"primary",icon:i.jsx(hb,{}),style:{width:60},onClick:l}),i.jsx(Yt,{ref:n,placeholder:t("Placeholder"),style:{width:"100%"},allowClear:!0,size:"large",defaultValue:e,onPressEnter:l})]})]})}function h9(e){const[t,n]=Tt.useState(!1);return i.jsx("img",{style:e.style,src:e.src,onError:l=>{t||(l.currentTarget.src=e.fallbackSrc,n(!0))}})}const kn=250,Fa=100,{Text:p9}=ye;function S9(){const[e,t]=E.useState(!1),{t:n}=K(["importSaveTab"],{keyPrefix:"ClearData"}),{t:l}=K("common");function s(){console.log("Clear data"),t(!0),setTimeout(()=>{t(!1),I.resetStore(),_.success(n("SuccessMessage"))},Fa)}return i.jsxs(S,{vertical:!0,gap:5,children:[i.jsx(p9,{children:n("Label")}),i.jsx(yn,{title:n("WarningTitle"),description:n("WarningDescription"),onConfirm:s,placement:"bottom",okText:l("Yes"),cancelText:l("Cancel"),children:i.jsx(z,{type:"primary",icon:i.jsx(_o,{}),loading:e,style:{width:kn},children:n("ButtonText")})})]})}const{Text:fo}=ye;function R9(){const[e,t]=E.useState(0),[n,l]=E.useState(void 0),[s,o]=E.useState(!1),[r,c]=E.useState(!1),{t:d}=K("importSaveTab",{keyPrefix:"LoadData"});function u(T){return new Promise(()=>{const C=new FileReader;return C.readAsText(T),C.onload=()=>{const D=String(C.result),V=JSON.parse(D);if(V.fileType||V.source){o(!0),setTimeout(()=>{o(!1),l(void 0),t(1)},Fa);return}o(!0),setTimeout(()=>{o(!1),l(V),t(1)},Fa)},!1})}function b(){c(!0),setTimeout(()=>{I.setStore(n,!1),window.refreshRelicsScore(),setTimeout(()=>{t(2),c(!1),Te.save()},Fa)},Fa)}function p(){return i.jsx(S,{style:{minHeight:100},children:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx(fo,{children:d("Stage1.Label")}),i.jsx(fd,{accept:".json",name:"file",beforeUpload:u,children:i.jsx(z,{style:{width:kn},icon:i.jsx($o,{}),loading:s,onClick:()=>t(0),children:d("Stage1.ButtonText")})})]})})}function R(){return!(n!=null&&n.relics)||!n.characters?i.jsx(S,{style:{minHeight:100},children:i.jsx(S,{vertical:!0,gap:10,style:{display:e>=1?"flex":"none"},children:d("Stage2.ErrorMsg")})}):i.jsx(S,{style:{minHeight:100},children:i.jsxs(S,{vertical:!0,gap:10,style:{display:e>=1?"flex":"none"},children:[i.jsx(fo,{children:d("Stage2.Label",{relicCount:n.relics.length,characterCount:n.characters.length})}),i.jsx(z,{style:{width:kn},icon:i.jsx(ts,{}),type:"primary",onClick:b,loading:r,children:d("Stage2.ButtonText")})]})})}function G(){return i.jsx(S,{style:{minHeight:100},children:i.jsx(S,{vertical:!0,gap:10,style:{display:e>=2?"flex":"none"},children:i.jsx(fo,{children:d("Stage3.SuccessMessage")})})})}return i.jsx(S,{gap:5,children:i.jsx(qs,{direction:"vertical",current:e,items:[{title:"",description:p()},{title:"",description:R()},{title:"",description:G()}]})})}function f9(e){const t=I.getMetadata().relics.relicSets,n={metadata:{trailblazer:"Stelle",current_trailblazer_path:"Destruction"},characters:[],relics:[]};for(const l of e.data.avatar_list){const s={characterEidolon:l.rank,characterId:l.id.toString(),characterLevel:l.level,lightCone:null,lightConeLevel:80,lightConeSuperimposition:1};l.equip!=null&&(s.lightCone=l.equip.id.toString(),s.lightConeSuperimposition=l.equip.rank),n.characters.push(s);const o=[...l.relics,...l.ornaments];for(const c of o){const d=[];for(const u of c.properties){const b={stat:Fc(u.property_type),value:Pc(u.value)};d.push(b)}n.relics.push({enhance:c.level,equippedBy:l.id.toString(),grade:c.rarity,id:B.randomId(),part:Z9(c.pos),set:C9(c.id,t),main:{stat:Fc(c.main_property.property_type),value:Pc(c.main_property.value)},substats:d,verified:!1})}const r=g9(l.id);r&&(n.metadata=r)}return n.relics.map(l=>jn.augment(l)),n}function Pc(e){return e.endsWith("%")?B.precisionRound(parseFloat(e.slice(0,e.length-1))):B.precisionRound(parseFloat(e))}const G9={8001:{trailblazer:"Caelus",current_trailblazer_path:"Destruction"},8002:{trailblazer:"Stelle",current_trailblazer_path:"Destruction"},8003:{trailblazer:"Caelus",current_trailblazer_path:"Preservation"},8004:{trailblazer:"Stelle",current_trailblazer_path:"Preservation"},8006:{trailblazer:"Stelle",current_trailblazer_path:"Harmony"},8005:{trailblazer:"Caelus",current_trailblazer_path:"Harmony"}};function g9(e){return G9[e]}const T9={27:m.Stats.HP,32:m.Stats.HP_P,29:m.Stats.ATK,33:m.Stats.ATK_P,31:m.Stats.DEF,34:m.Stats.DEF_P,51:m.Stats.SPD,52:m.Stats.CR,53:m.Stats.CD,56:m.Stats.EHR,57:m.Stats.RES,59:m.Stats.BE,54:m.Stats.ERR,55:m.Stats.OHB,12:m.Stats.Physical_DMG,14:m.Stats.Fire_DMG,16:m.Stats.Ice_DMG,18:m.Stats.Lightning_DMG,20:m.Stats.Wind_DMG,22:m.Stats.Quantum_DMG,24:m.Stats.Imaginary_DMG};function Fc(e){return T9[e]||""}const y9={1:f.Head,2:f.Hands,3:f.Body,4:f.Feet,5:f.PlanarSphere,6:f.LinkRope};function Z9(e){return y9[e]||""}function C9(e,t){const n=e.toString().substring(1,4);return Bc[e]?t[Bc[e].set].name:t[n].name}const Bc={55001:{set:"101",part:"3",main:"436"},55002:{set:"101",part:"4",main:"441"},55003:{set:"102",part:"3",main:"434"},55004:{set:"103",part:"3",main:"433"},55005:{set:"103",part:"4",main:"443"},55006:{set:"105",part:"3",main:"434"}},{Text:D9}=ye,E9=Object.values(Zn.characters),I9=Zn.relics.reduce((e,t)=>(e[t.id]=t,e),{});class N0{constructor(t){Ae(this,"config");Ae(this,"badRollInfo");this.config=t,this.badRollInfo=!1}parse(t){const n=v.getFixedT(null,"importSaveTab","Import.ParserError"),l=v.getFixedT(null,"importSaveTab","Import.ParserWarning"),s={metadata:{trailblazer:"Stelle",current_trailblazer_path:"Destruction"},characters:[],relics:[]};if(t.source!=this.config.sourceString)throw new Error(n("BadSource",{jsonSource:t.source,configSource:this.config.sourceString}));if(t.version!==this.config.latestOutputVersion)throw new Error(n("BadVersion",{jsonVersion:t.version,configVersion:this.config.latestOutputVersion}));const o=t.build||"v0.0.0";return ld.lt(o,this.config.latestBuildVersion)&&(console.log(`Current: ${o}, Latest: ${this.config.latestBuildVersion}`),_.warning(i.jsxs(D9,{children:[n("OutdatedVersion",{buildVersion:o})," ",i.jsx("a",{target:"_blank",style:{color:"#3f8eff"},href:this.config.releases,rel:"noreferrer",children:this.config.releases})]}),15)),s.metadata.trailblazer=t.metadata.trailblazer||"Stelle",s.metadata.current_trailblazer_path=t.metadata.current_trailblazer_path||"Stelle",t.relics&&(s.relics=t.relics.map(c=>W9(c,this)).map(c=>jn.augment(c)).filter(c=>c?!0:(console.warn("Could not parse relic"),!1))),this.badRollInfo&&(_.warning(l("BadRollInfo"),10),this.badRollInfo=!1),t.characters&&(s.characters=t.characters.map(c=>x9(c,t.light_cones)).filter(c=>c?!0:(console.warn("Could not parse character"),!1))),s}}function x9(e,t){let n;t&&(n=t.find(o=>o.location===e.id));const l=e.id,s=n==null?void 0:n.id;return l?{characterId:l,characterLevel:e.level||80,characterEidolon:e.eidolon||0,lightCone:s||null,lightConeLevel:(n==null?void 0:n.level)||80,lightConeSuperimposition:(n==null?void 0:n.superimposition)||1}:null}function W9(e,t){var p;const l=pb.findBestMatch(e.slot,Object.values(f)).bestMatch.target,s=e.set_id,o=I9[s].name,r=Math.min(Math.max(e.level,0),15),c=Math.min(Math.max(e.rarity,2),5),{main:d,substats:u}=L9(e,l,c,r,t);let b;if(e.location!==""){const R=(p=E9.find(G=>G.id==e.location))==null?void 0:p.id;R&&(b=R)}return{part:l,set:o,enhance:r,grade:c,main:d,substats:u,equippedBy:b,verified:t.config.speedVerified}}function M9(e,t){switch(t){case"Hands":return m.Stats.ATK;case"Head":return m.Stats.HP;default:return V9(e.mainstat)}}function L9(e,t,n,l,s){const o=M9(e,t);if(!o)throw new Error(v.t("importSaveTab:Import.ParserError.BadMainstat",{mainstat:e.mainstat,part:t}));const r=F9(t),c=`${n}${r}`,d=Object.values(I.getMetadata().relics.relicMainAffixes[c].affixes),u=P9(o),b=d.find(G=>G.property===u),p=b.base+b.step*l,R=e.substats.map(G=>{if(!s.config.speedVerified)return{stat:Go(G.key),value:G.value};if(G.step==null||G.count==null||G.count>Math.max(1,e.rarity*2-4)||G.count<=0||G.step>2*G.count||G.step<0)return s.badRollInfo=!0,{stat:Go(G.key),value:G.value};const{rolls:T,errorFlag:C}=L0(G.count,G.step);return C&&(s.badRollInfo=!0),{stat:Go(G.key),value:G.value,rolls:T,addedRolls:G.count-1}});return{main:{stat:o,value:B.truncate10000ths(p*(B.isFlat(o)?1:100))},substats:R}}function Go(e){switch(e){case"ATK":return m.Stats.ATK;case"HP":return m.Stats.HP;case"DEF":return m.Stats.DEF;case"ATK_":return m.Stats.ATK_P;case"HP_":return m.Stats.HP_P;case"DEF_":return m.Stats.DEF_P;case"SPD":return m.Stats.SPD;case"CRIT Rate_":return m.Stats.CR;case"CRIT DMG_":return m.Stats.CD;case"Effect Hit Rate_":return m.Stats.EHR;case"Effect RES_":return m.Stats.RES;case"Break Effect_":return m.Stats.BE;default:return null}}function V9(e){switch(e){case"ATK":return m.Stats.ATK_P;case"HP":return m.Stats.HP_P;case"DEF":return m.Stats.DEF_P;case"SPD":return m.Stats.SPD;case"CRIT Rate":return m.Stats.CR;case"CRIT DMG":return m.Stats.CD;case"Effect Hit Rate":return m.Stats.EHR;case"Break Effect":return m.Stats.BE;case"Energy Regeneration Rate":return m.Stats.ERR;case"Outgoing Healing Boost":return m.Stats.OHB;case"Physical DMG Boost":return m.Stats.Physical_DMG;case"Fire DMG Boost":return m.Stats.Fire_DMG;case"Ice DMG Boost":return m.Stats.Ice_DMG;case"Lightning DMG Boost":return m.Stats.Lightning_DMG;case"Wind DMG Boost":return m.Stats.Wind_DMG;case"Quantum DMG Boost":return m.Stats.Quantum_DMG;case"Imaginary DMG Boost":return m.Stats.Imaginary_DMG;default:return null}}function P9(e){switch(e){case m.Stats.HP_P:return"HPAddedRatio";case m.Stats.ATK_P:return"AttackAddedRatio";case m.Stats.DEF_P:return"DefenceAddedRatio";case m.Stats.HP:return"HPDelta";case m.Stats.ATK:return"AttackDelta";case m.Stats.DEF:return"DefenceDelta";case m.Stats.SPD:return"SpeedDelta";case m.Stats.CD:return"CriticalDamageBase";case m.Stats.CR:return"CriticalChanceBase";case m.Stats.EHR:return"StatusProbabilityBase";case m.Stats.RES:return"StatusResistanceBase";case m.Stats.BE:return"BreakDamageAddedRatioBase";case m.Stats.ERR:return"SPRatioBase";case m.Stats.OHB:return"HealRatioBase";case m.Stats.Physical_DMG:return"PhysicalAddedRatio";case m.Stats.Fire_DMG:return"FireAddedRatio";case m.Stats.Ice_DMG:return"IceAddedRatio";case m.Stats.Lightning_DMG:return"ThunderAddedRatio";case m.Stats.Wind_DMG:return"WindAddedRatio";case m.Stats.Quantum_DMG:return"QuantumAddedRatio";case m.Stats.Imaginary_DMG:return"ImaginaryAddedRatio";default:return null}}function F9(e){switch(e){case m.Parts.Head:return 1;case m.Parts.Hands:return 2;case m.Parts.Body:return 3;case m.Parts.Feet:return 4;case m.Parts.PlanarSphere:return 5;case m.Parts.LinkRope:return 6;default:return null}}const O0={name:"HSR-Scanner",author:"Kel-z",homepage:"https://github.com/kel-z/HSR-Scanner",releases:"https://github.com/kel-z/HSR-Scanner/releases/latest",defaultFileName:"HSRScanData.json",sourceString:"HSR-Scanner",latestBuildVersion:"v1.2.0",latestOutputVersion:4,speedVerified:!1},U0={name:"Reliquary Archiver",author:"IceDynamix",homepage:"https://github.com/IceDynamix/reliquary-archiver",releases:"https://github.com/IceDynamix/reliquary-archiver/releases/latest",defaultFileName:"archiver_output.json",sourceString:"reliquary_archiver",latestBuildVersion:"v0.3.0",latestOutputVersion:4,speedVerified:!0},Tm={name:"Yas Scanner",author:"wormtql, YCR160",homepage:"https://github.com/wormtql/yas",releases:"",defaultFileName:"hsr.json",sourceString:"yas-scanner",latestBuildVersion:"v0.0.0",latestOutputVersion:3,speedVerified:!1},B9=new N0(O0),H9=new N0(U0),v9=new N0(Tm),ym={[O0.sourceString]:B9,[U0.sourceString]:H9,[Tm.sourceString]:v9},X9=Object.keys(ym);function k9(){const{t:e}=K("importSaveTab",{keyPrefix:"Import.Stage1.ReliquaryDesc"});return i.jsx(i.Fragment,{children:i.jsxs("li",{children:[i.jsx("b",{children:e("Title")})," (",i.jsx(Pt,{text:e("Link"),url:U0.releases,linkIcon:!0}),")",i.jsxs("ul",{children:[i.jsx("li",{children:i.jsx("b",{style:{color:"#82e192"},children:e("OnlineMsg",{version:"3.1"})})}),i.jsx("li",{children:e("l1")}),i.jsx("li",{children:e("l2")})]})]})})}const{Text:Ln}=ye;function Y9(){const[e,t]=E.useState(0),[n,l]=E.useState([]),[s,o]=E.useState([]),[r,c]=E.useState(!1),[d,u]=E.useState(!1),[b,p]=E.useState(!1),{t:R}=K(["importSaveTab","common"]);function G(W){return new Promise(()=>{const H=new FileReader;return H.readAsText(W),H.onload=()=>{const O=String(H.result);T(O)},!1})}function T(W){try{const H=JSON.parse(W);if(console.log("JSON",H),c(!0),!H)throw new Error(R("Import.ErrorMsg.InvalidJson"));if(H.data){const P=f9(H),X=P.relics;let w=P.characters;w=w.sort((ie,ee)=>ee.characterLevel-ie.characterLevel),w.map(ie=>{ie.characterLevel=80,ie.lightConeLevel=80}),setTimeout(()=>{o(w),l(X),t(1),c(!1)},Fa);return}if(!X9.includes(H.source))throw new Error(R("Import.ErrorMsg.InvalidFile"));const j=ym[H.source].parse(H);let N=j.characters;const F=j.relics;N=N.sort((P,X)=>X.characterLevel-P.characterLevel),N.map(P=>{P.characterLevel=80,P.lightConeLevel=80}),setTimeout(()=>{c(!1),l(F),o(N),t(1),p(!1)},Fa)}catch(H){let O=R("Import.ErrorMsg.Unknown");H instanceof Error&&(O=H.message),console.error(H),_.error(R("Import.ErrorMsg.Fragment")+O,10),setTimeout(()=>{c(!1),l(void 0),o(void 0),t(1)},Fa)}}function C(){u(!0),setTimeout(()=>{I.mergeRelicsWithState(n),Te.delayedSave(),setTimeout(()=>{u(!1),t(2)},100)},Fa)}function D(){u(!0),setTimeout(()=>{const W=b?s==null?void 0:s.filter(H=>I.getCharacterById(H.characterId)):s;I.mergeRelicsWithState(n,W),Te.delayedSave(),setTimeout(()=>{u(!1),t(2)},100)},Fa)}function V(){return i.jsx(S,{style:{minHeight:100,marginBottom:30},gap:30,children:i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx(Ln,{children:R("Import.Stage1.Header")}),i.jsx(Ln,{children:i.jsxs("ul",{children:[i.jsx(k9,{}),i.jsxs("li",{children:[R("Import.Stage1.KelzDesc.Title")," (",i.jsx(Pt,{text:R("Import.Stage1.KelzDesc.Link"),url:O0.releases,linkIcon:!0}),")",i.jsxs("ul",{children:[i.jsx("li",{children:R("Import.Stage1.KelzDesc.l1")}),i.jsx("li",{children:R("Import.Stage1.KelzDesc.l2")})]})]}),i.jsxs("li",{children:[R("Import.Stage1.ScorerDesc.Title")," (",i.jsx(Pt,{text:R("Import.Stage1.ScorerDesc.Link"),linkIcon:!0,onClick:()=>window.store.getState().setActiveKey(de.SHOWCASE)}),")",i.jsxs("ul",{children:[i.jsx("li",{children:R("Import.Stage1.ScorerDesc.l1")}),i.jsx("li",{children:R("Import.Stage1.ScorerDesc.l2")})]})]}),i.jsxs("li",{children:[R("Import.Stage1.HoyolabDesc.Title")," (",i.jsx(Pt,{text:R("Import.Stage1.HoyolabDesc.Link"),url:"https://github.com/fribbels/hsr-optimizer/discussions/403",linkIcon:!0}),")",i.jsxs("ul",{children:[i.jsx("li",{children:R("Import.Stage1.HoyolabDesc.l1")}),i.jsx("li",{children:R("Import.Stage1.HoyolabDesc.l2")})]})]})]})}),i.jsx(S,{vertical:!0,align:"flex-start",children:i.jsxs(S,{gap:10,align:"center",children:[i.jsx(fd,{accept:".json",name:"file",beforeUpload:G,children:i.jsx(z,{style:{width:kn},icon:i.jsx($o,{}),loading:r,onClick:()=>t(0),children:R("Import.Stage1.ButtonText")})}),R("Import.Stage1.Or"),i.jsx(Yt,{style:{width:kn},className:"centered-placeholder",placeholder:R("Import.Stage1.Placeholder"),value:"",disabled:r,onChange:W=>{const H=W.target.value;try{const O=JSON.parse(H);T(H)}catch{}}})]})})]})})}function M(){return n?i.jsx(S,{style:{minHeight:250},children:i.jsxs(S,{vertical:!0,gap:10,style:{display:e>=1?"flex":"none"},children:[i.jsx(Ln,{children:R("Import.Stage2.FileInfo",{relicCount:n.length??0,characterCount:(s==null?void 0:s.length)??0})}),i.jsx(Ln,{children:R("Import.Stage2.RelicsImport.Label",{relicCount:n.length??0})}),i.jsx(z,{style:{width:kn},type:"primary",onClick:C,loading:d,children:R("Import.Stage2.RelicsImport.ButtonText",{relicCount:n.length??0})}),i.jsx(Wt,{children:i.jsx(Ln,{style:{fontSize:12},children:R("Import.Stage2.Or")})}),i.jsx(Ln,{children:R("Import.Stage2.CharactersImport.Label",{relicCount:n.length??0,characterCount:(s==null?void 0:s.length)??0})}),i.jsx(Sb,{checked:b,disabled:d,onChange:W=>p(W.target.checked),children:R("Import.Stage2.CharactersImport.OnlyImportExisting")}),i.jsx(yn,{title:R("Import.Stage2.CharactersImport.WarningTitle"),description:R("Import.Stage2.CharactersImport.WarningDescription"),onConfirm:D,placement:"bottom",okText:R("common:Yes"),cancelText:R("common:Cancel"),children:i.jsx(z,{style:{width:kn},type:"primary",loading:d,children:R("Import.Stage2.CharactersImport.ButtonText",{relicCount:n.length??0,characterCount:(s==null?void 0:s.length)??0})})})]})}):i.jsx(S,{style:{minHeight:100},children:i.jsx(S,{vertical:!0,gap:10,style:{display:e>=1?"flex":"none"},children:R("Import.Stage2.NoRelics")})})}function x(){return i.jsx(S,{style:{minHeight:100},children:i.jsx(S,{vertical:!0,gap:10,style:{display:e>=2?"flex":"none"},children:i.jsx(Ln,{children:R("Import.Stage3.SuccessMessage")})})})}return i.jsx(S,{gap:5,children:i.jsx(qs,{direction:"vertical",current:e,items:[{title:"",description:V()},{title:"",description:M()},{title:"",description:x()}]})})}const{Text:w9}=ye,N9=250,O9=async(e,t)=>{if("showSaveFilePicker"in window&&(()=>{try{return window.self===window.top}catch{return!1}})())try{const s=await(await window.showSaveFilePicker({suggestedName:t,types:[{description:"JSON",accept:{"text/json":[".json"]}}]})).createWritable();await s.write(e),await s.close()}catch(l){y.consoleWarnWrapper(l)}else{const l=URL.createObjectURL(e),s=document.createElement("a");s.href=l,s.download=t,s.style.display="none",document.body.append(s),s.click(),setTimeout(()=>{URL.revokeObjectURL(l),s.remove()},1e3)}};function U9(){const{t:e}=K("importSaveTab",{keyPrefix:"SaveData"});async function t(){try{const n=Te.save(),l=new Blob([n],{type:"text/json;charset=utf-8"});await O9(l,"fribbels-optimizer-save.json"),_.success(e("SuccessMessage"))}catch(n){console.warn(n)}}return i.jsxs(S,{vertical:!0,gap:5,children:[i.jsx(w9,{children:e("Label")}),i.jsx(z,{type:"primary",onClick:t,icon:i.jsx(qo,{}),style:{width:N9},children:e("ButtonText")})]})}function K9(){const e="large",{t}=K("importSaveTab",{keyPrefix:"TabLabels"});return i.jsx("div",{children:i.jsx(S,{vertical:!0,gap:5,style:{marginLeft:20,width:1200},children:i.jsx(Rb,{defaultActiveKey:"1",size:e,style:{marginBottom:32},items:[{label:t("Import"),key:"Import",children:i.jsx(Y9,{})},{label:t("Load"),key:"Load",children:i.jsx(R9,{})},{label:t("Save"),key:"Save",children:i.jsx(U9,{})},{label:t("Clear"),key:"Clear",children:i.jsx(S9,{})}]})})})}const Gn={},Hc=40;function J9(){return window.store(t=>t.activeKey)!=de.METADATA_TEST?i.jsx(i.Fragment,{}):i.jsxs(S,{vertical:!0,style:{width:3e3,height:"fit-content"},children:[i.jsx("h1",{style:{marginLeft:20},children:"Metadata viewer"}),i.jsx(Tl,{items:[{key:"1",label:"Simulation sets",children:i.jsx(_9,{})},{key:"2",label:"Conditional sets presets",children:i.jsx(z9,{})},{key:"3",label:"Substat weight dashboard",children:i.jsx(A9,{})}]})]})}function A9(){const e=Zn.relics.slice().reverse(),t=Object.values(I.getMetadata().characters);for(let n=0;n<e.length;n++)Gn[e[n].name]=n;return i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx(lt,{grid:on(t.filter(n=>n.path=="Destruction"))}),i.jsx(lt,{grid:on(t.filter(n=>n.path=="Hunt"))}),i.jsx(lt,{grid:on(t.filter(n=>n.path=="Erudition"))}),i.jsx(lt,{grid:on(t.filter(n=>n.path=="Nihility"))}),i.jsx(lt,{grid:on(t.filter(n=>n.path=="Remembrance"))}),i.jsx(lt,{grid:on(t.filter(n=>n.path=="Preservation"))}),i.jsx(lt,{grid:on(t.filter(n=>n.path=="Harmony"))}),i.jsx(lt,{grid:on(t.filter(n=>n.path=="Abundance"))})]})}function on(e,t){const n=[a.ATK,a.ATK_P,a.DEF,a.DEF_P,a.HP,a.HP_P,a.SPD,a.CR,a.CD,a.EHR,a.RES,a.BE,a.ERR,a.OHB,a.Physical_DMG,a.Fire_DMG,a.Ice_DMG,a.Lightning_DMG,a.Wind_DMG,a.Quantum_DMG,a.Imaginary_DMG],l=n.map(o=>k.getStatIcon(o));l.unshift(k.getBlank());const s=[[]];for(let o=0;o<n.length+1;o++)s[0][o]=i.jsx(ja,{src:l[o]});for(let o=0;o<e.length;o++){const r=e[o],c=[];c.push(i.jsx(ja,{src:k.getCharacterAvatarById(r.id)}));for(const d of Object.values(r.scoringMetadata.stats))c.push(i.jsx("div",{children:d||""}));s.push(c)}return s}const j9={fnAshblazingSet:g.TheAshblazingGrandDuke,fnPioneerSet:g.PioneerDiverOfDeadWaters,fnSacerdosSet:g.SacerdosRelivedOrdeal,PRISONER_SET:g.PrisonerInDeepConfinement,WASTELANDER_SET:g.WastelanderOfBanditryDesert,VALOROUS_SET:g.TheWindSoaringValorous,BANANA_SET:g.TheWondrousBananAmusementPark};function z9(){const e=Zn.relics.slice().reverse(),t=Object.values(I.getMetadata().characters);for(let n=0;n<e.length;n++)Gn[e[n].name]=n;return i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx(lt,{grid:rn(t.filter(n=>n.path=="Destruction"),e)}),i.jsx(lt,{grid:rn(t.filter(n=>n.path=="Hunt"),e)}),i.jsx(lt,{grid:rn(t.filter(n=>n.path=="Erudition"),e)}),i.jsx(lt,{grid:rn(t.filter(n=>n.path=="Nihility"),e)}),i.jsx(lt,{grid:rn(t.filter(n=>n.path=="Remembrance"),e)}),i.jsx(lt,{grid:rn(t.filter(n=>n.path=="Preservation"),e)}),i.jsx(lt,{grid:rn(t.filter(n=>n.path=="Harmony"),e)}),i.jsx(lt,{grid:rn(t.filter(n=>n.path=="Abundance"),e)})]})}function rn(e,t){const n=t.map(s=>k.getSetImage(s.name));n.unshift(k.getBlank());const l=[[]];for(let s=0;s<t.length+1;s++)l[0][s]=i.jsx(ja,{src:n[s]});for(let s=0;s<e.length;s++){const o=e[s],r=[];r.push(i.jsx(ja,{src:k.getCharacterAvatarById(o.id)}));for(const c of o.scoringMetadata.presets){const d=j9[c.name],u=Gn[d];r[u+1]=i.jsx("div",{children:c.value===!0?"⚪":c.value})}l.push(r)}return l}function _9(){const e=Zn.relics.slice().reverse(),n=Object.values(I.getMetadata().characters).filter(l=>l.scoringMetadata.simulation);for(let l=0;l<e.length;l++)Gn[e[l].name]=l;return i.jsxs(S,{vertical:!0,gap:50,children:[i.jsx(lt,{grid:cn(n.filter(l=>l.path=="Destruction"),e)}),i.jsx(lt,{grid:cn(n.filter(l=>l.path=="Hunt"),e)}),i.jsx(lt,{grid:cn(n.filter(l=>l.path=="Erudition"),e)}),i.jsx(lt,{grid:cn(n.filter(l=>l.path=="Nihility"),e)}),i.jsx(lt,{grid:cn(n.filter(l=>l.path=="Remembrance"),e)}),i.jsx(lt,{grid:cn(n.filter(l=>l.path=="Preservation"),e)}),i.jsx(lt,{grid:cn(n.filter(l=>l.path=="Harmony"),e)}),i.jsx(lt,{grid:cn(n.filter(l=>l.path=="Abundance"),e)})]})}function cn(e,t){const n=t.map(s=>k.getSetImage(s.name));n.unshift(k.getBlank());const l=[[]];for(let s=0;s<t.length+1;s++)l[0][s]=i.jsx(ja,{src:n[s]});for(let s=0;s<e.length;s++){const o=e[s],r=[];r.push(i.jsx(ja,{src:k.getCharacterAvatarById(o.id)}));for(const c of o.scoringMetadata.simulation.relicSets)if(c.length==2){const d=Gn[c[0]];r[d+1]=i.jsx(ja,{src:k.getSetImage(c[0])})}else for(const d of c){const u=Gn[d];r[u+1]=i.jsx(ja,{src:k.getSetImage(d)})}for(const c of o.scoringMetadata.simulation.ornamentSets){const d=Gn[c];r[d+1]=i.jsx(ja,{src:k.getSetImage(c)})}l.push(r)}return l}function ja(e){return i.jsx("img",{src:e.src,style:{width:40}})}function lt(e){const[t,n]=E.useState(null);for(const l of e.grid)for(let s=0;s<Object.values(Gn).length+1;s++)l[s]||(l[s]=null);return i.jsx("table",{style:{borderCollapse:"collapse",width:"fit-content",lineHeight:"0px"},children:i.jsx("tbody",{children:e.grid.map((l,s)=>i.jsx("tr",{onMouseEnter:o=>o.currentTarget.style.backgroundColor="rgba(255,255,255,0.11)",onMouseLeave:o=>o.currentTarget.style.backgroundColor="",children:l.map((o,r)=>i.jsx("td",{style:{height:Hc,width:Hc,border:"1px solid #464d6bc4",padding:0,textAlign:"center",backgroundColor:t===r?"rgba(255,255,255,0.11)":""},onMouseEnter:()=>n(r),onMouseLeave:()=>n(null),children:i.jsx("div",{children:o||""})},`${s}-${r}`))},s))})})}function Q9(e){const{relicSetIndex:t,ornamentSetIndex:n}=e.newRowData,l=e.request,s=Yi(l),o=yu(t),r=Zu(n),c=I0(e.newRelics,o[0],o[1],r),d=[];for(const u of qt){const b=y.clone(c);b.stats[u]=(b.stats[u]??0)+1;const p=Ha(l,s,[{request:b,simType:qa.SubstatRolls,key:u}])[0];d.push({stat:u,simRequest:b,simResult:p})}return d}function $9(e,t,n){const l=y.clone(se.calculateRelicsFromId(e.id,n)),s=y.clone(se.calculateRelicsFromId(t.id,n)),o=y.clone(n);qe.condenseSingleRelicByPartSubstatsForOptimizer(l),qe.condenseSingleRelicByPartSubstatsForOptimizer(s),o.trace=!0;const r=An(o,l,null,new $a(!0),new Wa(!0)),c=An(o,s,null,new $a(!0),new Wa(!0)),d=qu(c,o),u=I.getMetadata().characters[o.characterId],b=ei[u.element];return{oldRowData:e,newRowData:t,oldRelics:l,newRelics:s,request:o,oldX:r,newX:c,buffGroups:d,elementalDmgValue:b}}function q9(){var t,n,l;const e=((l=(n=(t=window.optimizerGrid)==null?void 0:t.current)==null?void 0:n.api)==null?void 0:l.getGridOption("pinnedTopRowData"))??[];return e&&e.length?e[0]:null}function vc(e,t){return(t==null?void 0:t.characterId)!=e}function ey(){return x0[window.store.getState().optimizationId]}function ty(e){const{t}=K("optimizerTab",{keyPrefix:"ExpandedDataPanel.SubstatUpgrades"}),{t:n}=K("common",{keyPrefix:"ShortSpacedStats"}),l=e.analysis;if(Object.values(l.newRelics).some(d=>d.set==-1))return i.jsx(i.Fragment,{});const s=Q9(l),o=["COMBO_DMG","EHP","HEAL_VALUE","SHIELD_VALUE"],r=[];for(const d of o){let u=!1;const b={key:d,upgrades:[]};for(const p of s){const R=l.newX[d].get(),T=p.simResult.tracedX[d].get()-R;if(T>1){const C=T/R;b.upgrades.push({key:p.stat,value:T,percent:C}),u=!0}}u&&r.push(b)}const c=[];for(const d of r){d.upgrades.sort((b,p)=>p.value-b.value);const u=[{title:t("ColumnHeaders.Substat"),dataIndex:"key",align:"center",width:100,render:b=>i.jsxs(S,{children:[i.jsx("img",{src:k.getStatIcon(b),style:{width:Ke,height:Ke,marginLeft:3,marginRight:3}}),n(b)]})},{title:t(`ColumnHeaders.${d.key}_P`),dataIndex:"percent",align:"center",width:110,render:b=>i.jsx(i.Fragment,{children:b==0?"":`${Yn(B.truncate100ths(b*100))}%`})},{title:t(`ColumnHeaders.${d.key}`),dataIndex:"value",align:"center",width:110,render:b=>i.jsx(i.Fragment,{children:b==0?"":`${yt(b)}`})}];c.push(i.jsx(Qn,{className:"remove-table-bottom-border",columns:u,dataSource:d.upgrades,pagination:!1,size:"small",style:{flex:"1 1 calc(30% - 10px)",border:"1px solid #354b7d",boxShadow:Es,borderRadius:5,overflow:"hidden"}},d.key))}return i.jsx(S,{align:"start",gap:10,justify:"space-between",wrap:!0,style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"10px"},children:c})}function ay(){const e=window.store(o=>o.optimizerSelectedRowData),t=window.store(o=>o.optimizerTabFocusCharacter);if(U.useWatch(["characterId"],window.optimizerForm),U.useWatch(["lightCone"],window.optimizerForm),window.store.getState().activeKey!=de.OPTIMIZER)return i.jsx(i.Fragment,{});let n=ey()??se.getForm();const l=q9();if(vc(t,n)&&(n=se.getForm(),vc(t,n)))return i.jsx(i.Fragment,{});if(e==null||l==null||n==null||I.getCharacterById(n.characterId)==null)return i.jsx(i.Fragment,{});if(e.statSim)return i.jsx(i.Fragment,{});const s=$9(l,e,n);return console.log("Optimizer result",s),i.jsx(ny,{analysis:s})}function ny(e){const t=v0(e,50),n=E.useMemo(()=>t?i.jsx(iy,{analysis:t.analysis}):null,[t]);return t?n:null}function iy(e){const{analysis:t}=e;return i.jsx(Mu,{children:i.jsx(cs,{id:Ea.analysis,children:i.jsxs(S,{justify:"space-between",style:{width:"100%",paddingTop:4},gap:10,children:[i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx(G5,{analysis:t}),i.jsx(b5,{analysis:t}),i.jsx(ty,{analysis:t})]}),i.jsx(em,{buffGroups:t.buffGroups,singleColumn:!0})]})})})}function sy(){const e=window.store(W=>W.optimizerBuild),[t,n]=E.useState(),[l,s]=E.useState(!1);if(window.store.getState().activeKey!=de.OPTIMIZER)return i.jsx(i.Fragment,{});function o(W){const H=P0.onEditOk(t,W);n(H)}const r=I.getRelicsById(),c=se.getForm().characterId,d=e!=null&&e.Head?r[e.Head]:void 0,u=e!=null&&e.Hands?r[e.Hands]:void 0,b=e!=null&&e.Body?r[e.Body]:void 0,p=e!=null&&e.Feet?r[e.Feet]:void 0,R=e!=null&&e.PlanarSphere?r[e.PlanarSphere]:void 0,G=e!=null&&e.LinkRope?r[e.LinkRope]:void 0,T=d?dt.scoreCurrentRelic(d,c):void 0,C=u?dt.scoreCurrentRelic(u,c):void 0,D=b?dt.scoreCurrentRelic(b,c):void 0,V=p?dt.scoreCurrentRelic(p,c):void 0,M=R?dt.scoreCurrentRelic(R,c):void 0,x=G?dt.scoreCurrentRelic(G,c):void 0;return i.jsxs("div",{children:[i.jsxs(S,{gap:5,id:"optimizerBuildPreviewContainer",justify:"space-between",style:{paddingLeft:1,paddingRight:1},children:[i.jsx(_t,{setEditModalOpen:s,setSelectedRelic:n,relic:d,score:T}),i.jsx(_t,{setEditModalOpen:s,setSelectedRelic:n,relic:u,score:C}),i.jsx(_t,{setEditModalOpen:s,setSelectedRelic:n,relic:b,score:D}),i.jsx(_t,{setEditModalOpen:s,setSelectedRelic:n,relic:p,score:V}),i.jsx(_t,{setEditModalOpen:s,setSelectedRelic:n,relic:R,score:M}),i.jsx(_t,{setEditModalOpen:s,setSelectedRelic:n,relic:G,score:x})]}),i.jsx(gs,{selectedRelic:t,type:"edit",onOk:o,setOpen:s,open:l})]})}const{useToken:Zm}=Bt,{useBreakpoint:ly}=fb,{Text:hl}=ye;function oy(e){return[{label:i.jsx("div",{style:{width:"100%",fontWeight:e==Li?"bold":""},children:v.t("optimizerTab:Sidebar.GPUOptions.Experimental")}),key:Li},{label:i.jsx("div",{style:{width:"100%",fontWeight:e==Mi?"bold":""},children:v.t("optimizerTab:Sidebar.GPUOptions.Stable")}),key:Mi},{label:i.jsx("div",{style:{width:"100%",fontWeight:e==Da?"bold":""},children:v.t("optimizerTab:Sidebar.GPUOptions.CPU")}),key:Da}]}function wa(e){const t=e.total?`${ra(e.right)} / ${ra(e.total)} - (${ra(Math.ceil(e.right/e.total*100))}%)`:`${ra(e.right)}`;return i.jsxs(S,{justify:"space-between",children:[i.jsx(hl,{style:{lineHeight:"24px"},children:e.left}),i.jsx(Wt,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),i.jsx(hl,{style:{lineHeight:"24px"},children:t})]})}const us=5;function ry(){const{lg:e,xl:t,xxl:n}=ly(),l=I.getState().settings[we.PermutationsSidebarBehavior.name]==we.PermutationsSidebarBehavior.NoShow,s=I.getState().settings[we.PermutationsSidebarBehavior.name]==we.PermutationsSidebarBehavior.ShowXL,o=I.getState().settings[we.PermutationsSidebarBehavior.name]==we.PermutationsSidebarBehavior.ShowXXL,r=l||!(e&&s&&!t||e&&o&&!n);return i.jsx(hy,{isFullSize:r})}function Xc(){const{t:e}=K("optimizerTab",{keyPrefix:"Sidebar.GPUOptions"}),t=window.store(n=>n.savedSession[Ue.computeEngine]);return i.jsx(Ts,{menu:{items:oy(t),onClick:n=>{n.key==Da?(window.store.getState().setSavedSessionKey(Ue.computeEngine,Da),_.success(e("EngineSwitchSuccessMsg.CPU"))):jd(!0).then(l=>{l&&(window.store.getState().setSavedSessionKey(Ue.computeEngine,n.key),_.success(n.key==Li?e("EngineSwitchSuccessMsg.Experimental"):e("EngineSwitchSuccessMsg.Stable")))})}},className:"custom-dropdown-button",trigger:["click"],children:i.jsx(z,{style:{padding:3},children:i.jsxs(S,{justify:"space-around",align:"center",style:{width:"100%"},children:[i.jsx("div",{style:{width:1}}),i.jsx(hl,{children:e(`Display.${t}`)}),i.jsx(gl,{})]})})})}function cy(){const e=W0(),t=e.getGridOption("pinnedTopRowData"),n=e.getSelectedNodes();if(!n||n.length==0)_.warning(v.t("optimizerTab:Sidebar.Pinning.Messages.NoneSelected"));else if(n[0].data.statSim)_.warning(v.t("optimizerTab:Sidebar.Pinning.Messages.SimSelected"));else if(t.find(l=>String(l.id)==String(n[0].data.id)))_.warning(v.t("optimizerTab:Sidebar.Pinning.Messages.AlreadyPinned"));else{const l=n[0].data;l&&(t.push(l),e.updateGridOptions({pinnedTopRowData:t}))}}function dy(){const e=W0(),t=e==null?void 0:e.getGridOption("pinnedTopRowData");t!=null&&t.length&&e.updateGridOptions({pinnedTopRowData:[t[0]]})}function uy(){console.log("Filter clicked"),se.applyRowFilters()}function my(e,t,n,l,s,o){if(!e)return v.t("optimizerTab:Sidebar.ProgressText.Progress");let r=Date.now();t&&(r=t);const c=o==Da?l:Math.max(l,65536*512),d=r-e;if(!t&&d<5e3&&l<5e6||!l)return v.t("optimizerTab:Sidebar.ProgressText.CalculatingETA");const u=d/l*(n-l),b=c/(d/1e3);return s?v.t("optimizerTab:Sidebar.ProgressText.TimeRemaining",{rate:ra(Math.floor(b)),timeRemaining:B.msToReadable(u)}):v.t("optimizerTab:Sidebar.ProgressText.Finished",{rate:ra(Math.floor(b))})}function by(e){const{t}=K("modals",{keyPrefix:"ManyPerms"});return i.jsx(Vt,{title:t("Title"),open:e.manyPermsModalOpen,width:900,destroyOnClose:!0,centered:!0,onOk:()=>e.setManyPermsModalOpen(!1),onCancel:()=>e.setManyPermsModalOpen(!1),footer:null,children:i.jsxs(S,{justify:"space-between",align:"center",style:{height:45,marginTop:30,marginBottom:15},gap:16,children:[i.jsx(hl,{children:t("Text")}),i.jsx(z,{onClick:()=>e.setManyPermsModalOpen(!1),style:{width:250},type:"primary",children:t("Cancel")}),i.jsx(z,{onClick:()=>{e.setManyPermsModalOpen(!1),e.startSearch()},style:{width:250},type:"primary",children:t("Proceed")})]})})}function hy(e){const{token:t}=Zm(),n="rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.15) 0px 0px 0px 1px inset";return i.jsx(S,{vertical:!0,style:{overflow:"clip"},children:i.jsx(S,{justify:e.isFullSize?"center":"space-evenly",style:e.isFullSize?{position:"sticky",top:"25.6%",transform:"translateY(-50%)",paddingLeft:10,height:150}:{height:121,overflow:"clip",position:"fixed",width:"100%",bottom:0,left:0,backgroundColor:"rgb(29 42 71)",boxShadow:n,borderRadius:5,padding:Ei,zIndex:3},children:i.jsx(S,{style:e.isFullSize?{borderRadius:5,backgroundColor:t.colorBgContainer,padding:Ei,height:"fit-content",width:233,boxShadow:n,gap:Ei}:void 0,children:i.jsxs(S,{vertical:e.isFullSize,gap:e.isFullSize?5:20,children:[i.jsx(py,{isFullSize:e.isFullSize}),i.jsx(Ry,{isFullSize:e.isFullSize}),i.jsx(Sy,{isFullSize:e.isFullSize})]})})})})}function py(e){const t=window.store(c=>c.permutationDetails),n=window.store(c=>c.permutations),l=window.store(c=>c.permutationsSearched),s=window.store(c=>c.permutationsResults),{t:o}=K("optimizerTab",{keyPrefix:"Sidebar"}),{t:r}=K("common",{keyPrefix:"ReadableParts"});return i.jsxs(S,{vertical:!0,gap:e.isFullSize?10:5,style:{minWidth:211},children:[i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx($,{children:o("Permutations")}),i.jsx(ht,{type:ut.optimizationDetails()})]}),e.isFullSize&&i.jsxs(S,{vertical:!0,children:[i.jsx(wa,{left:r("Head"),right:t.Head,total:t.HeadTotal}),i.jsx(wa,{left:r("Hands"),right:t.Hands,total:t.HandsTotal}),i.jsx(wa,{left:r("Body"),right:t.Body,total:t.BodyTotal}),i.jsx(wa,{left:r("Feet"),right:t.Feet,total:t.FeetTotal}),i.jsx(wa,{left:r("PlanarSphere"),right:t.PlanarSphere,total:t.PlanarSphereTotal}),i.jsx(wa,{left:r("LinkRope"),right:t.LinkRope,total:t.LinkRopeTotal})]}),i.jsxs(S,{vertical:!0,children:[i.jsx(wa,{left:o("Perms"),right:n}),i.jsx(wa,{left:o("Searched"),right:l}),i.jsx(wa,{left:o("Results"),right:s})]}),e.isFullSize&&i.jsx(Cm,{})]})}function Cm(){const e=window.store(c=>c.permutations),t=window.store(c=>c.permutationsSearched),n=window.store(c=>c.optimizerStartTime),l=window.store(c=>c.optimizerEndTime),s=window.store(c=>c.optimizerRunningEngine),o=window.store(c=>c.optimizationInProgress),{token:r}=Zm();return i.jsxs(S,{vertical:!0,children:[i.jsx($,{children:my(n,l,e,t,o,s)}),i.jsx(Gb,{strokeColor:r.colorPrimary,steps:17,size:[8,5],percent:Math.floor(t/e*100)})]})}function Sy(e){const{t}=K("optimizerTab",{keyPrefix:"Sidebar.ResultsGroup"});return i.jsxs(S,{vertical:!0,gap:5,children:[i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx($,{children:t("Header")}),i.jsx(ht,{type:ut.actions()})]}),i.jsxs(S,{gap:e.isFullSize?us:8,justify:"space-around",children:[i.jsx(z,{type:"primary",onClick:se.equipClicked,style:{width:"100px"},children:t("Equip")}),i.jsx(z,{onClick:uy,style:{width:"100px"},children:t("Filter")})]}),i.jsxs(S,{gap:e.isFullSize?us:8,justify:"space-around",children:[i.jsx(z,{style:{width:"100px"},onClick:cy,children:t("Pin")}),i.jsx(z,{style:{width:"100px"},onClick:dy,children:t("Clear")})]})]})}function Ry(e){const{t}=K("optimizerTab",{keyPrefix:"Sidebar"}),{t:n}=K("common"),l=window.store(G=>G.permutations),s=window.store(G=>G.optimizationInProgress),o=window.store(G=>G.setOptimizationInProgress),r=window.store(G=>G.savedSession[Ue.computeEngine]),[c,d]=E.useState(!1);function u(){console.log("Cancel clicked"),o(!1),il.cancel(window.store.getState().optimizationId)}function b(){window.optimizerStartClicked()}function p(){l<1e9||r==Li||r==Mi?b():d(!0)}function R(){console.log("Reset clicked"),se.resetFilters()}return i.jsxs(S,{vertical:e.isFullSize,gap:e.isFullSize?5:20,style:e.isFullSize?{display:"flex",flexDirection:"column"}:{display:"flex",flexDirection:"row-reverse"},children:[i.jsx(by,{startSearch:b,manyPermsModalOpen:c,setManyPermsModalOpen:d}),i.jsxs(S,{vertical:!0,gap:5,children:[i.jsx($,{children:t("ControlsGroup.Header")}),i.jsxs(S,{gap:us,style:{marginBottom:2},vertical:!0,children:[i.jsx(S,{gap:us,children:i.jsx(z,{icon:i.jsx(Gd,{}),type:"primary",loading:s,onClick:p,style:{flex:1,minWidth:211},children:t("ControlsGroup.Start")})}),e.isFullSize&&i.jsx(Xc,{}),i.jsxs(S,{gap:us,children:[i.jsx(z,{onClick:u,style:{flex:1},children:n("Cancel")}),i.jsx(yn,{title:t("ControlsGroup.ResetConfirm.Title"),description:t("ControlsGroup.ResetConfirm.Description"),onConfirm:R,okText:n("Yes"),cancelText:n("No"),children:i.jsx(z,{style:{flex:1},children:n("Reset")})})]})]})]}),i.jsxs(S,{vertical:!0,gap:5,style:{flex:1,minWidth:211},children:[i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx($,{children:t("StatViewGroup.Header")}),i.jsx(ht,{type:ut.statDisplay()})]}),i.jsx(fy,{}),i.jsx(Gy,{isFullSize:e.isFullSize})]}),!e.isFullSize&&i.jsxs(S,{vertical:!0,gap:3,style:{flex:1,minWidth:211},children:[i.jsx($,{children:t("ComputeEngine")}),i.jsx(Xc,{}),i.jsx(Cm,{})]})]})}function fy(){const{t:e}=K("optimizerTab",{keyPrefix:"Sidebar"}),t=window.store(l=>l.statDisplay),n=window.store(l=>l.setStatDisplay);return i.jsxs(ze.Group,{onChange:l=>{const{target:{value:s}}=l;n(s)},optionType:"button",buttonStyle:"solid",value:t,style:{width:"100%",display:"flex"},children:[i.jsx(ze,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"combat",children:e("StatViewGroup.CombatStats")}),i.jsx(ze,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"base",defaultChecked:!0,children:e("StatViewGroup.BasicStats")})]})}function Gy(e){const{t}=K("optimizerTab",{keyPrefix:"Sidebar.StatViewGroup"}),n=window.store(r=>r.memoDisplay),l=window.store(r=>r.setMemoDisplay),s=window.store(r=>r.optimizerTabFocusCharacter),o=Dm(s);return i.jsxs(ze.Group,{onChange:r=>{const{target:{value:c}}=r;l(c)},optionType:"button",buttonStyle:"solid",disabled:!o,value:o?n:"summoner",style:{width:"100%",display:o||!e.isFullSize?"flex":"none"},children:[i.jsx(ze,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"summoner",children:t("SummonerStats")}),i.jsx(ze,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"memo",defaultChecked:!0,children:t("MemospriteStats")})]})}function Dm(e){return e?I.getMetadata().characters[e].path=="Remembrance":!1}const{useToken:gy}=Bt,Ty=[Z.OHB,Z.HEAL,Z.SHIELD,Z.MEMO_SKILL,Z.MEMO_TALENT],_i={WIDTH:1227,HEIGHT:600,MIN_HEIGHT:300};function yy(){console.log("======================================================================= RENDER OptimizerGrid");const{token:e}=gy(),{t,i18n:n}=K("optimizerTab"),l=E.useRef(),[s,o]=E.useState(!1),r=window.store(D=>D.optimizerTabFocusCharacter),c=E.useRef(n.resolvedLanguage);window.optimizerGrid=l;const d=E.useMemo(()=>se.getDataSource(),[]),u=window.store(D=>D.statDisplay),b=window.store(D=>D.memoDisplay),R=Dm(r)&&b==="memo",G=E.useMemo(()=>{let D=u==="combat"?R?gR(t):GR(t):R?fR(t):RR(t);if(r){const V=I.getMetadata().characters[r].scoringMetadata,M=new Set([...V.hiddenColumns??[],...Ty]),x=new Set(V.addedColumns??[]),W=Array.from(M).filter(H=>!x.has(H)).map(H=>u==="combat"?R?H.memoCombatGridColumn:H.combatGridColumn:R?H.memoBasicGridColumn:H.basicGridColumn);D=D.filter(H=>!W.includes(H.field))}return D},[r,u,b,t]);Cr.datasource=d;const T=E.useCallback(D=>w0(D,l,V=>se.cellClicked(V)),[]);E.useEffect(()=>{n.resolvedLanguage!==c.current&&(o(!0),c.current=n.resolvedLanguage,setTimeout(()=>o(!1),100))},[n.resolvedLanguage]);const C=E.useCallback(D=>({to:t("Grid.To"),pageSizeSelectorLabel:t("Grid.PageSelectorLabel"),of:t("Grid.Of"),page:t("Grid.Page")})[D.key]??D.defaultValue,[t]);return i.jsxs(S,{children:[s&&i.jsx("div",{style:{width:_i.WIDTH,height:_i.HEIGHT}}),!s&&i.jsx("div",{id:"optimizerGridContainer",className:"ag-theme-balham-dark",style:{width:_i.WIDTH,minHeight:_i.MIN_HEIGHT,height:_i.HEIGHT,resize:"vertical",overflow:"hidden",boxShadow:Es,...V0(e)},children:i.jsx(e0,{animateRows:!1,columnDefs:G,defaultColDef:SR,gridOptions:Cr,headerHeight:24,onCellClicked:se.cellClicked,ref:l,paginationNumberFormatter:D=>hn(D.value),getLocaleText:C,navigateToNextCell:T,rowSelection:"single"})})]})}function Zy(){const e=window.store(t=>t.settings.ExpandedInfoPanelPosition);return console.log("======================================================================= RENDER OptimizerTab"),i.jsxs(S,{children:[i.jsxs(S,{vertical:!0,gap:10,style:{marginBottom:100},children:[i.jsx(yG,{}),i.jsx(yy,{}),i.jsxs(S,{vertical:!0,gap:10,style:{flexDirection:e==we.ExpandedInfoPanelPosition.Below?"column":"column-reverse"},children:[i.jsx(sy,{}),i.jsx(ay,{})]})]}),i.jsx(WS,{}),i.jsx(MS,{}),i.jsx(ry,{})]})}const Cy=(e,t)=>{const n=()=>{document.removeEventListener(e,t)};E.useEffect(()=>(document.addEventListener(e,t),()=>n()),[e,t])},{useToken:Dy}=Bt,{Text:Ey}=ye,Iy=34,xy=34,Wy=k.getBlank();function My(e){const t=window.store(P=>P.setRelicTabFilters),n=window.store(P=>P.setRelicsTabFocusCharacter),[l,s]=E.useState(),{t:o,i18n:r}=K(["relicsTab","common","gameData"]),c=E.useMemo(()=>cu(),[]);function d(P,X,w){function ie(ee){const me={[a.Physical_DMG]:"Physical",[a.Fire_DMG]:"Fire",[a.Ice_DMG]:"Ice",[a.Lightning_DMG]:"Lightning",[a.Wind_DMG]:"Wind",[a.Quantum_DMG]:"Quantum",[a.Imaginary_DMG]:"Imaginary"},be=me[ee]?30:xy,Ge=k.getElement(me[ee]),ae=Ge!=Wy?Ge:X(ee);return w?i.jsx(_c,{title:r.exists(`common:Stats.${ee}`)?o(`common:Stats.${ee}`):o(`gameData:RelicSets.${ot[ee]}.Name`),mouseEnterDelay:.2,children:i.jsx("img",{style:{width:be},src:ae})}):i.jsx("img",{style:{width:be},src:ae})}return P.map(ee=>({key:ee,display:ie(ee)}))}function u(P){return P.map(X=>({key:X[0],display:i.jsx(S,{style:{height:Iy},justify:"space-around",align:"center",children:i.jsx(Ey,{style:{fontSize:18},children:X[1]})})}))}function b(P){return P.map(X=>({key:X,display:Y.renderGrade({grade:X})}))}function p(P){return P.map(X=>({key:X,display:Y.renderGrade({grade:-1,verified:X=="true"})}))}function R(P){return P.map(X=>({key:X,display:Y.renderEquippedBy(X)}))}const G=b([2,3,4,5]),T=p(["true","false"]),C=d(Object.values(g).filter(P=>!xi[P]),P=>k.getSetImage(P,m.Parts.PlanarSphere),!0),D=d(Object.values(m.Parts),P=>k.getPart(P),!1),V=d(m.MainStats,P=>k.getStatIcon(P,!0),!0),M=d(m.SubStats,P=>k.getStatIcon(P,!0),!0),x=u([[0,"+0"],[3,"+3"],[6,"+6"],[9,"+9"],[12,"+12"],[15,"+15"]]),W=R(["true","false"]);window.refreshRelicsScore=()=>{setTimeout(()=>{H(l)},100)},Cy("refreshRelicsScore",window.refreshRelicsScore),E.useEffect(()=>{I.getState().settings[we.RelicPotentialLoadBehavior.name]==we.RelicPotentialLoadBehavior.ScoreAtStartup&&H(l)},[]);function H(P,X){var be,Ge;const w=X?[X]:Object.values(I.getRelicsById());console.log("idChange",P),n(P),s(P);const ie=c.map(ae=>ae.id),ee=window.store.getState().excludedRelicPotentialCharacters,me=new dt;for(const ae of w){const Q=P?me.getFutureRelicScore(ae,P):{current:0,best:0,average:0};Q.potentialSelected=P?me.scoreRelicPotential(ae,P):{bestPct:0,averagePct:0,rerollAvgPct:0},Q.potentialAllAll={bestPct:0,averagePct:0,rerollAvgPct:0},Q.potentialAllCustom={bestPct:0,averagePct:0,rerollAvgPct:0},Q.rerollAllAll={bestPct:0,averagePct:0,rerollAvgPct:0},Q.rerollAllCustom={bestPct:0,averagePct:0,rerollAvgPct:0},Q.rerollAvgSelected=Math.max(0,Q.potentialSelected.rerollAvgPct);for(const Xe of ie){const Pe=me.scoreRelicPotential(ae,Xe);Q.potentialAllAll={bestPct:Math.max(Pe.bestPct,Q.potentialAllAll.bestPct),averagePct:Math.max(Pe.averagePct,Q.potentialAllAll.averagePct),rerollAvgPct:0},Q.rerollAllAll={bestPct:0,averagePct:0,rerollAvgPct:Math.max(Pe.rerollAvgPct,Q.rerollAllAll.rerollAvgPct)},ee.includes(Xe)||(Q.potentialAllCustom={bestPct:Math.max(Pe.bestPct,Q.potentialAllCustom.bestPct),averagePct:Math.max(Pe.averagePct,Q.potentialAllCustom.averagePct),rerollAvgPct:0},Q.rerollAllCustom={bestPct:0,averagePct:0,rerollAvgPct:Math.max(Pe.rerollAvgPct,Q.rerollAllCustom.rerollAvgPct)})}if(Q.rerollAvgSelectedDelta=Q.rerollAvgSelected==0?0:Q.rerollAvgSelected-Q.potentialSelected.averagePct,Q.rerollAvgSelectedEquippedDelta=P?Q.rerollAvgSelected:0,P){const Xe=I.getCharacterById(P).equipped[ae.part];Xe&&(Q.rerollAvgSelectedEquippedDelta-=me.scoreRelicPotential(I.getRelicById(Xe),P).averagePct)}ae.weights=Q}X||(I.setRelics(y.clone(w)),P&&((Ge=(be=window.relicsGrid)==null?void 0:be.current)!=null&&Ge.api)&&(window.relicsGrid.current.api.getColumnState().filter(Q=>Q.sort!==null)||window.relicsGrid.current.api.applyColumnState({state:[{colId:"weights.current",sort:"desc"}],defaultState:{sort:null}})),I.refreshRelics())}function O(){t({set:[],part:[],enhance:[],mainStats:[],subStats:[],grade:[],verified:[],equippedBy:[]})}function j(){const P=window.store.getState().relicsTabFocusCharacter;P&&window.store.getState().setScoringAlgorithmFocusCharacter(P),window.store.getState().setScoringModalOpen(!0)}function N(){H(l)}function F(P){H(l,P)}return window.rescoreSingleRelic=F,i.jsxs(S,{vertical:!0,gap:2,children:[i.jsxs(S,{gap:10,children:[i.jsxs(S,{vertical:!0,flex:1,children:[i.jsx($,{children:o("RelicFilterBar.Part")}),i.jsx(dn,{name:"part",tags:D,flexBasis:"15%"})]}),i.jsxs(S,{vertical:!0,style:{height:"100%"},flex:1,children:[i.jsx($,{children:o("RelicFilterBar.Enhance")}),i.jsx(dn,{name:"enhance",tags:x,flexBasis:"15%"})]}),i.jsxs(S,{vertical:!0,flex:.5,children:[i.jsx($,{children:o("RelicFilterBar.Grade")}),i.jsx(dn,{name:"grade",tags:G,flexBasis:"15%"})]}),i.jsxs(S,{vertical:!0,flex:.25,children:[i.jsx($,{children:o("RelicFilterBar.Verified")}),i.jsx(dn,{name:"verified",tags:T,flexBasis:"15%"})]}),i.jsxs(S,{vertical:!0,flex:.25,children:[i.jsx($,{children:o("RelicFilterBar.Equipped")}),i.jsx(dn,{name:"equippedBy",tags:W,flexBasis:"15%"})]}),i.jsxs(S,{vertical:!0,flex:.4,children:[i.jsx($,{children:o("RelicFilterBar.Clear")}),i.jsx(z,{icon:i.jsx(gb,{}),onClick:O,style:{flexGrow:1,height:"100%"},children:o("RelicFilterBar.ClearButton")})]})]}),i.jsxs(S,{vertical:!0,children:[i.jsx($,{children:o("RelicFilterBar.Set")}),i.jsx(dn,{name:"set",tags:C,flexBasis:`${100/Object.values($n).length}%`})]}),i.jsxs(S,{vertical:!0,children:[i.jsx($,{children:o("RelicFilterBar.Mainstat")}),i.jsx(dn,{name:"mainStats",tags:V})]}),i.jsxs(S,{vertical:!0,children:[i.jsx($,{children:o("RelicFilterBar.Substat")}),i.jsx(dn,{name:"subStats",tags:M})]}),i.jsxs(S,{gap:10,children:[i.jsxs(S,{vertical:!0,flex:.5,children:[i.jsx($,{children:o("RelicFilterBar.RecommendationHeader")}),i.jsxs(S,{gap:10,children:[i.jsx(Fi,{value:l,selectStyle:{flex:1},onChange:P=>{setTimeout(()=>H(P),20)},withIcon:!0}),i.jsx(z,{onClick:N,style:{flex:1,padding:"0px"},children:o("RelicFilterBar.ReapplyButton")}),i.jsx(z,{onClick:j,style:{flex:1,padding:"0px"},children:o("RelicFilterBar.ScoringButton")})]})]}),i.jsx(S,{vertical:!0,flex:.25,gap:10,children:i.jsxs(S,{vertical:!0,children:[i.jsxs(S,{justify:"space-between",align:"center",children:[i.jsx($,{children:o("RelicFilterBar.Rating")}),i.jsx(ht,{type:ut.valueColumns()})]}),i.jsx(S,{gap:10,children:i.jsx(J,{mode:"multiple",allowClear:!0,value:e.valueColumns,onChange:e.setValueColumns,options:e.valueColumnOptions,maxTagCount:"responsive",style:{flex:1},listHeight:750,dropdownStyle:{width:"fit-content"}})})]})}),i.jsxs(S,{vertical:!0,flex:.25,children:[i.jsx($,{children:o("RelicFilterBar.CustomCharsHeader")}),i.jsx(Fi,{value:window.store.getState().excludedRelicPotentialCharacters,selectStyle:{flex:1},onChange:P=>{const X=Array.from(P||new Map).filter(w=>w[1]).map(w=>w[0]);window.store.getState().setExcludedRelicPotentialCharacters(X),Te.delayedSave(),setTimeout(()=>N(),100)},multipleSelect:!0})]})]})]})}function dn(e){const{token:t}=Dy(),n=window.store(r=>r.relicTabFilters),l=window.store(r=>r.setRelicTabFilters),s=n[e.name],o=(r,c)=>{const d=c?[...s,r]:s.filter(b=>b!=r),u=y.clone(n);u[e.name]=d,console.log("Relic tab filters",e.name,u),l(u)};return i.jsx(S,{style:{flexWrap:"wrap",flexGrow:1,backgroundColor:t.colorBgContainer,boxShadow:`0px 0px 0px 1px ${t.colorBorder} inset`,borderRadius:6,overflow:"hidden"},children:e.tags.map(r=>i.jsx($c,{checked:s.includes(r.key),onChange:c=>o(r.key,c),style:{flex:1,flexBasis:e.flexBasis,boxShadow:`1px 1px 1px 0px ${t.colorBorder}`,backgroundColor:s.includes(r.key)?t.colorPrimary:"transparent"},children:i.jsx(S,{align:"center",justify:"space-around",style:{height:"100%"},children:r.display})},r.key))})}const{useToken:Ly}=Bt,Vy="PLOT_ALL",go="PLOT_CUSTOM",To=1460;function Em(){const{token:e}=Ly();console.log("======================================================================= RENDER RelicsTab");const t=E.useRef();window.relicsGrid=t;const[n,l]=E.useState(I.getRelics());window.setRelicRows=l;const[s,o]=E.useState(),[r,c]=E.useState([]),[d,u]=E.useState(!1),[b,p]=E.useState(!1),[R,G]=E.useState(!1),[T,C]=E.useState(go),[D,V]=E.useState("buckets"),[M,x]=E.useState(!1),W=window.store(A=>A.relicTabFilters),H=window.store(A=>A.inventoryWidth),O=window.store(A=>A.setInventoryWidth),j=window.store(A=>A.rowLimit),N=window.store(A=>A.setRowLimit),{t:F,i18n:P}=K(["relicsTab","common","gameData"]),X=E.useRef(P.resolvedLanguage),w=[{value:"buckets",label:F("Toolbar.InsightOptions.Buckets")},{value:"top10",label:F("Toolbar.InsightOptions.Top10")}],ie=[{value:Vy,label:F("Toolbar.PlotOptions.PlotAll")},{value:go,label:F("Toolbar.PlotOptions.PlotCustom")}];E.useEffect(()=>{P.resolvedLanguage!==X.current&&(x(!0),setTimeout(()=>x(!1),100))},[P.resolvedLanguage]),E.useEffect(()=>{var ke,_e;if(!((_e=(ke=window.relicsGrid)==null?void 0:ke.current)!=null&&_e.api))return;if(console.log("RelicTabFilters",W),Object.values(W).filter(We=>We.length>0).length==0){window.relicsGrid.current.api.setFilterModel(null);return}const A={};A.set={conditions:W.set.map(We=>({filterType:"text",type:"equals",filter:We})),operator:"OR"},A.part={conditions:W.part.map(We=>({filterType:"text",type:"equals",filter:We})),operator:"OR"},A.grade={conditions:W.grade.map(We=>({filterType:"number",type:"equals",filter:We})),operator:"OR"},A.verified={conditions:[W.verified.includes("true")&&{filterType:"text",type:"true"},W.verified.includes("false")&&{filterType:"text",type:"false"}],operator:"OR"},A.equippedBy={conditions:[W.equippedBy.includes("true")&&{filterType:"text",type:"notBlank"},W.equippedBy.includes("false")&&{filterType:"text",type:"blank"}],operator:"OR"},A["main.stat"]={conditions:W.mainStats.map(We=>({filterType:"text",type:"equals",filter:We})),operator:"OR"};for(const We of W.subStats)A[`augmentedStats.${We}`]={filterType:"number",type:"greaterThan",filter:0};A.enhance={conditions:W.enhance.flatMap(We=>[{filterType:"number",type:"equals",filter:We},{filterType:"number",type:"equals",filter:We+1},{filterType:"number",type:"equals",filter:We+2}]),operator:"OR"},console.log("FilterModel",A),window.relicsGrid.current.api.setFilterModel(A)},[W]);const[ee,me]=E.useState(0),[be,Ge]=E.useState({set:void 0,part:void 0});E.useEffect(()=>{if(!s)return;const A=Math.max(1,j)*Math.max(1,H),ke=I.getRelics().filter(pt=>pt.ageIndex<=s.ageIndex),_e=ke.filter(pt=>s.part==pt.part).length-1;if(_e<A){me(_e),Ge({set:void 0,part:s.part});return}const We=ke.filter(pt=>s.part==pt.part&&s.set==pt.set).length-1;me(We),Ge({set:s.set,part:s.part})},[s,H,j]);const ae=E.useMemo(()=>[{label:F("RelicGrid.ValueColumns.SelectedCharacter.Label"),options:[{column:F("RelicGrid.ValueColumns.SelectedCharacter.ScoreCol.Header"),value:"weights.current",label:F("RelicGrid.ValueColumns.SelectedCharacter.ScoreCol.Label")},{column:F("RelicGrid.ValueColumns.SelectedCharacter.AvgPotCol.Header"),value:"weights.potentialSelected.averagePct",label:F("RelicGrid.ValueColumns.SelectedCharacter.AvgPotCol.Label"),percent:!0},{column:F("RelicGrid.ValueColumns.SelectedCharacter.MaxPotCol.Header"),value:"weights.potentialSelected.bestPct",label:F("RelicGrid.ValueColumns.SelectedCharacter.MaxPotCol.Label"),percent:!0},{column:F("RelicGrid.ValueColumns.SelectedCharacter.RerollAvg.Header"),value:"weights.rerollAvgSelected",label:F("RelicGrid.ValueColumns.SelectedCharacter.RerollAvg.Label"),percent:!0},{column:F("RelicGrid.ValueColumns.SelectedCharacter.RerollAvgDelta.Header"),value:"weights.rerollAvgSelectedDelta",label:F("RelicGrid.ValueColumns.SelectedCharacter.RerollAvgDelta.Label"),percent:!0},{column:F("RelicGrid.ValueColumns.SelectedCharacter.RerollAvgEquippedDelta.Header"),value:"weights.rerollAvgSelectedEquippedDelta",label:F("RelicGrid.ValueColumns.SelectedCharacter.RerollAvgEquippedDelta.Label"),percent:!0}]},{label:F("RelicGrid.ValueColumns.CustomCharacters.Label"),options:[{column:F("RelicGrid.ValueColumns.CustomCharacters.AvgPotCol.Header"),value:"weights.potentialAllCustom.averagePct",label:F("RelicGrid.ValueColumns.CustomCharacters.AvgPotCol.Label"),percent:!0},{column:F("RelicGrid.ValueColumns.CustomCharacters.MaxPotCol.Header"),value:"weights.potentialAllCustom.bestPct",label:F("RelicGrid.ValueColumns.CustomCharacters.MaxPotCol.Label"),percent:!0},{column:F("RelicGrid.ValueColumns.CustomCharacters.RerollAvg.Header"),value:"weights.rerollAllCustom.rerollAvgPct",label:F("RelicGrid.ValueColumns.CustomCharacters.RerollAvg.Label"),percent:!0}]},{label:F("RelicGrid.ValueColumns.AllCharacters.Label"),options:[{column:F("RelicGrid.ValueColumns.AllCharacters.AvgPotCol.Header"),value:"weights.potentialAllAll.averagePct",label:F("RelicGrid.ValueColumns.AllCharacters.AvgPotCol.Label"),percent:!0},{column:F("RelicGrid.ValueColumns.AllCharacters.MaxPotCol.Header"),value:"weights.potentialAllAll.bestPct",label:F("RelicGrid.ValueColumns.AllCharacters.MaxPotCol.Label"),percent:!0},{column:F("RelicGrid.ValueColumns.AllCharacters.RerollAvg.Header"),value:"weights.rerollAllAll.rerollAvgPct",label:F("RelicGrid.ValueColumns.AllCharacters.RerollAvg.Label"),percent:!0}]},{label:F("RelicGrid.ValueColumns.ComingSoon.Label"),options:[{column:F("RelicGrid.ValueColumns.ComingSoon.SetsPotential.Header"),disabled:!0,value:"weights.potentialAllSets",label:F("RelicGrid.ValueColumns.ComingSoon.SetsPotential.Label"),percent:!0}]}],[F]),Q=E.useMemo(()=>ae.flatMap(A=>A.options),[ae]),[Xe,Pe]=E.useState(["weights.current","weights.rerollAvgSelected","weights.rerollAvgSelectedDelta","weights.potentialSelected.averagePct","weights.potentialSelected.bestPct","weights.potentialAllCustom.averagePct","weights.potentialAllCustom.bestPct"]),Oe=E.useMemo(()=>[{field:"verified",hide:!0,filter:"agTextColumnFilter",filterParams:{maxNumConditions:2}},{field:"equippedBy",headerName:F("RelicGrid.Headers.EquippedBy"),width:40,cellRenderer:Y.characterIcon,filter:"agTextColumnFilter"},{field:"set",cellRenderer:Y.anySet,width:40,headerName:F("RelicGrid.Headers.Set"),filter:"agTextColumnFilter"},{field:"grade",width:30,cellRenderer:Y.renderGradeCell,headerName:"★",headerClass:"large-grid-column-header",filter:"agNumberColumnFilter"},{field:"enhance",width:30,headerName:"+",headerClass:"large-grid-column-header",filter:"agNumberColumnFilter"},{field:"part",valueFormatter:Y.readablePart,width:55,headerName:F("RelicGrid.Headers.Part"),filter:"agTextColumnFilter"},{field:"main.stat",valueFormatter:Y.readableStat,headerName:F("RelicGrid.Headers.MainStat"),width:78,filter:"agTextColumnFilter"},{field:"main.value",headerName:F("RelicGrid.Headers.MainValue"),width:50,valueFormatter:Y.mainValueRenderer,filter:"agNumberColumnFilter"},{field:`augmentedStats.${m.Stats.HP_P}`,headerName:F("RelicGrid.Headers.HPP"),cellStyle:fe.getRelicGradient,valueFormatter:Y.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${m.Stats.ATK_P}`,headerName:F("RelicGrid.Headers.ATKP"),cellStyle:fe.getRelicGradient,valueFormatter:Y.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${m.Stats.DEF_P}`,headerName:F("RelicGrid.Headers.DEFP"),cellStyle:fe.getRelicGradient,valueFormatter:Y.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${m.Stats.HP}`,headerName:F("RelicGrid.Headers.HP"),cellStyle:fe.getRelicGradient,valueFormatter:Y.hideZeroesFloor,filter:"agNumberColumnFilter"},{field:`augmentedStats.${m.Stats.ATK}`,headerName:F("RelicGrid.Headers.ATK"),cellStyle:fe.getRelicGradient,valueFormatter:Y.hideZeroesFloor,filter:"agNumberColumnFilter"},{field:`augmentedStats.${m.Stats.DEF}`,headerName:F("RelicGrid.Headers.DEF"),cellStyle:fe.getRelicGradient,valueFormatter:Y.hideZeroesFloor,filter:"agNumberColumnFilter"},{field:`augmentedStats.${m.Stats.SPD}`,headerName:F("RelicGrid.Headers.SPD"),cellStyle:fe.getRelicGradient,valueFormatter:Y.hideZeroes10thsRelicTabSpd,filter:"agNumberColumnFilter"},{field:`augmentedStats.${m.Stats.CR}`,headerName:F("RelicGrid.Headers.CR"),cellStyle:fe.getRelicGradient,valueFormatter:Y.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${m.Stats.CD}`,headerName:F("RelicGrid.Headers.CD"),cellStyle:fe.getRelicGradient,valueFormatter:Y.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${m.Stats.EHR}`,headerName:F("RelicGrid.Headers.EHR"),cellStyle:fe.getRelicGradient,valueFormatter:Y.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${m.Stats.RES}`,headerName:F("RelicGrid.Headers.RES"),cellStyle:fe.getRelicGradient,valueFormatter:Y.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${m.Stats.BE}`,headerName:F("RelicGrid.Headers.BE"),cellStyle:fe.getRelicGradient,valueFormatter:Y.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:"cv",valueGetter:Py,headerName:F("RelicGrid.Headers.CV"),cellStyle:fe.getRelicGradient,valueFormatter:Y.hideZeroesX100Tenths,filter:"agNumberColumnFilter"}].concat(Xe.map(A=>{const ke=Q.findIndex(_e=>_e.value===A);return[ke,Q[ke]]}).sort((A,ke)=>A[0]-ke[0]).map(([A,ke])=>({field:ke.value,headerName:ke.column,cellStyle:fe.getRelicGradient,valueFormatter:ke.percent?Y.hideNaNAndFloorPercent:Y.hideNaNAndFloor,filter:"agNumberColumnFilter",width:75}))),[Q,Xe,F]),tt=E.useMemo(()=>({rowHeight:33,suppressDragLeaveHidesColumns:!0,suppressScrollOnNewData:!0,suppressMultiSort:!0,getRowId:A=>String(A.data.id)}),[]),ue=E.useMemo(()=>({sortable:!0,width:46,headerClass:"relicsTableHeader",sortingOrder:["desc","asc"],filterParams:{maxNumConditions:200},wrapHeaderText:!0,autoHeaderHeight:!0,suppressHeaderMenuButton:!0}),[]),te=E.useCallback(A=>{console.log("selectionChanged",A),c(A.api.getSelectedRows())},[]),pe=E.useCallback(A=>{console.log("rowClicked",A),A.type||t.current.api.getRowNode(A.id).setSelected(!0,!0),o(A.data)},[]),Se=E.useCallback(A=>{console.log("rowDblClicked",A),o(A.data),u(!0)},[]),Fe=E.useCallback(A=>w0(A,t,ke=>pe(ke)),[]),et=E.useCallback(A=>A.key=="to"?F("RelicGrid.To"):A.key=="of"?F("RelicGrid.Of"):A.key,[F]);function Lt(A){I.setRelic(A),window.forceCharacterTabUpdate(),l(I.getRelics()),Te.delayedSave(),o(A),_.success(F("Messages.AddRelicSuccess")),console.log("onAddOk",A)}function Ot(A){const ke=P0.onEditOk(s,A);o(ke)}function Ga(){if(console.log("edit clicked"),!s)return _.error(F("Messages.NoRelicSelected"));u(!0)}function q(){console.log("add clicked"),p(!0)}function Je(A){if(console.log("delete clicked"),r.length===0)return G(!1),_.error(F("Messages.NoRelicSelected"));G(A)}function oe(){if(r.length===0)return _.error(F("Messages.NoRelicSelected"));r.forEach(A=>{I.deleteRelic(A.id)}),l(I.getRelics()),o(void 0),Te.delayedSave(),_.success(F("Messages.DeleteRelicSuccess"))}const at=window.store.getState().relicsTabFocusCharacter;let Ut;at&&s&&(Ut=dt.scoreCurrentRelic(s,at));const ti=10,[Dn,ai]=E.useState(null),[Be,Gt]=E.useState(null),en=window.store(A=>A.excludedRelicPotentialCharacters);return E.useEffect(()=>{if(s){const A=I.getMetadata().characters,ke=Object.keys(A).filter(We=>!(T===go&&en.includes(We))).map(We=>({cid:We,name:F(`gameData:Characters.${We}.Name`),score:dt.scoreRelicPotential(s,We,!0),color:"#000",owned:!!I.getCharacterById(We)}));ke.sort((We,pt)=>pt.score.bestPct-We.score.bestPct),ke.forEach((We,pt)=>{We.color="hsl("+pt*360/(ti+1)+",50%,50%)"}),ai(ke.slice(0,ti));const _e=[[],[],[],[],[],[],[],[],[],[]];for(const We of ke){let pt=Math.floor(We.score.bestPct/10);pt=Math.min(9,Math.max(0,pt)),_e[pt].push(We)}_e.forEach(We=>We.sort((pt,Bl)=>pt.name.localeCompare(Bl.name))),Gt(_e)}},[T,s,en,F]),i.jsxs(S,{style:{width:To,marginBottom:100},children:[i.jsx(gs,{selectedRelic:s,type:"add",onOk:Lt,setOpen:p,open:b}),i.jsx(gs,{selectedRelic:s,type:"edit",onOk:Ot,setOpen:u,open:d}),i.jsxs(S,{vertical:!0,gap:10,children:[i.jsx(My,{setValueColumns:Pe,valueColumns:Xe,valueColumnOptions:ae}),!M&&i.jsx("div",{id:"relicGrid",className:"ag-theme-balham-dark",style:{width:To,height:500,resize:"vertical",overflow:"hidden",...V0(e)},children:i.jsx(e0,{ref:t,rowData:n,gridOptions:tt,columnDefs:Oe,defaultColDef:ue,animateRows:!0,headerHeight:24,pagination:!0,paginationPageSizeSelector:!1,paginationPageSize:2100,paginationNumberFormatter:A=>A.value.toLocaleString(P.resolvedLanguage.split("_")[0]),getLocaleText:et,onSelectionChanged:te,onRowClicked:pe,onRowDoubleClicked:Se,navigateToNextCell:Fe,rowSelection:"multiple"})}),M&&i.jsx("div",{style:{width:To,height:500}}),i.jsxs(S,{gap:10,justify:"space-between",children:[i.jsx(z,{type:"primary",onClick:Ga,style:{width:170},disabled:r.length===0||r.length>1,children:F("Toolbar.EditRelic")}),i.jsx(yn,{title:F("common:Confirm"),description:F("Toolbar.DeleteRelic.Warning",{count:r.length}),open:R,onOpenChange:Je,onConfirm:oe,placement:"bottom",okText:F("common:Yes"),cancelText:F("common:Cancel"),children:i.jsx(z,{type:"primary",style:{width:170},disabled:r.length===0,children:F("Toolbar.DeleteRelic.ButtonText")})}),i.jsx(z,{type:"primary",onClick:q,style:{width:170},children:F("Toolbar.AddRelic")}),i.jsx(bs,{trigger:"click",onOpenChange:A=>{A||Te.delayedSave()},content:i.jsxs(S,{gap:8,style:{minWidth:260},children:[i.jsxs(S,{vertical:!0,children:[i.jsx(S,{justify:"space-between",align:"center",children:i.jsx($,{children:F("Toolbar.RelicLocator.Width")})}),i.jsx($t,{defaultValue:window.store.getState().inventoryWidth,style:{width:"auto"},min:1,onChange:A=>{O(A)}})]}),i.jsxs(S,{vertical:!0,children:[i.jsxs(S,{justify:"space-between",align:"center",gap:10,children:[i.jsx($,{children:F("Toolbar.RelicLocator.Filter")}),i.jsx(ht,{type:ut.locatorParams()})]}),i.jsx($t,{defaultValue:window.store.getState().rowLimit,style:{width:"auto"},min:1,onChange:A=>{N(A)}})]})]}),children:i.jsxs(S,{justify:"space-between",align:"center",style:{cursor:"pointer",paddingLeft:8,paddingRight:10,width:285,marginTop:1,borderRadius:5,height:30,background:"rgba(36, 51, 86)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.2)",outline:"1px solid rgba(63, 90, 150)"},children:[s&&i.jsxs(S,{align:"center",justify:"space-between",style:{width:"100%"},children:[i.jsxs(S,{gap:5,style:{minWidth:10},justify:"flex-start",children:[be.part&&i.jsx("img",{src:k.getPart(be.part),style:{height:25}}),be.set&&i.jsx("img",{src:k.getSetImage(be.set,void 0,!0),style:{height:26}}),!be.part&&!be.set&&i.jsx("div",{style:{width:10}})]}),i.jsx(ye,{children:s?F("Toolbar.RelicLocator.Location",{columnIndex:ee%H+1,rowIndex:Math.ceil((ee+1)/H)}):""}),i.jsx(xa,{})]}),!s&&i.jsxs(S,{style:{width:"100%",paddingBottom:2},justify:"space-between",children:[i.jsx("div",{style:{width:10}}),i.jsx("div",{children:F("Toolbar.RelicLocator.NoneSelected")}),i.jsx(xa,{})]})]})}),i.jsx(S,{style:{display:"block"},children:i.jsx(ht,{type:ut.relicLocation()})}),i.jsx(J,{value:D,onChange:V,options:w,style:{width:275}}),i.jsx(S,{style:{display:"block"},children:i.jsx(ht,{type:ut.relicInsight()})}),i.jsx(J,{value:T,onChange:C,options:ie,style:{width:275}})]}),i.jsxs(S,{gap:10,children:[i.jsx(_t,{relic:s,setSelectedRelic:o,setEditModalOpen:u,score:Ut}),i.jsx(S,{style:{display:"block"},children:i.jsx(ht,{type:ut.relics()})}),D==="top10"&&Dn&&i.jsxs(S,{gap:10,children:[i.jsx(S,{style:{borderRadius:8,overflow:"hidden",border:`1px solid ${e.colorBorderSecondary}`},children:i.jsx(_0,{onClick:A=>{store.getState().setScoringAlgorithmFocusCharacter(A.points[0].data.cid),window.store.getState().setScoringModalOpen(!0)},data:Dn.map(A=>({x:[A.score.averagePct],y:[A.name],hoverinfo:"name",mode:"markers",type:"scatter",error_x:{type:"data",symmetric:!1,array:[A.score.bestPct-A.score.averagePct],arrayminus:[A.score.averagePct-A.score.worstPct]},marker:{color:A.color},name:A.name,cid:A.cid})).reverse(),layout:{plot_bgcolor:"rgba(0, 0, 0, 0)",paper_bgcolor:e.colorBgContainer,font:{color:"rgba(255, 255, 255, 0.85)"},autosize:!0,width:320,height:278,margin:{b:20,l:10,r:20,t:10},showlegend:!1,xaxis:{fixedrange:!0,range:[0,100],tick0:0,dtick:10,showgrid:!0,showline:!0,showticklabels:!0,type:"linear",zeroline:!0,gridcolor:"rgba(128, 128, 128, 0.15)"},yaxis:{fixedrange:!0,showticklabels:!1,gridcolor:"rgba(128, 128, 128, 0.15)"}},config:{displayModeBar:!1,editable:!1,scrollZoom:!1}})}),i.jsx("ol",{children:i.jsx(S,{vertical:!0,gap:5.5,children:Dn.map(A=>{const ke=i.jsx("svg",{width:10,height:10,children:i.jsx("rect",{width:10,height:10,style:{fill:A.color,strokeWidth:1,stroke:"rgb(0,0,0)"}})}),_e=Math.floor(A.score.worstPct),We=Math.floor(A.score.bestPct),pt=_e===We?`${_e}%`:`${_e}% - ${We}%`;return i.jsx(S,{gap:4,children:i.jsx("li",{style:A.owned?{fontWeight:"bold"}:void 0,children:i.jsxs(S,{align:"center",gap:8,children:[ke,i.jsxs("a",{style:{height:"19px"},children:[" ",i.jsx("img",{src:k.getCharacterAvatarById(A.cid),style:{height:"19px"},onClick:Bl=>{store.getState().setScoringAlgorithmFocusCharacter(Bl.target.attributes.src.nodeValue.split("avatar/")[1].split(".webp")[0]),window.store.getState().setScoringModalOpen(!0)}})]}),A.name,": ",pt]})})},A.cid)})})})]}),i.jsx(S,{style:{borderRadius:8,overflow:"hidden",border:`1px solid ${e.colorBorderSecondary}`},children:D==="buckets"&&Be&&i.jsx(_0,{onClick:A=>{store.getState().setScoringAlgorithmFocusCharacter(A.points[0].data.cid[A.points[0].pointIndex]),window.store.getState().setScoringModalOpen(!0)},data:[{type:"scatter",x:[0,0,0,0,0,0,0,0,0,0],y:["0%+","10%+","20%+","30%+","40%+","50%+","60%+","70%+","80%+","90%+"],hoverinfo:"skip",mode:"markers",marker:{color:"rgba(0, 0, 0, 0)",symbol:"circle",size:16}},{type:"scatter",hoverinfo:"text",mode:"markers",x:Be.flatMap((A,ke)=>A.map((_e,We)=>We+.5)),y:Be.flatMap((A,ke)=>A.map((_e,We)=>ke*10+"%+")),hovertext:Be.flatMap((A,ke)=>A.map((_e,We)=>[_e.name,_e.score.meta.bestAddedStats.length===0?"":F("RelicInsights.NewStats")+_e.score.meta.bestAddedStats.join(" / "),_e.score.meta.bestUpgradedStats==null?"":F("RelicInsights.UpgradedStats")+_e.score.meta.bestUpgradedStats.join(" / ")].filter(pt=>pt!=="").join("<br>"))),cid:Be.flatMap((A,ke)=>A.map((_e,We)=>_e.cid)),marker:{color:"rgba(0, 0, 0, 0)",symbol:"circle",size:16}}],layout:{plot_bgcolor:"rgba(0, 0, 0, 0)",paper_bgcolor:e.colorBgContainer,font:{color:"rgba(255, 255, 255, 0.85)"},autosize:!0,height:278,width:1222,margin:{b:5,l:50,r:20,t:0},hovermode:"closest",hoverdistance:20,showlegend:!1,images:Be.flatMap((A,ke)=>A.map((_e,We)=>({source:k.getCharacterAvatarById(_e.cid),xref:"x",yref:"y",x:We+.6,y:ke,sizex:1,sizey:1,xanchor:"center",yanchor:"middle"}))),xaxis:{fixedrange:!0,range:[0,Math.max(...Be.map(A=>A.length))+1],tick0:0,showgrid:!1,showticklabels:!1,type:"linear",zeroline:!1},yaxis:{fixedrange:!0,showticklabels:!0,gridcolor:"rgba(128, 128, 128, 0.15)"}},config:{displayModeBar:!1,editable:!1,scrollZoom:!1}})})]})]})]})}Em.propTypes={active:zt.bool};function Py(e){return e.data.augmentedStats[a.CR]*2+e.data.augmentedStats[a.CD]}const{useToken:Fy}=Bt,By="https://9di5b7zvtb.execute-api.us-west-2.amazonaws.com/prod";function Hy(){const e=n=>{var l;return((l=Object.values(I.getMetadata().characters).find(s=>s.id==n))==null?void 0:l.id)||null},t=n=>{var l;return((l=Object.values(I.getMetadata().lightCones).find(s=>s.id==n))==null?void 0:l.id)||null};return[{characterId:e(1405),lightConeId:t(23041)},{characterId:e(1407),lightConeId:t(23040)},{characterId:e(1403),lightConeId:t(23038)},{characterId:e(1404),lightConeId:t(23039)},{characterId:e(1221),lightConeId:t(23030),rerun:!0},{characterId:e(1217),lightConeId:t(23017),rerun:!0},{custom:!0}].filter(n=>n.characterId!=null||n.custom)}const{Text:vy}=ye,yo=10;function Im(){const[e,t]=E.useState(!1),[n,l]=E.useState([]),[s,o]=E.useState(),r=E.useRef(null),c=window.store(T=>T.scorerId),d=window.store(T=>T.setScorerId),[u]=U.useForm();window.scorerForm=u;const{t:b}=K(["relicScorerTab","common"]),p=window.store(T=>T.activeKey);if(E.useEffect(()=>{if(p!=de.SHOWCASE)return;const T=window.location.href.split("?")[1];if(T){const C=T.split("id=")[1].split("&")[0];R({scorerId:C})}},[p]),E.useEffect(()=>{n.length&&c&&p==de.SHOWCASE&&window.history.replaceState({id:c},`profile: ${c}`,la[de.SHOWCASE]+`?id=${c}`)},[p]),p!=de.SHOWCASE&&n.length==0)return i.jsx(i.Fragment,{});console.log("======================================================================= RENDER RelicScorerTab");function R(T){var D;if(r.current){_.warning(b("Messages.ThrottleWarning",{seconds:Math.max(1,Math.ceil(yo-(new Date-r.current)/1e3))})),e&&t(!1);return}else t(!0),r.current=new Date,setTimeout(()=>{r.current=null},yo*1e3);console.log("finish",T);const C=((D=T==null?void 0:T.scorerId)==null?void 0:D.toString().trim())||"";if(!C||C.length!=9){t(!1),_.error(b("Messages.InvalidIdWarning"));return}d(C),Te.delayedSave(),window.history.replaceState({id:C},`profile: ${C}`,la[de.SHOWCASE]+`?id=${C}`),fetch(`${By}/profile/${C}`,{method:"GET"}).then(V=>{if(!V.ok&&!V.source)throw new Error(`HTTP error! Status: ${V.status}`);return V.json()}).then(V=>{console.log(V);let M;if(V.source=="mana")V=B.recursiveToCamel(V),M=[V.detailInfo.assistAvatars[0],V.detailInfo.assistAvatars[1],V.detailInfo.assistAvatars[2],V.detailInfo.avatarDetailList[0],V.detailInfo.avatarDetailList[1],V.detailInfo.avatarDetailList[2],V.detailInfo.avatarDetailList[3],V.detailInfo.avatarDetailList[4]].filter(W=>!!W);else if(V.source=="mihomo"){M=V.characters.filter(W=>!!W);for(const W of M){W.relicList=W.relics||[],W.equipment=W.light_cone,W.avatarId=W.id,W.equipment&&(W.equipment.tid=W.equipment.id);for(const H of W.relicList)H.tid=H.id,H.subAffixList=H.sub_affix}}else{if(!V.detailInfo)return t(!1),_.error(b("Messages.IdLoadError")),"ERROR";M=[...V.detailInfo.assistAvatarList||[],...V.detailInfo.avatarDetailList||[]].filter(W=>!!W).sort((W,H)=>H._assist&&W._assist?(W.pos||0)-(H.pos||0):H._assist?1:W._assist?-1:0).filter((W,H,O)=>O.findIndex(j=>j.avatarId===W.avatarId)===H)}console.log("characters",M);const x=M.map(W=>M0.convert(W)).filter((W,H,O)=>O.map(j=>j.id).indexOf(W.id)==H);for(let W=0;W<x.length;W++)x[W].index=W;l(x),x.length&&o(x[0]),t(!1),_.success(b("Messages.SuccessMsg")),u.setFieldValue("scorerId",C)}).catch(V=>{setTimeout(()=>{_.warning(b("Messages.LookupError")),console.error("Fetch error:",V),t(!1)},Math.max(0,yo*1e3-(new Date-r.current)))})}let G;if(c)try{const T=parseInt(c);G=isNaN(T)?void 0:T}catch(T){console.error(T)}return i.jsx("div",{children:i.jsxs(S,{vertical:!0,gap:0,align:"center",children:[i.jsx(S,{gap:10,vertical:!0,align:"center",children:i.jsx(vy,{children:b("Header.WithVersion",{beta_version:On})})}),i.jsx(U,{form:u,onFinish:R,initialValues:{scorerId:G},children:i.jsxs(S,{style:{margin:10,width:1100},justify:"center",align:"center",gap:10,children:[i.jsx(U.Item,{size:"default",name:"scorerId",children:i.jsx(Yt,{style:{width:150},placeholder:b("SubmissionBar.Placeholder")})}),i.jsx(z,{type:"primary",htmlType:"submit",loading:e,style:{width:150},children:b("common:Submit")}),i.jsx(z,{style:{width:"fit-content"},onClick:()=>window.store.getState().setScoringModalOpen(!0),children:b("SubmissionBar.AlgorithmButton")})]})}),i.jsx(xm,{availableCharacters:n,setAvailableCharacters:l,setSelectedCharacter:o,selectedCharacter:s})]})})}Im.propTypes={active:zt.bool};function xm(e){var F,P;const t=window.store(X=>X.activeKey);Fy();const n=window.store(X=>X.setScoringAlgorithmFocusCharacter),[l,s]=E.useState(!1),[o,r]=E.useState(e.selectedCharacter),[c,d]=E.useState(!1),[u,b]=E.useState(!1),{t:p}=K(["relicScorerTab","gameData"]),T={items:[{label:i.jsxs(S,{gap:10,children:[i.jsx(ts,{}),p("ImportLabels.AllCharacters")]}),key:"import characters"},{label:i.jsxs(S,{gap:10,children:[i.jsx(ts,{}),p("ImportLabels.SingleCharacter")]}),key:"import single character"}],onClick:X=>{switch(X.key){case"import characters":console.log("importing with characters"),W();break;case"import single character":console.log("importing single character"),H();break;default:_.error(p("Messages.UnknownButtonClicked"));break}}};E.useEffect(()=>{var X;n((X=e.selectedCharacter)==null?void 0:X.id)},[(F=e.selectedCharacter)==null?void 0:F.id,n]);const C=[];for(let X=0;X<e.availableCharacters.length;X++){const w=e.availableCharacters[X];C.push({label:i.jsx(S,{align:"center",justify:"space-around",children:i.jsx("img",{style:{width:100,height:100,objectFit:"contain",borderRadius:50,border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.05)"},src:k.getCharacterAvatarById(w.id)})}),value:w.id,key:X})}function D(X){console.log("selectionChange",X),e.setSelectedCharacter(e.availableCharacters.find(w=>w.id==X))}async function V(){console.log("Simulate",e.selectedCharacter),s(!0),r(e.selectedCharacter)}function M(X){if(!X.characterId)return _.error(p("Messages.NoCharacterSelected"));if(e.availableCharacters.find(ie=>ie.id==X.characterId)&&e.selectedCharacter.id!=X.characterId)return _.error(p("Messages.CharacterAlreadyExists"));const w=e.availableCharacters[e.selectedCharacter.index];w.form=X,w.id=X.characterId,e.selectedCharacter.form=X,e.selectedCharacter.id=X.characterId,Object.values(e.selectedCharacter.equipped).filter(ie=>!!ie).map(ie=>ie.equippedBy=X.characterId),e.setAvailableCharacters(JSON.parse(JSON.stringify(e.availableCharacters))),e.setSelectedCharacter(JSON.parse(JSON.stringify(e.selectedCharacter))),console.log("Modified character",e.selectedCharacter)}function x(){const X=e.availableCharacters.flatMap(w=>Object.values(w.equipped)).filter(w=>!!w);console.log("importClicked",e.availableCharacters,X),I.mergePartialRelicsWithState(X),Te.delayedSave()}function W(){for(const w of e.availableCharacters)I.addFromForm(w.form,!1);const X=e.availableCharacters.flatMap(w=>Object.values(w.equipped)).filter(w=>!!w);console.log("importCharactersClicked",e.availableCharacters,X),I.mergePartialRelicsWithState(X,e.availableCharacters),Te.delayedSave()}function H(){I.addFromForm(e.selectedCharacter.form,!1);const X=e.availableCharacters.flatMap(w=>Object.values(w.equipped)).filter(w=>!!w);console.log("importCharacterClicked",e.selectedCharacter,X),I.mergePartialRelicsWithState(X,[e.selectedCharacter]),Te.delayedSave()}async function O(){d(!0),setTimeout(()=>{B.screenshotElementById("relicScorerPreview","clipboard").finally(()=>{d(!1)})},100)}async function j(){b(!0),setTimeout(()=>{const X=e.selectedCharacter?p(`gameData:Characters.${e.selectedCharacter.id}.Name`):null;B.screenshotElementById("relicScorerPreview","download",X).finally(()=>{b(!1)})},100)}function N(X){if(X.custom)return V();M({characterId:X.characterId,lightCone:X.lightConeId,characterLevel:80,lightConeLevel:80,characterEidolon:0,lightConeSuperimposition:X.lightConeSuperimposition||1})}return i.jsx(S,{style:{width:1375},justify:"space-around",children:i.jsxs(S,{vertical:!0,align:"center",gap:5,style:{marginBottom:100,width:1068},children:[i.jsxs(S,{vertical:!0,style:{display:e.availableCharacters.length>0?"flex":"none",width:"100%"},children:[i.jsx(ky,{presetClicked:N,activeKey:t}),i.jsxs(S,{style:{display:e.availableCharacters.length>0?"flex":"none",marginBottom:5},justify:"space-between",gap:10,children:[i.jsx(z,{style:{flex:1},onClick:O,icon:i.jsx(Sd,{}),loading:c,type:"primary",children:p("CopyScreenshot")}),i.jsx(z,{style:{width:50},icon:i.jsx(qo,{}),onClick:j,loading:u}),i.jsxs(Ts.Button,{style:{flex:1},className:"dropdownButton",onClick:x,menu:T,children:[i.jsx(ts,{}),p("ImportLabels.Relics")]}),i.jsx(z,{style:{flex:1},icon:i.jsx(gd,{}),onClick:V,children:p("SimulateRelics")})]})]}),i.jsx(Va,{style:{width:"100%",overflow:"hidden"},options:C,block:!0,onChange:D,value:(P=e.selectedCharacter)==null?void 0:P.id}),i.jsx("div",{id:"previewWrapper",style:{padding:"5px"},children:i.jsx(Y0,{class:"relicScorerCharacterPreview",character:e.selectedCharacter,source:Zt.SHOWCASE_TAB,id:"relicScorerPreview",setOriginalCharacterModalOpen:s,setOriginalCharacterModalInitialCharacter:r})}),i.jsx(k0,{onOk:M,open:l,setOpen:s,initialCharacter:o})]})})}xm.propTypes={availableCharacters:zt.array,setAvailableCharacters:zt.func,selectedCharacter:zt.object,setSelectedCharacter:zt.func};function Xy(e){const{preset:t}=e;return t.rerun?i.jsx("img",{src:k.getCharacterAvatarById(t.characterId),style:{height:ms,width:ms,borderRadius:ms,outline:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.05)"}}):i.jsx("img",{src:k.getCharacterAvatarById(t.characterId),style:{height:mn,width:mn,borderRadius:mn,outline:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.05)"}})}const ms=45,mn=95;function ky(e){const[t,n]=E.useState(window.store.getState().savedSession[Ue.relicScorerSidebarOpen]);E.useEffect(()=>{window.store.getState().setSavedSessionKey(Ue.relicScorerSidebarOpen,t),Te.delayedSave()},[t]);const l=E.useMemo(()=>{let s=0;return i.jsx(S,{vertical:!0,gap:3,justify:"center",style:{marginLeft:-8,width:110,flexDirection:"row",flexWrap:"wrap"},children:Hy().map(o=>{const r=o.custom?i.jsx(Nn,{component:As,style:{fontSize:85}}):i.jsx(Xy,{preset:o});return i.jsx(z,{type:"text",style:{width:o.rerun?ms+2:mn+8,height:o.rerun?ms+2:mn+8,paddingTop:2,display:e.activeKey==de.SHOWCASE?"flex":"none"},onClick:()=>e.presetClicked(o),children:r},s++)})})},[e]);return i.jsx(S,{vertical:!0,style:{position:"relative",left:-120,top:40,width:0,height:0},children:i.jsx(Ts,{zIndexPopup:10,dropdownRender:()=>l,open:t,style:{},children:i.jsx("a",{onClick:s=>{s.preventDefault(),n(!t)},children:i.jsx(z,{type:"primary",shape:"round",style:{height:mn,width:mn,borderRadius:mn,marginBottom:2},children:i.jsx(Nn,{component:gd,style:{fontSize:55}})})})})})}const pl=[.006,.005964,.005928216,.005892646704,.005857290823776,.005822147078833344,.005787214196360344,.0057524909111821825,.005717975965715089,.005683668109920798,.005649566101261274,.005615668704653705,.005581974692425783,.005548482844271228,.005515191947205601,.005482100795522367,.005449208190749233,.005416512941604738,.00538401386395511,.005351709780771379,.00531959952208675,.00528768192495423,.005255955833404505,.005224420098404077,.005193073577813653,.005161915136346771,.00513094364552869,.005100157983655518,.0050695570357535856,.005039139693539064,.005008904855377829,.004978851426245562,.004948978317688089,.004919284447781959,.004889768741095268,.0048604301286486965,.004831267547876804,.004802279942589543,.004773466262934007,.004744825465356403,.004716356512564264,.004688058373488879,.004659930023247946,.004631970443108458,.004604178620449807,.004576553548727109,.004549094227434746,.0045217996620701365,.004494668864097716,.00446770085091313,.004440894645807651,.0044142492779328055,.004387763782265209,.004361437199571617,.004335268576374188,.004309256964915942,.004283401423126446,.004257701014587688,.004232154808500162,.0042067618796491615,.004181521308371266,.004156432180521039,.004131493587437912,.004106704625913285,.004082064398157804,.004057572011768857,.004033226579698244,.004009027220220055,.003984973056898735,.003961063218557342,.003937296839245998,.003913673058210522,.0038901910198612588,.04253534861116301,.07584439342357738,.0978537140675431,.105347414622264,.09880559711913513,.08201639506747972,.06052272143553331,.039633005780615294,.02288634830101852,.011532204560383551,.00499355875488925,.0018181052569377857,.0005393311577894619,.00012422731568808565,2048781559582088e-20,2053394710113599e-21,7415178164348e-20],Sl=[.008,.007936,.007872512,.007809531904,.0077470556487679995,.007685079203577855,.0076235985699492324,.007562609781389638,.007502108903138521,.007442092031913413,.007382555295658106,.007323494853292841,.007264906894466498,.007206787639310767,.00714913333819628,.007091940271490709,.007035204749318783,.006978923111324233,.00692309172643364,.0068677069926221706,.006812765336681193,.006758263213987744,.006704197108275842,.006650563531409635,.006597359023158357,.00654458015097309,.006492223509765305,.006440285721687183,.006388763435913685,.006337653328426376,.006286952101798964,.006236656484984573,.006186763233104696,.006137269127239857,.006088170974221939,.006039465606428163,.005991149881576737,.005943220682524123,.005895674917063929,.005848509517727418,.005801721441585599,.005755307670052914,.00570926520869249,.00566359108702295,.005618282358326766,.005573336099460153,.005528749410664471,.005484519415379155,.005440643260056121,.005397118113975672,.005353941169063867,.005311109639711356,.005268620762593665,.005226471796492916,.0051846600221209715,.005143182741944004,.005102037280008452,.005061220981768384,.0050207312139142375,.004980565364202923,.0049407208412893,.004901195074558986,.004861985513962514,.004823089629850814,.004784504912812008,.046275731516717745,.08095642589545174,.10159812648728124,.1049611176833006,.09289642032292567,.07130085695712911,.04745438530228964,.027170589573400922,.013184241577222656,.005296345422062471,.0016994386548057395,.0004112204670939708,6766516402880222e-20,5971634998864304e-21,767367185684e-19],Ri=[.006,.011963999999999999,.017892216,.023784862704,.029642153527776,.03546430060660934,.04125151480296969,.04700400571415187,.05272198167986696,.05840564978978776,.06405521589104904,.06967088459570274,.07525285928812853,.08080134213239976,.08631653407960535,.09179863487512771,.09724784306587694,.10266435600748168,.10804836987143679,.11340007965220816,.1187196791742949,.12400736109924913,.12926331693265364,.1344877370310577,.13968081060887136,.14484272574521814,.14997366939074683,.15507382737440234,.16014338441015594,.165182524103695,.17019142895907283,.1751702803853184,.1801192587030065,.18503854315078844,.1899283118918837,.1947887420205324,.1996200095684092,.20442228951099875,.20919575577393276,.21394058123928916,.21865693775185344,.2233449961253423,.22800492614859025,.2326368965916987,.23724107521214852,.24181762876087562,.24636672298831036,.2508885226503805,.2553831915144782,.25985089236539133,.264291787011199,.2687060362891318,.273093800071397,.2774552372709686,.2817905058473428,.28609976281225874,.2903831642353852,.29464086524997285,.298873020058473,.30307978193812213,.30726130324649337,.3114177354270144,.3155492290144523,.3196559336403656,.3237379980385234,.32779557005029225,.3318287966299905,.33583782385021055,.33982279690710926,.3437838601256666,.34772115696491257,.35163483002312307,.35552502104298433,.3980603696541474,.4739047630777248,.5717584771452678,.6771058917675319,.7759114888866671,.8579278839541468,.91845060538968,.9580836111702953,.9809699594713138,.9925021640316973,.9974957227865866,.9993138280435244,.9998531592013139,.999977386517002,.9999978743325978,.999999927727308,1.0000000018790896],Js=[.008,.015936,.023808511999999997,.031618043904,.039365099552768,.04705017875634585,.05467377732629508,.06223638710768472,.06973849601082324,.07718058804273666,.08456314333839476,.0918866381916876,.0991515450861541,.10635833272546487,.11350746606366115,.12059940633515186,.12763461108447063,.13461353419579486,.1415366259222285,.14840433291485067,.15521709825153185,.16197536146551958,.1686795585737954,.17533012210520504,.1819274811283634,.1884720612793365,.1949642847891018,.20140457051078897,.20779333394670266,.21413098727512903,.220417939376928,.22665459586191256,.23284135909501724,.2389786282222571,.24506679919647903,.2511062648029072,.25709741468448394,.26304063536700806,.268936310284072,.2747848198017994,.280586541243385,.2863418489134379,.29205111412213036,.29771470520915333,.3033329875674801,.30890632366694026,.3144350730776047,.31991959249298385,.32536023575303996,.33075735386701566,.3361112950360795,.3414224046757909,.34669102543838454,.3519174972348775,.35710215725699845,.3622453399989425,.36734737727895095,.3724085982607193,.37742932947463353,.3824098948388365,.3873506156801258,.3922518107546848,.3971137962686473,.40193688589849813,.40672139081131015,.4529971223280279,.5339535482234796,.6355516747107609,.7405127923940615,.8334092127169872,.9047100696741163,.9521644549764059,.9793350445498068,.9925192861270294,.9978156315490919,.9995150702038976,.9999262906709916,.9999939558350204,.9999999274700192,1.0000000042067378],Ca=90,Ja=80,Zo=1e5,Yy=.5625,wy=.78125;var es=(e=>(e[e.NONE=0]="NONE",e[e.F2P=1]="F2P",e[e.EXPRESS=2]="EXPRESS",e[e.BP_EXPRESS=3]="BP_EXPRESS",e))(es||{}),Rl=(e=>(e[e.NEW=0]="NEW",e[e.RERUN=1]="RERUN",e))(Rl||{});const Ny=ia("NONE",0,0,0),K0=[ia("3.1",1,1,80),ia("3.1",2,1,27),ia("3.1",1,2,91),ia("3.1",2,2,40),ia("3.1",1,3,94),ia("3.1",2,3,45),ia("3.2",1,1,76),ia("3.2",2,1,33),ia("3.2",1,2,89),ia("3.2",2,2,43),ia("3.2",1,3,92),ia("3.2",2,3,49)];var Ua=(e=>(e[e.E0=0]="E0",e[e.E1=1]="E1",e[e.E2=2]="E2",e[e.E3=3]="E3",e[e.E4=4]="E4",e[e.E5=5]="E5",e[e.E6=6]="E6",e[e.S1=7]="S1",e))(Ua||{}),Ka=(e=>(e[e.NONE=-1]="NONE",e[e.E0=0]="E0",e[e.E1=1]="E1",e[e.E2=2]="E2",e[e.E3=3]="E3",e[e.E4=4]="E4",e[e.E5=5]="E5",e[e.E6=6]="E6",e))(Ka||{}),Bn=(e=>(e[e.NONE=0]="NONE",e[e.S1=1]="S1",e[e.S2=2]="S2",e[e.S3=3]="S3",e[e.S4=4]="S4",e[e.S5=5]="S5",e))(Bn||{}),Za=(e=>(e.REFUND_NONE="REFUND_NONE",e.REFUND_LOW="REFUND_LOW",e.REFUND_AVG="REFUND_AVG",e.REFUND_HIGH="REFUND_HIGH",e))(Za||{});const Wm={REFUND_NONE:0,REFUND_LOW:.04,REFUND_AVG:.075,REFUND_HIGH:.11},Ao={passes:0,jades:0,income:[],bannerRotation:0,strategy:0,starlight:"REFUND_AVG",pityCharacter:0,guaranteedCharacter:!1,pityLightCone:0,guaranteedLightCone:!1,currentEidolonLevel:-1,currentSuperimpositionLevel:0};function ia(e,t,n,l){return{passes:l,version:e,phase:t,type:n,id:Oy(e,t,n)}}function Oy(e,t,n){return`${e}_p${t}_${n}`}function Uy(e){console.log("simulate Warps",e),window.store.getState().setWarpRequest(e);const t=Ky(e);window.store.getState().setWarpResult(t),Te.delayedSave()}function Ky(e){const t=jy(e),n=Jy(t),l=Object.fromEntries(n.map(({label:o})=>[o,{warps:0,wins:0}]));for(let o=0;o<Zo;o++){let r=0;for(const c of n){const{warpType:d,label:u,pity:b,guaranteed:p,redistributedCumulative:R,redistributedCumulativeNonPity:G,warpCap:T}=c,C=d==0?Yy:wy,D=kc(R,T,b)-b+1;if(Math.random()<C||p)r+=D;else{const V=kc(G??R,T,0)+1;r+=D+V}l[u].warps+=r,r<=t.warps&&l[u].wins++}}for(const o of n)l[o.label].warps/=Zo,l[o.label].wins/=Zo;return{milestoneResults:l,request:t}}function Jy(e){const{strategy:t,pityCharacter:n,guaranteedCharacter:l,pityLightCone:s,guaranteedLightCone:o,currentEidolonLevel:r,currentSuperimpositionLevel:c}=e,d=pn(n,Ca,pl),u=pn(0,Ca,pl),b=pn(s,Ja,Sl),p=pn(0,Ja,Sl);let R=[{warpType:0,label:"E0",guaranteed:l,pity:n,redistributedCumulative:d,redistributedCumulativeNonPity:u,warpCap:Ca},{warpType:0,label:"E1",guaranteed:!1,pity:0,redistributedCumulative:Ri,warpCap:Ca},{warpType:0,label:"E2",guaranteed:!1,pity:0,redistributedCumulative:Ri,warpCap:Ca},{warpType:0,label:"E3",guaranteed:!1,pity:0,redistributedCumulative:Ri,warpCap:Ca},{warpType:0,label:"E4",guaranteed:!1,pity:0,redistributedCumulative:Ri,warpCap:Ca},{warpType:0,label:"E5",guaranteed:!1,pity:0,redistributedCumulative:Ri,warpCap:Ca},{warpType:0,label:"E6",guaranteed:!1,pity:0,redistributedCumulative:Ri,warpCap:Ca},{warpType:1,label:"S2",guaranteed:!1,pity:0,redistributedCumulative:Js,warpCap:Ja},{warpType:1,label:"S3",guaranteed:!1,pity:0,redistributedCumulative:Js,warpCap:Ja},{warpType:1,label:"S4",guaranteed:!1,pity:0,redistributedCumulative:Js,warpCap:Ja},{warpType:1,label:"S5",guaranteed:!1,pity:0,redistributedCumulative:Js,warpCap:Ja}];const G={warpType:1,label:"S1",guaranteed:o,pity:s,redistributedCumulative:b,redistributedCumulativeNonPity:p,warpCap:Ja};switch(t){case 0:R.splice(1,0,G);break;case 1:R.splice(2,0,G);break;case 2:R.splice(3,0,G);break;case 3:R.splice(4,0,G);break;case 4:R.splice(5,0,G);break;case 5:R.splice(6,0,G);break;case 6:R.splice(7,0,G);break;case 7:R.splice(0,0,G);break}R=r!==-1||c!==0?Ay(R,e):R;let C=r,D=c;for(const V of R)V.warpType==0&&C++,V.warpType==1&&D++,V.label=C==-1?`S${D}`:`E${C}S${D}`;return R}function Ay(e,t){let n=t.currentEidolonLevel,l=t.currentSuperimpositionLevel,s=[];s=e.filter(p=>{switch(p.warpType){case 0:if(n>-1)return n--,!1;break;case 1:if(l>0)return l--,!1;break}return!0});const o=pn(t.pityCharacter,Ca,pl),r=pn(0,Ca,pl),c=pn(t.pityLightCone,Ja,Sl),d=pn(0,Ja,Sl),u=s.findIndex(p=>p.warpType===0);u>=0&&(s[u].pity=t.pityCharacter,s[u].guaranteed=t.guaranteedCharacter,s[u].redistributedCumulative=o,s[u].redistributedCumulativeNonPity=r);const b=s.findIndex(p=>p.warpType===1);return b>=0&&(s[b].pity=t.pityLightCone,s[b].guaranteed=t.guaranteedLightCone,s[b].redistributedCumulative=c,s[b].redistributedCumulativeNonPity=d),s}function jy(e){const t=e.income.map(b=>K0.find(p=>p.id==b)??Ny);let n=0;for(const b of t)n+=b.passes;const l=e.jades,s=e.passes+n,o=Math.floor(l/160)+s,r=Math.floor((Wm[e.starlight]??0)*o),c=r*20,d=o+r;for(const[b,p]of Object.entries(e))p==null&&(e[b]=Ao[b]);const u={...e,warps:d,totalJade:l,totalPasses:s,totalStarlight:c};return e.bannerRotation==0&&(u.currentEidolonLevel=-1,u.currentSuperimpositionLevel=0),u}function pn(e,t,n){const l=[];for(let o=0;o<e;o++)l[o]=0;for(let o=e;o<t;o++)l[o]=o==0?n[o]:l[o-1]+n[o];const s=1-l[t-1];for(let o=e;o<t;o++)l[o]+=s*l[o];return l}function kc(e,t,n){const l=Math.random()*e[t-1];return zy(l,e,n)}function zy(e,t,n){let l=n,s=t.length-1;for(;l<s;){const o=Math.floor((l+s)/2);e>t[o]?l=o+1:s=o}return l}const{Text:Yc}=ye;function _y(){const{t:e}=K("warpCalculatorTab");return i.jsxs(S,{vertical:!0,style:{height:1400,width:950},align:"center",children:[i.jsx(S,{justify:"space-around",style:{margin:15},children:i.jsx("pre",{style:{fontSize:28,fontWeight:"bold",margin:0},children:e("SectionTitles.Planner")})}),i.jsx($y,{}),i.jsx(eZ,{})]})}function Qy(e){return e?((!Array.isArray(e.income)||!e.income.every(t=>K0.find(n=>n.id===t)))&&(e.income=[]),Object.assign({},Ao,e)):{...Ao}}function $y(){const{t:e}=K("warpCalculatorTab",{keyPrefix:"SectionTitles"}),t=window.store(s=>s.warpRequest),[n]=U.useForm(),l=Qy(t);return i.jsx(U,{form:n,initialValues:l,style:{width:900},children:i.jsxs(zn,{style:{width:900},children:[i.jsxs(S,{style:{marginBottom:30},children:[i.jsxs(S,{vertical:!0,style:{flex:1},children:[i.jsx(Co,{children:i.jsxs(S,{justify:"center",gap:10,children:[e("Settings"),i.jsx("a",{href:"https://github.com/fribbels/hsr-optimizer/blob/main/docs/guides/en/warp-planner.md",target:"_blank",style:{display:"inline-flex",alignItems:"center"},rel:"noreferrer",children:i.jsx("img",{src:k.getQuestion(),style:{height:16,width:16,opacity:.6,marginLeft:"auto"}})})]})}),i.jsxs(S,{vertical:!0,gap:16,children:[i.jsxs(S,{gap:25,justify:"space-between",children:[i.jsx(S,{align:"flex-end",gap:8,flex:1,children:i.jsxs(S,{vertical:!0,children:[i.jsx($,{children:e("Jades")}),i.jsx(U.Item,{name:"jades",children:i.jsx($t,{placeholder:"0",min:0,style:{width:"100%"},controls:!1,addonBefore:i.jsx("img",{src:k.getJade(),style:{height:24}})})})]})}),i.jsxs(S,{vertical:!0,flex:1,children:[i.jsx($,{children:e("Banner")}),i.jsx(U.Item,{name:"bannerRotation",children:i.jsxs(ze.Group,{buttonStyle:"solid",block:!0,children:[i.jsx(ze.Button,{value:Rl.NEW,children:e("New")}),i.jsx(ze.Button,{value:Rl.RERUN,children:e("Rerun")})]})})]})]}),i.jsxs(S,{gap:25,children:[i.jsx(S,{align:"flex-end",gap:8,flex:1,children:i.jsxs(S,{vertical:!0,children:[i.jsx($,{children:e("Passes")}),i.jsx(U.Item,{name:"passes",children:i.jsx($t,{placeholder:"0",min:0,style:{width:"100%"},controls:!1,addonBefore:i.jsx("img",{src:k.getPass(),style:{height:24}})})})]})}),i.jsxs(S,{vertical:!0,flex:1,children:[i.jsx($,{children:e("Strategy")}),i.jsx(U.Item,{name:"strategy",children:i.jsx(J,{options:nZ()})})]})]}),i.jsxs(S,{gap:25,children:[i.jsxs(S,{vertical:!0,style:{width:0,flex:1,overflow:"hidden"},children:[i.jsx($,{children:e("Starlight")}),i.jsxs(Qo.Compact,{style:{display:"flex"},children:[i.jsx(Yt,{disabled:!0,style:{width:36,backgroundColor:"rgba(255, 255, 255, 0.04)",cursor:"auto",backgroundImage:`url(${k.getStarlight()})`,backgroundSize:"24px",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),i.jsx(U.Item,{noStyle:!0,name:"starlight",children:i.jsx(J,{style:{flex:1},options:iZ(),popupMatchSelectWidth:!1,optionLabelProp:"labelInValue"})})]})]}),i.jsxs(S,{vertical:!0,style:{width:0,flex:1,overflow:"hidden"},children:[i.jsx($,{children:e("AdditionalResources")}),i.jsx(U.Item,{name:"income",children:i.jsx(Q0,{multiple:!0,showCheckedStrategy:Q0.SHOW_CHILD,maxTagCount:0,listHeight:500,showSearch:!1,treeCheckable:!1,treeExpandAction:"click",placeholder:"None",treeDefaultExpandedKeys:qy(l),allowClear:!0,treeData:tZ(),popupMatchSelectWidth:500})})]})]})]})]}),i.jsx(ha,{width:40}),i.jsxs(S,{vertical:!0,style:{flex:1},justify:"space-between",children:[i.jsxs(S,{vertical:!0,children:[i.jsx(Co,{children:e("Character")}),i.jsx(Nc,{banner:"Character"})]}),i.jsxs(S,{vertical:!0,children:[i.jsx(Co,{children:e("LightCone")}),i.jsx(Nc,{banner:"LightCone"})]})]})]}),i.jsx(S,{style:{width:"100%"},gap:20,children:i.jsx(z,{type:"primary",block:!0,style:{height:45},onClick:()=>{window.store.getState().setWarpResult(null),setTimeout(()=>Uy(n.getFieldsValue()),50)},icon:i.jsx(Gd,{}),children:e("Calculate")})})]})})}function qy(e){return(e.income??[]).map(t=>parseInt(t.substring(t.length-1)))}function Co(e){return i.jsx(ye.Title,{level:5,style:{margin:0,marginBottom:8,textAlign:"center"},children:e.children})}function eZ(){const{t:e,i18n:t}=K("warpCalculatorTab"),n=window.store(o=>o.warpResult);if(!(n!=null&&n.request))return i.jsx(i.Fragment,{});const l=Object.entries(n.milestoneResults??{}).map(([o,r])=>({key:o,warps:r.warps,wins:r.wins}));console.log(n);const s=[{title:e("ColumnTitles.Goal"),dataIndex:"key",key:"key",align:"center",width:200,render:(o,r)=>i.jsxs(S,{style:{position:"relative",marginLeft:5,height:"100%"},align:"center",children:[i.jsx("div",{style:{display:r.wins<jo?"none":"block",width:`${r.wins*100}%`,borderRadius:4,position:"absolute",height:"100%",backgroundColor:Nt.scale(["#df524bcc","#efe959cc","#89d86dcc"]).domain([0,.33,1])(r.wins).hex(),zIndex:1}}),i.jsx(S,{style:{width:"100%",zIndex:2},justify:"center",align:"center",children:i.jsx(Ii,{color:"#000000aa",style:{opacity:wc(r.wins),border:0,padding:"2px 12px 2px 12px"},children:i.jsx(Yc,{style:{margin:0,alignItems:"center"},children:oZ(o)})})})]})},{title:i.jsx(S,{justify:"center",align:"center",gap:5,children:i.jsxs(gt,{t:e,i18nKey:"ColumnTitles.Chance",values:{ticketCount:n.request.warps.toLocaleString(t.resolvedLanguage.split("_")[0])},children:["Success chance with [[ticketCount]]",i.jsx("img",{style:{height:18},src:k.getPass()})]})}),dataIndex:"wins",width:250,align:"center",render:o=>`${B.truncate10ths(o*100).toLocaleString(t.resolvedLanguage.split("_")[0],{minimumFractionDigits:1,maximumFractionDigits:1})}%`},{title:i.jsx(S,{justify:"center",align:"center",gap:5,children:i.jsxs(gt,{t:e,i18nKey:"ColumnTitles.Average",children:["Average # of",i.jsx("img",{style:{height:18},src:k.getPass()}),"required"]})}),dataIndex:"warps",align:"center",width:250,render:(o,r)=>i.jsx(S,{align:"center",justify:"center",gap:4,children:i.jsxs(i.Fragment,{children:[`${Math.ceil(o)}`,i.jsx("img",{style:{height:16,opacity:wc(r.wins)},src:k.getPass()})]})})}];return i.jsxs(S,{vertical:!0,gap:20,style:{},align:"center",children:[i.jsx(S,{justify:"space-around",style:{marginTop:15},children:i.jsx("pre",{style:{fontSize:28,fontWeight:"bold",margin:0},children:e("SectionTitles.Results")})}),i.jsx(Yc,{style:{fontSize:18},children:i.jsx("pre",{style:{margin:0},children:i.jsxs(S,{align:"center",gap:5,children:[i.jsx("span",{children:e("TotalAvailable")}),`( ${ra(n.request.totalJade??0)}`,i.jsx("img",{style:{height:24},src:k.getJade()}),i.jsx("span",{children:") + ("}),ra(n.request.totalPasses??0),i.jsx("img",{style:{height:24},src:k.getPass()}),i.jsx("span",{children:") + ("}),ra(n.request.totalStarlight??0),i.jsx("img",{style:{height:24},src:k.getStarlight()}),i.jsx("span",{children:") "}),i.jsx("span",{children:"= "}),ra(n.request.warps??0),i.jsx("img",{style:{height:24},src:k.getPass()})]})})}),i.jsx(S,{vertical:!0,gap:10,style:{width:"100%"},children:i.jsx(Qn,{style:{width:"100%"},columns:s,dataSource:l,pagination:!1,rowClassName:o=>`
            warp-table-row 
            ${o.wins<jo?"warp-table-row-disabled":""}
          `})})]})}const jo=.001;function wc(e){return e<jo?.1:1}function Nc(e){const{t}=K(["warpCalculatorTab","common"]),n=U.useWatch(["bannerRotation"]);return i.jsxs(S,{gap:25,style:{width:"100%"},children:[i.jsxs(S,{vertical:!0,flex:1,children:[i.jsx($,{children:t("PityCounter.PityCounter")}),i.jsx(U.Item,{name:`pity${e.banner}`,children:i.jsx($t,{placeholder:"0",min:0,max:e.banner=="Character"?89:79,style:{width:"100%"},controls:!1})})]}),i.jsxs(S,{vertical:!0,flex:1,style:{display:n==Rl.RERUN?"flex":"none"},children:[i.jsx($,{children:t("PityCounter.CurrentEidolonSuperImp")}),i.jsx(U.Item,{name:e.banner==="Character"?"currentEidolonLevel":"currentSuperimpositionLevel",children:i.jsx(J,{options:e.banner=="Character"?sZ():lZ()})})]}),i.jsxs(S,{vertical:!0,flex:1,children:[i.jsx($,{children:t("PityCounter.Guaranteed")}),i.jsx(U.Item,{name:`guaranteed${e.banner}`,children:i.jsxs(ze.Group,{block:!0,optionType:"button",buttonStyle:"solid",children:[i.jsx(ze.Button,{value:!0,children:i.jsx(Rn,{})}),i.jsx(ze.Button,{value:!1,children:i.jsx(Ba,{})})]})})]})]})}function tZ(){var s;const e=v.getFixedT(null,"warpCalculatorTab","IncomeOptions"),t=(s=v.resolvedLanguage)==null?void 0:s.split("_")[0];return[es.F2P,es.EXPRESS,es.BP_EXPRESS].map(o=>({title:e(`Type.${o}`),value:o,selectable:!1,children:K0.filter(r=>r.type===o).flatMap(r=>{const c=[{value:r.id,title:r.type==es.NONE?e("Type.0"):i.jsxs(S,{align:"center",gap:3,children:[i.jsx(aZ,{option:r}),`+${r.passes.toLocaleString(t)}`,i.jsx("img",{style:{height:18},src:k.getPass()})]})}];return r.phase==2&&c.push({title:i.jsx(i.Fragment,{}),value:r.id+"divider",className:"tree-select-divider",disabled:!0}),c}).slice(0,-1)}))}function aZ(e){const t=v.getFixedT(null,"warpCalculatorTab","IncomeOptions");return i.jsx("div",{style:{marginRight:2},children:t("Label",{versionNumber:e.option.version,phaseNumber:e.option.phase,type:t(`Type.${e.option.type}`)})})}function nZ(){const e=v.getFixedT(null,"warpCalculatorTab","StrategyLabels");return[{value:Ua.S1,label:e("S1")},{value:Ua.E0,label:e("E0")},{value:Ua.E1,label:e("E1")},{value:Ua.E2,label:e("E2")},{value:Ua.E3,label:e("E3")},{value:Ua.E4,label:e("E4")},{value:Ua.E5,label:e("E5")},{value:Ua.E6,label:e("E6")}]}function iZ(){return v.getFixedT(null,"warpCalculatorTab","StrategyLabels"),[{value:Za.REFUND_NONE,label:"None",labelInValue:"None"},{value:Za.REFUND_LOW,label:`${fi(Za.REFUND_LOW)}% refund (Low)`,labelInValue:`${fi(Za.REFUND_LOW)}% refund`},{value:Za.REFUND_AVG,label:`${fi(Za.REFUND_AVG,!0)}% refund (Average)`,labelInValue:`${fi(Za.REFUND_AVG,!0)}% refund`},{value:Za.REFUND_HIGH,label:`${fi(Za.REFUND_HIGH)}% refund (High)`,labelInValue:`${fi(Za.REFUND_HIGH)}% refund`}]}function fi(e,t=!1){const n=Wm[e]*100;return t?yt(n):hn(n)}function sZ(){const e=v.getFixedT(null,"warpCalculatorTab","EidolonLevels");return[{value:Ka.NONE,label:e("NONE")},{value:Ka.E0,label:e("E0")},{value:Ka.E1,label:e("E1")},{value:Ka.E2,label:e("E2")},{value:Ka.E3,label:e("E3")},{value:Ka.E4,label:e("E4")},{value:Ka.E5,label:e("E5")},{value:Ka.E6,label:e("E6")}]}function lZ(){const e=v.getFixedT(null,"warpCalculatorTab","SuperimpositionLevels");return[{value:Bn.NONE,label:e("NONE")},{value:Bn.S1,label:e("S1")},{value:Bn.S2,label:e("S2")},{value:Bn.S3,label:e("S3")},{value:Bn.S4,label:e("S4")},{value:Bn.S5,label:e("S5")}]}function oZ(e){const t=v.getFixedT(null,["warpCalculatorTab","common"]);return e=="S1"?t("common:SuperimpositionNShort",{superimposition:1}):t("warpCalculatorTab:TargetLabel",{superimposition:e.charAt(3),eidolon:e.charAt(1)})}async function rZ(e,t,n){e.resultSort=Z.COMBO.key;const l=Yi(e),s=new Array(Math.pow(Object.keys($n).length,4)).fill(1),o=new Array(Math.pow(Object.keys(qn).length,2)).fill(1),c=Qd(n,t,e,l,1,Mi,s,o,!0,!0),d=$d(c,0);await d.mapAsync(GPUMapMode.READ,0,1e4);const u=d.getMappedRange(0,1e4),b=new Float32Array(u),p=An(e,{Head:t.Head[0],Hands:t.Hands[0],Body:t.Body[0],Feet:t.Feet[0],PlanarSphere:t.PlanarSphere[0],LinkRope:t.LinkRope[0]}),R=mZ(p.a,b);return d.unmap(),d.destroy(),qd(c),R}const Na=1,Et=.01,cZ=1e-4,dZ={[h.BASE_ATK]:!0,[h.BASE_DEF]:!0,[h.BASE_HP]:!0,[h.BASE_SPD]:!0,[h.PHYSICAL_DMG_BOOST]:!0,[h.FIRE_DMG_BOOST]:!0,[h.ICE_DMG_BOOST]:!0,[h.LIGHTNING_DMG_BOOST]:!0,[h.WIND_DMG_BOOST]:!0,[h.IMAGINARY_DMG_BOOST]:!0,[h.QUANTUM_DMG_BOOST]:!0},uZ={[h.BASIC_DMG]:Na,[h.SKILL_DMG]:Na,[h.ULT_DMG]:Na,[h.FUA_DMG]:Na,[h.DOT_DMG]:Na,[h.BREAK_DMG]:Na,[h.MEMO_SKILL_DMG]:Na,[h.MEMO_TALENT_DMG]:Na,[h.COMBO_DMG]:Na,[h.HEAL_VALUE]:Et,[h.SHIELD_VALUE]:Et,[h.HP]:Et,[h.ATK]:Et,[h.DEF]:Et,[h.EHP]:Et,[h.UNCONVERTIBLE_HP_BUFF]:Et,[h.UNCONVERTIBLE_ATK_BUFF]:Et,[h.UNCONVERTIBLE_DEF_BUFF]:Et,[h.BASIC_ADDITIONAL_DMG]:Et,[h.SKILL_ADDITIONAL_DMG]:Et,[h.ULT_ADDITIONAL_DMG]:Et,[h.FUA_ADDITIONAL_DMG]:Et,[h.DOT_ADDITIONAL_DMG]:Et,[h.BREAK_ADDITIONAL_DMG]:Et,[h.MEMO_SKILL_ADDITIONAL_DMG]:Et,[h.MEMO_TALENT_ADDITIONAL_DMG]:Et};function mZ(e,t){const n={};let l=!0;const s=Object.keys(Kn);function o(r,c){const d=e[r]-t[r],u=Math.abs(d)<=c;u||(l=!1);const b=s[r];n[b]={key:b,cpu:e[r].toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20}),gpu:t[r].toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20}),deltaValue:d,deltaString:d.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20}),precision:c,pass:u}}for(let r=0;r<Object.keys(Kn).length;r++){if(dZ[r])continue;const c=uZ[r]??cZ;o(r,c)}return{allPass:l,statDeltas:n}}function bZ(e,t,n,l){const s={name:e,request:t,relics:n,done:!1};return s.execute=async()=>{const o=rZ(t,n,l),r=await o;return s.done=!0,s.result=r,o},s}function hZ(e){for(const[t,n]of Object.entries(e))n.map(l=>{const s=l.condensedStats;l.substats=[],s.map(([o,r])=>{l.substats.push({stat:Lo[o],value:r})})});return e}function pZ(){const e={Head:[{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:a.HP,value:705.6},id:"cd85c14c-a662-4413-a149-a379e6d538d3",equippedBy:"1212",condensedStats:[[h.CR,.36016],[h.CD,.10368],[h.RES,.03456],[h.BE,.05184],[h.HP,705.6]],weightScore:0,substats:[]}],Hands:[{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:a.ATK,value:352.8},id:"798657c8-5c5c-4b44-9c5f-f5f094414289",equippedBy:"1212",condensedStats:[[h.HP_P,.03456],[h.SPD,4],[h.CD,.2268],[h.EHR,.03456],[h.ATK,352.8]],weightScore:0,substats:[]}],Body:[{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:a.CD,value:64.8},id:"b3376a19-62f9-489e-80e6-8f98335af158",equippedBy:"1212",condensedStats:[[h.HP,114.31138],[h.ATK_P,.07344],[h.DEF_P,.0432],[h.CR,.081],[h.CD,.648]],weightScore:0,substats:[]}],Feet:[{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:a.SPD,value:25.032},id:"92c53d06-80d0-43a8-b896-2feeda419674",equippedBy:"1212",condensedStats:[[h.ATK,21.16877],[h.ATK_P,.11664],[h.DEF_P,.0486],[h.CD,.17496],[h.SPD,25.032]],weightScore:0,substats:[]}],PlanarSphere:[{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:a.Ice_DMG,value:38.8803},id:"80abbd56-b1a0-4587-a349-754c33627217",equippedBy:"1212",condensedStats:[[h.DEF,74.09071],[h.CR,.05508],[h.CD,.12312],[h.EHR,.0432],[h.ICE_DMG_BOOST,.388803]],weightScore:0,substats:[]}],LinkRope:[{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:a.ATK_P,value:43.2},id:"c521dc03-6c6e-45ef-9933-811367312441",equippedBy:"1212",condensedStats:[[h.HP,80.44134],[h.CR,.08424],[h.CD,.10368],[h.BE,.05832],[h.ATK_P,.43200000000000005]],weightScore:0,substats:[]}]};return hZ(e)}const fl={metadata:{}},Ye="23001",SZ=[{characterId:"1001",lightConeId:Ye},{characterId:"1002",lightConeId:Ye},{characterId:"1003",lightConeId:"23000"},{characterId:"1004",lightConeId:"23004"},{characterId:"1005",lightConeId:"23006"},{characterId:"1006",lightConeId:"23007"},{characterId:"1008",lightConeId:Ye},{characterId:"1009",lightConeId:Ye},{characterId:"1013",lightConeId:Ye},{characterId:"1101",lightConeId:"23003"},{characterId:"1102",lightConeId:"23001"},{characterId:"1103",lightConeId:Ye},{characterId:"1104",lightConeId:"23005"},{characterId:"1105",lightConeId:Ye},{characterId:"1106",lightConeId:Ye},{characterId:"1107",lightConeId:"23002"},{characterId:"1108",lightConeId:Ye},{characterId:"1109",lightConeId:Ye},{characterId:"1110",lightConeId:Ye},{characterId:"1111",lightConeId:Ye},{characterId:"1112",lightConeId:"23016"},{characterId:"1201",lightConeId:Ye},{characterId:"1202",lightConeId:Ye},{characterId:"1203",lightConeId:"23008"},{characterId:"1204",lightConeId:"23010"},{characterId:"1205",lightConeId:"23009"},{characterId:"1206",lightConeId:Ye},{characterId:"1207",lightConeId:Ye},{characterId:"1208",lightConeId:"23011"},{characterId:"1209",lightConeId:"23012"},{characterId:"1210",lightConeId:Ye},{characterId:"1211",lightConeId:"23013"},{characterId:"1212",lightConeId:"23014"},{characterId:"1213",lightConeId:"23015"},{characterId:"1214",lightConeId:Ye},{characterId:"1215",lightConeId:Ye},{characterId:"1217",lightConeId:"23017"},{characterId:"1218",lightConeId:"23029"},{characterId:"1220",lightConeId:"23031"},{characterId:"1221",lightConeId:"23030"},{characterId:"1222",lightConeId:"23032"},{characterId:"1223",lightConeId:Ye},{characterId:"1224",lightConeId:Ye},{characterId:"1301",lightConeId:Ye},{characterId:"1302",lightConeId:"23018"},{characterId:"1303",lightConeId:"23019"},{characterId:"1304",lightConeId:"23023"},{characterId:"1305",lightConeId:"23020"},{characterId:"1306",lightConeId:"23021"},{characterId:"1307",lightConeId:"23022"},{characterId:"1308",lightConeId:"23024"},{characterId:"1309",lightConeId:"23026"},{characterId:"1310",lightConeId:"23025"},{characterId:"1312",lightConeId:Ye},{characterId:"1314",lightConeId:"23028"},{characterId:"1315",lightConeId:"23027"},{characterId:"1317",lightConeId:"23033"},{characterId:"1225",lightConeId:"23035"},{characterId:"1313",lightConeId:"23034"},{characterId:"1401",lightConeId:"23037"},{characterId:"1402",lightConeId:"23036"},{characterId:"1403",lightConeId:"23038"},{characterId:"1404",lightConeId:"23039"},{characterId:"1405",lightConeId:"23041"},{characterId:"1407",lightConeId:"23040"},{characterId:"8001",lightConeId:Ye},{characterId:"8002",lightConeId:Ye},{characterId:"8003",lightConeId:Ye},{characterId:"8004",lightConeId:Ye},{characterId:"8005",lightConeId:Ye},{characterId:"8006",lightConeId:Ye},{characterId:"8007",lightConeId:Ye},{characterId:"8008",lightConeId:Ye}];async function RZ(){const e=await d0();return e?(fl.metadata=I.getMetadata(),[...GZ(e),...gZ(e),...fZ(e),...Oc(e,4),...Oc(e,3)]):[]}function fZ(e){return SZ.reverse().map(t=>Fl(t.characterId,t.lightConeId,e))}function Oc(e,t){const n="1005",s=Object.values(fl.metadata.lightCones).filter(r=>r.rarity==t),o=[];for(const r of s){const c=Fl(n,r.id,e);o.push(c)}return o}function GZ(e){const t="1005",n=Ye,l=[];for(const s of Qa){const o=Fl(t,n,e);o.name+=` — Ornament Sets  — ${s}`,o.relics.LinkRope[0].set=s,o.relics.PlanarSphere[0].set=s,l.push(o)}return l}function gZ(e){const t="1005",n=Ye,l=[];for(const s of _a){const o=Fl(t,n,e);o.name+=` — Relic Sets  — ${s}`,o.relics.Head[0].set=s,o.relics.Hands[0].set=s,o.relics.Body[0].set=s,o.relics.Feet[0].set=s,l.push(o)}return l}function Fl(e,t,n){const l=se.displayToForm(Di(e,t,6,5)),s=pZ();return l.sortOption=Z.COMBO.key,Do(l,0,"8008","21051"),Do(l,1,"1225","23035"),Do(l,2,"1309","23026"),bZ(`E6S5 ${fl.metadata.characters[e].displayName} — ${fl.metadata.lightCones[t].displayName}`,l,s,n)}function Do(e,t,n,l){const s=Di(n,l,6,5,!0);t==0&&(e.teammate0=s),t==1&&(e.teammate1=s),t==2&&(e.teammate2=s)}function TZ(){return window.store(t=>t.activeKey)!=de.WEBGPU_TEST?i.jsx(i.Fragment,{}):i.jsx(yZ,{})}function yZ(){const[e,t]=E.useState([]),[n,l]=E.useState(!1);async function s(){l(!1),window.WEBGPU_DEBUG=!0;const o=await RZ(),r=o.length;let c=0,d=0;t(o),o.map(u=>u.name=`#${++c} — ${u.name}`);for(const u of o){await u.execute();const b=[...o].sort(ZZ);t(b),d++,d==r&&l(!0)}}return i.jsxs(S,{vertical:!0,style:{width:1200,minHeight:2e3},children:[i.jsx(z,{type:"primary",onClick:s,style:{height:50,background:n?"#248453":void 0},disabled:!n&&e.length>0,children:n?"Tests complete":"Run all WebGPU tests"}),i.jsx(Tl,{items:e.map(CZ),expandIconPosition:"end",size:"small"})]})}function ZZ(e,t){return e.done!==t.done?e.done?-1:1:e.done&&t.done?e.result.allPass===t.result.allPass?0:e.result.allPass?1:-1:0}function CZ(e){return{key:e.name,label:i.jsx(IZ,{test:e}),children:i.jsx(EZ,{test:e})}}const DZ=[{title:"",dataIndex:"pass",render:e=>i.jsx(S,{style:{color:e?"#83ec66":"#ef7979",width:"100%"},justify:"space-around",children:e?i.jsx($s,{}):i.jsx(zo,{})}),width:20},{title:"Stat",dataIndex:"key",render:e=>i.jsx(Qi,{text:e}),width:80},{title:"CPU",dataIndex:"cpu",render:e=>i.jsx(Qi,{text:e}),width:120},{title:"GPU",dataIndex:"gpu",render:e=>i.jsx(Qi,{text:e}),width:120},{title:"Delta",dataIndex:"deltaString",render:e=>i.jsx(Qi,{text:e}),width:120},{title:"Precision",dataIndex:"precision",render:e=>i.jsx(Qi,{text:e}),width:120}];function EZ(e){const{test:t}=e;if(!t.result)return i.jsx(i.Fragment,{});const n=t.result.statDeltas,l=Object.values(n);return l.sort((s,o)=>Number(s.pass)-Number(o.pass)),i.jsx(Qn,{columns:DZ,dataSource:l,size:"small",pagination:!1})}function IZ(e){const{test:t}=e;return t.done?i.jsxs(S,{gap:8,style:{color:t.result.allPass?"#83ec66":"#ef7979"},children:[t.result.allPass?i.jsx($s,{}):i.jsx(zo,{}),t.name]}):i.jsxs(S,{gap:8,style:{color:"e6e6e6"},children:[i.jsx(Tb,{}),t.name]})}function Qi(e){return i.jsx("div",{style:{margin:"0",fontFamily:"Segoe UI, Frutiger, Frutiger Linotype, Dejavu Sans, Helvetica Neue, Arial, sans-serif"},children:e.text})}const Mm=({error:{message:e}})=>i.jsxs(ye,{children:["Something went wrong: ",e]});let Uc=!1;const xZ=()=>{const e=window.store(p=>p.activeKey).split("?")[0],t=Tt.useMemo(()=>i.jsx(l9,{}),[]),n=Tt.useMemo(()=>i.jsx(Zy,{}),[]),l=Tt.useMemo(()=>i.jsx(s9,{}),[]),s=Tt.useMemo(()=>i.jsx(Em,{}),[]),o=Tt.useMemo(()=>i.jsx(K9,{}),[]),r=Tt.useMemo(()=>i.jsx(Im,{}),[]),c=Tt.useMemo(()=>i.jsx(_y,{}),[]),d=Tt.useMemo(()=>i.jsx(Gg,{}),[]),u=Tt.useMemo(()=>i.jsx(TZ,{}),[]),b=Tt.useMemo(()=>i.jsx(J9,{}),[]);return E.useEffect(()=>{var R,G;let p=la[e]||la[de.OPTIMIZER];if(e==de.SHOWCASE){const T=(G=(R=window.location.hash.split("?")[1])==null?void 0:R.split("id=")[1])==null?void 0:G.split("&")[0];T&&(p+=`?id=${T}`)}console.log("Navigating activekey to route",e,p),window.history.pushState({},window.title,p),e==de.OPTIMIZER?Uc||(Uc=!0,Pa.initializeAllWorkers()):window.scrollTo(0,0)},[e]),i.jsxs(S,{justify:"space-around",style:{width:"100%"},children:[i.jsx(Ma,{activeKey:e,tabKey:de.HOME,content:t}),i.jsx(Ma,{activeKey:e,tabKey:de.OPTIMIZER,content:n}),i.jsx(Ma,{activeKey:e,tabKey:de.CHARACTERS,content:l}),i.jsx(Ma,{activeKey:e,tabKey:de.RELICS,content:s}),i.jsx(Ma,{activeKey:e,tabKey:de.IMPORT,content:o}),i.jsx(Ma,{activeKey:e,tabKey:de.SHOWCASE,content:r}),i.jsx(Ma,{activeKey:e,tabKey:de.WARP,content:c}),i.jsx(Ma,{activeKey:e,tabKey:de.CHANGELOG,content:d}),i.jsx(Ma,{activeKey:e,tabKey:de.WEBGPU_TEST,content:u}),i.jsx(Ma,{activeKey:e,tabKey:de.METADATA_TEST,content:b}),i.jsx(t0,{fallbackRender:Mm,children:i.jsx(NG,{})})]})};function Ma(e){return i.jsx(t0,{fallbackRender:Mm,children:i.jsx("div",{style:{display:e.activeKey===e.tabKey?"contents":"none"},id:e.tabKey,children:e.content})})}const{getDesignToken:WZ}=Bt,{Content:MZ}=hs,LZ=()=>{const[e,t]=yb.useMessage(),[n,l]=Zb.useNotification(),[s,o]=Vt.useModal();window.messageApi=e,window.notificationApi=n,window.modalApi=s;const r=window.store(d=>d.colorTheme),c=window.store(d=>d.globalThemeConfig);return E.useEffect(()=>{fe.setToken(WZ({token:r}))},[r]),E.useEffect(()=>{jG(I.getState().version)},[]),i.jsxs(wn,{theme:c,children:[t,l,o,i.jsxs(hs,{style:{minHeight:"100%"},children:[i.jsx(tg,{}),i.jsxs(hs,{hasSider:!0,children:[i.jsx(ug,{}),i.jsx(MZ,{style:{padding:10,margin:0,minHeight:280,marginLeft:"auto",marginRight:"auto",overflow:"initial",display:"flex",justifyContent:"space-around",width:"100%"},children:i.jsx(xZ,{})}),i.jsx(VG,{}),i.jsx(pg,{}),i.jsx(Sg,{})]})]})]})};function VZ(){return i.jsx(LZ,{})}const PZ={21:{id:"21",affixes:{1:{affix_id:"1",property:"HPDelta",base:45.1584,step:15.80544}}},22:{id:"22",affixes:{1:{affix_id:"1",property:"AttackDelta",base:22.5792,step:7.90272}}},23:{id:"23",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.027648,step:.009677},2:{affix_id:"2",property:"AttackAddedRatio",base:.027648,step:.009677},3:{affix_id:"3",property:"DefenceAddedRatio",base:.034560002,step:.012096001},4:{affix_id:"4",property:"CriticalChanceBase",base:.020736001,step:.007258},5:{affix_id:"5",property:"CriticalDamageBase",base:.041472,step:.014515},6:{affix_id:"6",property:"HealRatioBase",base:.022118,step:.0077410005},7:{affix_id:"7",property:"StatusProbabilityBase",base:.027648,step:.009677}}},24:{id:"24",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.027648,step:.009677},2:{affix_id:"2",property:"AttackAddedRatio",base:.027648,step:.009677},3:{affix_id:"3",property:"DefenceAddedRatio",base:.034560002,step:.012096001},4:{affix_id:"4",property:"SpeedDelta",base:1.6128,step:1}}},25:{id:"25",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.027648,step:.009677},2:{affix_id:"2",property:"AttackAddedRatio",base:.027648,step:.009677},3:{affix_id:"3",property:"DefenceAddedRatio",base:.034560002,step:.012096001},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.024883,step:.008709},5:{affix_id:"5",property:"FireAddedRatio",base:.024883,step:.008709},6:{affix_id:"6",property:"IceAddedRatio",base:.024883,step:.008709},7:{affix_id:"7",property:"ThunderAddedRatio",base:.024883,step:.008709},8:{affix_id:"8",property:"WindAddedRatio",base:.024883,step:.008709},9:{affix_id:"9",property:"QuantumAddedRatio",base:.024883,step:.008709},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.024883,step:.008709}}},26:{id:"26",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.041472,step:.014515},2:{affix_id:"2",property:"SPRatioBase",base:.012442,step:.0043550003},3:{affix_id:"3",property:"HPAddedRatio",base:.027648,step:.009677},4:{affix_id:"4",property:"AttackAddedRatio",base:.027648,step:.009677},5:{affix_id:"5",property:"DefenceAddedRatio",base:.034560002,step:.012096001}}},31:{id:"31",affixes:{1:{affix_id:"1",property:"HPDelta",base:67.7376,step:23.70816}}},32:{id:"32",affixes:{1:{affix_id:"1",property:"AttackDelta",base:33.8688,step:11.85408}}},33:{id:"33",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.041472,step:.014515},2:{affix_id:"2",property:"AttackAddedRatio",base:.041472,step:.014515},3:{affix_id:"3",property:"DefenceAddedRatio",base:.05184,step:.018144},4:{affix_id:"4",property:"CriticalChanceBase",base:.031104,step:.010886001},5:{affix_id:"5",property:"CriticalDamageBase",base:.062208,step:.021773001},6:{affix_id:"6",property:"HealRatioBase",base:.033178,step:.011612},7:{affix_id:"7",property:"StatusProbabilityBase",base:.041472,step:.014515}}},34:{id:"34",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.041472,step:.014515},2:{affix_id:"2",property:"AttackAddedRatio",base:.041472,step:.014515},3:{affix_id:"3",property:"DefenceAddedRatio",base:.05184,step:.018144},4:{affix_id:"4",property:"SpeedDelta",base:2.4192,step:1}}},35:{id:"35",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.041472,step:.014515},2:{affix_id:"2",property:"AttackAddedRatio",base:.041472,step:.014515},3:{affix_id:"3",property:"DefenceAddedRatio",base:.05184,step:.018144},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.037325,step:.013064001},5:{affix_id:"5",property:"FireAddedRatio",base:.037325,step:.013064001},6:{affix_id:"6",property:"IceAddedRatio",base:.037325,step:.013064001},7:{affix_id:"7",property:"ThunderAddedRatio",base:.037325,step:.013064001},8:{affix_id:"8",property:"WindAddedRatio",base:.037325,step:.013064001},9:{affix_id:"9",property:"QuantumAddedRatio",base:.037325,step:.013064001},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.037325,step:.013064001}}},36:{id:"36",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.062208,step:.021773001},2:{affix_id:"2",property:"SPRatioBase",base:.018662,step:.0065320004},3:{affix_id:"3",property:"HPAddedRatio",base:.041472,step:.014515},4:{affix_id:"4",property:"AttackAddedRatio",base:.041472,step:.014515},5:{affix_id:"5",property:"DefenceAddedRatio",base:.05184,step:.018144}}},41:{id:"41",affixes:{1:{affix_id:"1",property:"HPDelta",base:90.3168,step:31.61088}}},42:{id:"42",affixes:{1:{affix_id:"1",property:"AttackDelta",base:45.1584,step:15.80544}}},43:{id:"43",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354},2:{affix_id:"2",property:"AttackAddedRatio",base:.055296,step:.019354},3:{affix_id:"3",property:"DefenceAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"CriticalChanceBase",base:.041472,step:.014515},5:{affix_id:"5",property:"CriticalDamageBase",base:.082944,step:.029029999},6:{affix_id:"6",property:"HealRatioBase",base:.044237,step:.015483},7:{affix_id:"7",property:"StatusProbabilityBase",base:.055296,step:.019354}}},44:{id:"44",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354},2:{affix_id:"2",property:"AttackAddedRatio",base:.055296,step:.019354},3:{affix_id:"3",property:"DefenceAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"SpeedDelta",base:3.2256,step:1.1}}},45:{id:"45",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354},2:{affix_id:"2",property:"AttackAddedRatio",base:.055296,step:.019354},3:{affix_id:"3",property:"DefenceAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.049766,step:.017418},5:{affix_id:"5",property:"FireAddedRatio",base:.049766,step:.017418},6:{affix_id:"6",property:"IceAddedRatio",base:.049766,step:.017418},7:{affix_id:"7",property:"ThunderAddedRatio",base:.049766,step:.017418},8:{affix_id:"8",property:"WindAddedRatio",base:.049766,step:.017418},9:{affix_id:"9",property:"QuantumAddedRatio",base:.049766,step:.017418},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.049766,step:.017418}}},46:{id:"46",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.082944,step:.029029999},2:{affix_id:"2",property:"SPRatioBase",base:.024883,step:.008709},3:{affix_id:"3",property:"HPAddedRatio",base:.055296,step:.019354},4:{affix_id:"4",property:"AttackAddedRatio",base:.055296,step:.019354},5:{affix_id:"5",property:"DefenceAddedRatio",base:.06912,step:.024192}}},51:{id:"51",affixes:{1:{affix_id:"1",property:"HPDelta",base:112.896,step:39.5136}}},52:{id:"52",affixes:{1:{affix_id:"1",property:"AttackDelta",base:56.448,step:19.7568}}},53:{id:"53",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.06912,step:.024192},2:{affix_id:"2",property:"AttackAddedRatio",base:.06912,step:.024192},3:{affix_id:"3",property:"DefenceAddedRatio",base:.0864,step:.030240001},4:{affix_id:"4",property:"CriticalChanceBase",base:.05184,step:.018144},5:{affix_id:"5",property:"CriticalDamageBase",base:.10368,step:.036288},6:{affix_id:"6",property:"HealRatioBase",base:.055296,step:.019354},7:{affix_id:"7",property:"StatusProbabilityBase",base:.06912,step:.024192}}},54:{id:"54",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.06912,step:.024192},2:{affix_id:"2",property:"AttackAddedRatio",base:.06912,step:.024192},3:{affix_id:"3",property:"DefenceAddedRatio",base:.0864,step:.030240001},4:{affix_id:"4",property:"SpeedDelta",base:4.032,step:1.4}}},55:{id:"55",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.06912,step:.024192},2:{affix_id:"2",property:"AttackAddedRatio",base:.06912,step:.024192},3:{affix_id:"3",property:"DefenceAddedRatio",base:.0864,step:.030240001},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.062208,step:.021773001},5:{affix_id:"5",property:"FireAddedRatio",base:.062208,step:.021773001},6:{affix_id:"6",property:"IceAddedRatio",base:.062208,step:.021773001},7:{affix_id:"7",property:"ThunderAddedRatio",base:.062208,step:.021773001},8:{affix_id:"8",property:"WindAddedRatio",base:.062208,step:.021773001},9:{affix_id:"9",property:"QuantumAddedRatio",base:.062208,step:.021773001},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.062208,step:.021773001}}},56:{id:"56",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.10368,step:.036288},2:{affix_id:"2",property:"SPRatioBase",base:.031104,step:.010886001},3:{affix_id:"3",property:"HPAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"AttackAddedRatio",base:.06912,step:.024192},5:{affix_id:"5",property:"DefenceAddedRatio",base:.0864,step:.030240001}}},433:{id:"433",affixes:{1:{affix_id:"1",property:"DefenceAddedRatio",base:.06912,step:.024192}}},434:{id:"434",affixes:{1:{affix_id:"1",property:"CriticalChanceBase",base:.041472,step:.014515}}},436:{id:"436",affixes:{1:{affix_id:"1",property:"HealRatioBase",base:.044237,step:.015483}}},441:{id:"441",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354}}},443:{id:"443",affixes:{1:{affix_id:"1",property:"DefenceAddedRatio",base:.06912,step:.024192}}}},FZ={2:{id:"2",affixes:{1:{affix_id:"1",property:"HPDelta",base:13.548016,step:1.693502,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:6.774008,step:.846751,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:6.774008,step:.846751,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.013824001,step:.0017280006,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.013824001,step:.0017280006,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.017280001,step:.0021600004,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:1,step:.1,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.010368001,step:.0012960008,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.020736001,step:.0025920009,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.013824001,step:.0017280006,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.013824001,step:.0017280006,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.020736001,step:.0025920009,step_num:2}}},3:{id:"3",affixes:{1:{affix_id:"1",property:"HPDelta",base:20.322023,step:2.540253,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:10.161012,step:1.270126,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:10.161012,step:1.270126,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.020736001,step:.0025920009,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.020736001,step:.0025920009,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.02592,step:.0032400002,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:1.2,step:.1,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.015552,step:.0019440008,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.031104,step:.003888001,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.020736001,step:.0025920009,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.020736001,step:.0025920009,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.031104,step:.003888001,step_num:2}}},4:{id:"4",affixes:{1:{affix_id:"1",property:"HPDelta",base:27.096031,step:3.387004,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:13.548016,step:1.693502,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:13.548016,step:1.693502,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.027648,step:.0034560005,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.027648,step:.0034560005,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.034560002,step:.0043200003,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:1.6,step:.2,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.020736001,step:.0025920009,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.041472,step:.0051840004,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.027648,step:.0034560005,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.027648,step:.0034560005,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.041472,step:.0051840004,step_num:2}}},5:{id:"5",affixes:{1:{affix_id:"1",property:"HPDelta",base:33.87004,step:4.233755,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:16.935019,step:2.116877,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:16.935019,step:2.116877,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.034560002,step:.0043200003,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.034560002,step:.0043200003,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.0432,step:.0054,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:2,step:.3,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.02592,step:.0032400002,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.05184,step:.0064800004,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.034560002,step:.0043200003,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.034560002,step:.0043200003,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.05184,step:.0064800004,step_num:2}}}},Ee=null,Qe="BASIC",ne="SKILL",Ze="ULT",Le="FUA",Vn="MEMO_SKILL",BZ="MEMO_TALENT",Oa=Zn.characters,Kc=Zn.lightCones,Eo=[g.MessengerTraversingHackerspace,g.SacerdosRelivedOrdeal,g.ThiefOfShootingMeteor,g.WatchmakerMasterOfDreamMachinations,g.IronCavalryAgainstTheScourge],Ie=[[g.PoetOfMourningCollapse,g.PoetOfMourningCollapse],[g.PioneerDiverOfDeadWaters,g.PioneerDiverOfDeadWaters],[g.EagleOfTwilightLine,g.EagleOfTwilightLine]],Kt=[g.DuranDynastyOfRunningWolves,g.SigoniaTheUnclaimedDesolation,g.InertSalsotto],ve=[g.SigoniaTheUnclaimedDesolation],Jc=[g.SprightlyVonwacq,g.PenaconyLandOfTheDreams,g.LushakaTheSunkenSeas],Ac=[g.SprightlyVonwacq,g.BrokenKeel,g.PenaconyLandOfTheDreams,g.FleetOfTheAgeless,g.LushakaTheSunkenSeas],Lm={initialize:()=>{const e=vZ(),t=XZ(),n=Oa;for(const u of Object.values(Kc)){const b=u.id;e[b]?u.superimpositions=e[b]:u.superimpositions={};let p=200;t[b]!=null&&t[b]&&(p=t[b]),u.displayName=u.name,u.imageCenter=p}const l=kZ(),s=YZ(),o=Object.values(s);for(const u of o)for(const b of[f.Body,f.Feet,f.PlanarSphere,f.LinkRope])u.parts[b].length===0&&(u.parts[b]=a0[b]);for(const[u,b]of Object.entries(Oa)){if(!Oa[u])continue;let p={x:1024,y:1024,z:1};l[u]!=null&&(p=l[u]),Oa[u].traces=b.traces,Oa[u].traceTree=b.traceTree,Oa[u].imageCenter=p,Oa[u].displayName=HZ(Oa[u]),Oa[u].scoringMetadata=s[u]}const r=Zn.relics.reduce((u,b)=>(u[b.id]=b,u),{}),d={characters:n,lightCones:Kc,relics:{relicMainAffixes:PZ,relicSubAffixes:FZ,relicSets:r}};return I.setMetadata(d),d}},jc={8001:"Caelus (Destruction)",8002:"Stelle (Destruction)",8003:"Caelus (Preservation)",8004:"Stelle (Preservation)",8005:"Caelus (Harmony)",8006:"Stelle (Harmony)",8007:"Caelus (Remembrance)",8008:"Stelle (Remembrance)",1213:"Imbibitor Lunae",1224:"March 7th (Hunt)"};function HZ(e){return e.id in jc?jc[e.id]:e.name}function vZ(){return{2e4:{},20001:{},20002:{},20003:{1:{[a.DEF_P]:.16},2:{[a.DEF_P]:.2},3:{[a.DEF_P]:.24},4:{[a.DEF_P]:.28},5:{[a.DEF_P]:.32}},20004:{},20005:{},20006:{},20007:{},20008:{},20009:{},20010:{},20011:{},20012:{},20013:{},20014:{},20015:{},20016:{},20017:{},20018:{},20019:{},20020:{},20021:{},20022:{},21e3:{1:{[a.ERR]:.08},2:{[a.ERR]:.1},3:{[a.ERR]:.12},4:{[a.ERR]:.14},5:{[a.ERR]:.16}},21001:{},21002:{1:{[a.DEF_P]:.16},2:{[a.DEF_P]:.18},3:{[a.DEF_P]:.2},4:{[a.DEF_P]:.22},5:{[a.DEF_P]:.24}},21003:{1:{[a.ATK_P]:.16},2:{[a.ATK_P]:.2},3:{[a.ATK_P]:.24},4:{[a.ATK_P]:.28},5:{[a.ATK_P]:.32}},21004:{1:{[a.BE]:.28},2:{[a.BE]:.35},3:{[a.BE]:.42},4:{[a.BE]:.49},5:{[a.BE]:.56}},21005:{},21006:{},21007:{1:{[a.OHB]:.1},2:{[a.OHB]:.125},3:{[a.OHB]:.15},4:{[a.OHB]:.175},5:{[a.OHB]:.2}},21008:{1:{[a.EHR]:.2},2:{[a.EHR]:.25},3:{[a.EHR]:.3},4:{[a.EHR]:.35},5:{[a.EHR]:.4}},21009:{},21010:{},21011:{},21012:{},21013:{},21014:{1:{[a.RES]:.16},2:{[a.RES]:.2},3:{[a.RES]:.24},4:{[a.RES]:.28},5:{[a.RES]:.32}},21015:{},21016:{1:{[a.DEF_P]:.16},2:{[a.DEF_P]:.2},3:{[a.DEF_P]:.24},4:{[a.DEF_P]:.28},5:{[a.DEF_P]:.32}},21017:{},21018:{},21019:{1:{[a.ATK_P]:.16},2:{[a.ATK_P]:.2},3:{[a.ATK_P]:.24},4:{[a.ATK_P]:.28},5:{[a.ATK_P]:.32}},21020:{1:{[a.ATK_P]:.16},2:{[a.ATK_P]:.2},3:{[a.ATK_P]:.24},4:{[a.ATK_P]:.28},5:{[a.ATK_P]:.32}},21021:{},21022:{1:{[a.BE]:.16},2:{[a.BE]:.2},3:{[a.BE]:.24},4:{[a.BE]:.28},5:{[a.BE]:.32}},21023:{},21024:{},21025:{},21026:{1:{[a.ATK_P]:.1},2:{[a.ATK_P]:.125},3:{[a.ATK_P]:.15},4:{[a.ATK_P]:.175},5:{[a.ATK_P]:.2}},21027:{},21028:{1:{[a.HP_P]:.16},2:{[a.HP_P]:.2},3:{[a.HP_P]:.24},4:{[a.HP_P]:.28},5:{[a.HP_P]:.32}},21029:{},21030:{1:{[a.DEF_P]:.16},2:{[a.DEF_P]:.2},3:{[a.DEF_P]:.24},4:{[a.DEF_P]:.28},5:{[a.DEF_P]:.32}},21031:{1:{[a.CR]:.12},2:{[a.CR]:.15},3:{[a.CR]:.18},4:{[a.CR]:.21},5:{[a.CR]:.24}},21032:{},21033:{1:{[a.ATK_P]:.24},2:{[a.ATK_P]:.3},3:{[a.ATK_P]:.36},4:{[a.ATK_P]:.42},5:{[a.ATK_P]:.48}},21034:{},21035:{1:{[a.BE]:.24},2:{[a.BE]:.3},3:{[a.BE]:.36},4:{[a.BE]:.42},5:{[a.BE]:.48}},21036:{},21037:{1:{[a.ATK_P]:.12},2:{[a.ATK_P]:.14},3:{[a.ATK_P]:.16},4:{[a.ATK_P]:.18},5:{[a.ATK_P]:.2}},21038:{},21039:{1:{[a.RES]:.12},2:{[a.RES]:.14},3:{[a.RES]:.16},4:{[a.RES]:.18},5:{[a.RES]:.2}},21040:{1:{[a.ATK_P]:.16},2:{[a.ATK_P]:.18},3:{[a.ATK_P]:.2},4:{[a.ATK_P]:.22},5:{[a.ATK_P]:.24}},21041:{},21042:{1:{[a.BE]:.28},2:{[a.BE]:.35},3:{[a.BE]:.42},4:{[a.BE]:.49},5:{[a.BE]:.56}},21043:{1:{[a.DEF_P]:.16},2:{[a.DEF_P]:.2},3:{[a.DEF_P]:.24},4:{[a.DEF_P]:.28},5:{[a.DEF_P]:.32}},21044:{1:{[a.CR]:.08},2:{[a.CR]:.1},3:{[a.CR]:.12},4:{[a.CR]:.14},5:{[a.CR]:.16}},21045:{1:{[m.Stats.BE]:.28},2:{[m.Stats.BE]:.35},3:{[m.Stats.BE]:.42},4:{[m.Stats.BE]:.49},5:{[m.Stats.BE]:.56}},21046:{1:{[m.Stats.ATK_P]:.16},2:{[m.Stats.ATK_P]:.2},3:{[m.Stats.ATK_P]:.24},4:{[m.Stats.ATK_P]:.28},5:{[m.Stats.ATK_P]:.32}},21047:{1:{[m.Stats.BE]:.28},2:{[m.Stats.BE]:.35},3:{[m.Stats.BE]:.42},4:{[m.Stats.BE]:.49},5:{[m.Stats.BE]:.56}},21048:{1:{[m.Stats.SPD_P]:.08},2:{[m.Stats.SPD_P]:.09},3:{[m.Stats.SPD_P]:.1},4:{[m.Stats.SPD_P]:.11},5:{[m.Stats.SPD_P]:.12}},21050:{1:{[m.Stats.CD]:.12},2:{[m.Stats.CD]:.15},3:{[m.Stats.CD]:.18},4:{[m.Stats.CD]:.21},5:{[m.Stats.CD]:.24}},21051:{1:{[m.Stats.ATK_P]:.16},2:{[m.Stats.ATK_P]:.2},3:{[m.Stats.ATK_P]:.24},4:{[m.Stats.ATK_P]:.28},5:{[m.Stats.ATK_P]:.32}},21052:{1:{[a.CR]:.12},2:{[a.CR]:.14},3:{[a.CR]:.16},4:{[a.CR]:.18},5:{[a.CR]:.2}},22e3:{1:{[a.EHR]:.2},2:{[a.EHR]:.25},3:{[a.EHR]:.3},4:{[a.EHR]:.35},5:{[a.EHR]:.4}},22001:{1:{[a.HP_P]:.08},2:{[a.HP_P]:.09},3:{[a.HP_P]:.1},4:{[a.HP_P]:.11},5:{[a.HP_P]:.12}},22002:{1:{[a.ATK_P]:.16},2:{[a.ATK_P]:.2},3:{[a.ATK_P]:.24},4:{[a.ATK_P]:.28},5:{[a.ATK_P]:.32}},22003:{1:{[a.HP_P]:.12},2:{[a.HP_P]:.15},3:{[a.HP_P]:.18},4:{[a.HP_P]:.21},5:{[a.HP_P]:.24}},22004:{1:{[a.ATK_P]:.08},2:{[a.ATK_P]:.1},3:{[a.ATK_P]:.12},4:{[a.ATK_P]:.14},5:{[a.ATK_P]:.16}},23e3:{},23001:{1:{[a.CR]:.18},2:{[a.CR]:.21},3:{[a.CR]:.24},4:{[a.CR]:.27},5:{[a.CR]:.3}},23002:{1:{[a.ATK_P]:.24},2:{[a.ATK_P]:.28},3:{[a.ATK_P]:.32},4:{[a.ATK_P]:.36},5:{[a.ATK_P]:.4}},23003:{1:{[a.ERR]:.1},2:{[a.ERR]:.12},3:{[a.ERR]:.14},4:{[a.ERR]:.16},5:{[a.ERR]:.18}},23004:{},23005:{1:{[a.DEF_P]:.24,[a.EHR]:.24},2:{[a.DEF_P]:.28,[a.EHR]:.28},3:{[a.DEF_P]:.32,[a.EHR]:.32},4:{[a.DEF_P]:.36,[a.EHR]:.36},5:{[a.DEF_P]:.4,[a.EHR]:.4}},23006:{},23007:{1:{[a.EHR]:.24},2:{[a.EHR]:.28},3:{[a.EHR]:.32},4:{[a.EHR]:.36},5:{[a.EHR]:.4}},23008:{1:{[a.ATK_P]:.24},2:{[a.ATK_P]:.28},3:{[a.ATK_P]:.32},4:{[a.ATK_P]:.36},5:{[a.ATK_P]:.4}},23009:{1:{[a.CR]:.18,[a.HP_P]:.18},2:{[a.CR]:.21,[a.HP_P]:.21},3:{[a.CR]:.24,[a.HP_P]:.24},4:{[a.CR]:.27,[a.HP_P]:.27},5:{[a.CR]:.3,[a.HP_P]:.3}},23010:{1:{[a.CD]:.36},2:{[a.CD]:.42},3:{[a.CD]:.48},4:{[a.CD]:.54},5:{[a.CD]:.6}},23011:{1:{[a.HP_P]:.24,[a.ERR]:.12},2:{[a.HP_P]:.28,[a.ERR]:.14},3:{[a.HP_P]:.32,[a.ERR]:.16},4:{[a.HP_P]:.36,[a.ERR]:.18},5:{[a.HP_P]:.4,[a.ERR]:.2}},23012:{1:{[a.CD]:.3},2:{[a.CD]:.35},3:{[a.CD]:.4},4:{[a.CD]:.45},5:{[a.CD]:.5}},23013:{1:{[a.HP_P]:.18,[a.OHB]:.12},2:{[a.HP_P]:.21,[a.OHB]:.14},3:{[a.HP_P]:.24,[a.OHB]:.16},4:{[a.HP_P]:.27,[a.OHB]:.18},5:{[a.HP_P]:.3,[a.OHB]:.2}},23014:{1:{[a.CD]:.2},2:{[a.CD]:.23},3:{[a.CD]:.26},4:{[a.CD]:.29},5:{[a.CD]:.32}},23015:{1:{[a.CR]:.18},2:{[a.CR]:.21},3:{[a.CR]:.24},4:{[a.CR]:.27},5:{[a.CR]:.3}},23016:{1:{[a.CR]:.18},2:{[a.CR]:.21},3:{[a.CR]:.24},4:{[a.CR]:.27},5:{[a.CR]:.3}},23017:{1:{[a.ERR]:.12},2:{[a.ERR]:.14},3:{[a.ERR]:.16},4:{[a.ERR]:.18},5:{[a.ERR]:.2}},23018:{1:{[a.CD]:.36},2:{[a.CD]:.42},3:{[a.CD]:.48},4:{[a.CD]:.54},5:{[a.CD]:.6}},23019:{1:{[a.BE]:.6},2:{[a.BE]:.7},3:{[a.BE]:.8},4:{[a.BE]:.9},5:{[a.BE]:1}},23020:{1:{[a.CD]:.2},2:{[a.CD]:.23},3:{[a.CD]:.26},4:{[a.CD]:.29},5:{[a.CD]:.32}},23021:{1:{[a.CD]:.32},2:{[a.CD]:.39},3:{[a.CD]:.46},4:{[a.CD]:.53},5:{[a.CD]:.6}},23022:{1:{[a.EHR]:.4},2:{[a.EHR]:.45},3:{[a.EHR]:.5},4:{[a.EHR]:.55},5:{[a.EHR]:.6}},23023:{1:{[a.DEF_P]:.4},2:{[a.DEF_P]:.46},3:{[a.DEF_P]:.52},4:{[a.DEF_P]:.58},5:{[a.DEF_P]:.64}},23024:{1:{[a.CD]:.36},2:{[a.CD]:.42},3:{[a.CD]:.48},4:{[a.CD]:.54},5:{[a.CD]:.6}},23025:{1:{[m.Stats.BE]:.6},2:{[m.Stats.BE]:.7},3:{[m.Stats.BE]:.8},4:{[m.Stats.BE]:.9},5:{[m.Stats.BE]:1}},23026:{},23027:{1:{[a.BE]:.6},2:{[a.BE]:.7},3:{[a.BE]:.8},4:{[a.BE]:.9},5:{[a.BE]:1}},23028:{1:{[m.Stats.CR]:.16},2:{[m.Stats.CR]:.19},3:{[m.Stats.CR]:.22},4:{[m.Stats.CR]:.25},5:{[m.Stats.CR]:.28}},23029:{1:{[m.Stats.EHR]:.6},2:{[m.Stats.EHR]:.7},3:{[m.Stats.EHR]:.8},4:{[m.Stats.EHR]:.9},5:{[m.Stats.EHR]:1}},23030:{1:{[m.Stats.CD]:.36},2:{[m.Stats.CD]:.42},3:{[m.Stats.CD]:.48},4:{[m.Stats.CD]:.54},5:{[m.Stats.CD]:.6}},23031:{1:{[m.Stats.CR]:.15},2:{[m.Stats.CR]:.175},3:{[m.Stats.CR]:.2},4:{[m.Stats.CR]:.225},5:{[m.Stats.CR]:.25}},23032:{1:{[m.Stats.BE]:.6},2:{[m.Stats.BE]:.7},3:{[m.Stats.BE]:.8},4:{[m.Stats.BE]:.9},5:{[m.Stats.BE]:1}},23033:{1:{[m.Stats.BE]:.6},2:{[m.Stats.BE]:.7},3:{[m.Stats.BE]:.8},4:{[m.Stats.BE]:.9},5:{[m.Stats.BE]:1}},23034:{},23035:{1:{[m.Stats.BE]:.6},2:{[m.Stats.BE]:.7},3:{[m.Stats.BE]:.8},4:{[m.Stats.BE]:.9},5:{[m.Stats.BE]:1}},23036:{1:{[m.Stats.SPD]:12},2:{[m.Stats.SPD]:14},3:{[m.Stats.SPD]:16},4:{[m.Stats.SPD]:18},5:{[m.Stats.SPD]:20}},23037:{1:{[m.Stats.CR]:.12},2:{[m.Stats.CR]:.14},3:{[m.Stats.CR]:.16},4:{[m.Stats.CR]:.18},5:{[m.Stats.CR]:.2}},23038:{1:{[m.Stats.CD]:.36},2:{[m.Stats.CD]:.42},3:{[m.Stats.CD]:.48},4:{[m.Stats.CD]:.54},5:{[m.Stats.CD]:.6}},23039:{1:{[m.Stats.HP_P]:.18},2:{[m.Stats.HP_P]:.21},3:{[m.Stats.HP_P]:.24},4:{[m.Stats.HP_P]:.27},5:{[m.Stats.HP_P]:.3}},23040:{1:{[m.Stats.HP_P]:.3},2:{[m.Stats.HP_P]:.375},3:{[m.Stats.HP_P]:.45},4:{[m.Stats.HP_P]:.525},5:{[m.Stats.HP_P]:.6}},23041:{},24e3:{},24001:{1:{[a.CR]:.08},2:{[a.CR]:.1},3:{[a.CR]:.12},4:{[a.CR]:.14},5:{[a.CR]:.16}},24002:{1:{[a.RES]:.08},2:{[a.RES]:.1},3:{[a.RES]:.12},4:{[a.RES]:.14},5:{[a.RES]:.16}},24003:{1:{[a.BE]:.2},2:{[a.BE]:.25},3:{[a.BE]:.3},4:{[a.BE]:.35},5:{[a.BE]:.4}},24004:{1:{[m.Stats.ATK_P]:.08},2:{[m.Stats.ATK_P]:.09},3:{[m.Stats.ATK_P]:.1},4:{[m.Stats.ATK_P]:.11},5:{[m.Stats.ATK_P]:.12}},24005:{1:{[m.Stats.SPD_P]:.06},2:{[m.Stats.SPD_P]:.075},3:{[m.Stats.SPD_P]:.09},4:{[m.Stats.SPD_P]:.105},5:{[m.Stats.SPD_P]:.12}}}}function XZ(){return{2e4:270,20001:220,20002:160,20003:310,20004:180,20005:210,20006:390,20007:180,20008:220,20009:230,20010:250,20011:390,20012:300,20013:220,20014:210,20015:270,20016:270,20017:410,20018:190,20019:230,20020:250,21e3:150,21001:290,21002:160,21003:195,21004:150,21005:250,21006:170,21007:240,21008:140,21009:140,21010:160,21011:115,21012:160,21013:200,21014:140,21015:125,21016:180,21017:140,21018:210,21019:180,21020:230,21021:180,21022:300,21023:240,21024:140,21025:125,21026:160,21027:200,21028:250,21029:160,21030:305,21031:190,21032:245,21033:140,21034:220,21035:300,21036:220,21037:210,21038:130,21039:220,21040:150,21041:160,21042:200,21043:220,21044:150,21045:160,21046:145,21047:145,21048:250,22e3:275,22001:220,22002:160,22003:185,23e3:140,23001:150,23002:160,23003:250,23004:140,23005:150,23006:200,23007:210,23008:160,23009:130,23010:180,23011:180,23012:300,23013:180,23014:120,23015:190,23016:130,23017:190,23018:170,23019:270,23020:220,23021:150,23022:190,23023:140,23024:80,23025:125,23026:180,23027:140,23028:150,23029:140,23031:145,23032:180,23033:175,23034:175,23035:175,24e3:170,24001:270,24002:170,24003:250,24004:270,23037:150,23036:180,21052:200,21051:180,21050:260,20022:305,20021:320,23038:210,23039:165,24005:300}}function kZ(){return{1001:{x:985,y:1075,z:1.05},1002:{x:1024,y:1e3,z:1},1003:{x:1015,y:1215,z:1.05},1004:{x:885,y:950,z:1},1005:{x:1e3,y:950,z:1.1},1006:{x:1050,y:950,z:1},1008:{x:1240,y:1e3,z:1},1009:{x:1024,y:975,z:1},1013:{x:970,y:910,z:1.1},1101:{x:950,y:1200,z:1.1},1102:{x:820,y:1075,z:1.1},1103:{x:1060,y:1030,z:1.3},1104:{x:1150,y:1110,z:1},1105:{x:1040,y:1024,z:1},1106:{x:780,y:1100,z:1},1107:{x:880,y:900,z:1.15},1108:{x:1e3,y:950,z:1},1109:{x:975,y:1025,z:1.1},1110:{x:1180,y:1050,z:1.05},1111:{x:930,y:1e3,z:1},1112:{x:1120,y:875,z:1},1201:{x:1e3,y:1024,z:1},1202:{x:1024,y:950,z:1},1203:{x:1024,y:975,z:1.05},1204:{x:1024,y:1024,z:1.1},1205:{x:990,y:800,z:1},1206:{x:1075,y:1015,z:1.2},1207:{x:900,y:1055,z:1.1},1208:{x:920,y:950,z:1},1209:{x:1e3,y:1e3,z:1},1210:{x:1e3,y:1024,z:1},1211:{x:1050,y:950,z:1.05},1212:{x:1024,y:930,z:1},1213:{x:1050,y:1e3,z:1.05},1214:{x:1e3,y:900,z:1},1215:{x:1e3,y:1024,z:1.1},1217:{x:950,y:975,z:1.075},1218:{x:950,y:900,z:1.1},1220:{x:1024,y:1050,z:1},1221:{x:1024,y:1075,z:1.1},1222:{x:1110,y:1e3,z:1.1},1223:{x:960,y:1024,z:1.05},1224:{x:825,y:950,z:1.1},1301:{x:1200,y:975,z:1},1302:{x:680,y:1e3,z:1.15},1303:{x:1060,y:1050,z:1},1304:{x:1150,y:1e3,z:1.05},1305:{x:965,y:840,z:1.15},1306:{x:1050,y:1050,z:1},1307:{x:950,y:925,z:1.25},1308:{x:1e3,y:900,z:1},1309:{x:1024,y:925,z:1},1310:{x:930,y:1075,z:1.25},1312:{x:1050,y:1075,z:1},1314:{x:1024,y:850,z:1.15},1315:{x:1e3,y:1100,z:1},1317:{x:1125,y:1175,z:1},8001:{x:1024,y:1100,z:1},8002:{x:1024,y:1024,z:1},8003:{x:980,y:1024,z:1.05},8004:{x:1050,y:1024,z:1.05},8005:{x:1040,y:1e3,z:1.1},8006:{x:1040,y:1e3,z:1.1},8007:{x:955,y:975,z:.95},8008:{x:955,y:975,z:.95},1225:{x:875,y:1125,z:1.15},1313:{x:1e3,y:950,z:1.075},1401:{x:1e3,y:1085,z:1.275},1402:{x:1200,y:750,z:1.1},1403:{x:875,y:1e3,z:1.075},1404:{x:925,y:1050,z:1.05},1405:{x:1235,y:1025,z:.9},1407:{x:875,y:950,z:1}}}function YZ(){return{1001:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:1,[a.DEF_P]:1,[a.HP]:.5,[a.HP_P]:.5,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:1,[a.RES]:.75,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.DEF_P,a.EHR],[f.Feet]:[a.DEF_P,a.SPD],[f.PlanarSphere]:[a.DEF_P],[f.LinkRope]:[a.DEF_P,a.ERR]},presets:[le.VALOROUS_SET],sortOption:Z.SHIELD,addedColumns:[Z.SHIELD],hiddenColumns:[Z.SKILL,Z.DOT]},1002:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:1,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Wind_DMG],[f.LinkRope]:[a.ATK_P]},presets:[le.fnPioneerSet(4)],sortOption:Z.ULT,hiddenColumns:[Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Wind_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,ne,ne],comboDot:0,comboBreak:0,relicSets:[[g.ScholarLostInErudition,g.ScholarLostInErudition],[g.PioneerDiverOfDeadWaters,g.PioneerDiverOfDeadWaters],...Ie],ornamentSets:[g.RutilantArena,...ve],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1003:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:.5,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:1,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CD,a.CR],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Fire_DMG],[f.LinkRope]:[a.ATK_P]},presets:[le.fnAshblazingSet(8),le.fnPioneerSet(4),le.VALOROUS_SET],sortOption:Z.FUA,hiddenColumns:[],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Fire_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,Le,ne,Le,ne,Le],comboDot:0,comboBreak:0,relicSets:[[g.TheAshblazingGrandDuke,g.TheAshblazingGrandDuke],...Ie],ornamentSets:[g.DuranDynastyOfRunningWolves,...Kt,...ve],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1004:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:1,[a.RES]:0,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:1},parts:{[f.Body]:[a.CD,a.CR,a.EHR],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Imaginary_DMG],[f.LinkRope]:[a.ATK_P,a.ERR]},presets:[le.WASTELANDER_SET,le.fnPioneerSet(4)],sortOption:Z.SKILL,hiddenColumns:[Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Imaginary_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,ne,ne],comboDot:0,comboBreak:0,errRopeEidolon:0,relicSets:[[g.PioneerDiverOfDeadWaters,g.PioneerDiverOfDeadWaters],[g.ScholarLostInErudition,g.ScholarLostInErudition],...Ie],ornamentSets:[g.RutilantArena,g.FirmamentFrontlineGlamoth,g.IzumoGenseiAndTakamaDivineRealm,...ve],teammates:[{characterId:"1308",lightCone:"23024",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1005:{stats:{[a.ATK]:1,[a.ATK_P]:1,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:.5,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:1,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.ATK_P],[f.Feet]:[a.SPD,a.ATK_P],[f.PlanarSphere]:[a.ATK_P,a.Lightning_DMG],[f.LinkRope]:[a.ATK_P]},presets:[le.PRISONER_SET,le.fnAshblazingSet(6),le.VALOROUS_SET],sortOption:Z.DOT,hiddenColumns:[],simulation:{parts:{[f.Body]:[a.ATK_P],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Lightning_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.ATK_P,a.ATK,a.EHR,a.CR,a.CD],breakpoints:{[a.EHR]:.282},comboAbilities:[Ee,Ze,ne,Le,ne,Le],comboDot:16,comboBreak:0,relicSets:[[g.PrisonerInDeepConfinement,g.PrisonerInDeepConfinement],...Ie],ornamentSets:[g.FirmamentFrontlineGlamoth],teammates:[{characterId:"1307",lightCone:"23022",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1006:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:.5,[a.DEF_P]:.5,[a.HP]:.5,[a.HP_P]:.5,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:1,[a.RES]:.5,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:1,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CD,a.CR,a.EHR],[f.Feet]:[a.SPD],[f.PlanarSphere]:[a.Quantum_DMG,a.ATK_P,a.HP_P,a.DEF_P],[f.LinkRope]:[a.ERR,a.ATK_P,a.BE]},presets:[le.fnPioneerSet(4)],sortOption:Z.ULT,hiddenColumns:[Z.FUA,Z.DOT]},1008:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:1,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Lightning_DMG],[f.LinkRope]:[a.ATK_P]},presets:[],sortOption:Z.SKILL,hiddenColumns:[Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Lightning_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,ne,ne],comboDot:0,comboBreak:0,relicSets:[[g.ScholarLostInErudition,g.ScholarLostInErudition],...Ie],ornamentSets:[g.RutilantArena,...ve],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1009:{stats:{[a.ATK]:.5,[a.ATK_P]:.5,[a.DEF]:.5,[a.DEF_P]:.5,[a.HP]:.75,[a.HP_P]:.75,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:.5,[a.BE]:.5,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:1,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[],[f.Feet]:[a.SPD],[f.PlanarSphere]:[],[f.LinkRope]:[a.ATK_P,a.ERR]},presets:[],sortOption:Z.SPD,hiddenColumns:[Z.ULT,Z.FUA]},1013:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:1,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Ice_DMG],[f.LinkRope]:[a.ATK_P]},presets:[le.fnAshblazingSet(8),le.VALOROUS_SET],sortOption:Z.FUA,hiddenColumns:[Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Ice_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,Le,ne,Le,ne,Le],comboDot:0,comboBreak:0,relicSets:[[g.TheAshblazingGrandDuke,g.TheAshblazingGrandDuke],[g.ScholarLostInErudition,g.ScholarLostInErudition],[g.HunterOfGlacialForest,g.HunterOfGlacialForest],...Ie],ornamentSets:[g.DuranDynastyOfRunningWolves,...Kt,...ve],teammates:[{characterId:"1003",lightCone:"23000",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1101:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:.5,[a.DEF_P]:.5,[a.HP]:.5,[a.HP_P]:.5,[a.SPD]:1,[a.CR]:0,[a.CD]:1,[a.EHR]:0,[a.RES]:.75,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:1,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CD],[f.Feet]:[a.SPD],[f.PlanarSphere]:[],[f.LinkRope]:[a.ERR]},presets:[],sortOption:Z.CD,hiddenColumns:[Z.SKILL,Z.ULT,Z.DOT]},1102:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:1,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Quantum_DMG],[f.LinkRope]:[a.ATK_P]},presets:[],sortOption:Z.SKILL,hiddenColumns:[Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Quantum_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,ne,ne],comboDot:0,comboBreak:0,relicSets:[[g.GeniusOfBrilliantStars,g.GeniusOfBrilliantStars],[g.ScholarLostInErudition,g.ScholarLostInErudition],...Ie],ornamentSets:[g.RutilantArena,g.FirmamentFrontlineGlamoth,...ve],teammates:[{characterId:"1006",lightCone:"23007",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1103:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:1,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CD,a.CR],[f.Feet]:[a.SPD,a.ATK_P],[f.PlanarSphere]:[a.ATK_P,a.Lightning_DMG],[f.LinkRope]:[a.ATK_P,a.ERR]},presets:[le.fnPioneerSet(4)],sortOption:Z.ULT,hiddenColumns:[Z.FUA],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Lightning_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,ne,ne],comboDot:0,comboBreak:0,errRopeEidolon:0,deprioritizeBuffs:!0,relicSets:[[g.PioneerDiverOfDeadWaters,g.PioneerDiverOfDeadWaters],[g.ScholarLostInErudition,g.ScholarLostInErudition],[g.BandOfSizzlingThunder,g.BandOfSizzlingThunder],[g.EagleOfTwilightLine,g.EagleOfTwilightLine],...Ie],ornamentSets:[g.FirmamentFrontlineGlamoth,g.RutilantArena,g.SprightlyVonwacq,...Jc,...ve],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1104:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:1,[a.DEF_P]:1,[a.HP]:.5,[a.HP_P]:.5,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:.75,[a.RES]:.75,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.DEF_P],[f.Feet]:[a.DEF_P,a.SPD],[f.PlanarSphere]:[a.DEF_P],[f.LinkRope]:[a.DEF_P,a.ERR]},presets:[],sortOption:Z.SHIELD,addedColumns:[Z.SHIELD],hiddenColumns:[Z.ULT,Z.FUA,Z.DOT]},1105:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:.75,[a.DEF_P]:.75,[a.HP]:1,[a.HP_P]:1,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:.75,[a.BE]:0,[a.ERR]:1,[a.OHB]:1,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.HP_P,a.OHB],[f.Feet]:[a.HP_P,a.SPD],[f.PlanarSphere]:[a.HP_P],[f.LinkRope]:[a.HP_P,a.ERR]},presets:[],sortOption:Z.HEAL,addedColumns:[Z.OHB,Z.HEAL],hiddenColumns:[Z.SKILL,Z.ULT,Z.FUA,Z.DOT]},1106:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:.75,[a.DEF_P]:.75,[a.HP]:.75,[a.HP_P]:.75,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:1,[a.RES]:.5,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:1,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.EHR,a.HP_P,a.DEF_P],[f.Feet]:[a.SPD],[f.PlanarSphere]:[a.HP_P,a.DEF_P,a.Ice_DMG],[f.LinkRope]:[a.ERR]},presets:[le.fnPioneerSet(4)],sortOption:Z.SPD,hiddenColumns:[Z.FUA,Z.DOT]},1107:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:1,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Physical_DMG],[f.LinkRope]:[a.ATK_P]},presets:[le.fnAshblazingSet(2),le.fnSacerdosSet(1)],sortOption:Z.FUA,hiddenColumns:[Z.ULT,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Physical_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,Le,Le,Le],comboDot:0,comboBreak:0,relicSets:[[g.ChampionOfStreetwiseBoxing,g.ChampionOfStreetwiseBoxing],...Ie],ornamentSets:[g.DuranDynastyOfRunningWolves,...Kt,...ve],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"21016",characterEidolon:0,lightConeSuperimposition:5}]}},1108:{stats:{[a.ATK]:1,[a.ATK_P]:1,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:1,[a.RES]:0,[a.BE]:1,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:1,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.ATK_P,a.EHR],[f.Feet]:[a.SPD,a.ATK_P],[f.PlanarSphere]:[a.ATK_P,a.Wind_DMG],[f.LinkRope]:[a.ERR,a.ATK_P,a.BE]},presets:[le.PRISONER_SET],sortOption:Z.DOT,hiddenColumns:[Z.FUA],simulation:{parts:{[f.Body]:[a.ATK_P],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Wind_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.ATK_P,a.EHR,a.ATK,a.CR,a.CD],comboAbilities:[Ee,Ze,ne,ne,ne],comboDot:60,comboBreak:0,relicSets:[[g.PrisonerInDeepConfinement,g.PrisonerInDeepConfinement],...Ie],ornamentSets:[g.FirmamentFrontlineGlamoth],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1109:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:1,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Fire_DMG],[f.LinkRope]:[a.ATK_P]},presets:[le.fnPioneerSet(4)],sortOption:Z.SKILL,hiddenColumns:[Z.FUA],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Fire_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,ne,ne],comboDot:0,comboBreak:0,relicSets:[[g.PioneerDiverOfDeadWaters,g.PioneerDiverOfDeadWaters],[g.ScholarLostInErudition,g.ScholarLostInErudition],...Ie],ornamentSets:[g.RutilantArena,g.FirmamentFrontlineGlamoth,...ve],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1110:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:.75,[a.DEF_P]:.75,[a.HP]:1,[a.HP_P]:1,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:.75,[a.BE]:0,[a.ERR]:1,[a.OHB]:1,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.HP_P,a.OHB],[f.Feet]:[a.HP_P,a.SPD],[f.PlanarSphere]:[a.HP_P],[f.LinkRope]:[a.HP_P,a.ERR]},presets:[],sortOption:Z.HEAL,addedColumns:[Z.OHB,Z.HEAL],hiddenColumns:[Z.SKILL,Z.ULT,Z.FUA,Z.DOT]},1111:{stats:{[a.ATK]:1,[a.ATK_P]:1,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:1,[a.RES]:0,[a.BE]:.75,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:1,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.ATK_P,a.EHR],[f.Feet]:[a.SPD,a.ATK_P],[f.PlanarSphere]:[a.ATK_P,a.Physical_DMG],[f.LinkRope]:[a.ATK_P,a.BE]},presets:[le.PRISONER_SET],sortOption:Z.DOT,hiddenColumns:[Z.FUA],simulation:{parts:{[f.Body]:[a.ATK_P],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Physical_DMG],[f.LinkRope]:[a.ATK_P,a.BE]},substats:[a.BE,a.ATK_P,a.ATK,a.EHR,a.CR],comboAbilities:[Ee,Ze,ne,Qe,Qe],comboDot:5,comboBreak:1,relicSets:[[g.PrisonerInDeepConfinement,g.PrisonerInDeepConfinement],...Ie,Eo],ornamentSets:[g.TaliaKingdomOfBanditry,g.FirmamentFrontlineGlamoth],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1112:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:1,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.Fire_DMG,a.ATK_P],[f.LinkRope]:[a.ATK_P]},presets:[le.fnAshblazingSet(0),le.BANANA_SET,le.fnPioneerSet(4),le.fnSacerdosSet(1)],sortOption:Z.FUA,hiddenColumns:[Z.ULT,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Fire_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],errRopeEidolon:6,comboAbilities:[Ee,Ze,ne,Le,Le],comboDot:0,comboBreak:0,deprioritizeBuffs:!0,relicSets:[[g.TheAshblazingGrandDuke,g.TheAshblazingGrandDuke],...Ie],ornamentSets:[g.DuranDynastyOfRunningWolves,g.TheWondrousBananAmusementPark,...Kt,...ve],teammates:[{characterId:"1305",lightCone:"23020",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1201:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:1,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Quantum_DMG],[f.LinkRope]:[a.ATK_P]},presets:[le.VALOROUS_SET,le.fnSacerdosSet(2)],sortOption:Z.BASIC,hiddenColumns:[Z.SKILL,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Quantum_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,Qe,Le,Qe,Le],comboDot:0,comboBreak:0,relicSets:[[g.GeniusOfBrilliantStars,g.GeniusOfBrilliantStars],[g.PoetOfMourningCollapse,g.PoetOfMourningCollapse],[g.SacerdosRelivedOrdeal,g.SacerdosRelivedOrdeal],...Ie],ornamentSets:[g.RutilantArena,...Kt,...ve],teammates:[{characterId:"1006",lightCone:"23007",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1202:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:.75,[a.DEF_P]:.75,[a.HP]:.75,[a.HP_P]:.75,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:.5,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.ATK_P,a.HP_P,a.DEF_P],[f.Feet]:[a.SPD],[f.PlanarSphere]:[a.HP_P,a.DEF_P,a.ATK_P],[f.LinkRope]:[a.ERR]},presets:[],sortOption:Z.SPD,hiddenColumns:[Z.ULT,Z.FUA,Z.DOT]},1203:{stats:{[a.ATK]:1,[a.ATK_P]:1,[a.DEF]:.75,[a.DEF_P]:.75,[a.HP]:.75,[a.HP_P]:.75,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:.75,[a.BE]:0,[a.ERR]:1,[a.OHB]:1,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.OHB,a.HP_P,a.DEF_P,a.ATK_P],[f.Feet]:[a.SPD],[f.PlanarSphere]:[a.ATK_P,a.HP_P,a.DEF_P],[f.LinkRope]:[a.ERR]},presets:[le.WASTELANDER_SET],sortOption:Z.SPD,addedColumns:[Z.OHB,Z.HEAL],hiddenColumns:[Z.SKILL,Z.FUA,Z.DOT]},1204:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:1,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Lightning_DMG],[f.LinkRope]:[a.ATK_P]},presets:[le.fnAshblazingSet(8),le.VALOROUS_SET,le.BANANA_SET],sortOption:Z.FUA,hiddenColumns:[Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Lightning_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,ne,ne,Le],comboDot:0,comboBreak:0,relicSets:[[g.TheAshblazingGrandDuke,g.TheAshblazingGrandDuke],...Ie],ornamentSets:[g.TheWondrousBananAmusementPark,g.InertSalsotto,...Kt,...ve],teammates:[{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1205:{stats:{[a.ATK]:.25,[a.ATK_P]:.25,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:1,[a.HP_P]:1,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:1,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CD,a.CR],[f.Feet]:[a.SPD,a.HP_P],[f.PlanarSphere]:[a.Wind_DMG,a.HP_P],[f.LinkRope]:[a.HP_P]},presets:[le.VALOROUS_SET,le.fnSacerdosSet(1)],sortOption:Z.BASIC,hiddenColumns:[Z.SKILL,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.HP_P,a.SPD],[f.PlanarSphere]:[a.HP_P,a.Wind_DMG],[f.LinkRope]:[a.HP_P]},substats:[a.CD,a.CR,a.HP_P,a.HP,a.ATK_P],comboAbilities:[Ee,Ze,Qe,Le,Qe],comboDot:0,comboBreak:0,relicSets:[[g.LongevousDisciple,g.LongevousDisciple],...Ie],ornamentSets:[g.BoneCollectionsSereneDemesne,g.RutilantArena,g.InertSalsotto,...ve],teammates:[{characterId:"1212",lightCone:"23014",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1203",lightCone:"20015",characterEidolon:0,lightConeSuperimposition:5}]}},1206:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:.5,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:1,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Physical_DMG],[f.LinkRope]:[a.ATK_P,a.BE]},presets:[],sortOption:Z.SKILL,hiddenColumns:[Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Physical_DMG],[f.LinkRope]:[a.ATK_P,a.BE]},substats:[a.CR,a.CD,a.ATK_P,a.BE],comboAbilities:[Ee,Ze,ne,ne,ne],comboDot:0,comboBreak:1,relicSets:[[g.ScholarLostInErudition,g.ScholarLostInErudition],[g.ChampionOfStreetwiseBoxing,g.ChampionOfStreetwiseBoxing],[g.IronCavalryAgainstTheScourge,g.IronCavalryAgainstTheScourge],...Ie],ornamentSets:[g.FirmamentFrontlineGlamoth,g.TaliaKingdomOfBanditry,...ve,g.RutilantArena],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1207:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:1},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Imaginary_DMG],[f.LinkRope]:[a.ERR,a.ATK_P]},presets:[le.WASTELANDER_SET,le.fnSacerdosSet(1)],sortOption:Z.ULT,hiddenColumns:[Z.SKILL,Z.FUA,Z.DOT]},1208:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:1,[a.DEF_P]:1,[a.HP]:1,[a.HP_P]:1,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:.5,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.HP_P,a.DEF_P],[f.Feet]:[a.HP_P,a.DEF_P,a.SPD],[f.PlanarSphere]:[a.HP_P,a.DEF_P],[f.LinkRope]:[a.HP_P,a.DEF_P,a.ERR]},presets:[],sortOption:Z.EHP,addedColumns:[Z.OHB,Z.HEAL],hiddenColumns:[Z.SKILL,Z.FUA,Z.DOT]},1209:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:1,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Ice_DMG],[f.LinkRope]:[a.ATK_P]},presets:[le.VALOROUS_SET,le.fnAshblazingSet(2)],sortOption:Z.ULT,hiddenColumns:[Z.DOT],simulation:{parts:{[f.Body]:[a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Ice_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CR,a.CD,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,Le,ne,Le,ne],comboDot:0,comboBreak:0,relicSets:[[g.ScholarLostInErudition,g.ScholarLostInErudition],[g.HunterOfGlacialForest,g.HunterOfGlacialForest],...Ie],ornamentSets:[g.RutilantArena,g.FirmamentFrontlineGlamoth,...ve],teammates:[{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1210:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:.5,[a.DEF_P]:.5,[a.HP]:.5,[a.HP_P]:.5,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:1,[a.RES]:.5,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:1,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.ATK_P,a.EHR],[f.Feet]:[a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Fire_DMG],[f.LinkRope]:[a.ERR,a.ATK_P]},presets:[le.PRISONER_SET],sortOption:Z.DOT,hiddenColumns:[Z.FUA]},1211:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:.75,[a.DEF_P]:.75,[a.HP]:1,[a.HP_P]:1,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:.75,[a.BE]:0,[a.ERR]:1,[a.OHB]:1,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.OHB],[f.Feet]:[a.SPD,a.HP_P],[f.PlanarSphere]:[a.HP_P],[f.LinkRope]:[a.HP_P,a.ERR]},presets:[],sortOption:Z.HEAL,addedColumns:[Z.OHB,Z.HEAL],hiddenColumns:[Z.SKILL,Z.ULT,Z.FUA,Z.DOT]},1212:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:1,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Ice_DMG],[f.LinkRope]:[a.ATK_P]},presets:[],sortOption:Z.SKILL,hiddenColumns:[Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Ice_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],errRopeEidolon:0,comboAbilities:[Ee,Ze,ne,ne,ne],comboDot:0,comboBreak:0,relicSets:[[g.ScholarLostInErudition,g.ScholarLostInErudition],[g.HunterOfGlacialForest,g.HunterOfGlacialForest],...Ie],ornamentSets:[g.RutilantArena,...ve],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1213:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:1},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Imaginary_DMG],[f.LinkRope]:[a.ATK_P]},presets:[le.WASTELANDER_SET],sortOption:Z.BASIC,hiddenColumns:[Z.SKILL,Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Imaginary_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,Qe,Qe],comboDot:0,comboBreak:0,relicSets:[[g.MusketeerOfWildWheat,g.MusketeerOfWildWheat],[g.WastelanderOfBanditryDesert,g.WastelanderOfBanditryDesert],...Ie],ornamentSets:[g.RutilantArena,...ve],teammates:[{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1202",lightCone:"21018",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1214:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:1,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:1,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.Quantum_DMG,a.ATK_P],[f.LinkRope]:[a.ATK_P,a.BE]},presets:[le.fnAshblazingSet(3),le.VALOROUS_SET],sortOption:Z.SKILL,hiddenColumns:[Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Quantum_DMG],[f.LinkRope]:[a.ATK_P,a.BE]},substats:[a.BE,a.ATK_P,a.CR,a.CD,a.ATK],comboAbilities:[Ee,Ze,Le,ne,Le,ne,Le],comboDot:0,comboBreak:1,relicSets:[[g.GeniusOfBrilliantStars,g.GeniusOfBrilliantStars],[g.PoetOfMourningCollapse,g.PoetOfMourningCollapse],...Ie],ornamentSets:[g.TaliaKingdomOfBanditry,g.InertSalsotto,g.SpaceSealingStation,g.FirmamentFrontlineGlamoth,...Kt,...ve],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1215:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:.75,[a.DEF_P]:.75,[a.HP]:.75,[a.HP_P]:.75,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:.5,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[],[f.Feet]:[a.SPD],[f.PlanarSphere]:[],[f.LinkRope]:[a.ERR]},presets:[],sortOption:Z.SPD,hiddenColumns:[Z.ULT,Z.FUA,Z.DOT]},1217:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:.75,[a.DEF_P]:.75,[a.HP]:1,[a.HP_P]:1,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:.75,[a.BE]:0,[a.ERR]:1,[a.OHB]:1,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.HP_P,a.OHB],[f.Feet]:[a.SPD,a.HP_P],[f.PlanarSphere]:[a.HP_P],[f.LinkRope]:[a.HP_P,a.ERR]},presets:[],sortOption:Z.HEAL,addedColumns:[Z.OHB,Z.HEAL],hiddenColumns:[Z.SKILL,Z.ULT,Z.FUA,Z.DOT]},1218:{stats:{[m.Stats.ATK]:.5,[m.Stats.ATK_P]:.5,[m.Stats.DEF]:.5,[m.Stats.DEF_P]:.5,[m.Stats.HP]:.5,[m.Stats.HP_P]:.5,[m.Stats.SPD]:1,[m.Stats.CR]:0,[m.Stats.CD]:0,[m.Stats.EHR]:1,[m.Stats.RES]:.5,[m.Stats.BE]:0,[m.Stats.ERR]:0,[m.Stats.OHB]:0,[m.Stats.Physical_DMG]:0,[m.Stats.Fire_DMG]:1,[m.Stats.Ice_DMG]:0,[m.Stats.Lightning_DMG]:0,[m.Stats.Wind_DMG]:0,[m.Stats.Quantum_DMG]:0,[m.Stats.Imaginary_DMG]:0},parts:{[m.Parts.Body]:[m.Stats.EHR],[m.Parts.Feet]:[m.Stats.SPD],[m.Parts.PlanarSphere]:[],[m.Parts.LinkRope]:[m.Stats.ATK_P,m.Stats.ERR]},presets:[le.PRISONER_SET],sortOption:Z.EHR,hiddenColumns:[Z.FUA]},1220:{stats:{[m.Stats.ATK]:.75,[m.Stats.ATK_P]:.75,[m.Stats.DEF]:0,[m.Stats.DEF_P]:0,[m.Stats.HP]:0,[m.Stats.HP_P]:0,[m.Stats.SPD]:1,[m.Stats.CR]:1,[m.Stats.CD]:1,[m.Stats.EHR]:0,[m.Stats.RES]:0,[m.Stats.BE]:0,[m.Stats.ERR]:0,[m.Stats.OHB]:0,[m.Stats.Physical_DMG]:0,[m.Stats.Fire_DMG]:0,[m.Stats.Ice_DMG]:0,[m.Stats.Lightning_DMG]:0,[m.Stats.Wind_DMG]:1,[m.Stats.Quantum_DMG]:0,[m.Stats.Imaginary_DMG]:0},parts:{[m.Parts.Body]:[m.Stats.CR,m.Stats.CD],[m.Parts.Feet]:[m.Stats.ATK_P,m.Stats.SPD],[m.Parts.PlanarSphere]:[m.Stats.ATK_P,m.Stats.Wind_DMG],[m.Parts.LinkRope]:[m.Stats.ATK_P]},presets:[le.fnAshblazingSet(1),le.VALOROUS_SET],sortOption:Z.ULT,hiddenColumns:[Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Wind_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.ATK_P,a.CR,a.CD,a.ATK],comboAbilities:[Ee,Ze,ne,Le,Le,Ze,ne,Le,Le],comboDot:0,comboBreak:0,relicSets:[[g.TheWindSoaringValorous,g.TheWindSoaringValorous],[g.TheAshblazingGrandDuke,g.TheAshblazingGrandDuke],[g.EagleOfTwilightLine,g.EagleOfTwilightLine],...Ie],ornamentSets:[g.DuranDynastyOfRunningWolves,...Kt,...ve],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1221:{stats:{[m.Stats.ATK]:.75,[m.Stats.ATK_P]:.75,[m.Stats.DEF]:0,[m.Stats.DEF_P]:0,[m.Stats.HP]:0,[m.Stats.HP_P]:0,[m.Stats.SPD]:1,[m.Stats.CR]:1,[m.Stats.CD]:1,[m.Stats.EHR]:0,[m.Stats.RES]:0,[m.Stats.BE]:0,[m.Stats.ERR]:0,[m.Stats.OHB]:0,[m.Stats.Physical_DMG]:1,[m.Stats.Fire_DMG]:0,[m.Stats.Ice_DMG]:0,[m.Stats.Lightning_DMG]:0,[m.Stats.Wind_DMG]:0,[m.Stats.Quantum_DMG]:0,[m.Stats.Imaginary_DMG]:0},parts:{[m.Parts.Body]:[m.Stats.CR,m.Stats.CD],[m.Parts.Feet]:[m.Stats.ATK_P,m.Stats.SPD],[m.Parts.PlanarSphere]:[m.Stats.ATK_P,m.Stats.Physical_DMG],[m.Parts.LinkRope]:[m.Stats.ATK_P]},presets:[le.VALOROUS_SET,le.fnPioneerSet(4),le.fnAshblazingSet(8)],sortOption:Z.FUA,hiddenColumns:[Z.ULT,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Physical_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],errRopeEidolon:0,comboAbilities:[Ee,Ze,ne,Le],comboDot:0,comboBreak:0,relicSets:[[g.TheWindSoaringValorous,g.TheWindSoaringValorous],...Ie],ornamentSets:[g.DuranDynastyOfRunningWolves,...Kt,...ve],teammates:[{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1202",lightCone:"21018",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1222:{stats:{[m.Stats.ATK]:.75,[m.Stats.ATK_P]:.75,[m.Stats.DEF]:.5,[m.Stats.DEF_P]:.5,[m.Stats.HP]:.5,[m.Stats.HP_P]:.5,[m.Stats.SPD]:1,[m.Stats.CR]:0,[m.Stats.CD]:0,[m.Stats.EHR]:0,[m.Stats.RES]:.75,[m.Stats.BE]:1,[m.Stats.ERR]:1,[m.Stats.OHB]:0,[m.Stats.Physical_DMG]:0,[m.Stats.Fire_DMG]:1,[m.Stats.Ice_DMG]:0,[m.Stats.Lightning_DMG]:0,[m.Stats.Wind_DMG]:0,[m.Stats.Quantum_DMG]:0,[m.Stats.Imaginary_DMG]:0},parts:{[m.Parts.Body]:[m.Stats.ATK_P,m.Stats.OHB,m.Stats.DEF_P,m.Stats.HP_P],[m.Parts.Feet]:[m.Stats.SPD],[m.Parts.PlanarSphere]:[m.Stats.ATK_P,m.Stats.DEF_P,m.Stats.HP_P,m.Stats.Fire_DMG],[m.Parts.LinkRope]:[m.Stats.BE,m.Stats.ERR,m.Stats.ATK_P]},presets:[le.BANANA_SET,le.fnAshblazingSet(6),le.VALOROUS_SET],sortOption:Z.BE,addedColumns:[Z.OHB,Z.HEAL],hiddenColumns:[Z.DOT]},1223:{stats:{[m.Stats.ATK]:.75,[m.Stats.ATK_P]:.75,[m.Stats.DEF]:0,[m.Stats.DEF_P]:0,[m.Stats.HP]:0,[m.Stats.HP_P]:0,[m.Stats.SPD]:1,[m.Stats.CR]:1,[m.Stats.CD]:1,[m.Stats.EHR]:0,[m.Stats.RES]:0,[m.Stats.BE]:0,[m.Stats.ERR]:0,[m.Stats.OHB]:0,[m.Stats.Physical_DMG]:0,[m.Stats.Fire_DMG]:0,[m.Stats.Ice_DMG]:0,[m.Stats.Lightning_DMG]:1,[m.Stats.Wind_DMG]:0,[m.Stats.Quantum_DMG]:0,[m.Stats.Imaginary_DMG]:0},parts:{[m.Parts.Body]:[m.Stats.CR,m.Stats.CD],[m.Parts.Feet]:[m.Stats.ATK_P,m.Stats.SPD],[m.Parts.PlanarSphere]:[m.Stats.ATK_P,m.Stats.Lightning_DMG],[m.Parts.LinkRope]:[m.Stats.ATK_P]},presets:[le.fnPioneerSet(4),le.fnAshblazingSet(6),le.VALOROUS_SET],sortOption:Z.FUA,hiddenColumns:[Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Lightning_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.ATK_P,a.CR,a.CD,a.ATK],comboAbilities:[Ee,ne,Ze,Le,Le],comboDot:0,comboBreak:0,deprioritizeBuffs:!0,relicSets:[[g.PioneerDiverOfDeadWaters,g.PioneerDiverOfDeadWaters],[g.TheAshblazingGrandDuke,g.TheAshblazingGrandDuke],...Ie],ornamentSets:[g.DuranDynastyOfRunningWolves,g.IzumoGenseiAndTakamaDivineRealm,...Kt,...ve],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1224:{stats:{[m.Stats.ATK]:.75,[m.Stats.ATK_P]:.75,[m.Stats.DEF]:0,[m.Stats.DEF_P]:0,[m.Stats.HP]:0,[m.Stats.HP_P]:0,[m.Stats.SPD]:1,[m.Stats.CR]:1,[m.Stats.CD]:1,[m.Stats.EHR]:0,[m.Stats.RES]:0,[m.Stats.BE]:0,[m.Stats.ERR]:0,[m.Stats.OHB]:0,[m.Stats.Physical_DMG]:0,[m.Stats.Fire_DMG]:0,[m.Stats.Ice_DMG]:0,[m.Stats.Lightning_DMG]:0,[m.Stats.Wind_DMG]:0,[m.Stats.Quantum_DMG]:0,[m.Stats.Imaginary_DMG]:1},parts:{[m.Parts.Body]:[m.Stats.CR,m.Stats.CD],[m.Parts.Feet]:[m.Stats.ATK_P,m.Stats.SPD],[m.Parts.PlanarSphere]:[m.Stats.ATK_P,m.Stats.Imaginary_DMG],[m.Parts.LinkRope]:[m.Stats.ATK_P]},presets:[le.fnAshblazingSet(2),le.VALOROUS_SET],sortOption:Z.BASIC,hiddenColumns:[Z.SKILL,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Imaginary_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.ATK_P,a.CR,a.CD,a.ATK],comboAbilities:[Ee,Ze,Qe,Le],comboDot:0,comboBreak:0,deprioritizeBuffs:!0,relicSets:[[g.MusketeerOfWildWheat,g.MusketeerOfWildWheat],[g.WastelanderOfBanditryDesert,g.WastelanderOfBanditryDesert],...Ie],ornamentSets:[g.RutilantArena,g.IzumoGenseiAndTakamaDivineRealm,...ve],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1225:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:1,[a.RES]:0,[a.BE]:1,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:1,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[],[f.Feet]:[a.SPD],[f.PlanarSphere]:[],[f.LinkRope]:[a.ERR,a.BE]},presets:[],sortOption:Z.BASIC,hiddenColumns:[Z.SKILL,Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.ATK_P,a.EHR],[f.Feet]:[a.SPD,a.ATK_P],[f.PlanarSphere]:[a.ATK_P,a.Fire_DMG],[f.LinkRope]:[a.BE]},substats:[a.BE,a.ATK_P,a.CR,a.CD,a.EHR],errRopeEidolon:0,breakpoints:{[a.EHR]:.67},comboAbilities:[Ee,Ze,Qe,Qe,Qe],comboDot:0,comboBreak:3,deprioritizeBuffs:!0,relicSets:[[g.ThiefOfShootingMeteor,g.ThiefOfShootingMeteor],[g.EagleOfTwilightLine,g.EagleOfTwilightLine],Eo,...Ie],ornamentSets:[g.ForgeOfTheKalpagniLantern,g.TaliaKingdomOfBanditry,...Jc],teammates:[{characterId:"1310",lightCone:"23025",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1222",lightCone:"23032",characterEidolon:0,lightConeSuperimposition:1}]}},1301:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:.75,[a.DEF_P]:.75,[a.HP]:.75,[a.HP_P]:.75,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:.75,[a.BE]:1,[a.ERR]:1,[a.OHB]:1,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.OHB],[f.Feet]:[a.SPD],[f.PlanarSphere]:[],[f.LinkRope]:[a.ERR,a.BE]},presets:[],sortOption:Z.BE,addedColumns:[Z.OHB,Z.HEAL],hiddenColumns:[Z.SKILL,Z.FUA,Z.DOT]},1302:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:1,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.Physical_DMG,a.ATK_P],[f.LinkRope]:[a.ATK_P]},presets:[],sortOption:Z.ULT,hiddenColumns:[Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Physical_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,ne,ne],comboDot:0,comboBreak:0,errRopeEidolon:0,relicSets:[[g.ScholarLostInErudition,g.ScholarLostInErudition],[g.ChampionOfStreetwiseBoxing,g.ChampionOfStreetwiseBoxing],...Ie],ornamentSets:[g.InertSalsotto,...ve,g.FirmamentFrontlineGlamoth],teammates:[{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1202",lightCone:"21018",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1303:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:.5,[a.DEF_P]:.5,[a.HP]:.5,[a.HP_P]:.5,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:.5,[a.BE]:1,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[],[f.Feet]:[],[f.PlanarSphere]:[],[f.LinkRope]:[a.ERR,a.BE]},presets:[],sortOption:Z.BE,hiddenColumns:[Z.SKILL,Z.ULT,Z.FUA,Z.DOT]},1304:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:1,[a.DEF_P]:1,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:1},parts:{[f.Body]:[a.DEF_P,a.CR,a.CD],[f.Feet]:[a.DEF_P,a.SPD],[f.PlanarSphere]:[a.Imaginary_DMG,a.DEF_P],[f.LinkRope]:[a.DEF_P,a.ERR]},presets:[le.VALOROUS_SET,le.fnPioneerSet(4)],sortOption:Z.FUA,addedColumns:[Z.SHIELD],hiddenColumns:[Z.SKILL,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD,a.DEF_P],[f.Feet]:[a.DEF_P,a.SPD],[f.PlanarSphere]:[a.DEF_P,a.Imaginary_DMG],[f.LinkRope]:[a.DEF_P]},substats:[a.CD,a.CR,a.DEF_P,a.DEF],breakpoints:{[a.DEF]:4e3},comboAbilities:[Ee,Ze,Qe,Le,Qe,Le],comboDot:0,comboBreak:0,deprioritizeBuffs:!0,relicSets:[[g.PioneerDiverOfDeadWaters,g.PioneerDiverOfDeadWaters],[g.KnightOfPurityPalace,g.KnightOfPurityPalace],[g.TheAshblazingGrandDuke,g.KnightOfPurityPalace,g.PioneerDiverOfDeadWaters],...Ie],ornamentSets:[g.DuranDynastyOfRunningWolves,g.InertSalsotto,...Kt,...ve,...Ac],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1305",lightCone:"23020",characterEidolon:0,lightConeSuperimposition:1}]}},1305:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:1},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Imaginary_DMG],[f.LinkRope]:[a.ATK_P]},presets:[le.fnAshblazingSet(1),le.fnPioneerSet(4),le.VALOROUS_SET,le.WASTELANDER_SET],sortOption:Z.FUA,hiddenColumns:[Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Imaginary_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,Le,Le,ne,Le,Le],comboDot:0,comboBreak:0,relicSets:[[g.PioneerDiverOfDeadWaters,g.PioneerDiverOfDeadWaters],...Ie],ornamentSets:[g.DuranDynastyOfRunningWolves,g.IzumoGenseiAndTakamaDivineRealm,...Kt,...ve],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1306:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:.5,[a.DEF_P]:.5,[a.HP]:.5,[a.HP_P]:.5,[a.SPD]:1,[a.CR]:0,[a.CD]:1,[a.EHR]:0,[a.RES]:.5,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CD],[f.Feet]:[a.SPD],[f.PlanarSphere]:[],[f.LinkRope]:[a.ERR]},presets:[],sortOption:Z.CD,hiddenColumns:[Z.SKILL,Z.ULT,Z.FUA,Z.DOT]},1307:{stats:{[a.ATK]:1,[a.ATK_P]:1,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:1,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:1,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.ATK_P,a.EHR],[f.Feet]:[a.SPD,a.ATK_P],[f.PlanarSphere]:[a.Wind_DMG,a.ATK_P],[f.LinkRope]:[a.ATK_P]},presets:[le.PRISONER_SET],sortOption:Z.DOT,hiddenColumns:[Z.FUA],simulation:{parts:{[f.Body]:[a.EHR,a.ATK_P],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Wind_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.ATK_P,a.EHR,a.ATK,a.CR,a.CD],breakpoints:{[a.EHR]:1.2},comboAbilities:[Ee,ne,Ze,Qe,Qe],comboDot:16,comboBreak:0,relicSets:[[g.PrisonerInDeepConfinement,g.PrisonerInDeepConfinement],...Ie],ornamentSets:[g.FirmamentFrontlineGlamoth,g.PanCosmicCommercialEnterprise],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1308:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:1,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD,a.ATK_P],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.Lightning_DMG,a.ATK_P],[f.LinkRope]:[a.ATK_P]},presets:[le.fnPioneerSet(4)],sortOption:Z.ULT,hiddenColumns:[Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.ATK_P,a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Lightning_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,ne],comboDot:0,comboBreak:0,relicSets:[[g.PioneerDiverOfDeadWaters,g.PioneerDiverOfDeadWaters],...Ie],ornamentSets:[g.IzumoGenseiAndTakamaDivineRealm,...ve],teammates:[{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1006",lightCone:"23007",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"21016",characterEidolon:0,lightConeSuperimposition:5}]}},1309:{stats:{[a.ATK]:1,[a.ATK_P]:1,[a.DEF]:.5,[a.DEF_P]:.5,[a.HP]:.5,[a.HP_P]:.5,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:.5,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:1,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.ATK_P],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Physical_DMG],[m.Parts.LinkRope]:[a.ERR]},presets:[],sortOption:Z.ATK,hiddenColumns:[Z.SKILL,Z.FUA,Z.DOT]},1310:{stats:{[m.Stats.ATK]:.5,[m.Stats.ATK_P]:.5,[m.Stats.DEF]:0,[m.Stats.DEF_P]:0,[m.Stats.HP]:0,[m.Stats.HP_P]:0,[m.Stats.SPD]:1,[m.Stats.CR]:0,[m.Stats.CD]:0,[m.Stats.EHR]:0,[m.Stats.RES]:0,[m.Stats.BE]:1,[m.Stats.ERR]:0,[m.Stats.OHB]:0,[m.Stats.Physical_DMG]:0,[m.Stats.Fire_DMG]:0,[m.Stats.Ice_DMG]:0,[m.Stats.Lightning_DMG]:0,[m.Stats.Wind_DMG]:0,[m.Stats.Quantum_DMG]:0,[m.Stats.Imaginary_DMG]:0},parts:{[m.Parts.Body]:[m.Stats.ATK_P],[m.Parts.Feet]:[m.Stats.ATK_P,m.Stats.SPD],[m.Parts.PlanarSphere]:[m.Stats.ATK_P],[m.Parts.LinkRope]:[m.Stats.BE]},presets:[],sortOption:Z.SKILL,hiddenColumns:[Z.ULT,Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.ATK_P],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P],[f.LinkRope]:[a.BE]},substats:[a.BE,a.ATK_P,a.ATK,a.CR,a.CD],comboAbilities:[Ee,Ze,ne,ne,ne],comboDot:0,comboBreak:1,relicSets:[[g.IronCavalryAgainstTheScourge,g.IronCavalryAgainstTheScourge],...Ie],ornamentSets:[g.ForgeOfTheKalpagniLantern],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1312:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:1,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Ice_DMG],[f.LinkRope]:[a.ATK_P]},presets:[le.fnPioneerSet(4)],sortOption:Z.ULT,hiddenColumns:[Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Ice_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,ne,ne],comboDot:0,comboBreak:0,relicSets:[[g.ScholarLostInErudition,g.ScholarLostInErudition],[g.PioneerDiverOfDeadWaters,g.PioneerDiverOfDeadWaters],...Ie],ornamentSets:[g.RutilantArena,g.FirmamentFrontlineGlamoth,g.InertSalsotto,...ve],teammates:[{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1313:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:.5,[a.DEF_P]:.5,[a.HP]:.5,[a.HP_P]:.5,[a.SPD]:1,[a.CR]:0,[a.CD]:1,[a.EHR]:0,[a.RES]:.75,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:1},parts:{[f.Body]:[a.CD],[f.Feet]:[],[f.PlanarSphere]:[],[f.LinkRope]:[a.ERR]},presets:[],sortOption:Z.CD,hiddenColumns:[Z.SKILL,Z.ULT,Z.FUA,Z.DOT]},1314:{stats:{[m.Stats.ATK]:.75,[m.Stats.ATK_P]:.75,[m.Stats.DEF]:0,[m.Stats.DEF_P]:0,[m.Stats.HP]:0,[m.Stats.HP_P]:0,[m.Stats.SPD]:1,[m.Stats.CR]:1,[m.Stats.CD]:1,[m.Stats.EHR]:0,[m.Stats.RES]:0,[m.Stats.BE]:0,[m.Stats.ERR]:0,[m.Stats.OHB]:0,[m.Stats.Physical_DMG]:0,[m.Stats.Fire_DMG]:0,[m.Stats.Ice_DMG]:0,[m.Stats.Lightning_DMG]:0,[m.Stats.Wind_DMG]:0,[m.Stats.Quantum_DMG]:1,[m.Stats.Imaginary_DMG]:0},parts:{[m.Parts.Body]:[m.Stats.CR,m.Stats.CD],[m.Parts.Feet]:[m.Stats.ATK_P,m.Stats.SPD],[m.Parts.PlanarSphere]:[m.Stats.ATK_P,m.Stats.Quantum_DMG],[m.Parts.LinkRope]:[m.Stats.ATK_P]},presets:[le.VALOROUS_SET,le.fnAshblazingSet(8)],sortOption:Z.FUA,hiddenColumns:[Z.SKILL,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Quantum_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,Le,Qe,Le,Qe],comboDot:0,comboBreak:0,relicSets:[[g.GeniusOfBrilliantStars,g.GeniusOfBrilliantStars],[g.TheAshblazingGrandDuke,g.TheAshblazingGrandDuke],[g.PoetOfMourningCollapse,g.PoetOfMourningCollapse],...Ie],ornamentSets:[g.DuranDynastyOfRunningWolves,g.IzumoGenseiAndTakamaDivineRealm,...Kt,...ve],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1315:{stats:{[a.ATK]:.25,[a.ATK_P]:.25,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:.25,[a.CD]:.25,[a.EHR]:0,[a.RES]:0,[a.BE]:1,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:1,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[],[f.Feet]:[a.SPD],[f.PlanarSphere]:[],[f.LinkRope]:[a.BE]},presets:[],sortOption:Z.BASIC,hiddenColumns:[Z.SKILL,Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.SPD],[f.PlanarSphere]:[a.Physical_DMG,a.ATK_P],[f.LinkRope]:[a.BE]},substats:[a.BE,a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,Qe,Qe,Qe],comboDot:0,comboBreak:1,relicSets:[[g.ThiefOfShootingMeteor,g.WatchmakerMasterOfDreamMachinations],[g.IronCavalryAgainstTheScourge,g.IronCavalryAgainstTheScourge],Eo,...Ie],ornamentSets:[g.TaliaKingdomOfBanditry],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1317:{stats:{[a.ATK]:.5,[a.ATK_P]:.5,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:0,[a.BE]:1,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:1},parts:{[f.Body]:[],[f.Feet]:[a.SPD],[f.PlanarSphere]:[],[f.LinkRope]:[a.BE]},presets:[le.WASTELANDER_SET],sortOption:Z.BASIC,hiddenColumns:[Z.ULT,Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.ATK_P],[f.Feet]:[a.SPD],[f.PlanarSphere]:[a.Imaginary_DMG,a.ATK_P],[f.LinkRope]:[a.BE]},substats:[a.BE,a.ATK_P,a.ATK,a.CD,a.CR],breakpoints:{[a.ATK]:3200},comboAbilities:[Ee,Ze,Qe,Qe,Qe,ne],comboDot:0,comboBreak:1,relicSets:[[g.IronCavalryAgainstTheScourge,g.IronCavalryAgainstTheScourge],[g.EagleOfTwilightLine,g.EagleOfTwilightLine],...Ie],ornamentSets:[g.TaliaKingdomOfBanditry],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1222",lightCone:"23032",characterEidolon:0,lightConeSuperimposition:1}]}},8001:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:.5,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:1,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Physical_DMG],[f.LinkRope]:[a.ATK_P,a.BE]},presets:[],sortOption:Z.SKILL,hiddenColumns:[Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Physical_DMG],[f.LinkRope]:[a.ATK_P,a.BE]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,ne,ne],comboDot:0,comboBreak:1,relicSets:[[g.ScholarLostInErudition,g.ScholarLostInErudition],...Ie],ornamentSets:[g.RutilantArena,g.FirmamentFrontlineGlamoth,...ve],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},8002:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:.5,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:1,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Physical_DMG],[f.LinkRope]:[a.ATK_P,a.BE]},presets:[],sortOption:Z.SKILL,hiddenColumns:[Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Physical_DMG],[f.LinkRope]:[a.ATK_P,a.BE]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,ne,ne],comboDot:0,comboBreak:1,relicSets:[[g.ScholarLostInErudition,g.ScholarLostInErudition],...Ie],ornamentSets:[g.RutilantArena,g.FirmamentFrontlineGlamoth,...ve],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},8003:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:1,[a.DEF_P]:1,[a.HP]:.5,[a.HP_P]:.5,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:.75,[a.RES]:.75,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.DEF_P],[f.Feet]:[a.DEF_P,a.SPD],[f.PlanarSphere]:[a.DEF_P],[f.LinkRope]:[a.DEF_P,a.ERR]},presets:[],sortOption:Z.SHIELD,addedColumns:[Z.SHIELD],hiddenColumns:[Z.SKILL,Z.FUA,Z.DOT]},8004:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:1,[a.DEF_P]:1,[a.HP]:.5,[a.HP_P]:.5,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:.75,[a.RES]:.75,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.DEF_P],[f.Feet]:[a.DEF_P,a.SPD],[f.PlanarSphere]:[a.DEF_P],[f.LinkRope]:[a.DEF_P,a.ERR]},presets:[],sortOption:Z.SHIELD,addedColumns:[Z.SHIELD],hiddenColumns:[Z.SKILL,Z.FUA,Z.DOT]},8005:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:.5,[a.DEF_P]:.5,[a.HP]:.5,[a.HP_P]:.5,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:.5,[a.BE]:1,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[],[f.Feet]:[a.SPD],[f.PlanarSphere]:[],[f.LinkRope]:[a.BE,a.ERR]},presets:[],sortOption:Z.BE,hiddenColumns:[Z.ULT,Z.FUA,Z.DOT]},8006:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:.5,[a.DEF_P]:.5,[a.HP]:.5,[a.HP_P]:.5,[a.SPD]:1,[a.CR]:0,[a.CD]:0,[a.EHR]:0,[a.RES]:.5,[a.BE]:1,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[],[f.Feet]:[a.SPD],[f.PlanarSphere]:[],[f.LinkRope]:[a.BE,a.ERR]},presets:[],sortOption:Z.BE,hiddenColumns:[Z.ULT,Z.FUA,Z.DOT]},8007:{stats:{[a.ATK]:.25,[a.ATK_P]:.25,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:.25,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:1,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[],[f.LinkRope]:[a.ATK_P,a.ERR]},presets:[le.BANANA_SET],sortOption:Z.CD,hiddenColumns:[Z.SKILL,Z.FUA,Z.DOT],addedColumns:[Z.MEMO_SKILL]},8008:{stats:{[a.ATK]:.25,[a.ATK_P]:.25,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:.25,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:1,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[],[f.LinkRope]:[a.ATK_P,a.ERR]},presets:[le.BANANA_SET],sortOption:Z.CD,hiddenColumns:[Z.SKILL,Z.FUA,Z.DOT],addedColumns:[Z.MEMO_SKILL]},1401:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:1,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Ice_DMG],[f.LinkRope]:[a.ATK_P,a.ERR]},presets:[],sortOption:Z.SKILL,hiddenColumns:[Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Ice_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne],comboDot:0,comboBreak:0,errRopeEidolon:0,relicSets:[[g.ScholarLostInErudition,g.ScholarLostInErudition],...Ie],ornamentSets:[g.IzumoGenseiAndTakamaDivineRealm,g.RutilantArena,...ve],teammates:[{characterId:"1314",lightCone:"23028",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1222",lightCone:"23032",characterEidolon:0,lightConeSuperimposition:1}]}},1402:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:1,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:1,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Lightning_DMG],[f.LinkRope]:[a.ERR,a.ATK_P,a.ERR]},presets:[le.BANANA_SET],sortOption:Z.BASIC,hiddenColumns:[Z.SKILL,Z.ULT,Z.FUA,Z.DOT],addedColumns:[Z.MEMO_SKILL,Z.MEMO_TALENT],simulation:{parts:{[f.Body]:[a.CR,a.CD],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Lightning_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,Qe,Vn,Vn,Qe,Vn],comboDot:0,comboBreak:0,errRopeEidolon:0,relicSets:[[g.HeroOfTriumphantSong,g.HeroOfTriumphantSong],...Ie],ornamentSets:[g.TheWondrousBananAmusementPark,g.RutilantArena,...ve],teammates:[{characterId:"1313",lightCone:"23034",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1403:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:.75,[a.HP_P]:.75,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:1,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CD,a.CR,a.HP_P],[f.Feet]:[a.SPD,a.HP_P],[f.PlanarSphere]:[a.Quantum_DMG,a.HP_P],[f.LinkRope]:[a.HP_P,a.ERR]},presets:[le.VALOROUS_SET],sortOption:Z.FUA,hiddenColumns:[],simulation:{parts:{[f.Body]:[a.CR,a.CD,a.HP_P],[f.Feet]:[a.HP_P,a.SPD],[f.PlanarSphere]:[a.HP_P,a.Quantum_DMG],[f.LinkRope]:[a.HP_P]},substats:[a.CD,a.CR,a.HP_P,a.HP,a.ATK_P],comboAbilities:[Ee,Ze,Le,Qe,Le,Le],comboDot:0,comboBreak:0,errRopeEidolon:0,deprioritizeBuffs:!0,relicSets:[[g.GeniusOfBrilliantStars,g.GeniusOfBrilliantStars],[g.LongevousDisciple,g.LongevousDisciple],[g.PoetOfMourningCollapse,g.PoetOfMourningCollapse],...Ie],ornamentSets:[g.BoneCollectionsSereneDemesne,...Kt,...ve,...Ac],teammates:[{characterId:"1401",lightCone:"23037",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1103",lightCone:"20013",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1222",lightCone:"23032",characterEidolon:0,lightConeSuperimposition:1}]}},1404:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:1,[a.HP_P]:1,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:1},parts:{[f.Body]:[a.CD,a.CR,a.HP_P],[f.Feet]:[a.SPD,a.HP_P],[f.PlanarSphere]:[a.Imaginary_DMG,a.HP_P],[f.LinkRope]:[a.HP_P]},presets:[le.WASTELANDER_SET],sortOption:Z.SKILL,hiddenColumns:[],simulation:{parts:{[f.Body]:[a.CD,a.HP_P],[f.Feet]:[a.HP_P,a.SPD],[f.PlanarSphere]:[a.HP_P,a.Imaginary_DMG],[f.LinkRope]:[a.HP_P]},substats:[a.CD,a.CR,a.HP_P,a.HP],comboAbilities:[Ee,ne,Ze,ne],comboDot:0,comboBreak:0,relicSets:[[g.ScholarLostInErudition,g.ScholarLostInErudition],...Ie],ornamentSets:[g.BoneCollectionsSereneDemesne,g.RutilantArena,...ve],teammates:[{characterId:"1313",lightCone:"23034",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1403",lightCone:"23038",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1203",lightCone:"23008",characterEidolon:0,lightConeSuperimposition:1}]}},1405:{stats:{[a.ATK]:.75,[a.ATK_P]:.75,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:0,[a.HP_P]:0,[a.SPD]:1,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:1,[a.Quantum_DMG]:0,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD,a.ATK_P],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Wind_DMG],[f.LinkRope]:[a.ATK_P]},presets:[le.fnPioneerSet(4),le.GENIUS_SET],sortOption:Z.SKILL,hiddenColumns:[Z.FUA,Z.DOT],simulation:{parts:{[f.Body]:[a.CR,a.CD,a.ATK_P],[f.Feet]:[a.ATK_P,a.SPD],[f.PlanarSphere]:[a.ATK_P,a.Wind_DMG],[f.LinkRope]:[a.ATK_P]},substats:[a.CD,a.CR,a.ATK_P,a.ATK],comboAbilities:[Ee,Ze,ne,ne,ne,ne],comboDot:0,comboBreak:0,errRopeEidolon:0,deprioritizeBuffs:!1,relicSets:[[g.GeniusOfBrilliantStars,g.GeniusOfBrilliantStars],[g.PioneerDiverOfDeadWaters,g.PioneerDiverOfDeadWaters],[g.ScholarLostInErudition,g.ScholarLostInErudition],...Ie],ornamentSets:[g.RutilantArena,g.FirmamentFrontlineGlamoth,g.IzumoGenseiAndTakamaDivineRealm,g.SpaceSealingStation,g.FirmamentFrontlineGlamoth,...ve],teammates:[{characterId:"1313",lightCone:"23034",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1407:{stats:{[a.ATK]:0,[a.ATK_P]:0,[a.DEF]:0,[a.DEF_P]:0,[a.HP]:1,[a.HP_P]:1,[a.SPD]:0,[a.CR]:1,[a.CD]:1,[a.EHR]:0,[a.RES]:0,[a.BE]:0,[a.ERR]:0,[a.OHB]:0,[a.Physical_DMG]:0,[a.Fire_DMG]:0,[a.Ice_DMG]:0,[a.Lightning_DMG]:0,[a.Wind_DMG]:0,[a.Quantum_DMG]:1,[a.Imaginary_DMG]:0},parts:{[f.Body]:[a.CR,a.CD,a.HP_P],[f.Feet]:[a.HP_P],[f.PlanarSphere]:[a.HP_P,a.Quantum_DMG],[f.LinkRope]:[a.HP_P]},presets:[le.BANANA_SET],sortOption:Z.MEMO_SKILL,addedColumns:[Z.MEMO_SKILL,Z.MEMO_TALENT],hiddenColumns:[Z.FUA,Z.DOT,Z.ULT],simulation:{parts:{[f.Body]:[a.CR,a.CD,a.HP_P],[f.Feet]:[a.HP_P,a.SPD],[f.PlanarSphere]:[a.HP_P,a.Quantum_DMG],[f.LinkRope]:[a.HP_P]},substats:[a.CD,a.CR,a.HP_P,a.HP],comboAbilities:[Ee,ne,ne,Ze,Vn,Vn,Vn,Vn,BZ],comboDot:0,comboBreak:0,relicSets:[[g.PoetOfMourningCollapse,g.PoetOfMourningCollapse],...Ie],ornamentSets:[g.BoneCollectionsSereneDemesne,...ve],teammates:[{characterId:"1403",lightCone:"23038",characterEidolon:0,lightConeSuperimposition:1},{characterId:"8008",lightCone:"21050",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1222",lightCone:"23032",characterEidolon:0,lightConeSuperimposition:1}]}}}}window.WorkerPool=Pa;window.Constants=m;window.DataParser=Lm;window.DB=I;window.Assets=k;window.RelicAugmenter=jn;window.StatCalculator=Ct;window.Gradient=fe;window.SaveState=Te;window.RelicFilters=qe;window.Renderer=Y;window.Message=_;window.Hint=ut;window.CharacterConverter=M0;window.RelicScorer=dt;window.BufferPacker=fs;window.RelicRollFixer=Bi;window.colorTheme=vo.BLUE;Lm.initialize();Te.load(!1);jd(!1);const wZ=({error:e})=>i.jsxs(ye,{children:["Something went wrong: ",e.message]});document.addEventListener("DOMContentLoaded",function(){const e=Cb.createRoot(document.getElementById("root"));Db(document.body,{}),e.render(i.jsx(t0,{fallbackRender:wZ,children:i.jsx(VZ,{})}))});export{kt as A,gn as B,Ra as C,Cl as D,er as E,Sa as F,zZ as G,On as H,h as K,KZ as N,Xi as P,L as S,y as T,Mt as U,eC as a,UZ as b,Ne as c,wt as d,sh as e,ss as f,$Z as g,ea as h,a as i,t1 as j,a1 as k,lh as l,QZ as m,qZ as n,Ob as o,Jn as p,Rs as q,fa as r,jZ as s,tC as t,xd as u,aC as v,ki as w,JZ as x,AZ as y,_Z as z};
