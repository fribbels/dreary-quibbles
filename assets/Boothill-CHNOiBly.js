import{T as E,S as L,A as g,C as M,h as N,i as d,K as C,r as x,s as w,a as K}from"./index-CUUFLx9X.js";import"./vendor-PqicMVLa.js";const W=(o,b)=>{const n=E.wrappedFixedT(b).get(null,"conditionals","Characters.Boothill"),{basic:B,skill:A,ult:k,talent:c}=K.ULT_BASIC_3_SKILL_TALENT_5,{SOURCE_BASIC:S,SOURCE_SKILL:_,SOURCE_ULT:T,SOURCE_TALENT:f,SOURCE_TECHNIQUE:F,SOURCE_TRACE:m,SOURCE_MEMO:G,SOURCE_E1:D,SOURCE_E2:I,SOURCE_E4:p,SOURCE_E6:Y}=L.character("1315"),h=A(o,.3,.33),V=B(o,1,1.1),U=B(o,2.2,2.42),O=k(o,4,4.32),R={0:0,1:c(o,.7,.77),2:c(o,1.2,1.32),3:c(o,1.7,1.87)},v={standoffActive:!0,pocketTrickshotStacks:3,beToCritBoost:!0,talentBreakDmgScaling:!0,e1DefShred:!0,e2BeBuff:!0,e4TargetStandoffVulnerability:!0,e6AdditionalBreakDmg:!0},y={standoffActive:{id:"standoffActive",formItem:"switch",text:n("Content.standoffActive.text"),content:n("Content.standoffActive.content",{standoffVulnerabilityBoost:E.precisionRound(100*h)})},pocketTrickshotStacks:{id:"pocketTrickshotStacks",formItem:"slider",text:n("Content.pocketTrickshotStacks.text"),content:n("Content.pocketTrickshotStacks.content"),min:0,max:3},beToCritBoost:{id:"beToCritBoost",formItem:"switch",text:n("Content.beToCritBoost.text"),content:n("Content.beToCritBoost.content")},talentBreakDmgScaling:{id:"talentBreakDmgScaling",formItem:"switch",text:n("Content.talentBreakDmgScaling.text"),content:n("Content.talentBreakDmgScaling.content")},e1DefShred:{id:"e1DefShred",formItem:"switch",text:n("Content.e1DefShred.text"),content:n("Content.e1DefShred.content"),disabled:o<1},e2BeBuff:{id:"e2BeBuff",formItem:"switch",text:n("Content.e2BeBuff.text"),content:n("Content.e2BeBuff.content"),disabled:o<2},e4TargetStandoffVulnerability:{id:"e4TargetStandoffVulnerability",formItem:"switch",text:n("Content.e4TargetStandoffVulnerability.text"),content:n("Content.e4TargetStandoffVulnerability.content"),disabled:o<4},e6AdditionalBreakDmg:{id:"e6AdditionalBreakDmg",formItem:"switch",text:n("Content.e6AdditionalBreakDmg.text"),content:n("Content.e6AdditionalBreakDmg.content"),disabled:o<6}};return{activeAbilities:[g.BASIC,g.ULT],content:()=>Object.values(y),defaults:()=>v,initializeConfigurations:(t,a,i)=>{a.characterConditionals.talentBreakDmgScaling&&t.ENEMY_WEAKNESS_BROKEN.config(1,f)},precomputeEffects:(t,a,i)=>{const e=a.characterConditionals;t.BE.buff(o>=2&&e.e2BeBuff?.3:0,I),t.VULNERABILITY.buff(e.standoffActive?h:0,_),t.DEF_PEN.buff(o>=1&&e.e1DefShred?.16:0,D),t.VULNERABILITY.buff(o>=4&&e.standoffActive&&e.e4TargetStandoffVulnerability?.12:0,p),t.BASIC_ATK_SCALING.buff(e.standoffActive?U:V,S),t.BASIC_BREAK_EFFICIENCY_BOOST.buff(e.standoffActive?e.pocketTrickshotStacks*.5:0,f),t.ULT_ATK_SCALING.buff(O,T),t.BASIC_TOUGHNESS_DMG.buff(e.standoffActive?20:10,S),t.ULT_TOUGHNESS_DMG.buff(30,T);const l=Math.min(16*30,i.enemyMaxToughness),r=1/(.5+i.enemyMaxToughness/120),u=.5+l/120;let s=R[e.pocketTrickshotStacks];return s+=o>=6&&e.e6AdditionalBreakDmg?.4:0,t.BASIC_BREAK_DMG_MODIFIER.buff(e.talentBreakDmgScaling&&e.standoffActive?r*u*s:0,f),t},finalizeCalculations:t=>{},gpuFinalizeCalculations:()=>"",dynamicConditionals:[{id:"BoothillConversionConditional",type:M.ABILITY,activation:N.CONTINUOUS,dependsOn:[d.BE],chainsTo:[d.CR,d.CD],condition:function(t,a,i){return a.characterConditionals.beToCritBoost},effect:function(t,a,i){const e=a.conditionalState[this.id]||0,l=Math.min(.3,.1*e),r=Math.min(1.5,.5*e),u=Math.min(.3,.1*t.a[C.BE]),s=Math.min(1.5,.5*t.a[C.BE]);a.conditionalState[this.id]=t.a[C.BE],t.CR.buffDynamic(u-l,m,a,i),t.CD.buffDynamic(s-r,m,a,i)},gpu:function(t,a){const i=t.characterConditionals;return x(this,`
if (${w(i.beToCritBoost)}) {
  return;
}

let be = x.BE;
let stateValue = (*p_state).BoothillConversionConditional;

let stateCrBuffValue = min(0.30, 0.10 * stateValue);
let stateCdBuffValue = min(1.50, 0.50 * stateValue);

let crBuffValue = min(0.30, 0.10 * be);
let cdBuffValue = min(1.50, 0.50 * be);

(*p_state).BoothillConversionConditional = be;

(*p_x).CR += crBuffValue - stateCrBuffValue;
(*p_x).CD += cdBuffValue - stateCdBuffValue;
    `)}}]}};export{W as default};
