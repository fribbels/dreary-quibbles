var or=Object.defineProperty;var cr=(t,e,i)=>e in t?or(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var Sa=(t,e,i)=>cr(t,typeof e!="symbol"?e+"":e,i);import{s as a0,i as V,v as i0,t as Ul,a as Ai,P as _,j as a,F as f,T as s0,R as Qi,b as sl,I as oi,c as Ce,d as xe,D as Ge,u as et,r as L,e as hi,B as w,f as es,g as ci,h as l0,E as Hl,k as Yn,l as pt,m as pe,n as rr,o as An,p as dr,q as On,w as ll,x as X,y as Oe,S as K,z as mn,C as ji,A as ns,G as ur,H as Xl,M as Ve,J as mr,K as o0,L as br,N as c0,O as Et,Q as ri,U as Kn,V as Ia,W as Yl,X as Te,Y as as,Z as r0,_ as ya,$ as d0,a0 as u0,a1 as Kl,a2 as hr,a3 as ua,a4 as pr,a5 as Rr,a6 as m0,a7 as ol,a8 as Sr,a9 as vl,aa as fr,ab as wl,ac as Gr,ad as Cr,ae as Zr,af as gr,ag as Ji,ah as Pi,ai as ki,aj as Tr,ak as b0,al as h0,am as p0,an as cl,ao as ni,ap as R0,aq as S0,ar as Js,as as Al,at as f0,au as rl,av as Dr,aw as Vr,ax as dl,ay as Wr,az as Ir,aA as Er,aB as xr,aC as di,aD as Lr,aE as yr,aF as Mr,aG as Fr,aH as Br,aI as Pr,aJ as kr,aK as Nr,aL as Ur,aM as Hr,aN as Xr,aO as Yr}from"./vendor-BIzc8ZQL.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}})();const Kr={1001:{id:"1001",name:"March 7th",rarity:4,path:"Preservation",element:"Ice",max_sp:120,stats:{HP:1058.4,ATK:511.56,DEF:573.3,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1002:{id:"1002",name:"Dan Heng",rarity:4,path:"Hunt",element:"Wind",max_sp:100,stats:{HP:882,ATK:546.84,DEF:396.9,SPD:110,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1003:{id:"1003",name:"Himeko",rarity:5,path:"Erudition",element:"Fire",max_sp:120,stats:{HP:1047.816,ATK:756.756,DEF:436.59,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1004:{id:"1004",name:"Welt",rarity:5,path:"Nihility",element:"Imaginary",max_sp:120,stats:{HP:1125.432,ATK:620.928,DEF:509.355,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1005:{id:"1005",name:"Kafka",rarity:5,path:"Nihility",element:"Lightning",max_sp:120,stats:{HP:1086.624,ATK:679.14,DEF:485.1,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1006:{id:"1006",name:"Silver Wolf",rarity:5,path:"Nihility",element:"Quantum",max_sp:110,stats:{HP:1047.816,ATK:640.332,DEF:460.845,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1008:{id:"1008",name:"Arlan",rarity:4,path:"Destruction",element:"Lightning",max_sp:110,stats:{HP:1199.52,ATK:599.76,DEF:330.75,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1009:{id:"1009",name:"Asta",rarity:4,path:"Harmony",element:"Fire",max_sp:120,stats:{HP:1023.12,ATK:511.56,DEF:463.05,SPD:106,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1013:{id:"1013",name:"Herta",rarity:4,path:"Erudition",element:"Ice",max_sp:110,stats:{HP:952.56,ATK:582.12,DEF:396.9,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1101:{id:"1101",name:"Bronya",rarity:5,path:"Harmony",element:"Wind",max_sp:120,stats:{HP:1241.856,ATK:582.12,DEF:533.61,SPD:99,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1102:{id:"1102",name:"Seele",rarity:5,path:"Hunt",element:"Quantum",max_sp:120,stats:{HP:931.392,ATK:640.332,DEF:363.825,SPD:115,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1103:{id:"1103",name:"Serval",rarity:4,path:"Erudition",element:"Lightning",max_sp:100,stats:{HP:917.28,ATK:652.68,DEF:374.85,SPD:104,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1104:{id:"1104",name:"Gepard",rarity:5,path:"Preservation",element:"Ice",max_sp:100,stats:{HP:1397.088,ATK:543.312,DEF:654.885,SPD:92,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1105:{id:"1105",name:"Natasha",rarity:4,path:"Abundance",element:"Physical",max_sp:90,stats:{HP:1164.24,ATK:476.28,DEF:507.15,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1106:{id:"1106",name:"Pela",rarity:4,path:"Nihility",element:"Ice",max_sp:110,stats:{HP:987.84,ATK:546.84,DEF:463.05,SPD:105,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1107:{id:"1107",name:"Clara",rarity:5,path:"Destruction",element:"Physical",max_sp:110,stats:{HP:1241.856,ATK:737.352,DEF:485.1,SPD:90,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1108:{id:"1108",name:"Sampo",rarity:4,path:"Nihility",element:"Wind",max_sp:120,stats:{HP:1023.12,ATK:617.4,DEF:396.9,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1109:{id:"1109",name:"Hook",rarity:4,path:"Destruction",element:"Fire",max_sp:120,stats:{HP:1340.64,ATK:617.4,DEF:352.8,SPD:94,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1110:{id:"1110",name:"Lynx",rarity:4,path:"Abundance",element:"Quantum",max_sp:100,stats:{HP:1058.4,ATK:493.92,DEF:551.25,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1111:{id:"1111",name:"Luka",rarity:4,path:"Nihility",element:"Physical",max_sp:130,stats:{HP:917.28,ATK:582.12,DEF:485.1,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1112:{id:"1112",name:"Topaz & Numby",rarity:5,path:"Hunt",element:"Fire",max_sp:130,stats:{HP:931.392,ATK:620.928,DEF:412.335,SPD:110,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1201:{id:"1201",name:"Qingque",rarity:4,path:"Erudition",element:"Quantum",max_sp:140,stats:{HP:1023.12,ATK:652.68,DEF:441,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1202:{id:"1202",name:"Tingyun",rarity:4,path:"Harmony",element:"Lightning",max_sp:130,stats:{HP:846.72,ATK:529.2,DEF:396.9,SPD:112,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1203:{id:"1203",name:"Luocha",rarity:5,path:"Abundance",element:"Imaginary",max_sp:100,stats:{HP:1280.664,ATK:756.756,DEF:363.825,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1204:{id:"1204",name:"Jing Yuan",rarity:5,path:"Erudition",element:"Lightning",max_sp:130,stats:{HP:1164.24,ATK:698.544,DEF:485.1,SPD:99,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1205:{id:"1205",name:"Blade",rarity:5,path:"Destruction",element:"Wind",max_sp:130,stats:{HP:1358.28,ATK:543.312,DEF:485.1,SPD:97,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1206:{id:"1206",name:"Sushang",rarity:4,path:"Hunt",element:"Physical",max_sp:120,stats:{HP:917.28,ATK:564.48,DEF:418.95,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1207:{id:"1207",name:"Yukong",rarity:4,path:"Harmony",element:"Imaginary",max_sp:130,stats:{HP:917.28,ATK:599.76,DEF:374.85,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1208:{id:"1208",name:"Fu Xuan",rarity:5,path:"Preservation",element:"Quantum",max_sp:135,stats:{HP:1474.704,ATK:465.696,DEF:606.375,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1209:{id:"1209",name:"Yanqing",rarity:5,path:"Hunt",element:"Ice",max_sp:140,stats:{HP:892.584,ATK:679.14,DEF:412.335,SPD:109,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1210:{id:"1210",name:"Guinaifen",rarity:4,path:"Nihility",element:"Fire",max_sp:120,stats:{HP:882,ATK:582.12,DEF:441,SPD:106,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1211:{id:"1211",name:"Bailu",rarity:5,path:"Abundance",element:"Lightning",max_sp:100,stats:{HP:1319.472,ATK:562.716,DEF:485.1,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1212:{id:"1212",name:"Jingliu",rarity:5,path:"Destruction",element:"Ice",max_sp:140,stats:{HP:1435.896,ATK:679.14,DEF:485.1,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1213:{id:"1213",name:"Dan Heng â€¢ Imbibitor Lunae",rarity:5,path:"Destruction",element:"Imaginary",max_sp:140,stats:{HP:1241.856,ATK:698.544,DEF:363.825,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1214:{id:"1214",name:"Xueyi",rarity:4,path:"Destruction",element:"Quantum",max_sp:120,stats:{HP:1058.4,ATK:599.76,DEF:396.9,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1215:{id:"1215",name:"Hanya",rarity:4,path:"Harmony",element:"Physical",max_sp:140,stats:{HP:917.28,ATK:564.48,DEF:352.8,SPD:110,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1217:{id:"1217",name:"Huohuo",rarity:5,path:"Abundance",element:"Wind",max_sp:140,stats:{HP:1358.28,ATK:601.524,DEF:509.355,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1218:{id:"1218",name:"Jiaoqiu",rarity:5,path:"Nihility",element:"Fire",max_sp:100,stats:{HP:1358.28,ATK:601.524,DEF:509.355,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1220:{id:"1220",name:"Feixiao",rarity:5,path:"Hunt",element:"Wind",max_sp:12,stats:{HP:1047.816,ATK:601.524,DEF:388.08,SPD:112,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1221:{id:"1221",name:"Yunli",rarity:5,path:"Destruction",element:"Physical",max_sp:240,stats:{HP:1358.28,ATK:679.14,DEF:460.845,SPD:94,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1222:{id:"1222",name:"Lingsha",rarity:5,path:"Abundance",element:"Fire",max_sp:110,stats:{HP:1358.28,ATK:679.14,DEF:436.59,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1223:{id:"1223",name:"Moze",rarity:4,path:"Hunt",element:"Lightning",max_sp:120,stats:{HP:811.44,ATK:599.76,DEF:352.8,SPD:111,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1224:{id:"1224",name:"March 7th",rarity:4,path:"Hunt",element:"Imaginary",max_sp:110,stats:{HP:1058.4,ATK:564.48,DEF:441,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1301:{id:"1301",name:"Gallagher",rarity:4,path:"Abundance",element:"Fire",max_sp:110,stats:{HP:1305.36,ATK:529.2,DEF:441,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1302:{id:"1302",name:"Argenti",rarity:5,path:"Erudition",element:"Physical",max_sp:180,stats:{HP:1047.816,ATK:737.352,DEF:363.825,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1303:{id:"1303",name:"Ruan Mei",rarity:5,path:"Harmony",element:"Ice",max_sp:130,stats:{HP:1086.624,ATK:659.736,DEF:485.1,SPD:104,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1304:{id:"1304",name:"Aventurine",rarity:5,path:"Preservation",element:"Imaginary",max_sp:110,stats:{HP:1203.048,ATK:446.292,DEF:654.885,SPD:106,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1305:{id:"1305",name:"Dr. Ratio",rarity:5,path:"Hunt",element:"Imaginary",max_sp:140,stats:{HP:1047.816,ATK:776.16,DEF:460.845,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1306:{id:"1306",name:"Sparkle",rarity:5,path:"Harmony",element:"Quantum",max_sp:110,stats:{HP:1397.088,ATK:523.908,DEF:485.1,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1307:{id:"1307",name:"Black Swan",rarity:5,path:"Nihility",element:"Wind",max_sp:120,stats:{HP:1086.624,ATK:659.736,DEF:485.1,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1308:{id:"1308",name:"Acheron",rarity:5,path:"Nihility",element:"Lightning",max_sp:9,stats:{HP:1125.432,ATK:698.544,DEF:436.59,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1309:{id:"1309",name:"Robin",rarity:5,path:"Harmony",element:"Physical",max_sp:160,stats:{HP:1280.664,ATK:640.332,DEF:485.1,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1310:{id:"1310",name:"Firefly",rarity:5,path:"Destruction",element:"Fire",max_sp:240,stats:{HP:814.968,ATK:523.908,DEF:776.16,SPD:104,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1312:{id:"1312",name:"Misha",rarity:4,path:"Destruction",element:"Ice",max_sp:100,stats:{HP:1270.08,ATK:599.76,DEF:396.9,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1314:{id:"1314",name:"Jade",rarity:5,path:"Erudition",element:"Quantum",max_sp:140,stats:{HP:1086.624,ATK:659.736,DEF:509.355,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1315:{id:"1315",name:"Boothill",rarity:5,path:"Hunt",element:"Physical",max_sp:115,stats:{HP:1203.048,ATK:620.928,DEF:436.59,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1317:{id:"1317",name:"Rappa",rarity:5,path:"Erudition",element:"Imaginary",max_sp:140,stats:{HP:1086.624,ATK:717.948,DEF:460.845,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!0},8001:{id:"8001",name:"Trailblazer",rarity:5,path:"Destruction",element:"Physical",max_sp:120,stats:{HP:1203.048,ATK:620.928,DEF:460.845,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8002:{id:"8002",name:"Trailblazer",rarity:5,path:"Destruction",element:"Physical",max_sp:120,stats:{HP:1203.048,ATK:620.928,DEF:460.845,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8003:{id:"8003",name:"Trailblazer",rarity:5,path:"Preservation",element:"Fire",max_sp:120,stats:{HP:1241.856,ATK:601.524,DEF:606.375,SPD:95,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8004:{id:"8004",name:"Trailblazer",rarity:5,path:"Preservation",element:"Fire",max_sp:120,stats:{HP:1241.856,ATK:601.524,DEF:606.375,SPD:95,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8005:{id:"8005",name:"Trailblazer",rarity:5,path:"Harmony",element:"Imaginary",max_sp:140,stats:{HP:1086.624,ATK:446.292,DEF:679.14,SPD:105,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8006:{id:"8006",name:"Trailblazer",rarity:5,path:"Harmony",element:"Imaginary",max_sp:140,stats:{HP:1086.624,ATK:446.292,DEF:679.14,SPD:105,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1}},vr={2e4:{id:"20000",name:"Arrows",rarity:3,path:"Hunt",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20001:{id:"20001",name:"Cornucopia",rarity:3,path:"Abundance",stats:{HP:952.56,ATK:264.6,DEF:264.6},unreleased:!1},20002:{id:"20002",name:"Collapsing Sky",rarity:3,path:"Destruction",stats:{HP:846.72,ATK:370.44,DEF:198.45},unreleased:!1},20003:{id:"20003",name:"Amber",rarity:3,path:"Preservation",stats:{HP:846.72,ATK:264.6,DEF:330.75},unreleased:!1},20004:{id:"20004",name:"Void",rarity:3,path:"Nihility",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20005:{id:"20005",name:"Chorus",rarity:3,path:"Harmony",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20006:{id:"20006",name:"Data Bank",rarity:3,path:"Erudition",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20007:{id:"20007",name:"Darting Arrow",rarity:3,path:"Hunt",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20008:{id:"20008",name:"Fine Fruit",rarity:3,path:"Abundance",stats:{HP:952.56,ATK:317.52,DEF:198.45},unreleased:!1},20009:{id:"20009",name:"Shattered Home",rarity:3,path:"Destruction",stats:{HP:846.72,ATK:370.44,DEF:198.45},unreleased:!1},20010:{id:"20010",name:"Defense",rarity:3,path:"Preservation",stats:{HP:952.56,ATK:264.6,DEF:264.6},unreleased:!1},20011:{id:"20011",name:"Loop",rarity:3,path:"Nihility",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20012:{id:"20012",name:"Meshing Cogs",rarity:3,path:"Harmony",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20013:{id:"20013",name:"Passkey",rarity:3,path:"Erudition",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20014:{id:"20014",name:"Adversarial",rarity:3,path:"Hunt",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20015:{id:"20015",name:"Multiplication",rarity:3,path:"Abundance",stats:{HP:952.56,ATK:317.52,DEF:198.45},unreleased:!1},20016:{id:"20016",name:"Mutual Demise",rarity:3,path:"Destruction",stats:{HP:846.72,ATK:370.44,DEF:198.45},unreleased:!1},20017:{id:"20017",name:"Pioneering",rarity:3,path:"Preservation",stats:{HP:952.56,ATK:264.6,DEF:264.6},unreleased:!1},20018:{id:"20018",name:"Hidden Shadow",rarity:3,path:"Nihility",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20019:{id:"20019",name:"Mediation",rarity:3,path:"Harmony",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20020:{id:"20020",name:"Sagacity",rarity:3,path:"Erudition",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},21e3:{id:"21000",name:"Post-Op Conversation",rarity:4,path:"Abundance",stats:{HP:1058.4,ATK:423.36,DEF:330.75},unreleased:!1},21001:{id:"21001",name:"Good Night and Sleep Well",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21002:{id:"21002",name:"Day One of My New Life",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:370.44,DEF:463.05},unreleased:!1},21003:{id:"21003",name:"Only Silence Remains",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21004:{id:"21004",name:"Memories of the Past",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21005:{id:"21005",name:"The Moles Welcome You",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21006:{id:"21006",name:"The Birth of the Self",rarity:4,path:"Erudition",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21007:{id:"21007",name:"Shared Feeling",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21008:{id:"21008",name:"Eyes of the Prey",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21009:{id:"21009",name:"Landau's Choice",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21010:{id:"21010",name:"Swordplay",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21011:{id:"21011",name:"Planetary Rendezvous",rarity:4,path:"Harmony",stats:{HP:1058.4,ATK:423.36,DEF:330.75},unreleased:!1},21012:{id:"21012",name:"A Secret Vow",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21013:{id:"21013",name:"Make the World Clamor",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21014:{id:"21014",name:"Perfect Timing",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21015:{id:"21015",name:"Resolution Shines As Pearls of Sweat",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21016:{id:"21016",name:"Trend of the Universal Market",rarity:4,path:"Preservation",stats:{HP:1058.4,ATK:370.44,DEF:396.9},unreleased:!1},21017:{id:"21017",name:"Subscribe for More!",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21018:{id:"21018",name:"Dance! Dance! Dance!",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21019:{id:"21019",name:"Under the Blue Sky",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21020:{id:"21020",name:"Geniuses' Repose",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21021:{id:"21021",name:"Quid Pro Quo",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21022:{id:"21022",name:"Fermata",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21023:{id:"21023",name:"We Are Wildfire",rarity:4,path:"Preservation",stats:{HP:740.88,ATK:476.28,DEF:463.05},unreleased:!1},21024:{id:"21024",name:"River Flows in Spring",rarity:4,path:"Hunt",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21025:{id:"21025",name:"Past and Future",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21026:{id:"21026",name:"Woof! Walk Time!",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21027:{id:"21027",name:"The Seriousness of Breakfast",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21028:{id:"21028",name:"Warmth Shortens Cold Nights",rarity:4,path:"Abundance",stats:{HP:1058.4,ATK:370.44,DEF:396.9},unreleased:!1},21029:{id:"21029",name:"We Will Meet Again",rarity:4,path:"Nihility",stats:{HP:846.72,ATK:529.2,DEF:330.75},unreleased:!1},21030:{id:"21030",name:"This Is Me!",rarity:4,path:"Preservation",stats:{HP:846.72,ATK:370.44,DEF:529.2},unreleased:!1},21031:{id:"21031",name:"Return to Darkness",rarity:4,path:"Hunt",stats:{HP:846.72,ATK:529.2,DEF:330.75},unreleased:!1},21032:{id:"21032",name:"Carve the Moon, Weave the Clouds",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21033:{id:"21033",name:"Nowhere to Run",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:529.2,DEF:264.6},unreleased:!1},21034:{id:"21034",name:"Today Is Another Peaceful Day",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:529.2,DEF:330.75},unreleased:!1},21035:{id:"21035",name:"What Is Real?",rarity:4,path:"Abundance",stats:{HP:1058.4,ATK:423.36,DEF:330.75},unreleased:!1},21036:{id:"21036",name:"Dreamville Adventure",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21037:{id:"21037",name:"Final Victor",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21038:{id:"21038",name:"Flames Afar",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21039:{id:"21039",name:"Destiny's Threads Forewoven",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:370.44,DEF:463.05},unreleased:!1},21040:{id:"21040",name:"The Day The Cosmos Fell",rarity:4,path:"Erudition",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21041:{id:"21041",name:"It's Showtime",rarity:4,path:"Nihility",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21042:{id:"21042",name:"Indelible Promise",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21043:{id:"21043",name:"Concert for Two",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:370.44,DEF:463.05},unreleased:!1},21044:{id:"21044",name:"Boundless Choreo",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21045:{id:"21045",name:"After the Charmony Fall",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21046:{id:"21046",name:"Poised to Bloom",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21047:{id:"21047",name:"Shadowed by Night",rarity:4,path:"Hunt",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21048:{id:"21048",name:"Dream's Montage",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!0},22e3:{id:"22000",name:"Before the Tutorial Mission Starts",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},22001:{id:"22001",name:"Hey, Over Here",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},22002:{id:"22002",name:"For Tomorrow's Journey",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},22003:{id:"22003",name:"Ninja Record: Sound Hunt",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!0},23e3:{id:"23000",name:"Night on the Milky Way",rarity:5,path:"Erudition",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23001:{id:"23001",name:"In the Night",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23002:{id:"23002",name:"Something Irreplaceable",rarity:5,path:"Destruction",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23003:{id:"23003",name:"But the Battle Isn't Over",rarity:5,path:"Harmony",stats:{HP:1164.24,ATK:529.2,DEF:463.05},unreleased:!1},23004:{id:"23004",name:"In the Name of the World",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23005:{id:"23005",name:"Moment of Victory",rarity:5,path:"Preservation",stats:{HP:1058.4,ATK:476.28,DEF:595.35},unreleased:!1},23006:{id:"23006",name:"Patience Is All You Need",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23007:{id:"23007",name:"Incessant Rain",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23008:{id:"23008",name:"Echoes of the Coffin",rarity:5,path:"Abundance",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23009:{id:"23009",name:"The Unreachable Side",rarity:5,path:"Destruction",stats:{HP:1270.08,ATK:582.12,DEF:330.75},unreleased:!1},23010:{id:"23010",name:"Before Dawn",rarity:5,path:"Erudition",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23011:{id:"23011",name:"She Already Shut Her Eyes",rarity:5,path:"Preservation",stats:{HP:1270.08,ATK:423.36,DEF:529.2},unreleased:!1},23012:{id:"23012",name:"Sleep Like the Dead",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23013:{id:"23013",name:"Time Waits for No One",rarity:5,path:"Abundance",stats:{HP:1270.08,ATK:476.28,DEF:463.05},unreleased:!1},23014:{id:"23014",name:"I Shall Be My Own Sword",rarity:5,path:"Destruction",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23015:{id:"23015",name:"Brighter Than the Sun",rarity:5,path:"Destruction",stats:{HP:1058.4,ATK:635.04,DEF:396.9},unreleased:!1},23016:{id:"23016",name:"Worrisome, Blissful",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23017:{id:"23017",name:"Night of Fright",rarity:5,path:"Abundance",stats:{HP:1164.24,ATK:476.28,DEF:529.2},unreleased:!1},23018:{id:"23018",name:"An Instant Before A Gaze",rarity:5,path:"Erudition",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23019:{id:"23019",name:"Past Self in Mirror",rarity:5,path:"Harmony",stats:{HP:1058.4,ATK:529.2,DEF:529.2},unreleased:!1},23020:{id:"23020",name:"Baptism of Pure Thought",rarity:5,path:"Hunt",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!1},23021:{id:"23021",name:"Earthly Escapade",rarity:5,path:"Harmony",stats:{HP:1164.24,ATK:529.2,DEF:463.05},unreleased:!1},23022:{id:"23022",name:"Reforged Remembrance",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23023:{id:"23023",name:"Inherently Unjust Destiny",rarity:5,path:"Preservation",stats:{HP:1058.4,ATK:423.36,DEF:661.5},unreleased:!1},23024:{id:"23024",name:"Along the Passing Shore",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:635.04,DEF:396.9},unreleased:!1},23025:{id:"23025",name:"Whereabouts Should Dreams Rest",rarity:5,path:"Destruction",stats:{HP:1164.24,ATK:476.28,DEF:529.2},unreleased:!1},23026:{id:"23026",name:"Flowing Nightglow",rarity:5,path:"Harmony",stats:{HP:952.56,ATK:635.04,DEF:463.05},unreleased:!1},23027:{id:"23027",name:"Sailing Towards a Second Life",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23028:{id:"23028",name:"Yet Hope Is Priceless",rarity:5,path:"Erudition",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!1},23029:{id:"23029",name:"Those Many Springs",rarity:5,path:"Nihility",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!1},23030:{id:"23030",name:"Dance at Sunset",rarity:5,path:"Destruction",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23031:{id:"23031",name:"I Venture Forth to Hunt",rarity:5,path:"Hunt",stats:{HP:952.56,ATK:635.04,DEF:463.05},unreleased:!1},23032:{id:"23032",name:"Scent Alone Stays True",rarity:5,path:"Abundance",stats:{HP:1058.4,ATK:529.2,DEF:529.2},unreleased:!1},23033:{id:"23033",name:"Ninjutsu Inscription: Dazzling Evilbreaker",rarity:5,path:"Erudition",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!0},24e3:{id:"24000",name:"On the Fall of an Aeon",rarity:5,path:"Destruction",stats:{HP:1058.4,ATK:529.2,DEF:396.9},unreleased:!1},24001:{id:"24001",name:"Cruising in the Stellar Sea",rarity:5,path:"Hunt",stats:{HP:952.56,ATK:529.2,DEF:463.05},unreleased:!1},24002:{id:"24002",name:"Texture of Memories",rarity:5,path:"Preservation",stats:{HP:1058.4,ATK:423.36,DEF:529.2},unreleased:!1},24003:{id:"24003",name:"Solitary Healing",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:529.2,DEF:396.9},unreleased:!1},24004:{id:"24004",name:"Eternal Calculus",rarity:5,path:"Erudition",stats:{HP:1058.4,ATK:529.2,DEF:396.9},unreleased:!1}},wr=[{id:"318",name:"The Wondrous BananAmusement Park",skills:"Increases the wearer's CRIT DMG by <b>16.0%</b>. When a target summoned by the wearer is on the field, CRIT DMG additionally increases by <b>32.0%</b>."},{id:"317",name:"Lushaka, the Sunken Seas",skills:"Increases the wearer's Energy Regeneration Rate by <b>5.0%</b>. If the wearer is not the first character in the team lineup, then increases the ATK of the first character in the team lineup by <b>12.0%</b>."},{id:"316",name:"Forge of the Kalpagni Lantern",skills:"Increases the wearer's SPD by <b>6.0%</b>. When the wearer hits an enemy target that has Fire Weakness, the wearer's Break Effect increases by <b>40.0%</b>, lasting for <b>1.0</b> turn(s)."},{id:"315",name:"Duran, Dynasty of Running Wolves",skills:"When an ally uses a follow-up attack, the wearer gains 1 stack of Merit, stacking up to <b>5.0</b> time(s). Each stack of Merit increases the DMG dealt by the wearer's follow-up attacks by <b>5.0%</b>. When there are <b>5.0</b> stacks, additionally increases the wearer's CRIT DMG by <b>25.0%</b>."},{id:"314",name:"Izumo Gensei and Takama Divine Realm",skills:"Increases the wearer's ATK by <b>12.0%</b>. When entering battle, if at least one other ally follows the same Path as the wearer, then the wearer's CRIT Rate increases by <b>12.0%</b>."},{id:"313",name:"Sigonia, the Unclaimed Desolation",skills:"Increases the wearer's CRIT Rate by <b>4.0%</b>. When an enemy target gets defeated, the wearer's CRIT DMG increases by <b>4.0%</b>, stacking up to <b>10.0</b> time(s)."},{id:"312",name:"Penacony, Land of the Dreams",skills:"Increases wearer's Energy Regeneration Rate by <b>5.0%</b>. Increases DMG by <b>10.0%</b> for all other allies that are of the same Type as the wearer."},{id:"311",name:"Firmament Frontline: Glamoth",skills:"Increases the wearer's ATK by <b>12.0%</b>. When the wearer's SPD is equal to or higher than <b>135.0</b>/<b>160.0</b>, the wearer deals <b>12.0%</b>/<b>18.0%</b> more DMG."},{id:"310",name:"Broken Keel",skills:"Increases the wearer's Effect RES by <b>10.0%</b>. When the wearer's Effect RES is at <b>30.0%</b> or higher, all allies' CRIT DMG increases by <b>10.0%</b>."},{id:"309",name:"Rutilant Arena",skills:"Increases the wearer's CRIT Rate by <b>8.0%</b>. When the wearer's current CRIT Rate reaches <b>70.0%</b> or higher, DMG dealt by Basic ATK and Skill increases by <b>20.0%</b>."},{id:"308",name:"Sprightly Vonwacq",skills:"Increases the wearer's Energy Regeneration Rate by <b>5.0%</b>. When the wearer's SPD reaches <b>120.0</b> or higher, the wearer's action is Advanced Forward by <b>40.0%</b> immediately upon entering battle."},{id:"307",name:"Talia: Kingdom of Banditry",skills:"Increases the wearer's Break Effect by <b>16.0%</b>. When the wearer's SPD reaches <b>145.0</b> or higher, the wearer's Break Effect increases by an extra <b>20.0%</b>."},{id:"306",name:"Inert Salsotto",skills:"Increases the wearer's CRIT Rate by <b>8.0%</b>. When the wearer's current CRIT Rate reaches <b>50.0%</b> or higher, the DMG dealt by the wearer's Ultimate and follow-up attack increases by <b>15.0%</b>."},{id:"305",name:"Celestial Differentiator",skills:"Increases the wearer's CRIT DMG by <b>16.0%</b>. When the wearer's current CRIT DMG reaches <b>120.0%</b> or higher, after entering battle, the wearer's CRIT Rate increases by <b>60.0%</b> until the end of their first attack."},{id:"304",name:"Belobog of the Architects",skills:"Increases the wearer's DEF by <b>15.0%</b>. When the wearer's Effect Hit Rate is <b>50.0%</b> or higher, the wearer gains an extra <b>15.0%</b> DEF."},{id:"303",name:"Pan-Cosmic Commercial Enterprise",skills:"Increases the wearer's Effect Hit Rate by <b>10.0%</b>. Meanwhile, the wearer's ATK increases by an amount that is equal to <b>25.0%</b> of the current Effect Hit Rate, up to a maximum of <b>25.0%</b>."},{id:"302",name:"Fleet of the Ageless",skills:"Increases the wearer's Max HP by <b>12.0%</b>. When the wearer's SPD reaches <b>120.0</b> or higher, all allies' ATK increases by <b>8.0%</b>."},{id:"301",name:"Space Sealing Station",skills:"Increases the wearer's ATK by <b>12.0%</b>. When the wearer's SPD reaches <b>120.0</b> or higher, the wearer's ATK increases by an extra <b>12.0%</b>."},{id:"122",name:"Scholar Lost in Erudition",skills:"Increases CRIT Rate by <b>8.0%</b>.,Increases DMG dealt by Ultimate and Skill by <b>20.0%</b>. After using Ultimate, additionally increases the DMG dealt by the next Skill by <b>25.0%</b>."},{id:"121",name:"Sacerdos' Relived Ordeal",skills:"Increases SPD by <b>6.0%</b>.,When using Skill or Ultimate on one ally target, increases the ability-using target's CRIT DMG by <b>18.0%</b>, lasting for <b>2.0</b> turn(s). This effect can stack up to <b>2.0</b> time(s)."},{id:"120",name:"The Wind-Soaring Valorous",skills:"Increases ATK by <b>12.0%</b>.,Increases the wearer's CRIT Rate by <b>6.0%</b>. After the wearer uses a follow-up attack, increases DMG dealt by Ultimate by <b>36.0%</b>, lasting for <b>1.0</b> turn(s)."},{id:"119",name:"Iron Cavalry Against the Scourge",skills:"Increases Break Effect by <b>16.0%</b>.,If the wearer's Break Effect is <b>150.0%</b> or higher, the Break DMG dealt to the enemy target ignores <b>10.0%</b> of their DEF. If the wearer's Break Effect is <b>250.0%</b> or higher, the Super Break DMG dealt to the enemy target additionally ignores <b>15.0%</b> of their DEF."},{id:"118",name:"Watchmaker, Master of Dream Machinations",skills:"Increases Break Effect by <b>16.0%</b>.,When the wearer uses their Ultimate on an ally, all allies' Break Effect increases by <b>30.0%</b> for <b>2.0</b> turn(s). This effect cannot be stacked."},{id:"117",name:"Pioneer Diver of Dead Waters",skills:"Increases DMG dealt to enemies with debuffs by <b>12.0%</b>.,Increases CRIT Rate by <b>4.0%</b>. The wearer deals <b>8.0%</b>/<b>12.0%</b> increased CRIT DMG to enemies with at least <b>2.0</b>/<b>3.0</b> debuffs. After the wearer inflicts a debuff on enemy targets, the aforementioned effects increase by <b>100%</b>, lasting for <b>1.0</b> turn(s)."},{id:"116",name:"Prisoner in Deep Confinement",skills:"Increases ATK by <b>12.0%</b>.,For every DoT the enemy target is afflicted with, the wearer will ignore <b>6.0%</b> of its DEF when dealing DMG to it. This effect is valid for a max of <b>3.0</b> DoTs."},{id:"115",name:"The Ashblazing Grand Duke",skills:"Increases the DMG dealt by follow-up attack by <b>20.0%</b>.,When the wearer uses a follow-up attack, increases the wearer's ATK by <b>6.0%</b> for every time the follow-up attack deals DMG. This effect can stack up to <b>8.0</b> time(s) and lasts for <b>3.0</b> turn(s). This effect is removed the next time the wearer uses a follow-up attack."},{id:"114",name:"Messenger Traversing Hackerspace",skills:"Increases SPD by <b>6.0%</b>.,When the wearer uses their Ultimate on an ally, SPD for all allies increases by <b>12.0%</b> for <b>1.0</b> turn(s). This effect cannot be stacked."},{id:"113",name:"Longevous Disciple",skills:"Increases Max HP by <b>12.0%</b>.,When the wearer is hit or has their HP consumed by an ally or themselves, their CRIT Rate increases by <b>8.0%</b> for <b>2.0</b> turn(s) and up to <b>2.0</b> stacks."},{id:"112",name:"Wastelander of Banditry Desert",skills:"Increases Imaginary DMG by <b>10.0%</b>.,When attacking debuffed enemies, the wearer's CRIT Rate increases by <b>10.0%</b>, and their CRIT DMG increases by <b>20.0%</b> against Imprisoned enemies."},{id:"111",name:"Thief of Shooting Meteor",skills:"Increases Break Effect by <b>16.0%</b>.,Increases the wearer's Break Effect by <b>16.0%</b>. After the wearer inflicts Weakness Break on an enemy, regenerates <b>3.0</b> Energy."},{id:"110",name:"Eagle of Twilight Line",skills:"Increases Wind DMG by <b>10.0%</b>.,After the wearer uses their Ultimate, their action is Advanced Forward by <b>25.0%</b>."},{id:"109",name:"Band of Sizzling Thunder",skills:"Increases Lightning DMG by <b>10.0%</b>.,When the wearer uses their Skill, increases the wearer's ATK by <b>20.0%</b> for <b>1.0</b> turn(s)."},{id:"108",name:"Genius of Brilliant Stars",skills:"Increases Quantum DMG by <b>10.0%</b>.,When the wearer deals DMG to the target enemy, ignores <b>10.0%</b> DEF. If the target enemy has Quantum Weakness, the wearer additionally ignores <b>10.0%</b> DEF."},{id:"107",name:"Firesmith of Lava-Forging",skills:"Increases Fire DMG by <b>10.0%</b>.,Increases DMG by the wearer's Skill by <b>12.0%</b>. After unleashing Ultimate, increases the wearer's Fire DMG by <b>12.0%</b> for the next attack."},{id:"106",name:"Guard of Wuthering Snow",skills:"Reduces DMG taken by <b>8.0%</b>.,At the beginning of the turn, if the wearer's HP percentage is equal to or less than <b>50.0%</b>, restores HP equal to <b>8.0%</b> of their Max HP and regenerates <b>5.0</b> Energy."},{id:"105",name:"Champion of Streetwise Boxing",skills:"Increases Physical DMG by <b>10.0%</b>.,After the wearer attacks or is hit, their ATK increases by <b>5.0%</b> for the rest of the battle. This effect can stack up to <b>5.0</b> time(s)."},{id:"104",name:"Hunter of Glacial Forest",skills:"Increases Ice DMG by <b>10.0%</b>.,After the wearer uses their Ultimate, their CRIT DMG increases by <b>25.0%</b> for <b>2.0</b> turn(s)."},{id:"103",name:"Knight of Purity Palace",skills:"Increases DEF by <b>15.0%</b>.,Increases the max DMG that can be absorbed by the Shield created by the wearer by <b>20.0%</b>."},{id:"102",name:"Musketeer of Wild Wheat",skills:"Increases ATK by <b>12.0%</b>.,The wearer's SPD increases by <b>6.0%</b> and DMG dealt by Basic ATK increases by <b>10.0%</b>."},{id:"101",name:"Passerby of Wandering Cloud",skills:"Increases Outgoing Healing by <b>10.0%</b>.,At the start of the battle, immediately regenerates 1 Skill Point."}],Ka={characters:Kr,lightCones:vr,relics:wr},Oi="v2.6.3",je="2.6v4",n={ATK_P:"ATK%",ATK:"ATK",BE:"Break Effect",CD:"CRIT DMG",CR:"CRIT Rate",DEF_P:"DEF%",DEF:"DEF",EHR:"Effect Hit Rate",ERR:"Energy Regeneration Rate",Fire_DMG:"Fire DMG Boost",HP_P:"HP%",HP:"HP",Ice_DMG:"Ice DMG Boost",Imaginary_DMG:"Imaginary DMG Boost",Lightning_DMG:"Lightning DMG Boost",OHB:"Outgoing Healing Boost",Physical_DMG:"Physical DMG Boost",Quantum_DMG:"Quantum DMG Boost",RES:"Effect RES",SPD_P:"SPD%",SPD:"SPD",Wind_DMG:"Wind DMG Boost"},Ar=[n.HP_P,n.ATK_P,n.DEF_P,n.HP,n.ATK,n.SPD,n.CR,n.CD,n.EHR,n.BE,n.OHB,n.ERR,n.Physical_DMG,n.Fire_DMG,n.Ice_DMG,n.Lightning_DMG,n.Wind_DMG,n.Quantum_DMG,n.Imaginary_DMG],Os={[n.HP_P]:{5:{base:6.912,increment:2.4192},4:{base:5.5296,increment:1.9354},3:{base:4.1472,increment:1.4515},2:{base:2.7648,increment:.9677}},[n.ATK_P]:{5:{base:6.912,increment:2.4192},4:{base:5.5296,increment:1.9354},3:{base:4.1472,increment:1.4515},2:{base:2.7648,increment:.9677}},[n.DEF_P]:{5:{base:8.64,increment:3.024},4:{base:6.912,increment:2.4192},3:{base:5.184,increment:1.8144},2:{base:3.456,increment:1.2096}},[n.HP]:{5:{base:112.896,increment:39.5136},4:{base:90.3168,increment:31.61088},3:{base:67.7376,increment:23.70816},2:{base:45.1584,increment:15.80544}},[n.ATK]:{5:{base:56.448,increment:19.7568},4:{base:45.1584,increment:15.80544},3:{base:33.8688,increment:11.85408},2:{base:22.5792,increment:7.90272}},[n.SPD]:{5:{base:4.032,increment:1.4},4:{base:3.226,increment:1.1},3:{base:2.419,increment:1},2:{base:1.613,increment:1}},[n.CR]:{5:{base:5.184,increment:1.8144},4:{base:4.1472,increment:1.4515},3:{base:3.1104,increment:1.0886},2:{base:2.0736,increment:.7258}},[n.CD]:{5:{base:10.368,increment:3.6288},4:{base:8.2944,increment:2.903},3:{base:6.2208,increment:2.1773},2:{base:4.1472,increment:1.4515}},[n.EHR]:{5:{base:6.912,increment:2.4192},4:{base:5.5296,increment:1.9354},3:{base:4.1472,increment:1.4515},2:{base:2.7648,increment:.9677}},[n.BE]:{5:{base:10.368,increment:3.6288},4:{base:8.2944,increment:2.903},3:{base:6.2208,increment:2.1773},2:{base:4.1472,increment:1.4515}},[n.ERR]:{5:{base:3.1104,increment:1.0886},4:{base:2.4883,increment:.8709},3:{base:1.8662,increment:.6532},2:{base:1.2442,increment:.4355}},[n.OHB]:{5:{base:5.5296,increment:1.9354},4:{base:4.4237,increment:1.5483},3:{base:3.3178,increment:1.1612},2:{base:2.2118,increment:.7741}},[n.Physical_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[n.Fire_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[n.Ice_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[n.Lightning_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[n.Wind_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[n.Quantum_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[n.Imaginary_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}}},Ye=[n.HP_P,n.ATK_P,n.DEF_P,n.HP,n.ATK,n.DEF,n.SPD,n.CR,n.CD,n.EHR,n.RES,n.BE],Rt={[n.SPD]:{5:{high:2.6,mid:2.3,low:2},4:{high:2,mid:1.8,low:1.6},3:{high:1.4,mid:1.3,low:1.2},2:{high:1.2,mid:1.1,low:1}},[n.HP]:{5:{high:42.33751,mid:38.103755,low:33.87},4:{high:33.87,mid:30.483,low:27.096},3:{high:25.402506,mid:22.862253,low:20.322},2:{high:16.935,mid:15.2415,low:13.548}},[n.ATK]:{5:{high:21.168754,mid:19.051877,low:16.935},4:{high:16.935,mid:15.2415,low:13.548},3:{high:10.161,mid:11.431126,low:12.701252},2:{high:8.4675,mid:7.62075,low:6.774}},[n.DEF]:{5:{high:21.168754,mid:19.051877,low:16.935},4:{high:16.935,mid:15.2415,low:13.548},3:{high:10.161,mid:11.431126,low:12.701252},2:{high:8.4675,mid:7.62075,low:6.774}},[n.HP_P]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[n.ATK_P]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[n.DEF_P]:{5:{high:5.4,mid:4.86,low:4.32},4:{high:4.32,mid:3.888,low:3.456},3:{high:2.592,mid:2.916,low:3.24},2:{high:2.16,mid:1.944,low:1.728}},[n.BE]:{5:{high:6.48,mid:5.832,low:5.184},4:{high:5.184,mid:4.6656,low:4.1472},3:{high:3.888,mid:3.4992,low:3.1104},2:{high:2.592,mid:2.3328,low:2.0736}},[n.EHR]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[n.RES]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[n.CR]:{5:{high:3.24,mid:2.916,low:2.592},4:{high:2.592,mid:2.3328,low:2.0736},3:{high:1.5552,mid:1.7496,low:1.944},2:{high:1.296,mid:1.1664,low:1.0368}},[n.CD]:{5:{high:6.48,mid:5.832,low:5.184},4:{high:5.184,mid:4.6656,low:4.1472},3:{high:3.888,mid:3.4992,low:3.1104},2:{high:2.592,mid:2.3328,low:2.0736}}},Qr={[n.HP_P]:"HP %",[n.ATK_P]:"ATK %",[n.DEF_P]:"DEF %",[n.SPD_P]:"SPD %",[n.HP]:"HP",[n.ATK]:"ATK",[n.DEF]:"DEF",[n.SPD]:"SPD",[n.CR]:"CRIT Rate",[n.CD]:"CRIT DMG",[n.EHR]:"Effect HIT",[n.RES]:"Effect RES",[n.BE]:"Break Effect",[n.ERR]:"Energy Regen",[n.OHB]:"Healing Boost",[n.Physical_DMG]:"Physical DMG",[n.Fire_DMG]:"Fire DMG",[n.Ice_DMG]:"Ice DMG",[n.Lightning_DMG]:"Lightning DMG",[n.Wind_DMG]:"Wind DMG",[n.Quantum_DMG]:"Quantum DMG",[n.Imaginary_DMG]:"Imaginary DMG"};n.HP_P+"",n.ATK_P+"",n.DEF_P+"",n.SPD_P+"",n.HP+"",n.ATK+"",n.DEF+"",n.SPD+"",n.CR+"",n.CD+"",n.EHR+"",n.RES+"",n.BE+"",n.ERR+"",n.OHB+"",n.Physical_DMG+"",n.Fire_DMG+"",n.Ice_DMG+"",n.Lightning_DMG+"",n.Wind_DMG+"",n.Quantum_DMG+"",n.Imaginary_DMG+"";n.HP_P+"",n.ATK_P+"",n.DEF_P+"",n.SPD_P+"",n.HP+"",n.ATK+"",n.DEF+"",n.SPD+"",n.CR+"",n.CD+"",n.EHR+"",n.RES+"",n.BE+"",n.ERR+"",n.OHB+"",n.Physical_DMG+"",n.Fire_DMG+"",n.Ice_DMG+"",n.Lightning_DMG+"",n.Wind_DMG+"",n.Quantum_DMG+"",n.Imaginary_DMG+"";n.HP_P+"",n.ATK_P+"",n.DEF_P+"",n.SPD_P+"",n.HP+"",n.ATK+"",n.DEF+"",n.SPD+"",n.CR+"",n.CD+"",n.EHR+"",n.RES+"",n.BE+"",n.ERR+"",n.OHB+"",n.Physical_DMG+"",n.Fire_DMG+"",n.Ice_DMG+"",n.Lightning_DMG+"",n.Wind_DMG+"",n.Quantum_DMG+"",n.Imaginary_DMG+"";const Z={Head:"Head",Hands:"Hands",Body:"Body",Feet:"Feet",PlanarSphere:"PlanarSphere",LinkRope:"LinkRope"},jr={[Z.Head]:"Head",[Z.Hands]:"Hands",[Z.Body]:"Body",[Z.Feet]:"Feet",[Z.PlanarSphere]:"Sphere",[Z.LinkRope]:"Rope"},ai={[Z.Head]:[n.HP],[Z.Hands]:[n.ATK],[Z.Body]:[n.HP_P,n.ATK_P,n.DEF_P,n.CR,n.CD,n.OHB,n.EHR],[Z.Feet]:[n.HP_P,n.ATK_P,n.DEF_P,n.SPD],[Z.PlanarSphere]:[n.HP_P,n.ATK_P,n.DEF_P,n.Physical_DMG,n.Fire_DMG,n.Ice_DMG,n.Lightning_DMG,n.Wind_DMG,n.Quantum_DMG,n.Imaginary_DMG],[Z.LinkRope]:[n.HP_P,n.ATK_P,n.DEF_P,n.BE,n.ERR]},Qn={PasserbyOfWanderingCloud:"Passerby of Wandering Cloud",MusketeerOfWildWheat:"Musketeer of Wild Wheat",KnightOfPurityPalace:"Knight of Purity Palace",HunterOfGlacialForest:"Hunter of Glacial Forest",ChampionOfStreetwiseBoxing:"Champion of Streetwise Boxing",GuardOfWutheringSnow:"Guard of Wuthering Snow",FiresmithOfLavaForging:"Firesmith of Lava-Forging",GeniusOfBrilliantStars:"Genius of Brilliant Stars",BandOfSizzlingThunder:"Band of Sizzling Thunder",EagleOfTwilightLine:"Eagle of Twilight Line",ThiefOfShootingMeteor:"Thief of Shooting Meteor",WastelanderOfBanditryDesert:"Wastelander of Banditry Desert",LongevousDisciple:"Longevous Disciple",MessengerTraversingHackerspace:"Messenger Traversing Hackerspace",TheAshblazingGrandDuke:"The Ashblazing Grand Duke",PrisonerInDeepConfinement:"Prisoner in Deep Confinement",PioneerDiverOfDeadWaters:"Pioneer Diver of Dead Waters",WatchmakerMasterOfDreamMachinations:"Watchmaker, Master of Dream Machinations",IronCavalryAgainstTheScourge:"Iron Cavalry Against the Scourge",TheWindSoaringValorous:"The Wind-Soaring Valorous",SacerdosRelivedOrdeal:"Sacerdos' Relived Ordeal",ScholarLostInErudition:"Scholar Lost in Erudition"},pi={SpaceSealingStation:"Space Sealing Station",FleetOfTheAgeless:"Fleet of the Ageless",PanCosmicCommercialEnterprise:"Pan-Cosmic Commercial Enterprise",BelobogOfTheArchitects:"Belobog of the Architects",CelestialDifferentiator:"Celestial Differentiator",InertSalsotto:"Inert Salsotto",TaliaKingdomOfBanditry:"Talia: Kingdom of Banditry",SprightlyVonwacq:"Sprightly Vonwacq",RutilantArena:"Rutilant Arena",BrokenKeel:"Broken Keel",FirmamentFrontlineGlamoth:"Firmament Frontline: Glamoth",PenaconyLandOfTheDreams:"Penacony, Land of the Dreams",SigoniaTheUnclaimedDesolation:"Sigonia, the Unclaimed Desolation",IzumoGenseiAndTakamaDivineRealm:"Izumo Gensei and Takama Divine Realm",DuranDynastyOfRunningWolves:"Duran, Dynasty of Running Wolves",ForgeOfTheKalpagniLantern:"Forge of the Kalpagni Lantern",LushakaTheSunkenSeas:"Lushaka, the Sunken Seas",TheWondrousBananAmusementPark:"The Wondrous BananAmusement Park"},jn={},M={...Qn,...pi},Ma=Object.values(Qn),Fa=Object.values(pi),ma={};for(let t=0;t<Fa.length;t++)ma[Fa[t]]=t;const nn={};for(let t=0;t<Ma.length;t++)nn[Ma[t]]=t;const fa=Object.values(Qn).length,Jr=Object.values(pi).length,Or={Abundance:"Abundance",Destruction:"Destruction",Erudition:"Erudition",Harmony:"Harmony",Hunt:"Hunt",Nihility:"Nihility",Preservation:"Preservation"},va={Physical:n.Physical_DMG,Fire:n.Fire_DMG,Ice:n.Ice_DMG,Lightning:n.Lightning_DMG,Wind:n.Wind_DMG,Quantum:n.Quantum_DMG,Imaginary:n.Imaginary_DMG},zr={Physical:"PHYSICAL_RES_PEN",Fire:"FIRE_RES_PEN",Ice:"ICE_RES_PEN",Lightning:"LIGHTNING_RES_PEN",Wind:"WIND_RES_PEN",Quantum:"QUANTUM_RES_PEN",Imaginary:"IMAGINARY_RES_PEN"},d={Sets:M,Parts:Z,Stats:n,MainStats:Ar,MainStatsValues:Os,SubStats:Ye,SetsOrnaments:pi,SetsRelics:Qn,SetsRelicsNames:Ma,SetsOrnamentsNames:Fa,StatsToReadable:Qr,PartsToReadable:jr,PartsMainStats:ai,RelicSetToIndex:nn,OrnamentSetToIndex:ma,MAX_INT:2147483647,THREAD_BUFFER_LENGTH:15e4},De={relic4Piece:"4 Piece",relic2Plus2Piece:"2 + 2 Piece",relic2PlusAny:"2 + Any"},ii="combat",_r=2e6;n.HP_P,n.ATK_P,n.DEF_P,n.CR,n.CD,n.EHR,n.OHB;n.HP_P,n.ATK_P,n.DEF_P,n.SPD;n.HP_P,n.ATK_P,n.DEF_P,n.BE,n.ERR;n.HP_P,n.ATK_P,n.DEF_P,n.Physical_DMG,n.Fire_DMG,n.Ice_DMG,n.Lightning_DMG,n.Wind_DMG,n.Quantum_DMG,n.Imaginary_DMG;const zi={ATK:{title:"ATK",key:"ATK",percent:!1},ATK_P:{title:"ATK %",key:"ATK_P",percent:!0},HP:{title:"HP",key:"HP",percent:!1},HP_P:{title:"HP %",key:"HP_P",percent:!0},DEF:{title:"DEF",key:"DEF",percent:!1},DEF_P:{title:"DEF %",key:"DEF_P",percent:!0},CR:{title:"Crit Rate %",key:"CR",percent:!0},CD:{title:"Crit Dmg %",key:"CD",percent:!0},SPD:{title:"SPD",key:"SPD",percent:!1},SPD_P:{title:"SPD %",key:"SPD_P",percent:!0},BE:{title:"BE %",key:"BE",percent:!0},DMG_BOOST:{title:"Dmg Boost %",key:"DMG_BOOST",percent:!0},DEF_PEN:{title:"Def Pen %",key:"DEF_PEN",percent:!0},RES_PEN:{title:"Dmg RES PEN %",key:"RES_PEN",percent:!0},EFFECT_RES_PEN:{title:"Effect RES PEN %",key:"EFFECT_RES_PEN",percent:!0},VULNERABILITY:{title:"Vulnerability %",key:"VULNERABILITY",percent:!0},BREAK_EFFICIENCY:{title:"Break Efficiency %",key:"BREAK_EFFICIENCY",percent:!0}},Be={[d.Sets.PasserbyOfWanderingCloud]:"101",[d.Sets.MusketeerOfWildWheat]:"102",[d.Sets.KnightOfPurityPalace]:"103",[d.Sets.HunterOfGlacialForest]:"104",[d.Sets.ChampionOfStreetwiseBoxing]:"105",[d.Sets.GuardOfWutheringSnow]:"106",[d.Sets.FiresmithOfLavaForging]:"107",[d.Sets.GeniusOfBrilliantStars]:"108",[d.Sets.BandOfSizzlingThunder]:"109",[d.Sets.EagleOfTwilightLine]:"110",[d.Sets.ThiefOfShootingMeteor]:"111",[d.Sets.WastelanderOfBanditryDesert]:"112",[d.Sets.LongevousDisciple]:"113",[d.Sets.MessengerTraversingHackerspace]:"114",[d.Sets.TheAshblazingGrandDuke]:"115",[d.Sets.PrisonerInDeepConfinement]:"116",[d.Sets.PioneerDiverOfDeadWaters]:"117",[d.Sets.WatchmakerMasterOfDreamMachinations]:"118",[d.Sets.IronCavalryAgainstTheScourge]:"119",[d.Sets.TheWindSoaringValorous]:"120",[d.Sets.SacerdosRelivedOrdeal]:"121",[d.Sets.ScholarLostInErudition]:"122",[d.Sets.SpaceSealingStation]:"301",[d.Sets.FleetOfTheAgeless]:"302",[d.Sets.PanCosmicCommercialEnterprise]:"303",[d.Sets.BelobogOfTheArchitects]:"304",[d.Sets.CelestialDifferentiator]:"305",[d.Sets.InertSalsotto]:"306",[d.Sets.TaliaKingdomOfBanditry]:"307",[d.Sets.SprightlyVonwacq]:"308",[d.Sets.RutilantArena]:"309",[d.Sets.BrokenKeel]:"310",[d.Sets.FirmamentFrontlineGlamoth]:"311",[d.Sets.PenaconyLandOfTheDreams]:"312",[d.Sets.SigoniaTheUnclaimedDesolation]:"313",[d.Sets.IzumoGenseiAndTakamaDivineRealm]:"314",[d.Sets.DuranDynastyOfRunningWolves]:"315",[d.Sets.ForgeOfTheKalpagniLantern]:"316",[d.Sets.LushakaTheSunkenSeas]:"317",[d.Sets.TheWondrousBananAmusementPark]:"318"},Ss=["BASIC","SKILL","ULT","FUA","DOT","BREAK"],ja="Default",ia="Custom",Ql="Settings",Ni="Combat Simulation Score",fs="Character Score",zs="Damage Upgrades",Gs="Combat Stats",tn="CPU",ui="GPU Stable",Jn="GPU Experimental",ul="Sacerdos' Relived Ordeal 1x",ml="Sacerdos' Relived Ordeal 2x";console.debug=(...t)=>{let e="%c%s ";t.forEach(i=>{switch(typeof i){case"bigint":case"number":case"boolean":e+="%d ";break;case"string":e+="%s ";break;case"object":case"undefined":default:e+="%o "}}),console.log(e,"color: orange","[DEBUG]",...t)};const x={objectHash:t=>a0(t),arrayOfZeroes:t=>new Array(t).fill(0),arrayOfValue:(t,e)=>new Array(t).fill(e),nullUndefinedToZero:t=>t??0,mergeDefinedValues:(t,e)=>{for(const i of Object.keys(t))e[i]!=null&&(t[i]=e[i]);return t},mergeUndefinedValues:(t,e)=>{for(const i of Object.keys(e))t[i]==null&&(t[i]=e[i]);return t},sleep:t=>new Promise(e=>setTimeout(e,t)),relicsToSetArrays:t=>{const e=x.arrayOfValue(Object.values(d.SetsRelics).length,0),i=x.arrayOfValue(Object.values(d.SetsOrnaments).length,0);for(const l of t)if(l)if(l.part==d.Parts.PlanarSphere||l.part==d.Parts.LinkRope){const s=d.OrnamentSetToIndex[l.set];i[s]++}else{const s=d.RelicSetToIndex[l.set];e[s]++}return{relicSets:e,ornamentSets:i}},isFlat:t=>t==d.Stats.HP||t==d.Stats.ATK||t==d.Stats.DEF||t==d.Stats.SPD,randomElement:t=>t[Math.floor(Math.random()*t.length)],isMobile:()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),screenshotElementById:async(t,e,i)=>{const l=x.isMobile(),s=async()=>{const r=l?9:3;let u=0,R;for(;u<r&&(u++,R=await Ul(document.getElementById(t),{pixelRatio:1.5,skipFonts:!0}),!(R.size>12e5)););return l&&(R=await Ul(document.getElementById(t),{pixelRatio:1.5,skipFonts:!0})),R};function o(c){const r=i||"Hsr-optimizer",u=new Date().toLocaleDateString(V.resolvedLanguage).replace(/[^apm\d]+/gi,"-"),R=new Date().toLocaleTimeString(V.resolvedLanguage).replace(/[^apm\d]+/gi,"-"),h=`${r}_${u}_${R}.png`;if(e=="clipboard")if(l){const S=new File([c],h,{type:"image/png"});navigator.canShare&&navigator.canShare({files:[S]})?navigator.share({files:[S],title:"",text:""}):Message.error("Unable to save screenshot to clipboard, try the download button to the right")}else try{const S=[new window.ClipboardItem({[c.type]:c})];navigator.clipboard.write(S).then(()=>{Message.success(V.t("charactersTab:ScreenshotMessages.ScreenshotSuccess"))})}catch(S){console.error(S),Message.error(V.t("charactersTab:ScreenshotMessages.ScreenshotFailed"))}if(e=="download"){const S=window.URL.createObjectURL(c),m=document.createElement("a");m.href=S,m.download=h,m.style.display="none",document.body.appendChild(m),m.click(),m.remove(),window.URL.revokeObjectURL(S),Message.success(V.t("charactersTab:ScreenshotMessages.DownloadSuccess"))}}return new Promise(c=>{s().then(r=>{o(r),c()})})},collectById:t=>{const e={};for(const i of t)e[i.id]=i;return e},truncate10ths:t=>Math.floor(t*10)/10,truncate100ths:t=>Math.floor(t*100)/100,truncate1000ths:t=>Math.floor(t*1e3)/1e3,truncate10000ths:t=>Math.floor(t*1e4)/1e4,precisionRound(t,e=5){const i=Math.pow(10,e);return Math.round(t*i)/i},flipMapping:t=>Object.fromEntries(Object.entries(t).map(e=>e.reverse())),clone:t=>t?JSON.parse(JSON.stringify(t)):null,labelFilterOption:(t,e)=>((e==null?void 0:e.label)??"").toLowerCase().includes(t.toLowerCase()),nameFilterOption:(t,e)=>((e==null?void 0:e.name)??"").toLowerCase().includes(t.toLowerCase()),titleFilterOption:(t,e)=>((e==null?void 0:e.title)??"").toLowerCase().includes(t.toLowerCase()),hasMainStat:t=>t==d.Parts.Body||t==d.Parts.Feet||t==d.Parts.LinkRope||t==d.Parts.PlanarSphere,generateCharacterOptions:()=>{const t=JSON.parse(JSON.stringify(y.getMetadata().characters));for(const e of Object.values(t))e.value=e.id,e.label=V.t(`gameData:Characters.${e.id}.Name`);return Object.values(t).sort((e,i)=>e.displayName.localeCompare(i.displayName))},generateLightConeOptions:t=>{const e=JSON.parse(JSON.stringify(y.getMetadata().lightCones));let i=null;t&&(i=y.getMetadata().characters[t].path);for(const l of Object.values(e))l.value=l.id,l.label=V.t(`gameData:Lightcones.${l.id}.Name`);return Object.values(e).filter(l=>!i||l.path===i).sort((l,s)=>l.label.localeCompare(s.label,window.locale))},recursiveToCamel:t=>Array.isArray(t)?t.map(e=>x.recursiveToCamel(e)):typeof t=="function"||t!==Object(t)?t:Object.fromEntries(Object.entries(t).map(([e,i])=>[e.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,"")),x.recursiveToCamel(i)])),randomId:()=>i0(),getCharacterNameById:t=>{var e;return(e=y.getMetadata().characters[t])==null?void 0:e.displayName},stripTrailingSlashes:t=>t.replace(/\/+$/,""),sortRarityDesc:(t,e)=>e.rarity-t.rarity,sumArray:t=>t.reduce((e,i)=>e+i,0),arrayToMap:(t,e)=>t.reduce((i,l)=>(i[l[e]]=l,i),{}),stringArrayToMap:t=>t.reduce((e,i)=>(e[i]=!0,e),{}),msToReadable:t=>{const e=Math.floor(t/1e3%60),i=Math.floor(t/(1e3*60)%60),l=Math.floor(t/(1e3*60*60)),s=l>0?`${l}:`:"",o=i<10?`0${i}`:`${i}`,c=e<10?`0${e}`:`${e}`;return`${s}${o}:${c}`},filterUnique:t=>t.filter((e,i,l)=>l.indexOf(e)===i)},G0={1:d.Parts.Head,2:d.Parts.Hands,3:d.Parts.Body,4:d.Parts.Feet,5:d.Parts.PlanarSphere,6:d.Parts.LinkRope},C0={6:5,5:4,4:3,3:2},_s={HPAddedRatio:d.Stats.HP_P,AttackAddedRatio:d.Stats.ATK_P,DefenceAddedRatio:d.Stats.DEF_P,HPDelta:d.Stats.HP,AttackDelta:d.Stats.ATK,DefenceDelta:d.Stats.DEF,SpeedDelta:d.Stats.SPD,CriticalDamageBase:d.Stats.CD,CriticalChanceBase:d.Stats.CR,StatusProbabilityBase:d.Stats.EHR,StatusResistanceBase:d.Stats.RES,BreakDamageAddedRatioBase:d.Stats.BE,SPRatioBase:d.Stats.ERR,HealRatioBase:d.Stats.OHB,PhysicalAddedRatio:d.Stats.Physical_DMG,FireAddedRatio:d.Stats.Fire_DMG,IceAddedRatio:d.Stats.Ice_DMG,ThunderAddedRatio:d.Stats.Lightning_DMG,WindAddedRatio:d.Stats.Wind_DMG,QuantumAddedRatio:d.Stats.Quantum_DMG,ImaginaryAddedRatio:d.Stats.Imaginary_DMG},bl={convert:t=>{const e=t.relicList||[],i=t.equipment,l=t.rank||0,s=""+t.avatarId,o=i?""+i.tid:void 0,c=i?i.level:0,r=i?i.rank:0,u=e.map(h=>qr(h)).filter(h=>!!h),R={};for(const h of u)h.verified=!0,h.equippedBy=s,R[h.part]=h;return{id:s,key:x.randomId(),form:{characterLevel:80,characterId:s,characterEidolon:l,lightCone:o,lightConeLevel:c,lightConeSuperimposition:r},equipped:R}},getConstantConversions:()=>({statConversion:_s,partConversion:G0,gradeConversion:C0})},Ga={55001:{set:"101",part:"3",main:"436"},55002:{set:"101",part:"4",main:"441"},55003:{set:"102",part:"3",main:"434"},55004:{set:"103",part:"3",main:"433"},55005:{set:"103",part:"4",main:"443"},55006:{set:"105",part:"3",main:"434"}};function qr(t){try{const e=y.getMetadata().relics,i=""+t.tid,l=t.level||0;let s=i.substring(1,4);Ga[i]&&(s=Ga[i].set);const o=e.relicSets[s].name;let c=i.substring(4,5);Ga[i]&&(c=Ga[i].part);const r=G0[c],u=i.substring(0,1),R=C0[u];let h=t.mainAffixId;h||(h=Object.values(e.relicMainAffixes[`${R}${c}`].affixes).find(D=>D.property==t.main_affix.type).affix_id);let S=e.relicMainAffixes[`${R}${c}`].affixes[h];Ga[i]&&(S=e.relicMainAffixes[Ga[i].main].affixes[h]);const m=_s[S.property],b=S.base,p=S.step,C=b+p*l,G={stat:m,value:x.precisionRound(C*(x.isFlat(m)?1:100),5)},g=[];for(const D of t.subAffixList){let I=D.affixId;I||(I=Object.values(e.relicSubAffixes[`${R}`].affixes).find(st=>st.property==D.type).affix_id);const F=D.cnt??D.count,E=D.step||0,P=e.relicSubAffixes[R].affixes[I],N=_s[P.property],k=P.base,B=P.step,j=k*F+B*E;g.push({stat:N,value:x.precisionRound(j*(x.isFlat(N)?1:100),5)})}const T={part:r,set:o,enhance:l,grade:R,main:G,substats:g};return ba.augment(T)}catch(e){return console.error(e),null}}let jl,Cs,Jl,Zs=!1;const Ba={fixMainStatvalue:t=>{Zs||Ba.initialize();const e=t.enhance,i=t.main.stat,l=Jl[t.part],o=`${t.grade}${l}`,c=y.getMetadata().relics.relicMainAffixes[o].affixes,r=Object.values(c).find(m=>m.property==Cs[i]);if(!r)return 0;const u=r.step,h=r.base+u*e,S=x.isFlat(i)?h:h*100;return x.precisionRound(S,5)},fixSubStatValue:(t,e,i)=>{if(Zs||Ba.initialize(),t==d.Stats.SPD)return e;const l=$r[i];if(!l)return e;const s=jl[t];if(!s||!l[s])return e;let c=l[s][e];if(!c)return e;c.length&&(c=c[0]);const r=y.getMetadata().relics.relicSubAffixes[i].affixes,u=Object.values(r).find(p=>p.property==Cs[t]);if(!u)return e;const R=u.base,h=u.step,m=(R+h*2)*c,b=x.isFlat(t)?m:m*100;return x.precisionRound(b,5)},initialize:()=>{Zs=!0;const t=bl.getConstantConversions();Cs=x.flipMapping(t.statConversion),Jl=x.flipMapping(t.partConversion),jl=x.flipMapping({ATK:d.Stats.ATK,HP:d.Stats.HP,DEF:d.Stats.DEF,ATK_:d.Stats.ATK_P,HP_:d.Stats.HP_P,DEF_:d.Stats.DEF_P,SPD:d.Stats.SPD,"CRIT Rate_":d.Stats.CR,"CRIT DMG_":d.Stats.CD,"Effect Hit Rate_":d.Stats.EHR,"Effect RES_":d.Stats.RES,"Break Effect_":d.Stats.BE})}},$r={2:{HP:{13:.8,15:.9,16:1},ATK:{6:.8,7:.9,8:1},DEF:{6:.8,7:.9,8:1},HP_:{1.3:.8,1.5:.9,1.7:1},ATK_:{1.3:.8,1.5:.9,1.7:1},DEF_:{1.7:.8,1.9:.9,2.1:1},SPD:{1:[.8,.9,1]},"CRIT Rate_":{1:.8,1.1:.9,1.2:1},"CRIT DMG_":{2:.8,2.3:.9,2.5:1},"Effect Hit Rate_":{1.3:.8,1.5:.9,1.7:1},"Effect RES_":{1.3:.8,1.5:.9,1.7:1},"Break Effect_":{2:.8,2.3:.9,2.5:1}},3:{HP:{20:.8,22:.9,25:1,40:1.6,43:1.7,45:1.8,48:1.9,50:2},ATK:{10:.8,11:.9,12:1,20:1.6,21:1.7,22:1.8,24:1.9,25:2},DEF:{10:.8,11:.9,12:1,20:1.6,21:1.7,22:1.8,24:1.9,25:2},HP_:{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},ATK_:{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},DEF_:{2.5:.8,2.9:.9,3.2:1,5.1:1.6,5.5:1.7,5.8:1.8,6.1:1.9,6.4:2},SPD:{1:[.8,.9,1],2:[1.6,1.7,1.8,1.9,2]},"CRIT Rate_":{1.5:.8,1.7:.9,1.9:1,3.1:1.6,3.3:1.7,3.4:1.8,3.6:1.9,3.8:2},"CRIT DMG_":{3.1:.8,3.4:.9,3.8:1,6.2:1.6,6.6:1.7,6.9:1.8,7.3:1.9,7.7:2},"Effect Hit Rate_":{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},"Effect RES_":{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},"Break Effect_":{3.1:.8,3.4:.9,3.8:1,6.2:1.6,6.6:1.7,6.9:1.8,7.3:1.9,7.7:2}},4:{HP:{27:.8,30:.9,33:1,54:1.6,57:1.7,60:1.8,64:1.9,67:2,81:2.4,84:2.5,88:2.6,91:2.7,94:2.8,98:2.9,101:3,108:3.2,111:3.3,115:3.4,118:3.5,121:3.6,125:3.7,128:3.8,132:3.9,135:4},ATK:{13:.8,15:.9,16:1,27:1.6,28:1.7,30:1.8,32:1.9,33:2,40:2.4,42:2.5,44:2.6,45:2.7,47:2.8,49:2.9,50:3,54:3.2,55:3.3,57:3.4,59:3.5,60:3.6,62:3.7,64:3.8,66:3.9,67:4},DEF:{13:.8,15:.9,16:1,27:1.6,28:1.7,30:1.8,32:1.9,33:2,40:2.4,42:2.5,44:2.6,45:2.7,47:2.8,49:2.9,50:3,54:3.2,55:3.3,57:3.4,59:3.5,60:3.6,62:3.7,64:3.8,66:3.9,67:4},HP_:{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},ATK_:{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},DEF_:{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4},SPD:{1:[.8,.9],2:1,3:[1.6,1.7,1.8,1.9],4:[2,2.4],5:[2.5,2.6,2.7,2.8,2.9],6:[3,3.2,3.3,3.4],7:[3.5,3.6,3.7,3.8,3.9],8:4},"CRIT Rate_":{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2,6.2:2.4,6.4:2.5,6.7:2.6,6.9:2.7,7.2:2.8,7.5:2.9,7.7:3,8.2:3.2,8.5:3.3,8.8:3.4,9:3.5,9.3:3.6,9.5:3.7,9.8:3.8,10.1:3.9,10.3:4},"CRIT DMG_":{4.1:.8,4.6:.9,5.1:1,8.2:1.6,8.8:1.7,9.3:1.8,9.8:1.9,10.3:2,12.4:2.4,12.9:2.5,13.4:2.6,13.9:2.7,14.5:2.8,15:2.9,15.5:3,16.5:3.2,17.1:3.3,17.6:3.4,18.1:3.5,18.6:3.6,19.1:3.7,19.6:3.8,20.2:3.9,20.7:4},"Effect Hit Rate_":{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},"Effect RES_":{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},"Break Effect_":{4.1:.8,4.6:.9,5.1:1,8.2:1.6,8.8:1.7,9.3:1.8,9.8:1.9,10.3:2,12.4:2.4,12.9:2.5,13.4:2.6,13.9:2.7,14.5:2.8,15:2.9,15.5:3,16.5:3.2,17.1:3.3,17.6:3.4,18.1:3.5,18.6:3.6,19.1:3.7,19.6:3.8,20.2:3.9,20.7:4}},5:{HP:{33:.8,38:.9,42:1,67:1.6,71:1.7,76:1.8,80:1.9,84:2,101:2.4,105:2.5,110:2.6,114:2.7,118:2.8,122:2.9,127:3,135:3.2,139:3.3,143:3.4,148:3.5,152:3.6,156:3.7,160:3.8,165:3.9,169:4,173:4.1,177:4.2,182:4.3,186:4.4,190:4.5,194:4.6,198:4.7,203:4.8,207:4.9,211:5,215:5.1,220:5.2,224:5.3,228:5.4,232:5.5,237:5.6,241:5.7,245:5.8,249:5.9,254:6},ATK:{16:.8,19:.9,21:1,33:1.6,35:1.7,38:1.8,40:1.9,42:2,50:2.4,52:2.5,55:2.6,57:2.7,59:2.8,61:2.9,63:3,67:3.2,69:3.3,71:3.4,74:3.5,76:3.6,78:3.7,80:3.8,82:3.9,84:4,86:4.1,88:4.2,91:4.3,93:4.4,95:4.5,97:4.6,99:4.7,101:4.8,103:4.9,105:5,107:5.1,110:5.2,112:5.3,114:5.4,116:5.5,118:5.6,120:5.7,122:5.8,124:5.9,127:6},DEF:{16:.8,19:.9,21:1,33:1.6,35:1.7,38:1.8,40:1.9,42:2,50:2.4,52:2.5,55:2.6,57:2.7,59:2.8,61:2.9,63:3,67:3.2,69:3.3,71:3.4,74:3.5,76:3.6,78:3.7,80:3.8,82:3.9,84:4,86:4.1,88:4.2,91:4.3,93:4.4,95:4.5,97:4.6,99:4.7,101:4.8,103:4.9,105:5,107:5.1,110:5.2,112:5.3,114:5.4,116:5.5,118:5.6,120:5.7,122:5.8,124:5.9,127:6},HP_:{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},ATK_:{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},DEF_:{4.3:.8,4.8:.9,5.4:1,8.6:1.6,9.1:1.7,9.7:1.8,10.2:1.9,10.8:2,12.9:2.4,13.5:2.5,14:2.6,14.5:2.7,15.1:2.8,15.6:2.9,16.2:3,17.2:3.2,17.8:3.3,18.3:3.4,18.9:3.5,19.4:3.6,19.9:3.7,20.5:3.8,21:3.9,21.6:4,22.1:4.1,22.6:4.2,23.2:4.3,23.7:4.4,24.3:4.5,24.8:4.6,25.3:4.7,25.9:4.8,26.4:4.9,27:5,27.5:5.1,28:5.2,28.6:5.3,29.1:5.4,29.7:5.5,30.2:5.6,30.7:5.7,31.3:5.8,31.8:5.9,32.4:6},SPD:{2:[.8,.9,1],4:[1.6,1.7,1.8,1.9],5:2,6:[2.4,2.5,2.6],7:[2.7,2.8,2.9,3],8:[3.2,3.3,3.4],9:[3.5,3.6,3.7,3.8],10:[3.9,4,4.1,4.2],11:[4.3,4.4,4.5,4.6],12:[4.7,4.8,4.9],13:[5,5.1,5.2,5.3],14:[5.4,5.5,5.6,5.7],15:[5.8,5.9,6]},"CRIT Rate_":{2.5:.8,2.9:.9,3.2:1,5.1:1.6,5.5:1.7,5.8:1.8,6.1:1.9,6.4:2,7.7:2.4,8.1:2.5,8.4:2.6,8.7:2.7,9:2.8,9.3:2.9,9.7:3,10.3:3.2,10.6:3.3,11:3.4,11.3:3.5,11.6:3.6,11.9:3.7,12.3:3.8,12.6:3.9,12.9:4,13.2:4.1,13.6:4.2,13.9:4.3,14.2:4.4,14.5:4.5,14.9:4.6,15.2:4.7,15.5:4.8,15.8:4.9,16.2:5,16.5:5.1,16.8:5.2,17.1:5.3,17.4:5.4,17.8:5.5,18.1:5.6,18.4:5.7,18.7:5.8,19.1:5.9,19.4:6},"CRIT DMG_":{5.1:.8,5.8:.9,6.4:1,10.3:1.6,11:1.7,11.6:1.8,12.3:1.9,12.9:2,15.5:2.4,16.2:2.5,16.8:2.6,17.4:2.7,18.1:2.8,18.7:2.9,19.4:3,20.7:3.2,21.3:3.3,22:3.4,22.6:3.5,23.3:3.6,23.9:3.7,24.6:3.8,25.2:3.9,25.9:4,26.5:4.1,27.2:4.2,27.8:4.3,28.5:4.4,29.1:4.5,29.8:4.6,30.4:4.7,31.1:4.8,31.7:4.9,32.4:5,33:5.1,33.6:5.2,34.3:5.3,34.9:5.4,35.6:5.5,36.2:5.6,36.9:5.7,37.5:5.8,38.2:5.9,38.8:6},"Effect Hit Rate_":{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},"Effect RES_":{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},"Break Effect_":{5.1:.8,5.8:.9,6.4:1,10.3:1.6,11:1.7,11.6:1.8,12.3:1.9,12.9:2,15.5:2.4,16.2:2.5,16.8:2.6,17.4:2.7,18.1:2.8,18.7:2.9,19.4:3,20.7:3.2,21.3:3.3,22:3.4,22.6:3.5,23.3:3.6,23.9:3.7,24.6:3.8,25.2:3.9,25.9:4,26.5:4.1,27.2:4.2,27.8:4.3,28.5:4.4,29.1:4.5,29.8:4.6,30.4:4.7,31.1:4.8,31.7:4.9,32.4:5,33:5.1,33.6:5.2,34.3:5.3,34.9:5.4,35.6:5.5,36.2:5.6,36.9:5.7,37.5:5.8,38.2:5.9,38.8:6}}},td={calculateIncrementCounts(t,e){let i=1/0,l=null;function s(o,c,r){if(r===Object.keys(e).length){Math.abs(o-t)<Math.abs(i-t)&&(i=o,l={...c});return}const u=Object.keys(e)[r];for(let R=0;o+R*e[u]<=t+.01;R++)c[u]=R,s(o+R*e[u],c,r+1)}return s(0,{high:0,mid:0,low:0},0),l},calculateRelicSubstatRolls(t){if(t.grade<5){t.substats.map(i=>{i.addedRolls=0});return}let e=0;if(t.substats.forEach(i=>{const l=Rt[i.stat][t.grade],s=this.calculateIncrementCounts(i.value,l);s&&(i.addedRolls=Math.min(5,Math.max(0,s.high+s.mid+s.low-1)),e+=i.addedRolls)}),e>Math.floor(t.enhance/3)){const i=t.substats.reduce((l,s)=>l.addedRolls>s.addedRolls?l:s);i.addedRolls-=1}},calculateStatSum(t){return t?parseFloat(((t.high*100+t.mid*90+t.low*80)/(t.high+t.mid+t.low)).toFixed(2)):0}},ba={augment:function(t){const e={};if(t.grade&&!t.main)return null;const i=t.main.stat;t.main.value=Ba.fixMainStatvalue(t);const l=t.main.value;e.mainStat=i,e.mainValue=l,ed(t);for(const s of t.substats){const o=s.stat;s.value=x.precisionRound(s.value),s.value=Ba.fixSubStatValue(o,s.value,t.grade),e[o]=s.value}return t.enhance>12&&t.grade!=5&&(t.grade=5),t.id||(t.id=i0()),t.augmentedStats=e,nd([t]),td.calculateRelicSubstatRolls(t),t}},Ol={[d.Stats.HP]:0,[d.Stats.ATK]:1,[d.Stats.DEF]:2,[d.Stats.HP_P]:3,[d.Stats.ATK_P]:4,[d.Stats.DEF_P]:5,[d.Stats.SPD]:6,[d.Stats.CR]:7,[d.Stats.CD]:8,[d.Stats.EHR]:9,[d.Stats.RES]:10,[d.Stats.BE]:11};function ed(t){t.substats=t.substats.sort((e,i)=>Ol[e.stat]-Ol[i.stat])}function nd(t){return t.map(e=>{for(const i of Object.values(d.Stats))e.augmentedStats[i]=e.augmentedStats[i]||0,x.isFlat(i)||(e.augmentedStats.mainStat==i&&(e.augmentedStats.mainValue=e.augmentedStats.mainValue/100),e.augmentedStats[i]=e.augmentedStats[i]/100);return e})}var ae=(t=>(t.optimizerCharacterId="optimizerCharacterId",t.relicScorerSidebarOpen="relicScorerSidebarOpen",t.scoringType="scoringType",t.combatScoreDetails="combatScoreDetails",t.computeEngine="computeEngine",t))(ae||{});const ad=Ai([{color:"#5A1A06",pos:0},{color:"#343127",pos:.35},{color:"#38821F",pos:1}]);let gs=Ai("#343127","#38821F"),Ts;const Lt={getColor:(t,e)=>e.rgbAt(t).toHexString(),getOptimizerColumnGradient:t=>{const e=tt.getAggs();try{const i=t.column.colId;if(t.data&&e&&tt.getColumnsToAggregate(!0)[i]){const l=e.minAgg[i],s=e.maxAgg[i];let c=(t.value-l)/(s-l);return s==l&&(c=.5),{backgroundColor:Lt.getColor(Math.min(Math.max(c,0),1),ad)}}}catch(i){console.error(i)}},setTheme(t){gs=Ai(t.colorBgBase,t.colorPrimary)},setToken(t){gs=Ai(t.colorBgElevated,t.colorPrimaryHover)},getRelicGradient(t){const e=t.column.colId,i=t.value;if(Ts||(Ts={[`augmentedStats.${d.Stats.HP}`]:169.35,[`augmentedStats.${d.Stats.ATK}`]:84.675,[`augmentedStats.${d.Stats.DEF}`]:84.675,[`augmentedStats.${d.Stats.SPD}`]:10,[`augmentedStats.${d.Stats.ATK_P}`]:.1728,[`augmentedStats.${d.Stats.HP_P}`]:.1728,[`augmentedStats.${d.Stats.DEF_P}`]:.216,[`augmentedStats.${d.Stats.CR}`]:.1296,[`augmentedStats.${d.Stats.CD}`]:.2592,[`augmentedStats.${d.Stats.EHR}`]:.1728,[`augmentedStats.${d.Stats.RES}`]:.1728,[`augmentedStats.${d.Stats.BE}`]:.2592,cv:.4,"weights.current":64.8,"weights.potentialSelected.averagePct":100,"weights.potentialSelected.bestPct":100,"weights.potentialAllAll":100}),isNaN(i)||i==0)return{};let l;return e.startsWith("weights.potential")?l=i/100:e.startsWith("weights.")?l=i/(6.48*9):l=i/Ts[e],{backgroundColor:Lt.getColor(Math.min(Math.max(l,0),1),gs)}}};function Pt(t){return new URL(Xn+"/assets"+t,import.meta.url).href}let Ci;const U={getStatIcon:(t,e)=>(Ci||(Ci={[d.Stats.HP]:"IconMaxHP.webp",[d.Stats.ATK]:"IconAttack.webp",[d.Stats.DEF]:"IconDefence.webp",[d.Stats.HP_P]:"IconMaxHP.webp",[d.Stats.ATK_P]:"IconAttack.webp",[d.Stats.DEF_P]:"IconDefence.webp",[d.Stats.SPD]:"IconSpeed.webp",[d.Stats.SPD_P]:"IconSpeed.webp",[d.Stats.CR]:"IconCriticalChance.webp",[d.Stats.CD]:"IconCriticalDamage.webp",[d.Stats.EHR]:"IconStatusProbability.webp",[d.Stats.RES]:"IconStatusResistance.webp",[d.Stats.BE]:"IconBreakUp.webp",[d.Stats.ERR]:"IconEnergyRecovery.webp",[d.Stats.OHB]:"IconHealRatio.webp",[d.Stats.Physical_DMG]:"IconPhysicalAddedRatio.webp",[d.Stats.Fire_DMG]:"IconFireAddedRatio.webp",[d.Stats.Ice_DMG]:"IconIceAddedRatio.webp",[d.Stats.Lightning_DMG]:"IconThunderAddedRatio.webp",[d.Stats.Wind_DMG]:"IconWindAddedRatio.webp",[d.Stats.Quantum_DMG]:"IconQuantumAddedRatio.webp",[d.Stats.Imaginary_DMG]:"IconImaginaryAddedRatio.webp"}),t=="CV"?Pt("/misc/cv.webp"):t=="simScore"?Pt("/misc/battle.webp"):t==d.Stats.HP_P&&e?Pt("/misc/IconMaxHPPercent.webp"):t==d.Stats.ATK_P&&e?Pt("/misc/IconAttackPercent.webp"):t==d.Stats.DEF_P&&e?Pt("/misc/IconDefencePercent.webp"):!t||!Ci[t]?U.getBlank():Pt(`/icon/property/${Ci[t]}`)),getCharacterPortraitById:t=>t?Pt(`/image/character_portrait/${t}.webp`):(console.warn("No id found"),U.getBlank()),getCharacterAvatarById:t=>t?Pt(`/icon/avatar/${t}.webp`):U.getBlank(),getCharacterPreviewById:t=>t?Pt(`/image/character_preview/${t}.webp`):U.getBlank(),getLightConePortrait:t=>t?Pt(`/image/light_cone_portrait/${t.id}.webp`):U.getBlank(),getLightConePortraitById:t=>t?Pt(`/image/light_cone_portrait/${t}.webp`):U.getBlank(),getLightConeIconById:t=>t?Pt(`/icon/light_cone/${t}.webp`):U.getBlank(),getPath:t=>t?Pt(`/icon/path/${t}.webp`):U.getBlank(),getPathFromClass:t=>t?Pt(`/icon/path/${t}.webp`):U.getBlank(),getElement:t=>t?Pt(`/icon/element/${t}.webp`):U.getBlank(),getBlank:()=>Pt("/misc/blank.webp"),getQuestion:()=>Pt("/misc/tooltip.webp"),getLogo:()=>Pt("/misc/logo.webp"),getDiscord:()=>Pt("/misc/badgediscord.webp"),getGithub:()=>Pt("/misc/badgegithub.webp"),getKofi:()=>Pt("/misc/badgekofi.webp"),getStar:()=>Pt("/misc/StarBig.webp"),getGuideImage:t=>Pt(`/misc/guide/${t}.webp`),getLocaleGuideImage:(t,e)=>e?Pt(`/misc/guide/${e}/${t}.webp`):U.getBlank(),getStarBw:()=>Pt("/misc/QuestMainIcon.webp"),getFlag:t=>Pt(`/misc/flags/${t}.webp`),getPart:t=>{const e={[d.Parts.Head]:"partHead",[d.Parts.Hands]:"partHands",[d.Parts.Body]:"partBody",[d.Parts.Feet]:"partFeet",[d.Parts.PlanarSphere]:"partPlanarSphere",[d.Parts.LinkRope]:"partLinkRope"};return Pt(`/misc/${e[t]}.webp`)},getChangelog:t=>Pt(`/misc/changelog/${t}`),getSetImage:(t,e,i=!1)=>{if(t==-1)return U.getBlank();e||(e=d.Parts.PlanarSphere);const l={base:"",[d.Parts.Head]:"_0",[d.Parts.Hands]:"_1",[d.Parts.Body]:"_2",[d.Parts.Feet]:"_3",[d.Parts.PlanarSphere]:"_0",[d.Parts.LinkRope]:"_1"};return i?Pt(`/icon/relic/${Be[t]}.webp`):t==ul||t==ml?Pt(`/icon/relic/${Be[d.Sets.SacerdosRelivedOrdeal]}${l[e]}.webp`):Pt(`/icon/relic/${Be[t]}${l[e]}.webp`)}},O={floor:t=>t==null||t.value==null?"":Math.floor(t.value),x100Tenths:t=>t==null||t.value==null?"":(Math.floor(x.precisionRound(t.value*100)*10)/10).toFixed(1),tenths:t=>t==null||t.value==null?"":(Math.floor(x.precisionRound(t.value)*10)/10).toFixed(1),relicSet:t=>{if(t==null||t.value==null||isNaN(t.value))return"";const e=t.value,i=Object.values(d.SetsRelics).length,l=[],s=e%i,o=(e-s)/i%i,c=(e-o*i-s)/(i*i)%i,r=(e-c*i*i-o*i-s)/(i*i*i)%i,u=[s,o,c,r];for(;u.length>0;){const R=u[0];if(u.lastIndexOf(R)){const h=Object.entries(d.RelicSetToIndex).find(b=>b[1]==R)[0],S=U.getSetImage(h,d.Parts.Head);l.push(S);const m=u.lastIndexOf(R);u.splice(m,1)}u.splice(0,1)}return l.sort(),a.jsxs(f,{justify:"center",style:{marginTop:-1},children:[a.jsx(sa,{asset:l[0]}),a.jsx(sa,{asset:l[1]})]})},ornamentSet:t=>{if(t==null||t.value==null)return"";const e=t.value,i=Object.values(d.SetsOrnaments).length;let l;const s=e%i,o=(e-s)/i%i;if(s==o){const c=Object.entries(d.OrnamentSetToIndex).find(r=>r[1]==s)[0];return l=U.getSetImage(c,d.Parts.PlanarSphere),a.jsx(f,{justify:"center",style:{marginTop:-1},children:a.jsx(sa,{asset:l})})}else return""},anySet:t=>{if(t==null||t.value==null)return"";const e=t.data.part,i=U.getSetImage(t.data.set,e);return a.jsx(f,{justify:"center",title:t.data.set,style:{marginTop:-1},children:a.jsx(sa,{asset:i})})},characterIcon:t=>{if(t==null||t.value==null)return"";const e=t.data.equippedBy;if(!e)return"";const i=U.getCharacterAvatarById(e);return a.jsx(f,{justify:"center",style:{marginTop:-1},children:a.jsx(sa,{asset:i})})},readableStat:t=>t==null||t.value==null?"":V.t(`common:ShortReadableStats.${t.value}`),readablePart:t=>t==null||t.value==null?"":V.t(`common:ReadableParts.${t.value}`),partIcon:t=>t==null||t.value==null?"":a.jsx(f,{justify:"center",style:{marginTop:-1,width:20,marginBottom:3},children:a.jsx(sa,{asset:U.getPart(t.value)})}),hideZeroes:t=>t.value==0?"":t.value,hideZeroesFloor:t=>t.value==0?"":Math.floor(t.value),hideZeroes10thsRelicTabSpd:t=>{if(t.value==0)return"";const e=x.precisionRound(Math.floor(t.value*10)/10);return t.data.verified?e.toFixed(1):e},mainValueRenderer:t=>{const e=t.data.part;return e==d.Parts.Hands||e==d.Parts.Head?t.value==0?"":Math.floor(t.value):t.value==0?"":x.truncate10ths(t.value)},hideZeroesX100Tenths:t=>t.value==0?"":O.x100Tenths(t),scoreRenderer:t=>Math.round(t.value),hideNaNAndFloor:t=>isNaN(t.value)?0:Math.floor(t.value),hideNaNAndFloorPercent:t=>(isNaN(t.value)?0:Math.floor(t.value))+"%",renderSubstatNumber:(t,e)=>t.stat==d.Stats.SPD?e.verified?x.truncate10ths(t.value).toFixed(1):Math.floor(t.value):x.isFlat(t.stat)?Math.floor(t.value):x.truncate10ths(t.value).toFixed(1),renderMainStatNumber:t=>x.isFlat(t.stat)?Math.floor(t.value):x.truncate10ths(t.value).toFixed(1),renderGradeCell:t=>{const e=t.data;return O.renderGrade(e)},renderGrade:(t,e=!1)=>{const i=id[t.grade]||"";return(e?t.verified=="true":t.verified)?a.jsx(s0,{mouseEnterDelay:.4,title:V.t("common:VerifiedRelicHoverText"),children:a.jsx(Qi,{style:{fontSize:"14px",color:i}})}):a.jsx("div",{style:{width:14,height:14,borderRadius:"50%",background:i}})},renderEquippedBy:({equippedBy:t})=>t=="true"?a.jsx(Qi,{style:{fontSize:"14px",color:"#6de362"}}):a.jsx(sl,{style:{fontSize:"14px",color:"#de5555"}})},id={5:"#efb679",4:"#cc52f1",3:"#58beed",2:"#63e0ac",[-1]:"#bdbdbd"};function sa(t){return t.asset?a.jsx(oi,{src:t.asset,width:32,preview:!1}):""}sa.propTypes={asset:_.string};const Ea=46,$t=50,Z0=52,dn=56,g0=62,de=5,Xe=211,T0=11;function sd(t){return[{field:"relicSetIndex",cellRenderer:O.relicSet,width:72,headerName:t("Grid.Headers.Basic.Set")},{field:"ornamentSetIndex",cellRenderer:O.ornamentSet,width:42,headerName:t("Grid.Headers.Basic.ATK")},{field:d.Stats.ATK,valueFormatter:O.floor,width:$t,headerName:t("Grid.Headers.Basic.ATK"),cellStyle:Lt.getOptimizerColumnGradient},{field:d.Stats.DEF,valueFormatter:O.floor,width:$t,headerName:t("Grid.Headers.Basic.DEF"),cellStyle:Lt.getOptimizerColumnGradient},{field:d.Stats.HP,valueFormatter:O.floor,width:$t,headerName:t("Grid.Headers.Basic.HP"),cellStyle:Lt.getOptimizerColumnGradient},{field:d.Stats.SPD,valueFormatter:O.tenths,width:$t,headerName:t("Grid.Headers.Basic.SPD"),cellStyle:Lt.getOptimizerColumnGradient},{field:d.Stats.CR,valueFormatter:O.x100Tenths,width:$t,headerName:t("Grid.Headers.Basic.CR"),cellStyle:Lt.getOptimizerColumnGradient},{field:d.Stats.CD,valueFormatter:O.x100Tenths,width:$t,headerName:t("Grid.Headers.Basic.CD"),cellStyle:Lt.getOptimizerColumnGradient},{field:d.Stats.EHR,valueFormatter:O.x100Tenths,width:$t,headerName:t("Grid.Headers.Basic.EHR"),cellStyle:Lt.getOptimizerColumnGradient},{field:d.Stats.RES,valueFormatter:O.x100Tenths,width:Ea,headerName:t("Grid.Headers.Basic.RES"),cellStyle:Lt.getOptimizerColumnGradient},{field:d.Stats.BE,valueFormatter:O.x100Tenths,width:$t,headerName:t("Grid.Headers.Basic.BE"),cellStyle:Lt.getOptimizerColumnGradient},{field:d.Stats.OHB,valueFormatter:O.x100Tenths,width:Ea,headerName:t("Grid.Headers.Basic.OHB")},{field:d.Stats.ERR,valueFormatter:O.x100Tenths,width:Ea,headerName:t("Grid.Headers.Basic.ERR")},{field:"ED",valueFormatter:O.x100Tenths,width:$t,headerName:t("Grid.Headers.Basic.DMG")},{field:"EHP",valueFormatter:O.floor,width:$t,headerName:t("Grid.Headers.Basic.EHP")},{field:"WEIGHT",valueFormatter:O.floor,width:Z0,headerName:t("Grid.Headers.Basic.WEIGHT")},{field:"BASIC",valueFormatter:O.floor,width:dn,headerName:t("Grid.Headers.Basic.BASIC")},{field:"SKILL",valueFormatter:O.floor,width:dn,headerName:t("Grid.Headers.Basic.SKILL")},{field:"ULT",valueFormatter:O.floor,width:dn,headerName:t("Grid.Headers.Basic.CR")},{field:"FUA",valueFormatter:O.floor,width:dn,headerName:t("Grid.Headers.Basic.FUA")},{field:"DOT",valueFormatter:O.floor,width:dn,headerName:t("Grid.Headers.Basic.DOT")},{field:"BREAK",valueFormatter:O.floor,width:$t,headerName:t("Grid.Headers.Basic.BREAK")},{field:"COMBO",valueFormatter:O.floor,width:g0,headerName:t("Grid.Headers.Basic.COMBO")}]}function ld(t){return[{field:"relicSetIndex",cellRenderer:O.relicSet,width:72,headerName:t("Grid.Headers.Combat.Set")},{field:"ornamentSetIndex",cellRenderer:O.ornamentSet,width:42,headerName:t("Grid.Headers.Combat.Set")},{field:"xATK",valueFormatter:O.floor,width:$t,cellStyle:Lt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.ATK")},{field:"xDEF",valueFormatter:O.floor,width:$t,cellStyle:Lt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.DEF")},{field:"xHP",valueFormatter:O.floor,width:$t,cellStyle:Lt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.HP")},{field:"xSPD",valueFormatter:O.tenths,width:$t,cellStyle:Lt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.SPD")},{field:"xCR",valueFormatter:O.x100Tenths,width:$t,cellStyle:Lt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.CR")},{field:"xCD",valueFormatter:O.x100Tenths,width:$t,cellStyle:Lt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.CD")},{field:"xEHR",valueFormatter:O.x100Tenths,width:$t,cellStyle:Lt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.EHR")},{field:"xRES",valueFormatter:O.x100Tenths,width:Ea,cellStyle:Lt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.RES")},{field:"xBE",valueFormatter:O.x100Tenths,width:$t,cellStyle:Lt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.BE")},{field:"xOHB",valueFormatter:O.x100Tenths,width:Ea,headerName:t("Grid.Headers.Combat.OHB")},{field:"xERR",valueFormatter:O.x100Tenths,width:Ea,headerName:t("Grid.Headers.Combat.ERR")},{field:"xELEMENTAL_DMG",valueFormatter:O.x100Tenths,width:$t,headerName:t("Grid.Headers.Combat.DMG")},{field:"EHP",valueFormatter:O.floor,width:$t,headerName:t("Grid.Headers.Combat.EHP")},{field:"WEIGHT",valueFormatter:O.floor,width:Z0,headerName:t("Grid.Headers.Combat.WEIGHT")},{field:"BASIC",valueFormatter:O.floor,width:dn,headerName:t("Grid.Headers.Combat.BASIC")},{field:"SKILL",valueFormatter:O.floor,width:dn,headerName:t("Grid.Headers.Combat.SKILL")},{field:"ULT",valueFormatter:O.floor,width:dn,headerName:t("Grid.Headers.Combat.ULT")},{field:"FUA",valueFormatter:O.floor,width:dn,headerName:t("Grid.Headers.Combat.FUA")},{field:"DOT",valueFormatter:O.floor,width:dn,headerName:t("Grid.Headers.Combat.DOT")},{field:"BREAK",valueFormatter:O.floor,width:$t,headerName:t("Grid.Headers.Combat.BREAK")},{field:"COMBO",valueFormatter:O.floor,width:g0,headerName:t("Grid.Headers.Combat.COMBO")}]}const zl={rowHeight:33,pagination:!0,rowSelection:"single",rowModelType:"infinite",datasource:null,paginationPageSize:500,paginationPageSizeSelector:[100,500,1e3],cacheBlockSize:500,maxBlocksInCache:1,suppressDragLeaveHidesColumns:!0,suppressScrollOnNewData:!0,suppressMultiSort:!0,getRowId:t=>String(t.data.id||x.randomId())},od={cellStyle:Lt.getOptimizerColumnGradient,sortable:!0,sortingOrder:["desc","asc"],wrapHeaderText:!0,autoHeaderHeight:!0},{useToken:cd}=Ce,rd="rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.15) 0px 0px 0px 1px inset",dd=5,ud=Xe,md=373,bd=1183,hd={small:ud,medium:md,large:bd};function Ue(t){var s;const{token:e}=cd(),i=t.size??"small",l=hd[i];return a.jsx(f,{style:{borderRadius:5,backgroundColor:e.colorBgContainer,height:t.height??350,padding:T0,boxShadow:rd,overflow:(s=t.style)==null?void 0:s.overflow},children:a.jsx(f,{style:{width:l},justify:t.justify??void 0,children:a.jsx(f,{vertical:!0,style:{width:l-.5},gap:dd,justify:t.justify??void 0,children:t.children})})})}function da(t){const e=t.width??10;return a.jsx(f,{vertical:!0,children:a.jsx(Ge,{type:"vertical",style:{flexGrow:1,margin:`10px ${e}px`}})})}const D0=xe(Ge)`
    margin: 5px 0px;
`;function wt(t){return t>>2}function $(t){return Math.min(1,t>>1)}function Zn(){const t={mainStat:d.Stats.HP,mainValue:0};for(const e of Object.values(d.Stats))t[e]=0;return{set:-1,augmentedStats:t,substats:[]}}function pd(){return{[n.HP]:0,[n.ATK]:0,[n.DEF]:0}}const _l={[d.Stats.SPD]:[7.613,11.419,16.426,25.032],[d.Stats.HP]:[139.991,281.111,469.647,705.6],[d.Stats.ATK]:[69.996,140.556,234.824,352.8],[d.Stats.HP_P]:[8.571,17.211,28.754,43.2],[d.Stats.ATK_P]:[8.571,17.211,28.754,43.2],[d.Stats.DEF_P]:[10.714,21.514,35.942,54],[d.Stats.CR]:[6.428,12.908,21.565,32.4],[d.Stats.CD]:[12.856,25.817,43.13,64.8],[d.Stats.OHB]:[6.856,13.769,23.003,34.561],[d.Stats.EHR]:[8.571,17.211,28.754,43.2],[d.Stats.BE]:[12.856,25.817,43.13,64.8],[d.Stats.ERR]:[3.857,7.745,12.939,19.439],[d.Stats.Physical_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Fire_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Ice_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Lightning_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Wind_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Quantum_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Imaginary_DMG]:[7.714,15.49,25.878,38.88]},Je={getMaxedSubstatValue:(t,e=1)=>e==.8?x.precisionRound(Rt[t][5].low):e==.9?x.precisionRound(Rt[t][5].mid):x.precisionRound(Rt[t][5].high),getMaxedStatValue:t=>{if(t==="NONE")return 0;const e=x.isFlat(t)?1:100;return x.precisionRound(_l[t][3]/e)},getMaxedMainStat:t=>_l[t.main.stat][t.grade-2],calculateCv:t=>{let e=0;for(const i of t)if(!(!i||!i.condensedStats))for(const l of i.condensedStats)l[0]==d.Stats.CD&&(e+=l[1]),l[0]==d.Stats.CR&&(e+=l[1]*2);return x.precisionRound(e*100)}},W={clone(t){return t&&JSON.parse(JSON.stringify(t))},objectHash(t){return a0(t)},sumArray:t=>t.reduce((e,i)=>e+i,0),precisionRound:(t,e=5)=>{const i=Math.pow(10,e);return Math.round(t*i)/i},calculateRelicMainStatValue:(t,e,i)=>d.MainStatsValues[t][e].base+d.MainStatsValues[t][e].increment*i},ee={calculateWeightScore:(t,e)=>{const i=t.weights||{},l=y.getMetadata().characters[t.characterId].stats,s={[d.Stats.HP_P]:64.8/43.2,[d.Stats.ATK_P]:64.8/43.2,[d.Stats.DEF_P]:64.8/54,[d.Stats.HP]:1/(l[d.Stats.HP]*2*.01)*(64.8/43.2),[d.Stats.ATK]:1/(l[d.Stats.ATK]*2*.01)*(64.8/43.2),[d.Stats.DEF]:1/(l[d.Stats.DEF]*2*.01)*(64.8/54),[d.Stats.CR]:64.8/32.4,[d.Stats.CD]:64.8/64.8,[d.Stats.OHB]:64.8/34.5,[d.Stats.EHR]:64.8/43.2,[d.Stats.RES]:64.8/43.2,[d.Stats.SPD]:64.8/25,[d.Stats.BE]:64.8/64.8};i[d.Stats.ATK]=i[d.Stats.ATK_P],i[d.Stats.DEF]=i[d.Stats.DEF_P],i[d.Stats.HP]=i[d.Stats.HP_P];for(const o of Object.keys(i))i[o]==null&&(i[o]=0);for(const o of e){let c=0;for(const r of o.substats){const u=i[r.stat]||0,R=s[r.stat]||0,h=r.value||0;c+=h*u*R}o.weightScore=c}return e},applyTopFilter:(t,e,i)=>{const l=t.weights||{},s={[Z.Head]:l.headHands||0,[Z.Hands]:l.headHands||0,[Z.Body]:l.bodyFeet||0,[Z.Feet]:l.bodyFeet||0,[Z.PlanarSphere]:l.sphereRope||0,[Z.LinkRope]:l.sphereRope||0};for(const o of Object.values(d.Parts)){const c=e[o];e[o]=c.filter(r=>r.weightScore>=s[o]*6.48*.8)}return e},applyRankFilter:(t,e)=>{if(!t.rankFilter)return e;const i=y.getCharacters(),l=t.characterId,s={};for(let o=0;o<i.length;o++){const c=i[o];if(c.id!=l){if(o>=t.rank)break;Object.values(c.equipped).filter(r=>r!=null).map(r=>s[r]=!0)}}return e.filter(o=>!s[o.id])},applyExcludeFilter:(t,e)=>{if(!t.exclude)return e;const i=y.getCharacters(),l=[];for(const s of i)t.exclude.includes(s.id)&&s.id!=t.characterId&&Object.values(s.equipped).filter(o=>o!=null).map(o=>l[o]=!0);return e.filter(s=>!l[s.id])},applyMainFilter:(t,e)=>{const i=[];return i.push(...e.filter(l=>l.part==d.Parts.Head)),i.push(...e.filter(l=>l.part==d.Parts.Hands)),i.push(...e.filter(l=>l.part==d.Parts.Body).filter(l=>t.mainBody.length==0||t.mainBody.includes(l.main.stat))),i.push(...e.filter(l=>l.part==d.Parts.Feet).filter(l=>t.mainFeet.length==0||t.mainFeet.includes(l.main.stat))),i.push(...e.filter(l=>l.part==d.Parts.PlanarSphere).filter(l=>t.mainPlanarSphere.length==0||t.mainPlanarSphere.includes(l.main.stat))),i.push(...e.filter(l=>l.part==d.Parts.LinkRope).filter(l=>t.mainLinkRope.length==0||t.mainLinkRope.includes(l.main.stat))),i},applyEnhanceFilter:(t,e)=>e.filter(i=>i.enhance>=t.enhance),applyEquippedFilter:(t,e)=>{if(t.includeEquippedRelics)return e;const i=t.characterId||"99999999";let l=[];return window.store.getState().characters.forEach(o=>{o.id!=i&&(l=l.concat(Object.values(o.equipped)))}),e.filter(o=>!l.includes(o.id))},applyGradeFilter:(t,e)=>e.filter(i=>i.grade?i.grade>=t.grade:!0),applySetFilter:(t,e)=>{function i(s,o){if(!s.relicSets||s.relicSets.length==0)return o;let c=x.arrayOfZeroes(Object.values(d.SetsRelics).length);for(const r of s.relicSets){if(r[0]==De.relic4Piece&&(r.length==1&&(c=x.arrayOfValue(Object.values(d.SetsRelics).length,1)),r.length==2)){const u=d.RelicSetToIndex[r[1]];c[u]=1}if(r[0]==De.relic2PlusAny&&(c=x.arrayOfValue(Object.values(d.SetsRelics).length,1)),(r[0]=="2 Piece"||r[0]==De.relic2Plus2Piece)&&(r.length==1&&(c=x.arrayOfValue(Object.values(d.SetsRelics).length,1)),r.length==2&&(c=x.arrayOfValue(Object.values(d.SetsRelics).length,1)),r.length==3)){r[2]=="Any"&&(c=x.arrayOfValue(Object.values(d.SetsRelics).length,1));const u=d.RelicSetToIndex[r[1]];c[u]=1;const R=d.RelicSetToIndex[r[2]];c[R]=1}}return o.filter(r=>r.part==d.Parts.Head||r.part==d.Parts.Hands||r.part==d.Parts.Body||r.part==d.Parts.Feet?c[d.RelicSetToIndex[r.set]]==1:!0)}function l(s,o){if(!s.ornamentSets||s.ornamentSets.length==0)return o;const c=x.arrayOfZeroes(Object.values(d.SetsOrnaments).length);for(const r of s.ornamentSets){const u=d.OrnamentSetToIndex[r];c[u]=1}return o.filter(r=>r.part==d.Parts.PlanarSphere||r.part==d.Parts.LinkRope?c[d.OrnamentSetToIndex[r.set]]==1:!0)}return l(t,i(t,e))},applyCurrentFilter:(t,e)=>{if(!t.keepCurrentRelics)return e;const i=y.getCharacterById(t.characterId);if(!i)return e;function l(s){if(!i.equipped[s])return e[s];const o=e[s].find(c=>c.id==i.equipped[s]);return o?[o]:[]}return{Head:l(d.Parts.Head),Hands:l(d.Parts.Hands),Body:l(d.Parts.Body),Feet:l(d.Parts.Feet),PlanarSphere:l(d.Parts.PlanarSphere),LinkRope:l(d.Parts.LinkRope)}},splitRelicsByPart:t=>({Head:t.filter(e=>e.part==d.Parts.Head),Hands:t.filter(e=>e.part==d.Parts.Hands),Body:t.filter(e=>e.part==d.Parts.Body),Feet:t.filter(e=>e.part==d.Parts.Feet),PlanarSphere:t.filter(e=>e.part==d.Parts.PlanarSphere),LinkRope:t.filter(e=>e.part==d.Parts.LinkRope)}),applyMainStatsFilter:({mainStatUpscaleLevel:t},e)=>(t&&e.map(i=>{const{grade:l,enhance:s,main:{stat:o}}=i,c=l*3;if(s<c&&s<t){const r=c<t?c:t,u=W.calculateRelicMainStatValue(o,l,r)/(x.isFlat(i.main.stat)?1:100);return i.augmentedStats.mainValue=u}}),e),condenseRelicSubstatsForOptimizerSingle:t=>{for(const e of t){e.condensedStats=[];for(const i of e.substats){const l=i.stat,s=ql(l,i.value);e.condensedStats.push([l,s])}e.condensedStats.push([e.augmentedStats.mainStat,e.augmentedStats.mainValue]),delete e.augmentedStats,delete e.weights}},condenseRelicSubstatsForOptimizer:t=>{for(const e of Object.keys(d.Parts)){const i=t[e];for(const l of i){l.condensedStats=[];for(const s of l.substats){const o=s.stat,c=ql(o,s.value);l.condensedStats.push([o,c])}l.condensedStats.push([l.augmentedStats.mainStat,l.augmentedStats.mainValue]),delete l.augmentedStats,delete l.weights}}return t}};function ql(t,e){return x.precisionRound(x.isFlat(t)?e:e/100)}const xa={getZeroes:function(){return{[d.Stats.ATK]:0,[d.Stats.DEF]:0,[d.Stats.HP]:0,[d.Stats.ATK_P]:0,[d.Stats.DEF_P]:0,[d.Stats.HP_P]:0,[d.Stats.SPD]:0,[d.Stats.SPD_P]:0,[d.Stats.CR]:0,[d.Stats.CD]:0,[d.Stats.EHR]:0,[d.Stats.RES]:0,[d.Stats.BE]:0,[d.Stats.ERR]:0,[d.Stats.OHB]:0,[d.Stats.Physical_DMG]:0,[d.Stats.Fire_DMG]:0,[d.Stats.Ice_DMG]:0,[d.Stats.Lightning_DMG]:0,[d.Stats.Wind_DMG]:0,[d.Stats.Quantum_DMG]:0,[d.Stats.Imaginary_DMG]:0}}},rt=.06,ue=1,Ot=2,Mt=4,Vt=8,In=16,wa=32,V0=64,Rd={BASIC_DMG_TYPE:ue,SKILL_DMG_TYPE:Ot,ULT_DMG_TYPE:Mt,FUA_DMG_TYPE:Vt,DOT_DMG_TYPE:In,BREAK_DMG_TYPE:wa,SUPER_BREAK_DMG_TYPE:V0,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:1e-4,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0,ELEMENTAL_DMG:0,BASIC_SCALING:0,SKILL_SCALING:0,ULT_SCALING:0,FUA_SCALING:0,DOT_SCALING:0,BASIC_CR_BOOST:0,SKILL_CR_BOOST:0,ULT_CR_BOOST:0,FUA_CR_BOOST:0,BASIC_CD_BOOST:0,SKILL_CD_BOOST:0,ULT_CD_BOOST:0,FUA_CD_BOOST:0,BASIC_BOOST:0,SKILL_BOOST:0,ULT_BOOST:0,FUA_BOOST:0,DOT_BOOST:0,VULNERABILITY:0,BASIC_VULNERABILITY:0,SKILL_VULNERABILITY:0,ULT_VULNERABILITY:0,FUA_VULNERABILITY:0,DOT_VULNERABILITY:0,BREAK_VULNERABILITY:0,DEF_PEN:0,BASIC_DEF_PEN:0,SKILL_DEF_PEN:0,ULT_DEF_PEN:0,FUA_DEF_PEN:0,DOT_DEF_PEN:0,BREAK_DEF_PEN:0,SUPER_BREAK_DEF_PEN:0,RES_PEN:0,PHYSICAL_RES_PEN:0,FIRE_RES_PEN:0,ICE_RES_PEN:0,LIGHTNING_RES_PEN:0,WIND_RES_PEN:0,QUANTUM_RES_PEN:0,IMAGINARY_RES_PEN:0,BASIC_RES_PEN:0,SKILL_RES_PEN:0,ULT_RES_PEN:0,FUA_RES_PEN:0,DOT_RES_PEN:0,BASIC_DMG:0,SKILL_DMG:0,ULT_DMG:0,FUA_DMG:0,DOT_DMG:0,BREAK_DMG:0,COMBO_DMG:0,DMG_RED_MULTI:1,EHP:0,DOT_CHANCE:0,EFFECT_RES_PEN:0,DOT_SPLIT:0,DOT_STACKS:0,ENEMY_WEAKNESS_BROKEN:0,SUPER_BREAK_MODIFIER:0,BASIC_SUPER_BREAK_MODIFIER:0,SUPER_BREAK_HMC_MODIFIER:0,BASIC_TOUGHNESS_DMG:0,SKILL_TOUGHNESS_DMG:0,ULT_TOUGHNESS_DMG:0,FUA_TOUGHNESS_DMG:0,BASIC_ORIGINAL_DMG_BOOST:0,SKILL_ORIGINAL_DMG_BOOST:0,ULT_ORIGINAL_DMG_BOOST:0,BASIC_BREAK_DMG_MODIFIER:0,ULT_CD_OVERRIDE:0,ULT_BOOSTS_MULTI:1,RATIO_BASED_HP_BUFF:0,RATIO_BASED_HP_P_BUFF:0,RATIO_BASED_ATK_BUFF:0,RATIO_BASED_ATK_P_BUFF:0,RATIO_BASED_DEF_BUFF:0,RATIO_BASED_DEF_P_BUFF:0,RATIO_BASED_SPD_BUFF:0,RATIO_BASED_CD_BUFF:0,BREAK_EFFICIENCY_BOOST:0,BASIC_BREAK_EFFICIENCY_BOOST:0,ULT_BREAK_EFFICIENCY_BOOST:0,sets:{},WEIGHT:0},Ta=(t,e=8)=>{const i=Math.pow(10,e);return Math.round(t*i)/i},ha=(t,e,i)=>{const l=Sd(t.sets.TheAshblazingGrandDuke),o=.06*e.setConditionals[d.Sets.TheAshblazingGrandDuke][1]*l*e.baseAtk;return i*l*e.baseAtk-o},J=(t,e)=>t.find(i=>i.id==e),Sd=t=>t>>2,se=t=>(e,i,l)=>e>=t?l:i,it={SKILL_TALENT_3_ULT_BASIC_5:{basic:se(5),skill:se(3),ult:se(5),talent:se(3)},SKILL_BASIC_3_ULT_TALENT_5:{basic:se(3),skill:se(3),ult:se(5),talent:se(5)},ULT_TALENT_3_SKILL_BASIC_5:{basic:se(5),skill:se(5),ult:se(3),talent:se(3)},ULT_BASIC_3_SKILL_TALENT_5:{basic:se(3),skill:se(5),ult:se(3),talent:se(5)},SKILL_ULT_3_BASIC_TALENT_5:{basic:se(5),skill:se(3),ult:se(3),talent:se(5)}};function Ht(t){t.BASIC_DMG+=t.BASIC_SCALING*t[n.ATK],t.SKILL_DMG+=t.SKILL_SCALING*t[n.ATK],t.ULT_DMG+=t.ULT_SCALING*t[n.ATK],t.FUA_DMG+=t.FUA_SCALING*t[n.ATK],t.DOT_DMG+=t.DOT_SCALING*t[n.ATK]}function Xt(){return`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;
x.FUA_DMG += x.FUA_SCALING * x.ATK;
x.DOT_DMG += x.DOT_SCALING * x.ATK;
    `}function W0(t){t.BASIC_DMG+=t.BASIC_SCALING*t[n.HP],t.SKILL_DMG+=t.SKILL_SCALING*t[n.HP],t.ULT_DMG+=t.ULT_SCALING*t[n.HP],t.FUA_DMG+=t.FUA_SCALING*t[n.HP],t.DOT_DMG+=t.DOT_SCALING*t[n.HP]}function I0(){return`
x.BASIC_DMG += x.BASIC_SCALING * x.HP;
x.SKILL_DMG += x.SKILL_SCALING * x.HP;
x.ULT_DMG += x.ULT_SCALING * x.HP;
x.FUA_DMG += x.FUA_SCALING * x.HP;
x.DOT_DMG += x.DOT_SCALING * x.HP;
    `}function Le(t,e,i){t.BASIC_DMG+=t.BASIC_SCALING*t[n.ATK],t.SKILL_DMG+=t.SKILL_SCALING*t[n.ATK],t.ULT_DMG+=t.ULT_SCALING*t[n.ATK],t.FUA_DMG+=t.FUA_SCALING*(t[n.ATK]+ha(t,e,i)),t.DOT_DMG+=t.DOT_SCALING*t[n.ATK]}function ye(t){return`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;
x.FUA_DMG += x.FUA_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${t}));
x.DOT_DMG += x.DOT_SCALING * x.ATK;
    `}function ot(t,e,i,l){l!==!1&&(e&t.BASIC_DMG_TYPE&&(t.BASIC_BOOST+=i),e&t.SKILL_DMG_TYPE&&(t.SKILL_BOOST+=i),e&t.ULT_DMG_TYPE&&(t.ULT_BOOST+=i),e&t.FUA_DMG_TYPE&&(t.FUA_BOOST+=i),e&t.DOT_DMG_TYPE&&(t.DOT_BOOST+=i))}function an(t,e,i,l){l!==!1&&(e&t.BASIC_DMG_TYPE&&(t.BASIC_VULNERABILITY+=i),e&t.SKILL_DMG_TYPE&&(t.SKILL_VULNERABILITY+=i),e&t.ULT_DMG_TYPE&&(t.ULT_VULNERABILITY+=i),e&t.FUA_DMG_TYPE&&(t.FUA_VULNERABILITY+=i),e&t.DOT_DMG_TYPE&&(t.DOT_VULNERABILITY+=i),e&t.BREAK_DMG_TYPE&&(t.BREAK_VULNERABILITY+=i))}function Pa(t,e,i,l){l!==!1&&(e&t.BASIC_DMG_TYPE&&(t.BASIC_RES_PEN+=i),e&t.SKILL_DMG_TYPE&&(t.SKILL_RES_PEN+=i),e&t.ULT_DMG_TYPE&&(t.ULT_RES_PEN+=i),e&t.FUA_DMG_TYPE&&(t.FUA_RES_PEN+=i),e&t.DOT_DMG_TYPE&&(t.DOT_RES_PEN+=i))}function hn(t,e,i,l){l!==!1&&(e&t.BASIC_DMG_TYPE&&(t.BASIC_DEF_PEN+=i),e&t.SKILL_DMG_TYPE&&(t.SKILL_DEF_PEN+=i),e&t.ULT_DMG_TYPE&&(t.ULT_DEF_PEN+=i),e&t.FUA_DMG_TYPE&&(t.FUA_DEF_PEN+=i),e&t.DOT_DMG_TYPE&&(t.DOT_DEF_PEN+=i),e&t.BREAK_DMG_TYPE&&(t.BREAK_DEF_PEN+=i),e&t.SUPER_BREAK_DMG_TYPE&&(t.SUPER_BREAK_DEF_PEN+=i))}function hl(t,e,i,l){l!==!1&&(e&t.BASIC_DMG_TYPE&&(t.BASIC_CR_BOOST+=i),e&t.SKILL_DMG_TYPE&&(t.SKILL_CR_BOOST+=i),e&t.ULT_DMG_TYPE&&(t.ULT_CR_BOOST+=i),e&t.FUA_DMG_TYPE&&(t.FUA_CR_BOOST+=i))}function Vn(t,e,i,l){l!==!1&&(e&t.BASIC_DMG_TYPE&&(t.BASIC_CD_BOOST+=i),e&t.SKILL_DMG_TYPE&&(t.SKILL_CD_BOOST+=i),e&t.ULT_DMG_TYPE&&(t.ULT_CD_BOOST+=i),e&t.FUA_DMG_TYPE&&(t.FUA_CD_BOOST+=i))}const fd=t=>{const e=V.getFixedT(null,"conditionals","Characters.Argenti"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=t>=4?12:10,r=i(t,1,1.1),u=l(t,1.2,1.32),R=s(t,1.6,1.728),h=s(t,2.8,3.024),S=s(t,.95,1.026),m=o(t,.025,.028),b=[{formItem:"switch",id:"ultEnhanced",name:"ultEnhanced",text:e("Content.ultEnhanced.text"),title:e("Content.ultEnhanced.title"),content:e("Content.ultEnhanced.content",{ultEnhancedExtraHitScaling:W.precisionRound(100*S),ultEnhancedScaling:W.precisionRound(100*h)})},{formItem:"switch",id:"enemyHp50",name:"enemyHp50",text:e("Content.enemyHp50.text"),title:e("Content.enemyHp50.title"),content:e("Content.enemyHp50.content")},{formItem:"slider",id:"talentStacks",name:"talentStacks",text:e("Content.talentStacks.text"),title:e("Content.talentStacks.title"),content:e("Content.talentStacks.content",{talentMaxStacks:W.precisionRound(100*c),talentCrStackValue:W.precisionRound(100*m)}),min:0,max:c},{formItem:"slider",id:"ultEnhancedExtraHits",name:"ultEnhancedExtraHits",text:e("Content.ultEnhancedExtraHits.text"),title:e("Content.ultEnhancedExtraHits.title"),content:e("Content.ultEnhancedExtraHits.content",{ultEnhancedExtraHitScaling:W.precisionRound(100*S)}),min:0,max:6},{formItem:"switch",id:"e2UltAtkBuff",name:"e2UltAtkBuff",text:e("Content.e2UltAtkBuff.text"),title:e("Content.e2UltAtkBuff.title"),content:e("Content.e2UltAtkBuff.content"),disabled:t<2}];return{content:()=>b,teammateContent:()=>[],defaults:()=>({ultEnhanced:!0,talentStacks:c,ultEnhancedExtraHits:6,e2UltAtkBuff:!0,enemyHp50:!0}),teammateDefaults:()=>({}),precomputeEffects:(p,C)=>{const G=C.characterConditionals;return p[n.CR]+=G.talentStacks*m,p[n.CD]+=t>=1?G.talentStacks*.04:0,p[n.ATK_P]+=t>=2&&G.e2UltAtkBuff?.4:0,p.BASIC_SCALING+=r,p.SKILL_SCALING+=u,p.ULT_SCALING+=G.ultEnhanced?h:R,p.ULT_SCALING+=G.ultEnhancedExtraHits*S,p.ELEMENTAL_DMG+=G.enemyHp50?.15:0,hn(p,Mt,.3,t>=6),p.BASIC_TOUGHNESS_DMG+=30,p.SKILL_TOUGHNESS_DMG+=30,p.ULT_TOUGHNESS_DMG+=G.ultEnhanced?60+15*G.ultEnhancedExtraHits:60,p},precomputeMutualEffects:(p,C)=>{},finalizeCalculations:p=>Ht(p),gpuFinalizeCalculations:()=>Xt()}},Gd=t=>{const e=V.getFixedT(null,"conditionals","Characters.Arlan"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=i(t,1,1.1),r=l(t,2.4,2.64),u=s(t,3.2,3.456),R=o(t,.72,.792),h=[{formItem:"slider",id:"selfCurrentHpPercent",name:"selfCurrentHpPercent",text:e("Content.selfCurrentHpPercent.text"),title:e("Content.selfCurrentHpPercent.title"),content:e("Content.selfCurrentHpPercent.content",{talentMissingHpDmgBoostMax:W.precisionRound(100*R)}),min:.01,max:1,percent:!0}];return{content:()=>h,teammateContent:()=>[],defaults:()=>({selfCurrentHpPercent:1}),teammateDefaults:()=>({}),precomputeEffects:(S,m)=>{const b=m.characterConditionals;return S.ELEMENTAL_DMG+=Math.min(R,1-b.selfCurrentHpPercent),S.BASIC_SCALING+=c,S.SKILL_SCALING+=r,S.ULT_SCALING+=u,ot(S,Ot,.1,t>=1&&b.selfCurrentHpPercent<=.5),ot(S,Mt,.2,t>=6&&b.selfCurrentHpPercent<=.5),S.BASIC_TOUGHNESS_DMG+=30,S.SKILL_TOUGHNESS_DMG+=60,S.ULT_TOUGHNESS_DMG+=60,S},precomputeMutualEffects:(S,m)=>{},finalizeCalculations:S=>Ht(S),gpuFinalizeCalculations:()=>Xt()}},Cd=t=>{const e=V.getFixedT(null,"conditionals","Characters.Asta"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=s(t,50,52.8),r=o(t,.14,.154),u=.06,R=t>=1?5:4,h=i(t,1,1.1),S=l(t,.5,.55),m=s(t,0,0),b=i(t,.5,.55),p=[{formItem:"slider",id:"skillExtraDmgHits",name:"skillExtraDmgHits",text:e("Content.skillExtraDmgHits.text"),title:e("Content.skillExtraDmgHits.title"),content:e("Content.skillExtraDmgHits.content",{skillExtraDmgHitsMax:R}),min:0,max:R},{formItem:"slider",id:"talentBuffStacks",name:"talentBuffStacks",text:e("Content.talentBuffStacks.text"),title:e("Content.talentBuffStacks.title"),content:e("Content.talentBuffStacks.content",{talentStacksAtkBuff:W.precisionRound(100*r)}),min:0,max:5},{formItem:"switch",id:"ultSpdBuff",name:"ultSpdBuff",text:e("Content.ultSpdBuff.text"),title:e("Content.ultSpdBuff.title"),content:e("Content.ultSpdBuff.content",{ultSpdBuffValue:c})},{formItem:"switch",id:"fireDmgBoost",name:"fireDmgBoost",text:e("Content.fireDmgBoost.text"),title:e("Content.fireDmgBoost.title"),content:e("Content.fireDmgBoost.content")}],C=[J(p,"talentBuffStacks"),J(p,"ultSpdBuff"),J(p,"fireDmgBoost")];return{content:()=>p,teammateContent:()=>C,defaults:()=>({talentBuffStacks:5,skillExtraDmgHits:R,ultSpdBuff:!0,fireDmgBoost:!0}),teammateDefaults:()=>({talentBuffStacks:5,ultSpdBuff:!0,fireDmgBoost:!0}),precomputeEffects:(G,g)=>{const T=g.characterConditionals;return G[n.DEF_P]+=T.talentBuffStacks*u,G[n.ERR]+=t>=4&&T.talentBuffStacks>=2?.15:0,G.BASIC_SCALING+=h,G.SKILL_SCALING+=S+T.skillExtraDmgHits*S,G.ULT_SCALING+=m,G.DOT_SCALING+=b,G.BASIC_TOUGHNESS_DMG+=30,G.SKILL_TOUGHNESS_DMG+=30+15*T.skillExtraDmgHits,G.DOT_CHANCE=.8,G},precomputeMutualEffects:(G,g)=>{const T=g.characterConditionals;G[n.SPD]+=T.ultSpdBuff?c:0,G[n.ATK_P]+=T.talentBuffStacks*r,G[n.Fire_DMG]+=T.fireDmgBoost?.18:0},finalizeCalculations:G=>Ht(G),gpuFinalizeCalculations:()=>Xt()}},Zd=t=>{const e=V.getFixedT(null,"conditionals","Characters.Bailu"),{basic:i,skill:l,ult:s}=it.SKILL_TALENT_3_ULT_BASIC_5,o=i(t,1,1.1),c=l(t,0,0),r=s(t,0,0),u=[{formItem:"switch",id:"healingMaxHpBuff",name:"healingMaxHpBuff",text:e("Content.healingMaxHpBuff.text"),title:e("Content.healingMaxHpBuff.title"),content:e("Content.healingMaxHpBuff.content")},{formItem:"switch",id:"talentDmgReductionBuff",name:"talentDmgReductionBuff",text:e("Content.talentDmgReductionBuff.text"),title:e("Content.talentDmgReductionBuff.title"),content:e("Content.talentDmgReductionBuff.content")},{formItem:"switch",id:"e2UltHealingBuff",name:"e2UltHealingBuff",text:e("Content.e2UltHealingBuff.text"),title:e("Content.e2UltHealingBuff.title"),content:e("Content.e2UltHealingBuff.content"),disabled:t<2},{formItem:"slider",id:"e4SkillHealingDmgBuffStacks",name:"e4SkillHealingDmgBuffStacks",text:e("Content.e4SkillHealingDmgBuffStacks.text"),title:e("Content.e4SkillHealingDmgBuffStacks.title"),content:e("Content.e4SkillHealingDmgBuffStacks.content"),min:0,max:3,disabled:t<4}],R=[J(u,"healingMaxHpBuff"),J(u,"talentDmgReductionBuff"),J(u,"e4SkillHealingDmgBuffStacks")];return{content:()=>u,teammateContent:()=>R,defaults:()=>({healingMaxHpBuff:!0,talentDmgReductionBuff:!0,e2UltHealingBuff:!0,e4SkillHealingDmgBuffStacks:0}),teammateDefaults:()=>({healingMaxHpBuff:!0,talentDmgReductionBuff:!0,e4SkillHealingDmgBuffStacks:3}),precomputeEffects:(h,S)=>{const m=S.characterConditionals;return h[n.OHB]+=t>=2&&m.e2UltHealingBuff?.15:0,h.BASIC_SCALING+=o,h.SKILL_SCALING+=c,h.ULT_SCALING+=r,h.BASIC_TOUGHNESS_DMG+=30,h},precomputeMutualEffects:(h,S)=>{const m=S.characterConditionals;h[n.HP_P]+=m.healingMaxHpBuff?.1:0,h.ELEMENTAL_DMG+=t>=4?m.e4SkillHealingDmgBuffStacks*.1:0,h.DMG_RED_MULTI*=m.talentDmgReductionBuff?1-.1:1},finalizeCalculations:h=>Ht(h),gpuFinalizeCalculations:()=>Xt()}},Ft={SET:0,ABILITY:1},yt={SINGLE:0,CONTINUOUS:1},E0={id:"RutilantArenaConditional",type:Ft.SET,activation:yt.SINGLE,dependsOn:[n.CR],condition:function(t,e,i){return $(t.sets.RutilantArena)&&t[n.CR]>=.7},effect:t=>{ot(t,ue|Ot,.2)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.RutilantArena) >= 1 &&
  (*p_state).RutilantArenaConditional == 0.0 &&
  (*p_x).CR >= 0.70
) {
  (*p_state).RutilantArenaConditional = 1.0;

  buffAbilityDmg(p_x, BASIC_TYPE | SKILL_TYPE, 0.20, 1);
}
    `)}},x0={id:"InertSalsottoConditional",type:Ft.SET,activation:yt.SINGLE,dependsOn:[n.CR],condition:function(t,e,i){return $(t.sets.InertSalsotto)&&t[n.CR]>=.5},effect:t=>{ot(t,Mt|Vt,.15)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.InertSalsotto) >= 1 &&
  (*p_state).InertSalsottoConditional == 0.0 &&
  (*p_x).CR >= 0.50
) {
  (*p_state).InertSalsottoConditional = 1.0;

  buffAbilityDmg(p_x, ULT_TYPE | FUA_TYPE, 0.15, 1);
}
    `)}},L0={id:"SpaceSealingStationConditional",type:Ft.SET,activation:yt.SINGLE,dependsOn:[n.SPD],condition:function(t,e,i){return $(t.sets.SpaceSealingStation)&&t[n.SPD]>=120},effect:(t,e,i)=>{Qt(t,e,i,n.ATK,.12*i.baseATK)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.SpaceSealingStation) >= 1 &&
  (*p_state).SpaceSealingStationConditional == 0.0 &&
  (*p_x).SPD >= 120
) {
  (*p_state).SpaceSealingStationConditional = 1.0;
  buffNonDynamicATK_P(0.12, p_x, p_state);
}
    `)}},y0={id:"FleetOfTheAgelessConditional",type:Ft.SET,activation:yt.SINGLE,dependsOn:[n.SPD],condition:function(t,e,i){return $(t.sets.FleetOfTheAgeless)&&t[n.SPD]>=120},effect:(t,e,i)=>{Qt(t,e,i,n.ATK,.08*i.baseATK)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.FleetOfTheAgeless) >= 1 &&
  (*p_state).FleetOfTheAgelessConditional == 0.0 &&
  (*p_x).SPD >= 120
) {
  (*p_state).FleetOfTheAgelessConditional = 1.0;
  buffNonDynamicATK_P(0.08, p_x, p_state);
}
    `)}},M0={id:"BelobogOfTheArchitectsConditional",type:Ft.SET,activation:yt.SINGLE,dependsOn:[n.EHR],condition:function(t,e,i){return $(t.sets.BelobogOfTheArchitects)&&t[n.EHR]>=.5},effect:(t,e,i)=>{Qt(t,e,i,n.DEF,.15*i.baseDEF)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.BelobogOfTheArchitects) >= 1 &&
  (*p_state).BelobogOfTheArchitectsConditional == 0.0 &&
  (*p_x).EHR >= 0.50
) {
  (*p_state).BelobogOfTheArchitectsConditional = 1.0;
  buffNonDynamicDEF_P(0.15, p_x, p_state);
}
    `)}},F0={id:"IronCavalryAgainstTheScourge150Conditional",type:Ft.SET,activation:yt.SINGLE,dependsOn:[n.BE],condition:function(t,e,i){return wt(t.sets.IronCavalryAgainstTheScourge)&&t[n.BE]>=1.5},effect:t=>{hn(t,wa,.1)},gpu:function(){return Bt(this,`
if (
  p4((*p_x).sets.IronCavalryAgainstTheScourge) >= 1 &&
  (*p_state).IronCavalryAgainstTheScourge150Conditional == 0.0 &&
  (*p_x).BE >= 1.50
) {
  (*p_state).IronCavalryAgainstTheScourge150Conditional = 1.0;
  buffAbilityDefShred(p_x, BREAK_TYPE, 0.10, 1);
}
    `)}},B0={id:"IronCavalryAgainstTheScourge250Conditional",type:Ft.SET,activation:yt.SINGLE,dependsOn:[n.BE],condition:function(t,e,i){return wt(t.sets.IronCavalryAgainstTheScourge)&&t[n.BE]>=2.5},effect:t=>{hn(t,V0,.15)},gpu:function(){return Bt(this,`
if (
  p4((*p_x).sets.IronCavalryAgainstTheScourge) >= 1 &&
  (*p_state).IronCavalryAgainstTheScourge250Conditional == 0.0 &&
  (*p_x).BE >= 2.50
) {
  (*p_state).IronCavalryAgainstTheScourge250Conditional = 1.0;
  buffAbilityDefShred(p_x, SUPER_BREAK_TYPE, 0.15, 1);
}
    `)}},P0={id:"PanCosmicCommercialEnterpriseConditional",type:Ft.SET,activation:yt.CONTINUOUS,dependsOn:[n.EHR],condition:function(t,e,i){return $(t.sets.PanCosmicCommercialEnterprise)},effect:function(t,e,i){const l=i.conditionalState[this.id]||0,s=Math.min(.25,.25*t[n.EHR])*i.baseATK;return i.conditionalState[this.id]=s,Qt(t,e,i,n.ATK,s-l),s},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.PanCosmicCommercialEnterprise) >= 1
) {
  let stateValue: f32 = (*p_state).PanCosmicCommercialEnterpriseConditional;
  let buffValue: f32 = min(0.25, 0.25 * (*p_x).EHR) * baseATK;

  (*p_state).PanCosmicCommercialEnterpriseConditional = buffValue;
  buffNonDynamicATK(buffValue - stateValue, p_x, p_state);
}
    `)}},k0={id:"BrokenKeelConditional",type:Ft.SET,activation:yt.SINGLE,dependsOn:[n.RES],condition:function(t,e,i){return $(t.sets.BrokenKeel)&&t[n.RES]>=.3},effect:function(t,e,i){Qt(t,e,i,n.CD,.1)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.BrokenKeel) >= 1 &&
  (*p_state).BrokenKeelConditional == 0.0 &&
  (*p_x).RES >= 0.30
) {
  (*p_state).BrokenKeelConditional = 1.0;
  buffNonDynamicCD(0.10, p_x, p_state);
}
    `)}},N0={id:"CelestialDifferentiatorConditional",type:Ft.SET,activation:yt.SINGLE,dependsOn:[n.CD],condition:function(t,e,i){return $(t.sets.CelestialDifferentiator)&&i.enabledCelestialDifferentiator&&t[n.CD]>=1.2},effect:function(t,e,i){Qt(t,e,i,n.CR,.6)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.CelestialDifferentiator) >= 1 &&
  enabledCelestialDifferentiator >= 1 &&
  (*p_state).CelestialDifferentiatorConditional == 0.0 &&
  (*p_x).CD >= 1.20
) {
  (*p_state).CelestialDifferentiatorConditional = 1.0;
  buffNonDynamicCR(0.60, p_x, p_state);
}
    `)}},U0={id:"TaliaKingdomOfBanditryConditional",type:Ft.SET,activation:yt.SINGLE,dependsOn:[n.SPD],condition:function(t,e,i){return $(t.sets.TaliaKingdomOfBanditry)&&t[n.SPD]>=145},effect:function(t,e,i){Qt(t,e,i,n.BE,.2)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.TaliaKingdomOfBanditry) >= 1 &&
  (*p_state).TaliaKingdomOfBanditryConditional == 0.0 &&
  (*p_x).SPD >= 145
) {
  (*p_state).TaliaKingdomOfBanditryConditional = 1.0;
  buffNonDynamicBE(0.20, p_x, p_state);
}
    `)}},H0={id:"FirmamentFrontlineGlamoth135Conditional",type:Ft.SET,activation:yt.SINGLE,dependsOn:[n.SPD],condition:function(t,e,i){return $(t.sets.FirmamentFrontlineGlamoth)&&t[n.SPD]>=135},effect:function(t){t.ELEMENTAL_DMG+=.12},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.FirmamentFrontlineGlamoth) >= 1 &&
  (*p_state).FirmamentFrontlineGlamoth135Conditional == 0.0 &&
  (*p_x).SPD >= 135
) {
  (*p_state).FirmamentFrontlineGlamoth135Conditional = 1.0;
  (*p_x).ELEMENTAL_DMG += 0.12;
}
    `)}},X0={id:"FirmamentFrontlineGlamoth160Conditional",type:Ft.SET,activation:yt.SINGLE,dependsOn:[n.SPD],condition:function(t,e,i){return $(t.sets.FirmamentFrontlineGlamoth)&&t[n.SPD]>=160},effect:function(t){t.ELEMENTAL_DMG+=.06},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.FirmamentFrontlineGlamoth) >= 1 &&
  (*p_state).FirmamentFrontlineGlamoth160Conditional == 0.0 &&
  (*p_x).SPD >= 160
) {
  (*p_state).FirmamentFrontlineGlamoth160Conditional = 1.0;
  (*p_x).ELEMENTAL_DMG += 0.06;
}
    `)}},gd=[L0,E0,x0,y0,M0,F0,B0,P0,k0,N0,U0,H0,X0];function ze(t,e){const i=" ".repeat(e*2);return t.split(`
`).map(l=>i+l).join(`
`)}function Re(t){return t?"true":"false"}function Ke(t){return t?"false":"true"}function ge(t,e,i,l){t.activation==yt.SINGLE?!l.conditionalState[t.id]&&t.condition(e,i,l)&&(l.conditionalState[t.id]=1,t.effect(e,i,l)):t.activation==yt.CONTINUOUS&&t.condition(e,i,l)&&t.effect(e,i,l)}function Bt(t,e){return`
fn evaluate${t.id}(p_x: ptr<function, ComputedStats>, p_state: ptr<function, ConditionalState>) {
  let x = *p_x;
${ze(e.trim(),1)}
}
  `}function Qt(t,e,i,l,s){if(!(s<1e-4)){t[l]+=s;for(const o of i.conditionalRegistry[l]||[])ge(o,t,e,i)}}const Td={id:"AventurineConversionConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.DEF],condition:function(t,e,i){return e.characterConditionals.defToCrBoost&&t[n.DEF]>1600},effect:function(t,e,i){const l=i.conditionalState[this.id]||0,s=Math.min(.48,.02*Math.floor((t[n.DEF]-1600)/100));return i.conditionalState[this.id]=s,Qt(t,e,i,n.CR,s-l),s},gpu:function(t,e){const i=t.characterConditionals;return Bt(this,`
if (${Ke(i.defToCrBoost)}) {
  return;
}
let def = (*p_x).DEF;
let stateValue: f32 = (*p_state).AventurineConversionConditional;

if (def > 1600) {
  let buffValue: f32 = min(0.48, 0.02 * floor((def - 1600) / 100));

  (*p_state).AventurineConversionConditional = buffValue;
  buffDynamicCR(buffValue - stateValue, p_x, p_state);
}
    `)}},Dd={id:"XueyiConversionConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.BE],condition:function(t,e,i){return e.characterConditionals.beToDmgBoost},effect:function(t,e,i){const l=i.conditionalState[this.id]||0,s=Math.min(2.4,t[n.BE]);i.conditionalState[this.id]=s,t.ELEMENTAL_DMG+=s-l},gpu:function(t,e){const i=t.characterConditionals;return Bt(this,`
if (${Ke(i.beToDmgBoost)}) {
  return;
}
let be = (*p_x).BE;
let stateValue: f32 = (*p_state).XueyiConversionConditional;
let buffValue: f32 = min(2.40, be);

(*p_state).XueyiConversionConditional = buffValue;
(*p_x).ELEMENTAL_DMG += buffValue - stateValue;
    `)}},Vd={id:"FireflyConversionConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.ATK],condition:function(t){return t[n.ATK]>1800},effect:function(t,e,i){const l=i.conditionalState[this.id]||0,s=t[n.ATK]-t.RATIO_BASED_ATK_BUFF-t.RATIO_BASED_ATK_P_BUFF*i.baseATK,o=.008*Math.floor((s-1800)/10);return i.conditionalState[this.id]=o,Qt(t,e,i,n.BE,o-l),o},gpu:function(t,e){const i=t.characterConditionals;return Bt(this,`
if (${Ke(i.atkToBeConversion)}) {
  return;
}
let atk = (*p_x).ATK;
let stateValue = (*p_state).FireflyConversionConditional;
let trueAtk = atk - (*p_x).RATIO_BASED_ATK_BUFF - (*p_x).RATIO_BASED_ATK_P_BUFF * baseATK;

if (trueAtk > 1800) {
  let buffValue: f32 = 0.008 * floor((trueAtk - 1800) / 10);

  (*p_state).FireflyConversionConditional = buffValue;
  buffDynamicBE(buffValue - stateValue, p_x, p_state);
}
    `)}},Wd={id:"BoothillConversionConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.BE],condition:function(t,e,i){return e.characterConditionals.beToCritBoost},effect:function(t,e,i){const l=i.conditionalState[this.id]||0,s=Math.min(.3,.1*l),o=Math.min(1.5,.5*l),c=Math.min(.3,.1*t[n.BE]),r=Math.min(1.5,.5*t[n.BE]);i.conditionalState[this.id]=t[n.BE],Qt(t,e,i,n.CR,c-s),Qt(t,e,i,n.CD,r-o)},gpu:function(t,e){const i=t.characterConditionals;return Bt(this,`
if (${Ke(i.beToCritBoost)}) {
  return;
}

let be = (*p_x).BE;
let stateValue = (*p_state).BoothillConversionConditional;

let stateCrBuffValue = min(0.30, 0.10 * stateValue);
let stateCdBuffValue = min(1.50, 0.50 * stateValue);

let crBuffValue = min(0.30, 0.10 * be);
let cdBuffValue = min(1.50, 0.50 * be);

(*p_state).BoothillConversionConditional = be;

buffDynamicCR(crBuffValue - stateCrBuffValue, p_x, p_state);
buffDynamicCD(cdBuffValue - stateCdBuffValue, p_x, p_state);
    `)}},Id={id:"GepardConversionConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.DEF],condition:function(){return!0},effect:function(t,e,i){const l=i.conditionalState[this.id]||0,s=.35*t[n.DEF];i.conditionalState[this.id]=s,Qt(t,e,i,n.ATK,s-l)},gpu:function(){return Bt(this,`
let def = (*p_x).DEF;
let stateValue: f32 = (*p_state).GepardConversionConditional;
let buffValue: f32 = 0.35 * def;

(*p_state).GepardConversionConditional = buffValue;
buffDynamicATK(buffValue - stateValue, p_x, p_state);
    `)}},Ed={id:"BlackSwanConversionConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.EHR],condition:function(t,e,i){return!0},effect:function(t,e,i){if(!e.characterConditionals.ehrToDmgBoost)return;const s=i.conditionalState[this.id]||0,o=Math.min(.72,.6*t[n.EHR]);i.conditionalState[this.id]=o,t.ELEMENTAL_DMG+=o-s},gpu:function(t,e){const i=t.characterConditionals;return Bt(this,`
if (${Ke(i.ehrToDmgBoost)}) {
  return;
}
let ehr = (*p_x).EHR;
let stateValue: f32 = (*p_state).BlackSwanConversionConditional;
let buffValue: f32 = min(0.72, 0.60 * ehr);

(*p_state).BlackSwanConversionConditional = buffValue;
(*p_x).ELEMENTAL_DMG += buffValue - stateValue;
    `)}},xd={id:"RappaConversionConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.ATK],condition:function(t,e,i){return!0},effect:function(t,e,i){if(!e.characterConditionals.atkToBreakVulnerability)return;const s=i.conditionalState[this.id]||0,o=Math.floor(Ta((t[n.ATK]-2400)/100)),c=Math.min(.08,Math.max(0,o)*.01)+.02;i.conditionalState[this.id]=c,t.BREAK_VULNERABILITY+=c-s},gpu:function(t,e){const i=t.characterConditionals;return Bt(this,`
if (${Ke(i.atkToBreakVulnerability)}) {
  return;
}
let atk = (*p_x).ATK;
let stateValue: f32 = (*p_state).RappaConversionConditional;
let atkOverStacks: f32 = floor((x.ATK - 2400) / 100);
let buffValue: f32 = min(0.08, max(0, atkOverStacks) * 0.01) + 0.02;

(*p_state).RappaConversionConditional = buffValue;
(*p_x).BREAK_VULNERABILITY += buffValue - stateValue;
    `)}},Ld={id:"GallagherConversionConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.BE],condition:function(t,e,i){return!0},effect:function(t,e,i){e.characterConditionals;const l=i.conditionalState[this.id]||0,s=Math.min(.75,.5*t[n.BE]);i.conditionalState[this.id]=s,Qt(t,e,i,n.OHB,s-l)},gpu:function(t,e){return t.characterConditionals,Bt(this,`
let be = (*p_x).BE;
let stateValue: f32 = (*p_state).GallagherConversionConditional;
let buffValue: f32 = min(0.75, 0.50 * (*p_x).BE);

(*p_state).GallagherConversionConditional = buffValue;
buffDynamicOHB(buffValue - stateValue, p_x, p_state);
    `)}},yd={id:"RuanMeiConversionConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.BE],condition:function(t,e,i){return!0},effect:function(t,e,i){e.characterConditionals;const l=i.conditionalState[this.id]||0,s=Math.floor(Ta((t[n.BE]*100-120)/10)),o=Math.min(.36,Math.max(0,s)*.06);i.conditionalState[this.id]=o,t.ELEMENTAL_DMG+=o-l},gpu:function(t,e){return t.characterConditionals,Bt(this,`
let be = (*p_x).BE;
let stateValue: f32 = (*p_state).RuanMeiConversionConditional;
let beOver = ((*p_x).BE * 100 - 120) / 10;
let buffValue: f32 = floor(max(0, beOver)) * 0.06;

(*p_state).RuanMeiConversionConditional = buffValue;
(*p_x).ELEMENTAL_DMG += buffValue - stateValue;
    `)}},Md={id:"JiaoqiuConversionConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.EHR],condition:function(t,e,i){return!0},effect:function(t,e,i){if(!e.characterConditionals.ehrToAtkBoost||t[n.EHR]<=.8)return;const s=i.conditionalState[this.id]||0,o=Math.min(2.4,.6*Math.floor((t[n.EHR]-.8)/.15))*e.baseAtk;i.conditionalState[this.id]=o,Qt(t,e,i,n.ATK,o-s)},gpu:function(t,e){return t.characterConditionals,Bt(this,`
let ehr = (*p_x).EHR;
let stateValue: f32 = (*p_state).JiaoqiuConversionConditional;
let buffValue: f32 = min(2.40, 0.60 * floor(((*p_x).EHR - 0.80) / 0.15));

(*p_state).JiaoqiuConversionConditional = buffValue;
buffDynamicATK_P(buffValue - stateValue, p_x, p_state);
    `)}},Fd={id:"LingshaConversionConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.BE],condition:function(t,e,i){return!0},effect:function(t,e,i){if(!e.characterConditionals.beConversion)return;const s=i.conditionalState[this.id]||0,o=Math.min(.5,.25*t[n.BE])*e.baseAtk,c=Math.min(.2,.1*t[n.BE]),r=Math.min(.5,.25*s)*e.baseAtk,u=Math.min(.2,.1*s);i.conditionalState[this.id]=t[n.BE];const R=o-(s?r:0),h=c-(s?u:0);Qt(t,e,i,n.ATK,R),Qt(t,e,i,n.OHB,h)},gpu:function(t,e){const i=t.characterConditionals;return Bt(this,`
if (${Ke(i.beConversion)}) {
  return;
}

let stateValue: f32 = (*p_state).LingshaConversionConditional;

let buffValueAtk = min(0.50, 0.25 * x.BE) * baseATK;
let buffValueOhb = min(0.20, 0.10 * x.BE);

let stateBuffValueAtk = min(0.50, 0.25 * stateValue) * baseATK;
let stateBuffValueOhb = min(0.20, 0.10 * stateValue);

(*p_state).LingshaConversionConditional = (*p_x).BE;

let finalBuffAtk = buffValueAtk - select(0, stateBuffValueAtk, stateValue > 0);
let finalBuffOhb = buffValueOhb - select(0, stateBuffValueOhb, stateValue > 0);

buffDynamicATK(finalBuffAtk, p_x, p_state);
buffDynamicOHB(finalBuffOhb, p_x, p_state);
    `)}},Bd=t=>{const e=V.getFixedT(null,"conditionals","Characters.BlackSwan"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=o(t,.12,.132),r=s(t,.25,.27),u=l(t,.208,.22),R=i(t,.6,.66),h=l(t,.9,.99),S=s(t,1.2,1.3),m=o(t,2.4,2.64),b=o(t,.65,.68),p=[{formItem:"switch",id:"ehrToDmgBoost",name:"ehrToDmgBoost",text:e("Content.ehrToDmgBoost.text"),title:e("Content.ehrToDmgBoost.title"),content:e("Content.ehrToDmgBoost.content")},{formItem:"switch",id:"epiphanyDebuff",name:"epiphanyDebuff",text:e("Content.epiphanyDebuff.text"),title:e("Content.epiphanyDebuff.title"),content:e("Content.epiphanyDebuff.content",{epiphanyDmgTakenBoost:W.precisionRound(100*r)})},{formItem:"switch",id:"defDecreaseDebuff",name:"defDecreaseDebuff",text:e("Content.defDecreaseDebuff.text"),title:e("Content.defDecreaseDebuff.title"),content:e("Content.defDecreaseDebuff.content",{defShredValue:W.precisionRound(100*u)})},{formItem:"slider",id:"arcanaStacks",name:"arcanaStacks",text:e("Content.arcanaStacks.text"),title:e("Content.arcanaStacks.title"),content:e("Content.arcanaStacks.content",{dotScaling:W.precisionRound(100*m),arcanaStackMultiplier:W.precisionRound(100*c)}),min:1,max:50},{formItem:"switch",id:"e1ResReduction",name:"e1ResReduction",text:e("Content.e1ResReduction.text"),title:e("Content.e1ResReduction.title"),content:e("Content.e1ResReduction.content"),disabled:t<1}],C=[J(p,"epiphanyDebuff"),J(p,"defDecreaseDebuff"),J(p,"e1ResReduction")];return{content:()=>p,teammateContent:()=>C,defaults:()=>({ehrToDmgBoost:!0,epiphanyDebuff:!0,defDecreaseDebuff:!0,arcanaStacks:7,e1ResReduction:!0}),teammateDefaults:()=>({epiphanyDebuff:!0,defDecreaseDebuff:!0,e1ResReduction:!0}),precomputeEffects:(G,g)=>{const T=g.characterConditionals;return G.BASIC_SCALING+=R,G.SKILL_SCALING+=h,G.ULT_SCALING+=S,G.DOT_SCALING+=m+c*T.arcanaStacks,hn(G,In,.2,T.arcanaStacks>=7),G.BASIC_TOUGHNESS_DMG+=30,G.SKILL_TOUGHNESS_DMG+=60,G.ULT_TOUGHNESS_DMG+=60,G.DOT_CHANCE=b,G.DOT_SPLIT=.05,G.DOT_STACKS=T.arcanaStacks,G},precomputeMutualEffects:(G,g)=>{const T=g.characterConditionals;an(G,In,r,T.epiphanyDebuff),G.DEF_PEN+=T.defDecreaseDebuff?u:0,G.WIND_RES_PEN+=t>=1&&T.e1ResReduction?.25:0,G.FIRE_RES_PEN+=t>=1&&T.e1ResReduction?.25:0,G.PHYSICAL_RES_PEN+=t>=1&&T.e1ResReduction?.25:0,G.LIGHTNING_RES_PEN+=t>=1&&T.e1ResReduction?.25:0},finalizeCalculations:G=>Ht(G),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[Ed]}},Pd=t=>{const e=V.getFixedT(null,"conditionals","Characters.Blade"),{basic:i,skill:l,ult:s,talent:o}=it.ULT_TALENT_3_SKILL_BASIC_5,c=l(t,.4,.456),r=.9,u=i(t,1,1.1),R=l(t,.4,.44),h=l(t,1,1.1),S=s(t,.4,.432),m=s(t,1,1.08),b=s(t,1,1.08),p=o(t,.44,.484),C=o(t,1.1,1.21),G={1:rt*(1*.33+2*.33+3*.34),3:rt*(2*.33+5*.33+8*.34),5:rt*(3*.33+8*.33+8*.34)},g=[{formItem:"switch",id:"enhancedStateActive",name:"enhancedStateActive",text:e("Content.enhancedStateActive.text"),title:e("Content.enhancedStateActive.title"),content:e("Content.enhancedStateActive.content",{enhancedStateDmgBoost:W.precisionRound(100*c)})},{formItem:"slider",id:"hpPercentLostTotal",name:"hpPercentLostTotal",text:e("Content.hpPercentLostTotal.text"),title:e("Content.hpPercentLostTotal.title"),content:e("Content.hpPercentLostTotal.content",{hpPercentLostTotalMax:W.precisionRound(100*r)}),min:0,max:r,percent:!0},{formItem:"slider",id:"e4MaxHpIncreaseStacks",name:"e4MaxHpIncreaseStacks",text:e("Content.e4MaxHpIncreaseStacks.text"),title:e("Content.e4MaxHpIncreaseStacks.title"),content:e("Content.e4MaxHpIncreaseStacks.content"),min:0,max:2,disabled:t<4}];return{content:()=>g,teammateContent:()=>[],defaults:()=>({enhancedStateActive:!0,hpPercentLostTotal:r,e4MaxHpIncreaseStacks:2}),teammateDefaults:()=>({}),precomputeEffects:(T,D)=>{const I=D.characterConditionals;return T[n.CR]+=t>=2&&I.enhancedStateActive?.15:0,T[n.HP_P]+=t>=4?I.e4MaxHpIncreaseStacks*.2:0,T.BASIC_SCALING+=u,T.ELEMENTAL_DMG+=I.enhancedStateActive?c:0,ot(T,Vt,.2),T.BASIC_TOUGHNESS_DMG+=I.enhancedStateActive?60:30,T.ULT_TOUGHNESS_DMG+=60,T.FUA_TOUGHNESS_DMG+=30,T},precomputeMutualEffects:(T,D)=>{},finalizeCalculations:(T,D)=>{const I=D.characterConditionals;I.enhancedStateActive?(T.BASIC_DMG+=R*T[n.ATK],T.BASIC_DMG+=h*T[n.HP]):T.BASIC_DMG+=T.BASIC_SCALING*T[n.ATK],T.ULT_DMG+=S*T[n.ATK],T.ULT_DMG+=m*T[n.HP],T.ULT_DMG+=b*I.hpPercentLostTotal*T[n.HP],T.ULT_DMG+=t>=1&&D.enemyCount==1?1.5*I.hpPercentLostTotal*T[n.HP]:0;const F=G[D.enemyCount],E=ha(T,D,F);T.FUA_DMG+=p*(T[n.ATK]+E),T.FUA_DMG+=C*T[n.HP],T.FUA_DMG+=t>=6?.5*T[n.HP]:0},gpuFinalizeCalculations:T=>{const D=T.characterConditionals;return`
if (${Re(D.enhancedStateActive)}) {
  x.BASIC_DMG += ${R} * x.ATK;
  x.BASIC_DMG += ${h} * x.HP;
} else {
  x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
}

x.ULT_DMG += ${S} * x.ATK;
x.ULT_DMG += ${m} * x.HP;
x.ULT_DMG += ${b*D.hpPercentLostTotal} * x.HP;

if (${Re(t>=1&&T.enemyCount==1)}) {
  x.ULT_DMG += 1.50 * ${D.hpPercentLostTotal} * x.HP;
}

x.FUA_DMG += ${p} * (x.ATK + calculateAshblazingSet(p_x, p_state, ${G[T.enemyCount]}));
x.FUA_DMG += ${C} * x.HP;

if (e >= 6) {
  x.FUA_DMG += 0.50 * x.HP;
}
    `}}},kd=t=>{const e=V.getFixedT(null,"conditionals","Characters.Bronya"),{basic:i,skill:l,ult:s}=it.ULT_TALENT_3_SKILL_BASIC_5,o=l(t,.66,.726),c=s(t,.55,.594),r=s(t,.16,.168),u=s(t,.2,.216),R=i(t,1,1.1),h=R*.8,S=rt*(1*1/1),m=[{formItem:"switch",id:"teamDmgBuff",name:"teamDmgBuff",text:e("Content.teamDmgBuff.text"),title:e("Content.teamDmgBuff.title"),content:e("Content.teamDmgBuff.content")},{formItem:"switch",id:"skillBuff",name:"skillBuff",text:e("Content.skillBuff.text"),title:e("Content.skillBuff.title"),content:e("Content.skillBuff.content",{skillDmgBoostValue:W.precisionRound(100*o)})},{formItem:"switch",id:"ultBuff",name:"ultBuff",text:e("Content.ultBuff.text"),title:e("Content.ultBuff.title"),content:e("Content.ultBuff.content",{ultAtkBoostValue:W.precisionRound(100*c),ultCdBoostValue:W.precisionRound(100*r),ultCdBoostBaseValue:W.precisionRound(100*u)})},{formItem:"switch",id:"battleStartDefBuff",name:"battleStartDefBuff",text:e("Content.battleStartDefBuff.text"),title:e("Content.battleStartDefBuff.title"),content:e("Content.battleStartDefBuff.content")},{formItem:"switch",id:"techniqueBuff",name:"techniqueBuff",text:e("Content.techniqueBuff.text"),title:e("Content.techniqueBuff.title"),content:e("Content.techniqueBuff.content")},{formItem:"switch",id:"e2SkillSpdBuff",name:"e2SkillSpdBuff",text:e("Content.e2SkillSpdBuff.text"),title:e("Content.e2SkillSpdBuff.title"),content:e("Content.e2SkillSpdBuff.content"),disabled:t<2}],b=[J(m,"teamDmgBuff"),J(m,"skillBuff"),J(m,"ultBuff"),J(m,"battleStartDefBuff"),J(m,"techniqueBuff"),{formItem:"slider",id:"teammateCDValue",name:"teammateCDValue",text:e("TeammateContent.teammateCDValue.text"),title:e("TeammateContent.teammateCDValue.title"),content:e("TeammateContent.teammateCDValue.content",{ultAtkBoostValue:W.precisionRound(100*c),ultCdBoostValue:W.precisionRound(100*r),ultCdBoostBaseValue:W.precisionRound(100*u)}),min:0,max:3,percent:!0},J(m,"e2SkillSpdBuff")],p={teamDmgBuff:!0,skillBuff:!0,ultBuff:!0,battleStartDefBuff:!1,techniqueBuff:!1,e2SkillSpdBuff:!1};return{content:()=>m,teammateContent:()=>b,defaults:()=>p,teammateDefaults:()=>({...p,teammateCDValue:2.5}),precomputeEffects:(C,G)=>{hl(C,ue,1),C.BASIC_SCALING+=R,C.FUA_SCALING+=t>=4?h:0,C.BASIC_TOUGHNESS_DMG+=30,C.FUA_TOUGHNESS_DMG+=t>=4?30:0},precomputeMutualEffects:(C,G)=>{const g=G.characterConditionals;C[n.DEF_P]+=g.battleStartDefBuff?.2:0,C[n.SPD_P]+=g.e2SkillSpdBuff?.3:0,C[n.ATK_P]+=g.techniqueBuff?.15:0,C[n.ATK_P]+=g.ultBuff?c:0,C.ELEMENTAL_DMG+=g.teamDmgBuff?.1:0,C.ELEMENTAL_DMG+=g.skillBuff?o:0},precomputeTeammateEffects:(C,G)=>{const g=G.characterConditionals;C[n.CD]+=g.ultBuff?r*g.teammateCDValue:0,C[n.CD]+=g.ultBuff?u:0},finalizeCalculations:(C,G)=>{Le(C,G,S)},gpuFinalizeCalculations:C=>ye(S),dynamicConditionals:[{id:"BronyaCdConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.CD],ratioConversion:!0,condition:function(){return!0},effect:function(C,G,g){if(!G.characterConditionals.ultBuff)return;const D=g.conditionalState[this.id]||0,I=C[n.CD]-C.RATIO_BASED_CD_BUFF,F=r*I+u,E=r*D+u;g.conditionalState[this.id]=C[n.CD];const P=F-(D?E:0);C.RATIO_BASED_CD_BUFF+=P,Qt(C,G,g,n.CD,P)},gpu:function(C,G){const g=C.characterConditionals;return Bt(this,`
if (${Ke(g.ultBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).BronyaCdConditional;
let convertibleCdValue: f32 = (*p_x).CD - (*p_x).RATIO_BASED_CD_BUFF;

var buffCD: f32 = ${r} * convertibleCdValue + ${u};
var stateBuffCD: f32 = ${r} * stateValue + ${u};

(*p_state).BronyaCdConditional = (*p_x).CD;

let finalBuffCd = buffCD - select(0, stateBuffCD, stateValue > 0);
(*p_x).RATIO_BASED_CD_BUFF += finalBuffCd;

buffNonRatioDynamicCD(finalBuffCd, p_x, p_state);
    `)}}]}},Nd=t=>{const e=V.getFixedT(null,"conditionals","Characters.Clara"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=s(t,.25,.27),r=s(t,1.6,1.728),u=i(t,1,1.1),R=l(t,1.2,1.32),h=o(t,1.6,1.76),S={1:rt*(1*1/1),3:rt*(2*1/1),5:rt*(2*1/1)},m=rt*(1*1/1),b=[{formItem:"switch",id:"ultBuff",name:"ultBuff",text:e("Content.ultBuff.text"),title:e("Content.ultBuff.title"),content:e("Content.ultBuff.content",{ultFuaExtraScaling:W.precisionRound(100*r)})},{formItem:"switch",id:"talentEnemyMarked",name:"talentEnemyMarked",text:e("Content.talentEnemyMarked.text"),title:e("Content.talentEnemyMarked.title"),content:e("Content.talentEnemyMarked.content",{skillScaling:W.precisionRound(100*R)})},{formItem:"switch",id:"e2UltAtkBuff",name:"e2UltAtkBuff",text:e("Content.e2UltAtkBuff.text"),title:e("Content.e2UltAtkBuff.title"),content:e("Content.e2UltAtkBuff.content"),disabled:t<2},{formItem:"switch",id:"e4DmgReductionBuff",name:"e4DmgReductionBuff",text:e("Content.e4DmgReductionBuff.text"),title:e("Content.e4DmgReductionBuff.title"),content:e("Content.e4DmgReductionBuff.content"),disabled:t<4}];return{content:()=>b,teammateContent:()=>[],defaults:()=>({ultBuff:!0,talentEnemyMarked:!0,e2UltAtkBuff:!0,e4DmgReductionBuff:!0}),teammateDefaults:()=>({}),precomputeEffects:(p,C)=>{const G=C.characterConditionals;return p[n.ATK_P]+=t>=2&&G.e2UltAtkBuff?.3:0,p.BASIC_SCALING+=u,p.SKILL_SCALING+=R,p.SKILL_SCALING+=G.talentEnemyMarked?R:0,p.FUA_SCALING+=h,p.FUA_SCALING+=G.ultBuff?r:0,p.DMG_RED_MULTI*=1-.1,p.DMG_RED_MULTI*=G.ultBuff?1-c:1,p.DMG_RED_MULTI*=t>=4&&G.e4DmgReductionBuff?1-.3:1,ot(p,Vt,.3),p.BASIC_TOUGHNESS_DMG+=30,p.SKILL_TOUGHNESS_DMG+=30,p.FUA_TOUGHNESS_DMG+=30,p},precomputeMutualEffects:(p,C)=>{},finalizeCalculations:(p,C)=>{const g=C.characterConditionals.ultBuff?S[C.enemyCount]:m;Le(p,C,g)},gpuFinalizeCalculations:p=>{const G=p.characterConditionals.ultBuff?S[p.enemyCount]:m;return ye(G)}}},Ud=t=>{const e=V.getFixedT(null,"conditionals","Characters.DanHeng"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=o(t,.36,.396),r=i(t,1,1.1),u=l(t,2.6,2.86),R=s(t,4,4.32),h=s(t,1.2,1.296),S=[{formItem:"switch",id:"talentPenBuff",name:"talentPenBuff",text:e("Content.talentPenBuff.text"),title:e("Content.talentPenBuff.title"),content:e("Content.talentPenBuff.content",{extraPenValue:W.precisionRound(100*c)})},{formItem:"switch",id:"enemySlowed",name:"enemySlowed",text:e("Content.enemySlowed.text"),title:e("Content.enemySlowed.title"),content:e("Content.enemySlowed.content")},{formItem:"switch",id:"e1EnemyHp50",name:"e1EnemyHp50",text:e("Content.e1EnemyHp50.text"),title:e("Content.e1EnemyHp50.title"),content:e("Content.e1EnemyHp50.content"),disabled:t<1}];return{content:()=>S,teammateContent:()=>[],defaults:()=>({talentPenBuff:!0,enemySlowed:!0,e1EnemyHp50:!0}),teammateDefaults:()=>({}),precomputeEffects:(m,b)=>{const p=b.characterConditionals;return m[n.CR]+=t>=1&&p.e1EnemyHp50?.12:0,m.BASIC_SCALING+=r,m.SKILL_SCALING+=u,m.ULT_SCALING+=R,m.ULT_SCALING+=p.enemySlowed?h:0,m.RES_PEN+=p.talentPenBuff?c:0,ot(m,ue,.4,p.enemySlowed),m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=60,m.ULT_TOUGHNESS_DMG+=90,m},finalizeCalculations:m=>Ht(m),gpuFinalizeCalculations:()=>Xt()}},Hd=t=>{const e=V.getFixedT(null,"conditionals","Characters.DrRatio"),{basic:i,skill:l,ult:s,talent:o}=it.ULT_BASIC_3_SKILL_TALENT_5,c=5,r=t>=1?10:6,u=i(t,1,1.1),R=l(t,1.5,1.65),h=s(t,2.4,2.592),S=o(t,2.7,2.97);function m(g,T=!0){return T?S/(S+.2*g):.2/(S+.2*g)}const b=rt*(1*1/1),p={0:rt*(1*1/1),1:rt*(1*m(1,!0)+2*m(1,!1)),2:rt*(1*m(2,!0)+5*m(2,!1)),3:rt*(1*m(3,!0)+9*m(3,!1)),4:rt*(1*m(4,!0)+14*m(4,!1))};function C(g){const T=g.characterConditionals;return t>=2?p[Math.min(4,T.enemyDebuffStacks)]:b}const G=[{id:"summationStacks",name:"summationStacks",formItem:"slider",text:e("Content.summationStacks.text"),title:e("Content.summationStacks.title"),content:e("Content.summationStacks.content",{summationStacksMax:r}),min:0,max:r},{id:"enemyDebuffStacks",name:"enemyDebuffStacks",formItem:"slider",text:e("Content.enemyDebuffStacks.text"),title:e("Content.enemyDebuffStacks.title"),content:e("Content.enemyDebuffStacks.content",{FuaScaling:W.precisionRound(100*S)}),min:0,max:c}];return{content:()=>G,teammateContent:()=>[],defaults:()=>({enemyDebuffStacks:c,summationStacks:r}),teammateDefaults:()=>({}),precomputeEffects:(g,T)=>{const D=T.characterConditionals;return g[n.CR]+=D.summationStacks*.025,g[n.CD]+=D.summationStacks*.05,g.BASIC_SCALING+=u,g.SKILL_SCALING+=R,g.ULT_SCALING+=h,g.FUA_SCALING+=S,g.ELEMENTAL_DMG+=D.enemyDebuffStacks>=3?Math.min(.5,D.enemyDebuffStacks*.1):0,ot(g,Vt,.5,t>=6),g.BASIC_TOUGHNESS_DMG+=30,g.SKILL_TOUGHNESS_DMG+=60,g.ULT_TOUGHNESS_DMG+=90,g.FUA_TOUGHNESS_DMG+=30,g},precomputeMutualEffects:(g,T)=>{},finalizeCalculations:(g,T)=>{Le(g,T,C(T))},gpuFinalizeCalculations:g=>ye(C(g))}},Xd=t=>{const e=V.getFixedT(null,"conditionals","Characters.FuXuan"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=l(t,.12,.132),r=l(t,.06,.066),u=o(t,.18,.196),R=i(t,.5,.55),h=l(t,0,0),S=s(t,1,1.08),m=[{formItem:"switch",id:"talentActive",name:"talentActive",text:e("Content.talentActive.text"),title:e("Content.talentActive.title"),content:e("Content.talentActive.content",{talentDmgReductionValue:W.precisionRound(100*u)})},{formItem:"switch",id:"skillActive",name:"skillActive",text:e("Content.skillActive.text"),title:e("Content.skillActive.title"),content:e("Content.skillActive.content",{skillHpBuffValue:W.precisionRound(100*r),skillCrBuffValue:W.precisionRound(100*c)})},{formItem:"slider",id:"e6TeamHpLostPercent",name:"e6TeamHpLostPercent",text:e("Content.e6TeamHpLostPercent.text"),title:e("Content.e6TeamHpLostPercent.title"),content:e("Content.e6TeamHpLostPercent.content"),min:0,max:1.2,percent:!0,disabled:t<6}],b=[J(m,"talentActive"),J(m,"skillActive"),{formItem:"slider",id:"teammateHPValue",name:"teammateHPValue",text:e("TeammateContent.teammateHPValue.text"),title:e("TeammateContent.teammateHPValue.title"),content:e("TeammateContent.teammateHPValue.content",{skillHpBuffValue:W.precisionRound(100*r)}),min:0,max:1e4}];return{content:()=>m,teammateContent:()=>b,defaults:()=>({skillActive:!0,talentActive:!0,e6TeamHpLostPercent:1.2}),teammateDefaults:()=>({skillActive:!0,talentActive:!0,teammateHPValue:8e3}),precomputeEffects:(p,C)=>{const G=C.characterConditionals;return p.BASIC_SCALING+=R,p.SKILL_SCALING+=h,p.ULT_SCALING+=S+(t>=6?2*G.e6TeamHpLostPercent:0),p.BASIC_TOUGHNESS_DMG+=30,p.ULT_TOUGHNESS_DMG+=60,p},precomputeMutualEffects:(p,C)=>{const G=C.characterConditionals;p[n.CR]+=G.skillActive?c:0,p[n.CD]+=t>=1&&G.skillActive?.3:0,p.DMG_RED_MULTI*=G.talentActive?1-u:1},precomputeTeammateEffects:(p,C)=>{const G=C.characterConditionals;p[n.HP]+=G.skillActive?r*G.teammateHPValue:0,p.DMG_RED_MULTI*=G.skillActive?1-.65:1},finalizeCalculations:(p,C)=>{W0(p)},gpuFinalizeCalculations:()=>I0(),dynamicConditionals:[{id:"FuXuanHpConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.HP],ratioConversion:!0,condition:function(){return!0},effect:function(p,C,G){if(!C.characterConditionals.skillActive)return;const T=G.conditionalState[this.id]||0,D=p[n.HP]-p.RATIO_BASED_HP_BUFF,I=r*D,F=r*T;G.conditionalState[this.id]=p[n.HP];const E=I-(T?F:0);p.RATIO_BASED_HP_BUFF+=E,Qt(p,C,G,n.HP,E)},gpu:function(p,C){const G=p.characterConditionals;return Bt(this,`
if (${Ke(G.skillActive)}) {
  return;
}

let stateValue: f32 = (*p_state).FuXuanHpConditional;
let convertibleHpValue: f32 = (*p_x).HP - (*p_x).RATIO_BASED_HP_BUFF;

var buffHP: f32 = ${r} * convertibleHpValue;
var stateBuffHP: f32 = ${r} * stateValue;

(*p_state).FuXuanHpConditional = (*p_x).HP;

let finalBuffHp = buffHP - select(0, stateBuffHP, stateValue > 0);
(*p_x).RATIO_BASED_HP_BUFF += finalBuffHp;

buffNonRatioDynamicHP(finalBuffHp, p_x, p_state);
    `)}}]}},Yd=t=>{const e=V.getFixedT(null,"conditionals","Characters.Gepard"),{basic:i,skill:l}=it.ULT_TALENT_3_SKILL_BASIC_5,s=i(t,1,1.1),o=l(t,2,2.2),c=[{formItem:"switch",id:"e4TeamResBuff",name:"e4TeamResBuff",text:e("Content.e4TeamResBuff.text"),title:e("Content.e4TeamResBuff.title"),content:e("Content.e4TeamResBuff.content"),disabled:t<4}];return{content:()=>c,teammateContent:()=>c,defaults:()=>({e4TeamResBuff:!0}),teammateDefaults:()=>({e4TeamResBuff:!0}),precomputeEffects:(r,u)=>(r.BASIC_SCALING+=s,r.SKILL_SCALING+=o,r.BASIC_TOUGHNESS_DMG+=30,r.SKILL_TOUGHNESS_DMG+=60,r),precomputeMutualEffects:(r,u)=>{const R=u.characterConditionals;r[n.RES]+=t>=4&&R.e4TeamResBuff?.2:0},finalizeCalculations:r=>Ht(r),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[Id]}},Kd=t=>{const e=V.getFixedT(null,"conditionals","Characters.Guinaifen"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=o(t,.07,.076),r=t>=6?4:3,u=i(t,1,1.1),R=l(t,1.2,1.32),h=s(t,1.2,1.296),S=l(t,2.182,2.4),m=[{formItem:"slider",id:"talentDebuffStacks",name:"talentDebuffStacks",text:e("Content.talentDebuffStacks.text"),title:e("Content.talentDebuffStacks.title"),content:e("Content.talentDebuffStacks.content",{talentDebuffDmgIncreaseValue:W.precisionRound(c),talentDebuffMax:r}),min:0,max:r},{formItem:"switch",id:"enemyBurned",name:"enemyBurned",text:e("Content.enemyBurned.text"),title:e("Content.enemyBurned.title"),content:e("Content.enemyBurned.content")},{formItem:"switch",id:"skillDot",name:"skillDot",text:e("Content.skillDot.text"),title:e("Content.skillDot.title"),content:e("Content.skillDot.content")},{formItem:"switch",id:"e1EffectResShred",name:"e1EffectResShred",text:e("Content.e1EffectResShred.text"),title:e("Content.e1EffectResShred.title"),content:e("Content.e1EffectResShred.content"),disabled:t<1},{formItem:"switch",id:"e2BurnMultiBoost",name:"e2BurnMultiBoost",text:e("Content.e2BurnMultiBoost.text"),title:e("Content.e2BurnMultiBoost.title"),content:e("Content.e2BurnMultiBoost.content"),disabled:t<2}],b=[J(m,"talentDebuffStacks"),J(m,"e1EffectResShred")];return{content:()=>m,teammateContent:()=>b,defaults:()=>({talentDebuffStacks:r,enemyBurned:!0,skillDot:!0,e1EffectResShred:!0,e2BurnMultiBoost:!0}),teammateDefaults:()=>({talentDebuffStacks:r,e1EffectResShred:!0}),precomputeEffects:(p,C)=>{const G=C.characterConditionals;return p.BASIC_SCALING+=u,p.SKILL_SCALING+=R,p.ULT_SCALING+=h,p.DOT_SCALING+=S,p.DOT_SCALING+=t>=2&&G.e2BurnMultiBoost?.4:0,p.ELEMENTAL_DMG+=G.enemyBurned?.2:0,p.BASIC_TOUGHNESS_DMG+=30,p.SKILL_TOUGHNESS_DMG+=60,p.ULT_TOUGHNESS_DMG+=60,p.DOT_CHANCE=G.skillDot?1:.8,p},precomputeMutualEffects:(p,C)=>{const G=C.characterConditionals;p.VULNERABILITY+=G.talentDebuffStacks*c,p.EFFECT_RES_PEN+=G.e1EffectResShred?.1:0},finalizeCalculations:p=>Ht(p),gpuFinalizeCalculations:()=>Xt()}},vd=t=>{const e=V.getFixedT(null,"conditionals","Characters.Hanya"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=s(t,.2,.21),r=s(t,.6,.648);let u=o(t,.3,.33);u+=t>=6?.1:0;const R=i(t,1,1.1),h=l(t,2.4,2.64),S=s(t,0,0),m=[{formItem:"switch",id:"ultBuff",name:"ultBuff",text:e("Content.ultBuff.text"),title:e("Content.ultBuff.title"),content:e("Content.ultBuff.content",{ultSpdBuffValue:W.precisionRound(100*c),ultAtkBuffValue:W.precisionRound(100*r)})},{formItem:"switch",id:"targetBurdenActive",name:"targetBurdenActive",text:e("Content.targetBurdenActive.text"),title:e("Content.targetBurdenActive.title"),content:e("Content.targetBurdenActive.content",{talentDmgBoostValue:W.precisionRound(100*u)})},{formItem:"switch",id:"burdenAtkBuff",name:"burdenAtkBuff",text:e("Content.burdenAtkBuff.text"),title:e("Content.burdenAtkBuff.title"),content:e("Content.burdenAtkBuff.content")},{formItem:"switch",id:"e2SkillSpdBuff",name:"e2SkillSpdBuff",text:e("Content.e2SkillSpdBuff.text"),title:e("Content.e2SkillSpdBuff.title"),content:e("Content.e2SkillSpdBuff.content"),disabled:t<2}],b=[J(m,"ultBuff"),{formItem:"slider",id:"teammateSPDValue",name:"teammateSPDValue",text:e("TeammateContent.teammateSPDValue.text"),title:e("TeammateContent.teammateSPDValue.title"),content:e("TeammateContent.teammateSPDValue.content",{ultSpdBuffValue:W.precisionRound(100*c),ultAtkBuffValue:W.precisionRound(100*r)}),min:0,max:200},J(m,"targetBurdenActive"),J(m,"burdenAtkBuff")];return{content:()=>m,teammateContent:()=>b,defaults:()=>({ultBuff:!0,targetBurdenActive:!0,burdenAtkBuff:!0,e2SkillSpdBuff:!1}),teammateDefaults:()=>({ultBuff:!0,targetBurdenActive:!0,burdenAtkBuff:!0,teammateSPDValue:160}),precomputeEffects:(p,C)=>{const G=C.characterConditionals;return p.BASIC_SCALING+=R,p.SKILL_SCALING+=h,p.ULT_SCALING+=S,p[n.SPD_P]+=t>=2&&G.e2SkillSpdBuff?.2:0,p.BASIC_TOUGHNESS_DMG+=30,p.SKILL_TOUGHNESS_DMG+=60,p},precomputeMutualEffects:(p,C)=>{const G=C.characterConditionals;p[n.ATK_P]+=G.ultBuff?r:0,p[n.ATK_P]+=G.burdenAtkBuff?.1:0,p.ELEMENTAL_DMG+=G.targetBurdenActive?u:0},precomputeTeammateEffects:(p,C)=>{const G=C.characterConditionals;p[n.SPD]+=G.ultBuff?c*G.teammateSPDValue:0},finalizeCalculations:p=>Ht(p),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[{id:"HanyaSpdConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.SPD],ratioConversion:!0,condition:function(){return!0},effect:function(p,C,G){if(!C.characterConditionals.ultBuff)return;const T=G.conditionalState[this.id]||0,D=p[n.SPD]-p.RATIO_BASED_SPD_BUFF,I=c*D,F=c*T;G.conditionalState[this.id]=p[n.SPD];const E=I-(T?F:0);p.RATIO_BASED_SPD_BUFF+=E,Qt(p,C,G,n.SPD,E)},gpu:function(p,C){const G=p.characterConditionals;return Bt(this,`
if (${Ke(G.ultBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).HanyaSpdConditional;
let convertibleSpdValue: f32 = (*p_x).SPD - (*p_x).RATIO_BASED_SPD_BUFF;

var buffSPD: f32 = ${c} * convertibleSpdValue;
var stateBuffSPD: f32 = ${c} * stateValue;

(*p_state).HanyaSpdConditional = (*p_x).SPD;

let finalBuffSpd = buffSPD - select(0, stateBuffSPD, stateValue > 0);
(*p_x).RATIO_BASED_SPD_BUFF += finalBuffSpd;

buffNonRatioDynamicSPD(finalBuffSpd, p_x, p_state);
    `)}}]}},wd=t=>{const e=V.getFixedT(null,"conditionals","Characters.Herta"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=i(t,1,1.1),r=l(t,1,1.1),u=s(t,2,2.16),R=o(t,.4,.43);function h(b,p){const C=1/b;if(p.enemyCount==1){let G=1,g=0;for(let T=0;T<b;T++)g+=C*G,G=Math.min(8,G+1);return g}if(p.enemyCount==3){let G=2,g=0;for(let T=0;T<b;T++)g+=C*G,G=Math.min(8,G+3);return g}if(p.enemyCount==5){let G=3,g=0;for(let T=0;T<b;T++)g+=C*G,G=Math.min(8,G+5);return g}return 1}function S(b){const p=b.characterConditionals,C=h(p.fuaStacks,b);return{1:rt*C,3:rt*C,5:rt*C}[b.enemyCount]}const m=[{formItem:"slider",id:"fuaStacks",name:"fuaStacks",text:e("Content.fuaStacks.text"),title:e("Content.fuaStacks.title"),content:e("Content.fuaStacks.content"),min:1,max:5},{formItem:"switch",id:"targetFrozen",name:"targetFrozen",text:e("Content.targetFrozen.text"),title:e("Content.targetFrozen.title"),content:e("Content.targetFrozen.content")},{formItem:"switch",id:"enemyHpGte50",name:"enemyHpGte50",text:e("Content.enemyHpGte50.text"),title:e("Content.enemyHpGte50.title"),content:e("Content.enemyHpGte50.content")},{formItem:"switch",id:"techniqueBuff",name:"techniqueBuff",text:e("Content.techniqueBuff.text"),title:e("Content.techniqueBuff.title"),content:e("Content.techniqueBuff.content")},{formItem:"switch",id:"enemyHpLte50",name:"enemyHpLte50",text:e("Content.enemyHpLte50.text"),title:e("Content.enemyHpLte50.title"),content:e("Content.enemyHpLte50.content"),disabled:t<1},{formItem:"slider",id:"e2TalentCritStacks",name:"e2TalentCritStacks",text:e("Content.e2TalentCritStacks.text"),title:e("Content.e2TalentCritStacks.title"),content:e("Content.e2TalentCritStacks.content"),min:0,max:5,disabled:t<2},{formItem:"switch",id:"e6UltAtkBuff",name:"e6UltAtkBuff",text:e("Content.e6UltAtkBuff.text"),title:e("Content.e6UltAtkBuff.title"),content:e("Content.e6UltAtkBuff.content"),disabled:t<6}];return{content:()=>m,teammateContent:()=>[],defaults:()=>({fuaStacks:5,techniqueBuff:!1,targetFrozen:!0,e2TalentCritStacks:5,e6UltAtkBuff:!0,enemyHpGte50:!0,enemyHpLte50:!1}),teammateDefaults:()=>({}),precomputeEffects:(b,p)=>{const C=p.characterConditionals;return b[n.ATK_P]+=C.techniqueBuff?.4:0,b[n.CR]+=t>=2?C.e2TalentCritStacks*.03:0,b[n.ATK_P]+=t>=6&&C.e6UltAtkBuff?.25:0,b.BASIC_SCALING+=c,b.BASIC_SCALING+=t>=1&&C.enemyHpLte50?.4:0,b.SKILL_SCALING+=r,b.ULT_SCALING+=u,b.FUA_SCALING+=R*C.fuaStacks,ot(b,Ot,.2,C.enemyHpGte50),ot(b,Mt,.2,C.targetFrozen),ot(b,Vt,.1,t>=4),b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=30,b.ULT_TOUGHNESS_DMG+=60,b.FUA_TOUGHNESS_DMG+=15,b},precomputeMutualEffects:(b,p)=>{},finalizeCalculations:(b,p)=>{Le(b,p,S(p))},gpuFinalizeCalculations:b=>ye(S(b))}},Ad=t=>{const e=V.getFixedT(null,"conditionals","Characters.Himeko"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=i(t,1,1.1),r=l(t,2,2.2),u=s(t,2.3,2.484),R=o(t,1.4,1.54),h=.3,S={1:rt*(1*.2+2*.2+3*.2+4*.4),3:rt*(2*.2+5*.2+8*.2+8*.4),5:rt*(3*.2+8*.2+8*.2+8*.4)},m=[{formItem:"switch",id:"targetBurned",name:"targetBurned",text:e("Content.targetBurned.text"),title:e("Content.targetBurned.title"),content:e("Content.targetBurned.content")},{formItem:"switch",id:"selfCurrentHp80Percent",name:"selfCurrentHp80Percent",text:e("Content.selfCurrentHp80Percent.text"),title:e("Content.selfCurrentHp80Percent.title"),content:e("Content.selfCurrentHp80Percent.content")},{formItem:"switch",id:"e1TalentSpdBuff",name:"e1TalentSpdBuff",text:e("Content.e1TalentSpdBuff.text"),title:e("Content.e1TalentSpdBuff.title"),content:e("Content.e1TalentSpdBuff.content"),disabled:t<1},{formItem:"switch",id:"e2EnemyHp50DmgBoost",name:"e2EnemyHp50DmgBoost",text:e("Content.e2EnemyHp50DmgBoost.text"),title:e("Content.e2EnemyHp50DmgBoost.title"),content:e("Content.e2EnemyHp50DmgBoost.content"),disabled:t<2},{formItem:"slider",id:"e6UltExtraHits",name:"e6UltExtraHits",text:e("Content.e6UltExtraHits.text"),title:e("Content.e6UltExtraHits.title"),content:e("Content.e6UltExtraHits.content"),min:0,max:2,disabled:t<6}];return{content:()=>m,teammateContent:()=>[],defaults:()=>({targetBurned:!0,selfCurrentHp80Percent:!0,e1TalentSpdBuff:!1,e6UltExtraHits:2}),teammateDefaults:()=>({}),precomputeEffects:(b,p)=>{const C=p.characterConditionals;return b[n.CR]+=C.selfCurrentHp80Percent?.15:0,b[n.SPD_P]+=t>=1&&C.e1TalentSpdBuff?.2:0,b.BASIC_SCALING+=c,b.SKILL_SCALING+=r,b.ULT_SCALING+=u,b.ULT_SCALING+=t>=6?C.e6UltExtraHits*u*.4:0,b.FUA_SCALING+=R,b.DOT_SCALING+=h,ot(b,Ot,.2,C.targetBurned),b.ELEMENTAL_DMG+=t>=2&&C.e2EnemyHp50DmgBoost?.15:0,b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=60,b.ULT_TOUGHNESS_DMG+=60,b.FUA_TOUGHNESS_DMG+=30,b.DOT_CHANCE=.5,b},precomputeMutualEffects:(b,p)=>{},finalizeCalculations:(b,p)=>{Le(b,p,S[p.enemyCount])},gpuFinalizeCalculations:b=>ye(S[b.enemyCount])}},Qd=t=>{const e=V.getFixedT(null,"conditionals","Characters.Hook"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=o(t,1,1.1),r=i(t,1,1.1),u=l(t,2.4,2.64),R=l(t,2.8,3.08),h=s(t,4,4.32),S=l(t,.65,.715),m=[{formItem:"switch",id:"enhancedSkill",name:"enhancedSkill",text:e("Content.enhancedSkill.text"),title:e("Content.enhancedSkill.title"),content:e("Content.enhancedSkill.content",{skillEnhancedScaling:W.precisionRound(100*R)})},{formItem:"switch",id:"targetBurned",name:"targetBurned",text:e("Content.targetBurned.text"),title:e("Content.targetBurned.title"),content:e("Content.targetBurned.content",{targetBurnedExtraScaling:W.precisionRound(100*c)})}];return{content:()=>m,teammateContent:()=>[],defaults:()=>({enhancedSkill:!0,targetBurned:!0}),teammateDefaults:()=>({}),precomputeEffects:(b,p)=>{const C=p.characterConditionals;return b.BASIC_SCALING+=r,b.SKILL_SCALING+=C.enhancedSkill?R:u,b.ULT_SCALING+=h,b.BASIC_SCALING+=C.targetBurned?c:0,b.SKILL_SCALING+=C.targetBurned?c:0,b.ULT_SCALING+=C.targetBurned?c:0,b.DOT_SCALING+=S,ot(b,Ot,.2,t>=1&&C.enhancedSkill),b.ELEMENTAL_DMG+=t>=6&&C.targetBurned?.2:0,b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=60,b.ULT_TOUGHNESS_DMG+=90,b.DOT_CHANCE=1,b},finalizeCalculations:b=>Ht(b),gpuFinalizeCalculations:()=>Xt()}},jd=t=>{const e=V.getFixedT(null,"conditionals","Characters.Huohuo"),{basic:i,ult:l}=it.ULT_TALENT_3_SKILL_BASIC_5,s=l(t,.4,.432),o=i(t,.5,.55),c=[{formItem:"switch",id:"ultBuff",name:"ultBuff",text:e("Content.ultBuff.text"),title:e("Content.ultBuff.title"),content:e("Content.ultBuff.content",{ultBuffValue:W.precisionRound(100*s)})},{formItem:"switch",id:"skillBuff",name:"skillBuff",text:e("Content.skillBuff.text"),title:e("Content.skillBuff.title"),content:e("Content.skillBuff.content"),disabled:t<1},{formItem:"switch",id:"e6DmgBuff",name:"e6DmgBuff",text:e("Content.e6DmgBuff.text"),title:e("Content.e6DmgBuff.title"),content:e("Content.e6DmgBuff.content"),disabled:t<6}],r=[J(c,"ultBuff"),J(c,"skillBuff"),J(c,"e6DmgBuff")];return{content:()=>c,teammateContent:()=>r,defaults:()=>({ultBuff:!0,skillBuff:!0,e6DmgBuff:!0}),teammateDefaults:()=>({ultBuff:!0,skillBuff:!0,e6DmgBuff:!0}),precomputeEffects:(u,R)=>(u.BASIC_SCALING+=o,u.BASIC_TOUGHNESS_DMG+=30,u),precomputeMutualEffects:(u,R)=>{const h=R.characterConditionals;u[n.ATK_P]+=h.ultBuff?s:0,u[n.SPD_P]+=t>=1&&h.skillBuff?.12:0,u.ELEMENTAL_DMG+=t>=6&&h.e6DmgBuff?.5:0},finalizeCalculations:(u,R)=>{W0(u)},gpuFinalizeCalculations:()=>I0()}},Jd=t=>{const e=V.getFixedT(null,"conditionals","Characters.ImbibitorLunae"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=t>=1?10:6,r=l(t,.12,.132),u=o(t,.1,.11),R=i(t,1,1.1),h=i(t,2.6,2.86),S=i(t,3.8,4.18),m=i(t,5,5.5),b=l(t,0,0),p=s(t,3,3.24),C=[{formItem:"slider",id:"basicEnhanced",name:"basicEnhanced",text:e("Content.basicEnhanced.text"),title:e("Content.basicEnhanced.title"),content:e("Content.basicEnhanced.content",{basicScaling:W.precisionRound(100*R),basicEnhanced1Scaling:W.precisionRound(100*h),basicEnhanced2Scaling:W.precisionRound(100*S),basicEnhanced3Scaling:W.precisionRound(100*m)}),min:0,max:3},{formItem:"slider",id:"skillOutroarStacks",name:"skillOutroarStacks",text:e("Content.skillOutroarStacks.text"),title:e("Content.skillOutroarStacks.title"),content:e("Content.skillOutroarStacks.content",{outroarStackCdValue:W.precisionRound(100*r)}),min:0,max:4},{formItem:"slider",id:"talentRighteousHeartStacks",name:"talentRighteousHeartStacks",text:e("Content.talentRighteousHeartStacks.text"),title:e("Content.talentRighteousHeartStacks.title"),content:e("Content.talentRighteousHeartStacks.content",{righteousHeartDmgValue:W.precisionRound(100*u)}),min:0,max:c},{formItem:"slider",id:"e6ResPenStacks",name:"e6ResPenStacks",text:e("Content.e6ResPenStacks.text"),title:e("Content.e6ResPenStacks.title"),content:e("Content.e6ResPenStacks.content"),min:0,max:3,disabled:t<6}];return{content:()=>C,teammateContent:()=>[],defaults:()=>({basicEnhanced:3,skillOutroarStacks:4,talentRighteousHeartStacks:c,e6ResPenStacks:3}),teammateDefaults:()=>({}),precomputeEffects:(G,g)=>{const T=g.characterConditionals;return G[n.CD]+=g.enemyElementalWeak?.24:0,G[n.CD]+=T.skillOutroarStacks*r,G.BASIC_SCALING+={0:R,1:h,2:S,3:m}[T.basicEnhanced]??0,G.SKILL_SCALING+=b,G.ULT_SCALING+=p,G.ELEMENTAL_DMG+=T.talentRighteousHeartStacks*u,Pa(G,ue,.2*T.e6ResPenStacks,t>=6&&T.basicEnhanced==3),G.BASIC_TOUGHNESS_DMG+=30+30*T.basicEnhanced,G.ULT_TOUGHNESS_DMG+=60,G},precomputeMutualEffects:(G,g)=>{},finalizeCalculations:G=>Ht(G),gpuFinalizeCalculations:()=>Xt()}},Od=t=>{const e=V.getFixedT(null,"conditionals","Characters.Jingliu"),{basic:i,skill:l,ult:s,talent:o}=it.ULT_TALENT_3_SKILL_BASIC_5,c=o(t,.5,.52);let r=o(t,1.8,1.98);r+=t>=4?.3:0;const u=i(t,1,1.1),R=l(t,2,2.2),h=l(t,2.5,2.75),S=s(t,3,3.24),m=[{name:"talentEnhancedState",id:"talentEnhancedState",formItem:"switch",text:e("Content.talentEnhancedState.text"),title:e("Content.talentEnhancedState.title"),content:e("Content.talentEnhancedState.content",{talentCrBuff:W.precisionRound(100*c)})},{name:"talentHpDrainAtkBuff",id:"talentHpDrainAtkBuff",formItem:"slider",text:e("Content.talentHpDrainAtkBuff.text"),title:e("Content.talentHpDrainAtkBuff.title"),content:e("Content.talentHpDrainAtkBuff.content",{talentHpDrainAtkBuffMax:W.precisionRound(100*r)}),min:0,max:r,percent:!0},{id:"e1CdBuff",name:"e1CdBuff",formItem:"switch",text:e("Content.e1CdBuff.text"),title:e("Content.e1CdBuff.title"),content:e("Content.e1CdBuff.content"),disabled:t<1},{id:"e2SkillDmgBuff",name:"e2SkillDmgBuff",formItem:"switch",text:e("Content.e2SkillDmgBuff.text"),title:e("Content.e2SkillDmgBuff.title"),content:e("Content.e2SkillDmgBuff.content"),disabled:t<2}];return{content:()=>m,teammateContent:()=>[],defaults:()=>({talentEnhancedState:!0,talentHpDrainAtkBuff:r,e1CdBuff:!0,e2SkillDmgBuff:!0}),teammateDefaults:()=>({}),precomputeEffects:(b,p)=>{const C=p.characterConditionals;return b[n.CR]+=C.talentEnhancedState?c:0,b[n.ATK_P]+=C.talentEnhancedState?C.talentHpDrainAtkBuff:0,b[n.RES]+=C.talentEnhancedState?.35:0,ot(b,Mt,.2,C.talentEnhancedState),b[n.CD]+=t>=1&&C.e1CdBuff?.24:0,b[n.CD]+=t>=6&&C.talentEnhancedState?.5:0,b.BASIC_SCALING+=u,b.SKILL_SCALING+=C.talentEnhancedState?h:R,b.SKILL_SCALING+=t>=1&&C.talentEnhancedState&&p.enemyCount==1?1:0,b.ULT_SCALING+=S,b.ULT_SCALING+=t>=1&&p.enemyCount==1?1:0,b.FUA_SCALING+=0,ot(b,Ot,.8,t>=2&&C.talentEnhancedState&&C.e2SkillDmgBuff),b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=60,b.ULT_TOUGHNESS_DMG+=60,b},precomputeMutualEffects:(b,p)=>{},finalizeCalculations:b=>Ht(b),gpuFinalizeCalculations:()=>Xt()}},zd=t=>{const e=V.getFixedT(null,"conditionals","Characters.JingYuan"),{basic:i,skill:l,ult:s,talent:o}=it.ULT_BASIC_3_SKILL_TALENT_5,c=i(t,1,1.1),r=l(t,1,1.1),u=s(t,2,2.16),R=o(t,.66,.726);function h(m){const b=m.characterConditionals;let p=0;const C=b.talentHitsPerAction,G=b.talentAttacks,g=m.enemyCount>=3?2:0,T=m.enemyCount>=3?3:1,D=m.enemyCount>=3?2:1;let I=g*(C-G);I+=D;let F=0;for(let E=0;E<G;E++)F+=Math.min(8,I)*(1/G),I+=T;return p=F*rt,p}const S=[{formItem:"switch",id:"skillCritBuff",name:"skillCritBuff",text:e("Content.skillCritBuff.text"),title:e("Content.skillCritBuff.title"),content:e("Content.skillCritBuff.content")},{formItem:"slider",id:"talentHitsPerAction",name:"talentHitsPerAction",text:e("Content.talentHitsPerAction.text"),title:e("Content.talentHitsPerAction.title"),content:e("Content.talentHitsPerAction.content"),min:3,max:10},{formItem:"slider",id:"talentAttacks",name:"talentAttacks",text:e("Content.talentAttacks.text"),title:e("Content.talentAttacks.title"),content:e("Content.talentAttacks.content"),min:0,max:10},{formItem:"switch",id:"e2DmgBuff",name:"e2DmgBuff",text:e("Content.e2DmgBuff.text"),title:e("Content.e2DmgBuff.title"),content:e("Content.e2DmgBuff.content"),disabled:t<2},{formItem:"slider",id:"e6FuaVulnerabilityStacks",name:"e6FuaVulnerabilityStacks",text:e("Content.e6FuaVulnerabilityStacks.text"),title:e("Content.e6FuaVulnerabilityStacks.title"),content:e("Content.e6FuaVulnerabilityStacks.content"),min:0,max:3,disabled:t<6}];return{content:()=>S,teammateContent:()=>[],defaults:()=>({skillCritBuff:!0,talentHitsPerAction:10,talentAttacks:10,e2DmgBuff:!0,e6FuaVulnerabilityStacks:3}),teammateDefaults:()=>({}),precomputeEffects:(m,b)=>{const p=b.characterConditionals;p.talentHitsPerAction=Math.max(p.talentHitsPerAction,p.talentAttacks),m[n.CR]+=p.skillCritBuff?.1:0,m.BASIC_SCALING+=c,m.SKILL_SCALING+=r,m.ULT_SCALING+=u,m.FUA_SCALING+=R*p.talentAttacks,Vn(m,Vt,.25,p.talentHitsPerAction>=6),ot(m,ue|Ot|Mt,.2,t>=2&&p.e2DmgBuff),an(m,Vt,p.e6FuaVulnerabilityStacks*.12,t>=6);const C=p.talentAttacks;return m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=30,m.ULT_TOUGHNESS_DMG+=60,m.FUA_TOUGHNESS_DMG+=15*C,m},precomputeMutualEffects:(m,b)=>{},finalizeCalculations:(m,b)=>{Le(m,b,h(b))},gpuFinalizeCalculations:m=>ye(h(m))}},_d=t=>{const e=V.getFixedT(null,"conditionals","Characters.Kafka"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=i(t,1,1.1),r=l(t,1.6,1.76),u=s(t,.8,.864),R=o(t,1.4,1.596),h=s(t,2.9,3.183),S=rt*(1*.15+2*.15+3*.15+4*.15+5*.15+6*.25),m=[{formItem:"switch",id:"e1DotDmgReceivedDebuff",name:"e1DotDmgReceivedDebuff",text:e("Content.e1DotDmgReceivedDebuff.text"),title:e("Content.e1DotDmgReceivedDebuff.title"),content:e("Content.e1DotDmgReceivedDebuff.content"),disabled:t<1},{formItem:"switch",id:"e2TeamDotBoost",name:"e2TeamDotBoost",text:e("Content.e2TeamDotBoost.text"),title:e("Content.e2TeamDotBoost.title"),content:e("Content.e2TeamDotBoost.content"),disabled:t<2}],b=[J(m,"e1DotDmgReceivedDebuff"),J(m,"e2TeamDotBoost")];return{content:()=>m,teammateContent:()=>b,defaults:()=>({e1DotDmgReceivedDebuff:!0,e2TeamDotBoost:!0}),teammateDefaults:()=>({e1DotDmgReceivedDebuff:!0,e2TeamDotBoost:!0}),precomputeEffects:(p,C)=>(p.BASIC_SCALING+=c,p.SKILL_SCALING+=r,p.ULT_SCALING+=u,p.FUA_SCALING+=R,p.DOT_SCALING+=h,p.DOT_SCALING+=t>=6?1.56:0,p.BASIC_TOUGHNESS_DMG+=30,p.SKILL_TOUGHNESS_DMG+=60,p.ULT_TOUGHNESS_DMG+=60,p.FUA_TOUGHNESS_DMG+=30,p.DOT_CHANCE=1.3,p),precomputeMutualEffects:(p,C)=>{const G=C.characterConditionals;an(p,In,.3,t>=1&&G.e1DotDmgReceivedDebuff),ot(p,In,.25,t>=2&&G.e2TeamDotBoost)},finalizeCalculations:(p,C)=>{Le(p,C,S)},gpuFinalizeCalculations:p=>ye(S)}},qd=t=>{const e=V.getFixedT(null,"conditionals","Characters.Luka"),{basic:i,skill:l,ult:s}=it.SKILL_TALENT_3_ULT_BASIC_5,o=i(t,.2,.22),c=s(t,.2,.216),r=i(t,1,1.1),u=i(t,.2*3+.8,.22*3+.88),R=l(t,1.2,1.32),h=s(t,3.3,3.564),S=l(t,3.38,3.718),m=[{formItem:"switch",id:"basicEnhanced",name:"basicEnhanced",text:e("Content.basicEnhanced.text"),title:e("Content.basicEnhanced.title"),content:e("Content.basicEnhanced.content")},{formItem:"switch",id:"targetUltDebuffed",name:"targetUltDebuffed",text:e("Content.targetUltDebuffed.text"),title:e("Content.targetUltDebuffed.title"),content:e("Content.targetUltDebuffed.content",{targetUltDebuffDmgTakenValue:W.precisionRound(100*c)})},{formItem:"slider",id:"basicEnhancedExtraHits",name:"basicEnhancedExtraHits",text:e("Content.basicEnhancedExtraHits.text"),title:e("Content.basicEnhancedExtraHits.title"),content:e("Content.basicEnhancedExtraHits.content"),min:0,max:3},{formItem:"switch",id:"e1TargetBleeding",name:"e1TargetBleeding",text:e("Content.e1TargetBleeding.text"),title:e("Content.e1TargetBleeding.title"),content:e("Content.e1TargetBleeding.content"),disabled:t<1},{formItem:"slider",id:"e4TalentStacks",name:"e4TalentStacks",text:e("Content.e4TalentStacks.text"),title:e("Content.e4TalentStacks.title"),content:e("Content.e4TalentStacks.content"),min:0,max:4,disabled:t<4}],b=[J(m,"targetUltDebuffed")];return{content:()=>m,teammateContent:()=>b,defaults:()=>({basicEnhanced:!0,targetUltDebuffed:!0,e1TargetBleeding:!0,basicEnhancedExtraHits:3,e4TalentStacks:4}),teammateDefaults:()=>({targetUltDebuffed:!0}),precomputeEffects:(p,C)=>{const G=C.characterConditionals;return p[n.ATK_P]+=t>=4?G.e4TalentStacks*.05:0,p.BASIC_SCALING+=G.basicEnhanced?u:r,p.BASIC_SCALING+=(G.basicEnhanced&&G.basicEnhancedExtraHits)*o,p.SKILL_SCALING+=R,p.ULT_SCALING+=h,p.DOT_SCALING+=S,p.ELEMENTAL_DMG+=t>=1&&G.e1TargetBleeding?.15:0,p.BASIC_TOUGHNESS_DMG+=G.basicEnhanced?60:30,p.SKILL_TOUGHNESS_DMG+=60,p.ULT_TOUGHNESS_DMG+=90,p.DOT_CHANCE=1,p},precomputeMutualEffects:(p,C)=>{const G=C.characterConditionals;p.VULNERABILITY+=G.targetUltDebuffed?c:0},finalizeCalculations:p=>Ht(p),gpuFinalizeCalculations:()=>Xt()}},$d=t=>{const e=V.getFixedT(null,"conditionals","Characters.Luocha"),{basic:i,skill:l,ult:s}=it.SKILL_BASIC_3_ULT_TALENT_5,o=i(t,1,1.1),c=l(t,0,0),r=s(t,2,2.16),u=[{formItem:"switch",id:"fieldActive",name:"fieldActive",text:e("Content.fieldActive.text"),title:e("Content.fieldActive.title"),content:e("Content.fieldActive.content")},{formItem:"switch",id:"e6ResReduction",name:"e6ResReduction",text:e("Content.e6ResReduction.text"),title:e("Content.e6ResReduction.title"),content:e("Content.e6ResReduction.content"),disabled:t<6}],R=[J(u,"fieldActive"),J(u,"e6ResReduction")];return{content:()=>u,teammateContent:()=>R,defaults:()=>({fieldActive:!0,e6ResReduction:!0}),teammateDefaults:()=>({fieldActive:!0,e6ResReduction:!0}),precomputeEffects:(h,S)=>(h.BASIC_SCALING+=o,h.SKILL_SCALING+=c,h.ULT_SCALING+=r,h.BASIC_TOUGHNESS_DMG+=30,h.ULT_TOUGHNESS_DMG+=60,h),precomputeMutualEffects:(h,S)=>{const m=S.characterConditionals;h[n.ATK_P]+=t>=1&&m.fieldActive?.2:0,h.RES_PEN+=t>=6&&m.e6ResReduction?.2:0},finalizeCalculations:h=>Ht(h),gpuFinalizeCalculations:()=>Xt()}},tu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Lynx"),{basic:i,skill:l,ult:s}=it.SKILL_BASIC_3_ULT_TALENT_5,o=l(t,.075,.08),c=l(t,200,223),r=i(t,.5,.55),u=l(t,0,0),R=s(t,0,0),h=[{formItem:"switch",id:"skillBuff",name:"skillBuff",text:e("Content.skillBuff.text"),title:e("Content.skillBuff.title"),content:e("Content.skillBuff.content",{skillHpPercentBuff:W.precisionRound(100*o),skillHpFlatBuff:c})}],S=[J(h,"skillBuff"),{formItem:"slider",id:"teammateHPValue",name:"teammateHPValue",text:e("TeammateContent.teammateHPValue.text"),title:e("TeammateContent.teammateHPValue.title"),content:e("TeammateContent.teammateHPValue.content",{skillHpPercentBuff:W.precisionRound(100*o),skillHpFlatBuff:c}),min:0,max:1e4}];return{content:()=>h,teammateContent:()=>S,defaults:()=>({skillBuff:!0}),teammateDefaults:()=>({skillBuff:!0,teammateHPValue:6e3}),precomputeEffects:(m,b)=>(m.BASIC_SCALING+=r,m.SKILL_SCALING+=u,m.ULT_SCALING+=R,m.BASIC_TOUGHNESS_DMG+=30,m),precomputeMutualEffects:(m,b)=>{const p=b.characterConditionals;m[n.RES]+=t>=6&&p.skillBuff?.3:0},precomputeTeammateEffects:(m,b)=>{const p=b.characterConditionals;m[n.HP]+=p.skillBuff?o*p.teammateHPValue:0,m[n.HP]+=t>=6&&p.skillBuff?.06*p.teammateHPValue:0,m[n.HP]+=p.skillBuff?c:0;const C=t>=4&&p.skillBuff?.03*p.teammateHPValue:0;m[n.ATK]+=C},finalizeCalculations:(m,b)=>{m.BASIC_DMG+=m.BASIC_SCALING*m[n.HP]},gpuFinalizeCalculations:(m,b)=>(m.characterConditionals,`
x.BASIC_DMG += x.BASIC_SCALING * x.HP;
      `),dynamicConditionals:[{id:"LynxConversionConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.HP],ratioConversion:!0,condition:function(){return!0},effect:function(m,b,p){if(!b.characterConditionals.skillBuff)return;const G=p.conditionalState[this.id]||0;let g=0,T=0,D=0,I=0;const F=m[n.HP]-m.RATIO_BASED_HP_BUFF;g+=o*F+c,D+=o*G+c,t>=4&&(T+=.03*F,I+=.03*G),t>=6&&(g+=.06*F,D+=.06*G),p.conditionalState[this.id]=m[n.HP];const E=g-(G?D:0),P=T-(G?I:0);m.RATIO_BASED_HP_BUFF+=E,Qt(m,b,p,n.HP,E),Qt(m,b,p,n.ATK,P)},gpu:function(m,b){const p=m.characterConditionals;return Bt(this,`
if (${Ke(p.skillBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).LynxConversionConditional;
let convertibleHpValue: f32 = (*p_x).HP - (*p_x).RATIO_BASED_HP_BUFF;

var buffATK: f32 = 0;
var stateBuffATK: f32 = 0;

var buffHP: f32 = ${o} * convertibleHpValue + ${c};
var stateBuffHP: f32 = ${o} * stateValue + ${c};

if (${Re(t>=4)}) {
  buffATK += 0.03 * convertibleHpValue;
  stateBuffATK += 0.03 * stateValue;
}

if (${Re(t>=6)}) {
  buffHP += 0.06 * convertibleHpValue;
  stateBuffHP += 0.06 * stateValue;
}

(*p_state).LynxConversionConditional = (*p_x).HP;

let finalBuffHp = buffHP - select(0, stateBuffHP, stateValue > 0);
let finalBuffAtk = buffATK - select(0, stateBuffATK, stateValue > 0);
(*p_x).RATIO_BASED_HP_BUFF += finalBuffHp;

buffNonRatioDynamicHP(finalBuffHp, p_x, p_state);
buffDynamicATK(finalBuffAtk, p_x, p_state);
    `)}}]}},eu=t=>{const{basic:e,skill:i,ult:l,talent:s}=it.ULT_BASIC_3_SKILL_TALENT_5,o=e(t,1,1.1),c=i(t,0,0),r=l(t,1.5,1.62),u=s(t,1,1.1),R=rt*(1*1/1);return{content:()=>[],teammateContent:()=>[],defaults:()=>({}),teammateDefaults:()=>({}),precomputeEffects:(h,S)=>(h.BASIC_SCALING+=o,h.SKILL_SCALING+=c,h.ULT_SCALING+=r,h.FUA_SCALING+=u,h.BASIC_TOUGHNESS_DMG+=30,h.ULT_TOUGHNESS_DMG+=60,h.FUA_TOUGHNESS_DMG+=30,h),precomputeMutualEffects:(h,S)=>{},finalizeCalculations:(h,S)=>{const m=ha(h,S,R);h.BASIC_DMG+=h.BASIC_SCALING*h[n.ATK],h.SKILL_DMG+=h.SKILL_SCALING*h[n.ATK],h.ULT_DMG+=h.ULT_SCALING*h[n.ATK],h.FUA_DMG+=h.FUA_SCALING*(h[n.ATK]+m),h.FUA_DMG+=t>=4?.3*h[n.DEF]:0},gpuFinalizeCalculations:()=>`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;
x.FUA_DMG += x.FUA_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${R}));
if (${Re(t>=4)}) {
  x.FUA_DMG += 0.30 * x.DEF;
}
    `}},nu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Misha"),{basic:i,skill:l,ult:s}=it.ULT_BASIC_3_SKILL_TALENT_5,o=i(t,1,1.1),c=l(t,2,2.2);let r=s(t,.6,.65);r+=t>=4?.06:0;const u=[{formItem:"slider",id:"ultHitsOnTarget",name:"ultHitsOnTarget",text:e("Content.ultHitsOnTarget.text"),title:e("Content.ultHitsOnTarget.title"),content:e("Content.ultHitsOnTarget.content",{ultStackScaling:W.precisionRound(100*r)}),min:1,max:10},{formItem:"switch",id:"enemyFrozen",name:"enemyFrozen",text:e("Content.enemyFrozen.text"),title:e("Content.enemyFrozen.title"),content:e("Content.enemyFrozen.content")},{formItem:"switch",id:"e2DefReduction",name:"e2DefReduction",text:e("Content.e2DefReduction.text"),title:e("Content.e2DefReduction.title"),content:e("Content.e2DefReduction.content"),disabled:t<2},{formItem:"switch",id:"e6UltDmgBoost",name:"e6UltDmgBoost",text:e("Content.e6UltDmgBoost.text"),title:e("Content.e6UltDmgBoost.title"),content:e("Content.e6UltDmgBoost.content"),disabled:t<6}],R=[J(u,"e2DefReduction")];return{content:()=>u,teammateContent:()=>R,defaults:()=>({ultHitsOnTarget:10,enemyFrozen:!0,e2DefReduction:!0,e6UltDmgBoost:!0}),teammateDefaults:()=>({e2DefReduction:!0}),precomputeEffects:(h,S)=>{const m=S.characterConditionals;return h[n.CD]+=m.enemyFrozen?.3:0,h.ELEMENTAL_DMG+=t>=6&&m.e6UltDmgBoost?.3:0,h.BASIC_SCALING+=o,h.SKILL_SCALING+=c,h.ULT_SCALING+=r*m.ultHitsOnTarget,h.BASIC_TOUGHNESS_DMG+=30,h.SKILL_TOUGHNESS_DMG+=60,h.ULT_TOUGHNESS_DMG+=30+15*(m.ultHitsOnTarget-1),h},precomputeMutualEffects:(h,S)=>{const m=S.characterConditionals;h.DEF_PEN+=t>=2&&m.e2DefReduction?.16:0},finalizeCalculations:h=>Ht(h),gpuFinalizeCalculations:()=>Xt()}},au=t=>{const{basic:e}=it.SKILL_BASIC_3_ULT_TALENT_5,i=e(t,1,1.1);return{content:()=>[],teammateContent:()=>[],defaults:()=>({}),teammateDefaults:()=>({}),precomputeEffects:(l,s)=>(l.BASIC_SCALING+=i,l.BASIC_TOUGHNESS_DMG+=30,l),precomputeMutualEffects:(l,s)=>{},finalizeCalculations:(l,s)=>{l.BASIC_DMG+=l.BASIC_SCALING*l[n.ATK],l.BASIC_DMG+=t>=6?.4*l[n.HP]:0},gpuFinalizeCalculations:()=>`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
if (${Re(t>=6)}) {
  x.BASIC_DMG += 0.40 * x.HP;
}
    `}},iu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Pela"),{basic:i,skill:l,ult:s}=it.SKILL_BASIC_3_ULT_TALENT_5,o=s(t,.4,.42),c=i(t,1,1.1),r=l(t,2.1,2.31),u=s(t,1,1.08),R=[{formItem:"switch",id:"teamEhrBuff",name:"teamEhrBuff",text:e("Content.teamEhrBuff.text"),title:e("Content.teamEhrBuff.title"),content:e("Content.teamEhrBuff.content")},{formItem:"switch",id:"enemyDebuffed",name:"enemyDebuffed",text:e("Content.enemyDebuffed.text"),title:e("Content.enemyDebuffed.title"),content:e("Content.enemyDebuffed.content")},{formItem:"switch",id:"skillRemovedBuff",name:"skillRemovedBuff",text:e("Content.skillRemovedBuff.text"),title:e("Content.skillRemovedBuff.title"),content:e("Content.skillRemovedBuff.content")},{formItem:"switch",id:"ultDefPenDebuff",name:"ultDefPenDebuff",text:e("Content.ultDefPenDebuff.text"),title:e("Content.ultDefPenDebuff.title"),content:e("Content.ultDefPenDebuff.content",{ultDefPenValue:W.precisionRound(100*o)})},{formItem:"switch",id:"e4SkillResShred",name:"e4SkillResShred",text:e("Content.e4SkillResShred.text"),title:e("Content.e4SkillResShred.title"),content:e("Content.e4SkillResShred.content"),disabled:t<4}],h=[J(R,"teamEhrBuff"),J(R,"ultDefPenDebuff"),J(R,"e4SkillResShred")];return{content:()=>R,teammateContent:()=>h,defaults:()=>({teamEhrBuff:!0,enemyDebuffed:!0,skillRemovedBuff:!1,ultDefPenDebuff:!0,e4SkillResShred:!0}),teammateDefaults:()=>({teamEhrBuff:!0,ultDefPenDebuff:!0,e4SkillResShred:!0}),precomputeEffects:(S,m)=>{const b=m.characterConditionals;return S[n.SPD_P]+=t>=2&&b.skillRemovedBuff?.1:0,S.BASIC_SCALING+=c,S.SKILL_SCALING+=r,S.ULT_SCALING+=u,ot(S,ue|Ot|Mt,.2,b.skillRemovedBuff),S.ELEMENTAL_DMG+=b.enemyDebuffed?.2:0,S.BASIC_TOUGHNESS_DMG+=30,S.SKILL_TOUGHNESS_DMG+=60,S.ULT_TOUGHNESS_DMG+=60,S},precomputeMutualEffects:(S,m)=>{const b=m.characterConditionals;S[n.EHR]+=b.teamEhrBuff?.1:0,S.DEF_PEN+=b.ultDefPenDebuff?o:0,S.ICE_RES_PEN+=t>=4&&b.e4SkillResShred?.12:0},finalizeCalculations:(S,m)=>{S.BASIC_DMG+=S.BASIC_SCALING*S[n.ATK],S.SKILL_DMG+=S.SKILL_SCALING*S[n.ATK],S.ULT_DMG+=S.ULT_SCALING*S[n.ATK],S.BASIC_DMG+=t>=6?.4*S[n.ATK]:0,S.SKILL_DMG+=t>=6?.4*S[n.ATK]:0,S.ULT_DMG+=t>=6?.4*S[n.ATK]:0},gpuFinalizeCalculations:()=>`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;

if (${Re(t>=6)}) {
  x.BASIC_DMG += 0.40 * x.ATK;
  x.SKILL_DMG += 0.40 * x.ATK;
  x.ULT_DMG += 0.40 * x.ATK;
}
    `}},$l=t=>{const e=V.getFixedT(null,"conditionals","Characters.TrailblazerDestruction"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=o(t,.2,.22),r=i(t,1,1.1),u=l(t,1.25,1.375),R=s(t,4.5,4.8),h=s(t,2.7,2.88),S=s(t,1.62,1.728),m=[{formItem:"switch",id:"enhancedUlt",name:"Enhanced Ult",text:e("Content.enhancedUlt.text"),title:e("Content.enhancedUlt.title"),content:e("Content.enhancedUlt.content",{ultScaling:W.precisionRound(100*R),ultEnhancedScaling:W.precisionRound(100*h),ultEnhancedScaling2:W.precisionRound(100*S)})},{formItem:"slider",id:"talentStacks",name:"Talent stacks",text:e("Content.talentStacks.text"),title:e("Content.talentStacks.title"),content:e("Content.talentStacks.content",{talentAtkScalingValue:W.precisionRound(100*c)}),min:0,max:2}];return{content:()=>m,teammateContent:()=>[],defaults:()=>({enhancedUlt:!0,talentStacks:2}),teammateDefaults:()=>({}),precomputeEffects:(b,p)=>{const C=p.characterConditionals;return b[n.ATK_P]+=C.talentStacks*c,b[n.DEF_P]+=C.talentStacks*.1,b[n.CR]+=b.ENEMY_WEAKNESS_BROKEN?.25:0,b.BASIC_SCALING+=r,b.SKILL_SCALING+=u,b.ULT_SCALING+=C.enhancedUlt?h:R,ot(b,Ot,.25),ot(b,Mt,.25,C.enhancedUlt),b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=60,b.ULT_TOUGHNESS_DMG+=C.enhancedUlt?60:90,b},precomputeMutualEffects:(b,p)=>{},finalizeCalculations:b=>Ht(b),gpuFinalizeCalculations:()=>Xt()}},to=t=>{const e=V.getFixedT(null,"conditionals","Characters.TrailblazerHarmony"),{basic:i,skill:l,ult:s}=it.SKILL_TALENT_3_ULT_BASIC_5,o=i(t,1,1.1),c=l(t,.5,.55),r=s(t,.3,.33),u=t>=6?6:4,R={1:1.6,3:1.4,5:1.2},h=[{formItem:"switch",id:"backupDancer",name:"backupDancer",text:e("Content.backupDancer.text"),title:e("Content.backupDancer.title"),content:e("Content.backupDancer.content",{ultBeScaling:W.precisionRound(100*r)})},{formItem:"switch",id:"superBreakDmg",name:"superBreakDmg",text:e("Content.superBreakDmg.text"),title:e("Content.superBreakDmg.title"),content:e("Content.superBreakDmg.content")},{formItem:"slider",id:"skillHitsOnTarget",name:"skillHitsOnTarget",text:e("Content.skillHitsOnTarget.text"),title:e("Content.skillHitsOnTarget.title"),content:e("Content.skillHitsOnTarget.content"),min:0,max:u},{formItem:"switch",id:"e2EnergyRegenBuff",name:"e2EnergyRegenBuff",text:e("Content.e2EnergyRegenBuff.text"),title:e("Content.e2EnergyRegenBuff.title"),content:e("Content.e2EnergyRegenBuff.content"),disabled:t<2}],S=[J(h,"backupDancer"),J(h,"superBreakDmg"),{formItem:"slider",id:"teammateBeValue",name:"teammateBeValue",text:e("TeammateContent.teammateBeValue.text"),title:e("TeammateContent.teammateBeValue.title"),content:e("TeammateContent.teammateBeValue.content"),min:0,max:4,percent:!0,disabled:t<4}],m={skillHitsOnTarget:u,backupDancer:!0,superBreakDmg:!0,e2EnergyRegenBuff:!1};return{content:()=>h,teammateContent:()=>S,defaults:()=>m,teammateDefaults:()=>({backupDancer:!0,superBreakDmg:!0,teammateBeValue:2}),initializeConfigurations:(b,p)=>{p.characterConditionals.superBreakDmg&&(b.ENEMY_WEAKNESS_BROKEN=1)},initializeTeammateConfigurations:(b,p)=>{p.characterConditionals.superBreakDmg&&(b.ENEMY_WEAKNESS_BROKEN=1)},precomputeEffects:(b,p)=>{const C=p.characterConditionals;return b[n.ERR]+=t>=2&&C.e2EnergyRegenBuff?.25:0,b.BASIC_SCALING+=o,b.SKILL_SCALING+=c,b.SKILL_SCALING+=C.skillHitsOnTarget*c,b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=30*C.skillHitsOnTarget,b},precomputeMutualEffects:(b,p)=>{const C=p.characterConditionals;b[n.BE]+=C.backupDancer?r:0,b.SUPER_BREAK_HMC_MODIFIER+=C.backupDancer&&C.superBreakDmg?R[p.enemyCount]:0},precomputeTeammateEffects:(b,p)=>{const C=p.characterConditionals;b[n.BE]+=t>=4?.15*C.teammateBeValue:0},finalizeCalculations:b=>Ht(b),gpuFinalizeCalculations:()=>Xt()}},eo=t=>{const e=V.getFixedT(null,"conditionals","Characters.TrailblazerPreservation"),{basic:i,skill:l,ult:s}=it.SKILL_TALENT_3_ULT_BASIC_5,o=l(t,.5,.52),c=i(t,1,1.1),r=t>=1?.25:0,u=i(t,1.35,1.463),R=t>=1?.5:0,h=l(t,0,0),S=s(t,1,1.1),m=s(t,1.5,1.65),b=[{formItem:"switch",id:"enhancedBasic",name:"enhancedBasic",text:e("Content.enhancedBasic.text"),title:e("Content.enhancedBasic.title"),content:e("Content.enhancedBasic.content",{basicEnhancedAtkScaling:W.precisionRound(100*u)})},{formItem:"switch",id:"skillActive",name:"skillActive",text:e("Content.skillActive.text"),title:e("Content.skillActive.title"),content:e("Content.skillActive.content",{skillDamageReductionValue:W.precisionRound(100*o)})},{formItem:"switch",id:"shieldActive",name:"shieldActive",text:e("Content.shieldActive.text"),title:e("Content.shieldActive.title"),content:e("Content.shieldActive.content")},{formItem:"slider",id:"e6DefStacks",name:"e6DefStacks",text:e("Content.e6DefStacks.text"),title:e("Content.e6DefStacks.title"),content:e("Content.e6DefStacks.content"),min:0,max:3,disabled:t<6}],p=[J(b,"skillActive")];return{content:()=>b,teammateContent:()=>p,defaults:()=>({enhancedBasic:!0,skillActive:!0,shieldActive:!0,e6DefStacks:3}),teammateDefaults:()=>({skillActive:!0}),precomputeEffects:(C,G)=>{const g=G.characterConditionals;return C[n.DEF_P]+=t>=6?g.e6DefStacks*.1:0,C[n.ATK_P]+=g.shieldActive?.15:0,C.SKILL_SCALING+=h,C.DMG_RED_MULTI*=g.skillActive?1-o:1,C.BASIC_TOUGHNESS_DMG+=g.basicEnhanced?60:30,C.ULT_TOUGHNESS_DMG+=60,C},precomputeMutualEffects:(C,G)=>{const g=G.characterConditionals;C.DMG_RED_MULTI*=g.skillActive?1-.15:1},finalizeCalculations:(C,G)=>{G.characterConditionals.enhancedBasic?(C.BASIC_DMG+=u*C[n.ATK],C.BASIC_DMG+=R*C[n.DEF]):(C.BASIC_DMG+=c*C[n.ATK],C.BASIC_DMG+=r*C[n.DEF]),C.SKILL_DMG+=C.SKILL_SCALING*C[n.ATK],C.ULT_DMG+=S*C[n.ATK],C.ULT_DMG+=m*C[n.DEF]},gpuFinalizeCalculations:C=>{const G=C.characterConditionals;return`
if (${Re(G.enhancedBasic)}) {
  x.BASIC_DMG += ${u} * x.ATK;
  x.BASIC_DMG += ${R} * x.DEF;
} else {
  x.BASIC_DMG += ${c} * x.ATK;
  x.BASIC_DMG += ${r} * x.DEF;
}      

x.SKILL_DMG += x.SKILL_SCALING * x.ATK;

x.ULT_DMG += ${S} * x.ATK;
x.ULT_DMG += ${m} * x.DEF;
    `}}},su=t=>{const e=V.getFixedT(null,"conditionals","Characters.Qingque"),{basic:i,skill:l,ult:s,talent:o}=it.ULT_TALENT_3_SKILL_BASIC_5,c=l(t,.38,.408),r=o(t,.72,.792),u=i(t,1,1.1),R=i(t,2.4,2.64),h=l(t,0,0),S=s(t,2,2.16),m={1:rt*(1*1/1),3:rt*(2*1/1),5:rt*(2*1/1)},b=rt*(1*1/1);function p(G){return G.characterConditionals.basicEnhanced?m[G.enemyCount]:b}const C=[{formItem:"switch",id:"basicEnhanced",name:"basicEnhanced",text:e("Content.basicEnhanced.text"),title:e("Content.basicEnhanced.title"),content:e("Content.basicEnhanced.content",{talentAtkBuff:W.precisionRound(100*r)})},{formItem:"switch",id:"basicEnhancedSpdBuff",name:"basicEnhancedSpdBuff",text:e("Content.basicEnhancedSpdBuff.text"),title:e("Content.basicEnhancedSpdBuff.title"),content:e("Content.basicEnhancedSpdBuff.content")},{formItem:"slider",id:"skillDmgIncreaseStacks",name:"skillDmgIncreaseStacks",text:e("Content.skillDmgIncreaseStacks.text"),title:e("Content.skillDmgIncreaseStacks.title"),content:e("Content.skillDmgIncreaseStacks.content",{skillStackDmg:W.precisionRound(100*c)}),min:0,max:4}];return{content:()=>C,teammateContent:()=>[],defaults:()=>({basicEnhanced:!0,basicEnhancedSpdBuff:!1,skillDmgIncreaseStacks:4}),teammateDefaults:()=>({}),precomputeEffects:(G,g)=>{const T=g.characterConditionals;return G[n.ATK_P]+=T.basicEnhanced?r:0,G[n.SPD_P]+=T.basicEnhancedSpdBuff?.1:0,G.BASIC_SCALING+=T.basicEnhanced?R:u,G.SKILL_SCALING+=h,G.ULT_SCALING+=S,G.FUA_SCALING+=t>=4?G.BASIC_SCALING:0,G.ELEMENTAL_DMG+=T.skillDmgIncreaseStacks*c,ot(G,Mt,.1,t>=1),G.BASIC_TOUGHNESS_DMG+=T.basicEnhanced?60:30,G.ULT_TOUGHNESS_DMG+=60,G.FUA_TOUGHNESS_DMG+=T.basicEnhanced?60:30,G},precomputeMutualEffects:(G,g)=>{},finalizeCalculations:(G,g)=>{Le(G,g,p(g))},gpuFinalizeCalculations:G=>ye(p(G))}},lu=t=>{const e=V.getFixedT(null,"conditionals","Characters.RuanMei"),{basic:i,skill:l,ult:s,talent:o}=it.ULT_TALENT_3_SKILL_BASIC_5,c=s(t,.25,.27),r=i(t,1,1.1),u=l(t,.32,.352),R=o(t,.1,.104),h=[{formItem:"switch",id:"skillOvertoneBuff",name:"skillOvertoneBuff",text:e("Content.skillOvertoneBuff.text"),title:e("Content.skillOvertoneBuff.title"),content:e("Content.skillOvertoneBuff.content",{skillScaling:W.precisionRound(100*u)})},{formItem:"switch",id:"teamBEBuff",name:"teamBEBuff",text:e("Content.teamBEBuff.text"),title:e("Content.teamBEBuff.title"),content:e("Content.teamBEBuff.content")},{formItem:"switch",id:"ultFieldActive",name:"ultFieldActive",text:e("Content.ultFieldActive.text"),title:e("Content.ultFieldActive.title"),content:e("Content.ultFieldActive.content",{fieldResPenValue:W.precisionRound(100*c)})},{formItem:"switch",id:"e2AtkBoost",name:"e2AtkBoost",text:e("Content.e2AtkBoost.text"),title:e("Content.e2AtkBoost.title"),content:e("Content.e2AtkBoost.content"),disabled:t<2},{formItem:"switch",id:"e4BeBuff",name:"e4BeBuff",text:e("Content.e4BeBuff.text"),title:e("Content.e4BeBuff.title"),content:e("Content.e4BeBuff.content"),disabled:t<4}],S=[J(h,"skillOvertoneBuff"),{formItem:"switch",id:"teamSpdBuff",name:"teamSpdBuff",text:e("TeammateContent.teamSpdBuff.text"),title:e("TeammateContent.teamSpdBuff.title"),content:e("TeammateContent.teamSpdBuff.content",{talentSpdScaling:W.precisionRound(100*R)})},J(h,"teamBEBuff"),{formItem:"slider",id:"teamDmgBuff",name:"teamDmgBuff",text:e("TeammateContent.teamDmgBuff.text"),title:e("TeammateContent.teamDmgBuff.title"),content:e("TeammateContent.teamDmgBuff.content"),min:0,max:.36,percent:!0},J(h,"ultFieldActive"),J(h,"e2AtkBoost")];return{content:()=>h,teammateContent:()=>S,defaults:()=>({skillOvertoneBuff:!0,teamBEBuff:!0,ultFieldActive:!0,e2AtkBoost:!1,e4BeBuff:!1}),teammateDefaults:()=>({skillOvertoneBuff:!0,teamSpdBuff:!0,teamBEBuff:!0,ultFieldActive:!0,e2AtkBoost:!1,teamDmgBuff:.36}),precomputeEffects:(m,b)=>{const p=b.characterConditionals;return m[n.ATK_P]+=t>=2&&p.e2AtkBoost?.4:0,m[n.BE]+=t>=4&&p.e4BeBuff?1:0,m.BASIC_SCALING+=r,m.BASIC_TOUGHNESS_DMG+=30,m},precomputeMutualEffects:(m,b)=>{const p=b.characterConditionals;m[n.BE]+=p.teamBEBuff?.2:0,m.ELEMENTAL_DMG+=p.skillOvertoneBuff?u:0,m.BREAK_EFFICIENCY_BOOST+=p.skillOvertoneBuff?.5:0,m.RES_PEN+=p.ultFieldActive?c:0,m.DEF_PEN+=t>=1&&p.ultFieldActive?.2:0},precomputeTeammateEffects:(m,b)=>{const p=b.characterConditionals;m[n.SPD_P]+=p.teamSpdBuff?R:0,m.ELEMENTAL_DMG+=p.teamDmgBuff,m[n.ATK_P]+=t>=2&&p.e2AtkBoost?.4:0,m.RATIO_BASED_ATK_P_BUFF+=t>=2&&p.e2AtkBoost?.4:0},finalizeCalculations:m=>Ht(m),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[yd]}},ou=t=>{const e=V.getFixedT(null,"conditionals","Characters.Sampo"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=s(t,.3,.32),r=i(t,1,1.1),u=l(t,.56,.616),R=s(t,1.6,1.728),h=o(t,.52,.572),S=t<1?4:5,m=[{formItem:"switch",id:"targetDotTakenDebuff",name:"targetDotTakenDebuff",text:e("Content.targetDotTakenDebuff.text"),title:e("Content.targetDotTakenDebuff.title"),content:e("Content.targetDotTakenDebuff.content",{dotVulnerabilityValue:W.precisionRound(100*c)})},{formItem:"slider",id:"skillExtraHits",name:"skillExtraHits",text:e("Content.skillExtraHits.text"),title:e("Content.skillExtraHits.title"),content:e("Content.skillExtraHits.content"),min:1,max:S},{formItem:"switch",id:"targetWindShear",name:"targetWindShear",text:e("Content.targetWindShear.text"),title:e("Content.targetWindShear.title"),content:e("Content.targetWindShear.content")}],b=[J(m,"targetDotTakenDebuff")];return{content:()=>m,teammateContent:()=>b,defaults:()=>({targetDotTakenDebuff:!0,skillExtraHits:S,targetWindShear:!0}),teammateDefaults:()=>({targetDotTakenDebuff:!0}),precomputeEffects:(p,C)=>{const G=C.characterConditionals;return p.BASIC_SCALING+=r,p.SKILL_SCALING+=u,p.SKILL_SCALING+=G.skillExtraHits*u,p.ULT_SCALING+=R,p.DOT_SCALING+=h,p.DOT_SCALING+=t>=6?.15:0,p.DMG_RED_MULTI*=G.targetWindShear?1-.15:1,p.BASIC_TOUGHNESS_DMG+=30,p.SKILL_TOUGHNESS_DMG+=30+15*G.skillExtraHits,p.ULT_TOUGHNESS_DMG+=60,p.DOT_CHANCE=.65,p},precomputeMutualEffects:(p,C)=>{const G=C.characterConditionals;an(p,In,c,G.targetDotTakenDebuff)},finalizeCalculations:p=>Ht(p),gpuFinalizeCalculations:()=>Xt()}},cu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Seele"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=o(t,.8,.88),r=t>=2?2:1,u=i(t,1,1.1),R=l(t,2.2,2.42),h=s(t,4.25,4.59),S=[{formItem:"switch",id:"buffedState",name:"buffedState",text:e("Content.buffedState.text"),title:e("Content.buffedState.title"),content:e("Content.buffedState.content",{buffedStateDmgBuff:W.precisionRound(100*c)})},{formItem:"slider",id:"speedBoostStacks",name:"speedBoostStacks",text:e("Content.speedBoostStacks.text"),title:e("Content.speedBoostStacks.title"),content:e("Content.speedBoostStacks.content",{speedBoostStacksMax:r}),min:0,max:r},{formItem:"switch",id:"e1EnemyHp80CrBoost",name:"e1EnemyHp80CrBoost",text:e("Content.e1EnemyHp80CrBoost.text"),title:e("Content.e1EnemyHp80CrBoost.title"),content:e("Content.e1EnemyHp80CrBoost.content"),disabled:t<1},{formItem:"switch",id:"e6UltTargetDebuff",name:"e6UltTargetDebuff",text:e("Content.e6UltTargetDebuff.text"),title:e("Content.e6UltTargetDebuff.title"),content:e("Content.e6UltTargetDebuff.content"),disabled:t<6}];return{content:()=>S,teammateContent:()=>[],defaults:()=>({buffedState:!0,speedBoostStacks:r,e1EnemyHp80CrBoost:!1,e6UltTargetDebuff:!0}),teammateDefaults:()=>({}),precomputeEffects:(m,b)=>{const p=b.characterConditionals;return m[n.CR]+=t>=1&&p.e1EnemyHp80CrBoost?.15:0,m[n.SPD_P]+=.25*p.speedBoostStacks,m.BASIC_SCALING+=u,m.SKILL_SCALING+=R,m.ULT_SCALING+=h,m.ELEMENTAL_DMG+=p.buffedState?c:0,m.RES_PEN+=p.buffedState?.2:0,m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=60,m.ULT_TOUGHNESS_DMG+=90,m},precomputeMutualEffects:(m,b)=>{},finalizeCalculations:(m,b)=>{const p=b.characterConditionals;m.BASIC_DMG+=m.BASIC_SCALING*m[n.ATK],m.SKILL_DMG+=m.SKILL_SCALING*m[n.ATK],m.ULT_DMG+=m.ULT_SCALING*m[n.ATK],m.BASIC_DMG+=t>=6&&p.e6UltTargetDebuff?.15*m.ULT_DMG:0,m.SKILL_DMG+=t>=6&&p.e6UltTargetDebuff?.15*m.ULT_DMG:0,m.ULT_DMG+=t>=6&&p.e6UltTargetDebuff?.15*m.ULT_DMG:0},gpuFinalizeCalculations:m=>{const b=m.characterConditionals;return`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;

if (${Re(t>=6&&b.e6UltTargetDebuff)}) {
  x.BASIC_DMG += 0.15 * x.ULT_DMG;
  x.SKILL_DMG += 0.15 * x.ULT_DMG;
  x.ULT_DMG += 0.15 * x.ULT_DMG;
}
    `}}},ru=t=>{const e=V.getFixedT(null,"conditionals","Characters.Serval"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=o(t,.72,.792),r=i(t,1,1.1),u=l(t,1.4,1.54),R=s(t,1.8,1.944),h=l(t,1.04,1.144),S=[{formItem:"switch",id:"targetShocked",name:"targetShocked",text:e("Content.targetShocked.text"),title:e("Content.targetShocked.title"),content:e("Content.targetShocked.content",{talentExtraDmgScaling:W.precisionRound(100*c)})},{formItem:"switch",id:"enemyDefeatedBuff",name:"enemyDefeatedBuff",text:e("Content.enemyDefeatedBuff.text"),title:e("Content.enemyDefeatedBuff.title"),content:e("Content.enemyDefeatedBuff.content")}];return{content:()=>S,teammateContent:()=>[],defaults:()=>({targetShocked:!0,enemyDefeatedBuff:!0}),teammateDefaults:()=>({}),precomputeEffects:(m,b)=>{const p=b.characterConditionals;return m[n.ATK_P]+=p.enemyDefeatedBuff?.2:0,m.BASIC_SCALING+=r,m.SKILL_SCALING+=u,m.ULT_SCALING+=R,m.DOT_SCALING+=h,m.BASIC_SCALING+=p.targetShocked?c:0,m.SKILL_SCALING+=p.targetShocked?c:0,m.ULT_SCALING+=p.targetShocked?c:0,m.ELEMENTAL_DMG+=t>=6&&p.targetShocked?.3:0,m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=60,m.ULT_TOUGHNESS_DMG+=60,m.DOT_CHANCE=.65,m},precomputeMutualEffects:(m,b)=>{},finalizeCalculations:m=>Ht(m),gpuFinalizeCalculations:()=>Xt()}},du=t=>{const e=V.getFixedT(null,"conditionals","Characters.SilverWolf"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=l(t,.1,.105),r=o(t,.08,.088),u=s(t,.45,.468),R=i(t,1,1.1),h=l(t,1.96,2.156),S=s(t,3.8,4.104),m=[{formItem:"switch",id:"skillResShredDebuff",name:"skillResShredDebuff",text:e("Content.skillResShredDebuff.text"),title:e("Content.skillResShredDebuff.title"),content:e("Content.skillResShredDebuff.content",{skillResShredValue:W.precisionRound(100*c)})},{formItem:"switch",id:"skillWeaknessResShredDebuff",name:"skillWeaknessResShredDebuff",text:e("Content.skillWeaknessResShredDebuff.text"),title:e("Content.skillWeaknessResShredDebuff.title"),content:e("Content.skillWeaknessResShredDebuff.content")},{formItem:"switch",id:"talentDefShredDebuff",name:"talentDefShredDebuff",text:e("Content.talentDefShredDebuff.text"),title:e("Content.talentDefShredDebuff.title"),content:e("Content.talentDefShredDebuff.content",{talentDefShredDebuffValue:W.precisionRound(100*r)})},{formItem:"switch",id:"ultDefShredDebuff",name:"ultDefShredDebuff",text:e("Content.ultDefShredDebuff.text"),title:e("Content.ultDefShredDebuff.title"),content:e("Content.ultDefShredDebuff.content",{ultDefShredValue:W.precisionRound(100*u)})},{formItem:"slider",id:"targetDebuffs",name:"targetDebuffs",text:e("Content.targetDebuffs.text"),title:e("Content.targetDebuffs.title"),content:e("Content.targetDebuffs.content"),min:0,max:5}],b=[J(m,"skillResShredDebuff"),J(m,"skillWeaknessResShredDebuff"),J(m,"talentDefShredDebuff"),J(m,"ultDefShredDebuff"),J(m,"targetDebuffs")];return{content:()=>m,teammateContent:()=>b,defaults:()=>({skillWeaknessResShredDebuff:!1,skillResShredDebuff:!0,talentDefShredDebuff:!0,ultDefShredDebuff:!0,targetDebuffs:5}),teammateDefaults:()=>({skillWeaknessResShredDebuff:!1,skillResShredDebuff:!0,talentDefShredDebuff:!0,ultDefShredDebuff:!0,targetDebuffs:5}),precomputeEffects:(p,C)=>{const G=C.characterConditionals;return p.BASIC_SCALING+=R,p.SKILL_SCALING+=h,p.ULT_SCALING+=S,p.ULT_SCALING+=t>=4?G.targetDebuffs*.2:0,p.ELEMENTAL_DMG+=t>=6?G.targetDebuffs*.2:0,p.BASIC_TOUGHNESS_DMG+=30,p.SKILL_TOUGHNESS_DMG+=60,p.ULT_TOUGHNESS_DMG+=90,p},precomputeMutualEffects:(p,C)=>{const G=C.characterConditionals;p.RES_PEN+=G.skillWeaknessResShredDebuff?.2:0,p.RES_PEN+=G.skillResShredDebuff?c:0,p.RES_PEN+=G.skillResShredDebuff&&G.targetDebuffs>=3?.03:0,p.DEF_PEN+=G.ultDefShredDebuff?u:0,p.DEF_PEN+=G.talentDefShredDebuff?r:0},finalizeCalculations:p=>Ht(p),gpuFinalizeCalculations:()=>Xt()}},uu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Sparkle"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=l(t,.24,.264),r=l(t,.45,.486),u=s(t,.1,.108),R=o(t,.06,.066),h=i(t,1,1.1),S=l(t,0,0),m=s(t,0,0),b={0:0,1:.05,2:.15,3:.3},p=[{formItem:"switch",id:"skillCdBuff",name:"skillCdBuff",text:e("Content.skillCdBuff.text"),title:e("Content.skillCdBuff.title"),content:e("Content.skillCdBuff.content",{skillCdBuffScaling:W.precisionRound(100*c),skillCdBuffBase:W.precisionRound(100*r)})},{formItem:"switch",id:"cipherBuff",name:"cipherBuff",text:e("Content.cipherBuff.text"),title:e("Content.cipherBuff.title"),content:e("Content.cipherBuff.content",{cipherTalentStackBoost:W.precisionRound(100*u)})},{formItem:"slider",id:"talentStacks",name:"talentStacks",text:e("Content.talentStacks.text"),title:e("Content.talentStacks.title"),content:e("Content.talentStacks.content",{talentBaseStackBoost:W.precisionRound(100*R)}),min:0,max:3},{formItem:"slider",id:"quantumAllies",name:"quantumAllies",text:e("Content.quantumAllies.text"),title:e("Content.quantumAllies.title"),content:e("Content.quantumAllies.content"),min:0,max:3}],C=[J(p,"skillCdBuff"),{formItem:"slider",id:"teammateCDValue",name:"teammateCDValue",text:e("TeammateContent.teammateCDValue.text"),title:e("TeammateContent.teammateCDValue.title"),content:e("TeammateContent.teammateCDValue.content",{skillCdBuffScaling:W.precisionRound(100*c),skillCdBuffBase:W.precisionRound(100*r)}),min:0,max:3.5,percent:!0},J(p,"cipherBuff"),J(p,"talentStacks"),J(p,"quantumAllies")],G={skillCdBuff:!1,cipherBuff:!0,talentStacks:3,quantumAllies:3};return{content:()=>p,teammateContent:()=>C,defaults:()=>G,teammateDefaults:()=>({...G,skillCdBuff:!0,teammateCDValue:2.5}),precomputeEffects:(g,T)=>(g.BASIC_SCALING+=h,g.SKILL_SCALING+=S,g.ULT_SCALING+=m,g.BASIC_TOUGHNESS_DMG+=30,g),precomputeMutualEffects:(g,T)=>{const D=T.characterConditionals;g[n.ATK_P]+=.15+(T.PRIMARY_ELEMENTAL_DMG_TYPE==n.Quantum_DMG&&b[D.quantumAllies]||0),g[n.ATK_P]+=t>=1&&D.cipherBuff?.4:0,g.ELEMENTAL_DMG+=D.cipherBuff?D.talentStacks*(R+u):D.talentStacks*R,g.DEF_PEN+=t>=2?.08*D.talentStacks:0},precomputeTeammateEffects:(g,T)=>{const D=T.characterConditionals;g[n.CD]+=D.skillCdBuff?r+(c+(t>=6?.3:0))*D.teammateCDValue:0},finalizeCalculations:g=>Ht(g),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[{id:"SparkleCdConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.CD],ratioConversion:!0,condition:function(){return!0},effect:function(g,T,D){if(!T.characterConditionals.skillCdBuff)return;const F=c+(t>=6?.3:0),E=D.conditionalState[this.id]||0,P=g[n.CD]-g.RATIO_BASED_CD_BUFF,N=F*P+r,k=F*E+r;D.conditionalState[this.id]=g[n.CD];const B=N-(E?k:0);g.RATIO_BASED_CD_BUFF+=B,Qt(g,T,D,n.CD,B)},gpu:function(g,T){const D=g.characterConditionals,I=c+(t>=6?.3:0);return Bt(this,`
if (${Ke(D.skillCdBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).SparkleCdConditional;
let convertibleCdValue: f32 = (*p_x).CD - (*p_x).RATIO_BASED_CD_BUFF;

var buffCD: f32 = ${I} * convertibleCdValue + ${r};
var stateBuffCD: f32 = ${I} * stateValue + ${r};

(*p_state).SparkleCdConditional = (*p_x).CD;

let finalBuffCd = buffCD - select(0, stateBuffCD, stateValue > 0);
(*p_x).RATIO_BASED_CD_BUFF += finalBuffCd;

buffNonRatioDynamicCD(finalBuffCd, p_x, p_state);
    `)}}]}},mu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Sushang"),{basic:i,skill:l,ult:s,talent:o}=it.ULT_TALENT_3_SKILL_BASIC_5,c=o(t,.2,.21),r=s(t,.3,.324),u=t>=6?2:1,R=i(t,1,1.1),h=l(t,2.1,2.31),S=l(t,1,1.1),m=s(t,3.2,3.456),b=[{formItem:"switch",id:"ultBuffedState",name:"ultBuffedState",text:e("Content.ultBuffedState.text"),title:e("Content.ultBuffedState.title"),content:e("Content.ultBuffedState.content",{ultBuffedAtk:W.precisionRound(100*r)})},{formItem:"slider",id:"skillExtraHits",name:"skillExtraHits",text:e("Content.skillExtraHits.text"),title:e("Content.skillExtraHits.title"),content:e("Content.skillExtraHits.content"),min:0,max:3},{formItem:"slider",id:"skillTriggerStacks",name:"skillTriggerStacks",text:e("Content.skillTriggerStacks.text"),title:e("Content.skillTriggerStacks.title"),content:e("Content.skillTriggerStacks.content"),min:0,max:10},{formItem:"slider",id:"talentSpdBuffStacks",name:"talentSpdBuffStacks",text:e("Content.talentSpdBuffStacks.text"),title:e("Content.talentSpdBuffStacks.title"),content:e("Content.talentSpdBuffStacks.content",{talentSpdBuffValue:W.precisionRound(100*c)}),min:0,max:u},{formItem:"switch",id:"e2DmgReductionBuff",name:"e2DmgReductionBuff",text:e("Content.e2DmgReductionBuff.text"),title:e("Content.e2DmgReductionBuff.title"),content:e("Content.e2DmgReductionBuff.content"),disabled:t<2}];return{content:()=>b,teammateContent:()=>[],defaults:()=>({ultBuffedState:!0,e2DmgReductionBuff:!0,skillExtraHits:3,skillTriggerStacks:10,talentSpdBuffStacks:u}),teammateDefaults:()=>({}),precomputeEffects:(p,C)=>{const G=C.characterConditionals;p[n.BE]+=t>=4?.4:0,p[n.ATK_P]+=G.ultBuffedState?r:0,p[n.SPD_P]+=G.talentSpdBuffStacks*c;const g=h;let T=0;T+=G.skillExtraHits>=1?S:0,T+=G.ultBuffedState&&G.skillExtraHits>=2?S*.5:0,T+=G.ultBuffedState&&G.skillExtraHits>=3?S*.5:0;const D=T/(T+g);return p.BASIC_SCALING+=R,p.SKILL_SCALING+=g,p.SKILL_SCALING+=T,p.ULT_SCALING+=m,ot(p,Ot,G.skillTriggerStacks*.025*D),p.DMG_RED_MULTI*=t>=2&&G.e2DmgReductionBuff?1-.2:1,p.BASIC_TOUGHNESS_DMG+=30,p.SKILL_TOUGHNESS_DMG+=60,p.ULT_TOUGHNESS_DMG+=90,p},precomputeMutualEffects:(p,C)=>{},finalizeCalculations:p=>Ht(p),gpuFinalizeCalculations:()=>Xt()}},bu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Tingyun"),{basic:i,skill:l,ult:s,talent:o}=it.ULT_BASIC_3_SKILL_TALENT_5,c=l(t,.25,.27),r=s(t,.5,.56),u=l(t,.5,.55),R=l(t,.4,.44)+(t>=4?.2:0),h=o(t,.6,.66)+(t>=4?.2:0),S=i(t,1,1.1),m=l(t,0,0),b=s(t,0,0),p=[{formItem:"switch",id:"benedictionBuff",name:"benedictionBuff",text:e("Content.benedictionBuff.text"),title:e("Content.benedictionBuff.title"),content:e("Content.benedictionBuff.content",{skillAtkBoostScaling:W.precisionRound(100*u),skillAtkBoostMax:W.precisionRound(100*c),skillLightningDmgBoostScaling:W.precisionRound(100*R)})},{formItem:"switch",id:"skillSpdBuff",name:"skillSpdBuff",text:e("Content.skillSpdBuff.text"),title:e("Content.skillSpdBuff.title"),content:e("Content.skillSpdBuff.content")},{formItem:"switch",id:"ultDmgBuff",name:"ultDmgBuff",text:e("Content.ultDmgBuff.text"),title:e("Content.ultDmgBuff.title"),content:e("Content.ultDmgBuff.content",{ultDmgBoost:W.precisionRound(100*r)})},{formItem:"switch",id:"ultSpdBuff",name:"ultSpdBuff",text:e("Content.ultSpdBuff.text"),title:e("Content.ultSpdBuff.title"),content:e("Content.ultSpdBuff.content"),disabled:t<1}],C=[J(p,"benedictionBuff"),{formItem:"slider",id:"teammateAtkBuffValue",name:"teammateAtkBuffValue",text:e("TeammateContent.teammateAtkBuffValue.text"),title:e("TeammateContent.teammateAtkBuffValue.title"),content:e("TeammateContent.teammateAtkBuffValue.content",{skillAtkBoostScaling:W.precisionRound(100*u),skillAtkBoostMax:W.precisionRound(100*c),skillLightningDmgBoostScaling:W.precisionRound(100*R)}),min:0,max:u,percent:!0},J(p,"ultDmgBuff"),J(p,"ultSpdBuff")];return{content:()=>p,teammateContent:()=>C,defaults:()=>({benedictionBuff:!1,skillSpdBuff:!1,ultSpdBuff:!1,ultDmgBuff:!1}),teammateDefaults:()=>({benedictionBuff:!0,ultSpdBuff:!1,ultDmgBuff:!0,teammateAtkBuffValue:u}),precomputeEffects:(G,g)=>{const T=g.characterConditionals;return G[n.SPD_P]+=T.skillSpdBuff?.2:0,G.BASIC_SCALING+=S,G.SKILL_SCALING+=m,G.ULT_SCALING+=b,ot(G,ue,.4),G.BASIC_TOUGHNESS_DMG+=30,G},precomputeMutualEffects:(G,g)=>{const T=g.characterConditionals;G[n.SPD_P]+=t>=1&&T.ultSpdBuff?.2:0,G.ELEMENTAL_DMG+=T.ultDmgBuff?r:0},precomputeTeammateEffects:(G,g)=>{const T=g.characterConditionals;G[n.ATK_P]+=T.benedictionBuff?T.teammateAtkBuffValue:0},finalizeCalculations:(G,g)=>{const T=g.characterConditionals;G.BASIC_DMG+=G.BASIC_SCALING*G[n.ATK]+(T.benedictionBuff?R+h:0)*G[n.ATK],G.SKILL_DMG+=G.SKILL_SCALING*G[n.ATK],G.ULT_DMG+=G.ULT_SCALING*G[n.ATK]},gpuFinalizeCalculations:G=>{const g=G.characterConditionals;return`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
if (${Re(g.benedictionBuff)}) {
  x.BASIC_DMG += (${R+h}) * x.ATK;
}

x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;
    `},dynamicConditionals:[{id:"TingyunAtkConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.ATK],ratioConversion:!0,condition:function(){return!0},effect:function(G,g,T){if(!g.characterConditionals.benedictionBuff)return;const I=T.conditionalState[this.id]||0,F=G[n.ATK]-G.RATIO_BASED_ATK_BUFF,E=c*F,P=c*I;T.conditionalState[this.id]=G[n.ATK];const N=E-(I?P:0);G.RATIO_BASED_ATK_BUFF+=N,Qt(G,g,T,n.ATK,N)},gpu:function(G,g){const T=G.characterConditionals;return Bt(this,`
if (${Ke(T.benedictionBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).TingyunAtkConditional;
let convertibleAtkValue: f32 = (*p_x).ATK - (*p_x).RATIO_BASED_ATK_BUFF;

var buffATK: f32 = ${c} * convertibleAtkValue;
var stateBuffATK: f32 = ${c} * stateValue;

(*p_state).TingyunAtkConditional = (*p_x).ATK;

let finalBuffAtk = buffATK - select(0, stateBuffATK, stateValue > 0);
(*p_x).RATIO_BASED_ATK_BUFF += finalBuffAtk;

buffNonRatioDynamicATK(finalBuffAtk, p_x, p_state);
    `)}}]}},hu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Welt"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=t>=6?3:2,r=i(t,1,1.1),u=l(t,.72,.792),R=s(t,1.5,1.62),h=o(t,.6,.66),S=[{formItem:"switch",id:"enemyDmgTakenDebuff",name:"enemyDmgTakenDebuff",text:e("Content.enemyDmgTakenDebuff.text"),title:e("Content.enemyDmgTakenDebuff.title"),content:e("Content.enemyDmgTakenDebuff.content")},{formItem:"switch",id:"enemySlowed",name:"enemySlowed",text:e("Content.enemySlowed.text"),title:e("Content.enemySlowed.title"),content:e("Content.enemySlowed.content",{talentScaling:W.precisionRound(100*h)})},{formItem:"slider",id:"skillExtraHits",name:"skillExtraHits",text:e("Content.skillExtraHits.text"),title:e("Content.skillExtraHits.title"),content:e("Content.skillExtraHits.content",{skillScaling:W.precisionRound(100*u)}),min:0,max:c},{formItem:"switch",id:"e1EnhancedState",name:"e1EnhancedState",text:e("Content.e1EnhancedState.text"),title:e("Content.e1EnhancedState.title"),content:e("Content.e1EnhancedState.content"),disabled:t<1}],m=[J(S,"enemyDmgTakenDebuff")];return{content:()=>S,teammateContent:()=>m,defaults:()=>({enemySlowed:!0,enemyDmgTakenDebuff:!0,skillExtraHits:c,e1EnhancedState:!0}),teammateDefaults:()=>({enemyDmgTakenDebuff:!0}),precomputeEffects:(b,p)=>{const C=p.characterConditionals;return b.ELEMENTAL_DMG+=b.ENEMY_WEAKNESS_BROKEN?.2:0,b.BASIC_SCALING+=r,b.SKILL_SCALING+=u,b.ULT_SCALING+=R,b.BASIC_SCALING+=C.enemySlowed?h:0,b.SKILL_SCALING+=C.enemySlowed?h:0,b.ULT_SCALING+=C.enemySlowed?h:0,b.BASIC_SCALING+=t>=1&&C.e1EnhancedState?.5*r:0,b.SKILL_SCALING+=t>=1&&C.e1EnhancedState?.8*u:0,b.SKILL_SCALING+=C.skillExtraHits*u,b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=30+30*C.skillExtraHits,b.ULT_TOUGHNESS_DMG+=60,b},precomputeMutualEffects:(b,p)=>{const C=p.characterConditionals;b.VULNERABILITY+=C.enemyDmgTakenDebuff?.12:0},finalizeCalculations:b=>Ht(b),gpuFinalizeCalculations:()=>Xt()}},pu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Xueyi"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=s(t,.6,.648),r=i(t,1,1.1),u=l(t,1.4,1.54),R=s(t,2.5,2.7),h=o(t,.9,.99),S={0:0,1:rt*(1*1/1),2:rt*(1*1/2+2*1/2),3:rt*(1*1/3+2*1/3+3*1/3)},m=[{id:"beToDmgBoost",name:"beToDmgBoost",formItem:"switch",text:e("Content.beToDmgBoost.text"),title:e("Content.beToDmgBoost.title"),content:e("Content.beToDmgBoost.content")},{id:"enemyToughness50",name:"enemyToughness50",formItem:"switch",text:e("Content.enemyToughness50.text"),title:e("Content.enemyToughness50.title"),content:e("Content.enemyToughness50.content")},{id:"toughnessReductionDmgBoost",name:"toughnessReductionDmgBoost",formItem:"slider",text:e("Content.toughnessReductionDmgBoost.text"),title:e("Content.toughnessReductionDmgBoost.title"),content:e("Content.toughnessReductionDmgBoost.content",{ultBoostMax:W.precisionRound(100*c)}),min:0,max:c,percent:!0},{id:"fuaHits",name:"fuaHits",formItem:"slider",text:e("Content.fuaHits.text"),title:e("Content.fuaHits.title"),content:e("Content.fuaHits.content",{fuaScaling:W.precisionRound(100*h)}),min:0,max:3},{id:"e4BeBuff",name:"e4BeBuff",formItem:"switch",text:e("Content.e4BeBuff.text"),title:e("Content.e4BeBuff.title"),content:e("Content.e4BeBuff.content"),disabled:t<4}];return{content:()=>m,teammateContent:()=>[],defaults:()=>({beToDmgBoost:!0,enemyToughness50:!0,toughnessReductionDmgBoost:c,fuaHits:3,e4BeBuff:!0}),teammateDefaults:()=>({}),precomputeEffects:(b,p)=>{const C=p.characterConditionals;return b[n.BE]+=t>=4&&C.e4BeBuff?.4:0,b.BASIC_SCALING+=r,b.SKILL_SCALING+=u,b.ULT_SCALING+=R,b.FUA_SCALING+=h*C.fuaHits,ot(b,Mt,C.toughnessReductionDmgBoost),ot(b,Mt,.1,C.enemyToughness50),ot(b,Vt,.4,t>=1),b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=60,b.ULT_TOUGHNESS_DMG+=120,b.FUA_TOUGHNESS_DMG+=15*C.fuaHits,b},precomputeMutualEffects:(b,p)=>{},finalizeCalculations:(b,p)=>{Le(b,p,S[p.characterConditionals.fuaHits])},gpuFinalizeCalculations:b=>ye(S[b.characterConditionals.fuaHits]),dynamicConditionals:[Dd]}},Ru=t=>{const e=V.getFixedT(null,"conditionals","Characters.Yanqing"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=s(t,.5,.54),r=s(t,.3,.33),u=s(t,.2,.21),R=i(t,1,1.1),h=l(t,2.2,2.42),S=s(t,3.5,3.78),m=o(t,.5,.55),b=rt*(1*1/1),p=[{formItem:"switch",id:"ultBuffActive",name:"ultBuffActive",text:e("Content.ultBuffActive.text"),title:e("Content.ultBuffActive.title"),content:e("Content.ultBuffActive.content",{ultCdBuffValue:W.precisionRound(100*c)})},{formItem:"switch",id:"soulsteelBuffActive",name:"soulsteelBuffActive",text:e("Content.soulsteelBuffActive.text"),title:e("Content.soulsteelBuffActive.title"),content:e("Content.soulsteelBuffActive.content",{talentCdBuffValue:W.precisionRound(100*r),talentCrBuffValue:W.precisionRound(100*u),ultCdBuffValue:W.precisionRound(100*c)})},{formItem:"switch",id:"critSpdBuff",name:"critSpdBuff",text:e("Content.critSpdBuff.text"),title:e("Content.critSpdBuff.title"),content:e("Content.critSpdBuff.content")},{formItem:"switch",id:"e1TargetFrozen",name:"e1TargetFrozen",text:e("Content.e1TargetFrozen.text"),title:e("Content.e1TargetFrozen.title"),content:e("Content.e1TargetFrozen.content"),disabled:t<1},{formItem:"switch",id:"e4CurrentHp80",name:"e4CurrentHp80",text:e("Content.e4CurrentHp80.text"),title:e("Content.e4CurrentHp80.title"),content:e("Content.e4CurrentHp80.content"),disabled:t<4}];return{content:()=>p,teammateContent:()=>[],defaults:()=>({ultBuffActive:!0,soulsteelBuffActive:!0,critSpdBuff:!0,e1TargetFrozen:!0,e4CurrentHp80:!0}),teammateDefaults:()=>({}),precomputeEffects:(C,G)=>{const g=G.characterConditionals;return C[n.CR]+=g.ultBuffActive?.6:0,C[n.CD]+=g.ultBuffActive&&g.soulsteelBuffActive?c:0,C[n.CR]+=g.soulsteelBuffActive?u:0,C[n.CD]+=g.soulsteelBuffActive?r:0,C[n.RES]+=g.soulsteelBuffActive?.2:0,C[n.SPD_P]+=g.critSpdBuff?.1:0,C[n.ERR]+=t>=2&&g.soulsteelBuffActive?.1:0,C.BASIC_SCALING+=R,C.SKILL_SCALING+=h,C.ULT_SCALING+=S,C.FUA_SCALING+=m,C.BASIC_SCALING+=G.enemyElementalWeak?.3:0,C.SKILL_SCALING+=G.enemyElementalWeak?.3:0,C.ULT_SCALING+=G.enemyElementalWeak?.3:0,C.FUA_SCALING+=G.enemyElementalWeak?.3:0,C.BASIC_SCALING+=t>=1&&g.e1TargetFrozen?.6:0,C.SKILL_SCALING+=t>=1&&g.e1TargetFrozen?.6:0,C.ULT_SCALING+=t>=1&&g.e1TargetFrozen?.6:0,C.FUA_SCALING+=t>=1&&g.e1TargetFrozen?.6:0,C.ICE_RES_PEN+=t>=4&&g.e4CurrentHp80?.12:0,C.BASIC_TOUGHNESS_DMG+=30,C.SKILL_TOUGHNESS_DMG+=60,C.ULT_TOUGHNESS_DMG+=90,C.FUA_TOUGHNESS_DMG+=30,C},precomputeMutualEffects:(C,G)=>{},finalizeCalculations:(C,G)=>{Le(C,G,b)},gpuFinalizeCalculations:C=>ye(b)}},Su=t=>{const e=V.getFixedT(null,"conditionals","Characters.Yukong"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=l(t,.8,.88),r=l(t,.65,.702),u=l(t,.28,.294),R=o(t,.8,.88),h=i(t,1,1.1),S=l(t,0,0),m=s(t,3.8,4.104),b=[{formItem:"switch",id:"teamImaginaryDmgBoost",name:"teamImaginaryDmgBoost",text:e("Content.teamImaginaryDmgBoost.text"),title:e("Content.teamImaginaryDmgBoost.title"),content:e("Content.teamImaginaryDmgBoost.content")},{formItem:"switch",id:"roaringBowstringsActive",name:"roaringBowstringsActive",text:e("Content.roaringBowstringsActive.text"),title:e("Content.roaringBowstringsActive.title"),content:e("Content.roaringBowstringsActive.content",{skillAtkBuffValue:W.precisionRound(100*c)})},{formItem:"switch",id:"ultBuff",name:"ultBuff",text:e("Content.ultBuff.text"),title:e("Content.ultBuff.title"),content:e("Content.ultBuff.content",{ultCrBuffValue:W.precisionRound(100*u),ultCdBuffValue:W.precisionRound(100*r),ultScaling:W.precisionRound(100*m)})},{formItem:"switch",id:"initialSpeedBuff",name:"initialSpeedBuff",text:e("Content.initialSpeedBuff.text"),title:e("Content.initialSpeedBuff.title"),content:e("Content.initialSpeedBuff.content"),disabled:t<1}],p=[J(b,"teamImaginaryDmgBoost"),J(b,"roaringBowstringsActive"),J(b,"ultBuff"),J(b,"initialSpeedBuff")];return{content:()=>b,teammateContent:()=>p,defaults:()=>({teamImaginaryDmgBoost:!0,roaringBowstringsActive:!0,ultBuff:!0,initialSpeedBuff:!0}),teammateDefaults:()=>({teamImaginaryDmgBoost:!0,roaringBowstringsActive:!0,ultBuff:!0,initialSpeedBuff:!0}),precomputeEffects:(C,G)=>{const g=G.characterConditionals;return C.BASIC_SCALING+=h,C.BASIC_SCALING+=R,C.SKILL_SCALING+=S,C.ULT_SCALING+=m,C.ELEMENTAL_DMG+=t>=4&&g.roaringBowstringsActive?.3:0,C.BASIC_TOUGHNESS_DMG+=30,C.ULT_TOUGHNESS_DMG+=90,C},precomputeMutualEffects:(C,G)=>{const g=G.characterConditionals;C[n.ATK_P]+=g.roaringBowstringsActive?c:0,C[n.CR]+=g.ultBuff&&g.roaringBowstringsActive?u:0,C[n.CD]+=g.ultBuff&&g.roaringBowstringsActive?r:0,C[n.SPD_P]+=t>=1&&g.initialSpeedBuff?.1:0,C[n.Imaginary_DMG]+=g.teamImaginaryDmgBoost?.12:0},finalizeCalculations:C=>Ht(C),gpuFinalizeCalculations:()=>Xt()}},fu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Acheron"),{basic:i,skill:l,ult:s,talent:o}=it.ULT_BASIC_3_SKILL_TALENT_5,c=i(t,1,1.1),r=l(t,1.6,1.76),u=s(t,.24,.2592),R=s(t,.15,.162),h=s(t,1.2,1.296),S=.25,m=o(t,.2,.22),b=9,p=t>=2?1:2,C={0:0,1:t>=2?.6:.15,2:.6},G=[{formItem:"slider",id:"crimsonKnotStacks",name:"crimsonKnotStacks",text:e("Content.crimsonKnotStacks.text"),title:e("Content.crimsonKnotStacks.title"),content:e("Content.crimsonKnotStacks.content",{RainbladeScaling:W.precisionRound(100*u),CrimsonKnotScaling:W.precisionRound(100*R)}),min:0,max:b},{formItem:"slider",id:"nihilityTeammates",name:"nihilityTeammates",text:e("Content.nihilityTeammates.text"),title:e("Content.nihilityTeammates.title"),content:e("Content.nihilityTeammates.content"),min:0,max:p},{formItem:"slider",id:"thunderCoreStacks",name:"thunderCoreStacks",text:e("Content.thunderCoreStacks.text"),title:e("Content.thunderCoreStacks.title"),content:e("Content.thunderCoreStacks.content"),min:0,max:3},{formItem:"slider",id:"stygianResurgeHitsOnTarget",name:"stygianResurgeHitsOnTarget",text:e("Content.stygianResurgeHitsOnTarget.text"),title:e("Content.stygianResurgeHitsOnTarget.title"),content:e("Content.stygianResurgeHitsOnTarget.content"),min:0,max:6},{formItem:"switch",id:"e1EnemyDebuffed",name:"e1EnemyDebuffed",text:e("Content.e1EnemyDebuffed.text"),title:e("Content.e1EnemyDebuffed.title"),content:e("Content.e1EnemyDebuffed.content"),disabled:t<1},{formItem:"switch",id:"e4UltVulnerability",name:"e4UltVulnerability",text:e("Content.e4UltVulnerability.text"),title:e("Content.e4UltVulnerability.title"),content:e("Content.e4UltVulnerability.content"),disabled:t<4},{formItem:"switch",id:"e6UltBuffs",name:"e6UltBuffs",text:e("Content.e6UltBuffs.text"),title:e("Content.e6UltBuffs.title"),content:e("Content.e6UltBuffs.content"),disabled:t<6}],g=[J(G,"e4UltVulnerability")];return{content:()=>G,teammateContent:()=>g,defaults:()=>({crimsonKnotStacks:b,nihilityTeammates:p,e1EnemyDebuffed:!0,thunderCoreStacks:3,stygianResurgeHitsOnTarget:6,e4UltVulnerability:!0,e6UltBuffs:!0}),teammateDefaults:()=>({e4UltVulnerability:!0}),initializeConfigurations:(T,D)=>{const I=D.characterConditionals;t>=6&&I.e6UltBuffs&&(T.BASIC_DMG_TYPE=Mt|ue,T.SKILL_DMG_TYPE=Mt|Ot)},precomputeEffects:(T,D)=>{const I=D.characterConditionals;T[n.CR]+=t>=1&&I.e1EnemyDebuffed?.18:0,T.ELEMENTAL_DMG+=I.thunderCoreStacks*.3,Pa(T,Mt,m),Pa(T,Mt,.2,t>=6&&I.e6UltBuffs);const F=C[I.nihilityTeammates];return T.BASIC_ORIGINAL_DMG_BOOST+=F,T.SKILL_ORIGINAL_DMG_BOOST+=F,T.ULT_ORIGINAL_DMG_BOOST+=F,T.BASIC_SCALING=c,T.SKILL_SCALING=r,T.ULT_SCALING+=3*u,T.ULT_SCALING+=3*R,T.ULT_SCALING+=R*I.crimsonKnotStacks,T.ULT_SCALING+=h,T.ULT_SCALING+=I.stygianResurgeHitsOnTarget*S,T.BASIC_TOUGHNESS_DMG+=30,T.SKILL_TOUGHNESS_DMG+=60,T.ULT_TOUGHNESS_DMG+=105,T},precomputeMutualEffects:(T,D)=>{const I=D.characterConditionals;an(T,Mt,.08,t>=4&&I.e4UltVulnerability)},finalizeCalculations:T=>Ht(T),gpuFinalizeCalculations:()=>Xt()}},Gu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Aventurine"),{basic:i,ult:l,talent:s}=it.ULT_BASIC_3_SKILL_TALENT_5,o=i(t,1,1.1),c=l(t,2.7,2.916),r=l(t,.15,.162),u=s(t,.25,.275),R=s(t,.5,.55),h=t>=4?10:7,S=[{formItem:"switch",id:"defToCrBoost",name:"defToCrBoost",text:e("Content.defToCrBoost.text"),title:e("Content.defToCrBoost.title"),content:e("Content.defToCrBoost.content")},{formItem:"switch",id:"fortifiedWagerBuff",name:"fortifiedWagerBuff",text:e("Content.fortifiedWagerBuff.text"),title:e("Content.fortifiedWagerBuff.title"),content:e("Content.fortifiedWagerBuff.content",{talentResScaling:W.precisionRound(100*R)})},{formItem:"switch",id:"enemyUnnervedDebuff",name:"enemyUnnervedDebuff",text:e("Content.enemyUnnervedDebuff.text"),title:e("Content.enemyUnnervedDebuff.title"),content:e("Content.enemyUnnervedDebuff.content",{ultCdBoost:W.precisionRound(100*r)})},{formItem:"slider",id:"fuaHitsOnTarget",name:"fuaHitsOnTarget",text:e("Content.fuaHitsOnTarget.text"),title:e("Content.fuaHitsOnTarget.title"),content:e("Content.fuaHitsOnTarget.content",{talentDmgScaling:W.precisionRound(100*u)}),min:0,max:h},{formItem:"switch",id:"e2ResShred",name:"e2ResShred",text:e("Content.e2ResShred.text"),title:e("Content.e2ResShred.title"),content:e("Content.e2ResShred.content"),disabled:t<2},{formItem:"switch",id:"e4DefBuff",name:"e4DefBuff",text:e("Content.e4DefBuff.text"),title:e("Content.e4DefBuff.title"),content:e("Content.e4DefBuff.content"),disabled:t<4},{formItem:"slider",id:"e6ShieldStacks",name:"e6ShieldStacks",text:e("Content.e6ShieldStacks.text"),title:e("Content.e6ShieldStacks.title"),content:e("Content.e6ShieldStacks.content"),min:0,max:3,disabled:t<6}],m=[J(S,"fortifiedWagerBuff"),J(S,"enemyUnnervedDebuff"),J(S,"e2ResShred")];return{content:()=>S,teammateContent:()=>m,defaults:()=>({defToCrBoost:!0,fuaHitsOnTarget:h,fortifiedWagerBuff:!0,enemyUnnervedDebuff:!0,e2ResShred:!0,e4DefBuff:!0,e6ShieldStacks:3}),teammateDefaults:()=>({fortifiedWagerBuff:!0,enemyUnnervedDebuff:!0,e2ResShred:!0}),precomputeEffects:(b,p)=>{const C=p.characterConditionals;return b[n.DEF_P]+=t>=4&&C.e4DefBuff?.4:0,b.ELEMENTAL_DMG+=t>=6?Math.min(1.5,.5*C.e6ShieldStacks):0,b.BASIC_SCALING+=o,b.ULT_SCALING+=c,b.FUA_SCALING+=u*C.fuaHitsOnTarget,b.BASIC_TOUGHNESS_DMG+=30,b.ULT_TOUGHNESS_DMG+=90,b.FUA_TOUGHNESS_DMG+=10*C.fuaHitsOnTarget,b},precomputeMutualEffects:(b,p)=>{const C=p.characterConditionals;b[n.RES]+=C.fortifiedWagerBuff?R:0,b[n.CD]+=C.enemyUnnervedDebuff?r:0,b[n.CD]+=t>=1&&C.fortifiedWagerBuff?.2:0,b.RES_PEN+=t>=2&&C.e2ResShred?.12:0},finalizeCalculations:(b,p)=>{b.BASIC_DMG+=b.BASIC_SCALING*b[n.DEF],b.ULT_DMG+=b.ULT_SCALING*b[n.DEF],b.FUA_DMG+=b.FUA_SCALING*b[n.DEF]},gpuFinalizeCalculations:()=>`
x.BASIC_DMG += x.BASIC_SCALING * x.DEF;
x.ULT_DMG += x.ULT_SCALING * x.DEF;
x.FUA_DMG += x.FUA_SCALING * x.DEF;
      `,dynamicConditionals:[Td]}},Cu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Gallagher"),{basic:i,talent:l}=it.SKILL_BASIC_3_ULT_TALENT_5,s=i(t,1,1.1),o=i(t,2.5,2.75),c=i(t,1.5,1.65),r=l(t,.12,.132),u=[{formItem:"switch",id:"basicEnhanced",name:"basicEnhanced",text:e("Content.basicEnhanced.text"),title:e("Content.basicEnhanced.title"),content:e("Content.basicEnhanced.content")},{formItem:"switch",id:"breakEffectToOhbBoost",name:"breakEffectToOhbBoost",text:e("Content.breakEffectToOhbBoost.text"),title:e("Content.breakEffectToOhbBoost.title"),content:e("Content.breakEffectToOhbBoost.content")},{formItem:"switch",id:"targetBesotted",name:"targetBesotted",text:e("Content.targetBesotted.text"),title:e("Content.targetBesotted.title"),content:e("Content.targetBesotted.content",{talentBesottedScaling:W.precisionRound(100*r)})},{formItem:"switch",id:"e1ResBuff",name:"e1ResBuff",text:e("Content.e1ResBuff.text"),title:e("Content.e1ResBuff.title"),content:e("Content.e1ResBuff.content"),disabled:t<1},{formItem:"switch",id:"e2ResBuff",name:"e2ResBuff",text:e("Content.e2ResBuff.text"),title:e("Content.e2ResBuff.title"),content:e("Content.e2ResBuff.content"),disabled:t<2},{formItem:"switch",id:"e6BeBuff",name:"e6BeBuff",text:e("Content.e6BeBuff.text"),title:e("Content.e6BeBuff.title"),content:e("Content.e6BeBuff.content"),disabled:t<6}],R=[J(u,"targetBesotted")];return{content:()=>u,teammateContent:()=>R,defaults:()=>({basicEnhanced:!0,breakEffectToOhbBoost:!0,e1ResBuff:!0,e2ResBuff:!0,e6BeBuff:!0,targetBesotted:!0}),teammateDefaults:()=>({targetBesotted:!0}),precomputeEffects:(h,S)=>{const m=S.characterConditionals;return h[n.RES]+=t>=1&&m.e1ResBuff?.5:0,h[n.RES]+=t>=2&&m.e2ResBuff?.3:0,h[n.BE]+=t>=6?.2:0,h.BREAK_EFFICIENCY_BOOST+=t>=6?.2:0,h.BASIC_SCALING+=m.basicEnhanced?o:s,h.ULT_SCALING+=c,h.BASIC_TOUGHNESS_DMG+=m.basicEnhanced?90:30,h.ULT_TOUGHNESS_DMG+=60,h},precomputeMutualEffects:(h,S)=>{const m=S.characterConditionals;an(h,wa,r,m.targetBesotted)},finalizeCalculations:h=>Ht(h),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[Ld]}},Zu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Robin"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_ULT_3_BASIC_TALENT_5,c=l(t,.5,.55),r=o(t,.2,.23),u=s(t,.228,.2432),R=s(t,200,230),h=i(t,1,1.1),S=s(t,1.2,1.296),m=[{formItem:"switch",id:"concertoActive",name:"concertoActive",text:e("Content.concertoActive.text"),title:e("Content.concertoActive.title"),content:e("Content.concertoActive.content",{ultAtkBuffScalingValue:W.precisionRound(100*u),ultAtkBuffFlatValue:R,ultScaling:W.precisionRound(100*S)})},{formItem:"switch",id:"skillDmgBuff",name:"skillDmgBuff",text:e("Content.skillDmgBuff.text"),title:e("Content.skillDmgBuff.title"),content:e("Content.skillDmgBuff.content",{skillDmgBuffValue:W.precisionRound(100*c)})},{formItem:"switch",id:"talentCdBuff",name:"talentCdBuff",text:e("Content.talentCdBuff.text"),title:e("Content.talentCdBuff.title"),content:e("Content.talentCdBuff.content",{talentCdBuffValue:W.precisionRound(100*r)})},{formItem:"switch",id:"e1UltResPen",name:"e1UltResPen",text:e("Content.e1UltResPen.text"),title:e("Content.e1UltResPen.title"),content:e("Content.e1UltResPen.content"),disabled:t<1},{formItem:"switch",id:"e4TeamResBuff",name:"e4TeamResBuff",text:e("Content.e4TeamResBuff.text"),title:e("Content.e4TeamResBuff.title"),content:e("Content.e4TeamResBuff.content"),disabled:t<4},{formItem:"switch",id:"e6UltCDBoost",name:"e6UltCDBoost",text:e("Content.e6UltCDBoost.text"),title:e("Content.e6UltCDBoost.title"),content:e("Content.e6UltCDBoost.content"),disabled:t<6}],b=[J(m,"concertoActive"),J(m,"skillDmgBuff"),{formItem:"slider",id:"teammateATKValue",name:"teammateATKValue",text:e("TeammateContent.teammateATKValue.text"),title:e("TeammateContent.teammateATKValue.title"),content:e("TeammateContent.teammateATKValue.content",{ultAtkBuffFlatValue:W.precisionRound(100*R),ultAtkBuffScalingValue:u}),min:0,max:7e3},J(m,"talentCdBuff"),{formItem:"switch",id:"traceFuaCdBoost",name:"traceFuaCdBoost",text:e("TeammateContent.traceFuaCdBoost.text"),title:e("TeammateContent.traceFuaCdBoost.title"),content:e("TeammateContent.traceFuaCdBoost.content")},J(m,"e1UltResPen"),{formItem:"switch",id:"e2UltSpdBuff",name:"e2UltSpdBuff",text:e("TeammateContent.e2UltSpdBuff.text"),title:e("TeammateContent.e2UltSpdBuff.title"),content:e("TeammateContent.e2UltSpdBuff.content"),disabled:t<2}],p={concertoActive:!0,skillDmgBuff:!0,talentCdBuff:!0,e1UltResPen:!0,e4TeamResBuff:!1,e6UltCDBoost:!0};return{content:()=>m,teammateContent:()=>b,defaults:()=>p,teammateDefaults:()=>({concertoActive:!0,skillDmgBuff:!0,talentCdBuff:!0,teammateATKValue:5e3,traceFuaCdBoost:!0,e1UltResPen:!0,e2UltSpdBuff:!1,e4TeamResBuff:!0}),precomputeEffects:(C,G)=>{const g=G.characterConditionals;return C.BASIC_SCALING+=h,C.ULT_SCALING+=g.concertoActive?S:0,C.ULT_BOOSTS_MULTI=0,C.BASIC_TOUGHNESS_DMG+=30,C},precomputeMutualEffects:(C,G)=>{const g=G.characterConditionals;C[n.CD]+=g.talentCdBuff?r:0,C[n.RES]+=t>=4&&g.concertoActive&&g.e4TeamResBuff?.5:0,C.ELEMENTAL_DMG+=g.skillDmgBuff?c:0,C.RES_PEN+=t>=1&&g.concertoActive&&g.e1UltResPen?.24:0},precomputeTeammateEffects:(C,G)=>{const g=G.characterConditionals;C[n.ATK]+=g.concertoActive?g.teammateATKValue*u+R:0,C.RATIO_BASED_ATK_BUFF+=g.concertoActive?g.teammateATKValue*u:0,C[n.SPD_P]+=t>=2&&g.concertoActive&&g.e2UltSpdBuff?.16:0,Vn(C,Vt,.25,g.traceFuaCdBoost&&g.concertoActive)},finalizeCalculations:(C,G)=>{const g=G.characterConditionals;C[n.ATK]+=g.concertoActive?C[n.ATK]*u+R:0,hl(C,Mt,1),C.ULT_CD_OVERRIDE=t>=6&&g.concertoActive&&g.e6UltCDBoost?6:1.5,C.BASIC_DMG+=C.BASIC_SCALING*C[n.ATK],C.ULT_DMG+=C.ULT_SCALING*C[n.ATK]},gpuFinalizeCalculations:(C,G)=>{const g=C.characterConditionals;return`
if (${Re(g.concertoActive)}) {
  buffDynamicATK(x.ATK * ${u} + ${R}, p_x, p_state);
}

buffAbilityCr(p_x, ULT_TYPE, 1.00, 1);

if (${Re(t>=6&&g.concertoActive&&g.e6UltCDBoost)}) {
  x.ULT_CD_OVERRIDE = 6.00;
} else {
  x.ULT_CD_OVERRIDE = 1.50;
}

x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;
      `}}},gu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Boothill"),{basic:i,skill:l,ult:s,talent:o}=it.ULT_BASIC_3_SKILL_TALENT_5,c=l(t,.3,.33),r=i(t,1,1.1),u=i(t,2.2,2.42),R=s(t,4,4.32),h={0:0,1:o(t,.7,.77),2:o(t,1.2,1.32),3:o(t,1.7,1.87)},S=[{formItem:"switch",id:"standoffActive",name:"standoffActive",text:e("Content.standoffActive.text"),title:e("Content.standoffActive.title"),content:e("Content.standoffActive.content",{standoffVulnerabilityBoost:W.precisionRound(100*c)})},{formItem:"slider",id:"pocketTrickshotStacks",name:"pocketTrickshotStacks",text:e("Content.pocketTrickshotStacks.text"),title:e("Content.pocketTrickshotStacks.title"),content:e("Content.pocketTrickshotStacks.content"),min:0,max:3},{formItem:"switch",id:"beToCritBoost",name:"beToCritBoost",text:e("Content.beToCritBoost.text"),title:e("Content.beToCritBoost.title"),content:e("Content.beToCritBoost.content")},{formItem:"switch",id:"talentBreakDmgScaling",name:"talentBreakDmgScaling",text:e("Content.talentBreakDmgScaling.text"),title:e("Content.talentBreakDmgScaling.title"),content:e("Content.talentBreakDmgScaling.content")},{formItem:"switch",id:"e1DefShred",name:"e1DefShred",text:e("Content.e1DefShred.text"),title:e("Content.e1DefShred.title"),content:e("Content.e1DefShred.content"),disabled:t<1},{formItem:"switch",id:"e2BeBuff",name:"e2BeBuff",text:e("Content.e2BeBuff.text"),title:e("Content.e2BeBuff.title"),content:e("Content.e2BeBuff.content"),disabled:t<2},{formItem:"switch",id:"e4TargetStandoffVulnerability",name:"e4TargetStandoffVulnerability",text:e("Content.e4TargetStandoffVulnerability.text"),title:e("Content.e4TargetStandoffVulnerability.title"),content:e("Content.e4TargetStandoffVulnerability.content"),disabled:t<4},{formItem:"switch",id:"e6AdditionalBreakDmg",name:"e6AdditionalBreakDmg",text:e("Content.e6AdditionalBreakDmg.text"),title:e("Content.e6AdditionalBreakDmg.title"),content:e("Content.e6AdditionalBreakDmg.content"),disabled:t<6}],m=[],b={standoffActive:!0,pocketTrickshotStacks:3,beToCritBoost:!0,talentBreakDmgScaling:!0,e1DefShred:!0,e2BeBuff:!0,e4TargetStandoffVulnerability:!0,e6AdditionalBreakDmg:!0};return{content:()=>S,teammateContent:()=>m,defaults:()=>b,teammateDefaults:()=>({}),initializeConfigurations:(p,C)=>{C.characterConditionals.talentBreakDmgScaling&&(p.ENEMY_WEAKNESS_BROKEN=1)},precomputeEffects:(p,C)=>{const G=C.characterConditionals;p[n.BE]+=t>=2&&G.e2BeBuff?.3:0,p.VULNERABILITY+=G.standoffActive?c:0,p.DEF_PEN+=t>=1&&G.e1DefShred?.16:0,p.VULNERABILITY+=t>=4&&G.standoffActive&&G.e4TargetStandoffVulnerability?.12:0,p.BASIC_SCALING+=G.standoffActive?u:r,p.BASIC_BREAK_EFFICIENCY_BOOST+=G.standoffActive?G.pocketTrickshotStacks*.5:0,p.ULT_SCALING+=R,p.BASIC_TOUGHNESS_DMG+=G.standoffActive?60:30,p.ULT_TOUGHNESS_DMG+=90;const g=Math.min(16*30,C.enemyMaxToughness),T=1/(.5+C.enemyMaxToughness/120),D=.5+g/120;let I=h[G.pocketTrickshotStacks];return I+=t>=6&&G.e6AdditionalBreakDmg?.4:0,p.BASIC_BREAK_DMG_MODIFIER+=G.talentBreakDmgScaling&&G.standoffActive?T*D*I:0,p},precomputeMutualEffects:(p,C)=>{},precomputeTeammateEffects:(p,C)=>{},finalizeCalculations:p=>Ht(p),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[Wd]}},Tu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Topaz"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=l(t,.5,.55),r=s(t,1.5,1.65),u=s(t,.25,.275),R=i(t,1,1.1),h=l(t,1.5,1.65),S=o(t,1.5,1.65),m=rt*(1*1/1),b=rt*(1*1/7+2*1/7+3*1/7+4*1/7+5*1/7+6*1/7+7*1/7),p=rt*(1*1/10+2*1/10+3*1/10+4*1/10+5*1/10+6*1/10+7*1/10+8*3/10),C=[{formItem:"switch",id:"enemyProofOfDebtDebuff",name:"enemyProofOfDebtDebuff",text:e("Content.enemyProofOfDebtDebuff.text"),title:e("Content.enemyProofOfDebtDebuff.title"),content:e("Content.enemyProofOfDebtDebuff.content",{proofOfDebtFuaVulnerability:W.precisionRound(100*c)})},{formItem:"switch",id:"numbyEnhancedState",name:"numbyEnhancedState",text:e("Content.numbyEnhancedState.text"),title:e("Content.numbyEnhancedState.title"),content:e("Content.numbyEnhancedState.content",{enhancedStateFuaCdBoost:W.precisionRound(100*u),enhancedStateFuaScalingBoost:W.precisionRound(100*r)})},{formItem:"slider",id:"e1DebtorStacks",name:"e1DebtorStacks",text:e("Content.e1DebtorStacks.text"),title:e("Content.e1DebtorStacks.title"),content:e("Content.e1DebtorStacks.content"),min:0,max:2,disabled:t<1}],G=[J(C,"enemyProofOfDebtDebuff"),J(C,"e1DebtorStacks")];return{content:()=>C,teammateContent:()=>G,defaults:()=>({enemyProofOfDebtDebuff:!0,numbyEnhancedState:!0,e1DebtorStacks:2}),teammateDefaults:()=>({enemyProofOfDebtDebuff:!0,e1DebtorStacks:2}),initializeConfigurations:(g,T)=>{g.BASIC_DMG_TYPE=ue|Vt,g.SKILL_DMG_TYPE=Ot|Vt},precomputeEffects:(g,T)=>{const D=T.characterConditionals;return Vn(g,Ot|Vt,u,D.numbyEnhancedState),Pa(g,Ot|Vt,.1,t>=6),Vn(g,ue,-u,D.numbyEnhancedState),Pa(g,ue,-.1,t>=6),g.BASIC_SCALING+=R,g.SKILL_SCALING+=h,g.SKILL_SCALING+=D.numbyEnhancedState?r:0,g.FUA_SCALING+=S,g.FUA_SCALING+=D.numbyEnhancedState?r:0,g.ELEMENTAL_DMG+=T.enemyElementalWeak?.15:0,g.BASIC_TOUGHNESS_DMG+=30,g.SKILL_TOUGHNESS_DMG+=60,g.FUA_TOUGHNESS_DMG+=60,g},precomputeMutualEffects:(g,T)=>{const D=T.characterConditionals;an(g,Vt,c,D.enemyProofOfDebtDebuff),Vn(g,Vt,.25*D.e1DebtorStacks,t>=1&&D.enemyProofOfDebtDebuff)},finalizeCalculations:(g,T)=>{const I=T.characterConditionals.numbyEnhancedState?p:b,F=ha(g,T,m),E=ha(g,T,I);g.BASIC_DMG+=g.BASIC_SCALING*(g[n.ATK]+F),g.FUA_DMG+=g.FUA_SCALING*(g[n.ATK]+E),g.SKILL_DMG=g.FUA_DMG},gpuFinalizeCalculations:g=>{const D=g.characterConditionals.numbyEnhancedState?p:b;return`
x.BASIC_DMG += x.BASIC_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${m}));
x.FUA_DMG += x.FUA_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${D}));
x.SKILL_DMG = x.FUA_DMG;
    `}}},Du=t=>{const e=V.getFixedT(null,"conditionals","Characters.Firefly"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=i(t,1,1.1),r=i(t,2,2.2),u=l(t,2,2.2),R=l(t,2,2.2),h=s(t,60,66),S=s(t,.2,.22),m=o(t,.3,.34),b=o(t,.4,.44),p=[{formItem:"switch",id:"enhancedStateActive",name:"enhancedStateActive",text:e("Content.enhancedStateActive.text"),title:e("Content.enhancedStateActive.title"),content:e("Content.enhancedStateActive.content")},{formItem:"switch",id:"enhancedStateSpdBuff",name:"enhancedStateSpdBuff",text:e("Content.enhancedStateSpdBuff.text"),title:e("Content.enhancedStateSpdBuff.title"),content:e("Content.enhancedStateSpdBuff.content",{ultSpdBuff:h})},{formItem:"switch",id:"superBreakDmg",name:"superBreakDmg",text:e("Content.superBreakDmg.text"),title:e("Content.superBreakDmg.title"),content:e("Content.superBreakDmg.content")},{formItem:"switch",id:"atkToBeConversion",name:"atkToBeConversion",text:e("Content.atkToBeConversion.text"),title:e("Content.atkToBeConversion.title"),content:e("Content.atkToBeConversion.content")},{formItem:"switch",id:"talentDmgReductionBuff",name:"talentDmgReductionBuff",text:e("Content.talentDmgReductionBuff.text"),title:e("Content.talentDmgReductionBuff.title"),content:e("Content.talentDmgReductionBuff.content",{talentResBuff:W.precisionRound(100*m),talentDmgReductionBuff:W.precisionRound(100*b)})},{formItem:"switch",id:"e1DefShred",name:"e1DefShred",text:e("Content.e1DefShred.text"),title:e("Content.e1DefShred.title"),content:e("Content.e1DefShred.content"),disabled:t<1},{formItem:"switch",id:"e4ResBuff",name:"e4ResBuff",text:e("Content.e4ResBuff.text"),title:e("Content.e4ResBuff.title"),content:e("Content.e4ResBuff.content"),disabled:t<4},{formItem:"switch",id:"e6Buffs",name:"e6Buffs",text:e("Content.e6Buffs.text"),title:e("Content.e6Buffs.title"),content:e("Content.e6Buffs.content"),disabled:t<6}],C=[],G={enhancedStateActive:!0,enhancedStateSpdBuff:!0,superBreakDmg:!0,atkToBeConversion:!0,talentDmgReductionBuff:!0,e1DefShred:!0,e4ResBuff:!0,e6Buffs:!0};return{content:()=>p,teammateContent:()=>C,defaults:()=>G,teammateDefaults:()=>({}),initializeConfigurations:(g,T)=>{T.characterConditionals.superBreakDmg&&(g.ENEMY_WEAKNESS_BROKEN=1)},precomputeEffects:(g,T)=>{const D=T.characterConditionals;return g[n.RES]+=D.enhancedStateActive?m:0,g[n.SPD]+=D.enhancedStateActive&&D.enhancedStateSpdBuff?h:0,g.BREAK_EFFICIENCY_BOOST+=D.enhancedStateActive?.5:0,g.DMG_RED_MULTI*=D.enhancedStateActive&&D.talentDmgReductionBuff?1-b:1,g.DEF_PEN+=t>=1&&D.e1DefShred&&D.enhancedStateActive?.15:0,g[n.RES]+=t>=4&&D.e4ResBuff&&D.enhancedStateActive?.5:0,g.FIRE_RES_PEN+=t>=6&&D.e6Buffs&&D.enhancedStateActive?.2:0,g.BREAK_EFFICIENCY_BOOST+=t>=6&&D.e6Buffs&&D.enhancedStateActive?.5:0,g.BASIC_SCALING+=D.enhancedStateActive?r:c,g.BASIC_TOUGHNESS_DMG+=D.enhancedStateActive?45:30,g.SKILL_TOUGHNESS_DMG+=D.enhancedStateActive?90:60,g},precomputeMutualEffects:(g,T)=>{},precomputeTeammateEffects:(g,T)=>{},finalizeCalculations:(g,T)=>{const D=T.characterConditionals;an(g,wa,S,D.enhancedStateActive&&g.ENEMY_WEAKNESS_BROKEN),g.SUPER_BREAK_MODIFIER+=D.superBreakDmg&&D.enhancedStateActive&&g[n.BE]>=2?.35:0,g.SUPER_BREAK_MODIFIER+=D.superBreakDmg&&D.enhancedStateActive&&g[n.BE]>=3.6?.15:0,g.SKILL_SCALING+=D.enhancedStateActive?.2*Math.min(3.6,g[n.BE])+R:u,g.BASIC_DMG+=g.BASIC_SCALING*g[n.ATK],g.SKILL_DMG+=g.SKILL_SCALING*g[n.ATK]},gpuFinalizeCalculations:(g,T)=>{const D=g.characterConditionals;return`
buffAbilityVulnerability(p_x, BREAK_TYPE, ${S}, select(0, 1, ${Re(D.enhancedStateActive)} && x.ENEMY_WEAKNESS_BROKEN >= 1));

if (x.BE >= 2.00 && ${Re(D.superBreakDmg&&D.enhancedStateActive)}) {
  x.SUPER_BREAK_MODIFIER += 0.35;
}
if (x.BE >= 3.60 && ${Re(D.superBreakDmg&&D.enhancedStateActive)}) {
  x.SUPER_BREAK_MODIFIER += 0.15;
}

if (${Re(D.enhancedStateActive)}) {
  x.SKILL_SCALING += 0.2 * min(3.60, x.BE) + ${R};
} else {
  x.SKILL_SCALING += ${u};
}

x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
      `},dynamicConditionals:[Vd]}},Vu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Jade"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=i(t,.9,.99);l(t,.25,.27);const r=s(t,2.4,2.64),u=s(t,.8,.88),R=o(t,1.2,1.32),h=o(t,.024,.0264),S={1:rt*(1*.25+2*.25+3*.25+4*.25),3:rt*(2*.25+5*.25+8*.25+8*.25),5:rt*(3*.25+8*.25+8*.25+8*.25)},m={1:rt*(1*.1+2*.1+3*.1+4*.1+5*.6),3:rt*(2*.1+5*.1+8*.1+8*.1+8*.6),5:rt*(3*.1+8*.1+8*.1+8*.1+8*.6)};function b(T){return T.characterConditionals.enhancedFollowUp?m[T.enemyCount]:S[T.enemyCount]}const p=[{formItem:"switch",id:"enhancedFollowUp",name:"enhancedFollowUp",text:e("Content.enhancedFollowUp.text"),title:e("Content.enhancedFollowUp.title"),content:e("Content.enhancedFollowUp.content",{ultFuaScalingBuff:W.precisionRound(100*u)})},{formItem:"slider",id:"pawnedAssetStacks",name:"pawnedAssetStacks",text:e("Content.pawnedAssetStacks.text"),title:e("Content.pawnedAssetStacks.title"),content:e("Content.pawnedAssetStacks.content",{pawnedAssetCdScaling:W.precisionRound(100*h)}),min:0,max:50},{formItem:"switch",id:"e1FuaDmgBoost",name:"e1FuaDmgBoost",text:e("Content.e1FuaDmgBoost.text"),title:e("Content.e1FuaDmgBoost.title"),content:e("Content.e1FuaDmgBoost.content"),disabled:t<1},{formItem:"switch",id:"e2CrBuff",name:"e2CrBuff",text:e("Content.e2CrBuff.text"),title:e("Content.e2CrBuff.title"),content:e("Content.e2CrBuff.content"),disabled:t<2},{formItem:"switch",id:"e4DefShredBuff",name:"e4DefShredBuff",text:e("Content.e4DefShredBuff.text"),title:e("Content.e4DefShredBuff.title"),content:e("Content.e4DefShredBuff.content"),disabled:t<4},{formItem:"switch",id:"e6ResShredBuff",name:"e6ResShredBuff",text:e("Content.e6ResShredBuff.text"),title:e("Content.e6ResShredBuff.title"),content:e("Content.e6ResShredBuff.content"),disabled:t<6}],C=[{formItem:"switch",id:"debtCollectorSpdBuff",name:"debtCollectorSpdBuff",text:e("TeammateContent.debtCollectorSpdBuff.text"),title:e("TeammateContent.debtCollectorSpdBuff.title"),content:e("TeammateContent.debtCollectorSpdBuff.content")}],G={enhancedFollowUp:!0,pawnedAssetStacks:50,e1FuaDmgBoost:!0,e2CrBuff:!0,e4DefShredBuff:!0,e6ResShredBuff:!0},g={debtCollectorSpdBuff:!0};return{content:()=>p,teammateContent:()=>C,defaults:()=>G,teammateDefaults:()=>g,precomputeEffects:(T,D)=>{const I=D.characterConditionals;return T[n.CD]+=I.pawnedAssetStacks*h,T[n.ATK_P]+=I.pawnedAssetStacks*.005,T[n.CR]+=t>=2&&I.e2CrBuff&&I.pawnedAssetStacks>=15?.18:0,T.BASIC_SCALING+=c,T.ULT_SCALING+=r,T.FUA_SCALING+=R,T.FUA_SCALING+=I.enhancedFollowUp?u:0,ot(T,Vt,.32,t>=1&&I.e1FuaDmgBoost),T.DEF_PEN+=t>=4&&I.e4DefShredBuff?.12:0,T.QUANTUM_RES_PEN+=t>=6&&I.e6ResShredBuff?.2:0,T.BASIC_TOUGHNESS_DMG+=30,T.ULT_TOUGHNESS_DMG+=60,T.FUA_TOUGHNESS_DMG+=30,T},precomputeMutualEffects:(T,D)=>{},precomputeTeammateEffects:(T,D)=>{const I=D.characterConditionals;T[n.SPD]+=I.debtCollectorSpdBuff?30:0},finalizeCalculations:(T,D)=>{Le(T,D,b(D))},gpuFinalizeCalculations:T=>ye(b(T))}},Wu=t=>{const e=V.getFixedT(null,"conditionals","Characters.March7thImaginary"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=i(t,1,1.1),r=i(t,.8,.88),u=i(t,.2,.22),R=s(t,2.4,2.592),h=o(t,.8,.88),S=l(t,.1,.108),m=rt*(1*.4+2*.6),b=[{formItem:"switch",id:"enhancedBasic",name:"enhancedBasic",text:e("Content.enhancedBasic.text"),title:e("Content.enhancedBasic.title"),content:e("Content.enhancedBasic.content",{BasicEnhancedScaling:W.precisionRound(100*r)})},{formItem:"slider",id:"basicAttackHits",name:"basicAttackHits",text:e("Content.basicAttackHits.text"),title:e("Content.basicAttackHits.title"),content:e("Content.basicAttackHits.content",{BasicEnhancedScaling:W.precisionRound(100*r)}),min:3,max:6},{formItem:"switch",id:"masterAdditionalDmgBuff",name:"masterAdditionalDmgBuff",text:e("Content.masterAdditionalDmgBuff.text"),title:e("Content.masterAdditionalDmgBuff.title"),content:e("Content.masterAdditionalDmgBuff.content",{ShifuDmgBuff:W.precisionRound(100*u)})},{formItem:"switch",id:"masterToughnessRedBuff",name:"masterToughnessRedBuff",text:e("Content.masterToughnessRedBuff.text"),title:e("Content.masterToughnessRedBuff.title"),content:e("Content.masterToughnessRedBuff.content")},{formItem:"switch",id:"talentDmgBuff",name:"talentDmgBuff",text:e("Content.talentDmgBuff.text"),title:e("Content.talentDmgBuff.title"),content:e("Content.talentDmgBuff.content",{TalentDmgBuff:W.precisionRound(100*h)})},{formItem:"switch",id:"selfSpdBuff",name:"selfSpdBuff",text:e("Content.selfSpdBuff.text"),title:e("Content.selfSpdBuff.title"),content:e("Content.selfSpdBuff.content"),disabled:t<1},{formItem:"switch",id:"e6CdBuff",name:"e6CdBuff",text:e("Content.e6CdBuff.text"),title:e("Content.e6CdBuff.title"),content:e("Content.e6CdBuff.content"),disabled:t<6}],p=[{formItem:"switch",id:"masterBuff",name:"masterBuff",text:e("TeammateContent.masterBuff.text"),title:e("TeammateContent.masterBuff.title"),content:e("TeammateContent.masterBuff.content",{ShifuSpeedBuff:W.precisionRound(100*S)})},{formItem:"switch",id:"masterCdBeBuffs",name:"masterCdBeBuffs",text:e("TeammateContent.masterCdBeBuffs.text"),title:e("TeammateContent.masterCdBeBuffs.title"),content:e("TeammateContent.masterCdBeBuffs.content")}],C={enhancedBasic:!0,basicAttackHits:6,talentDmgBuff:!0,selfSpdBuff:!0,masterAdditionalDmgBuff:!0,masterToughnessRedBuff:!0,e6CdBuff:!0},G={masterBuff:!0,masterCdBeBuffs:!0};return{content:()=>b,teammateContent:()=>p,defaults:()=>C,teammateDefaults:()=>G,precomputeEffects:(g,T)=>{const D=T.characterConditionals;g[n.SPD_P]+=t>=1&&D.selfSpdBuff?.1:0,ot(g,ue,h,D.talentDmgBuff),Vn(g,ue,.5,t>=6&&D.e6CdBuff&&D.enhancedBasic);const I=D.masterAdditionalDmgBuff?u*D.basicAttackHits:0;g.BASIC_SCALING+=D.enhancedBasic?r*D.basicAttackHits:c,g.BASIC_SCALING+=D.enhancedBasic?I:u,g.ULT_SCALING+=R,g.FUA_SCALING+=t>=2?.6:0;const F=D.masterToughnessRedBuff?2:1;return g.BASIC_TOUGHNESS_DMG+=F*(D.enhancedBasic?15*D.basicAttackHits:30),g.ULT_TOUGHNESS_DMG+=90,g.FUA_TOUGHNESS_DMG+=t>=2?30:0,g},precomputeMutualEffects:(g,T)=>{},precomputeTeammateEffects:(g,T)=>{const D=T.characterConditionals;g[n.SPD_P]+=D.masterBuff?S:0,g[n.CD]+=D.masterBuff&&D.masterCdBeBuffs?.6:0,g[n.BE]+=D.masterBuff&&D.masterCdBeBuffs?.36:0},finalizeCalculations:(g,T)=>{Le(g,T,m)},gpuFinalizeCalculations:g=>ye(m)}},Iu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Yunli"),{basic:i,skill:l,ult:s,talent:o}=it.ULT_BASIC_3_SKILL_TALENT_5,c=i(t,1,1.1),r=l(t,1.2,1.32),u=s(t,2.2,2.376),R=s(t,2.2,2.376),h=s(t,.72,.7776),S=s(t,1,1.08),m=o(t,1.2,1.32),b=t>=1?9:6,p={1:rt*(1*1/1),3:rt*(2*1/1),5:rt*(3*1/1)},C={1:rt*(1*.12+2*.12+3*.12+4*.12+5*.12+6*.12+7*.12+8*.16),3:rt*(2*.12+5*.12+8*.12+8*.12+8*.12+8*.12+8*.12+8*.16),5:rt*(3*.12+8*.12+8*.12+8*.12+8*.12+8*.12+8*.12+8*.16)};function G(I){const F=I.characterConditionals;return F.blockActive&&F.ultCull?C[I.enemyCount]:p[I.enemyCount]}const g=[{formItem:"switch",id:"blockActive",name:"blockActive",text:e("Content.blockActive.text"),title:e("Content.blockActive.title"),content:e("Content.blockActive.content")},{formItem:"switch",id:"ultCull",name:"ultCull",text:e("Content.ultCull.text"),title:e("Content.ultCull.title"),content:e("Content.ultCull.content",{CullScaling:W.precisionRound(100*R),CullAdjacentScaling:W.precisionRound(100*.5*R),CullAdditionalScaling:W.precisionRound(100*h)})},{formItem:"slider",id:"ultCullHits",name:"ultCullHits",text:e("Content.ultCullHits.text"),title:e("Content.ultCullHits.title"),content:e("Content.ultCullHits.content",{CullScaling:W.precisionRound(100*R),CullAdjacentScaling:W.precisionRound(100*.5*R),CullAdditionalScaling:W.precisionRound(100*h)}),min:0,max:b},{formItem:"switch",id:"counterAtkBuff",name:"counterAtkBuff",text:e("Content.counterAtkBuff.text"),title:e("Content.counterAtkBuff.title"),content:e("Content.counterAtkBuff.content")},{formItem:"switch",id:"e1UltBuff",name:"e1UltBuff",text:e("Content.e1UltBuff.text"),title:e("Content.e1UltBuff.title"),content:e("Content.e1UltBuff.content"),disabled:t<1},{formItem:"switch",id:"e2DefShred",name:"e2DefShred",text:e("Content.e2DefShred.text"),title:e("Content.e2DefShred.title"),content:e("Content.e2DefShred.content"),disabled:t<2},{formItem:"switch",id:"e4ResBuff",name:"e4ResBuff",text:e("Content.e4ResBuff.text"),title:e("Content.e4ResBuff.title"),content:e("Content.e4ResBuff.content"),disabled:t<4},{formItem:"switch",id:"e6Buffs",name:"e6Buffs",text:e("Content.e6Buffs.text"),title:e("Content.e6Buffs.title"),content:e("Content.e6Buffs.content"),disabled:t<6}],T=[],D={blockActive:!0,ultCull:!0,ultCullHits:b,counterAtkBuff:!0,e1UltBuff:!0,e2DefShred:!0,e4ResBuff:!0,e6Buffs:!0};return{content:()=>g,teammateContent:()=>T,defaults:()=>D,teammateDefaults:()=>({}),initializeConfigurations:(I,F)=>{const E=F.characterConditionals;E.blockActive&&E.ultCull&&(I.FUA_DMG_TYPE=Mt|Vt)},precomputeEffects:(I,F)=>{const E=F.characterConditionals;return E.blockActive?E.ultCull?I.FUA_SCALING+=R+E.ultCullHits*h:I.FUA_SCALING+=u:I.FUA_SCALING+=m,Vn(I,Vt,S,E.blockActive),I[n.ATK_P]+=E.counterAtkBuff?.3:0,I.DMG_RED_MULTI*=E.blockActive?1-.2:1,ot(I,Vt,.2,t>=1&&E.e1UltBuff&&E.blockActive),hn(I,Vt,.2,t>=2&&E.e2DefShred),I[n.RES]+=t>=4&&E.e4ResBuff?.5:0,hl(I,Vt,.15,t>=6&&E.e6Buffs&&E.blockActive),Pa(I,Vt,.2,t>=6&&E.e6Buffs&&E.blockActive),I.BASIC_TOUGHNESS_DMG+=30,I.SKILL_TOUGHNESS_DMG+=60,I.FUA_TOUGHNESS_DMG+=E.blockActive?60:30,I.FUA_TOUGHNESS_DMG+=E.blockActive&&E.ultCull?E.ultCullHits*15:0,I.BASIC_SCALING+=c,I.SKILL_SCALING+=r,I},precomputeMutualEffects:(I,F)=>{},precomputeTeammateEffects:(I,F)=>{},finalizeCalculations:(I,F)=>{Le(I,F,G(F))},gpuFinalizeCalculations:I=>ye(G(I))}},Eu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Jiaoqiu"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=i(t,1,1.1),r=l(t,1.5,1.65),u=s(t,1,1.08),R=s(t,.15,.162),h=o(t,.15,.165),S=o(t,.05,.055),m=o(t,1.8,1.98),b=t>=6?9:5,p=[{formItem:"slider",id:"ashenRoastStacks",name:"ashenRoastStacks",text:e("Content.ashenRoastStacks.text"),title:e("Content.ashenRoastStacks.title"),content:e("Content.ashenRoastStacks.content",{AshenRoastInitialVulnerability:W.precisionRound(100*h),AshenRoastAdditionalVulnerability:W.precisionRound(100*S),AshenRoastDotMultiplier:W.precisionRound(100*m)}),min:0,max:b},{formItem:"switch",id:"ultFieldActive",name:"ultFieldActive",text:e("Content.ultFieldActive.text"),title:e("Content.ultFieldActive.title"),content:e("Content.ultFieldActive.content",{UltScaling:W.precisionRound(100*u),UltVulnerability:W.precisionRound(100*R),ZoneDebuffChance:W.precisionRound(100*s(t,.6,.62))})},{formItem:"switch",id:"ehrToAtkBoost",name:"ehrToAtkBoost",text:e("Content.ehrToAtkBoost.text"),title:e("Content.ehrToAtkBoost.title"),content:e("Content.ehrToAtkBoost.content")},{formItem:"switch",id:"e1DmgBoost",name:"e1DmgBoost",text:e("Content.e1DmgBoost.text"),title:e("Content.e1DmgBoost.title"),content:e("Content.e1DmgBoost.content"),disabled:t<1},{formItem:"switch",id:"e2Dot",name:"e2Dot",text:e("Content.e2Dot.text"),title:e("Content.e2Dot.title"),content:e("Content.e2Dot.content"),disabled:t<2},{formItem:"switch",id:"e6ResShred",name:"e6ResShred",text:e("Content.e6ResShred.text"),title:e("Content.e6ResShred.title"),content:e("Content.e6ResShred.content"),disabled:t<6}],C=[J(p,"ashenRoastStacks"),J(p,"ultFieldActive"),J(p,"e1DmgBoost"),J(p,"e6ResShred")],G={ashenRoastStacks:b,ultFieldActive:!0,ehrToAtkBoost:!0,e1DmgBoost:!0,e2Dot:!0,e6ResShred:!0},g={ashenRoastStacks:b,ultFieldActive:!0,e1DmgBoost:!0,e6ResShred:!0};return{content:()=>p,teammateContent:()=>C,defaults:()=>G,teammateDefaults:()=>g,precomputeEffects:(T,D)=>{const I=D.characterConditionals;return T.BASIC_SCALING+=c,T.SKILL_SCALING+=r,T.ULT_SCALING+=u,T.DOT_SCALING+=I.ashenRoastStacks>0?m:0,T.DOT_SCALING+=t>=2&&I.e2Dot&&I.ashenRoastStacks>0?3:0,T.DOT_CHANCE=100,T.BASIC_TOUGHNESS_DMG+=30,T.SKILL_TOUGHNESS_DMG+=60,T.ULT_TOUGHNESS_DMG+=60,T},precomputeMutualEffects:(T,D)=>{const I=D.characterConditionals;an(T,Mt,R,I.ultFieldActive),T.VULNERABILITY+=I.ashenRoastStacks>0?h:0,T.VULNERABILITY+=Math.max(0,I.ashenRoastStacks-1)*S,T.ELEMENTAL_DMG+=t>=1&&I.e1DmgBoost&&I.ashenRoastStacks>0?.4:0,T.RES_PEN+=t>=6&&I.e6ResShred?I.ashenRoastStacks*.03:0},precomputeTeammateEffects:(T,D)=>{},finalizeCalculations:T=>Ht(T),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[Md]}},xu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Feixiao"),{basic:i,skill:l,ult:s,talent:o}=it.ULT_BASIC_3_SKILL_TALENT_5,c=i(t,1,1.1),r=l(t,2,2.2),u=s(t,.6,.648),R=s(t,.3,.33),h=s(t,1.6,1.728),S=o(t,1.1,1.21),m=o(t,.6,.66),b=1*.1285+2*.1285+3*.1285+4*.1285+5*.1285+6*.1285+7*.2285,p=1*.1285*.1+2*.1285*.9+3*.1285*.1+4*.1285*.9+5*.1285*.1+6*.1285*.9+7*.1285*.1+8*.1285*.9+8*.1285*.1+8*.1285*.9+8*.1285*.1+8*.1285*.9+8*.2285;function C(D){return D.characterConditionals.weaknessBrokenUlt?rt*p:rt*b}const G=[{formItem:"switch",id:"weaknessBrokenUlt",name:"weaknessBrokenUlt",text:e("Content.weaknessBrokenUlt.text"),title:e("Content.weaknessBrokenUlt.title"),content:e("Content.weaknessBrokenUlt.content")},{formItem:"switch",id:"talentDmgBuff",name:"talentDmgBuff",text:e("Content.talentDmgBuff.text"),title:e("Content.talentDmgBuff.title"),content:e("Content.talentDmgBuff.content",{FuaMultiplier:W.precisionRound(100*S),DmgBuff:W.precisionRound(100*m)})},{formItem:"switch",id:"skillAtkBuff",name:"skillAtkBuff",text:e("Content.skillAtkBuff.text"),title:e("Content.skillAtkBuff.title"),content:e("Content.skillAtkBuff.content")},{formItem:"switch",id:"e1OriginalDmgBoost",name:"e1OriginalDmgBoost",text:e("Content.e1OriginalDmgBoost.text"),title:e("Content.e1OriginalDmgBoost.title"),content:e("Content.e1OriginalDmgBoost.content"),disabled:t<1},{formItem:"switch",id:"e4Buffs",name:"e4Buffs",text:e("Content.e4Buffs.text"),title:e("Content.e4Buffs.title"),content:e("Content.e4Buffs.content"),disabled:t<4},{formItem:"switch",id:"e6Buffs",name:"e6Buffs",text:e("Content.e6Buffs.text"),title:e("Content.e6Buffs.title"),content:e("Content.e6Buffs.content"),disabled:t<6}],g=[],T={ultStacks:6,weaknessBrokenUlt:!0,talentDmgBuff:!0,skillAtkBuff:!0,e1OriginalDmgBoost:!0,e4Buffs:!0,e6Buffs:!0};return{content:()=>G,teammateContent:()=>g,defaults:()=>T,teammateDefaults:()=>({}),initializeConfigurations:(D,I)=>{const F=I.characterConditionals;D.ULT_DMG_TYPE=Mt|Vt,F.weaknessBrokenUlt&&(D.ENEMY_WEAKNESS_BROKEN=1),t>=6&&F.e6Buffs&&(D.FUA_DMG_TYPE=Mt|Vt)},precomputeEffects:(D,I)=>{const F=I.characterConditionals;return F.weaknessBrokenUlt||(D.ULT_BREAK_EFFICIENCY_BOOST+=1),Vn(D,Vt,.36),D[n.ATK_P]+=F.skillAtkBuff?.48:0,D.ELEMENTAL_DMG+=F.talentDmgBuff?m:0,D.BASIC_SCALING+=c,D.SKILL_SCALING+=r,D.FUA_SCALING+=S,D.ULT_SCALING+=6*(u+R)+h,D.ULT_ORIGINAL_DMG_BOOST+=t>=1&&F.e1OriginalDmgBoost?.3071:0,t>=4&&(D[n.SPD_P]+=.08,D.FUA_TOUGHNESS_DMG+=15),t>=6&&F.e6Buffs&&(D.RES_PEN+=.2,D.FUA_SCALING+=1.4),D.BASIC_TOUGHNESS_DMG+=30,D.SKILL_TOUGHNESS_DMG+=60,D.ULT_TOUGHNESS_DMG+=90,D.FUA_TOUGHNESS_DMG+=15,D},precomputeMutualEffects:(D,I)=>{},precomputeTeammateEffects:(D,I)=>{},finalizeCalculations:(D,I)=>{D.BASIC_DMG+=D.BASIC_SCALING*D[n.ATK],D.SKILL_DMG+=D.SKILL_SCALING*D[n.ATK],D.ULT_DMG+=D.ULT_SCALING*(D[n.ATK]+ha(D,I,C(I))),D.FUA_DMG+=D.FUA_SCALING*(D[n.ATK]+ha(D,I,rt*(1*1))),D.DOT_DMG+=D.DOT_SCALING*D[n.ATK]},gpuFinalizeCalculations:D=>`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${C(D)}));
x.FUA_DMG += x.FUA_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${rt*(1*1)}));
x.DOT_DMG += x.DOT_SCALING * x.ATK;
    `}},Lu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Lingsha"),{basic:i,skill:l,ult:s,talent:o}=it.ULT_TALENT_3_SKILL_BASIC_5,c=i(t,1,1.1),r=l(t,.8,.88),u=s(t,1.5,1.65),R=s(t,.25,.27),h=o(t,.75,.825),S={1:rt*(1*1/2+2*1/2),3:rt*(2*1/2+3*1/2),5:rt*(3*1/2+4*1/2)},m=[{formItem:"switch",id:"beConversion",name:"beConversion",text:e("Content.beConversion.text"),title:e("Content.beConversion.title"),content:e("Content.beConversion.content")},{formItem:"switch",id:"befogState",name:"befogState",text:e("Content.befogState.text"),title:e("Content.befogState.title"),content:e("Content.befogState.content",{BefogVulnerability:W.precisionRound(100*R)})},{formItem:"switch",id:"e1DefShred",name:"e1DefShred",text:e("Content.e1DefShred.text"),title:e("Content.e1DefShred.title"),content:e("Content.e1DefShred.content"),disabled:t<1},{formItem:"switch",id:"e2BeBuff",name:"e2BeBuff",text:e("Content.e2BeBuff.text"),title:e("Content.e2BeBuff.title"),content:e("Content.e2BeBuff.content"),disabled:t<2},{formItem:"switch",id:"e6ResShred",name:"e6ResShred",text:e("Content.e6ResShred.text"),title:e("Content.e6ResShred.title"),content:e("Content.e6ResShred.content"),disabled:t<6}],b=[J(m,"befogState"),J(m,"e1DefShred"),J(m,"e2BeBuff"),J(m,"e6ResShred")],p={beConversion:!0,befogState:!0,e1DefShred:!0,e2BeBuff:!0,e6ResShred:!0},C={befogState:!0,e1DefShred:!0,e2BeBuff:!0,e6ResShred:!0};return{content:()=>m,teammateContent:()=>b,defaults:()=>p,teammateDefaults:()=>C,precomputeEffects:(G,g)=>{const T=g.characterConditionals;return G.BASIC_SCALING+=c,G.SKILL_SCALING+=r,G.FUA_SCALING+=h*2,G.ULT_SCALING+=u,G.BREAK_EFFICIENCY_BOOST+=t>=1?.5:0,G.FUA_SCALING+=t>=6&&T.e6ResShred?.5:0,G.BASIC_TOUGHNESS_DMG+=30,G.SKILL_TOUGHNESS_DMG+=30,G.ULT_TOUGHNESS_DMG+=60,G.FUA_TOUGHNESS_DMG+=30*2,G.FUA_TOUGHNESS_DMG+=t>=6?15:0,G},precomputeMutualEffects:(G,g)=>{const T=g.characterConditionals;G.ENEMY_WEAKNESS_BROKEN&&(G.DEF_PEN+=t>=1&&T.e1DefShred?.2:0),an(G,wa,R,T.befogState),G[n.BE]+=t>=2&&T.e2BeBuff?.4:0,G.RES_PEN+=t>=6&&T.e6ResShred?.2:0},precomputeTeammateEffects:(G,g)=>{},finalizeCalculations:(G,g)=>{Le(G,g,S[g.enemyCount])},gpuFinalizeCalculations:G=>ye(S[G.enemyCount]),dynamicConditionals:[Fd]}},yu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Moze"),{basic:i,skill:l,ult:s,talent:o}=it.ULT_TALENT_3_SKILL_BASIC_5,c=i(t,1,1.1),r=l(t,1.5,1.65),u=s(t,2.7,2.916),R=o(t,1.6,1.76),h=o(t,.3,.33),S=rt*(1*.08+2*.08+3*.08+4*.08+5*.08+6*.6),m=[{formItem:"switch",id:"preyMark",name:"preyMark",text:e("Content.preyMark.text"),title:e("Content.preyMark.title"),content:e("Content.preyMark.content",{PreyAdditionalMultiplier:W.precisionRound(100*h),FuaScaling:W.precisionRound(100*R)})},{formItem:"switch",id:"e2CdBoost",name:"e2CdBoost",text:e("Content.e2CdBoost.text"),title:e("Content.e2CdBoost.title"),content:e("Content.e2CdBoost.content"),disabled:t<2},{formItem:"switch",id:"e4DmgBuff",name:"e4DmgBuff",text:e("Content.e4DmgBuff.text"),title:e("Content.e4DmgBuff.title"),content:e("Content.e4DmgBuff.content"),disabled:t<4},{formItem:"switch",id:"e6MultiplierIncrease",name:"e6MultiplierIncrease",text:e("Content.e6MultiplierIncrease.text"),title:e("Content.e6MultiplierIncrease.title"),content:e("Content.e6MultiplierIncrease.content"),disabled:t<6}],b=[J(m,"preyMark"),J(m,"e2CdBoost")],p={preyMark:!0,e2CdBoost:!0,e4DmgBuff:!0,e6MultiplierIncrease:!0},C={preyMark:!0,e2CdBoost:!0};return{content:()=>m,teammateContent:()=>b,defaults:()=>p,teammateDefaults:()=>C,initializeConfigurations:(G,g)=>{G.ULT_DMG_TYPE=Mt|Vt},precomputeEffects:(G,g)=>{const T=g.characterConditionals;return G.ELEMENTAL_DMG+=t>=4&&T.e4DmgBuff?.3:0,G.BASIC_SCALING+=c+(T.preyMark?h:0),G.SKILL_SCALING+=r+(T.preyMark?h:0),G.FUA_SCALING+=R+(T.preyMark?h:0),G.FUA_SCALING+=t>=6&&T.e6MultiplierIncrease?.25:0,G.ULT_SCALING+=u+(T.preyMark?h:0),G.BASIC_TOUGHNESS_DMG+=30,G.SKILL_TOUGHNESS_DMG+=60,G.ULT_TOUGHNESS_DMG+=90,G.FUA_TOUGHNESS_DMG+=30,G},precomputeMutualEffects:(G,g)=>{const T=g.characterConditionals;an(G,Vt,.25,T.preyMark),G[n.CD]+=t>=2&&T.preyMark&&T.e2CdBoost?.4:0},precomputeTeammateEffects:(G,g)=>{},finalizeCalculations:(G,g)=>{Le(G,g,S)},gpuFinalizeCalculations:G=>ye(S)}},Mu=t=>{const e=V.getFixedT(null,"conditionals","Characters.Rappa"),{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=i(t,1,1.1),r=i(t,2,2.32),u=l(t,1.2,1.32),R=s(t,.3,.34),h=o(t,.6,.66),S=o(t,.5,.55),m=t>=6?15:10,b=[{formItem:"switch",id:"sealformActive",name:"sealformActive",text:e("Content.sealformActive.text"),title:e("Content.sealformActive.title"),content:V.t("BetaMessage",{ns:"conditionals",Version:je})},{formItem:"switch",id:"atkToBreakVulnerability",name:"atkToBreakVulnerability",text:e("Content.atkToBreakVulnerability.text"),title:e("Content.atkToBreakVulnerability.title"),content:V.t("BetaMessage",{ns:"conditionals",Version:je})},{name:"chargeStacks",id:"chargeStacks",formItem:"slider",text:e("Content.chargeStacks.text"),title:e("Content.chargeStacks.title"),content:V.t("BetaMessage",{ns:"conditionals",Version:je}),min:0,max:m},{formItem:"switch",id:"e1DefPen",name:"e1DefPen",text:e("Content.e1DefPen.text"),title:e("Content.e1DefPen.title"),content:V.t("BetaMessage",{ns:"conditionals",Version:je}),disabled:t<1},{formItem:"switch",id:"e2Buffs",name:"e2Buffs",text:e("Content.e2Buffs.text"),title:e("Content.e2Buffs.title"),content:V.t("BetaMessage",{ns:"conditionals",Version:je}),disabled:t<2},{formItem:"switch",id:"e4SpdBuff",name:"e4SpdBuff",text:e("Content.e4SpdBuff.text"),title:e("Content.e4SpdBuff.title"),content:V.t("BetaMessage",{ns:"conditionals",Version:je}),disabled:t<4}],p=[{formItem:"slider",id:"teammateBreakVulnerability",name:"teammateBreakVulnerability",text:e("TeammateContent.teammateBreakVulnerability.text"),title:e("TeammateContent.teammateBreakVulnerability.title"),content:V.t("BetaMessage",{ns:"conditionals",Version:je}),min:0,max:.1,percent:!0},{formItem:"switch",id:"e4SpdBuff",name:"e4SpdBuff",text:e("TeammateContent.e4SpdBuff.text"),title:e("TeammateContent.e4SpdBuff.title"),content:V.t("BetaMessage",{ns:"conditionals",Version:je}),disabled:t<4}],C={sealformActive:!0,atkToBreakVulnerability:!0,chargeStacks:t>=6?10:5,e1DefPen:!0,e2Buffs:!0,e4SpdBuff:!0};return{content:()=>b,teammateContent:()=>p,defaults:()=>C,teammateDefaults:()=>({teammateBreakVulnerability:.1,e4SpdBuff:!0}),initializeConfigurations:(G,g)=>{g.characterConditionals.sealformActive&&(G.ENEMY_WEAKNESS_BROKEN=1)},precomputeEffects:(G,g)=>{const T=g.characterConditionals;return G[n.BE]+=T.sealformActive?R:0,G.BREAK_EFFICIENCY_BOOST+=T.sealformActive?.5:0,G.DEF_PEN+=t>=1&&T.sealformActive&&T.e1DefPen?.15:0,G[n.SPD_P]+=t>=4&&T.sealformActive&&T.e4SpdBuff?.12:0,G.BASIC_SUPER_BREAK_MODIFIER+=T.sealformActive?.6:0,G.BASIC_BREAK_DMG_MODIFIER=h+T.chargeStacks*S,G.BASIC_SCALING+=T.sealformActive?r:c,G.SKILL_SCALING+=u,G.BASIC_TOUGHNESS_DMG+=T.sealformActive?75+(2+T.chargeStacks)*3:30,G.SKILL_TOUGHNESS_DMG+=30,G},precomputeMutualEffects:(G,g)=>{},precomputeTeammateEffects:(G,g)=>{const T=g.characterConditionals;G.BREAK_VULNERABILITY+=T.teammateBreakVulnerability,G[n.SPD_P]+=t>=4&&T.e4SpdBuff?.12:0},finalizeCalculations:G=>Ht(G),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[xd]}},qs={1001:eu,1002:Ud,1003:Ad,1004:hu,1005:_d,1006:du,1008:Gd,1009:Cd,1013:wd,1101:kd,1102:cu,1103:ru,1104:Yd,1105:au,1106:iu,1107:Nd,1108:ou,1109:Qd,1110:tu,1111:qd,1112:Tu,1201:su,1202:bu,1203:$d,1204:zd,1205:Pd,1206:mu,1207:Su,1208:Xd,1209:Ru,1210:Kd,1211:Zd,1212:Od,1213:Jd,1214:pu,1215:vd,1217:jd,1218:Eu,1220:xu,1221:Iu,1222:Lu,1223:yu,1224:Wu,1301:Cu,1302:fd,1303:lu,1304:Gu,1305:Hd,1306:uu,1307:Bd,1308:fu,1309:Zu,1310:Du,1312:nu,1314:Vu,1315:gu,1317:Mu,8001:$l,8002:$l,8003:eo,8004:eo,8005:to,8006:to},En={get:t=>{const e=qs[t.characterId];return e(t.characterEidolon)}},Fu=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.Adversarial"),i=[.1,.12,.14,.16,.18],l=[{lc:!0,id:"defeatedEnemySpdBuff",name:"defeatedEnemySpdBuff",formItem:"switch",text:e("Content.defeatedEnemySpdBuff.text"),title:e("Content.defeatedEnemySpdBuff.title"),content:e("Content.defeatedEnemySpdBuff.content",{SpdBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({defeatedEnemySpdBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.SPD_P]+=c.defeatedEnemySpdBuff?i[t]:0},finalizeCalculations:()=>{}}},Bu=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.Amber"),i=[.16,.2,.24,.28,.32],l=[{lc:!0,id:"hp50DefBuff",name:"hp50DefBuff",formItem:"switch",text:e("Content.hp50DefBuff.text"),title:e("Content.hp50DefBuff.title"),content:e("Content.hp50DefBuff.content",{DefBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({hp50DefBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.DEF_P]+=c.hp50DefBuff?i[t]:0},finalizeCalculations:()=>{}}},Pu=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.AnInstantBeforeAGaze"),i=[.0036,.0042,.0048,.0054,.006],l=[{lc:!0,id:"maxEnergyUltDmgStacks",name:"maxEnergyUltDmgStacks",formItem:"slider",text:e("Content.maxEnergyUltDmgStacks.text"),title:e("Content.maxEnergyUltDmgStacks.title"),content:e("Content.maxEnergyUltDmgStacks.content",{DmgStep:W.precisionRound(100*i[t])}),min:0,max:180}];return{content:()=>l,defaults:()=>({maxEnergyUltDmgStacks:180}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,Mt,c.maxEnergyUltDmgStacks*i[t])},finalizeCalculations:()=>{}}},ku=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.Arrows"),i=[.12,.15,.18,.21,.24],l=[{lc:!0,id:"critBuff",name:"critBuff",formItem:"switch",text:e("Content.critBuff.text"),title:e("Content.critBuff.title"),content:e("Content.critBuff.content",{CritBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({critBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.CR]+=c.critBuff?i[t]:0},finalizeCalculations:()=>{}}},Nu=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.ASecretVow"),i=[.2,.25,.3,.35,.4],l=[{lc:!0,id:"enemyHpHigherDmgBoost",name:"enemyHpHigherDmgBoost",formItem:"switch",text:e("Content.enemyHpHigherDmgBoost.text"),title:e("Content.enemyHpHigherDmgBoost.title"),content:e("Content.enemyHpHigherDmgBoost.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,teammateContent:()=>[],defaults:()=>({enemyHpHigherDmgBoost:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=i[t],s.ELEMENTAL_DMG+=c.enemyHpHigherDmgBoost?i[t]:0},finalizeCalculations:()=>{}}},Uu=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.BaptismOfPureThought"),i=[.08,.09,.1,.11,.12],l=[.36,.42,.48,.54,.6],s=[.24,.28,.32,.36,.4],o=[{lc:!0,formItem:"slider",id:"debuffCdStacks",name:"debuffCdStacks",text:e("Content.debuffCdStacks.text"),title:e("Content.debuffCdStacks.title"),content:e("Content.debuffCdStacks.content",{DmgStep:W.precisionRound(100*i[t])}),min:0,max:3},{lc:!0,formItem:"switch",id:"postUltBuff",name:"postUltBuff",text:e("Content.postUltBuff.text"),title:e("Content.postUltBuff.title"),content:e("Content.postUltBuff.content",{DmgStep:W.precisionRound(100*l[t]),DefIgnore:W.precisionRound(100*s[t])})}];return{content:()=>o,defaults:()=>({debuffCdStacks:3,postUltBuff:!0}),precomputeEffects:(c,r)=>{const u=r.lightConeConditionals;c[n.CD]+=u.debuffCdStacks*i[t],c.ELEMENTAL_DMG+=u.postUltBuff?l[t]:0,hn(c,Vt,s[t],u.postUltBuff)},finalizeCalculations:()=>{}}},Hu=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.BeforeDawn"),i=[.18,.21,.24,.27,.3],l=[.48,.56,.64,.72,.8],s=[{lc:!0,id:"fuaDmgBoost",name:"fuaDmgBoost",formItem:"switch",text:e("Content.fuaDmgBoost.text"),title:e("Content.fuaDmgBoost.title"),content:e("Content.fuaDmgBoost.content",{DmgBuff:W.precisionRound(100*l[t])})}];return{content:()=>s,defaults:()=>({fuaDmgBoost:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;ot(o,Ot|Mt,i[t]),ot(o,Vt,l[t],r.fuaDmgBoost)},finalizeCalculations:()=>{}}},Xu=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Yu=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.BrighterThanTheSun"),i=[.18,.21,.24,.27,.3],l=[.06,.07,.08,.09,.1],s=[{lc:!0,id:"dragonsCallStacks",name:"dragonsCallStacks",formItem:"slider",text:e("Content.dragonsCallStacks.text"),title:e("Content.dragonsCallStacks.title"),content:e("Content.dragonsCallStacks.content",{AtkBuff:W.precisionRound(100*i[t]),RegenBuff:W.precisionRound(100*l[t])}),min:0,max:2}];return{content:()=>s,defaults:()=>({dragonsCallStacks:2}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[n.ATK_P]+=r.dragonsCallStacks*i[t],o[n.ERR]+=r.dragonsCallStacks*l[t]},finalizeCalculations:()=>{}}},Ku=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.ButTheBattleIsntOver"),i=[.3,.35,.4,.45,.5],l=[{lc:!0,id:"postSkillDmgBuff",name:"postSkillDmgBuff",formItem:"switch",text:e("Content.postSkillDmgBuff.text"),title:e("Content.postSkillDmgBuff.title"),content:e("Content.postSkillDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>[],teammateContent:()=>l,defaults:()=>({}),teammateDefaults:()=>({postSkillDmgBuff:!0}),precomputeEffects:()=>{},precomputeTeammateEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.postSkillDmgBuff?i[t]:0},finalizeCalculations:()=>{}}},vu=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.CarveTheMoonWeaveTheClouds"),i=[.1,.125,.15,.175,.2],l=[.12,.15,.18,.21,.24],s=[.06,.075,.09,.105,.12],o=[{lc:!0,id:"atkBuffActive",name:"atkBuffActive",formItem:"switch",text:e("Content.atkBuffActive.text"),title:e("Content.atkBuffActive.title"),content:e("Content.atkBuffActive.content",{AtkBuff:W.precisionRound(100*i[t]),CritBuff:W.precisionRound(100*l[t]),RegenBuff:W.precisionRound(100*s[t])})},{lc:!0,id:"cdBuffActive",name:"cdBuffActive",formItem:"switch",text:e("Content.cdBuffActive.text"),title:e("Content.cdBuffActive.title"),content:e("Content.cdBuffActive.content",{AtkBuff:W.precisionRound(100*i[t]),CritBuff:W.precisionRound(100*l[t]),RegenBuff:W.precisionRound(100*s[t])})},{lc:!0,id:"errBuffActive",name:"errBuffActive",formItem:"switch",text:e("Content.errBuffActive.text"),title:e("Content.errBuffActive.title"),content:e("Content.errBuffActive.content",{AtkBuff:W.precisionRound(100*i[t]),CritBuff:W.precisionRound(100*l[t]),RegenBuff:W.precisionRound(100*s[t])})}];return{content:()=>o,teammateContent:()=>o,defaults:()=>({atkBuffActive:!0,cdBuffActive:!1,errBuffActive:!1}),teammateDefaults:()=>({atkBuffActive:!0,cdBuffActive:!1,errBuffActive:!1}),precomputeEffects:()=>{},precomputeMutualEffects:(c,r)=>{const u=r.lightConeConditionals;c[n.ATK_P]+=u.atkBuffActive?i[t]:0,c[n.CD]+=u.cdBuffActive?l[t]:0,c[n.ERR]+=u.errBuffActive?s[t]:0},finalizeCalculations:()=>{}}},wu=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.Chorus"),i=[.08,.09,.1,.11,.12],l=[{lc:!0,id:"inBattleAtkBuff",name:"inBattleAtkBuff",formItem:"switch",text:e("Content.inBattleAtkBuff.text"),title:e("Content.inBattleAtkBuff.title"),content:e("Content.inBattleAtkBuff.content",{AtkBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,teammateContent:()=>l,defaults:()=>({inBattleAtkBuff:!0}),teammateDefaults:()=>({inBattleAtkBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.ATK_P]+=c.inBattleAtkBuff?i[t]:0},finalizeCalculations:()=>{}}},Au=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.CollapsingSky"),i=[.2,.25,.3,.35,.4],l=[{lc:!0,id:"basicSkillDmgBuff",name:"basicSkillDmgBuff",formItem:"switch",text:e("Content.basicSkillDmgBuff.text"),title:e("Content.basicSkillDmgBuff.title"),content:e("Content.basicSkillDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({basicSkillDmgBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,ue|Ot,i[t],c.basicSkillDmgBuff)},finalizeCalculations:()=>{}}},Qu=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.Cornucopia"),i=[.12,.15,.18,.21,.24],l=[{lc:!0,id:"healingBuff",name:"healingBuff",formItem:"switch",text:e("Content.healingBuff.text"),title:e("Content.healingBuff.title"),content:e("Content.healingBuff.content",{HealingBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({healingBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.OHB]+=c.healingBuff?i[t]:0},finalizeCalculations:()=>{}}},ju=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.CruisingInTheStellarSea"),i=[.08,.1,.12,.14,.16],l=[.2,.25,.3,.35,.4],s=[{lc:!0,id:"enemyHp50CrBoost",name:"enemyHp50CrBoost",formItem:"switch",text:e("Content.enemyHp50CrBoost.text"),title:e("Content.enemyHp50CrBoost.title"),content:e("Content.enemyHp50CrBoost.content",{CritBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"enemyDefeatedAtkBuff",name:"enemyDefeatedAtkBuff",formItem:"switch",text:e("Content.enemyDefeatedAtkBuff.text"),title:e("Content.enemyDefeatedAtkBuff.title"),content:e("Content.enemyDefeatedAtkBuff.content",{AtkBuff:W.precisionRound(100*l[t])})}];return{content:()=>s,defaults:()=>({enemyHp50CrBoost:!1,enemyDefeatedAtkBuff:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[n.CR]+=r.enemyHp50CrBoost?i[t]:0,o[n.ATK_P]+=r.enemyDefeatedAtkBuff?l[t]:0},finalizeCalculations:()=>{}}},Ju=()=>({content:()=>[],teammateContent:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Ou=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.DartingArrow"),i=[.24,.3,.36,.42,.48],l=[{lc:!0,id:"defeatedEnemyAtkBuff",name:"defeatedEnemyAtkBuff",formItem:"switch",text:e("Content.defeatedEnemyAtkBuff.text"),title:e("Content.defeatedEnemyAtkBuff.title"),content:e("Content.defeatedEnemyAtkBuff.content",{AtkBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({defeatedEnemyAtkBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.ATK_P]+=c.defeatedEnemyAtkBuff?i[t]:0},finalizeCalculations:()=>{}}},zu=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.DataBank"),i=[.28,.35,.42,.49,.56],l=[{lc:!0,id:"ultDmgBuff",name:"ultDmgBuff",formItem:"switch",text:e("Content.ultDmgBuff.text"),title:e("Content.ultDmgBuff.title"),content:e("Content.ultDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({ultDmgBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,Mt,i[t],c.ultDmgBuff)},finalizeCalculations:()=>{}}},_u=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.DayOneOfMyNewLife"),i=[.08,.09,.1,.11,.12],l=[{lc:!0,id:"dmgResBuff",name:"dmgResBuff",formItem:"switch",text:e("Content.dmgResBuff.text"),title:e("Content.dmgResBuff.title"),content:e("Content.dmgResBuff.content",{ResBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,teammateContent:()=>l,defaults:()=>({dmgResBuff:!0}),teammateDefaults:()=>({dmgResBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s.DMG_RED_MULTI*=c.dmgResBuff?1-i[t]:1},finalizeCalculations:()=>{}}},qu=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),$u=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.EarthlyEscapade"),i=[.1,.11,.12,.13,.14],l=[.28,.35,.42,.49,.56],s=[{lc:!0,id:"maskActive",name:"maskActive",formItem:"switch",text:e("Content.maskActive.text"),title:e("Content.maskActive.title"),content:e("Content.maskActive.content",{CritRateBuff:W.precisionRound(100*i[t]),CritDmgBuff:W.precisionRound(100*l[t])})}];return{content:()=>s,teammateContent:()=>s,defaults:()=>({maskActive:!1}),teammateDefaults:()=>({maskActive:!0}),precomputeEffects:()=>{},precomputeTeammateEffects:(o,c)=>{const r=c.lightConeConditionals;o[n.CR]+=r.maskActive?i[t]:0,o[n.CD]+=r.maskActive?l[t]:0},finalizeCalculations:()=>{}}},tm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.EchoesOfTheCoffin"),i=[12,14,16,18,20],l=[3,3.5,4,4.5,5],s=[{lc:!0,id:"postUltSpdBuff",name:"postUltSpdBuff",formItem:"switch",text:e("Content.postUltSpdBuff.text"),title:e("Content.postUltSpdBuff.title"),content:e("Content.postUltSpdBuff.content",{EnergyRecovered:W.precisionRound(l[t]),SpdBuff:W.precisionRound(i[t])})}];return{content:()=>s,teammateContent:()=>s,defaults:()=>({postUltSpdBuff:!1}),teammateDefaults:()=>({postUltSpdBuff:!1}),precomputeEffects:()=>{},precomputeMutualEffects:(o,c)=>{const r=c.lightConeConditionals;o[n.SPD]+=r.postUltSpdBuff?i[t]:0},finalizeCalculations:()=>{}}},em=t=>{const e=[.24,.3,.36,.42,.48];return{content:()=>[],defaults:()=>({}),precomputeEffects:i=>{ot(i,In,e[t])},finalizeCalculations:()=>{}}},nm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.Fermata"),i=[.16,.2,.24,.28,.32],l=[{lc:!0,id:"enemyShockWindShear",name:"enemyShockWindShear",formItem:"switch",text:e("Content.enemyShockWindShear.text"),title:e("Content.enemyShockWindShear.title"),content:e("Content.enemyShockWindShear.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({enemyShockWindShear:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.enemyShockWindShear?i[t]:0},finalizeCalculations:()=>{}}},am=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),im=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.GeniusesRepose"),i=[.24,.3,.36,.42,.48],l=[{lc:!0,id:"defeatedEnemyCdBuff",name:"defeatedEnemyCdBuff",formItem:"switch",text:e("Content.defeatedEnemyCdBuff.text"),title:e("Content.defeatedEnemyCdBuff.title"),content:e("Content.defeatedEnemyCdBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({defeatedEnemyCdBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.CD]+=c.defeatedEnemyCdBuff?i[t]:0},finalizeCalculations:()=>{}}},sm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.GoodNightAndSleepWell"),i=[.12,.15,.18,.21,.24],l=[{lc:!0,id:"debuffStacksDmgIncrease",name:"debuffStacksDmgIncrease",formItem:"slider",text:e("Content.debuffStacksDmgIncrease.text"),title:e("Content.debuffStacksDmgIncrease.title"),content:e("Content.debuffStacksDmgIncrease.content",{DmgBuff:W.precisionRound(100*i[t])}),min:0,max:3}];return{content:()=>l,defaults:()=>({debuffStacksDmgIncrease:3}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.debuffStacksDmgIncrease*i[t]},finalizeCalculations:()=>{}}},lm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.HeyOverHere"),i=[.16,.19,.22,.25,.28],l=[{lc:!0,id:"postSkillHealBuff",name:"postSkillHealBuff",formItem:"switch",text:e("Content.postSkillHealBuff.text"),title:e("Content.postSkillHealBuff.title"),content:e("Content.postSkillHealBuff.content",{HealingBoost:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({postSkillHealBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.OHB]+=c.postSkillHealBuff?i[t]:0},finalizeCalculations:()=>{}}},om=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.HiddenShadow"),i=[.6,.75,.9,1.05,1.2],l=[{lc:!0,id:"basicAtkBuff",name:"basicAtkBuff",formItem:"switch",text:e("Content.basicAtkBuff.text"),title:e("Content.basicAtkBuff.title"),content:e("Content.basicAtkBuff.content",{MultiplierBonus:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({basicAtkBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.BASIC_SCALING+=c.basicAtkBuff?i[t]:0},finalizeCalculations:()=>{}}},cm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.IncessantRain"),i=[.12,.14,.16,.18,.2],l=[.12,.14,.16,.18,.2],s=[{lc:!0,id:"enemy3DebuffsCrBoost",name:"enemy3DebuffsCrBoost",formItem:"switch",text:e("Content.enemy3DebuffsCrBoost.text"),title:e("Content.enemy3DebuffsCrBoost.title"),content:e("Content.enemy3DebuffsCrBoost.content",{CritBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"targetCodeDebuff",name:"targetCodeDebuff",formItem:"switch",text:e("Content.targetCodeDebuff.text"),title:e("Content.targetCodeDebuff.title"),content:e("Content.targetCodeDebuff.content",{DmgIncrease:W.precisionRound(100*l[t])})}],o=[J(s,"targetCodeDebuff")];return{content:()=>s,teammateContent:()=>o,defaults:()=>({enemy3DebuffsCrBoost:!0,targetCodeDebuff:!0}),teammateDefaults:()=>({targetCodeDebuff:!0}),precomputeEffects:(c,r)=>{const u=r.lightConeConditionals;c[n.CR]+=u.enemy3DebuffsCrBoost?i[t]:0},precomputeMutualEffects:(c,r)=>{const u=r.lightConeConditionals;c.VULNERABILITY+=u.targetCodeDebuff?l[t]:0},finalizeCalculations:()=>{}}},rm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.InTheNameOfTheWorld"),i=[.24,.28,.32,.36,.4],l=[.24,.28,.32,.36,.4],s=[.18,.21,.24,.27,.3],o=[{lc:!0,id:"enemyDebuffedDmgBoost",name:"enemyDebuffedDmgBoost",formItem:"switch",text:e("Content.enemyDebuffedDmgBoost.text"),title:e("Content.enemyDebuffedDmgBoost.title"),content:e("Content.enemyDebuffedDmgBoost.content",{DmgBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"skillAtkBoost",name:"skillAtkBoost",formItem:"switch",text:e("Content.skillAtkBoost.text"),title:e("Content.skillAtkBoost.title"),content:e("Content.skillAtkBoost.content",{EhrBuff:W.precisionRound(100*s[t]),AtkBuff:W.precisionRound(100*l[t])})}];return{content:()=>o,defaults:()=>({enemyDebuffedDmgBoost:!0,skillAtkBoost:!1}),precomputeEffects:(c,r)=>{const u=r.lightConeConditionals;c.ELEMENTAL_DMG+=u.enemyDebuffedDmgBoost?i[t]:0},finalizeCalculations:()=>{}}},dm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.InTheNight"),i=[.06,.07,.08,.09,.1],l=[.12,.14,.16,.18,.2],s=[{lc:!0,id:"spdScalingBuffs",name:"spdScalingBuffs",formItem:"switch",text:e("Content.spdScalingBuffs.text"),title:e("Content.spdScalingBuffs.title"),content:e("Content.spdScalingBuffs.content",{DmgBuff:W.precisionRound(100*i[t]),CritBuff:W.precisionRound(100*l[t])})}];return{content:()=>s,defaults:()=>({spdScalingBuffs:!0}),precomputeEffects:()=>{},finalizeCalculations:(o,c)=>{const r=c.lightConeConditionals,u=Math.max(0,Math.min(6,Math.floor((o[n.SPD]-100)/10)));ot(o,ue|Ot,u*i[t],r.spdScalingBuffs),Vn(o,Mt,u*l[t],r.spdScalingBuffs)},gpuFinalizeCalculations:o=>{const c=o.lightConeConditionals;return`
if (${Re(c.spdScalingBuffs)}) {
  let stacks = max(0, min(6, floor((x.SPD - 100) / 10)));

  buffAbilityDmg(p_x, BASIC_TYPE | SKILL_TYPE, stacks * ${i[t]}, 1);
  buffAbilityCd(p_x, ULT_TYPE, stacks * ${l[t]}, 1);
}
    `}}},um=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.IShallBeMyOwnSword"),i=[.14,.165,.19,.215,.24],l=[.12,.14,.16,.18,.2],s=[{lc:!0,id:"eclipseStacks",name:"eclipseStacks",formItem:"slider",text:e("Content.eclipseStacks.text"),title:e("Content.eclipseStacks.title"),content:e("Content.eclipseStacks.content",{DmgBuff:W.precisionRound(100*i[t])}),min:0,max:3},{lc:!0,id:"maxStackDefPen",name:"maxStackDefPen",formItem:"switch",text:e("Content.maxStackDefPen.text"),title:e("Content.maxStackDefPen.title"),content:e("Content.maxStackDefPen.content",{DefIgnore:W.precisionRound(100*l[t])})}];return{content:()=>s,defaults:()=>({eclipseStacks:3,maxStackDefPen:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o.ELEMENTAL_DMG+=r.eclipseStacks*i[t],o.DEF_PEN+=r.maxStackDefPen&&r.eclipseStacks==3?l[t]:0},finalizeCalculations:()=>{}}},mm=t=>{const e=[.16,.18,.2,.22,.24];return{content:()=>[],defaults:()=>({}),precomputeEffects:i=>{i.DMG_RED_MULTI*=1-e[t]},finalizeCalculations:()=>{}}},bm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.Loop"),i=[.24,.3,.36,.42,.48],l=[{lc:!0,id:"enemySlowedDmgBuff",name:"enemySlowedDmgBuff",formItem:"switch",text:e("Content.enemySlowedDmgBuff.text"),title:e("Content.enemySlowedDmgBuff.title"),content:e("Content.enemySlowedDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({enemySlowedDmgBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.enemySlowedDmgBuff?i[t]:0},finalizeCalculations:()=>{}}},hm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.MakeTheWorldClamor"),i=[.32,.4,.48,.56,.64],l=[20,23,26,29,32],s=[{lc:!0,id:"ultDmgBuff",name:"ultDmgBuff",formItem:"switch",text:e("Content.ultDmgBuff.text"),title:e("Content.ultDmgBuff.title"),content:e("Content.ultDmgBuff.content",{Energy:l[t],DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>s,defaults:()=>({ultDmgBuff:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;ot(o,Mt,i[t],r.ultDmgBuff)},finalizeCalculations:()=>{}}},pm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.Mediation"),i=[12,14,16,18,20],l=[{lc:!0,id:"initialSpdBuff",name:"initialSpdBuff",formItem:"switch",text:e("Content.initialSpdBuff.text"),title:e("Content.initialSpdBuff.title"),content:e("Content.initialSpdBuff.content",{SpdBuff:i[t]})}];return{content:()=>l,teammateContent:()=>l,defaults:()=>({initialSpdBuff:!0}),teammateDefaults:()=>({initialSpdBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.SPD]+=c.initialSpdBuff?i[t]:0},finalizeCalculations:()=>{}}},Rm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Sm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),fm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.MomentOfVictory"),i=[.24,.28,.32,.36,.4],l=[{lc:!0,id:"selfAttackedDefBuff",name:"selfAttackedDefBuff",formItem:"switch",text:e("Content.selfAttackedDefBuff.text"),title:e("Content.selfAttackedDefBuff.title"),content:e("Content.selfAttackedDefBuff.content",{DefBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({selfAttackedDefBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.DEF_P]+=c.selfAttackedDefBuff?i[t]:0},finalizeCalculations:()=>{}}},Gm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Cm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.MutualDemise"),i=[.12,.15,.18,.21,.24],l=[{lc:!0,id:"selfHp80CrBuff",name:"selfHp80CrBuff",formItem:"switch",text:e("Content.selfHp80CrBuff.text"),title:e("Content.selfHp80CrBuff.title"),content:e("Content.selfHp80CrBuff.content",{CritBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({selfHp80CrBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.CR]+=c.selfHp80CrBuff?i[t]:0},finalizeCalculations:()=>{}}},Zm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.NightOfFright"),i=[.024,.028,.032,.036,.04],l=[{lc:!0,id:"atkBuffStacks",name:"atkBuffStacks",formItem:"slider",text:e("Content.atkBuffStacks.text"),title:e("Content.atkBuffStacks.title"),content:e("Content.atkBuffStacks.content",{AtkBuff:W.precisionRound(100*i[t])}),min:0,max:5}];return{content:()=>l,teammateContent:()=>l,defaults:()=>({atkBuffStacks:5}),teammateDefaults:()=>({atkBuffStacks:5}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.ATK_P]+=c.atkBuffStacks*i[t]},finalizeCalculations:()=>{}}},gm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.NightOnTheMilkyWay"),i=[.09,.105,.12,.135,.15],l=[.3,.35,.4,.45,.5],s=[{lc:!0,id:"enemyCountAtkBuff",name:"enemyCountAtkBuff",formItem:"switch",text:e("Content.enemyCountAtkBuff.text"),title:e("Content.enemyCountAtkBuff.title"),content:e("Content.enemyCountAtkBuff.content",{AtkBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"enemyWeaknessBreakDmgBuff",name:"enemyWeaknessBreakDmgBuff",formItem:"switch",text:e("Content.enemyWeaknessBreakDmgBuff.text"),title:e("Content.enemyWeaknessBreakDmgBuff.title"),content:e("Content.enemyWeaknessBreakDmgBuff.content",{DmgBuff:W.precisionRound(100*l[t])})}];return{content:()=>s,defaults:()=>({enemyCountAtkBuff:!0,enemyWeaknessBreakDmgBuff:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[n.ATK_P]+=r.enemyCountAtkBuff?c.enemyCount*i[t]:0,o.ELEMENTAL_DMG+=r.enemyWeaknessBreakDmgBuff?l[t]:0},finalizeCalculations:()=>{}}},Tm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Dm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.OnlySilenceRemains"),i=[.12,.15,.18,.21,.24],l=[{lc:!0,id:"enemies2CrBuff",name:"enemies2CrBuff",formItem:"switch",text:e("Content.enemies2CrBuff.text"),title:e("Content.enemies2CrBuff.title"),content:e("Content.enemies2CrBuff.content",{CritBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({enemies2CrBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.CR]+=c.enemies2CrBuff&&o.enemyCount<=2?i[t]:0},finalizeCalculations:()=>{}}},Vm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.OnTheFallOfAnAeon"),i=[.08,.1,.12,.14,.16],l=[.12,.15,.18,.21,.24],s=[{lc:!0,id:"atkBoostStacks",name:"atkBoostStacks",formItem:"slider",text:e("Content.atkBoostStacks.text"),title:e("Content.atkBoostStacks.title"),content:e("Content.atkBoostStacks.content",{AtkBuff:W.precisionRound(100*i[t])}),min:0,max:4},{lc:!0,id:"weaknessBreakDmgBuff",name:"weaknessBreakDmgBuff",formItem:"switch",text:e("Content.weaknessBreakDmgBuff.text"),title:e("Content.weaknessBreakDmgBuff.title"),content:e("Content.weaknessBreakDmgBuff.content",{DmgBuff:W.precisionRound(100*l[t])})}];return{content:()=>s,defaults:()=>({atkBoostStacks:4,weaknessBreakDmgBuff:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[n.ATK_P]+=r.atkBoostStacks*i[t],o.ELEMENTAL_DMG+=r.weaknessBreakDmgBuff?l[t]:0},finalizeCalculations:()=>{}}},Wm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Im=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.PastAndFuture"),i=[.16,.2,.24,.28,.32],l=[{lc:!0,id:"postSkillDmgBuff",name:"postSkillDmgBuff",formItem:"switch",text:e("Content.postSkillDmgBuff.text"),title:e("Content.postSkillDmgBuff.title"),content:e("Content.postSkillDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>[],teammateContent:()=>l,defaults:()=>({}),teammateDefaults:()=>({postSkillDmgBuff:!0}),precomputeEffects:()=>{},precomputeTeammateEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.postSkillDmgBuff?i[t]:0},finalizeCalculations:()=>{}}},Em=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.PastSelfInTheMirror"),i=[.24,.28,.32,.36,.4],l=[{lc:!0,id:"postUltDmgBuff",name:"postUltDmgBuff",formItem:"switch",text:e("Content.postUltDmgBuff.text"),title:e("Content.postUltDmgBuff.title"),content:e("Content.postUltDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,teammateContent:()=>l,defaults:()=>({postUltDmgBuff:!0}),teammateDefaults:()=>({postUltDmgBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.postUltDmgBuff?i[t]:0},finalizeCalculations:()=>{}}},xm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.PatienceIsAllYouNeed"),i=[.24,.28,.32,.36,.4],l=[.048,.056,.064,.072,.08],s=[.6,.7,.8,.9,1],o=[{lc:!0,id:"spdStacks",name:"spdStacks",formItem:"slider",text:e("Content.spdStacks.text"),title:e("Content.spdStacks.title"),content:e("Content.spdStacks.content",{SpdBuff:W.precisionRound(100*l[t])}),min:0,max:3},{lc:!0,id:"dotEffect",name:"dotEffect",formItem:"switch",text:e("Content.dotEffect.text"),title:e("Content.dotEffect.title"),content:e("Content.dotEffect.content",{Multiplier:W.precisionRound(100*s[t])})}];return{content:()=>o,defaults:()=>({spdStacks:3,dotEffect:!1}),precomputeEffects:(c,r)=>{const u=r.lightConeConditionals;c[n.SPD_P]+=u.spdStacks*l[t],c.ELEMENTAL_DMG+=i[t]},finalizeCalculations:()=>{}}},Lm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.PerfectTiming"),i=[.33,.36,.39,.42,.45],l=[.15,.18,.21,.24,.27],s=[{lc:!0,id:"resToHealingBoost",name:"resToHealingBoost",formItem:"switch",text:e("Content.resToHealingBoost.text"),title:e("Content.resToHealingBoost.title"),content:e("Content.resToHealingBoost.content",{Scaling:W.precisionRound(100*i[t]),Limit:W.precisionRound(100*l[t])})}];return{content:()=>s,defaults:()=>({resToHealingBoost:!0}),precomputeEffects:()=>{},finalizeCalculations:(o,c)=>{},dynamicConditionals:[{id:"PerfectTimingConditional",type:Ft.ABILITY,activation:yt.SINGLE,dependsOn:[n.RES],condition:function(o,c,r){return c.lightConeConditionals.resToHealingBoost},effect:(o,c,r)=>{const u=Math.min(l[t],i[t]*o[n.RES]);Qt(o,c,r,n.OHB,u)},gpu:function(){return Bt(this,`
if (
  (*p_state).PerfectTimingConditional == 0.0
) {
  (*p_state).PerfectTimingConditional = 1.0;
  
  let boost = min(${l[t]}, ${i[t]} * x.RES);
  buffDynamicOHB(boost, p_x, p_state);
}
    `)}}]}},ym=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Mm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.PlanetaryRendezvous"),i=[.12,.15,.18,.21,.24],l=[{lc:!0,id:"alliesSameElement",name:"alliesSameElement",formItem:"switch",text:e("Content.alliesSameElement.text"),title:e("Content.alliesSameElement.title"),content:e("Content.alliesSameElement.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,teammateContent:()=>l,defaults:()=>({alliesSameElement:!0}),teammateDefaults:()=>({alliesSameElement:!0}),precomputeTeammateEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.alliesSameElement?i[t]:0},precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.alliesSameElement?i[t]:0},finalizeCalculations:()=>{}}},Fm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.PostOpConversation"),i=[.12,.15,.18,.21,.24],l=[{lc:!0,id:"postUltHealingBoost",name:"postUltHealingBoost",formItem:"switch",text:e("Content.postUltHealingBoost.text"),title:e("Content.postUltHealingBoost.title"),content:e("Content.postUltHealingBoost.content",{HealingBoost:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({postUltHealingBoost:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.OHB]+=c.postUltHealingBoost?i[t]:0},finalizeCalculations:()=>{}}},Bm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Pm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.ReforgedRemembrance"),i=[.05,.06,.07,.08,.09],l=[.072,.079,.086,.093,.1],s=[{lc:!0,id:"prophetStacks",name:"prophetStacks",formItem:"slider",text:e("Content.prophetStacks.text"),title:e("Content.prophetStacks.title"),content:e("Content.prophetStacks.content",{AtkBuff:W.precisionRound(100*i[t]),DefIgnore:W.precisionRound(100*l[t])}),min:0,max:4}];return{content:()=>s,defaults:()=>({prophetStacks:4}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[n.ATK_P]+=r.prophetStacks*i[t],hn(o,In,r.prophetStacks*l[t])},finalizeCalculations:()=>{}}},km=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.ResolutionShinesAsPearlsOfSweat"),i=[.12,.13,.14,.15,.16],l=[{lc:!0,id:"targetEnsnared",name:"targetEnsnared",formItem:"switch",text:e("Content.targetEnsnared.text"),title:e("Content.targetEnsnared.title"),content:e("Content.targetEnsnared.content",{DefShred:W.precisionRound(100*i[t])})}];return{content:()=>l,teammateContent:()=>l,defaults:()=>({targetEnsnared:!0}),teammateDefaults:()=>({targetEnsnared:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s.DEF_PEN+=c.targetEnsnared?i[t]:0},finalizeCalculations:()=>{}}},Nm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Um=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.RiverFlowsInSpring"),i=[.08,.09,.1,.11,.12],l=[.12,.15,.18,.21,.24],s=[{lc:!0,id:"spdDmgBuff",name:"spdDmgBuff",formItem:"switch",text:e("Content.spdDmgBuff.text"),title:e("Content.spdDmgBuff.title"),content:e("Content.spdDmgBuff.content",{SpdBuff:W.precisionRound(100*i[t]),DmgBuff:W.precisionRound(100*l[t])})}];return{content:()=>s,defaults:()=>({spdDmgBuff:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[n.SPD_P]+=r.spdDmgBuff?i[t]:0,o.ELEMENTAL_DMG+=r.spdDmgBuff?l[t]:0},finalizeCalculations:()=>{}}},Hm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.Sagacity"),i=[.24,.3,.36,.42,.48],l=[{lc:!0,id:"postUltAtkBuff",name:"postUltAtkBuff",formItem:"switch",text:e("Content.postUltAtkBuff.text"),title:e("Content.postUltAtkBuff.title"),content:e("Content.postUltAtkBuff.content",{AtkBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({postUltAtkBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.ATK_P]+=c.postUltAtkBuff?i[t]:0},finalizeCalculations:()=>{}}},Xm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Ym=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.ShatteredHome"),i=[.2,.25,.3,.35,.4],l=[{lc:!0,id:"enemyHp50Buff",name:"enemyHp50Buff",formItem:"switch",text:e("Content.enemyHp50Buff.text"),title:e("Content.enemyHp50Buff.title"),content:e("Content.enemyHp50Buff.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({enemyHp50Buff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.enemyHp50Buff?i[t]:0},finalizeCalculations:()=>{}}},Km=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.SheAlreadyShutHerEyes"),i=[.09,.105,.12,.135,.15],l=[{lc:!0,id:"hpLostDmgBuff",name:"hpLostDmgBuff",formItem:"switch",text:e("Content.hpLostDmgBuff.text"),title:e("Content.hpLostDmgBuff.title"),content:e("Content.hpLostDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,teammateContent:()=>l,defaults:()=>({hpLostDmgBuff:!0}),teammateDefaults:()=>({hpLostDmgBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.hpLostDmgBuff?i[t]:0},finalizeCalculations:()=>{}}},vm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.SleepLikeTheDead"),i=[.36,.42,.48,.54,.6],l=[{lc:!0,id:"missedCritCrBuff",name:"missedCritCrBuff",formItem:"switch",text:e("Content.missedCritCrBuff.text"),title:e("Content.missedCritCrBuff.title"),content:e("Content.missedCritCrBuff.content",{CritBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({missedCritCrBuff:!1}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.CR]+=c.missedCritCrBuff?i[t]:0},finalizeCalculations:()=>{}}},wm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.SolitaryHealing"),i=[.24,.3,.36,.42,.48],l=[{lc:!0,id:"postUltDotDmgBuff",name:"postUltDotDmgBuff",formItem:"switch",text:e("Content.postUltDotDmgBuff.text"),title:e("Content.postUltDotDmgBuff.title"),content:e("Content.postUltDotDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({postUltDotDmgBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,In,i[t],c.postUltDotDmgBuff)},finalizeCalculations:()=>{}}},Am=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.SomethingIrreplaceable"),i=[.24,.28,.32,.36,.4],l=[.08,.09,.1,.11,.12],s=[{lc:!0,id:"dmgBuff",name:"dmgBuff",formItem:"switch",text:e("Content.dmgBuff.text"),title:e("Content.dmgBuff.title"),content:e("Content.dmgBuff.content",{Multiplier:W.precisionRound(100*l[t]),DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>s,defaults:()=>({dmgBuff:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o.ELEMENTAL_DMG+=r.dmgBuff?i[t]:0},finalizeCalculations:()=>{}}},Qm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.SubscribeForMore"),i=[.24,.3,.36,.42,.48],l=[{lc:!0,id:"maxEnergyDmgBoost",name:"maxEnergyDmgBoost",formItem:"switch",text:e("Content.maxEnergyDmgBoost.text"),title:e("Content.maxEnergyDmgBoost.title"),content:e("Content.maxEnergyDmgBoost.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({maxEnergyDmgBoost:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,ue|Ot,i[t]),ot(s,ue|Ot,i[t],c.maxEnergyDmgBoost)},finalizeCalculations:()=>{}}},jm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.Swordplay"),i=[.08,.1,.12,.14,.16],l=[{lc:!0,id:"sameTargetHitStacks",name:"sameTargetHitStacks",formItem:"slider",text:e("Content.sameTargetHitStacks.text"),title:e("Content.sameTargetHitStacks.title"),content:e("Content.sameTargetHitStacks.content",{DmgBuff:W.precisionRound(100*i[t])}),min:0,max:5}];return{content:()=>l,defaults:()=>({sameTargetHitStacks:5}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.sameTargetHitStacks*i[t]},finalizeCalculations:()=>{}}},Jm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.TextureOfMemories"),i=[.12,.15,.18,.21,.24],l=[.16,.2,.24,.28,.32],s=[{lc:!0,id:"activeShieldDmgDecrease",name:"activeShieldDmgDecrease",formItem:"switch",text:e("Content.activeShieldDmgDecrease.text"),title:e("Content.activeShieldDmgDecrease.title"),content:e("Content.activeShieldDmgDecrease.content",{ShieldHp:W.precisionRound(100*l[t]),DmgReduction:W.precisionRound(100*i[t])})}];return{content:()=>s,defaults:()=>({activeShieldDmgDecrease:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o.DMG_RED_MULTI*=r.activeShieldDmgDecrease?1-i[t]:1},finalizeCalculations:()=>{}}},Om=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.TheBirthOfTheSelf"),i=[.24,.3,.36,.42,.48],l=[{lc:!0,id:"enemyHp50FuaBuff",name:"enemyHp50FuaBuff",formItem:"switch",text:e("Content.enemyHp50FuaBuff.text"),title:e("Content.enemyHp50FuaBuff.title"),content:e("Content.enemyHp50FuaBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({enemyHp50FuaBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,Vt,i[t]),ot(s,Vt,i[t],c.enemyHp50FuaBuff)},finalizeCalculations:()=>{}}},zm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.TheMolesWelcomeYou"),i=[.12,.15,.18,.21,.24],l=[{lc:!0,id:"atkBuffStacks",name:"atkBuffStacks",formItem:"slider",text:e("Content.atkBuffStacks.text"),title:e("Content.atkBuffStacks.title"),content:e("Content.atkBuffStacks.content",{AtkBuff:W.precisionRound(100*i[t])}),min:0,max:3}];return{content:()=>l,defaults:()=>({atkBuffStacks:3}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.ATK_P]+=c.atkBuffStacks*i[t]},finalizeCalculations:()=>{}}},_m=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.TheSeriousnessOfBreakfast"),i=[.12,.15,.18,.21,.24],l=[.04,.05,.06,.07,.08],s=[{lc:!0,id:"dmgBoost",name:"dmgBoost",formItem:"switch",text:e("Content.dmgBoost.text"),title:e("Content.dmgBoost.title"),content:e("Content.dmgBoost.content",{DmgBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"defeatedEnemyAtkStacks",name:"defeatedEnemyAtkStacks",formItem:"slider",text:e("Content.defeatedEnemyAtkStacks.text"),title:e("Content.defeatedEnemyAtkStacks.title"),content:e("Content.defeatedEnemyAtkStacks.content",{AtkBuff:W.precisionRound(100*l[t])}),min:0,max:3}];return{content:()=>s,defaults:()=>({dmgBoost:!0,defeatedEnemyAtkStacks:3}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[n.ATK_P]+=r.defeatedEnemyAtkStacks*l[t],o.ELEMENTAL_DMG+=r.dmgBoost?i[t]:0},finalizeCalculations:()=>{}}},qm=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.TheUnreachableSide"),i=[.24,.28,.32,.36,.4],l=[{lc:!0,id:"dmgBuff",name:"dmgBuff",formItem:"switch",text:e("Content.dmgBuff.text"),title:e("Content.dmgBuff.title"),content:e("Content.dmgBuff.content",{DmgBuff:W.precisionRound(i[t]*100)})}];return{content:()=>l,defaults:()=>({dmgBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.dmgBuff?i[t]:0},finalizeCalculations:()=>{}}},$m=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.ThisIsMe"),i=[.6,.75,.9,1.05,1.2],l=[{lc:!0,id:"defScalingUltDmg",name:"defScalingUltDmg",formItem:"switch",text:e("Content.defScalingUltDmg.text"),title:e("Content.defScalingUltDmg.title"),content:e("Content.defScalingUltDmg.content",{Multiplier:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({defScalingUltDmg:!1}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}},tb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.TimeWaitsForNoOne"),i=[.36,.42,.48,.54,.6],l=[{lc:!0,id:"healingBasedDmgProc",name:"healingBasedDmgProc",formItem:"switch",text:e("Content.healingBasedDmgProc.text"),title:e("Content.healingBasedDmgProc.title"),content:e("Content.healingBasedDmgProc.content",{Multiplier:W.precisionRound(i[t]*100)})}];return{content:()=>l,defaults:()=>({healingBasedDmgProc:!1}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}},eb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.TodayIsAnotherPeacefulDay"),i=[.002,.0025,.003,.0035,.004],l=[{lc:!0,id:"maxEnergyStacks",name:"maxEnergyStacks",formItem:"slider",text:e("Content.maxEnergyStacks.text"),title:e("Content.maxEnergyStacks.title"),content:e("Content.maxEnergyStacks.content",{DmgStep:W.precisionRound(100*i[t])}),min:0,max:160}];return{content:()=>l,defaults:()=>({maxEnergyStacks:160}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.maxEnergyStacks*i[t]},finalizeCalculations:()=>{}}},nb=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),ab=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.UnderTheBlueSky"),i=[.12,.15,.18,.21,.24],l=[{lc:!0,id:"defeatedEnemyCrBuff",name:"defeatedEnemyCrBuff",formItem:"switch",text:e("Content.defeatedEnemyCrBuff.text"),title:e("Content.defeatedEnemyCrBuff.title"),content:e("Content.defeatedEnemyCrBuff.content",{CritBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({defeatedEnemyCrBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.CR]+=c.defeatedEnemyCrBuff?i[t]:0},finalizeCalculations:()=>{}}},ib=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.Void"),i=[.2,.25,0,30,.35,.4],l=[{lc:!0,id:"initialEhrBuff",name:"initialEhrBuff",formItem:"switch",text:e("Content.initialEhrBuff.text"),title:e("Content.initialEhrBuff.title"),content:e("Content.initialEhrBuff.content",{EhrBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({initialEhrBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.EHR]+=c.initialEhrBuff?i[t]:0},finalizeCalculations:()=>{}}},sb=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),lb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.WeAreWildfire"),i=[.08,.1,.12,.14,.16],l=[.3,.35,.4,.45,.5],s=[{lc:!0,id:"initialDmgReductionBuff",name:"initialDmgReductionBuff",formItem:"switch",text:e("Content.initialDmgReductionBuff.text"),title:e("Content.initialDmgReductionBuff.title"),content:e("Content.initialDmgReductionBuff.content",{Healing:W.precisionRound(100*l[t]),DmgReduction:i[t]})}];return{content:()=>s,teammateContent:()=>s,defaults:()=>({initialDmgReductionBuff:!0}),teammateDefaults:()=>({initialDmgReductionBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(o,c)=>{const r=c.lightConeConditionals;o.DMG_RED_MULTI*=r.initialDmgReductionBuff?1-i[t]:1},finalizeCalculations:()=>{}}},ob=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.WeWillMeetAgain"),i=[.48,.6,.72,.84,.96],l=[{lc:!0,id:"extraDmgProc",name:"extraDmgProc",formItem:"switch",text:e("Content.extraDmgProc.text"),title:e("Content.extraDmgProc.title"),content:e("Content.extraDmgProc.content",{Multiplier:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({extraDmgProc:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.BASIC_SCALING+=c.extraDmgProc?i[t]:0,s.SKILL_SCALING+=c.extraDmgProc?i[t]:0},finalizeCalculations:()=>{}}},cb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.WoofWalkTime"),i=[.16,.2,.24,.28,.32],l=[{lc:!0,id:"atkBoost",name:"atkBoost",formItem:"switch",text:e("Content.atkBoost.text"),title:e("Content.atkBoost.title"),content:e("Content.atkBoost.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({enemyBurnedBleeding:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.enemyBurnedBleeding?i[t]:0},finalizeCalculations:()=>{}}},rb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.WorrisomeBlissful"),i=[.3,.35,.4,.45,.5],l=[.12,.14,.16,.18,.2],s=[{lc:!0,id:"targetTameStacks",name:"targetTameStacks",formItem:"slider",text:e("Content.targetTameStacks.text"),title:e("Content.targetTameStacks.title"),content:e("Content.targetTameStacks.content",{CritBuff:W.precisionRound(100*l[t])}),min:0,max:2}];return{content:()=>s,teammateContent:()=>s,defaults:()=>({targetTameStacks:2}),teammateDefaults:()=>({targetTameStacks:2}),precomputeEffects:(o,c)=>{ot(o,Vt,i[t])},precomputeMutualEffects:(o,c)=>{const r=c.lightConeConditionals;o[n.CD]+=r.targetTameStacks*l[t]},finalizeCalculations:()=>{}}},db=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),ub=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.DreamvilleAdventure"),i=[.12,.14,.16,.18,.2],l=[{lc:!0,id:"ultDmgBuff",name:"ultDmgBuff",formItem:"switch",text:e("Content.ultDmgBuff.text"),title:e("Content.ultDmgBuff.title"),content:e("Content.ultDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"skillDmgBuff",name:"skillDmgBuff",formItem:"switch",text:e("Content.skillDmgBuff.text"),title:e("Content.skillDmgBuff.title"),content:e("Content.skillDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"basicDmgBuff",name:"basicDmgBuff",formItem:"switch",text:e("Content.basicDmgBuff.text"),title:e("Content.basicDmgBuff.title"),content:e("Content.basicDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,teammateContent:()=>l,defaults:()=>({ultDmgBuff:!0,skillDmgBuff:!1,basicDmgBuff:!1}),teammateDefaults:()=>({ultDmgBuff:!0,skillDmgBuff:!1,basicDmgBuff:!1}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,ue,i[t],c.basicDmgBuff),ot(s,Ot,i[t],c.skillDmgBuff),ot(s,Mt,i[t],c.ultDmgBuff)},finalizeCalculations:()=>{}}},mb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.FinalVictor"),i=[.08,.09,.1,.11,.12],l=[{lc:!0,id:"goodFortuneStacks",name:"goodFortuneStacks",formItem:"slider",text:e("Content.goodFortuneStacks.text"),title:e("Content.goodFortuneStacks.title"),content:e("Content.goodFortuneStacks.content",{CritBuff:W.precisionRound(100*i[t])}),min:0,max:4}];return{content:()=>l,defaults:()=>({goodFortuneStacks:4}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.CD]+=c.goodFortuneStacks*i[t]},finalizeCalculations:()=>{}}},bb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.FlamesAfar"),i=[.25,.3125,.375,.4375,.5],l=[{lc:!0,id:"dmgBuff",name:"dmgBuff",formItem:"switch",text:e("Content.dmgBuff.text"),title:e("Content.dmgBuff.title"),content:e("Content.dmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({dmgBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.dmgBuff?i[t]:0},finalizeCalculations:()=>{}}},hb=t=>{const e=[.008,.009,.01,.011,.012],i=[.32,.36,.4,.44,.48];return{content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:(l,s)=>{l.ELEMENTAL_DMG+=Math.min(i[t],Math.floor(l[n.DEF]/100)*e[t])},gpuFinalizeCalculations:()=>`
x.ELEMENTAL_DMG += min(${i[t]}, floor(x.DEF / 100) * ${e[t]});
      `}},pb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.TheDayTheCosmosFell"),i=[.2,.25,.3,.35,.4],l=[{lc:!0,id:"cdBuffActive",name:"cdBuffActive",formItem:"switch",text:e("Content.cdBuffActive.text"),title:e("Content.cdBuffActive.title"),content:e("Content.cdBuffActive.content",{CritBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({cdBuffActive:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.CD]+=c.cdBuffActive?i[t]:0},finalizeCalculations:()=>{}}},Rb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.ItsShowtime"),i=[.06,.07,.08,.09,.1],l=[.2,.24,.28,.32,.36],s=[{lc:!0,id:"trickStacks",name:"trickStacks",formItem:"slider",text:e("Content.trickStacks.text"),title:e("Content.trickStacks.title"),content:e("Content.trickStacks.content",{DmgBuff:W.precisionRound(100*i[t]),AtkBuff:W.precisionRound(100*l[t])}),min:0,max:3}];return{content:()=>s,defaults:()=>({trickStacks:3}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o.ELEMENTAL_DMG+=r.trickStacks*i[t]},finalizeCalculations:()=>{},dynamicConditionals:[{id:"ItsShowtimeConversionConditional",type:Ft.ABILITY,activation:yt.CONTINUOUS,dependsOn:[n.EHR],condition:function(o,c,r){return o[n.EHR]>=.8},effect:function(o,c,r){c.characterConditionals;const u=r.conditionalState[this.id]||0,R=l[t]*c.baseAtk;r.conditionalState[this.id]=R,Qt(o,c,r,n.ATK,R-u)},gpu:function(o,c){return Bt(this,`
if (x.EHR < 0.80) {
  return;
}

let stateValue: f32 = (*p_state).ItsShowtimeConversionConditional;
let buffValue: f32 = ${l[t]};

(*p_state).ItsShowtimeConversionConditional = buffValue;
buffDynamicATK_P(buffValue - stateValue, p_x, p_state);
    `)}}]}},Sb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.IndeliblePromise"),i=[.15,.1875,.225,.2625,.3],l=[{lc:!0,id:"crBuff",name:"crBuff",formItem:"switch",text:e("Content.crBuff.text"),title:e("Content.crBuff.title"),content:e("Content.crBuff.content",{BreakBuff:W.precisionRound(100*(.21+.7*t)),CritBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({crBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.CR]+=c.crBuff?i[t]:0},finalizeCalculations:()=>{}}},fb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.InherentlyUnjustDestiny"),i=[.4,.46,.52,.58,.64],l=[.1,.115,.13,.145,.16],s=[{lc:!0,id:"shieldCdBuff",name:"shieldCdBuff",formItem:"switch",text:e("Content.shieldCdBuff.text"),title:e("Content.shieldCdBuff.title"),content:e("Content.shieldCdBuff.content",{CritBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"targetVulnerability",name:"targetVulnerability",formItem:"switch",text:e("Content.targetVulnerability.text"),title:e("Content.targetVulnerability.title"),content:e("Content.targetVulnerability.content",{Vulnerability:W.precisionRound(100*l[t])})}],o=[J(s,"targetVulnerability")];return{content:()=>s,teammateContent:()=>o,defaults:()=>({shieldCdBuff:!0,targetVulnerability:!0}),teammateDefaults:()=>({targetVulnerability:!0}),precomputeEffects:(c,r)=>{const u=r.lightConeConditionals;c[n.CD]+=u.shieldCdBuff?i[t]:0},precomputeMutualEffects:(c,r)=>{const u=r.lightConeConditionals;c.VULNERABILITY+=u.targetVulnerability?l[t]:0},finalizeCalculations:()=>{}}},Gb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.AlongThePassingShore"),i=[.24,.28,.32,.36,.4],l=[.24,.28,.32,.36,.4],s=[{lc:!0,id:"emptyBubblesDebuff",name:"emptyBubblesDebuff",formItem:"switch",text:e("Content.emptyBubblesDebuff.text"),title:e("Content.emptyBubblesDebuff.title"),content:e("Content.emptyBubblesDebuff.content",{UltDmgBoost:W.precisionRound(100*l[t]),DmgBoost:W.precisionRound(100*i[t])})}];return{content:()=>s,defaults:()=>({emptyBubblesDebuff:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o.ELEMENTAL_DMG+=r.emptyBubblesDebuff?i[t]:0,ot(o,Mt,l[t],r.emptyBubblesDebuff)},finalizeCalculations:()=>{}}},Cb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.ConcertForTwo"),i=[.04,.05,.06,.07,.08],l=[{lc:!0,id:"teammateShieldStacks",name:"teammateShieldStacks",formItem:"slider",text:e("Content.teammateShieldStacks.text"),title:e("Content.teammateShieldStacks.title"),content:e("Content.teammateShieldStacks.content",{DmgBuff:W.precisionRound(100*i[t])}),min:0,max:4}];return{content:()=>l,defaults:()=>({teammateShieldStacks:4}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.teammateShieldStacks*i[t]},finalizeCalculations:()=>{}}},Zb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.BoundlessChoreo"),i=[.24,.3,.36,.42,.48],l=[{lc:!0,id:"enemyDefReducedSlowed",name:"enemyDefReducedSlowed",formItem:"switch",text:e("Content.enemyDefReducedSlowed.text"),title:e("Content.enemyDefReducedSlowed.title"),content:e("Content.enemyDefReducedSlowed.content",{CritBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({enemyDefReducedSlowed:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.CD]+=c.enemyDefReducedSlowed?i[t]:0},finalizeCalculations:()=>{}}},gb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.ForTomorrowsJourney"),i=[.18,.21,.24,.27,.3],l=[{lc:!0,id:"ultDmgBuff",name:"ultDmgBuff",formItem:"switch",text:e("Content.ultDmgBuff.text"),title:e("Content.ultDmgBuff.title"),content:e("Content.ultDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({ultDmgBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.ultDmgBuff?i[t]:0},finalizeCalculations:()=>{}}},Tb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.FlowingNightglow"),i=[.03,.035,.04,.045,.05],l=[.48,.6,.72,.84,.96],s=[.24,.28,.32,.36,.4],o=[{lc:!0,id:"cadenzaActive",name:"cadenzaActive",formItem:"switch",text:e("Content.cadenzaActive.text"),title:e("Content.cadenzaActive.title"),content:e("Content.cadenzaActive.content",{RegenBuff:W.precisionRound(100*i[t]),AtkBuff:W.precisionRound(100*l[t]),DmgBuff:W.precisionRound(100*s[t])})},{lc:!0,id:"cantillationStacks",name:"cantillationStacks",formItem:"slider",text:e("Content.cantillationStacks.text"),title:e("Content.cantillationStacks.title"),content:e("Content.cantillationStacks.content",{RegenBuff:W.precisionRound(100*i[t]),AtkBuff:W.precisionRound(100*l[t]),DmgBuff:W.precisionRound(100*s[t])}),min:0,max:5}];return{content:()=>o,teammateContent:()=>[J(o,"cadenzaActive")],defaults:()=>({cantillationStacks:5,cadenzaActive:!0}),teammateDefaults:()=>({cadenzaActive:!0}),precomputeTeammateEffects:(c,r)=>{const u=r.lightConeConditionals;c.ELEMENTAL_DMG+=u.cadenzaActive?s[t]:0},precomputeEffects:(c,r)=>{const u=r.lightConeConditionals;c[n.ERR]+=u.cantillationStacks*i[t],c[n.ATK_P]+=u.cadenzaActive?l[t]:0},finalizeCalculations:()=>{}}},Db=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.SailingTowardsASecondLife"),i=[.12,.14,.16,.18,.2],l=[.2,.23,.26,.29,.32],s=[{lc:!0,id:"breakDmgDefShred",name:"breakDmgDefShred",formItem:"switch",text:e("Content.breakDmgDefShred.text"),title:e("Content.breakDmgDefShred.title"),content:e("Content.breakDmgDefShred.content",{DefIgnore:W.precisionRound(100*l[t])})},{lc:!0,id:"spdBuffConditional",name:"spdBuffConditional",formItem:"switch",text:e("Content.spdBuffConditional.text"),title:e("Content.spdBuffConditional.title"),content:e("Content.spdBuffConditional.content",{SpdBuff:W.precisionRound(100*i[t])})}];return{content:()=>s,defaults:()=>({breakDmgDefShred:!0,spdBuffConditional:!0}),precomputeEffects:(o,c)=>{const r=c.characterConditionals;hn(o,wa,l[t],r.breakDmgDefShred)},finalizeCalculations:(o,c)=>{},dynamicConditionals:[{id:"SailingTowardsASecondLifeConditional",type:Ft.ABILITY,activation:yt.SINGLE,dependsOn:[n.BE],condition:function(o,c,r){return c.lightConeConditionals.spdBuffConditional&&o[n.BE]>=1.5},effect:(o,c,r)=>{Qt(o,c,r,n.SPD,i[t]*c.baseSpd)},gpu:function(){return Bt(this,`
if (
  (*p_state).SailingTowardsASecondLifeConditional == 0.0 &&
  (*p_x).BE >= 1.50
) {
  (*p_state).SailingTowardsASecondLifeConditional = 1.0;
  buffDynamicSPD_P(${i[t]}, p_x, p_state);
}
    `)}}]}},Vb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.AfterTheCharmonyFall"),i=[.08,.1,.12,.14,.16],l=[{lc:!0,id:"spdBuff",name:"spdBuff",formItem:"switch",text:e("Content.spdBuff.text"),title:e("Content.spdBuff.title"),content:e("Content.spdBuff.content",{SpdBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({spdBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.SPD_P]+=c.spdBuff?i[t]:0},finalizeCalculations:()=>{}}},Wb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.WhereaboutsShouldDreamsRest"),i=[.24,.28,.32,.36,.4],l=[{lc:!0,id:"routedVulnerability",name:"routedVulnerability",formItem:"switch",text:e("Content.routedVulnerability.text"),title:e("Content.routedVulnerability.title"),content:e("Content.routedVulnerability.content",{Vulnerability:i[t]*100})}];return{content:()=>l,defaults:()=>({routedVulnerability:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.VULNERABILITY+=c.routedVulnerability?i[t]:0},finalizeCalculations:()=>{}}},Ib=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.YetHopeIsPriceless"),i=[.12,.14,.16,.18,.2],l=[.2,.24,.28,.32,.36],s=[{lc:!0,id:"fuaDmgBoost",name:"fuaDmgBoost",formItem:"switch",text:e("Content.fuaDmgBoost.text"),title:e("Content.fuaDmgBoost.title"),content:e("Content.fuaDmgBoost.content",{DmgBuff:W.precisionRound(i[t]*100)})},{lc:!0,id:"ultFuaDefShred",name:"ultFuaDefShred",formItem:"switch",text:e("Content.ultFuaDefShred.text"),title:e("Content.ultFuaDefShred.title"),content:e("Content.ultFuaDefShred.content",{DefShred:W.precisionRound(i[t]*100)})}];return{content:()=>s,defaults:()=>({fuaDmgBoost:!0,ultFuaDefShred:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;hn(o,Mt|Vt,l[t],r.ultFuaDefShred)},finalizeCalculations:(o,c)=>{const r=c.lightConeConditionals;ot(o,Vt,i[t]*Math.min(4,Math.floor(o[n.CD]-1.2)/.2),r.fuaDmgBoost)},gpuFinalizeCalculations:o=>{const c=o.lightConeConditionals;return`
if (${Re(c.fuaDmgBoost)}) {
  buffAbilityDmg(p_x, FUA_TYPE, ${i[t]} * min(4, floor(x.CD - 1.20) / 0.20), 1);
}
    `}}},Eb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.EternalCalculus"),i=[.04,.05,.06,.07,.08],l=[.08,.1,.12,.14,.16],s=[{lc:!0,id:"atkBuffStacks",name:"atkBuffStacks",formItem:"slider",text:e("Content.atkBuffStacks.text"),title:e("Content.atkBuffStacks.title"),content:e("Content.atkBuffStacks.content",{AtkBuff:W.precisionRound(100*i[t])}),min:0,max:5},{lc:!0,id:"spdBuff",name:"spdBuff",formItem:"switch",text:e("Content.spdBuff.text"),title:e("Content.spdBuff.title"),content:e("Content.spdBuff.content",{SpdBuff:W.precisionRound(100*l[t])})}];return{content:()=>s,defaults:()=>({atkBuffStacks:5,spdBuff:!1}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[n.ATK_P]+=r.atkBuffStacks*i[t],o[n.SPD_P]+=r.spdBuff?l[t]:0},finalizeCalculations:()=>{}}},xb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.PoisedToBloom"),i=[.16,.2,.24,.28,.32],l=[{lc:!0,id:"cdBuff",name:"cdBuff",formItem:"switch",text:e("Content.cdBuff.text"),title:e("Content.cdBuff.title"),content:e("Content.cdBuff.content",{CritBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,teammateContent:()=>l,defaults:()=>({cdBuff:!0}),teammateDefaults:()=>({cdBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.CD]+=c.cdBuff?i[t]:0},finalizeCalculations:()=>{}}},Lb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.ThoseManySprings"),i=[.1,.12,.14,.16,.18],l=[.14,.16,.18,.2,.22],s=[{lc:!0,id:"unarmoredVulnerability",name:"unarmoredVulnerability",formItem:"switch",text:e("Content.unarmoredVulnerability.text"),title:e("Content.unarmoredVulnerability.title"),content:e("Content.unarmoredVulnerability.content",{UnarmoredVulnerability:W.precisionRound(i[t]*100),CorneredVulnerability:W.precisionRound(l[t]*100)})},{lc:!0,id:"corneredVulnerability",name:"corneredVulnerability",formItem:"switch",text:e("Content.corneredVulnerability.text"),title:e("Content.corneredVulnerability.title"),content:e("Content.corneredVulnerability.content",{UnarmoredVulnerability:W.precisionRound(i[t]*100),CorneredVulnerability:W.precisionRound(l[t]*100)})}];return{content:()=>s,teammateContent:()=>s,defaults:()=>({unarmoredVulnerability:!0,corneredVulnerability:!0}),teammateDefaults:()=>({unarmoredVulnerability:!0,corneredVulnerability:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(o,c)=>{const r=c.lightConeConditionals;o.VULNERABILITY+=r.unarmoredVulnerability||r.corneredVulnerability?i[t]:0,o.VULNERABILITY+=r.corneredVulnerability?l[t]:0},finalizeCalculations:()=>{}}},yb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.DanceAtSunset"),i=[.36,.42,.48,.54,.6],l=[{lc:!0,id:"fuaDmgStacks",name:"fuaDmgStacks",formItem:"slider",text:e("Content.fuaDmgStacks.text"),title:e("Content.fuaDmgStacks.title"),content:e("Content.fuaDmgStacks.content",{DmgBoost:W.precisionRound(100*i[t])}),min:0,max:2}];return{content:()=>l,defaults:()=>({fuaDmgStacks:2}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,Vt,c.fuaDmgStacks*i[t])},finalizeCalculations:()=>{}}},Mb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.ScentAloneStaysTrue"),i=[.1,.12,.14,.16,.18],l=[.08,.1,.12,.14,.16],s=[{lc:!0,id:"woefreeState",name:"woefreeState",formItem:"switch",text:e("Content.woefreeState.text"),title:e("Content.woefreeState.title"),content:e("Content.woefreeState.content",{Vulnerability:W.precisionRound(100*i[t]),AdditionalVulnerability:W.precisionRound(100*l[t])})}],o=[J(s,"woefreeState"),{lc:!0,id:"additionalVulnerability",name:"additionalVulnerability",formItem:"switch",text:e("TeammateContent.additionalVulnerability.text"),title:e("TeammateContent.additionalVulnerability.title"),content:e("TeammateContent.additionalVulnerability.content",{Vulnerability:W.precisionRound(100*i[t]),AdditionalVulnerability:W.precisionRound(100*l[t])})}];return{content:()=>s,teammateContent:()=>o,defaults:()=>({woefreeState:!0}),teammateDefaults:()=>({woefreeState:!0,additionalVulnerability:!0}),precomputeEffects:(c,r)=>{},precomputeMutualEffects:(c,r)=>{const u=r.lightConeConditionals;c.VULNERABILITY+=u.woefreeState?i[t]:0},precomputeTeammateEffects:(c,r)=>{const u=r.lightConeConditionals;c.VULNERABILITY+=u.woefreeState&&u.additionalVulnerability?l[t]:0},finalizeCalculations:(c,r)=>{const u=r.lightConeConditionals;c.VULNERABILITY+=u.woefreeState&&c[n.BE]>=1.5?l[t]:0},gpuFinalizeCalculations:c=>{const r=c.lightConeConditionals;return`
if (${Re(r.woefreeState)} && x.BE >= 1.50) {
  x.VULNERABILITY += ${l[t]};
}
      `}}},Fb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.IVentureForthToHunt"),i=[.27,.3,.33,.36,.39],l=[{lc:!0,formItem:"slider",id:"luminfluxUltStacks",name:"luminfluxUltStacks",text:e("Content.luminfluxUltStacks.text"),title:e("Content.luminfluxUltStacks.title"),content:e("Content.luminfluxUltStacks.content",{DefIgnore:W.precisionRound(100*i[t])}),min:0,max:2}];return{content:()=>l,defaults:()=>({luminfluxUltStacks:2}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;hn(s,Mt,c.luminfluxUltStacks*i[t])},finalizeCalculations:()=>{}}},Bb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.ShadowedByNight"),i=[.08,.09,.1,.11,.12],l=[{lc:!0,id:"spdBuff",name:"spdBuff",formItem:"switch",text:e("Content.spdBuff.text"),title:e("Content.spdBuff.title"),content:e("Content.spdBuff.content",{SpdBuff:W.precisionRound(100*i[t])})}];return{content:()=>l,defaults:()=>({spdBuff:!1}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.SPD_P]+=c.spdBuff?i[t]:0},finalizeCalculations:()=>{}}},Pb=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),kb=t=>{const e=V.getFixedT(null,"conditionals","Lightcones.NinjaRecordSoundHunt"),i=[.18,.225,.27,.315,.36],l=[{lc:!0,id:"cdBuff",name:"cdBuff",formItem:"switch",text:e("Content.cdBuff.text"),title:e("Content.cdBuff.title"),content:V.t("BetaMessage",{ns:"conditionals",Version:je})}];return{content:()=>l,defaults:()=>({cdBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[n.CD]+=c.cdBuff?i[t]:0},finalizeCalculations:()=>{}}},Nb=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Ub={23e3:gm,23001:dm,23002:Am,23003:Ku,23004:rm,23005:fm,23006:xm,23007:cm,23008:tm,23009:qm,23010:Hu,23011:Km,23012:vm,23013:tb,23014:um,23015:Yu,23016:rb,23017:Zm,23018:Pu,23019:Em,23020:Uu,23021:$u,23022:Pm,23023:fb,23024:Gb,23025:Wb,23026:Tb,23027:Db,23028:Ib,23029:Lb,23030:yb,23031:Fb,23032:Mb,23033:Pb,24e3:Vm,24001:ju,24002:Jm,24003:wm,24004:Eb},Hb={21e3:Fm,21001:sm,21002:_u,21003:Dm,21004:Rm,21005:zm,21006:Om,21007:Xm,21008:em,21009:mm,21010:jm,21011:Mm,21012:Nu,21013:hm,21014:Lm,21015:km,21016:nb,21017:Qm,21018:Ju,21019:ab,21020:im,21021:Bm,21022:nm,21023:lb,21024:Um,21025:Im,21026:cb,21027:_m,21028:sb,21029:ob,21030:$m,21031:Nm,21032:vu,21033:Tm,21034:eb,21035:db,21036:ub,21037:mb,21038:bb,21039:hb,21040:pb,21041:Rb,21042:Sb,21043:Cb,21044:Zb,21045:Vb,21046:xb,21047:Bb,21048:Nb,22e3:Xu,22001:lm,22002:gb,22003:kb},Xb={2e4:ku,20001:Qu,20002:Au,20003:Bu,20004:ib,20005:wu,20006:zu,20007:Ou,20008:am,20009:Ym,20010:qu,20011:bm,20012:Sm,20013:Wm,20014:Fu,20015:Gm,20016:Cm,20017:ym,20018:om,20019:pm,20020:Hm},$s={...Ub,...Hb,...Xb},bn={get:t=>{const e=$s[t.lightCone];return e?e(t.lightConeSuperimposition-1):{content:()=>[],teammateContent:()=>[],defaults:()=>({}),teammateDefaults:()=>({})}}};function is(t,e){var c,r,u,R,h,S,m,b;const i=En.get(t),l=bn.get(t);t.characterConditionals||(t.characterConditionals=i.defaults()),t.lightConeConditionals||(t.lightConeConditionals=l.defaults());const s=Object.assign({},Rd);(c=l.initializeConfigurations)==null||c.call(l,s,t),(r=i.initializeConfigurations)==null||r.call(i,s,t);const o=[t.teammate0,t.teammate1,t.teammate2].filter(p=>!!p&&!!p.characterId);for(let p=0;p<o.length;p++){const C=Object.assign({},t,o[p]),G=En.get(C),g=bn.get(C);(u=G.initializeTeammateConfigurations)==null||u.call(G,s,C),(R=g.initializeTeammateConfigurations)==null||R.call(g,s,C)}return(h=l.precomputeEffects)==null||h.call(l,s,t),(S=i.precomputeEffects)==null||S.call(i,s,t),(m=l.precomputeMutualEffects)==null||m.call(l,s,t),(b=i.precomputeMutualEffects)==null||b.call(i,s,t),s.ENEMY_WEAKNESS_BROKEN=s.ENEMY_WEAKNESS_BROKEN||(t.enemyWeaknessBroken?1:0),e.precomputedX=s,s}function pl(t,e){const i=En.get(t),l=bn.get(t),s=Yb();Ds(s,l.dynamicConditionals??[]),Ds(s,i.dynamicConditionals??[]),Ds(s,gd||[]),e.conditionalRegistry=s,e.conditionalState={}}function Yb(){return{[n.HP]:[],[n.ATK]:[],[n.DEF]:[],[n.SPD]:[],[n.CR]:[],[n.CD]:[],[n.EHR]:[],[n.RES]:[],[n.BE]:[],[n.OHB]:[],[n.ERR]:[]}}function Ds(t,e){for(const i of e)for(const l of i.dependsOn)t[l].push(i)}function ss(t){const e={};return Kb(t,e),vb(t,e),wb(t,e),Ab(t,e),is(t,e),e}function Kb(t,e){const i=y.getMetadata().lightCones[t.lightCone],l=(i==null?void 0:i.stats)||pd(),s=(i==null?void 0:i.superimpositions[t.lightConeSuperimposition])||1,o=y.getMetadata().characters[t.characterId],c=o.stats;e.element=o.element;const r={base:{...xa.getZeroes(),...c},traces:{...xa.getZeroes(),...o.traces},lightCone:{...xa.getZeroes(),...l,...s}};e.character=r;const u=Zi(n.HP,r.base,r.lightCone),R=Zi(n.ATK,r.base,r.lightCone),h=Zi(n.DEF,r.base,r.lightCone),S=Zi(n.SPD,r.base,r.lightCone);t.baseHp=u,t.baseAtk=R,t.baseDef=h,t.baseSpd=S,e.baseHP=u,e.baseATK=R,e.baseDEF=h,e.baseSPD=S}function vb(t,e){const i=t.setConditionals??ka;for(const l of Object.values(d.Sets))i[l]||(i[l]=ka[l]);e.enabledHunterOfGlacialForest=i[d.Sets.HunterOfGlacialForest][1]==!0?1:0,e.enabledFiresmithOfLavaForging=i[d.Sets.FiresmithOfLavaForging][1]==!0?1:0,e.enabledGeniusOfBrilliantStars=i[d.Sets.GeniusOfBrilliantStars][1]==!0?1:0,e.enabledBandOfSizzlingThunder=i[d.Sets.BandOfSizzlingThunder][1]==!0?1:0,e.enabledMessengerTraversingHackerspace=i[d.Sets.MessengerTraversingHackerspace][1]==!0?1:0,e.enabledCelestialDifferentiator=i[d.Sets.CelestialDifferentiator][1]==!0?1:0,e.enabledWatchmakerMasterOfDreamMachinations=i[d.Sets.WatchmakerMasterOfDreamMachinations][1]==!0?1:0,e.enabledIzumoGenseiAndTakamaDivineRealm=i[d.Sets.IzumoGenseiAndTakamaDivineRealm][1]==!0?1:0,e.enabledForgeOfTheKalpagniLantern=i[d.Sets.ForgeOfTheKalpagniLantern][1]==!0?1:0,e.enabledTheWindSoaringValorous=i[d.Sets.TheWindSoaringValorous][1]==!0?1:0,e.enabledTheWondrousBananAmusementPark=i[d.Sets.TheWondrousBananAmusementPark][1]==!0?1:0,e.enabledScholarLostInErudition=i[d.Sets.ScholarLostInErudition][1]==!0?1:0,e.valueChampionOfStreetwiseBoxing=i[d.Sets.ChampionOfStreetwiseBoxing][1]||0,e.valueWastelanderOfBanditryDesert=i[d.Sets.WastelanderOfBanditryDesert][1]||0,e.valueLongevousDisciple=i[d.Sets.LongevousDisciple][1]||0,e.valueTheAshblazingGrandDuke=i[d.Sets.TheAshblazingGrandDuke][1]||0,e.valuePrisonerInDeepConfinement=i[d.Sets.PrisonerInDeepConfinement][1]||0,e.valuePioneerDiverOfDeadWaters=i[d.Sets.PioneerDiverOfDeadWaters][1]||0,e.valueSigoniaTheUnclaimedDesolation=i[d.Sets.SigoniaTheUnclaimedDesolation][1]||0,e.valueDuranDynastyOfRunningWolves=i[d.Sets.DuranDynastyOfRunningWolves][1]||0}function wb(t,e){e.brokenMultiplier=t.enemyWeaknessBroken?1:.9,e.resistance=(t.enemyElementalWeak?0:t.enemyResistance)-t.combatBuffs.RES_PEN}function Ab(t,e){const i=va[e.element];e.ELEMENTAL_DMG_TYPE=i,e.RES_PEN_TYPE=zr[e.element],e.ELEMENTAL_BREAK_SCALING={[n.Physical_DMG]:2,[n.Fire_DMG]:2,[n.Ice_DMG]:1,[n.Lightning_DMG]:1,[n.Wind_DMG]:1.5,[n.Quantum_DMG]:.5,[n.Imaginary_DMG]:.5}[i],t.PRIMARY_ELEMENTAL_DMG_TYPE=i}function Zi(t,e,i){return e[t]+i[t]}function Rl(t,e){const i=e.precomputedX,l={},s=[t.teammate0,t.teammate1,t.teammate2].filter(o=>!!o&&!!o.characterId);for(let o=0;o<s.length;o++){s[o].lightCone=s[o].lightCone||null;const c=Object.assign({},t,s[o]),r=En.get(c),u=bn.get(c);switch(r.precomputeMutualEffects&&r.precomputeMutualEffects(i,c),r.precomputeTeammateEffects&&r.precomputeTeammateEffects(i,c),u.precomputeMutualEffects&&u.precomputeMutualEffects(i,c),u.precomputeTeammateEffects&&u.precomputeTeammateEffects(i,c),c.teamOrnamentSet){case M.BrokenKeel:i[n.CD]+=.1;break;case M.FleetOfTheAgeless:i[n.ATK_P]+=.08;break;case M.PenaconyLandOfTheDreams:if(c.ELEMENTAL_DMG_TYPE!=e.ELEMENTAL_DMG_TYPE)break;i.ELEMENTAL_DMG+=.1;break;case M.LushakaTheSunkenSeas:i[n.ATK_P]+=.12;break}switch(c.teamRelicSet){case M.MessengerTraversingHackerspace:if(l[M.MessengerTraversingHackerspace])break;i[n.SPD_P]+=.12;break;case M.WatchmakerMasterOfDreamMachinations:if(l[M.WatchmakerMasterOfDreamMachinations])break;i[n.BE]+=.3;break;case ul:i[n.CD]+=.18;break;case ml:i[n.CD]+=.36;break}l[c.teamOrnamentSet]=!0,l[c.teamRelicSet]=!0}}function Qb(t,e,i,l,s,o,c){return t.x.sets={PasserbyOfWanderingCloud:(1>>(e^0))+(1>>(i^0))+(1>>(l^0))+(1>>(s^0)),MusketeerOfWildWheat:(1>>(e^1))+(1>>(i^1))+(1>>(l^1))+(1>>(s^1)),KnightOfPurityPalace:(1>>(e^2))+(1>>(i^2))+(1>>(l^2))+(1>>(s^2)),HunterOfGlacialForest:(1>>(e^3))+(1>>(i^3))+(1>>(l^3))+(1>>(s^3)),ChampionOfStreetwiseBoxing:(1>>(e^4))+(1>>(i^4))+(1>>(l^4))+(1>>(s^4)),GuardOfWutheringSnow:(1>>(e^5))+(1>>(i^5))+(1>>(l^5))+(1>>(s^5)),FiresmithOfLavaForging:(1>>(e^6))+(1>>(i^6))+(1>>(l^6))+(1>>(s^6)),GeniusOfBrilliantStars:(1>>(e^7))+(1>>(i^7))+(1>>(l^7))+(1>>(s^7)),BandOfSizzlingThunder:(1>>(e^8))+(1>>(i^8))+(1>>(l^8))+(1>>(s^8)),EagleOfTwilightLine:(1>>(e^9))+(1>>(i^9))+(1>>(l^9))+(1>>(s^9)),ThiefOfShootingMeteor:(1>>(e^10))+(1>>(i^10))+(1>>(l^10))+(1>>(s^10)),WastelanderOfBanditryDesert:(1>>(e^11))+(1>>(i^11))+(1>>(l^11))+(1>>(s^11)),LongevousDisciple:(1>>(e^12))+(1>>(i^12))+(1>>(l^12))+(1>>(s^12)),MessengerTraversingHackerspace:(1>>(e^13))+(1>>(i^13))+(1>>(l^13))+(1>>(s^13)),TheAshblazingGrandDuke:(1>>(e^14))+(1>>(i^14))+(1>>(l^14))+(1>>(s^14)),PrisonerInDeepConfinement:(1>>(e^15))+(1>>(i^15))+(1>>(l^15))+(1>>(s^15)),PioneerDiverOfDeadWaters:(1>>(e^16))+(1>>(i^16))+(1>>(l^16))+(1>>(s^16)),WatchmakerMasterOfDreamMachinations:(1>>(e^17))+(1>>(i^17))+(1>>(l^17))+(1>>(s^17)),IronCavalryAgainstTheScourge:(1>>(e^18))+(1>>(i^18))+(1>>(l^18))+(1>>(s^18)),TheWindSoaringValorous:(1>>(e^19))+(1>>(i^19))+(1>>(l^19))+(1>>(s^19)),SacerdosRelivedOrdeal:(1>>(e^20))+(1>>(i^20))+(1>>(l^20))+(1>>(s^20)),ScholarLostInErudition:(1>>(e^21))+(1>>(i^21))+(1>>(l^21))+(1>>(s^21)),SpaceSealingStation:(1>>(o^0))+(1>>(c^0)),FleetOfTheAgeless:(1>>(o^1))+(1>>(c^1)),PanCosmicCommercialEnterprise:(1>>(o^2))+(1>>(c^2)),BelobogOfTheArchitects:(1>>(o^3))+(1>>(c^3)),CelestialDifferentiator:(1>>(o^4))+(1>>(c^4)),InertSalsotto:(1>>(o^5))+(1>>(c^5)),TaliaKingdomOfBanditry:(1>>(o^6))+(1>>(c^6)),SprightlyVonwacq:(1>>(o^7))+(1>>(c^7)),RutilantArena:(1>>(o^8))+(1>>(c^8)),BrokenKeel:(1>>(o^9))+(1>>(c^9)),FirmamentFrontlineGlamoth:(1>>(o^10))+(1>>(c^10)),PenaconyLandOfTheDreams:(1>>(o^11))+(1>>(c^11)),SigoniaTheUnclaimedDesolation:(1>>(o^12))+(1>>(c^12)),IzumoGenseiAndTakamaDivineRealm:(1>>(o^13))+(1>>(c^13)),DuranDynastyOfRunningWolves:(1>>(o^14))+(1>>(c^14)),ForgeOfTheKalpagniLantern:(1>>(o^15))+(1>>(c^15)),LushakaTheSunkenSeas:(1>>(o^16))+(1>>(c^16)),TheWondrousBananAmusementPark:(1>>(o^17))+(1>>(c^17))},t.x.sets}function jb(t,e,i){const l=i.character.base,s=i.character.traces,o=i.character.lightCone,c=t.x.sets;switch(t.ELEMENTAL_DMG=0,i.ELEMENTAL_DMG_TYPE){case n.Physical_DMG:t.ELEMENTAL_DMG=Fe(n.Physical_DMG,l,o,s,t,.1*$(c.ChampionOfStreetwiseBoxing));break;case n.Fire_DMG:t.ELEMENTAL_DMG=Fe(n.Fire_DMG,l,o,s,t,.1*$(c.FiresmithOfLavaForging));break;case n.Ice_DMG:t.ELEMENTAL_DMG=Fe(n.Ice_DMG,l,o,s,t,.1*$(c.HunterOfGlacialForest));break;case n.Lightning_DMG:t.ELEMENTAL_DMG=Fe(n.Lightning_DMG,l,o,s,t,.1*$(c.BandOfSizzlingThunder));break;case n.Wind_DMG:t.ELEMENTAL_DMG=Fe(n.Wind_DMG,l,o,s,t,.1*$(c.EagleOfTwilightLine));break;case n.Quantum_DMG:t.ELEMENTAL_DMG=Fe(n.Quantum_DMG,l,o,s,t,.1*$(c.GeniusOfBrilliantStars));break;case n.Imaginary_DMG:t.ELEMENTAL_DMG=Fe(n.Imaginary_DMG,l,o,s,t,.1*$(c.WastelanderOfBanditryDesert));break}}function Jb(t,e,i){const l=i.character.base,s=i.character.lightCone,o=i.character.traces,c=t.x.sets;t[n.SPD]=gi(n.SPD,n.SPD_P,e.baseSpd,s,o,t,.06*$(c.MessengerTraversingHackerspace)+.06*$(c.ForgeOfTheKalpagniLantern)+.06*wt(c.MusketeerOfWildWheat)+.06*$(c.SacerdosRelivedOrdeal)),t[n.HP]=gi(n.HP,n.HP_P,e.baseHp,s,o,t,.12*$(c.FleetOfTheAgeless)+.12*$(c.LongevousDisciple)),t[n.ATK]=gi(n.ATK,n.ATK_P,e.baseAtk,s,o,t,.12*$(c.SpaceSealingStation)+.12*$(c.FirmamentFrontlineGlamoth)+.12*$(c.MusketeerOfWildWheat)+.12*$(c.PrisonerInDeepConfinement)+.12*$(c.IzumoGenseiAndTakamaDivineRealm)+.12*$(c.TheWindSoaringValorous)),t[n.DEF]=gi(n.DEF,n.DEF_P,e.baseDef,s,o,t,.15*$(c.BelobogOfTheArchitects)+.15*$(c.KnightOfPurityPalace)),t[n.CR]=Fe(n.CR,l,s,o,t,.08*$(c.InertSalsotto)+.08*$(c.RutilantArena)+.04*wt(c.PioneerDiverOfDeadWaters)+.04*$(c.SigoniaTheUnclaimedDesolation)+.06*wt(c.TheWindSoaringValorous)+.08*$(c.ScholarLostInErudition)),t[n.CD]=Fe(n.CD,l,s,o,t,.16*$(c.CelestialDifferentiator)+.16*$(c.TheWondrousBananAmusementPark)),t[n.EHR]=Fe(n.EHR,l,s,o,t,.1*$(c.PanCosmicCommercialEnterprise)),t[n.RES]=Fe(n.RES,l,s,o,t,.1*$(c.BrokenKeel)),t[n.BE]=Fe(n.BE,l,s,o,t,.16*$(c.TaliaKingdomOfBanditry)+.16*$(c.ThiefOfShootingMeteor)+.16*wt(c.ThiefOfShootingMeteor)+.16*$(c.WatchmakerMasterOfDreamMachinations)+.16*$(c.IronCavalryAgainstTheScourge)),t[n.ERR]=Fe(n.ERR,l,s,o,t,.05*$(c.SprightlyVonwacq)+.05*$(c.PenaconyLandOfTheDreams)+.05*$(c.LushakaTheSunkenSeas)),t[n.OHB]=Fe(n.OHB,l,s,o,t,.1*$(c.PasserbyOfWanderingCloud))}function Ob(t,e,i){i.characterConditionals=En.get(e),i.lightConeConditionals=bn.get(e);const l=t.x,s=l.sets;l[n.ATK]+=t[n.ATK],l[n.DEF]+=t[n.DEF],l[n.HP]+=t[n.HP],l[n.SPD]+=t[n.SPD],l[n.CD]+=t[n.CD],l[n.CR]+=t[n.CR],l[n.EHR]+=t[n.EHR],l[n.RES]+=t[n.RES],l[n.BE]+=t[n.BE],l[n.ERR]+=t[n.ERR],l[n.OHB]+=t[n.OHB],l[i.ELEMENTAL_DMG_TYPE]+=t.ELEMENTAL_DMG,l[n.ATK]+=e.combatBuffs.ATK+e.combatBuffs.ATK_P*e.baseAtk,l[n.DEF]+=e.combatBuffs.DEF+e.combatBuffs.DEF_P*e.baseDef,l[n.HP]+=e.combatBuffs.HP+e.combatBuffs.HP_P*e.baseHp,l[n.CD]+=e.combatBuffs.CD,l[n.CR]+=e.combatBuffs.CR,l[n.SPD]+=e.combatBuffs.SPD_P*e.baseSpd+e.combatBuffs.SPD,l[n.BE]+=e.combatBuffs.BE,l.ELEMENTAL_DMG+=e.combatBuffs.DMG_BOOST,l.EFFECT_RES_PEN+=e.combatBuffs.EFFECT_RES_PEN,l.VULNERABILITY+=e.combatBuffs.VULNERABILITY,l.BREAK_EFFICIENCY_BOOST+=e.combatBuffs.BREAK_EFFICIENCY,wt(s.MessengerTraversingHackerspace)&&i.enabledMessengerTraversingHackerspace&&(l[n.SPD_P]+=.12),l[n.SPD]+=l[n.SPD_P]*e.baseSpd,wt(s.ChampionOfStreetwiseBoxing)&&(l[n.ATK_P]+=.05*i.valueChampionOfStreetwiseBoxing),wt(s.BandOfSizzlingThunder)&&i.enabledBandOfSizzlingThunder&&(l[n.ATK_P]+=.2),wt(s.TheAshblazingGrandDuke)&&(l[n.ATK_P]+=.06*i.valueTheAshblazingGrandDuke),l[n.ATK]+=l[n.ATK_P]*e.baseAtk,l[n.DEF]+=l[n.DEF_P]*e.baseDef,l[n.HP]+=l[n.HP_P]*e.baseHp,wt(s.HunterOfGlacialForest)&&i.enabledHunterOfGlacialForest&&(l[n.CD]+=.25),wt(s.WastelanderOfBanditryDesert)&&(l[n.CD]+=.1*(i.valueWastelanderOfBanditryDesert==2?1:0)),wt(s.PioneerDiverOfDeadWaters)&&(l[n.CD]+=_b[i.valuePioneerDiverOfDeadWaters]),$(s.SigoniaTheUnclaimedDesolation)&&(l[n.CD]+=.04*i.valueSigoniaTheUnclaimedDesolation),$(s.DuranDynastyOfRunningWolves)&&i.valueDuranDynastyOfRunningWolves>=5&&(l[n.CD]+=.25),$(s.TheWondrousBananAmusementPark)&&i.enabledTheWondrousBananAmusementPark&&(l[n.CD]+=.32),wt(s.WastelanderOfBanditryDesert)&&i.valueWastelanderOfBanditryDesert>0&&(l[n.CR]+=.1),wt(s.LongevousDisciple)&&(l[n.CR]+=.08*i.valueLongevousDisciple),wt(s.PioneerDiverOfDeadWaters)&&i.valuePioneerDiverOfDeadWaters>2&&(l[n.CR]+=.04),$(s.IzumoGenseiAndTakamaDivineRealm)&&i.enabledIzumoGenseiAndTakamaDivineRealm&&(l[n.CR]+=.12),wt(s.WatchmakerMasterOfDreamMachinations)&&i.enabledWatchmakerMasterOfDreamMachinations&&(l[n.BE]+=.3),$(s.ForgeOfTheKalpagniLantern)&&i.enabledForgeOfTheKalpagniLantern&&(l[n.BE]+=.4),wt(s.MusketeerOfWildWheat)&&ot(l,ue,.1),wt(s.FiresmithOfLavaForging)&&ot(l,Ot,.12),$(s.TheAshblazingGrandDuke)&&ot(l,Vt,.2),$(s.DuranDynastyOfRunningWolves)&&ot(l,Vt,.05*i.valueDuranDynastyOfRunningWolves),wt(s.TheWindSoaringValorous)&&ot(l,Mt,.36*i.enabledTheWindSoaringValorous),wt(s.ScholarLostInErudition)&&ot(l,Mt|Ot,.2),wt(s.GeniusOfBrilliantStars)&&(l.DEF_PEN+=i.enabledGeniusOfBrilliantStars?.2:.1),wt(s.PrisonerInDeepConfinement)&&(l.DEF_PEN+=.06*i.valuePrisonerInDeepConfinement),$(s.PioneerDiverOfDeadWaters)&&i.valuePioneerDiverOfDeadWaters>=0&&(l.ELEMENTAL_DMG+=.12),$(s.FiresmithOfLavaForging)&&i.enabledFiresmithOfLavaForging&&(l[n.Fire_DMG]+=.12),wt(s.ScholarLostInErudition)&&i.enabledScholarLostInErudition&&ot(l,Ot,.25),$(s.SpaceSealingStation)&&ge(L0,l,e,i),$(s.RutilantArena)&&ge(E0,l,e,i),$(s.InertSalsotto)&&ge(x0,l,e,i),$(s.FleetOfTheAgeless)&&ge(y0,l,e,i),$(s.BelobogOfTheArchitects)&&ge(M0,l,e,i),wt(s.IronCavalryAgainstTheScourge)&&ge(F0,l,e,i),wt(s.IronCavalryAgainstTheScourge)&&ge(B0,l,e,i),$(s.PanCosmicCommercialEnterprise)&&ge(P0,l,e,i),$(s.BrokenKeel)&&ge(k0,l,e,i),$(s.CelestialDifferentiator)&&ge(N0,l,e,i),$(s.TaliaKingdomOfBanditry)&&ge(U0,l,e,i),$(s.FirmamentFrontlineGlamoth)&&ge(H0,l,e,i),$(s.FirmamentFrontlineGlamoth)&&ge(X0,l,e,i);const o=i.characterConditionals,c=i.lightConeConditionals;for(const r of o.dynamicConditionals||[])ge(r,l,e,i);for(const r of c.dynamicConditionals||[])ge(r,l,e,i);return l}function zb(t,e,i,l,s,o,c){for(const r of[e,i,l,s,o,c])if(r.part)for(const u of r.condensedStats)t[u[0]]+=u[1];t.x.WEIGHT=e.weightScore+i.weightScore+l.weightScore+s.weightScore+o.weightScore+c.weightScore}function Fe(t,e,i,l,s,o){return e[t]+i[t]+s[t]+l[t]+o}function gi(t,e,i,l,s,o,c){return i*(1+c+o[e]+s[e]+l[e])+o[t]+s[t]}const _b={[-1]:0,0:0,1:.08,2:.12,3:.16,4:.24},qb={[n.HP_P]:0,[n.ATK_P]:0,[n.DEF_P]:0,[n.HP]:1e-6,[n.ATK]:1e-6,[n.DEF]:1e-6,[n.SPD]:1e-6,[n.SPD_P]:0,[n.CR]:1e-6,[n.CD]:1e-6,[n.EHR]:1e-6,[n.RES]:1e-6,[n.BE]:1e-6,[n.ERR]:1e-6,[n.OHB]:1e-6,[n.Physical_DMG]:1e-6,[n.Fire_DMG]:1e-6,[n.Ice_DMG]:1e-6,[n.Lightning_DMG]:1e-6,[n.Wind_DMG]:1e-6,[n.Quantum_DMG]:1e-6,[n.Imaginary_DMG]:1e-6};function $b(t,e,i){const l=i.lightConeConditionals,s=i.characterConditionals;l.finalizeCalculations&&l.finalizeCalculations(t,e),s.finalizeCalculations&&s.finalizeCalculations(t,e)}function th(t,e,i){const l=t.sets,s=80,o=e.enemyLevel,c=t.DEF_PEN+e.combatBuffs.DEF_PEN,r=0;t.ELEMENTAL_DMG+=t[i.ELEMENTAL_DMG_TYPE];const u=1+t.ELEMENTAL_DMG,R=1;let h=t[n.HP]/(1-t[n.DEF]/(t[n.DEF]+200+10*e.enemyLevel));h*=1/((1-.08*$(l.GuardOfWutheringSnow))*t.DMG_RED_MULTI),t.EHP=h,i.brokenMultiplier=t.ENEMY_WEAKNESS_BROKEN?1:.9;const S=R*i.brokenMultiplier,m=i.resistance-t.RES_PEN-t[i.RES_PEN_TYPE],b=t.ULT_CD_OVERRIDE||t[n.CD]+t.ULT_CD_BOOST,p=1+t.VULNERABILITY+t.BREAK_VULNERABILITY,C=1+t.VULNERABILITY+t.BASIC_VULNERABILITY,G=1+t.VULNERABILITY+t.SKILL_VULNERABILITY,g=1+t.VULNERABILITY+t.ULT_VULNERABILITY*t.ULT_BOOSTS_MULTI,T=1+t.VULNERABILITY+t.FUA_VULNERABILITY,D=1+t.VULNERABILITY+t.DOT_VULNERABILITY,I=e.enemyEffectResistance,F=Math.min(1,t.DOT_CHANCE*(1+t[n.EHR])*(1-I+t.EFFECT_RES_PEN)),E=t.DOT_SPLIT?(1+t.DOT_SPLIT*F*(t.DOT_STACKS-1))/(1+.05*(t.DOT_STACKS-1)):F,P=e.enemyMaxToughness;t.BREAK_DMG=S*3767.5533*i.ELEMENTAL_BREAK_SCALING*Pn(s,o,c,r,t.BREAK_DEF_PEN)*(.5+P/120)*p*(1-m)*(1+t[n.BE]),t.SUPER_BREAK_DMG=S*3767.5533*Pn(s,o,c,r,t.BREAK_DEF_PEN+t.SUPER_BREAK_DEF_PEN)*p*(1-m)*(1+t[n.BE])*(t.SUPER_BREAK_MODIFIER+t.SUPER_BREAK_HMC_MODIFIER)*(1/30)*(1+t.BREAK_EFFICIENCY_BOOST);const N=S*3767.5533*Pn(s,o,c,r,t.BREAK_DEF_PEN+t.SUPER_BREAK_DEF_PEN)*p*(1-m)*(1+t[n.BE])*(t.BASIC_SUPER_BREAK_MODIFIER+t.SUPER_BREAK_HMC_MODIFIER)*(1/30)*(1+t.BREAK_EFFICIENCY_BOOST);t.BASIC_DMG=t.BASIC_DMG*S*(u+t.BASIC_BOOST)*Pn(s,o,c,r,t.BASIC_DEF_PEN)*(C*Math.min(1,t[n.CR]+t.BASIC_CR_BOOST)*(1+t[n.CD]+t.BASIC_CD_BOOST)+C*(1-Math.min(1,t[n.CR]+t.BASIC_CR_BOOST)))*(1-(m-t.BASIC_RES_PEN))*(1+t.BASIC_ORIGINAL_DMG_BOOST)+t.BASIC_BREAK_DMG_MODIFIER*t.BREAK_DMG+(N||t.SUPER_BREAK_DMG)*t.BASIC_TOUGHNESS_DMG*(1+t.BASIC_BREAK_EFFICIENCY_BOOST),t.SKILL_DMG=t.SKILL_DMG*S*(u+t.SKILL_BOOST)*Pn(s,o,c,r,t.SKILL_DEF_PEN)*(G*Math.min(1,t[n.CR]+t.SKILL_CR_BOOST)*(1+t[n.CD]+t.SKILL_CD_BOOST)+G*(1-Math.min(1,t[n.CR]+t.SKILL_CR_BOOST)))*(1-(m-t.SKILL_RES_PEN))*(1+t.SKILL_ORIGINAL_DMG_BOOST)+t.SUPER_BREAK_DMG*t.SKILL_TOUGHNESS_DMG,t.ULT_DMG=t.ULT_DMG*S*(u+t.ULT_BOOST*t.ULT_BOOSTS_MULTI)*Pn(s,o,c,r,t.ULT_DEF_PEN*t.ULT_BOOSTS_MULTI)*(g*Math.min(1,t[n.CR]+t.ULT_CR_BOOST)*(1+b)+g*(1-Math.min(1,t[n.CR]+t.ULT_CR_BOOST)))*(1-(m-t.ULT_RES_PEN*t.ULT_BOOSTS_MULTI))*(1+t.ULT_ORIGINAL_DMG_BOOST)+t.SUPER_BREAK_DMG*t.ULT_TOUGHNESS_DMG*(1+t.ULT_BREAK_EFFICIENCY_BOOST),t.FUA_DMG=t.FUA_DMG*S*(u+t.FUA_BOOST)*Pn(s,o,c,r,t.FUA_DEF_PEN)*(T*Math.min(1,t[n.CR]+t.FUA_CR_BOOST)*(1+t[n.CD]+t.FUA_CD_BOOST)+T*(1-Math.min(1,t[n.CR]+t.FUA_CR_BOOST)))*(1-(m-t.FUA_RES_PEN))+t.SUPER_BREAK_DMG*t.FUA_TOUGHNESS_DMG,t.DOT_DMG=t.DOT_DMG*S*(u+t.DOT_BOOST)*Pn(s,o,c,r,t.DOT_DEF_PEN)*D*(1-(m-t.DOT_RES_PEN))*E,t.COMBO_DMG=e.combo.BASIC*t.BASIC_DMG+e.combo.SKILL*t.SKILL_DMG+e.combo.ULT*t.ULT_DMG+e.combo.FUA*t.FUA_DMG+e.combo.DOT*t.DOT_DMG+e.combo.BREAK*t.BREAK_DMG}function Pn(t,e,i,l,s){return(t+20)/((e+20)*Math.max(0,1-i-l-s)+t+20)}function eh(t){const e=new Set([nn[t.Head.set],nn[t.Hands.set],nn[t.Body.set],nn[t.Feet.set],ma[t.PlanarSphere.set],ma[t.LinkRope.set]]);return[0,1,2,3,4,5].filter(i=>!e.has(i))}function Aa(t,e,i=null,l=!1){l||(t=x.clone(t));const s=i??ss(t);pl(t,s),i||(is(t,s),Rl(t,s));const{Head:o,Hands:c,Body:r,Feet:u,PlanarSphere:R,LinkRope:h}=nh(e);ee.calculateWeightScore(t,[o,c,r,u,R,h]);const S=eh(e);let m=0;const b=nn[e.Head.set]??S[m++],p=nn[e.Hands.set]??S[m++],C=nn[e.Body.set]??S[m++],G=nn[e.Feet.set]??S[m++],g=ma[e.PlanarSphere.set]??S[m++],T=ma[e.LinkRope.set]??S[m++],D=b+C*fa+p*fa*fa+G*fa*fa*fa,I=g+T*Jr,F=Object.assign({},s.precomputedX),E={...qb,x:F,relicSetIndex:D,ornamentSetIndex:I};return zb(E,o,c,r,u,R,h),Qb(E,b,p,C,G,g,T),Jb(E,t,s),jb(E,t,s),Ob(E,t,s),$b(F,t,s),th(F,t,s),E}function nh(t){for(const e of Object.keys(d.Parts))t[e]=t[e]||Zn();return t}const Q={success:(t,e)=>{const i=x.randomId();console.log("Success message:",t),window.messageApi.open({key:i,type:"success",content:t||"",duration:e||3,onClick:()=>window.messageApi.destroy(i)})},error:(t,e)=>{const i=x.randomId();console.warn("Error message:",t),window.messageApi.open({key:i,type:"error",content:t||"",duration:e||3,onClick:()=>window.messageApi.destroy(i)})},warning:(t,e)=>{const i=x.randomId();console.warn("Warning message:",t),window.messageApi.open({key:i,type:"warning",content:t||"",duration:e||3,onClick:()=>window.messageApi.destroy(i)})}},at={fnAshblazingSet:t=>e=>{e.setConditionals[M.TheAshblazingGrandDuke][1]=t},fnPioneerSet:t=>e=>{e.setConditionals[M.PioneerDiverOfDeadWaters][1]=t},PRISONER_SET:t=>{t.setConditionals[M.PrisonerInDeepConfinement][1]=3},WASTELANDER_SET:t=>{t.setConditionals[M.PrisonerInDeepConfinement][1]=2},VALOROUS_SET:t=>{t.setConditionals[M.TheWindSoaringValorous][1]=!0},BANANA_SET:t=>{t.setConditionals[M.TheWondrousBananAmusementPark][1]=!0}};function ls(t){var i;const e={state:[{colId:t,sort:"desc"}],defaultState:{sort:null}};(i=window.optimizerGrid.current)==null||i.api.applyColumnState(e)}const ah=()=>{const{t}=et("optimizerTab",{keyPrefix:"Presets"}),e=window.store(r=>r.optimizerTabFocusCharacter),i=L.useMemo(()=>({SPD0:{key:"SPD0",label:t("SpdValues.SPD0"),value:void 0},SPD111:{key:"SPD111",label:t("SpdValues.SPD111"),value:111.112},SPD114:{key:"SPD114",label:t("SpdValues.SPD114"),value:114.286},SPD120:{key:"SPD120",label:t("SpdValues.SPD120"),value:120},SPD133:{key:"SPD133",label:a.jsx("b",{children:t("SpdValues.SPD133")}),value:133.334},SPD142:{key:"SPD142",label:t("SpdValues.SPD142"),value:142.858},SPD155:{key:"SPD155",label:t("SpdValues.SPD155"),value:155.556},SPD160:{key:"SPD160",label:t("SpdValues.SPD160"),value:160},SPD171:{key:"SPD171",label:t("SpdValues.SPD171"),value:171.429},SPD177:{key:"SPD177",label:t("SpdValues.SPD177"),value:177.778},SPD200:{key:"SPD200",label:t("SpdValues.SPD200"),value:200}}),[t]),l=Object.values(i);l.map(r=>r.label=a.jsx("div",{style:{minWidth:450},children:r.label}));function s(r){return{key:r,label:r,children:l}}const c={items:L.useMemo(function(){if(!e)return[];const r=y.getMetadata().characters[e];return r?[s(t("StandardLabel",{id:r.id}))]:[]},[e,t]),onClick:r=>{i[r.key]?Y0(i[r.key].value,e):Q.warning(t("PresetNotAvailable"))}};return a.jsx(hi,{menu:c,trigger:["click"],overlayStyle:{width:"max-content"},children:a.jsx("a",{onClick:r=>r.preventDefault(),children:a.jsxs(w,{type:"primary",style:{width:"100%"},children:[t("RecommendedPresets"),a.jsx(es,{})]})})})};function Y0(t,e){if(!e)return;const i=y.getMetadata().characters[e];let l=x.clone(i.scoringMetadata);const s=tt.getDisplayFormValues(tt.getForm()),o=tt.getDisplayFormValues(pa(i));s.setConditionals=o.setConditionals;const c=window.store.getState().scoringMetadataOverrides[e];c&&(l=x.mergeDefinedValues(l,c)),s.minSpd=t,K0(s,l);const r=i.scoringMetadata.presets||[],u=l.sortOption;s.resultSort=u.key,ls(u.combatGridColumn);for(const R of r)R(s);window.optimizerForm.setFieldsValue(s),window.onOptimizerFormValuesChange({},s)}function K0(t,e){var s;x.mergeUndefinedValues(t,pa()),x.mergeUndefinedValues(t.setConditionals,ka);const i=((s=e==null?void 0:e.simulation)==null?void 0:s.formula)||{};x.mergeUndefinedValues(t.combo,i),Object.keys(t.combo).map(o=>t.combo[o]=t.combo[o]||null),t.maxSpd=void 0,t.mainBody=e.parts[d.Parts.Body],t.mainFeet=e.parts[d.Parts.Feet],t.mainPlanarSphere=e.parts[d.Parts.PlanarSphere],t.mainLinkRope=e.parts[d.Parts.LinkRope],t.weights=e.stats,t.weights.headHands=t.weights.headHands||0,t.weights.bodyFeet=t.weights.bodyFeet||0,t.weights.sphereRope=t.weights.sphereRope||0;const l=y.getMetadata().characters[t.characterId].element;t.setConditionals[M.GeniusOfBrilliantStars][1]=l=="Quantum",t.setConditionals[M.ForgeOfTheKalpagniLantern][1]=l=="Fire"}const v={ATK:{key:"ATK",gpuProperty:"ATK",basicProperty:"ATK",combatProperty:"ATK",basicGridColumn:"ATK",combatGridColumn:"xATK"},DEF:{key:"DEF",gpuProperty:"DEF",basicProperty:"DEF",combatProperty:"DEF",basicGridColumn:"DEF",combatGridColumn:"xDEF"},HP:{key:"HP",gpuProperty:"HP",basicProperty:"HP",combatProperty:"HP",basicGridColumn:"HP",combatGridColumn:"xHP"},SPD:{key:"SPD",gpuProperty:"SPD",basicProperty:"SPD",combatProperty:"SPD",basicGridColumn:"SPD",combatGridColumn:"xSPD"},CR:{key:"CR",gpuProperty:"CR",basicProperty:"CRIT Rate",combatProperty:"CRIT Rate",basicGridColumn:"CRIT Rate",combatGridColumn:"xCR"},CD:{key:"CD",gpuProperty:"CD",basicProperty:"CRIT DMG",combatProperty:"CRIT DMG",basicGridColumn:"CRIT DMG",combatGridColumn:"xCD"},EHR:{key:"EHR",gpuProperty:"EHR",basicProperty:"Effect Hit Rate",combatProperty:"Effect Hit Rate",basicGridColumn:"Effect Hit Rate",combatGridColumn:"xEHR"},RES:{key:"RES",gpuProperty:"RES",basicProperty:"Effect RES",combatProperty:"Effect RES",basicGridColumn:"Effect RES",combatGridColumn:"xRES"},BE:{key:"BE",gpuProperty:"BE",basicProperty:"Break Effect",combatProperty:"Break Effect",basicGridColumn:"Break Effect",combatGridColumn:"xBE"},OHB:{key:"OHB",gpuProperty:"OHB",basicProperty:"Outgoing Healing Boost",combatProperty:"Outgoing Healing Boost",basicGridColumn:"Outgoing Healing Boost",combatGridColumn:"xOHB"},ERR:{key:"ERR",gpuProperty:"ERR",basicProperty:"Energy Regeneration Rate",combatProperty:"Energy Regeneration Rate",basicGridColumn:"Energy Regeneration Rate",combatGridColumn:"xERR"},ELEMENTAL_DMG:{key:"ELEMENTAL_DMG",gpuProperty:"ELEMENTAL_DMG",basicProperty:"ELEMENTAL_DMG",combatProperty:"ELEMENTAL_DMG",basicGridColumn:"ED",combatGridColumn:"xELEMENTAL_DMG",isComputedRating:!0},WEIGHT:{key:"WEIGHT",gpuProperty:"WEIGHT",basicProperty:"WEIGHT",combatProperty:"WEIGHT",basicGridColumn:"WEIGHT",combatGridColumn:"WEIGHT",isComputedRating:!0},EHP:{key:"EHP",gpuProperty:"EHP",basicProperty:"EHP",combatProperty:"EHP",basicGridColumn:"EHP",combatGridColumn:"EHP",isComputedRating:!0},BASIC:{key:"BASIC",gpuProperty:"BASIC_DMG",basicProperty:"BASIC_DMG",combatProperty:"BASIC_DMG",basicGridColumn:"BASIC",combatGridColumn:"BASIC",isComputedRating:!0},SKILL:{key:"SKILL",gpuProperty:"SKILL_DMG",basicProperty:"SKILL_DMG",combatProperty:"SKILL_DMG",basicGridColumn:"SKILL",combatGridColumn:"SKILL",isComputedRating:!0},ULT:{key:"ULT",gpuProperty:"ULT_DMG",basicProperty:"ULT_DMG",combatProperty:"ULT_DMG",basicGridColumn:"ULT",combatGridColumn:"ULT",isComputedRating:!0},FUA:{key:"FUA",gpuProperty:"FUA_DMG",basicProperty:"FUA_DMG",combatProperty:"FUA_DMG",basicGridColumn:"FUA",combatGridColumn:"FUA",isComputedRating:!0},DOT:{key:"DOT",gpuProperty:"DOT_DMG",basicProperty:"DOT_DMG",combatProperty:"DOT_DMG",basicGridColumn:"DOT",combatGridColumn:"DOT",isComputedRating:!0},BREAK:{key:"BREAK",gpuProperty:"BREAK_DMG",basicProperty:"BREAK_DMG",combatProperty:"BREAK_DMG",basicGridColumn:"BREAK",combatGridColumn:"BREAK",isComputedRating:!0},COMBO:{key:"COMBO",gpuProperty:"COMBO_DMG",basicProperty:"COMBO_DMG",combatProperty:"COMBO_DMG",basicGridColumn:"COMBO",combatGridColumn:"COMBO",isComputedRating:!0}},gt={save:()=>{const t={relics:y.getRelics(),characters:y.getCharacters(),scorerId:window.store.getState().scorerId,scoringMetadataOverrides:window.store.getState().scoringMetadataOverrides,optimizerMenuState:window.store.getState().optimizerMenuState,excludedRelicPotentialCharacters:window.store.getState().excludedRelicPotentialCharacters,savedSession:window.store.getState().savedSession,settings:window.store.getState().settings,version:Oi,relicLocator:{inventoryWidth:window.store.getState().inventoryWidth,rowLimit:window.store.getState().rowLimit}};console.log("Saved state");const e=JSON.stringify(t);return localStorage.state=e,e},load:(t=!0)=>{try{const e=localStorage.state;if(e){const i=JSON.parse(e);return console.log("Loaded SaveState"),y.setStore(i,t),!0}return console.log("No SaveState found"),!1}catch(e){return console.error("Error loading state",e),!1}}};function ih(){var l;const t=window.optimizerForm.getFieldsValue();console.log("Save statSim",t.statSim);const e=window.store.getState().statSimulationDisplay;if(e==xn.Disabled||!((l=t.statSim)!=null&&l[e])){console.warn("Invalid sim",t,e);return}const i=t.statSim[e];if(!sh(i)){console.warn("Invalid sim",t,e);return}v0(i,e,!0)}function v0(t,e,i=!1){const l=window.store.getState().statSimulations||[],s=x.randomId(),c={name:t.name||void 0,key:s,simType:e,request:t},r=no(c);for(const u of l){const R=no(u);if(r==R){Q.error(V.t("optimizerTab:StatSimulation.DuplicateSimMessage"));return}}l.push(c),window.store.getState().setStatSimulations(l),Sl(l),i&&w0(),os()}function no(t){const e={};for(const i of Object.entries(t.request))i[1]!=null&&(e[i[0]]=i[1]);return x.objectHash({simType:t.simType,request:e})}function sh(t){return!t.simBody||!t.simFeet||!t.simLinkRope||!t.simPlanarSphere?(Q.error(V.t("optimizerTab:StatSimulation.MissingMainstatsMessage")),!1):!0}function lh(t){return a.jsxs(f,{gap:5,children:[a.jsx(oh,{sim:t}),"|",a.jsx(ch,{sim:t}),"|",a.jsx(f,{children:t.name?`${t.name}`:null}),a.jsx(f,{children:t.name?"|":null}),a.jsx(rh,{sim:t})]})}function oh(t){const e=t.sim.request,i=22,l=U.getSetImage(e.simRelicSet1),s=U.getSetImage(e.simRelicSet2),o=e.simOrnamentSet?U.getSetImage(e.simOrnamentSet):U.getBlank();return a.jsxs(f,{gap:5,children:[a.jsxs(f,{style:{width:i*2+5},justify:"center",children:[a.jsx("img",{style:{width:e.simRelicSet1?i:0},src:l}),a.jsx("img",{style:{width:e.simRelicSet2?i:0},src:s})]}),a.jsx("img",{style:{width:i},src:o})]})}function ch(t){const e=t.sim.request,i=22;return a.jsxs(f,{children:[a.jsx("img",{style:{width:i},src:U.getStatIcon(e.simBody,!0)}),a.jsx("img",{style:{width:i},src:U.getStatIcon(e.simFeet,!0)}),a.jsx("img",{style:{width:i},src:U.getStatIcon(e.simPlanarSphere,!0)}),a.jsx("img",{style:{width:i},src:U.getStatIcon(e.simLinkRope,!0)})]})}const ao={[n.ATK_P]:0,[n.ATK]:1,[n.CR]:2,[n.CD]:3,[n.SPD]:4,[n.BE]:5,[n.HP_P]:6,[n.HP]:7,[n.DEF_P]:8,[n.DEF]:9,[n.EHR]:10,[n.RES]:11};function rh(t){const{t:e}=et("common",{keyPrefix:"ShortStats"}),i=[],l=t.sim.request.stats;for(const o of d.SubStats){const c=l[o];c&&i.push({stat:o,value:c})}i.sort((o,c)=>ao[o.stat]-ao[c.stat]);function s(o){return t.sim.simType==xn.SubstatRolls?`${e([o.stat])} x ${o.value}`:`${e([o.stat])} ${o.value}${x.isFlat(o.stat)?"":"%"}`}return a.jsx(f,{gap:0,children:i.map(o=>a.jsx(f,{children:a.jsx(ci,{style:{paddingInline:"5px",marginInlineEnd:"5px"},children:s(o)})},o.stat))})}function dh(t){console.log("Delete sim",t);const e=window.store.getState().statSimulations,i=x.clone(e.filter(l=>l.key!=t.key));window.store.getState().setStatSimulations(i),Sl(i),os()}function uh(){window.store.getState().setStatSimulations([]),Sl([]),os()}function Sl(t){window.optimizerForm.setFieldValue(["statSim","simulations"],t)}function vn(t,e,i,l={}){const o={...{quality:1,speedRollValue:2.6,mainStatMultiplier:1,substatRollsModifier:r=>r},...l},c=[];for(const r of i){const u=r.request,R=Zn(),h=Zn(),S=Zn(),m=Zn(),b=Zn(),p=Zn();R.augmentedStats.mainStat=d.Stats.HP,h.augmentedStats.mainStat=d.Stats.ATK,S.augmentedStats.mainStat=u.simBody,m.augmentedStats.mainStat=u.simFeet,b.augmentedStats.mainStat=u.simLinkRope,p.augmentedStats.mainStat=u.simPlanarSphere,R.augmentedStats.mainValue=705.6,h.augmentedStats.mainValue=352.8,S.augmentedStats.mainValue=Je.getMaxedStatValue(u.simBody)*o.mainStatMultiplier,m.augmentedStats.mainValue=Je.getMaxedStatValue(u.simFeet)*o.mainStatMultiplier,b.augmentedStats.mainValue=Je.getMaxedStatValue(u.simLinkRope)*o.mainStatMultiplier,p.augmentedStats.mainValue=Je.getMaxedStatValue(u.simPlanarSphere)*o.mainStatMultiplier;const C=Ma.filter(I=>I!=u.simRelicSet1&&I!=u.simRelicSet2);R.set=u.simRelicSet1||C[0],h.set=u.simRelicSet1||C[1],S.set=u.simRelicSet2||C[2],m.set=u.simRelicSet2||C[3],b.set=u.simOrnamentSet||Fa[0],p.set=u.simOrnamentSet||Fa[1],R.part=Z.Head,h.part=Z.Hands,S.part=Z.Body,m.part=Z.Feet,b.part=Z.LinkRope,p.part=Z.PlanarSphere;const G={[Z.Head]:[R],[Z.Hands]:[h],[Z.Body]:[S],[Z.Feet]:[m],[Z.LinkRope]:[b],[Z.PlanarSphere]:[p]},g={[Z.Head]:R,[Z.Hands]:h,[Z.Body]:S,[Z.Feet]:m,[Z.LinkRope]:b,[Z.PlanarSphere]:p},T=[];for(const I of Ye){let F=r.request.stats[I];if(r.simType==xn.SubstatRolls){const E=I==n.SPD?o.speedRollValue:Je.getMaxedSubstatValue(I,o.quality);let P=x.precisionRound(r.request.stats[I]||0);P=o.substatRollsModifier(P,I,g),F=P*E}F&&T.push({stat:I,value:F})}R.substats=T,ee.condenseRelicSubstatsForOptimizer(G);const D=Aa(t,g,e,!0);Cl(D),D.statSim={key:r.key},c.push(D)}return c}function w0(){const t=tt.getForm(),e=window.store.getState().statSimulations||[];if(e.length==0||!tt.validateForm(t))return;console.log("Starting sims",e);const i=vn(t,null,e);tt.setRows(i),bc(t),window.optimizerGrid.current.api.updateGridOptions({datasource:tt.getDataSource()});const l=v[t.resultSort],s=t.statDisplay=="combat"?l.combatGridColumn:l.basicGridColumn;ls(s),os()}function os(){const t=tt.getForm();y.addFromForm(t),gt.save()}function mh(){const t=window.optimizerGrid.current.api.getSelectedRows()[0];if(!t){Q.warning(V.t("optimizerTab:StatSimulation.NothingToImport"));return}if(t.statSim){Q.warning(V.t("optimizerTab:StatSimulation.BuildAlreadyImported"));return}const e=tt.calculateRelicsFromId(t.id,!0),i=t.relicSetIndex,l=Object.values(d.SetsRelics).length,s=i%l,o=(i-s)/l%l,c=(i-o*l-s)/(l*l)%l,r=(i-c*l*l-o*l-s)/(l*l*l)%l,R=Q0([s,o,c,r]),h=t.ornamentSetIndex,S=Object.values(d.SetsOrnaments).length,m=h%S,b=(h-m)/S%S,p=j0([m,b],!1),C=A0(e,R[0],R[1],p,1);v0(C,xn.SubstatRolls,!1)}function A0(t,e,i,l,s=1,o=2.6){const c=Object.values(t),r={};Ye.map(u=>r[u]=0);for(const u of c)for(const R of u.substats)r[R.stat]+=R.value/(R.stat==n.SPD?o:Je.getMaxedSubstatValue(R.stat,s));return Ye.map(u=>r[u]=x.precisionRound(r[u],4)),{name:"",simRelicSet1:e,simRelicSet2:i,simOrnamentSet:l,simBody:t[Z.Body].main.stat,simFeet:t[Z.Feet].main.stat,simPlanarSphere:t[Z.PlanarSphere].main.stat,simLinkRope:t[Z.LinkRope].main.stat,stats:{[n.HP]:r[n.HP]||null,[n.ATK]:r[n.ATK]||null,[n.DEF]:r[n.DEF]||null,[n.HP_P]:r[n.HP_P]||null,[n.ATK_P]:r[n.ATK_P]||null,[n.DEF_P]:r[n.DEF_P]||null,[n.CR]:r[n.CR]||null,[n.CD]:r[n.CD]||null,[n.SPD]:r[n.SPD]||null,[n.EHR]:r[n.EHR]||null,[n.RES]:r[n.RES]||null,[n.BE]:r[n.BE]||null}}}function Q0(t,e=!1){const i=[];for(;t.length>0;){const l=t[0];if(t.lastIndexOf(l)){const s=e?l:Object.entries(d.RelicSetToIndex).find(c=>c[1]==l)[0];i.push(s);const o=t.lastIndexOf(l);t.splice(o,1)}t.splice(0,1)}return i}function j0(t,e=!0){if(t[0]!=null&&t[0]==t[1])return e?t[1]:Object.entries(d.OrnamentSetToIndex).find(i=>i[1]==t[1])[0]}const bh=[{title:a.jsx(f,{style:{marginLeft:5},children:"Simulation details"}),dataIndex:"name",fixed:"left",width:"560",render:(t,e)=>lh(e),key:"y",ellipsis:!0},{title:"",dataIndex:"",key:"x",render:(t,e)=>a.jsx("a",{onClick:()=>{dh(e)},style:{display:"flex",justifyContent:"center"},children:a.jsx(Yn,{})}),width:36,fixed:"right"}];function hh(t){for(const e of Object.entries(t))e[1]==0&&(t[e[0]]=null);return t}function ph(){const{t}=et("optimizerTab",{keyPrefix:"StatSimulation"}),e=window.store(o=>o.statSimulations),i=window.store(o=>o.selectedStatSimulations),l=window.store(o=>o.setSelectedStatSimulations);function s(o){i[0]!=o&&l(o!=null?[o]:[]);const c=e.find(R=>R.key===o);if(console.log("Syncing matching statSim",c),!c)return;let r;window.optimizerGrid.current.api.forEachNode(R=>{var h;((h=R.data.statSim)==null?void 0:h.key)==c.key&&(r=R)}),r&&r.setSelected(!0,!0);const u=x.clone(c.request);hh(u.stats),window.optimizerForm.setFieldValue(["statSim",c.simType],u),window.store.getState().setStatSimulationDisplay(c.simType)}return L.useEffect(()=>{i.length&&s(i[0])},[i]),a.jsx(l0,{showHeader:!1,locale:{emptyText:a.jsx(Hl,{image:Hl.PRESENTED_IMAGE_SIMPLE,description:t("NoStatSimulations")})},rowSelection:{selectedRowKeys:i,type:"radio",columnWidth:0,renderCell:()=>""},columns:bh,dataSource:e,onRow:o=>({onClick:()=>{l(o.key!=null?[o.key]:[])}}),pagination:!1,size:"small",style:{flex:1,width:z0,height:"100%",backgroundColor:"#0000001a",border:"1px solid rgba(255, 255, 255, 0.15)"},scroll:{y:300}})}const{Text:Rh}=pt,nt=xe(Rh)`
    text-decoration: underline;
    text-decoration-color: #6d97ffb3;
    text-underline-offset: 2px;
    white-space: nowrap;
`,J0=()=>Object.values(d.SetsOrnaments).filter(t=>!jn[t]).map(t=>({value:t,label:a.jsxs(f,{gap:5,align:"center",children:[a.jsx("img",{src:U.getSetImage(t,d.Parts.PlanarSphere),style:{width:21,height:21}}),a.jsx("div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",width:250,whiteSpace:"nowrap"},children:V.t(`common:RelicSets.${Be[t]}.Name`)})]})})),Sh=()=>{const t=[{value:De.relic4Piece,label:De.relic4Piece,children:[]},{value:De.relic2Plus2Piece,label:De.relic2Plus2Piece,children:[]},{value:De.relic2PlusAny,label:De.relic2PlusAny,children:[]}],e=Object.entries(d.SetsRelics).filter(l=>!jn[l[1]]).map(l=>({value:l[1],label:l[1]})),i=(l,s,o)=>{const c=l=="Any"?U.getBlank():U.getSetImage(l,d.Parts.Head);return a.jsxs(f,{gap:5,align:"center",children:[a.jsx("img",{src:c,style:{width:26,height:26}}),a.jsx("div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",width:250,whiteSpace:"nowrap"},children:s+o})]})};for(const l of Object.entries(d.SetsRelics).filter(s=>!jn[s[1]]))t[0].children.push({value:l[1],label:i(l[1],"(4) ",V.t(`gameData:RelicSets.${Be[l[1]]}.Name`))}),t[1].children.push({value:l[1],label:i(l[1],"(2) ",V.t(`gameData:RelicSets.${Be[l[1]]}.Name`)),children:e.map(s=>{const o=s.value=="Any"?"(0) ":"(2) ";return{value:s.value,label:i(s.value,o,V.t(`gameData:RelicSets.${Be[s.label]}.Name`))}})}),t[2].children.push({value:l[1],label:i(l[1],"(2) ",V.t(`gameData:RelicSets.${Be[l[1]]}.Name`))});return t},io=()=>Object.values(d.SetsRelics).filter(t=>!jn[t]).map(t=>({value:t,label:a.jsxs(f,{gap:5,align:"center",children:[a.jsx("img",{src:U.getSetImage(t,d.Parts.Head),style:{width:21,height:21}}),a.jsx("div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",width:250,whiteSpace:"nowrap"},children:t})]})}));function si(t){const{value:e,closable:i,onClose:l}=t;return e?a.jsx(ci,{closable:i,onClose:l,style:{display:"flex",flexDirection:"row",paddingInline:"1px",marginInlineEnd:"4px",height:21,alignItems:"center",overflow:"hidden"},children:a.jsx(f,{children:a.jsx("img",{title:e,src:U.getSetImage(e,d.Parts.PlanarSphere),style:{width:24,height:24}})})}):a.jsx(ci,{closable:i,onClose:l,children:a.jsx(f,{children:(t.label||"").replace(/[^0-9+]/g,"")})})}si.propTypes={value:_.string,closable:_.bool,onClose:_.func};const{Text:O0}=pt;var xn=(t=>(t.Disabled="disabled",t.CharacterStats="characterStats",t.SubstatTotals="substatTotals",t.SubstatRolls="substatRolls",t))(xn||{});const fh=425,z0=680,li=215,_0=190;function Gh(){const{t}=et("optimizerTab",{keyPrefix:"StatSimulation"}),e=window.store(o=>o.statSimulationDisplay),i=window.store(o=>o.setStatSimulationDisplay),l=window.store(o=>o.setConditionalSetEffectsDrawerOpen);function s(){return e=="disabled"||!e}return a.jsx(Ue,{style:{overflow:"hidden"},size:"large",height:fh,children:a.jsxs(f,{gap:15,style:{height:"100%"},children:[a.jsxs(f,{vertical:!0,gap:15,align:"center",children:[a.jsxs(pe.Group,{onChange:o=>{const{target:{value:c}}=o;i(c)},optionType:"button",buttonStyle:"solid",value:e,style:{width:`${z0}px`,display:"flex"},children:[a.jsx(pe,{style:{display:"flex",flex:.3,justifyContent:"center",paddingInline:0},value:"disabled",children:t("ModeSelector.Off")}),a.jsx(pe,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"substatRolls",children:t("ModeSelector.RollCount")}),a.jsx(pe,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"substatTotals",children:t("ModeSelector.Totals")})]}),a.jsx(f,{style:{minHeight:302},children:a.jsx(ph,{})}),a.jsxs(f,{gap:10,children:[a.jsx(w,{style:{width:200},disabled:s(),onClick:w0,icon:a.jsx(es,{}),children:t("FooterLabels.Simulate")}),a.jsx(w,{style:{width:200},disabled:s(),onClick:mh,icon:a.jsx(rr,{}),children:t("FooterLabels.Import")}),a.jsx(w,{style:{width:200},disabled:s(),onClick:()=>l(!0),icon:a.jsx(An,{}),children:t("FooterLabels.Conditionals")})]})]}),a.jsx(f,{vertical:!0,justify:"space-around",children:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx(w,{type:"primary",style:{width:35,height:100,padding:0},onClick:ih,disabled:s(),children:a.jsx(dr,{})}),a.jsx(On,{title:t("DeletePopup.Title"),description:t("DeletePopup.Description"),onConfirm:uh,placement:"bottom",okText:t("DeletePopup.OkText"),cancelText:t("DeletePopup.CancelText"),children:a.jsx(w,{type:"dashed",style:{width:35,height:35,padding:0},disabled:s(),children:a.jsx(ll,{})})})]})}),a.jsx(Ch,{})]})})}function Ch(){const{t}=et("optimizerTab",{keyPrefix:"StatSimulation"}),e=window.store(o=>o.statSimulationDisplay),i=X.useWatch(o=>o.statSim,window.optimizerForm),l=L.useMemo(()=>{if(!i)return 0;let o=0;for(const c of Ye){const r=i.substatRolls;r!=null&&r.stats[c]&&(o+=r.stats[c])}return o},[i]),s=L.useMemo(()=>a.jsxs(a.Fragment,{children:[a.jsx(X.Item,{name:wn("simulations"),children:a.jsx(Oe,{placeholder:"This is a fake hidden input to save simulations into the form",style:{display:"none"}})}),a.jsxs(f,{gap:5,style:{display:e=="substatTotals"?"flex":"none"},children:[a.jsxs(f,{vertical:!0,gap:5,style:{width:li},children:[a.jsx(so,{simType:"substatTotals"}),a.jsx(lo,{simType:"substatTotals"}),a.jsx(nt,{children:t("OptionsHeader")}),a.jsx(X.Item,{name:wn("substatTotals","name"),children:a.jsx(Oe,{placeholder:t("SimulationNamePlaceholder"),autoComplete:"off"})})]}),a.jsx(da,{}),a.jsx(oo,{simType:"substatTotals",title:t("TotalsHeader")})]}),a.jsxs(f,{gap:5,style:{display:e=="substatRolls"?"flex":"none"},children:[a.jsxs(f,{vertical:!0,gap:5,style:{width:li},children:[a.jsx(so,{simType:"substatRolls"}),a.jsx(lo,{simType:"substatRolls"}),a.jsx(nt,{children:t("OptionsHeader")}),a.jsx(X.Item,{name:wn("substatRolls","name"),children:a.jsx(Oe,{placeholder:t("SimulationNamePlaceholder"),autoComplete:"off"})})]}),a.jsx(da,{}),a.jsx(oo,{simType:"substatRolls",title:t("RollsHeader"),total:l})]}),a.jsxs(f,{gap:5,style:{display:e=="disabled"?"flex":"none"},children:[a.jsx("div",{style:{width:li}}),a.jsx(da,{})]})]}),[e,l,t]);return a.jsx(f,{style:{minHeight:300},children:s})}function so(t){const{t:e,i18n:i}=et("optimizerTab",{keyPrefix:"StatSimulation"});return a.jsxs(a.Fragment,{children:[a.jsx(nt,{children:"Sets"}),a.jsx(X.Item,{name:wn(t.simType,"simRelicSet1"),style:{maxHeight:32},children:a.jsx(K,{dropdownStyle:{width:250},listHeight:700,allowClear:!0,options:L.useMemo(()=>io(),[i.resolvedLanguage]),tagRender:si,placeholder:e("RelicSetPlaceholder"),maxTagCount:"responsive",showSearch:!0})}),a.jsx(X.Item,{name:wn(t.simType,"simRelicSet2"),style:{maxHeight:32},children:a.jsx(K,{dropdownStyle:{width:250},listHeight:700,allowClear:!0,options:L.useMemo(()=>io(),[i.resolvedLanguage]),tagRender:si,placeholder:e("RelicSetPlaceholder"),maxTagCount:"responsive",showSearch:!0})}),a.jsx(X.Item,{name:wn(t.simType,"simOrnamentSet"),style:{maxHeight:32},children:a.jsx(K,{dropdownStyle:{width:250},listHeight:600,allowClear:!0,options:L.useMemo(()=>J0(),[i.resolvedLanguage]),tagRender:si,placeholder:e("OrnamentSetPlaceholder"),maxTagCount:"responsive",showSearch:!0})})]})}function lo(t){const{t:e}=et("optimizerTab",{keyPrefix:"StatSimulation.MainStatsSelection"}),i=L.useMemo(()=>[n.HP_P,n.ATK_P,n.DEF_P,n.CR,n.CD,n.EHR,n.OHB].map(c=>({value:c,short:e("ShortStat",{stat:c}),label:e("LabelStat",{stat:c})})),[e]),l=L.useMemo(()=>[n.HP_P,n.ATK_P,n.DEF_P,n.SPD].map(c=>({value:c,short:e("ShortStat",{stat:c}),label:e("LabelStat",{stat:c})})),[e]),s=L.useMemo(()=>[n.HP_P,n.ATK_P,n.DEF_P,n.BE,n.ERR].map(c=>({value:c,short:e("ShortStat",{stat:c}),label:e("LabelStat",{stat:c})})),[e]),o=L.useMemo(()=>[n.HP_P,n.ATK_P,n.DEF_P,n.Physical_DMG,n.Fire_DMG,n.Ice_DMG,n.Lightning_DMG,n.Wind_DMG,n.Quantum_DMG,n.Imaginary_DMG].map(c=>({value:c,short:e("ShortStat",{stat:c}),label:e("LabelStat",{stat:c})})),[e]);return a.jsxs(a.Fragment,{children:[a.jsx(nt,{children:e("Header")}),a.jsxs(f,{vertical:!0,gap:5,children:[a.jsxs(f,{gap:5,style:{width:li},children:[a.jsx(Ti,{placeholder:e("BodyPlaceholder"),part:Z.Body,options:i,simType:t.simType}),a.jsx(Ti,{placeholder:e("FeetPlaceholder"),part:Z.Feet,options:l,simType:t.simType})]}),a.jsxs(f,{gap:5,style:{width:li},children:[a.jsx(Ti,{placeholder:e("SpherePlaceholder"),part:Z.PlanarSphere,options:o,simType:t.simType}),a.jsx(Ti,{placeholder:e("SpherePlaceholder"),part:Z.LinkRope,options:s,simType:t.simType})]})]})]})}function Ti(t){return a.jsx(X.Item,{name:wn(t.simType,"sim"+t.part),style:{flex:1},children:a.jsx(K,{placeholder:t.placeholder,style:{flex:1},allowClear:!0,optionLabelProp:"short",maxTagCount:"responsive",suffixIcon:a.jsx("img",{style:{width:16},src:U.getPart(t.part)}),options:t.options,listHeight:750,popupMatchSelectWidth:200,showSearch:!0})})}function oo(t){const{t:e}=et("optimizerTab",{keyPrefix:"StatSimulation"});return a.jsx(a.Fragment,{children:a.jsxs(f,{vertical:!0,children:[a.jsx(nt,{children:t.title}),a.jsxs(f,{vertical:!0,gap:5,children:[a.jsx(we,{simType:t.simType,name:n.ATK_P,label:e("SubstatSelectorLabel",{stat:n.ATK_P})}),a.jsx(we,{simType:t.simType,name:n.ATK,label:e("SubstatSelectorLabel",{stat:n.ATK})}),a.jsx(we,{simType:t.simType,name:n.CR,label:e("SubstatSelectorLabel",{stat:n.CR})}),a.jsx(we,{simType:t.simType,name:n.CD,label:e("SubstatSelectorLabel",{stat:n.CD})}),a.jsx(we,{simType:t.simType,name:n.SPD,label:e("SubstatSelectorLabel",{stat:n.SPD})}),a.jsx(we,{simType:t.simType,name:n.BE,label:e("SubstatSelectorLabel",{stat:n.BE})}),a.jsx(we,{simType:t.simType,name:n.HP_P,label:e("SubstatSelectorLabel",{stat:n.HP_P})}),a.jsx(we,{simType:t.simType,name:n.HP,label:e("SubstatSelectorLabel",{stat:n.HP})}),a.jsx(we,{simType:t.simType,name:n.DEF_P,label:e("SubstatSelectorLabel",{stat:n.DEF_P})}),a.jsx(we,{simType:t.simType,name:n.DEF,label:e("SubstatSelectorLabel",{stat:n.DEF})}),a.jsx(we,{simType:t.simType,name:n.EHR,label:e("SubstatSelectorLabel",{stat:n.EHR})}),a.jsx(we,{simType:t.simType,name:n.RES,label:e("SubstatSelectorLabel",{stat:n.RES})}),t.simType=="substatRolls"&&a.jsxs(f,{justify:"space-between",style:{width:_0},children:[a.jsx(O0,{children:e("TotalRolls")}),a.jsx(mn,{size:"small",controls:!1,disabled:!0,value:x.truncate10ths(t.total),variant:"borderless",formatter:i=>`${i} / 54`,max:54,status:t.total>54?"error":void 0,style:{width:70}})]})]})]})})}function we(t){return a.jsxs(f,{justify:"space-between",style:{width:_0},children:[a.jsx(O0,{children:t.label}),a.jsx(X.Item,{name:wn(t.simType,"stats",t.name),children:a.jsx(mn,{size:"small",controls:!1,disabled:t.disabled,value:t.value,style:{width:70}})})]})}function wn(t,e,i){return["statSim",t,e,i].filter(l=>l)}function q0(t){if(t){const e=x.clone(y.getScoringMetadata(t));return e.stats.headHands=0,e.stats.bodyFeet=0,e.stats.sphereRope=0,e.stats}return{[d.Stats.HP_P]:1,[d.Stats.ATK_P]:1,[d.Stats.DEF_P]:1,[d.Stats.SPD_P]:1,[d.Stats.HP]:1,[d.Stats.ATK]:1,[d.Stats.DEF]:1,[d.Stats.SPD]:1,[d.Stats.CD]:1,[d.Stats.CR]:1,[d.Stats.EHR]:1,[d.Stats.RES]:1,[d.Stats.BE]:1,headHands:0,bodyFeet:0,sphereRope:0}}function pa(t){var r,u;const e=(r=y.getMetadata().characters[t==null?void 0:t.id])==null?void 0:r.scoringMetadata,i=(e==null?void 0:e.parts)||{},l=(e==null?void 0:e.stats)||q0(),s={};Object.values(zi).map(R=>s[R.key]=0);const o=x.clone({characterId:t==null?void 0:t.id,mainBody:i[d.Parts.Body]||[],mainFeet:i[d.Parts.Feet]||[],mainPlanarSphere:i[d.Parts.PlanarSphere]||[],mainLinkRope:i[d.Parts.LinkRope]||[],relicSets:[],ornamentSets:[],characterLevel:80,characterEidolon:0,lightConeLevel:80,lightConeSuperimposition:1,mainStatUpscaleLevel:15,rankFilter:!0,includeEquippedRelics:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[],statDisplay:ii,statSim:Zh,weights:l,setConditionals:ka,teammate0:Ui(),teammate1:Ui(),teammate2:Ui(),resultSort:e==null?void 0:e.sortOption.key,resultsLimit:1024,combatBuffs:s,combo:{BASIC:0,SKILL:0,ULT:0,FUA:0,DOT:0,BREAK:0},...$0()}),c=(u=y.getMetadata().characters[t==null?void 0:t.id])==null?void 0:u.element;if(c&&(o.setConditionals[M.GeniusOfBrilliantStars][1]=c=="Quantum",o.setConditionals[M.ForgeOfTheKalpagniLantern][1]=c=="Fire"),e!=null&&e.presets){const R=e.presets||[];for(const h of R)h(o)}return o}function Ui(){return{characterId:null,characterEidolon:0,lightConeSuperimposition:1}}const Zh={simType:xn.Disabled,simulations:[]};function $0(){return{enemyLevel:95,enemyCount:1,enemyResistance:.2,enemyEffectResistance:.2,enemyMaxToughness:360,enemyElementalWeak:!0,enemyWeaknessBroken:!1}}const ka={[d.Sets.PasserbyOfWanderingCloud]:[void 0,!0],[d.Sets.MusketeerOfWildWheat]:[void 0,!0],[d.Sets.KnightOfPurityPalace]:[void 0,!0],[d.Sets.HunterOfGlacialForest]:[void 0,!0],[d.Sets.ChampionOfStreetwiseBoxing]:[void 0,5],[d.Sets.GuardOfWutheringSnow]:[void 0,!0],[d.Sets.FiresmithOfLavaForging]:[void 0,!0],[d.Sets.GeniusOfBrilliantStars]:[void 0,!0],[d.Sets.BandOfSizzlingThunder]:[void 0,!0],[d.Sets.EagleOfTwilightLine]:[void 0,!0],[d.Sets.ThiefOfShootingMeteor]:[void 0,!0],[d.Sets.WastelanderOfBanditryDesert]:[void 0,1],[d.Sets.LongevousDisciple]:[void 0,2],[d.Sets.MessengerTraversingHackerspace]:[void 0,!1],[d.Sets.TheAshblazingGrandDuke]:[void 0,0],[d.Sets.PrisonerInDeepConfinement]:[void 0,0],[d.Sets.PioneerDiverOfDeadWaters]:[void 0,2],[d.Sets.WatchmakerMasterOfDreamMachinations]:[void 0,!1],[d.Sets.IronCavalryAgainstTheScourge]:[void 0,!0],[d.Sets.TheWindSoaringValorous]:[void 0,!1],[d.Sets.SacerdosRelivedOrdeal]:[void 0,!0],[d.Sets.ScholarLostInErudition]:[void 0,!0],[d.Sets.SpaceSealingStation]:[void 0,!0],[d.Sets.FleetOfTheAgeless]:[void 0,!0],[d.Sets.PanCosmicCommercialEnterprise]:[void 0,!0],[d.Sets.BelobogOfTheArchitects]:[void 0,!0],[d.Sets.CelestialDifferentiator]:[void 0,!1],[d.Sets.InertSalsotto]:[void 0,!0],[d.Sets.TaliaKingdomOfBanditry]:[void 0,!0],[d.Sets.SprightlyVonwacq]:[void 0,!0],[d.Sets.RutilantArena]:[void 0,!0],[d.Sets.BrokenKeel]:[void 0,!0],[d.Sets.FirmamentFrontlineGlamoth]:[void 0,!0],[d.Sets.PenaconyLandOfTheDreams]:[void 0,!0],[d.Sets.SigoniaTheUnclaimedDesolation]:[void 0,4],[d.Sets.IzumoGenseiAndTakamaDivineRealm]:[void 0,!0],[d.Sets.DuranDynastyOfRunningWolves]:[void 0,5],[d.Sets.ForgeOfTheKalpagniLantern]:[void 0,!1],[d.Sets.LushakaTheSunkenSeas]:[void 0,!1],[d.Sets.TheWondrousBananAmusementPark]:[void 0,!1]},Dn={characterOptions:"Character options",relicAndStatFilters:"Relic & stat filters",teammates:"Teammates",characterStatsSimulation:"Character custom stats simulation"};function Hi(t){const{t:e}=et("optimizerTab",{keyPrefix:"FormRowLabels"}),i=window.store(c=>c.optimizerMenuState),l=window.store(c=>c.setOptimizerMenuState);function s(c){i[t.id]=c.length>0,l(i)}const o=[{key:t.id,label:a.jsx(f,{style:{paddingTop:8},children:t.label??e(`${t.id}`)}),forceRender:!0,children:a.jsx(f,{style:{paddingLeft:10,marginTop:5,paddingRight:10},gap:10,children:t.children})}];return a.jsx(f,{gap:0,vertical:!0,className:"form-row",style:{minWidth:"100%"},children:a.jsx(ji,{defaultActiveKey:i[t.id]?t.id:void 0,items:o,onChange:s,expandIconPosition:"end",ghost:!0})})}function gh(t){const{t:e}=et("optimizerTab",{keyPrefix:"TeammateRow"}),i=window.store(s=>s.teammateCount),l=L.useMemo(()=>e("Header",{teammateCount:i?` (${i})`:""}),[i,e]);return a.jsx(Hi,{id:t.id,label:l,children:t.children})}const tc={BLUE:{colorTextBase:"#ffffff",colorBgBase:"#182239",colorPrimary:"#1677FF"},ALT:{colorTextBase:"#ffffff",colorBgBase:"#182239",colorPrimary:"#1677FF"}};function fl(t){return{"--ag-background-color":t.colorBgContainer,"--ag-odd-row-background-color":t.colorBgElevated,"--ag-header-background-color":t.colorBgLayout,"--ag-border-color":t.colorBorderSecondary,"--ag-row-hover-color":t.colorPrimary}}const{Text:Vs}=pt,Th=5,co=xe.span`
    white-space: wrap !important;
    word-break: break-word !important;`,At={RelicEquippingBehavior:{name:"RelicEquippingBehavior",Swap:"Swap",Replace:"Replace"},PermutationsSidebarBehavior:{name:"PermutationsSidebarBehavior",NoShow:"Do Not Show",ShowXL:"Show XL",ShowXXL:"Show XXL"},RelicPotentialLoadBehavior:{name:"RelicPotentialLoadBehavior",ScoreAtStartup:"Score at startup",ManuallyClickReapplyScores:"Manually click reapply scores"}},ec={[At.RelicEquippingBehavior.name]:At.RelicEquippingBehavior.Replace,[At.PermutationsSidebarBehavior.name]:At.PermutationsSidebarBehavior.ShowXL,[At.RelicPotentialLoadBehavior.name]:At.RelicPotentialLoadBehavior.ScoreAtStartup},Dh=()=>{const[t]=X.useForm(),e=window.store(h=>h.settingsDrawerOpen),i=window.store(h=>h.setSettingsDrawerOpen),l=window.store(h=>h.settings),s=window.store(h=>h.setSettings),{t:o}=et("settings"),c=[{value:At.RelicEquippingBehavior.Replace,label:a.jsx("span",{children:o("RelicEquippingBehaviour.Replace")})},{value:At.RelicEquippingBehavior.Swap,label:a.jsx("span",{children:o("RelicEquippingBehaviour.Swap")})}],r=[{value:At.PermutationsSidebarBehavior.ShowXL,label:a.jsx("span",{children:o("PermutationSidebarBehaviour.XL")})},{value:At.PermutationsSidebarBehavior.ShowXXL,label:a.jsx("span",{children:o("PermutationSidebarBehaviour.XXL")})},{value:At.PermutationsSidebarBehavior.NoShow,label:a.jsx("span",{children:o("PermutationSidebarBehaviour.NoShow")})}],u=[{value:At.RelicPotentialLoadBehavior.ScoreAtStartup,label:a.jsx("span",{children:o("RelicPotentialLoadBehaviour.OnStartup")})},{value:At.RelicPotentialLoadBehavior.ManuallyClickReapplyScores,label:a.jsx("span",{children:o("RelicPotentialLoadBehaviour.Manual")})}];L.useEffect(()=>{const h=x.clone(ec),S=x.mergeDefinedValues(h,l);s(S),t.setFieldsValue(S)},[]);const R=(h,S)=>{s(S),gt.save()};return a.jsx(X,{form:t,onValuesChange:R,children:a.jsx(ns,{title:o("Title"),placement:"right",onClose:()=>i(!1),open:e,width:900,forceRender:!0,children:a.jsxs(f,{vertical:!0,gap:Th,children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(Vs,{children:o("RelicEquippingBehaviour.Label")}),a.jsx(X.Item,{name:At.RelicEquippingBehavior.name,children:a.jsx(K,{style:{width:500},options:c})})]}),a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(Vs,{children:o("PermutationSidebarBehaviour.Label")}),a.jsx(X.Item,{name:At.PermutationsSidebarBehavior.name,children:a.jsx(K,{style:{width:500},options:r,optionRender:h=>a.jsx(co,{children:h.label})})})]}),a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(Vs,{children:o("RelicPotentialLoadBehaviour.Label")}),a.jsx(X.Item,{name:At.RelicPotentialLoadBehavior.name,children:a.jsx(K,{style:{width:500},options:u,optionRender:h=>a.jsx(co,{children:h.label})})})]})]})})})},Vh={1001:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1002:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1003:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1004:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1005:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":.5,"CRIT DMG":.5,"Effect Hit Rate":.5,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1006:{ATK:.5,"ATK%":.5,DEF:.25,"DEF%":.25,HP:.25,"HP%":.25,SPD:1,"CRIT Rate":.75,"CRIT DMG":.75,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1008:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1009:{ATK:.75,"ATK%":.75,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":.5,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1013:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1101:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1102:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1103:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1104:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":.75,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1105:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1106:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1107:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1108:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1109:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1110:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1111:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1112:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1201:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1202:{ATK:1,"ATK%":1,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1203:{ATK:1,"ATK%":1,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1204:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1205:{ATK:.25,"ATK%":.25,DEF:0,"DEF%":0,HP:1,"HP%":1,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1206:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1207:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1208:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1209:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1210:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1211:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1212:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1213:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1214:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1215:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1217:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1218:{ATK:.5,"ATK%":.5,DEF:.5,"DEF%":.5,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1220:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1221:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1222:{ATK:.75,"ATK%":.75,DEF:.5,"DEF%":.5,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1223:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1224:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1301:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1302:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1303:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1304:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1305:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1306:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1307:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1308:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1309:{ATK:1,"ATK%":1,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1310:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1312:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1314:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1315:{ATK:.5,"ATK%":.5,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":.75,"CRIT DMG":.75,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8001:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8002:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8003:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":.75,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8004:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":.75,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8005:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8006:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0}},ro={relics:[],characters:[],metadata:{},relicsById:{},globals:{},scorerId:void 0},Xn="/dreary-quibbles",mt={OPTIMIZER:"OPTIMIZER",CHARACTERS:"CHARACTERS",RELICS:"RELICS",IMPORT:"IMPORT",GETTING_STARTED:"GETTING_STARTED",CHANGELOG:"CHANGELOG",SETTINGS:"SETTINGS",RELIC_SCORER:"RELIC_SCORER",WEBGPU_TEST:"WEBGPU_TEST"},Tn={[mt.OPTIMIZER]:Xn,[mt.RELIC_SCORER]:Xn+"#scorer",[mt.CHANGELOG]:Xn+"#changelog",[mt.GETTING_STARTED]:Xn+"#getting-started",[mt.WEBGPU_TEST]:Xn+"#webgpu"},uo={[Tn[mt.OPTIMIZER]]:mt.OPTIMIZER,[Tn[mt.RELIC_SCORER]]:mt.RELIC_SCORER,[Tn[mt.CHANGELOG]]:mt.CHANGELOG,[Tn[mt.GETTING_STARTED]]:mt.GETTING_STARTED,[Tn[mt.WEBGPU_TEST]]:mt.WEBGPU_TEST},nc={[ae.optimizerCharacterId]:null,[ae.relicScorerSidebarOpen]:!0,[ae.scoringType]:Ni,[ae.combatScoreDetails]:zs,[ae.computeEngine]:ui};window.store=ur(t=>({version:Oi,colorTheme:tc.BLUE,optimizerGrid:void 0,optimizerTabFocusCharacter:void 0,characterTabFocusCharacter:void 0,scoringAlgorithmFocusCharacter:void 0,relicsTabFocusCharacter:void 0,inventoryWidth:9,rowLimit:10,activeKey:uo[x.stripTrailingSlashes(window.location.pathname)]?uo[x.stripTrailingSlashes(window.location.pathname)+window.location.hash.split("?")[0]]:mt.OPTIMIZER,characters:[],charactersById:{},conditionalSetEffectsDrawerOpen:!1,combatBuffsDrawerOpen:!1,enemyConfigurationsDrawerOpen:!1,settingsDrawerOpen:!1,permutations:0,permutationsResults:0,permutationsSearched:0,relicsById:{},scorerId:void 0,scoringMetadataOverrides:{},statDisplay:ii,statSimulationDisplay:xn.Disabled,statSimulations:[],selectedStatSimulations:[],optimizationInProgress:!1,optimizationId:void 0,teammateCount:0,zeroPermutationModalOpen:!1,zeroResultModalOpen:!1,menuSidebarOpen:!0,relicScorerSidebarOpen:!0,optimizerRunningEngine:null,optimizerStartTime:null,optimizerEndTime:null,optimizerTabFocusCharacterSelectModalOpen:!1,optimizerFormCharacterEidolon:0,optimizerFormSelectedLightCone:null,optimizerFormSelectedLightConeSuperimposition:1,permutationDetails:{Head:0,Hands:0,Body:0,Feet:0,PlanarSphere:0,LinkRope:0,HeadTotal:0,HandsTotal:0,BodyTotal:0,FeetTotal:0,PlanarSphereTotal:0,LinkRopeTotal:0},relicTabFilters:{set:[],part:[],enhance:[],mainStats:[],subStats:[],grade:[],verified:[],equippedBy:[]},characterTabFilters:{name:"",element:[],path:[],rarity:[]},excludedRelicPotentialCharacters:[],optimizerMenuState:{[Dn.characterOptions]:!0,[Dn.relicAndStatFilters]:!0,[Dn.teammates]:!0,[Dn.characterStatsSimulation]:!1},savedSession:nc,settings:ec,setVersion:e=>t(()=>({version:e})),setActiveKey:e=>t(()=>({activeKey:e})),setCharacters:e=>t(()=>({characters:e})),setCharactersById:e=>t(()=>({charactersById:e})),setInventoryWidth:e=>t(()=>({inventoryWidth:e})),setRowLimit:e=>t(()=>({rowLimit:e})),setConditionalSetEffectsDrawerOpen:e=>t(()=>({conditionalSetEffectsDrawerOpen:e})),setCombatBuffsDrawerOpen:e=>t(()=>({combatBuffsDrawerOpen:e})),setEnemyConfigurationsDrawerOpen:e=>t(()=>({enemyConfigurationsDrawerOpen:e})),setSettingsDrawerOpen:e=>t(()=>({settingsDrawerOpen:e})),setOptimizerTabFocusCharacter:e=>t(()=>({optimizerTabFocusCharacter:e})),setCharacterTabFocusCharacter:e=>t(()=>({characterTabFocusCharacter:e})),setScoringAlgorithmFocusCharacter:e=>t(()=>({scoringAlgorithmFocusCharacter:e})),setRelicsTabFocusCharacter:e=>t(()=>({relicsTabFocusCharacter:e})),setPermutationDetails:e=>t(()=>({permutationDetails:e})),setPermutations:e=>t(()=>({permutations:e})),setPermutationsResults:e=>t(()=>({permutationsResults:e})),setPermutationsSearched:e=>t(()=>({permutationsSearched:e})),setRelicsById:e=>t(()=>({relicsById:e})),setRelicTabFilters:e=>t(()=>({relicTabFilters:e})),setCharacterTabFilters:e=>t(()=>({characterTabFilters:e})),setScorerId:e=>t(()=>({scorerId:e})),setScoringMetadataOverrides:e=>t(()=>({scoringMetadataOverrides:e})),setStatDisplay:e=>t(()=>({statDisplay:e})),setStatSimulationDisplay:e=>t(()=>({statSimulationDisplay:e})),setStatSimulations:e=>t(()=>({statSimulations:x.clone(e)})),setSelectedStatSimulations:e=>t(()=>({selectedStatSimulations:e})),setOptimizerMenuState:e=>t(()=>({optimizerMenuState:e})),setOptimizationInProgress:e=>t(()=>({optimizationInProgress:e})),setOptimizationId:e=>t(()=>({optimizationId:e})),setOptimizerStartTime:e=>t(()=>({optimizerStartTime:e})),setOptimizerRunningEngine:e=>t(()=>({optimizerRunningEngine:e})),setOptimizerEndTime:e=>t(()=>({optimizerEndTime:e})),setTeammateCount:e=>t(()=>({teammateCount:e})),setOptimizerFormCharacterEidolon:e=>t(()=>({optimizerFormCharacterEidolon:e})),setOptimizerFormSelectedLightCone:e=>t(()=>({optimizerFormSelectedLightCone:e})),setOptimizerFormSelectedLightConeSuperimposition:e=>t(()=>({optimizerFormSelectedLightConeSuperimposition:e})),setOptimizerTabFocusCharacterSelectModalOpen:e=>t(()=>({optimizerTabFocusCharacterSelectModalOpen:e})),setZeroPermutationsModalOpen:e=>t(()=>({zeroPermutationModalOpen:e})),setZeroResultModalOpen:e=>t(()=>({zeroResultModalOpen:e})),setExcludedRelicPotentialCharacters:e=>t(()=>({excludedRelicPotentialCharacters:e})),setMenuSidebarOpen:e=>t(()=>({menuSidebarOpen:e})),setSettings:e=>t(()=>({settings:e})),setSavedSession:e=>t(()=>({savedSession:e})),setSavedSessionKey:(e,i)=>t(l=>({savedSession:{...l.savedSession,[e]:i}})),setColorTheme:e=>t(()=>({colorTheme:e}))}));const y={getMetadata:()=>ro.metadata,setMetadata:t=>ro.metadata=t,getCharacters:()=>window.store.getState().characters,getCharacterById:t=>window.store.getState().charactersById[t],setCharacters:t=>{const e={};for(const l of t)e[l.id]=l;mo(t);const i=[...t];window.store.getState().setCharacters(i),window.store.getState().setCharactersById(e)},setCharacter:t=>{const e=window.store.getState().charactersById;e[t.id]=t,window.store.getState().setCharactersById(e)},addCharacter:t=>{const e=y.getCharacters();e.push(t),y.setCharacters(e)},insertCharacter:(t,e)=>{console.log("insert",t,e);const i=y.getCharacters();e<0&&(e=i.length);const l=y.getCharacterById(t);if(!l)return console.warn("No matching character to insert",t,e);const s=i.splice(l.rank,1);i.splice(e,0,s[0]),y.setCharacters(i)},refreshCharacters:()=>{window.setCharacterRows&&window.setCharacterRows(y.getCharacters())},getRelics:()=>Object.values(window.store.getState().relicsById),getRelicsById:()=>window.store.getState().relicsById,setRelics:t=>{const e={};for(const i of t)e[i.id]=i;window.store.getState().setRelicsById(e)},getRelicById:t=>window.store.getState().relicsById[t],setRelic:t=>{var l;if(!t.id)return console.warn("No matching relic",t);const e=y.getRelicById(t.id);!e?(t.ageIndex=y.getRelics().length,qn(t),t.equippedBy&&y.equipRelic(t,t.equippedBy)):((e.part!==t.part||!t.equippedBy)&&(y.unequipRelicById(t.id),qn(t)),t.equippedBy&&((l=y.getCharacterById(t.equippedBy))==null?void 0:l.equipped[t.part])!==t.id&&y.equipRelic(t,t.equippedBy),qn(t))},refreshRelics:()=>{window.setRelicRows&&window.setRelicRows(y.getRelics())},getState:()=>window.store.getState(),getScoringMetadata:t=>{const e=y.getMetadata().characters[t].scoringMetadata,i=window.store.getState().scoringMetadataOverrides[t],l=x.mergeUndefinedValues(i||{},e);for(const s of Object.keys(e.stats))l.stats[s]==null&&(l.stats[s]=0);return delete l.presets,l},updateCharacterScoreOverrides:(t,e)=>{const i=window.store.getState().scoringMetadataOverrides;i[t]?x.mergeDefinedValues(i[t],e):i[t]=e,e.modified&&(i.modified=!0),window.store.getState().setScoringMetadataOverrides(i),gt.save()},updateSimulationScoreOverrides:(t,e)=>{if(!e)return;const i=window.store.getState().scoringMetadataOverrides;i[t]?i[t].simulation=e:i[t]={simulation:e},window.store.getState().setScoringMetadataOverrides(i),setTimeout(()=>{gt.save()},2e3)},setStore:(t,e=!0)=>{var o,c,r,u,R,h,S;const i={},l=y.getMetadata().characters,s=y.getMetadata().lightCones;t.characters=t.characters.filter(m=>l[m.id]);for(const m of t.characters){m.equipped={},i[m.id]=m,(c=(o=m.form)==null?void 0:o.statSim)!=null&&c.simulations&&(m.form.statSim.simulations=m.form.statSim.simulations.filter(G=>{var g;return(g=G.request)==null?void 0:g.stats})),m.form.characterLevel=80,m.form.lightConeLevel=80;const b=m.form.relicSets||[];for(let G=b.length-1;G>=0;G--)(!b[G]||!Object.values(De).includes(b[G][0]))&&m.form.relicSets.splice(G,1);const p=s[(r=m.form)==null?void 0:r.lightCone]||{},C=l[m.id];(p==null?void 0:p.path)!=(C==null?void 0:C.path)&&(m.form.lightCone=void 0,m.form.lightConeLevel=80,m.form.lightConeSuperimposition=1,m.form.lightConeConditionals={});for(const G of Object.keys(d.Parts))m.form["main"+G]=Ro(m.form["main"+G]);((R=(u=m.form.setConditionals)==null?void 0:u[M.DuranDynastyOfRunningWolves])==null?void 0:R[1])>5&&(m.form.setConditionals[M.DuranDynastyOfRunningWolves][1]=5)}for(const m of Object.values(l))for(const b of Object.keys(d.Parts))m.scoringMetadata.parts[b]=Ro(m.scoringMetadata.parts[b]);for(const m of t.relics){ba.augment(m);const b=i[m.equippedBy];b&&!b.equipped[m.part]?b.equipped[m.part]=m.id:m.equippedBy=void 0}if(Ws(t.relics),t.scoringMetadataOverrides){for(const[m,b]of Object.entries(t.scoringMetadataOverrides)){b.length&&delete t.scoringMetadataOverrides[m];const p=t.scoringMetadataOverrides[m];if(p){if(!l[m]||!l[m].scoringMetadata)continue;const C=Vh[m]||{},G=l[m].scoringMetadata;let g=!0;for(const T of Object.values(d.Stats))if(x.nullUndefinedToZero(p.stats[T])!=x.nullUndefinedToZero(C[T])){g=!1;break}if(g)p.stats=x.clone(G.stats),p.modified=!1;else{let T=!1;for(const D of Object.values(d.Stats))if(x.nullUndefinedToZero(p.stats[D])!=x.nullUndefinedToZero(G.stats[D])){T=!0;break}T&&(p.modified=!0)}}}window.store.getState().setScoringMetadataOverrides(t.scoringMetadataOverrides||{})}if(window.store.getState().setScorerId(t.scorerId),t.optimizerMenuState){const m=window.store.getState().optimizerMenuState;for(const b of Object.values(Dn))t.optimizerMenuState[b]!=null&&(m[b]=t.optimizerMenuState[b]);window.store.getState().setOptimizerMenuState(m)}if(t.savedSession){l[t.savedSession.optimizerCharacterId]||delete t.savedSession.optimizerCharacterId;const m={...nc,...t.savedSession};window.store.getState().setSavedSession(m)}t.settings&&window.store.getState().setSettings(t.settings),window.store.getState().setExcludedRelicPotentialCharacters(t.excludedRelicPotentialCharacters||[]),window.store.getState().setVersion(t.version),window.store.getState().setInventoryWidth(((h=t.relicLocator)==null?void 0:h.inventoryWidth)??9),window.store.getState().setRowLimit(((S=t.relicLocator)==null?void 0:S.rowLimit)??10),mo(t.characters),y.setRelics(t.relics),y.setCharacters(t.characters),y.refreshCharacters(),y.refreshRelics(),e&&gt.save()},resetStore:()=>{y.setStore({relics:[],characters:[]})},addFromForm:(t,e=!0)=>{var s,o;const i=y.getCharacters();let l=y.getCharacterById(t.characterId);if(l)l.form={...l.form,...t},y.setCharacters(i);else{const c=pa({id:t.characterId});l={id:t.characterId,form:{...c,...t},equipped:{}},y.addCharacter(l)}return console.log("Updated db characters",i),(o=(s=window.characterGrid)==null?void 0:s.current)!=null&&o.api&&(window.characterGrid.current.api.updateGridOptions({rowData:i}),window.characterGrid.current.api.forEachNode(c=>c.data.id==l.id?c.setSelected(!0):0),window.store.getState().setCharacterTabFocusCharacter(l.id)),e&&gt.save(),l},saveCharacterPortrait:(t,e)=>{let i=y.getCharacterById(t);i||(y.addFromForm({characterId:t}),i=y.getCharacterById(t),console.log("Character did not previously exist, adding",i)),i.portrait=e,y.setCharacter(i),console.log("Saved portrait",y.getState())},deleteCharacterPortrait:t=>{const e=y.getCharacterById(t);if(!e){console.warn("No character selected");return}delete e.portrait,y.setCharacter(e),console.log("Deleted portrait",y.getState())},saveCharacterBuild:(t,e,i)=>{var o;const l=y.getCharacterById(e);if(!l){console.warn("No character selected");return}if((o=l.builds)==null?void 0:o.find(c=>c.name==t)){const c=`Build name [${t}] already exists`;return console.warn(c),{error:c}}else l.builds||(l.builds=[]),l.builds.push({name:t,build:[...Object.values(l.equipped)],score:i}),y.setCharacter(l),console.log("Saved build",y.getState())},deleteCharacterBuild:(t,e)=>{const i=y.getCharacterById(t);if(!i)return console.warn("No character to delete build for");i.builds=i.builds.filter(l=>l.name!=e),y.setCharacter(i)},clearCharacterBuilds:t=>{const e=y.getCharacterById(t);if(!e)return console.warn("No character to clear builds for");e.builds=[],y.setCharacter(e)},unequipCharacter:t=>{const e=y.getCharacterById(t);if(!e)return console.warn("No character to unequip");console.log("Unequipping character",t,e);for(const i of Object.values(d.Parts)){const l=e.equipped[i];if(!l)continue;const s=y.getRelicById(l);e.equipped[i]=void 0,s&&(s.equippedBy=void 0,qn(s))}y.setCharacter(e)},removeCharacter:t=>{y.unequipCharacter(t);let e=y.getCharacters();e=e.filter(i=>i.id!=t),y.setCharacters(e)},unequipRelicById:t=>{if(!t)return console.warn("No relic");const e=y.getRelicById(t);console.log("UNEQUIP RELIC");const i=y.getCharacters();for(const l of i)l.equipped&&l.equipped[e.part]&&l.equipped[e.part]==e.id&&(l.equipped[e.part]=void 0);y.setCharacters(i),e.equippedBy=void 0,qn(e)},equipRelic:(t,e,i=!1)=>{if(!t||!t.id)return console.warn("No relic");if(!e)return console.warn("No character");t=y.getRelicById(t.id);const l=t.equippedBy,s=y.getCharacterById(l),o=y.getCharacterById(e),c=y.getRelicById(o.equipped[t.part]);c&&y.unequipRelicById(c.id);const r=i||y.getState().settings[At.RelicEquippingBehavior.name]==At.RelicEquippingBehavior.Swap;l!==e&&s&&(c&&r?(s.equipped[t.part]=c.id,c.equippedBy=s.id,qn(c)):s.equipped[t.part]=void 0,y.setCharacter(s)),o.equipped[t.part]=t.id,t.equippedBy=o.id,y.setCharacter(o),qn(t)},equipRelicIdsToCharacter:(t,e,i=!1)=>{if(!e)return console.warn("No characterId to equip to");console.log("Equipping relics to character",t,e);for(const l of t)y.equipRelic({id:l},e,i)},switchRelics:(t,e)=>{if(!t)return console.warn("No characterId to equip from");if(!e)return console.warn("No characterId to equip to");console.log(`Switching relics from character ${t} to character ${e}`);const i=y.getCharacterById(t);y.equipRelicIdsToCharacter(Object.values(i.equipped),e,!0)},deleteRelic:t=>{var i,l;if(!t)return Q.error("Unable to delete relic");y.unequipRelicById(t);const e=window.store.getState().relicsById;delete e[t],window.store.getState().setRelicsById(e),(l=(i=window.characterGrid)==null?void 0:i.current)!=null&&l.api&&window.characterGrid.current.api.redrawRows()},mergeRelicsWithState:(t,e)=>{var r,u,R,h;const i=y.getRelics();if(t=x.clone(t)||[],e=x.clone(e)||[],console.log("Merging relics",t,e),e)for(const S of e)y.addFromForm(S,!1);const l=y.getCharacters(),s={};for(const S of i){const m=bo(S);s[m]=S}let o=[];t.length==0&&(o=i);for(let S of t){const m=bo(S),b=s[m];let p;if(b?(S.verified&&(b.verified=!0,b.substats=S.substats,b.augmentedStats=S.augmentedStats),S.equippedBy&&e.length&&(b.equippedBy=S.equippedBy,S=b),o.push(b),p=b.id,delete s[m]):(p=S.id,o.push(S)),S.equippedBy&&e.length){const C=l.find(G=>G.id==S.equippedBy);C?C.equipped[S.part]=p:console.log("No character to equip relic to",S)}}Ws(o),console.log("Replacement relics",o),y.setRelics(o);for(const S of l)for(const m of Object.values(d.Parts))S.equipped&&S.equipped[m]&&!y.getRelicById(S.equipped[m])&&(S.equipped[m]=void 0);for(const S of y.getRelics()){if(!S.equippedBy)continue;const m=y.getCharacterById(S.equippedBy);(!m||m.equipped[S.part]!=S.id)&&(S.equippedBy=void 0)}for(const S of y.getCharacters())for(const m of Object.keys(S.equipped)){const b=S.equipped[m];b&&y.getRelicById(b).equippedBy!=S.id&&(S.equipped[m]=void 0)}y.setRelics(o),y.setCharacters(l),(u=(r=window.relicsGrid)==null?void 0:r.current)!=null&&u.api&&window.relicsGrid.current.api.updateGridOptions({rowData:o}),(h=(R=window.characterGrid)==null?void 0:R.current)!=null&&h.api&&window.characterGrid.current.api.redrawRows();const c=tt.getForm();window.onOptimizerFormValuesChange({},c),window.refreshRelicsScore()},mergePartialRelicsWithState:(t,e=[])=>{var c,r;const i=x.clone(y.getRelics())||[];t=x.clone(t)||[];const l=[],s=[],o=[];for(const u of t){const R=Wh(u,i);R?(R.substats=u.substats,R.main=u.main,R.enhance=u.enhance,R.verified=!0,l.push(R),o.push({relic:R,equippedBy:u.equippedBy})):(i.push(u),s.push(u),o.push({relic:u,equippedBy:u.equippedBy}),u.equippedBy=void 0)}console.log("addedNewRelics",s),console.log("updatedOldRelics",l),i.map(u=>ba.augment(u)),Ws(i),y.setRelics(i);for(const u of o)e.find(R=>R.id==u.equippedBy)&&y.equipRelic(u.relic,u.equippedBy);y.refreshRelics(),window.refreshRelicsScore(),(r=(c=window.characterGrid)==null?void 0:c.current)!=null&&r.api&&window.characterGrid.current.api.redrawRows(),l.length&&Q.success(V.t("importSaveTab:PartialImport.OldRelics",{count:l.length}),8),s.length&&Q.success(V.t("importSaveTab:PartialImport.NewRelics",{count:s.length}),8)}};function Wh(t,e){const i={};for(const c of e){const r=po(c);i[r]||(i[r]=[]),i[r].push(c)}const l=po(t),s=i[l]||[];let o;for(const c of s){if(t.enhance<c.enhance||t.substats.length<c.substats.length)continue;let r=!1,u=0;for(let h=0;h<c.substats.length;h++){const S=c.substats[h],m=t.substats.find(b=>b.stat==S.stat);if(!m){r=!0;break}if(S.stat!=m.stat){r=!0;break}if(ho(S,m)==-1){r=!0;break}ho(S,m)==1&&u++}if(r)continue;const R=Math.round((Math.floor(t.enhance/3)*3-Math.floor(c.enhance/3)*3)/3);if(!(u>R)){o=c;break}}return o}function mo(t){for(let i=0;i<t.length;i++)t[i].rank=i;const e=y.getCharacterById(window.store.getState().optimizerTabFocusCharacter);return e&&window.optimizerForm.setFieldValue("rank",e.rank),t}function bo(t){const e=[],i=[];for(const s of t.substats)x.isFlat(s.stat)?e.push(Math.floor(s.value)):e.push(x.precisionRound(x.truncate10ths(s.value))),i.push(s.stat);const l={part:t.part,set:t.set,grade:t.grade,enhance:t.enhance,mainstat:t.main.stat,mainvalue:Math.floor(t.main.value),substatValues:e,substatStats:i};return x.objectHash(l)}function ho(t,e){let i,l;return x.isFlat(t.stat)?(i=Math.floor(t.value),l=Math.floor(e.value)):(i=x.precisionRound(x.truncate10ths(t.value)),l=x.precisionRound(x.truncate10ths(e.value))),i==l?0:i<l?1:-1}function po(t){const e={part:t.part,set:t.set,grade:t.grade,mainstat:t.main.stat};return x.objectHash(e)}function qn(t){const e=window.store.getState().relicsById;e[t.id]=t,window.store.getState().setRelicsById(e)}function Ro(t){return t==null?t:[...new Set(t)]}function Ws(t){const e=t.length;for(let i=0;i<e;i++)t[i].ageIndex=e-i-1}let be,$n,Xi,en=[],tl,Ja,ca,Is,Es;const tt={setMetadata:(t,e)=>{$n=t,be=e},setAggs:t=>{Xi=t},getAggs:()=>Xi,setRows:t=>{en=t},setTopRow:(t,e=!1)=>{if(e){window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:[t]});return}const i=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData");i[0]=t,window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:i})},getRows:()=>en,scrollToGrid:()=>{document.getElementById("optimizerGridContainer").scrollIntoView({behavior:"smooth",block:"nearest"})},equipClicked:()=>{console.log("Equip clicked");const t=tt.getForm(),e=t.characterId;if(!e)return;y.addFromForm(t);const i=window.optimizerGrid.current.api.getSelectedNodes();if(!i||i.length==0||i[0].data.statSim)return;const l=i[0].data,s=tt.calculateRelicsFromId(l.id);y.equipRelicIdsToCharacter(Object.values(s),e),Q.success("Equipped relics"),tt.setTopRow(l),window.setOptimizerBuild(s),gt.save(),tt.updateFilters()},cellClicked:t=>{const e=t.data;if(t.rowPinned=="top"){console.log("Top row clicked",t.data);const l=tt.getForm();if(t.data&&l.characterId){const s=y.getCharacterById(l.characterId);if(e.id||window.optimizerGrid.current.api.deselectAll(),s&&e.id){const o=e.id,c=tt.calculateRelicsFromId(o);window.setOptimizerBuild(c);const r=window.optimizerGrid.current.api.getRowNode(String(e.id));if(r){const u=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData");String(u[0].id)==String(r.data.id)?window.optimizerGrid.current.api.deselectAll():r.setSelected(!0)}}else s&&window.setOptimizerBuild(s.equipped)}return}if(e.statSim){const l=e.statSim.key;window.store.getState().setSelectedStatSimulations([l]),window.setOptimizerBuild({}),window.optimizerGrid.current.api.deselectAll();return}console.log("cellClicked",t);const i=tt.calculateRelicsFromId(e.id);console.log("build",i),window.setOptimizerBuild(i)},getColumnsToAggregate:t=>(Is||(Es={[d.Stats.HP]:!0,[d.Stats.ATK]:!0,[d.Stats.DEF]:!0,[d.Stats.SPD]:!0,[d.Stats.CR]:!0,[d.Stats.CD]:!0,[d.Stats.EHR]:!0,[d.Stats.RES]:!0,[d.Stats.BE]:!0,[d.Stats.ERR]:!0,[d.Stats.OHB]:!0,ED:!0,WEIGHT:!0,EHP:!0,BASIC:!0,SKILL:!0,ULT:!0,FUA:!0,DOT:!0,BREAK:!0,COMBO:!0,xATK:!0,xDEF:!0,xHP:!0,xSPD:!0,xCR:!0,xCD:!0,xEHR:!0,xRES:!0,xBE:!0,xERR:!0,xOHB:!0,xELEMENTAL_DMG:!0},Is=Object.keys(Es)),t?Es:Is),resetDataSource:()=>{window.optimizerGrid.current.api.updateGridOptions({datasource:tt.getDataSource(ca,Ja)})},getDataSource:(t,e)=>(ca=t,Ja=e,{getRows:i=>{var l,s;Xi=void 0,(s=(l=window==null?void 0:window.optimizerGrid)==null?void 0:l.current)!=null&&s.api&&window.optimizerGrid.current.api.showLoadingOverlay(),x.sleep(100).then(()=>{var o,c;if(i.sortModel.length>0&&i.sortModel[0]!=ca&&(ca=i.sortModel[0],Ih()),Ja){Eh(Ja);const r=tl.slice(i.startRow,i.endRow),u=[];for(const R of r)u.push(en[R]);So(u),i.successCallback(u,tl.length)}else{const r=en.slice(i.startRow,i.endRow);So(r),i.successCallback(r,en.length)}(c=(o=window==null?void 0:window.optimizerGrid)==null?void 0:o.current)!=null&&c.api&&window.optimizerGrid.current.api.hideOverlay(),tt.redrawRows()})}}),calculateRelicsFromId:(t,e=!1)=>{const i=$n.lSize,l=$n.pSize,s=$n.fSize,o=$n.bSize,c=$n.gSize,r=$n.hSize,u=t,R=u%i,h=(u-R)/i%l,S=(u-h*i-R)/(i*l)%s,m=(u-S*l*i-h*i-R)/(i*l*s)%o,b=(u-m*s*l*i-S*l*i-h*i-R)/(i*l*s*o)%c,p=(u-b*o*s*l*i-m*s*l*i-S*l*i-h*i-R)/(i*l*s*o*c)%r,C=tt.getForm().characterId;return be.Head[p].optimizerCharacterId=C,be.Hands[b].optimizerCharacterId=C,be.Body[m].optimizerCharacterId=C,be.Feet[S].optimizerCharacterId=C,be.PlanarSphere[h].optimizerCharacterId=C,be.LinkRope[R].optimizerCharacterId=C,e?{Head:be.Head[p],Hands:be.Hands[b],Body:be.Body[m],Feet:be.Feet[S],PlanarSphere:be.PlanarSphere[h],LinkRope:be.LinkRope[R]}:{Head:be.Head[p].id,Hands:be.Hands[b].id,Body:be.Body[m].id,Feet:be.Feet[S].id,PlanarSphere:be.PlanarSphere[h].id,LinkRope:be.LinkRope[R].id}},getForm:()=>{const t=window.optimizerForm.getFieldsValue();return tt.fixForm(t)},getDisplayFormValues:t=>{var c;const e=x.clone(t),i=y.getMetadata().characters[t.characterId],l=y.getScoringMetadata(t.characterId);e.maxHp=he(t.maxHp),e.minHp=te(t.minHp),e.maxAtk=he(t.maxAtk),e.minAtk=te(t.minAtk),e.maxDef=he(t.maxDef),e.minDef=te(t.minDef),e.maxSpd=he(t.maxSpd),e.minSpd=te(t.minSpd),e.maxCr=he(t.maxCr,!0),e.minCr=te(t.minCr,!0),e.maxCd=he(t.maxCd,!0),e.minCd=te(t.minCd,!0),e.maxEhr=he(t.maxEhr,!0),e.minEhr=te(t.minEhr,!0),e.maxRes=he(t.maxRes,!0),e.minRes=te(t.minRes,!0),e.maxBe=he(t.maxBe,!0),e.minBe=te(t.minBe,!0),e.maxErr=he(t.maxErr,!0),e.minErr=te(t.minErr,!0),e.maxWeight=he(t.maxWeight),e.minWeight=te(t.minWeight),e.maxEhp=he(t.maxEhp),e.minEhp=te(t.minEhp),e.maxBasic=he(t.maxBasic),e.minBasic=te(t.minBasic),e.maxSkill=he(t.maxSkill),e.minSkill=te(t.minSkill),e.maxUlt=he(t.maxUlt),e.minUlt=te(t.minUlt),e.maxFua=he(t.maxFua),e.minFua=te(t.minFua),e.maxDot=he(t.maxDot),e.minDot=te(t.minDot),e.maxBreak=he(t.maxBreak),e.minBreak=te(t.minBreak),e.maxCombo=he(t.maxCombo),e.minCombo=te(t.minCombo),e.combatBuffs={},t.combatBuffs||(t.combatBuffs={});for(const r of Object.values(zi))e.combatBuffs[r.key]=te(t.combatBuffs[r.key],r.percent);e.combo={},t.combo||(t.combo={});for(const r of Ss)e.combo[r]=te(t.combo[r]);e.setConditionals?x.mergeUndefinedValues(e.setConditionals,ka):e.setConditionals=ka;const s=$0();if(t.enemyLevel||(e.enemyLevel=s.enemyLevel),t.enemyCount||(e.enemyCount=s.enemyCount),t.enemyResistance||(e.enemyResistance=s.enemyResistance),t.enemyEffectResistance||(e.enemyEffectResistance=s.enemyEffectResistance),t.enemyElementalWeak==null&&(e.enemyElementalWeak=s.enemyElementalWeak),t.enemyWeaknessBroken==null&&(e.enemyWeaknessBroken=s.enemyWeaknessBroken),t.enemyMaxToughness||(e.enemyMaxToughness=s.enemyMaxToughness),e.characterId){const r=En.get(e).defaults();e.characterConditionals||(e.characterConditionals={});for(const u of Object.keys(r))e.characterConditionals[u]==null&&(e.characterConditionals[u]=r[u])}if(e.lightCone){const r=bn.get(e).defaults();e.lightConeConditionals||(e.lightConeConditionals={});for(const u of Object.keys(r))e.lightConeConditionals[u]==null&&(e.lightConeConditionals[u]=r[u])}else e.lightCone=null,e.lightConeLevel=80,e.lightConeSuperimposition=1,e.lightConeConditionals={};e.statDisplay||(e.statDisplay=ii);const o=y.getCharacterById(e.characterId);if(o)e.rank=o.rank;else if(e.rank=y.getCharacters().length,i){for(const r of l.presets||[])r(e);e.mainBody=l.parts[d.Parts.Body],e.mainFeet=l.parts[d.Parts.Feet],e.mainPlanarSphere=l.parts[d.Parts.PlanarSphere],e.mainLinkRope=l.parts[d.Parts.LinkRope],e.weights=l.stats,e.weights.headHands=0,e.weights.bodyFeet=0,e.weights.sphereRope=0,K0(e,l)}e.weights||(e.weights=q0(e.characterId)),e.weights.headHands||(e.weights.headHands=0),e.weights.bodyFeet||(e.weights.bodyFeet=0),e.weights.sphereRope||(e.weights.sphereRope=0),e.exclude||(e.exclude=[]),e.exclude=e.exclude.filter(r=>y.getCharacterById(r)),e.includeEquippedRelics==null&&(e.includeEquippedRelics=!0),[1,3,5].includes(e.enemyCount)||(e.enemyCount=1);for(const r of[0,1,2]){const u=`teammate${r}`;(!e[u]||!e[u].characterId)&&(e[u]=Ui())}if(e.weights||(e.weights={[d.Stats.HP_P]:1,[d.Stats.ATK_P]:1,[d.Stats.DEF_P]:1,[d.Stats.SPD_P]:1,[d.Stats.HP]:1,[d.Stats.ATK]:1,[d.Stats.DEF]:1,[d.Stats.SPD]:1,[d.Stats.CD]:1,[d.Stats.CR]:1,[d.Stats.EHR]:1,[d.Stats.RES]:1,[d.Stats.BE]:1,headHands:0,bodyFeet:0,sphereRope:0}),e.resultSort||i&&(e.resultSort=i.scoringMetadata.sortOption.key),e.resultsLimit||(e.resultsLimit=1024),e.mainStatUpscaleLevel||(e.mainStatUpscaleLevel=15),e.statSim||(e.statSim={}),e.statSim.simulations||(e.statSim.simulations=[]),e.combo||(e.combo={}),Object.values(e.combo).every(r=>!r)){const r=(c=l==null?void 0:l.simulation)==null?void 0:c.formula;if(r)for(const u of Ss)r[u]&&(e.combo[u]=r[u])}return e},validateForm:t=>{if(console.log("validate",t),!t.lightCone||!t.lightConeSuperimposition)return Q.error("Missing light cone fields"),console.log("Missing light cone"),!1;if(!t.characterId||t.characterEidolon==null)return Q.error("Missing character fields"),console.log("Missing character"),!1;if(!t.resultsLimit||!t.resultSort)return Q.error("Missing optimization target fields"),console.log("Missing optimization target fields"),!1;if(Object.values(d.Stats).map(l=>t.weights[l]).filter(l=>!!l).length==0)return Q.error("All substat weights are set to 0. Make sure to set the substat weights for your character or use the Recommended presets button.",10),console.log("Top percent"),!1;const e=y.getMetadata().lightCones[t.lightCone],i=y.getMetadata().characters[t.characterId];return e.path!=i.path&&(Q.warning("Character path doesn't match light cone path.",10),console.log("Path mismatch")),!0},fixForm:t=>{const e=d.MAX_INT;t.statDisplay=window.store.getState().statDisplay||ii,t.maxHp=Zt(t.maxHp,e),t.minHp=Zt(t.minHp,0),t.maxAtk=Zt(t.maxAtk,e),t.minAtk=Zt(t.minAtk,0),t.maxDef=Zt(t.maxDef,e),t.minDef=Zt(t.minDef,0),t.maxSpd=Zt(t.maxSpd,e),t.minSpd=Zt(t.minSpd,0),t.maxCr=Zt(t.maxCr,e,100),t.minCr=Zt(t.minCr,0,100),t.maxCd=Zt(t.maxCd,e,100),t.minCd=Zt(t.minCd,0,100),t.maxEhr=Zt(t.maxEhr,e,100),t.minEhr=Zt(t.minEhr,0,100),t.maxRes=Zt(t.maxRes,e,100),t.minRes=Zt(t.minRes,0,100),t.maxBe=Zt(t.maxBe,e,100),t.minBe=Zt(t.minBe,0,100),t.maxErr=Zt(t.maxErr,e,100),t.minErr=Zt(t.minErr,0,100),t.maxWeight=Zt(t.maxWeight,e),t.minWeight=Zt(t.minWeight,0),t.maxEhp=Zt(t.maxEhp,e),t.minEhp=Zt(t.minEhp,0),t.maxBasic=Zt(t.maxBasic,e),t.minBasic=Zt(t.minBasic,0),t.maxSkill=Zt(t.maxSkill,e),t.minSkill=Zt(t.minSkill,0),t.maxUlt=Zt(t.maxUlt,e),t.minUlt=Zt(t.minUlt,0),t.maxFua=Zt(t.maxFua,e),t.minFua=Zt(t.minFua,0),t.maxDot=Zt(t.maxDot,e),t.minDot=Zt(t.minDot,0),t.maxBreak=Zt(t.maxBreak,e),t.minBreak=Zt(t.minBreak,0),t.maxCombo=Zt(t.maxCombo,e),t.minCombo=Zt(t.minCombo,0),t.combatBuffs||(t.combatBuffs={});for(const i of Object.values(zi))t.combatBuffs[i.key]=Zt(t.combatBuffs[i.key],0,i.percent?100:0);t.combo||(t.combo={});for(const i of Ss)t.combo[i]=Zt(t.combo[i],0,0);return t.mainHead=t.mainHead||[],t.mainHands=t.mainHands||[],t.mainBody=t.mainBody||[],t.mainFeet=t.mainFeet||[],t.mainPlanarSphere=t.mainPlanarSphere||[],t.mainLinkRope=t.mainLinkRope||[],t},updateFilters:()=>{if(window.optimizerForm&&window.onOptimizerFormValuesChange){const t=tt.getForm();window.onOptimizerFormValuesChange({},t)}},resetFilters:()=>{console.info("@resetFilters");const t=tt.getForm(),e={characterEidolon:t.characterEidolon,characterId:t.characterId,characterLevel:80,enhance:9,grade:5,mainStatUpscaleLevel:15,rankFilter:!0,includeEquippedRelics:!0,keepCurrentRelics:!1,lightCone:t.lightCone,lightConeLevel:80,lightConeSuperimposition:t.lightConeSuperimposition,mainBody:[],mainFeet:[],mainHands:[],mainHead:[],mainLinkRope:[],mainPlanarSphere:[],ornamentSets:[],relicSets:[]};window.optimizerForm.setFieldsValue(tt.getDisplayFormValues(e)),tt.updateFilters()},setCharacter:t=>{window.store.getState().setOptimizerTabFocusCharacter(t),window.optimizerForm.setFieldValue("characterId",t),window.store.getState().setSavedSessionKey(ae.optimizerCharacterId,t),setTimeout(()=>gt.save(),1e3)},updateCharacter:t=>{if(console.log("@updateCharacter",t),!t)return;const e=y.getCharacterById(t),i=e?e.form:pa({id:t}),l=tt.getDisplayFormValues(i);window.optimizerForm.setFieldsValue(l),setTimeout(()=>{var s;window.store.getState().setOptimizerFormSelectedLightCone(i.lightCone),window.store.getState().setOptimizerFormSelectedLightConeSuperimposition(i.lightConeSuperimposition),window.store.getState().setOptimizerTabFocusCharacter(t),window.store.getState().setOptimizerFormCharacterEidolon(i.characterEidolon),window.store.getState().setStatDisplay(i.statDisplay||ii),window.store.getState().setStatSimulations(((s=i.statSim)==null?void 0:s.simulations)||[]),window.onOptimizerFormValuesChange({},l)},50)},redrawRows:()=>{window.optimizerGrid.current.api.refreshCells({force:!0})},applyRowFilters:()=>{const t=tt.getForm();t.statDisplay=window.store.getState().statDisplay,Ja=t,console.log("Apply filters to rows",t),tt.resetDataSource()}};function te(t,e){if(t!=null)return t==0?void 0:parseFloat((e==!0?t*100:t).toFixed(3))}function he(t,e){if(t!=null)return t==d.MAX_INT?void 0:parseFloat((e==!0?t*100:t).toFixed(3))}function Zt(t,e,i){return t==null?e:(i=i||1,t/i)}function So(t){const e=xa.getZeroes();for(const s of tt.getColumnsToAggregate())e[s]=d.MAX_INT;function i(s){e[s]=d.MAX_INT,l[s]=0}const l=xa.getZeroes();e.ED=d.MAX_INT,l.ED=0,e.WEIGHT=d.MAX_INT,l.WEIGHT=0,e.EHP=d.MAX_INT,l.EHP=0,i("BASIC"),i("SKILL"),i("ULT"),i("FUA"),i("DOT"),i("BREAK"),i("COMBO"),i("xATK"),i("xDEF"),i("xHP"),i("xSPD"),i("xCR"),i("xCD"),i("xEHR"),i("xRES"),i("xBE"),i("xERR"),i("xOHB"),i("xELEMENTAL_DMG");for(const s of t)for(const o of tt.getColumnsToAggregate()){const c=s[o];c<e[o]&&(e[o]=c),c>l[o]&&(l[o]=c)}Xi={minAgg:e,maxAgg:l}}function Ih(){ca.sort=="desc"?Xl(en).desc(ca.colId):Xl(en).asc(ca.colId)}function Eh(t){const e=t.statDisplay=="combat",i=[];if(e)for(let l=0;l<en.length;l++){const s=en[l];s.xHP>=t.minHp&&s.xHP<=t.maxHp&&s.xATK>=t.minAtk&&s.xATK<=t.maxAtk&&s.xDEF>=t.minDef&&s.xDEF<=t.maxDef&&s.xSPD>=t.minSpd&&s.xSPD<=t.maxSpd&&s.xCR>=t.minCr&&s.xCR<=t.maxCr&&s.xCD>=t.minCd&&s.xCD<=t.maxCd&&s.xEHR>=t.minEhr&&s.xEHR<=t.maxEhr&&s.xRES>=t.minRes&&s.xRES<=t.maxRes&&s.xBE>=t.minBe&&s.xBE<=t.maxBe&&s.xERR>=t.minErr&&s.xERR<=t.maxErr&&s.EHP>=t.minEhp&&s.EHP<=t.maxEhp&&s.WEIGHT>=t.minWeight&&s.WEIGHT<=t.maxWeight&&s.BASIC>=t.minBasic&&s.BASIC<=t.maxBasic&&s.SKILL>=t.minSkill&&s.SKILL<=t.maxSkill&&s.ULT>=t.minUlt&&s.ULT<=t.maxUlt&&s.FUA>=t.minFua&&s.FUA<=t.maxFua&&s.DOT>=t.minDot&&s.DOT<=t.maxDot&&s.BREAK>=t.minBreak&&s.BREAK<=t.maxBreak&&s.COMBO>=t.minCombo&&s.COMBO<=t.maxCombo&&i.push(l)}else for(let l=0;l<en.length;l++){const s=en[l];s[d.Stats.HP]>=t.minHp&&s[d.Stats.HP]<=t.maxHp&&s[d.Stats.ATK]>=t.minAtk&&s[d.Stats.ATK]<=t.maxAtk&&s[d.Stats.DEF]>=t.minDef&&s[d.Stats.DEF]<=t.maxDef&&s[d.Stats.SPD]>=t.minSpd&&s[d.Stats.SPD]<=t.maxSpd&&s[d.Stats.CR]>=t.minCr&&s[d.Stats.CR]<=t.maxCr&&s[d.Stats.CD]>=t.minCd&&s[d.Stats.CD]<=t.maxCd&&s[d.Stats.EHR]>=t.minEhr&&s[d.Stats.EHR]<=t.maxEhr&&s[d.Stats.RES]>=t.minRes&&s[d.Stats.RES]<=t.maxRes&&s[d.Stats.BE]>=t.minBe&&s[d.Stats.BE]<=t.maxBe&&s[d.Stats.ERR]>=t.minErr&&s[d.Stats.ERR]<=t.maxErr&&s.EHP>=t.minEhp&&s.EHP<=t.maxEhp&&s.WEIGHT>=t.minWeight&&s.WEIGHT<=t.maxWeight&&s.BASIC>=t.minBasic&&s.BASIC<=t.maxBasic&&s.SKILL>=t.minSkill&&s.SKILL<=t.maxSkill&&s.ULT>=t.minUlt&&s.ULT<=t.maxUlt&&s.FUA>=t.minFua&&s.FUA<=t.maxFua&&s.DOT>=t.minDot&&s.DOT<=t.maxDot&&s.BREAK>=t.minBreak&&s.BREAK<=t.maxBreak&&s.COMBO>=t.minCombo&&s.COMBO<=t.maxCombo&&i.push(l)}tl=i}const Di=36,mi={extractCharacter:(t,e)=>(e=e*Di,{id:t[e],[d.Stats.HP]:t[e+1],[d.Stats.ATK]:t[e+2],[d.Stats.DEF]:t[e+3],[d.Stats.SPD]:t[e+4],[d.Stats.CD]:t[e+5],[d.Stats.CR]:t[e+6],[d.Stats.EHR]:t[e+7],[d.Stats.RES]:t[e+8],[d.Stats.BE]:t[e+9],[d.Stats.ERR]:t[e+10],[d.Stats.OHB]:t[e+11],ED:t[e+12],WEIGHT:t[e+13],EHP:t[e+14],BASIC:t[e+15],SKILL:t[e+16],ULT:t[e+17],FUA:t[e+18],DOT:t[e+19],BREAK:t[e+20],COMBO:t[e+21],xHP:t[e+22],xATK:t[e+23],xDEF:t[e+24],xSPD:t[e+25],xCR:t[e+26],xCD:t[e+27],xEHR:t[e+28],xRES:t[e+29],xBE:t[e+30],xERR:t[e+31],xOHB:t[e+32],xELEMENTAL_DMG:t[e+33],relicSetIndex:t[e+34],ornamentSetIndex:t[e+35]}),extractArrayToResults:(t,e,i,l)=>{for(let s=0;s<e&&t[s*Di+1];s++){const o=mi.extractCharacter(t,s);l.fixedSizePush(o)}},packCharacter:(t,e,i)=>{e=e*Di,t[e]=i.id,t[e+1]=i[n.HP],t[e+2]=i[n.ATK],t[e+3]=i[n.DEF],t[e+4]=i[n.SPD],t[e+5]=i[n.CD],t[e+6]=i[n.CR],t[e+7]=i[n.EHR],t[e+8]=i[n.RES],t[e+9]=i[n.BE],t[e+10]=i[n.ERR],t[e+11]=i[n.OHB],t[e+12]=i.ELEMENTAL_DMG,t[e+13]=i.x.WEIGHT,t[e+14]=i.x.EHP,t[e+15]=i.x.BASIC_DMG,t[e+16]=i.x.SKILL_DMG,t[e+17]=i.x.ULT_DMG,t[e+18]=i.x.FUA_DMG,t[e+19]=i.x.DOT_DMG,t[e+20]=i.x.BREAK_DMG,t[e+21]=i.x.COMBO_DMG,t[e+22]=i.x[n.HP],t[e+23]=i.x[n.ATK],t[e+24]=i.x[n.DEF],t[e+25]=i.x[n.SPD],t[e+26]=i.x[n.CR],t[e+27]=i.x[n.CD],t[e+28]=i.x[n.EHR],t[e+29]=i.x[n.RES],t[e+30]=i.x[n.BE],t[e+31]=i.x[n.ERR],t[e+32]=i.x[n.OHB],t[e+33]=i.x.ELEMENTAL_DMG,t[e+34]=i.relicSetIndex,t[e+35]=i.ornamentSetIndex},cleanFloatBuffer:t=>{new Float64Array(t).fill(0)},createFloatBuffer:t=>new Float64Array(t*Di).buffer},ac="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IGx0PSIyLjZ2NCIscj17QVRLX1A6IkFUSyUiLEFUSzoiQVRLIixCRToiQnJlYWsgRWZmZWN0IixDRDoiQ1JJVCBETUciLENSOiJDUklUIFJhdGUiLERFRl9QOiJERUYlIixERUY6IkRFRiIsRUhSOiJFZmZlY3QgSGl0IFJhdGUiLEVSUjoiRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIixGaXJlX0RNRzoiRmlyZSBETUcgQm9vc3QiLEhQX1A6IkhQJSIsSFA6IkhQIixJY2VfRE1HOiJJY2UgRE1HIEJvb3N0IixJbWFnaW5hcnlfRE1HOiJJbWFnaW5hcnkgRE1HIEJvb3N0IixMaWdodG5pbmdfRE1HOiJMaWdodG5pbmcgRE1HIEJvb3N0IixPSEI6Ik91dGdvaW5nIEhlYWxpbmcgQm9vc3QiLFBoeXNpY2FsX0RNRzoiUGh5c2ljYWwgRE1HIEJvb3N0IixRdWFudHVtX0RNRzoiUXVhbnR1bSBETUcgQm9vc3QiLFJFUzoiRWZmZWN0IFJFUyIsU1BEX1A6IlNQRCUiLFNQRDoiU1BEIixXaW5kX0RNRzoiV2luZCBETUcgQm9vc3QifSxLbj1bci5IUF9QLHIuQVRLX1Asci5ERUZfUCxyLkhQLHIuQVRLLHIuU1BELHIuQ1Isci5DRCxyLkVIUixyLkJFLHIuT0hCLHIuRVJSLHIuUGh5c2ljYWxfRE1HLHIuRmlyZV9ETUcsci5JY2VfRE1HLHIuTGlnaHRuaW5nX0RNRyxyLldpbmRfRE1HLHIuUXVhbnR1bV9ETUcsci5JbWFnaW5hcnlfRE1HXSx3bj17W3IuSFBfUF06ezU6e2Jhc2U6Ni45MTIsaW5jcmVtZW50OjIuNDE5Mn0sNDp7YmFzZTo1LjUyOTYsaW5jcmVtZW50OjEuOTM1NH0sMzp7YmFzZTo0LjE0NzIsaW5jcmVtZW50OjEuNDUxNX0sMjp7YmFzZToyLjc2NDgsaW5jcmVtZW50Oi45Njc3fX0sW3IuQVRLX1BdOns1OntiYXNlOjYuOTEyLGluY3JlbWVudDoyLjQxOTJ9LDQ6e2Jhc2U6NS41Mjk2LGluY3JlbWVudDoxLjkzNTR9LDM6e2Jhc2U6NC4xNDcyLGluY3JlbWVudDoxLjQ1MTV9LDI6e2Jhc2U6Mi43NjQ4LGluY3JlbWVudDouOTY3N319LFtyLkRFRl9QXTp7NTp7YmFzZTo4LjY0LGluY3JlbWVudDozLjAyNH0sNDp7YmFzZTo2LjkxMixpbmNyZW1lbnQ6Mi40MTkyfSwzOntiYXNlOjUuMTg0LGluY3JlbWVudDoxLjgxNDR9LDI6e2Jhc2U6My40NTYsaW5jcmVtZW50OjEuMjA5Nn19LFtyLkhQXTp7NTp7YmFzZToxMTIuODk2LGluY3JlbWVudDozOS41MTM2fSw0OntiYXNlOjkwLjMxNjgsaW5jcmVtZW50OjMxLjYxMDg4fSwzOntiYXNlOjY3LjczNzYsaW5jcmVtZW50OjIzLjcwODE2fSwyOntiYXNlOjQ1LjE1ODQsaW5jcmVtZW50OjE1LjgwNTQ0fX0sW3IuQVRLXTp7NTp7YmFzZTo1Ni40NDgsaW5jcmVtZW50OjE5Ljc1Njh9LDQ6e2Jhc2U6NDUuMTU4NCxpbmNyZW1lbnQ6MTUuODA1NDR9LDM6e2Jhc2U6MzMuODY4OCxpbmNyZW1lbnQ6MTEuODU0MDh9LDI6e2Jhc2U6MjIuNTc5MixpbmNyZW1lbnQ6Ny45MDI3Mn19LFtyLlNQRF06ezU6e2Jhc2U6NC4wMzIsaW5jcmVtZW50OjEuNH0sNDp7YmFzZTozLjIyNixpbmNyZW1lbnQ6MS4xfSwzOntiYXNlOjIuNDE5LGluY3JlbWVudDoxfSwyOntiYXNlOjEuNjEzLGluY3JlbWVudDoxfX0sW3IuQ1JdOns1OntiYXNlOjUuMTg0LGluY3JlbWVudDoxLjgxNDR9LDQ6e2Jhc2U6NC4xNDcyLGluY3JlbWVudDoxLjQ1MTV9LDM6e2Jhc2U6My4xMTA0LGluY3JlbWVudDoxLjA4ODZ9LDI6e2Jhc2U6Mi4wNzM2LGluY3JlbWVudDouNzI1OH19LFtyLkNEXTp7NTp7YmFzZToxMC4zNjgsaW5jcmVtZW50OjMuNjI4OH0sNDp7YmFzZTo4LjI5NDQsaW5jcmVtZW50OjIuOTAzfSwzOntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSwyOntiYXNlOjQuMTQ3MixpbmNyZW1lbnQ6MS40NTE1fX0sW3IuRUhSXTp7NTp7YmFzZTo2LjkxMixpbmNyZW1lbnQ6Mi40MTkyfSw0OntiYXNlOjUuNTI5NixpbmNyZW1lbnQ6MS45MzU0fSwzOntiYXNlOjQuMTQ3MixpbmNyZW1lbnQ6MS40NTE1fSwyOntiYXNlOjIuNzY0OCxpbmNyZW1lbnQ6Ljk2Nzd9fSxbci5CRV06ezU6e2Jhc2U6MTAuMzY4LGluY3JlbWVudDozLjYyODh9LDQ6e2Jhc2U6OC4yOTQ0LGluY3JlbWVudDoyLjkwM30sMzp7YmFzZTo2LjIyMDgsaW5jcmVtZW50OjIuMTc3M30sMjp7YmFzZTo0LjE0NzIsaW5jcmVtZW50OjEuNDUxNX19LFtyLkVSUl06ezU6e2Jhc2U6My4xMTA0LGluY3JlbWVudDoxLjA4ODZ9LDQ6e2Jhc2U6Mi40ODgzLGluY3JlbWVudDouODcwOX0sMzp7YmFzZToxLjg2NjIsaW5jcmVtZW50Oi42NTMyfSwyOntiYXNlOjEuMjQ0MixpbmNyZW1lbnQ6LjQzNTV9fSxbci5PSEJdOns1OntiYXNlOjUuNTI5NixpbmNyZW1lbnQ6MS45MzU0fSw0OntiYXNlOjQuNDIzNyxpbmNyZW1lbnQ6MS41NDgzfSwzOntiYXNlOjMuMzE3OCxpbmNyZW1lbnQ6MS4xNjEyfSwyOntiYXNlOjIuMjExOCxpbmNyZW1lbnQ6Ljc3NDF9fSxbci5QaHlzaWNhbF9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fSxbci5GaXJlX0RNR106ezU6e2Jhc2U6Ni4yMjA4LGluY3JlbWVudDoyLjE3NzN9LDQ6e2Jhc2U6NC45NzY2LGluY3JlbWVudDoxLjc0MTh9LDM6e2Jhc2U6My43MzI1LGluY3JlbWVudDoxLjMwNjR9LDI6e2Jhc2U6Mi40ODgzLGluY3JlbWVudDouODcwOX19LFtyLkljZV9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fSxbci5MaWdodG5pbmdfRE1HXTp7NTp7YmFzZTo2LjIyMDgsaW5jcmVtZW50OjIuMTc3M30sNDp7YmFzZTo0Ljk3NjYsaW5jcmVtZW50OjEuNzQxOH0sMzp7YmFzZTozLjczMjUsaW5jcmVtZW50OjEuMzA2NH0sMjp7YmFzZToyLjQ4ODMsaW5jcmVtZW50Oi44NzA5fX0sW3IuV2luZF9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fSxbci5RdWFudHVtX0RNR106ezU6e2Jhc2U6Ni4yMjA4LGluY3JlbWVudDoyLjE3NzN9LDQ6e2Jhc2U6NC45NzY2LGluY3JlbWVudDoxLjc0MTh9LDM6e2Jhc2U6My43MzI1LGluY3JlbWVudDoxLjMwNjR9LDI6e2Jhc2U6Mi40ODgzLGluY3JlbWVudDouODcwOX19LFtyLkltYWdpbmFyeV9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fX0sVm49W3IuSFBfUCxyLkFUS19QLHIuREVGX1Asci5IUCxyLkFUSyxyLkRFRixyLlNQRCxyLkNSLHIuQ0Qsci5FSFIsci5SRVMsci5CRV0sem49e1tyLkhQX1BdOiJIUCAlIixbci5BVEtfUF06IkFUSyAlIixbci5ERUZfUF06IkRFRiAlIixbci5TUERfUF06IlNQRCAlIixbci5IUF06IkhQIixbci5BVEtdOiJBVEsiLFtyLkRFRl06IkRFRiIsW3IuU1BEXToiU1BEIixbci5DUl06IkNSSVQgUmF0ZSIsW3IuQ0RdOiJDUklUIERNRyIsW3IuRUhSXToiRWZmZWN0IEhJVCIsW3IuUkVTXToiRWZmZWN0IFJFUyIsW3IuQkVdOiJCcmVhayBFZmZlY3QiLFtyLkVSUl06IkVuZXJneSBSZWdlbiIsW3IuT0hCXToiSGVhbGluZyBCb29zdCIsW3IuUGh5c2ljYWxfRE1HXToiUGh5c2ljYWwgRE1HIixbci5GaXJlX0RNR106IkZpcmUgRE1HIixbci5JY2VfRE1HXToiSWNlIERNRyIsW3IuTGlnaHRuaW5nX0RNR106IkxpZ2h0bmluZyBETUciLFtyLldpbmRfRE1HXToiV2luZCBETUciLFtyLlF1YW50dW1fRE1HXToiUXVhbnR1bSBETUciLFtyLkltYWdpbmFyeV9ETUddOiJJbWFnaW5hcnkgRE1HIn0sbnQ9e0hlYWQ6IkhlYWQiLEhhbmRzOiJIYW5kcyIsQm9keToiQm9keSIsRmVldDoiRmVldCIsUGxhbmFyU3BoZXJlOiJQbGFuYXJTcGhlcmUiLExpbmtSb3BlOiJMaW5rUm9wZSJ9LCRuPXtbbnQuSGVhZF06IkhlYWQiLFtudC5IYW5kc106IkhhbmRzIixbbnQuQm9keV06IkJvZHkiLFtudC5GZWV0XToiRmVldCIsW250LlBsYW5hclNwaGVyZV06IlNwaGVyZSIsW250LkxpbmtSb3BlXToiUm9wZSJ9LFduPXtbbnQuSGVhZF06W3IuSFBdLFtudC5IYW5kc106W3IuQVRLXSxbbnQuQm9keV06W3IuSFBfUCxyLkFUS19QLHIuREVGX1Asci5DUixyLkNELHIuT0hCLHIuRUhSXSxbbnQuRmVldF06W3IuSFBfUCxyLkFUS19QLHIuREVGX1Asci5TUERdLFtudC5QbGFuYXJTcGhlcmVdOltyLkhQX1Asci5BVEtfUCxyLkRFRl9QLHIuUGh5c2ljYWxfRE1HLHIuRmlyZV9ETUcsci5JY2VfRE1HLHIuTGlnaHRuaW5nX0RNRyxyLldpbmRfRE1HLHIuUXVhbnR1bV9ETUcsci5JbWFnaW5hcnlfRE1HXSxbbnQuTGlua1JvcGVdOltyLkhQX1Asci5BVEtfUCxyLkRFRl9QLHIuQkUsci5FUlJdfSxQdD17UGFzc2VyYnlPZldhbmRlcmluZ0Nsb3VkOiJQYXNzZXJieSBvZiBXYW5kZXJpbmcgQ2xvdWQiLE11c2tldGVlck9mV2lsZFdoZWF0OiJNdXNrZXRlZXIgb2YgV2lsZCBXaGVhdCIsS25pZ2h0T2ZQdXJpdHlQYWxhY2U6IktuaWdodCBvZiBQdXJpdHkgUGFsYWNlIixIdW50ZXJPZkdsYWNpYWxGb3Jlc3Q6Ikh1bnRlciBvZiBHbGFjaWFsIEZvcmVzdCIsQ2hhbXBpb25PZlN0cmVldHdpc2VCb3hpbmc6IkNoYW1waW9uIG9mIFN0cmVldHdpc2UgQm94aW5nIixHdWFyZE9mV3V0aGVyaW5nU25vdzoiR3VhcmQgb2YgV3V0aGVyaW5nIFNub3ciLEZpcmVzbWl0aE9mTGF2YUZvcmdpbmc6IkZpcmVzbWl0aCBvZiBMYXZhLUZvcmdpbmciLEdlbml1c09mQnJpbGxpYW50U3RhcnM6Ikdlbml1cyBvZiBCcmlsbGlhbnQgU3RhcnMiLEJhbmRPZlNpenpsaW5nVGh1bmRlcjoiQmFuZCBvZiBTaXp6bGluZyBUaHVuZGVyIixFYWdsZU9mVHdpbGlnaHRMaW5lOiJFYWdsZSBvZiBUd2lsaWdodCBMaW5lIixUaGllZk9mU2hvb3RpbmdNZXRlb3I6IlRoaWVmIG9mIFNob290aW5nIE1ldGVvciIsV2FzdGVsYW5kZXJPZkJhbmRpdHJ5RGVzZXJ0OiJXYXN0ZWxhbmRlciBvZiBCYW5kaXRyeSBEZXNlcnQiLExvbmdldm91c0Rpc2NpcGxlOiJMb25nZXZvdXMgRGlzY2lwbGUiLE1lc3NlbmdlclRyYXZlcnNpbmdIYWNrZXJzcGFjZToiTWVzc2VuZ2VyIFRyYXZlcnNpbmcgSGFja2Vyc3BhY2UiLFRoZUFzaGJsYXppbmdHcmFuZER1a2U6IlRoZSBBc2hibGF6aW5nIEdyYW5kIER1a2UiLFByaXNvbmVySW5EZWVwQ29uZmluZW1lbnQ6IlByaXNvbmVyIGluIERlZXAgQ29uZmluZW1lbnQiLFBpb25lZXJEaXZlck9mRGVhZFdhdGVyczoiUGlvbmVlciBEaXZlciBvZiBEZWFkIFdhdGVycyIsV2F0Y2htYWtlck1hc3Rlck9mRHJlYW1NYWNoaW5hdGlvbnM6IldhdGNobWFrZXIsIE1hc3RlciBvZiBEcmVhbSBNYWNoaW5hdGlvbnMiLElyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2U6Iklyb24gQ2F2YWxyeSBBZ2FpbnN0IHRoZSBTY291cmdlIixUaGVXaW5kU29hcmluZ1ZhbG9yb3VzOiJUaGUgV2luZC1Tb2FyaW5nIFZhbG9yb3VzIixTYWNlcmRvc1JlbGl2ZWRPcmRlYWw6IlNhY2VyZG9zJyBSZWxpdmVkIE9yZGVhbCIsU2Nob2xhckxvc3RJbkVydWRpdGlvbjoiU2Nob2xhciBMb3N0IGluIEVydWRpdGlvbiJ9LFV0PXtTcGFjZVNlYWxpbmdTdGF0aW9uOiJTcGFjZSBTZWFsaW5nIFN0YXRpb24iLEZsZWV0T2ZUaGVBZ2VsZXNzOiJGbGVldCBvZiB0aGUgQWdlbGVzcyIsUGFuQ29zbWljQ29tbWVyY2lhbEVudGVycHJpc2U6IlBhbi1Db3NtaWMgQ29tbWVyY2lhbCBFbnRlcnByaXNlIixCZWxvYm9nT2ZUaGVBcmNoaXRlY3RzOiJCZWxvYm9nIG9mIHRoZSBBcmNoaXRlY3RzIixDZWxlc3RpYWxEaWZmZXJlbnRpYXRvcjoiQ2VsZXN0aWFsIERpZmZlcmVudGlhdG9yIixJbmVydFNhbHNvdHRvOiJJbmVydCBTYWxzb3R0byIsVGFsaWFLaW5nZG9tT2ZCYW5kaXRyeToiVGFsaWE6IEtpbmdkb20gb2YgQmFuZGl0cnkiLFNwcmlnaHRseVZvbndhY3E6IlNwcmlnaHRseSBWb253YWNxIixSdXRpbGFudEFyZW5hOiJSdXRpbGFudCBBcmVuYSIsQnJva2VuS2VlbDoiQnJva2VuIEtlZWwiLEZpcm1hbWVudEZyb250bGluZUdsYW1vdGg6IkZpcm1hbWVudCBGcm9udGxpbmU6IEdsYW1vdGgiLFBlbmFjb255TGFuZE9mVGhlRHJlYW1zOiJQZW5hY29ueSwgTGFuZCBvZiB0aGUgRHJlYW1zIixTaWdvbmlhVGhlVW5jbGFpbWVkRGVzb2xhdGlvbjoiU2lnb25pYSwgdGhlIFVuY2xhaW1lZCBEZXNvbGF0aW9uIixJenVtb0dlbnNlaUFuZFRha2FtYURpdmluZVJlYWxtOiJJenVtbyBHZW5zZWkgYW5kIFRha2FtYSBEaXZpbmUgUmVhbG0iLER1cmFuRHluYXN0eU9mUnVubmluZ1dvbHZlczoiRHVyYW4sIER5bmFzdHkgb2YgUnVubmluZyBXb2x2ZXMiLEZvcmdlT2ZUaGVLYWxwYWduaUxhbnRlcm46IkZvcmdlIG9mIHRoZSBLYWxwYWduaSBMYW50ZXJuIixMdXNoYWthVGhlU3Vua2VuU2VhczoiTHVzaGFrYSwgdGhlIFN1bmtlbiBTZWFzIixUaGVXb25kcm91c0JhbmFuQW11c2VtZW50UGFyazoiVGhlIFdvbmRyb3VzIEJhbmFuQW11c2VtZW50IFBhcmsifSxjdD17Li4uUHQsLi4uVXR9LGxlPU9iamVjdC52YWx1ZXMoUHQpLGNlPU9iamVjdC52YWx1ZXMoVXQpLCR0PXt9O2ZvcihsZXQgZT0wO2U8Y2UubGVuZ3RoO2UrKykkdFtjZVtlXV09ZTtjb25zdCBFdD17fTtmb3IobGV0IGU9MDtlPGxlLmxlbmd0aDtlKyspRXRbbGVbZV1dPWU7T2JqZWN0LnZhbHVlcyhQdCkubGVuZ3RoLE9iamVjdC52YWx1ZXMoVXQpLmxlbmd0aDtjb25zdCB0dD17U2V0czpjdCxQYXJ0czpudCxTdGF0czpyLE1haW5TdGF0czpLbixNYWluU3RhdHNWYWx1ZXM6d24sU3ViU3RhdHM6Vm4sU2V0c09ybmFtZW50czpVdCxTZXRzUmVsaWNzOlB0LFNldHNSZWxpY3NOYW1lczpsZSxTZXRzT3JuYW1lbnRzTmFtZXM6Y2UsU3RhdHNUb1JlYWRhYmxlOnpuLFBhcnRzVG9SZWFkYWJsZTokbixQYXJ0c01haW5TdGF0czpXbixSZWxpY1NldFRvSW5kZXg6RXQsT3JuYW1lbnRTZXRUb0luZGV4OiR0LE1BWF9JTlQ6MjE0NzQ4MzY0NyxUSFJFQURfQlVGRkVSX0xFTkdUSDoxNWU0fSxZbj0iU2FjZXJkb3MnIFJlbGl2ZWQgT3JkZWFsIDF4Iixqbj0iU2FjZXJkb3MnIFJlbGl2ZWQgT3JkZWFsIDJ4IixXdD0zNixrZT17ZXh0cmFjdENoYXJhY3RlcjooZSx0KT0+KHQ9dCpXdCx7aWQ6ZVt0XSxbdHQuU3RhdHMuSFBdOmVbdCsxXSxbdHQuU3RhdHMuQVRLXTplW3QrMl0sW3R0LlN0YXRzLkRFRl06ZVt0KzNdLFt0dC5TdGF0cy5TUERdOmVbdCs0XSxbdHQuU3RhdHMuQ0RdOmVbdCs1XSxbdHQuU3RhdHMuQ1JdOmVbdCs2XSxbdHQuU3RhdHMuRUhSXTplW3QrN10sW3R0LlN0YXRzLlJFU106ZVt0KzhdLFt0dC5TdGF0cy5CRV06ZVt0KzldLFt0dC5TdGF0cy5FUlJdOmVbdCsxMF0sW3R0LlN0YXRzLk9IQl06ZVt0KzExXSxFRDplW3QrMTJdLFdFSUdIVDplW3QrMTNdLEVIUDplW3QrMTRdLEJBU0lDOmVbdCsxNV0sU0tJTEw6ZVt0KzE2XSxVTFQ6ZVt0KzE3XSxGVUE6ZVt0KzE4XSxET1Q6ZVt0KzE5XSxCUkVBSzplW3QrMjBdLENPTUJPOmVbdCsyMV0seEhQOmVbdCsyMl0seEFUSzplW3QrMjNdLHhERUY6ZVt0KzI0XSx4U1BEOmVbdCsyNV0seENSOmVbdCsyNl0seENEOmVbdCsyN10seEVIUjplW3QrMjhdLHhSRVM6ZVt0KzI5XSx4QkU6ZVt0KzMwXSx4RVJSOmVbdCszMV0seE9IQjplW3QrMzJdLHhFTEVNRU5UQUxfRE1HOmVbdCszM10scmVsaWNTZXRJbmRleDplW3QrMzRdLG9ybmFtZW50U2V0SW5kZXg6ZVt0KzM1XX0pLGV4dHJhY3RBcnJheVRvUmVzdWx0czooZSx0LG4sbyk9Pntmb3IobGV0IGk9MDtpPHQmJmVbaSpXdCsxXTtpKyspe2NvbnN0IGE9a2UuZXh0cmFjdENoYXJhY3RlcihlLGkpO28uZml4ZWRTaXplUHVzaChhKX19LHBhY2tDaGFyYWN0ZXI6KGUsdCxuKT0+e3Q9dCpXdCxlW3RdPW4uaWQsZVt0KzFdPW5bci5IUF0sZVt0KzJdPW5bci5BVEtdLGVbdCszXT1uW3IuREVGXSxlW3QrNF09bltyLlNQRF0sZVt0KzVdPW5bci5DRF0sZVt0KzZdPW5bci5DUl0sZVt0KzddPW5bci5FSFJdLGVbdCs4XT1uW3IuUkVTXSxlW3QrOV09bltyLkJFXSxlW3QrMTBdPW5bci5FUlJdLGVbdCsxMV09bltyLk9IQl0sZVt0KzEyXT1uLkVMRU1FTlRBTF9ETUcsZVt0KzEzXT1uLnguV0VJR0hULGVbdCsxNF09bi54LkVIUCxlW3QrMTVdPW4ueC5CQVNJQ19ETUcsZVt0KzE2XT1uLnguU0tJTExfRE1HLGVbdCsxN109bi54LlVMVF9ETUcsZVt0KzE4XT1uLnguRlVBX0RNRyxlW3QrMTldPW4ueC5ET1RfRE1HLGVbdCsyMF09bi54LkJSRUFLX0RNRyxlW3QrMjFdPW4ueC5DT01CT19ETUcsZVt0KzIyXT1uLnhbci5IUF0sZVt0KzIzXT1uLnhbci5BVEtdLGVbdCsyNF09bi54W3IuREVGXSxlW3QrMjVdPW4ueFtyLlNQRF0sZVt0KzI2XT1uLnhbci5DUl0sZVt0KzI3XT1uLnhbci5DRF0sZVt0KzI4XT1uLnhbci5FSFJdLGVbdCsyOV09bi54W3IuUkVTXSxlW3QrMzBdPW4ueFtyLkJFXSxlW3QrMzFdPW4ueFtyLkVSUl0sZVt0KzMyXT1uLnhbci5PSEJdLGVbdCszM109bi54LkVMRU1FTlRBTF9ETUcsZVt0KzM0XT1uLnJlbGljU2V0SW5kZXgsZVt0KzM1XT1uLm9ybmFtZW50U2V0SW5kZXh9LGNsZWFuRmxvYXRCdWZmZXI6ZT0+e25ldyBGbG9hdDY0QXJyYXkoZSkuZmlsbCgwKX0sY3JlYXRlRmxvYXRCdWZmZXI6ZT0+bmV3IEZsb2F0NjRBcnJheShlKld0KS5idWZmZXJ9O2Z1bmN0aW9uIHcoZSl7cmV0dXJuIGU+PjJ9ZnVuY3Rpb24gayhlKXtyZXR1cm4gTWF0aC5taW4oMSxlPj4xKX1jb25zdCBSPS4wNixXPTEsej0yLE89NCxNPTgsdXQ9MTYsVHQ9MzIsYmU9NjQsSm49e0JBU0lDX0RNR19UWVBFOlcsU0tJTExfRE1HX1RZUEU6eixVTFRfRE1HX1RZUEU6TyxGVUFfRE1HX1RZUEU6TSxET1RfRE1HX1RZUEU6dXQsQlJFQUtfRE1HX1RZUEU6VHQsU1VQRVJfQlJFQUtfRE1HX1RZUEU6YmUsIkhQJSI6MCwiQVRLJSI6MCwiREVGJSI6MCwiU1BEJSI6MCxIUDowLEFUSzowLERFRjowLFNQRDoxZS00LCJDUklUIERNRyI6MCwiQ1JJVCBSYXRlIjowLCJFZmZlY3QgSGl0IFJhdGUiOjAsIkVmZmVjdCBSRVMiOjAsIkJyZWFrIEVmZmVjdCI6MCwiRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIjowLCJPdXRnb2luZyBIZWFsaW5nIEJvb3N0IjowLCJQaHlzaWNhbCBETUcgQm9vc3QiOjAsIkZpcmUgRE1HIEJvb3N0IjowLCJJY2UgRE1HIEJvb3N0IjowLCJMaWdodG5pbmcgRE1HIEJvb3N0IjowLCJXaW5kIERNRyBCb29zdCI6MCwiUXVhbnR1bSBETUcgQm9vc3QiOjAsIkltYWdpbmFyeSBETUcgQm9vc3QiOjAsRUxFTUVOVEFMX0RNRzowLEJBU0lDX1NDQUxJTkc6MCxTS0lMTF9TQ0FMSU5HOjAsVUxUX1NDQUxJTkc6MCxGVUFfU0NBTElORzowLERPVF9TQ0FMSU5HOjAsQkFTSUNfQ1JfQk9PU1Q6MCxTS0lMTF9DUl9CT09TVDowLFVMVF9DUl9CT09TVDowLEZVQV9DUl9CT09TVDowLEJBU0lDX0NEX0JPT1NUOjAsU0tJTExfQ0RfQk9PU1Q6MCxVTFRfQ0RfQk9PU1Q6MCxGVUFfQ0RfQk9PU1Q6MCxCQVNJQ19CT09TVDowLFNLSUxMX0JPT1NUOjAsVUxUX0JPT1NUOjAsRlVBX0JPT1NUOjAsRE9UX0JPT1NUOjAsVlVMTkVSQUJJTElUWTowLEJBU0lDX1ZVTE5FUkFCSUxJVFk6MCxTS0lMTF9WVUxORVJBQklMSVRZOjAsVUxUX1ZVTE5FUkFCSUxJVFk6MCxGVUFfVlVMTkVSQUJJTElUWTowLERPVF9WVUxORVJBQklMSVRZOjAsQlJFQUtfVlVMTkVSQUJJTElUWTowLERFRl9QRU46MCxCQVNJQ19ERUZfUEVOOjAsU0tJTExfREVGX1BFTjowLFVMVF9ERUZfUEVOOjAsRlVBX0RFRl9QRU46MCxET1RfREVGX1BFTjowLEJSRUFLX0RFRl9QRU46MCxTVVBFUl9CUkVBS19ERUZfUEVOOjAsUkVTX1BFTjowLFBIWVNJQ0FMX1JFU19QRU46MCxGSVJFX1JFU19QRU46MCxJQ0VfUkVTX1BFTjowLExJR0hUTklOR19SRVNfUEVOOjAsV0lORF9SRVNfUEVOOjAsUVVBTlRVTV9SRVNfUEVOOjAsSU1BR0lOQVJZX1JFU19QRU46MCxCQVNJQ19SRVNfUEVOOjAsU0tJTExfUkVTX1BFTjowLFVMVF9SRVNfUEVOOjAsRlVBX1JFU19QRU46MCxET1RfUkVTX1BFTjowLEJBU0lDX0RNRzowLFNLSUxMX0RNRzowLFVMVF9ETUc6MCxGVUFfRE1HOjAsRE9UX0RNRzowLEJSRUFLX0RNRzowLENPTUJPX0RNRzowLERNR19SRURfTVVMVEk6MSxFSFA6MCxET1RfQ0hBTkNFOjAsRUZGRUNUX1JFU19QRU46MCxET1RfU1BMSVQ6MCxET1RfU1RBQ0tTOjAsRU5FTVlfV0VBS05FU1NfQlJPS0VOOjAsU1VQRVJfQlJFQUtfTU9ESUZJRVI6MCxCQVNJQ19TVVBFUl9CUkVBS19NT0RJRklFUjowLFNVUEVSX0JSRUFLX0hNQ19NT0RJRklFUjowLEJBU0lDX1RPVUdITkVTU19ETUc6MCxTS0lMTF9UT1VHSE5FU1NfRE1HOjAsVUxUX1RPVUdITkVTU19ETUc6MCxGVUFfVE9VR0hORVNTX0RNRzowLEJBU0lDX09SSUdJTkFMX0RNR19CT09TVDowLFNLSUxMX09SSUdJTkFMX0RNR19CT09TVDowLFVMVF9PUklHSU5BTF9ETUdfQk9PU1Q6MCxCQVNJQ19CUkVBS19ETUdfTU9ESUZJRVI6MCxVTFRfQ0RfT1ZFUlJJREU6MCxVTFRfQk9PU1RTX01VTFRJOjEsUkFUSU9fQkFTRURfSFBfQlVGRjowLFJBVElPX0JBU0VEX0hQX1BfQlVGRjowLFJBVElPX0JBU0VEX0FUS19CVUZGOjAsUkFUSU9fQkFTRURfQVRLX1BfQlVGRjowLFJBVElPX0JBU0VEX0RFRl9CVUZGOjAsUkFUSU9fQkFTRURfREVGX1BfQlVGRjowLFJBVElPX0JBU0VEX1NQRF9CVUZGOjAsUkFUSU9fQkFTRURfQ0RfQlVGRjowLEJSRUFLX0VGRklDSUVOQ1lfQk9PU1Q6MCxCQVNJQ19CUkVBS19FRkZJQ0lFTkNZX0JPT1NUOjAsVUxUX0JSRUFLX0VGRklDSUVOQ1lfQk9PU1Q6MCxzZXRzOnt9LFdFSUdIVDowfSx5ZT0oZSx0PTgpPT57Y29uc3Qgbj1NYXRoLnBvdygxMCx0KTtyZXR1cm4gTWF0aC5yb3VuZChlKm4pL259LHB0PShlLHQsbik9Pntjb25zdCBvPVFuKGUuc2V0cy5UaGVBc2hibGF6aW5nR3JhbmREdWtlKSxhPS4wNip0LnNldENvbmRpdGlvbmFsc1t0dC5TZXRzLlRoZUFzaGJsYXppbmdHcmFuZER1a2VdWzFdKm8qdC5iYXNlQXRrO3JldHVybiBuKm8qdC5iYXNlQXRrLWF9LEk9KGUsdCk9PmUuZmluZChuPT5uLmlkPT10KSxRbj1lPT5lPj4yLFk9ZT0+KHQsbixvKT0+dD49ZT9vOm4sYj17U0tJTExfVEFMRU5UXzNfVUxUX0JBU0lDXzU6e2Jhc2ljOlkoNSksc2tpbGw6WSgzKSx1bHQ6WSg1KSx0YWxlbnQ6WSgzKX0sU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzU6e2Jhc2ljOlkoMyksc2tpbGw6WSgzKSx1bHQ6WSg1KSx0YWxlbnQ6WSg1KX0sVUxUX1RBTEVOVF8zX1NLSUxMX0JBU0lDXzU6e2Jhc2ljOlkoNSksc2tpbGw6WSg1KSx1bHQ6WSgzKSx0YWxlbnQ6WSgzKX0sVUxUX0JBU0lDXzNfU0tJTExfVEFMRU5UXzU6e2Jhc2ljOlkoMyksc2tpbGw6WSg1KSx1bHQ6WSgzKSx0YWxlbnQ6WSg1KX0sU0tJTExfVUxUXzNfQkFTSUNfVEFMRU5UXzU6e2Jhc2ljOlkoNSksc2tpbGw6WSgzKSx1bHQ6WSgzKSx0YWxlbnQ6WSg1KX19O2Z1bmN0aW9uIHgoZSl7ZS5CQVNJQ19ETUcrPWUuQkFTSUNfU0NBTElORyplW3IuQVRLXSxlLlNLSUxMX0RNRys9ZS5TS0lMTF9TQ0FMSU5HKmVbci5BVEtdLGUuVUxUX0RNRys9ZS5VTFRfU0NBTElORyplW3IuQVRLXSxlLkZVQV9ETUcrPWUuRlVBX1NDQUxJTkcqZVtyLkFUS10sZS5ET1RfRE1HKz1lLkRPVF9TQ0FMSU5HKmVbci5BVEtdfWZ1bmN0aW9uIEsoKXtyZXR1cm5gCnguQkFTSUNfRE1HICs9IHguQkFTSUNfU0NBTElORyAqIHguQVRLOwp4LlNLSUxMX0RNRyArPSB4LlNLSUxMX1NDQUxJTkcgKiB4LkFUSzsKeC5VTFRfRE1HICs9IHguVUxUX1NDQUxJTkcgKiB4LkFUSzsKeC5GVUFfRE1HICs9IHguRlVBX1NDQUxJTkcgKiB4LkFUSzsKeC5ET1RfRE1HICs9IHguRE9UX1NDQUxJTkcgKiB4LkFUSzsKICAgIGB9ZnVuY3Rpb24gUmUoZSl7ZS5CQVNJQ19ETUcrPWUuQkFTSUNfU0NBTElORyplW3IuSFBdLGUuU0tJTExfRE1HKz1lLlNLSUxMX1NDQUxJTkcqZVtyLkhQXSxlLlVMVF9ETUcrPWUuVUxUX1NDQUxJTkcqZVtyLkhQXSxlLkZVQV9ETUcrPWUuRlVBX1NDQUxJTkcqZVtyLkhQXSxlLkRPVF9ETUcrPWUuRE9UX1NDQUxJTkcqZVtyLkhQXX1mdW5jdGlvbiBHZSgpe3JldHVybmAKeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogeC5IUDsKeC5TS0lMTF9ETUcgKz0geC5TS0lMTF9TQ0FMSU5HICogeC5IUDsKeC5VTFRfRE1HICs9IHguVUxUX1NDQUxJTkcgKiB4LkhQOwp4LkZVQV9ETUcgKz0geC5GVUFfU0NBTElORyAqIHguSFA7CnguRE9UX0RNRyArPSB4LkRPVF9TQ0FMSU5HICogeC5IUDsKICAgIGB9ZnVuY3Rpb24gWihlLHQsbil7ZS5CQVNJQ19ETUcrPWUuQkFTSUNfU0NBTElORyplW3IuQVRLXSxlLlNLSUxMX0RNRys9ZS5TS0lMTF9TQ0FMSU5HKmVbci5BVEtdLGUuVUxUX0RNRys9ZS5VTFRfU0NBTElORyplW3IuQVRLXSxlLkZVQV9ETUcrPWUuRlVBX1NDQUxJTkcqKGVbci5BVEtdK3B0KGUsdCxuKSksZS5ET1RfRE1HKz1lLkRPVF9TQ0FMSU5HKmVbci5BVEtdfWZ1bmN0aW9uIHEoZSl7cmV0dXJuYAp4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiB4LkFUSzsKeC5TS0lMTF9ETUcgKz0geC5TS0lMTF9TQ0FMSU5HICogeC5BVEs7CnguVUxUX0RNRyArPSB4LlVMVF9TQ0FMSU5HICogeC5BVEs7CnguRlVBX0RNRyArPSB4LkZVQV9TQ0FMSU5HICogKHguQVRLICsgY2FsY3VsYXRlQXNoYmxhemluZ1NldChwX3gsIHBfc3RhdGUsICR7ZX0pKTsKeC5ET1RfRE1HICs9IHguRE9UX1NDQUxJTkcgKiB4LkFUSzsKICAgIGB9ZnVuY3Rpb24geShlLHQsbixvKXtvIT09ITEmJih0JmUuQkFTSUNfRE1HX1RZUEUmJihlLkJBU0lDX0JPT1NUKz1uKSx0JmUuU0tJTExfRE1HX1RZUEUmJihlLlNLSUxMX0JPT1NUKz1uKSx0JmUuVUxUX0RNR19UWVBFJiYoZS5VTFRfQk9PU1QrPW4pLHQmZS5GVUFfRE1HX1RZUEUmJihlLkZVQV9CT09TVCs9biksdCZlLkRPVF9ETUdfVFlQRSYmKGUuRE9UX0JPT1NUKz1uKSl9ZnVuY3Rpb24gaXQoZSx0LG4sbyl7byE9PSExJiYodCZlLkJBU0lDX0RNR19UWVBFJiYoZS5CQVNJQ19WVUxORVJBQklMSVRZKz1uKSx0JmUuU0tJTExfRE1HX1RZUEUmJihlLlNLSUxMX1ZVTE5FUkFCSUxJVFkrPW4pLHQmZS5VTFRfRE1HX1RZUEUmJihlLlVMVF9WVUxORVJBQklMSVRZKz1uKSx0JmUuRlVBX0RNR19UWVBFJiYoZS5GVUFfVlVMTkVSQUJJTElUWSs9biksdCZlLkRPVF9ETUdfVFlQRSYmKGUuRE9UX1ZVTE5FUkFCSUxJVFkrPW4pLHQmZS5CUkVBS19ETUdfVFlQRSYmKGUuQlJFQUtfVlVMTkVSQUJJTElUWSs9bikpfWZ1bmN0aW9uIEl0KGUsdCxuLG8pe28hPT0hMSYmKHQmZS5CQVNJQ19ETUdfVFlQRSYmKGUuQkFTSUNfUkVTX1BFTis9biksdCZlLlNLSUxMX0RNR19UWVBFJiYoZS5TS0lMTF9SRVNfUEVOKz1uKSx0JmUuVUxUX0RNR19UWVBFJiYoZS5VTFRfUkVTX1BFTis9biksdCZlLkZVQV9ETUdfVFlQRSYmKGUuRlVBX1JFU19QRU4rPW4pLHQmZS5ET1RfRE1HX1RZUEUmJihlLkRPVF9SRVNfUEVOKz1uKSl9ZnVuY3Rpb24gYXQoZSx0LG4sbyl7byE9PSExJiYodCZlLkJBU0lDX0RNR19UWVBFJiYoZS5CQVNJQ19ERUZfUEVOKz1uKSx0JmUuU0tJTExfRE1HX1RZUEUmJihlLlNLSUxMX0RFRl9QRU4rPW4pLHQmZS5VTFRfRE1HX1RZUEUmJihlLlVMVF9ERUZfUEVOKz1uKSx0JmUuRlVBX0RNR19UWVBFJiYoZS5GVUFfREVGX1BFTis9biksdCZlLkRPVF9ETUdfVFlQRSYmKGUuRE9UX0RFRl9QRU4rPW4pLHQmZS5CUkVBS19ETUdfVFlQRSYmKGUuQlJFQUtfREVGX1BFTis9biksdCZlLlNVUEVSX0JSRUFLX0RNR19UWVBFJiYoZS5TVVBFUl9CUkVBS19ERUZfUEVOKz1uKSl9ZnVuY3Rpb24gdWUoZSx0LG4sbyl7byE9PSExJiYodCZlLkJBU0lDX0RNR19UWVBFJiYoZS5CQVNJQ19DUl9CT09TVCs9biksdCZlLlNLSUxMX0RNR19UWVBFJiYoZS5TS0lMTF9DUl9CT09TVCs9biksdCZlLlVMVF9ETUdfVFlQRSYmKGUuVUxUX0NSX0JPT1NUKz1uKSx0JmUuRlVBX0RNR19UWVBFJiYoZS5GVUFfQ1JfQk9PU1QrPW4pKX1mdW5jdGlvbiBmdChlLHQsbixvKXtvIT09ITEmJih0JmUuQkFTSUNfRE1HX1RZUEUmJihlLkJBU0lDX0NEX0JPT1NUKz1uKSx0JmUuU0tJTExfRE1HX1RZUEUmJihlLlNLSUxMX0NEX0JPT1NUKz1uKSx0JmUuVUxUX0RNR19UWVBFJiYoZS5VTFRfQ0RfQk9PU1QrPW4pLHQmZS5GVUFfRE1HX1RZUEUmJihlLkZVQV9DRF9CT09TVCs9bikpfWNvbnN0IFhuPXt0eXBlOiJsb2dnZXIiLGxvZyhlKXt0aGlzLm91dHB1dCgibG9nIixlKX0sd2FybihlKXt0aGlzLm91dHB1dCgid2FybiIsZSl9LGVycm9yKGUpe3RoaXMub3V0cHV0KCJlcnJvciIsZSl9LG91dHB1dChlLHQpe2NvbnNvbGUmJmNvbnNvbGVbZV0mJmNvbnNvbGVbZV0uYXBwbHkoY29uc29sZSx0KX19O2NsYXNzIFl0e2NvbnN0cnVjdG9yKHQpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTt0aGlzLmluaXQodCxuKX1pbml0KHQpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTt0aGlzLnByZWZpeD1uLnByZWZpeHx8ImkxOG5leHQ6Iix0aGlzLmxvZ2dlcj10fHxYbix0aGlzLm9wdGlvbnM9bix0aGlzLmRlYnVnPW4uZGVidWd9bG9nKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodCksbz0wO288dDtvKyspbltvXT1hcmd1bWVudHNbb107cmV0dXJuIHRoaXMuZm9yd2FyZChuLCJsb2ciLCIiLCEwKX13YXJuKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodCksbz0wO288dDtvKyspbltvXT1hcmd1bWVudHNbb107cmV0dXJuIHRoaXMuZm9yd2FyZChuLCJ3YXJuIiwiIiwhMCl9ZXJyb3IoKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0KSxvPTA7bzx0O28rKyluW29dPWFyZ3VtZW50c1tvXTtyZXR1cm4gdGhpcy5mb3J3YXJkKG4sImVycm9yIiwiIil9ZGVwcmVjYXRlKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodCksbz0wO288dDtvKyspbltvXT1hcmd1bWVudHNbb107cmV0dXJuIHRoaXMuZm9yd2FyZChuLCJ3YXJuIiwiV0FSTklORyBERVBSRUNBVEVEOiAiLCEwKX1mb3J3YXJkKHQsbixvLGkpe3JldHVybiBpJiYhdGhpcy5kZWJ1Zz9udWxsOih0eXBlb2YgdFswXT09InN0cmluZyImJih0WzBdPWAke299JHt0aGlzLnByZWZpeH0gJHt0WzBdfWApLHRoaXMubG9nZ2VyW25dKHQpKX1jcmVhdGUodCl7cmV0dXJuIG5ldyBZdCh0aGlzLmxvZ2dlcix7cHJlZml4OmAke3RoaXMucHJlZml4fToke3R9OmAsLi4udGhpcy5vcHRpb25zfSl9Y2xvbmUodCl7cmV0dXJuIHQ9dHx8dGhpcy5vcHRpb25zLHQucHJlZml4PXQucHJlZml4fHx0aGlzLnByZWZpeCxuZXcgWXQodGhpcy5sb2dnZXIsdCl9fXZhciBzdD1uZXcgWXQ7Y2xhc3MganR7Y29uc3RydWN0b3IoKXt0aGlzLm9ic2VydmVycz17fX1vbih0LG4pe3JldHVybiB0LnNwbGl0KCIgIikuZm9yRWFjaChvPT57dGhpcy5vYnNlcnZlcnNbb118fCh0aGlzLm9ic2VydmVyc1tvXT1uZXcgTWFwKTtjb25zdCBpPXRoaXMub2JzZXJ2ZXJzW29dLmdldChuKXx8MDt0aGlzLm9ic2VydmVyc1tvXS5zZXQobixpKzEpfSksdGhpc31vZmYodCxuKXtpZih0aGlzLm9ic2VydmVyc1t0XSl7aWYoIW4pe2RlbGV0ZSB0aGlzLm9ic2VydmVyc1t0XTtyZXR1cm59dGhpcy5vYnNlcnZlcnNbdF0uZGVsZXRlKG4pfX1lbWl0KHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLG89bmV3IEFycmF5KG4+MT9uLTE6MCksaT0xO2k8bjtpKyspb1tpLTFdPWFyZ3VtZW50c1tpXTt0aGlzLm9ic2VydmVyc1t0XSYmQXJyYXkuZnJvbSh0aGlzLm9ic2VydmVyc1t0XS5lbnRyaWVzKCkpLmZvckVhY2gocz0+e2xldFtsLG1dPXM7Zm9yKGxldCBwPTA7cDxtO3ArKylsKC4uLm8pfSksdGhpcy5vYnNlcnZlcnNbIioiXSYmQXJyYXkuZnJvbSh0aGlzLm9ic2VydmVyc1siKiJdLmVudHJpZXMoKSkuZm9yRWFjaChzPT57bGV0W2wsbV09cztmb3IobGV0IHA9MDtwPG07cCsrKWwuYXBwbHkobCxbdCwuLi5vXSl9KX19Y29uc3QgRnQ9KCk9PntsZXQgZSx0O2NvbnN0IG49bmV3IFByb21pc2UoKG8saSk9PntlPW8sdD1pfSk7cmV0dXJuIG4ucmVzb2x2ZT1lLG4ucmVqZWN0PXQsbn0sTWU9ZT0+ZT09bnVsbD8iIjoiIitlLFpuPShlLHQsbik9PntlLmZvckVhY2gobz0+e3Rbb10mJihuW29dPXRbb10pfSl9LHFuPS8jIyMvZyx2ZT1lPT5lJiZlLmluZGV4T2YoIiMjIyIpPi0xP2UucmVwbGFjZShxbiwiLiIpOmUsTmU9ZT0+IWV8fHR5cGVvZiBlPT0ic3RyaW5nIixIdD0oZSx0LG4pPT57Y29uc3Qgbz10eXBlb2YgdCE9InN0cmluZyI/dDp0LnNwbGl0KCIuIik7bGV0IGk9MDtmb3IoO2k8by5sZW5ndGgtMTspe2lmKE5lKGUpKXJldHVybnt9O2NvbnN0IGE9dmUob1tpXSk7IWVbYV0mJm4mJihlW2FdPW5ldyBuKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxhKT9lPWVbYV06ZT17fSwrK2l9cmV0dXJuIE5lKGUpP3t9OntvYmo6ZSxrOnZlKG9baV0pfX0sT2U9KGUsdCxuKT0+e2NvbnN0e29iajpvLGs6aX09SHQoZSx0LE9iamVjdCk7aWYobyE9PXZvaWQgMHx8dC5sZW5ndGg9PT0xKXtvW2ldPW47cmV0dXJufWxldCBhPXRbdC5sZW5ndGgtMV0scz10LnNsaWNlKDAsdC5sZW5ndGgtMSksbD1IdChlLHMsT2JqZWN0KTtmb3IoO2wub2JqPT09dm9pZCAwJiZzLmxlbmd0aDspYT1gJHtzW3MubGVuZ3RoLTFdfS4ke2F9YCxzPXMuc2xpY2UoMCxzLmxlbmd0aC0xKSxsPUh0KGUscyxPYmplY3QpLGwmJmwub2JqJiZ0eXBlb2YgbC5vYmpbYCR7bC5rfS4ke2F9YF08InUiJiYobC5vYmo9dm9pZCAwKTtsLm9ialtgJHtsLmt9LiR7YX1gXT1ufSx0bz0oZSx0LG4sbyk9Pntjb25zdHtvYmo6aSxrOmF9PUh0KGUsdCxPYmplY3QpO2lbYV09aVthXXx8W10saVthXS5wdXNoKG4pfSxKdD0oZSx0KT0+e2NvbnN0e29iajpuLGs6b309SHQoZSx0KTtpZihuKXJldHVybiBuW29dfSxlbz0oZSx0LG4pPT57Y29uc3Qgbz1KdChlLG4pO3JldHVybiBvIT09dm9pZCAwP286SnQodCxuKX0sUGU9KGUsdCxuKT0+e2Zvcihjb25zdCBvIGluIHQpbyE9PSJfX3Byb3RvX18iJiZvIT09ImNvbnN0cnVjdG9yIiYmKG8gaW4gZT90eXBlb2YgZVtvXT09InN0cmluZyJ8fGVbb11pbnN0YW5jZW9mIFN0cmluZ3x8dHlwZW9mIHRbb109PSJzdHJpbmcifHx0W29daW5zdGFuY2VvZiBTdHJpbmc/biYmKGVbb109dFtvXSk6UGUoZVtvXSx0W29dLG4pOmVbb109dFtvXSk7cmV0dXJuIGV9LEx0PWU9PmUucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCJcXCQmIik7dmFyIG5vPXsiJiI6IiZhbXA7IiwiPCI6IiZsdDsiLCI+IjoiJmd0OyIsJyInOiImcXVvdDsiLCInIjoiJiMzOTsiLCIvIjoiJiN4MkY7In07Y29uc3Qgb289ZT0+dHlwZW9mIGU9PSJzdHJpbmciP2UucmVwbGFjZSgvWyY8PiInXC9dL2csdD0+bm9bdF0pOmU7Y2xhc3MgaW97Y29uc3RydWN0b3IodCl7dGhpcy5jYXBhY2l0eT10LHRoaXMucmVnRXhwTWFwPW5ldyBNYXAsdGhpcy5yZWdFeHBRdWV1ZT1bXX1nZXRSZWdFeHAodCl7Y29uc3Qgbj10aGlzLnJlZ0V4cE1hcC5nZXQodCk7aWYobiE9PXZvaWQgMClyZXR1cm4gbjtjb25zdCBvPW5ldyBSZWdFeHAodCk7cmV0dXJuIHRoaXMucmVnRXhwUXVldWUubGVuZ3RoPT09dGhpcy5jYXBhY2l0eSYmdGhpcy5yZWdFeHBNYXAuZGVsZXRlKHRoaXMucmVnRXhwUXVldWUuc2hpZnQoKSksdGhpcy5yZWdFeHBNYXAuc2V0KHQsbyksdGhpcy5yZWdFeHBRdWV1ZS5wdXNoKHQpLG99fWNvbnN0IGFvPVsiICIsIiwiLCI/IiwiISIsIjsiXSxzbz1uZXcgaW8oMjApLHJvPShlLHQsbik9Pnt0PXR8fCIiLG49bnx8IiI7Y29uc3Qgbz1hby5maWx0ZXIocz0+dC5pbmRleE9mKHMpPDAmJm4uaW5kZXhPZihzKTwwKTtpZihvLmxlbmd0aD09PTApcmV0dXJuITA7Y29uc3QgaT1zby5nZXRSZWdFeHAoYCgke28ubWFwKHM9PnM9PT0iPyI/IlxcPyI6cykuam9pbigifCIpfSlgKTtsZXQgYT0haS50ZXN0KGUpO2lmKCFhKXtjb25zdCBzPWUuaW5kZXhPZihuKTtzPjAmJiFpLnRlc3QoZS5zdWJzdHJpbmcoMCxzKSkmJihhPSEwKX1yZXR1cm4gYX0sZmU9ZnVuY3Rpb24oZSx0KXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMD9hcmd1bWVudHNbMl06Ii4iO2lmKCFlKXJldHVybjtpZihlW3RdKXJldHVybiBlW3RdO2NvbnN0IG89dC5zcGxpdChuKTtsZXQgaT1lO2ZvcihsZXQgYT0wO2E8by5sZW5ndGg7KXtpZighaXx8dHlwZW9mIGkhPSJvYmplY3QiKXJldHVybjtsZXQgcyxsPSIiO2ZvcihsZXQgbT1hO208by5sZW5ndGg7KyttKWlmKG0hPT1hJiYobCs9biksbCs9b1ttXSxzPWlbbF0scyE9PXZvaWQgMCl7aWYoWyJzdHJpbmciLCJudW1iZXIiLCJib29sZWFuIl0uaW5kZXhPZih0eXBlb2Ygcyk+LTEmJm08by5sZW5ndGgtMSljb250aW51ZTthKz1tLWErMTticmVha31pPXN9cmV0dXJuIGl9LFF0PWU9PmUmJmUuaW5kZXhPZigiXyIpPjA/ZS5yZXBsYWNlKCJfIiwiLSIpOmU7Y2xhc3MgVWUgZXh0ZW5kcyBqdHtjb25zdHJ1Y3Rvcih0KXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e25zOlsidHJhbnNsYXRpb24iXSxkZWZhdWx0TlM6InRyYW5zbGF0aW9uIn07c3VwZXIoKSx0aGlzLmRhdGE9dHx8e30sdGhpcy5vcHRpb25zPW4sdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcj09PXZvaWQgMCYmKHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I9Ii4iKSx0aGlzLm9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZT09PXZvaWQgMCYmKHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlPSEwKX1hZGROYW1lc3BhY2VzKHQpe3RoaXMub3B0aW9ucy5ucy5pbmRleE9mKHQpPDAmJnRoaXMub3B0aW9ucy5ucy5wdXNoKHQpfXJlbW92ZU5hbWVzcGFjZXModCl7Y29uc3Qgbj10aGlzLm9wdGlvbnMubnMuaW5kZXhPZih0KTtuPi0xJiZ0aGlzLm9wdGlvbnMubnMuc3BsaWNlKG4sMSl9Z2V0UmVzb3VyY2UodCxuLG8pe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dm9pZCAwP2FyZ3VtZW50c1szXTp7fTtjb25zdCBhPWkua2V5U2VwYXJhdG9yIT09dm9pZCAwP2kua2V5U2VwYXJhdG9yOnRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3Iscz1pLmlnbm9yZUpTT05TdHJ1Y3R1cmUhPT12b2lkIDA/aS5pZ25vcmVKU09OU3RydWN0dXJlOnRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlO2xldCBsO3QuaW5kZXhPZigiLiIpPi0xP2w9dC5zcGxpdCgiLiIpOihsPVt0LG5dLG8mJihBcnJheS5pc0FycmF5KG8pP2wucHVzaCguLi5vKTp0eXBlb2Ygbz09InN0cmluZyImJmE/bC5wdXNoKC4uLm8uc3BsaXQoYSkpOmwucHVzaChvKSkpO2NvbnN0IG09SnQodGhpcy5kYXRhLGwpO3JldHVybiFtJiYhbiYmIW8mJnQuaW5kZXhPZigiLiIpPi0xJiYodD1sWzBdLG49bFsxXSxvPWwuc2xpY2UoMikuam9pbigiLiIpKSxtfHwhc3x8dHlwZW9mIG8hPSJzdHJpbmciP206ZmUodGhpcy5kYXRhJiZ0aGlzLmRhdGFbdF0mJnRoaXMuZGF0YVt0XVtuXSxvLGEpfWFkZFJlc291cmNlKHQsbixvLGkpe2xldCBhPWFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dm9pZCAwP2FyZ3VtZW50c1s0XTp7c2lsZW50OiExfTtjb25zdCBzPWEua2V5U2VwYXJhdG9yIT09dm9pZCAwP2Eua2V5U2VwYXJhdG9yOnRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I7bGV0IGw9W3Qsbl07byYmKGw9bC5jb25jYXQocz9vLnNwbGl0KHMpOm8pKSx0LmluZGV4T2YoIi4iKT4tMSYmKGw9dC5zcGxpdCgiLiIpLGk9bixuPWxbMV0pLHRoaXMuYWRkTmFtZXNwYWNlcyhuKSxPZSh0aGlzLmRhdGEsbCxpKSxhLnNpbGVudHx8dGhpcy5lbWl0KCJhZGRlZCIsdCxuLG8saSl9YWRkUmVzb3VyY2VzKHQsbixvKXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMD9hcmd1bWVudHNbM106e3NpbGVudDohMX07Zm9yKGNvbnN0IGEgaW4gbykodHlwZW9mIG9bYV09PSJzdHJpbmcifHxBcnJheS5pc0FycmF5KG9bYV0pKSYmdGhpcy5hZGRSZXNvdXJjZSh0LG4sYSxvW2FdLHtzaWxlbnQ6ITB9KTtpLnNpbGVudHx8dGhpcy5lbWl0KCJhZGRlZCIsdCxuLG8pfWFkZFJlc291cmNlQnVuZGxlKHQsbixvLGksYSl7bGV0IHM9YXJndW1lbnRzLmxlbmd0aD41JiZhcmd1bWVudHNbNV0hPT12b2lkIDA/YXJndW1lbnRzWzVdOntzaWxlbnQ6ITEsc2tpcENvcHk6ITF9LGw9W3Qsbl07dC5pbmRleE9mKCIuIik+LTEmJihsPXQuc3BsaXQoIi4iKSxpPW8sbz1uLG49bFsxXSksdGhpcy5hZGROYW1lc3BhY2VzKG4pO2xldCBtPUp0KHRoaXMuZGF0YSxsKXx8e307cy5za2lwQ29weXx8KG89SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvKSkpLGk/UGUobSxvLGEpOm09ey4uLm0sLi4ub30sT2UodGhpcy5kYXRhLGwsbSkscy5zaWxlbnR8fHRoaXMuZW1pdCgiYWRkZWQiLHQsbixvKX1yZW1vdmVSZXNvdXJjZUJ1bmRsZSh0LG4pe3RoaXMuaGFzUmVzb3VyY2VCdW5kbGUodCxuKSYmZGVsZXRlIHRoaXMuZGF0YVt0XVtuXSx0aGlzLnJlbW92ZU5hbWVzcGFjZXMobiksdGhpcy5lbWl0KCJyZW1vdmVkIix0LG4pfWhhc1Jlc291cmNlQnVuZGxlKHQsbil7cmV0dXJuIHRoaXMuZ2V0UmVzb3VyY2UodCxuKSE9PXZvaWQgMH1nZXRSZXNvdXJjZUJ1bmRsZSh0LG4pe3JldHVybiBufHwobj10aGlzLm9wdGlvbnMuZGVmYXVsdE5TKSx0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQST09PSJ2MSI/ey4uLnRoaXMuZ2V0UmVzb3VyY2UodCxuKX06dGhpcy5nZXRSZXNvdXJjZSh0LG4pfWdldERhdGFCeUxhbmd1YWdlKHQpe3JldHVybiB0aGlzLmRhdGFbdF19aGFzTGFuZ3VhZ2VTb21lVHJhbnNsYXRpb25zKHQpe2NvbnN0IG49dGhpcy5nZXREYXRhQnlMYW5ndWFnZSh0KTtyZXR1cm4hIShuJiZPYmplY3Qua2V5cyhuKXx8W10pLmZpbmQoaT0+bltpXSYmT2JqZWN0LmtleXMobltpXSkubGVuZ3RoPjApfXRvSlNPTigpe3JldHVybiB0aGlzLmRhdGF9fXZhciBGZT17cHJvY2Vzc29yczp7fSxhZGRQb3N0UHJvY2Vzc29yKGUpe3RoaXMucHJvY2Vzc29yc1tlLm5hbWVdPWV9LGhhbmRsZShlLHQsbixvLGkpe3JldHVybiBlLmZvckVhY2goYT0+e3RoaXMucHJvY2Vzc29yc1thXSYmKHQ9dGhpcy5wcm9jZXNzb3JzW2FdLnByb2Nlc3ModCxuLG8saSkpfSksdH19O2NvbnN0IEhlPXt9O2NsYXNzIFh0IGV4dGVuZHMganR7Y29uc3RydWN0b3IodCl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9O3N1cGVyKCksWm4oWyJyZXNvdXJjZVN0b3JlIiwibGFuZ3VhZ2VVdGlscyIsInBsdXJhbFJlc29sdmVyIiwiaW50ZXJwb2xhdG9yIiwiYmFja2VuZENvbm5lY3RvciIsImkxOG5Gb3JtYXQiLCJ1dGlscyJdLHQsdGhpcyksdGhpcy5vcHRpb25zPW4sdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcj09PXZvaWQgMCYmKHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I9Ii4iKSx0aGlzLmxvZ2dlcj1zdC5jcmVhdGUoInRyYW5zbGF0b3IiKX1jaGFuZ2VMYW5ndWFnZSh0KXt0JiYodGhpcy5sYW5ndWFnZT10KX1leGlzdHModCl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOntpbnRlcnBvbGF0aW9uOnt9fTtpZih0PT1udWxsKXJldHVybiExO2NvbnN0IG89dGhpcy5yZXNvbHZlKHQsbik7cmV0dXJuIG8mJm8ucmVzIT09dm9pZCAwfWV4dHJhY3RGcm9tS2V5KHQsbil7bGV0IG89bi5uc1NlcGFyYXRvciE9PXZvaWQgMD9uLm5zU2VwYXJhdG9yOnRoaXMub3B0aW9ucy5uc1NlcGFyYXRvcjtvPT09dm9pZCAwJiYobz0iOiIpO2NvbnN0IGk9bi5rZXlTZXBhcmF0b3IhPT12b2lkIDA/bi5rZXlTZXBhcmF0b3I6dGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcjtsZXQgYT1uLm5zfHx0aGlzLm9wdGlvbnMuZGVmYXVsdE5TfHxbXTtjb25zdCBzPW8mJnQuaW5kZXhPZihvKT4tMSxsPSF0aGlzLm9wdGlvbnMudXNlckRlZmluZWRLZXlTZXBhcmF0b3ImJiFuLmtleVNlcGFyYXRvciYmIXRoaXMub3B0aW9ucy51c2VyRGVmaW5lZE5zU2VwYXJhdG9yJiYhbi5uc1NlcGFyYXRvciYmIXJvKHQsbyxpKTtpZihzJiYhbCl7Y29uc3QgbT10Lm1hdGNoKHRoaXMuaW50ZXJwb2xhdG9yLm5lc3RpbmdSZWdleHApO2lmKG0mJm0ubGVuZ3RoPjApcmV0dXJue2tleTp0LG5hbWVzcGFjZXM6YX07Y29uc3QgcD10LnNwbGl0KG8pOyhvIT09aXx8bz09PWkmJnRoaXMub3B0aW9ucy5ucy5pbmRleE9mKHBbMF0pPi0xKSYmKGE9cC5zaGlmdCgpKSx0PXAuam9pbihpKX1yZXR1cm4gdHlwZW9mIGE9PSJzdHJpbmciJiYoYT1bYV0pLHtrZXk6dCxuYW1lc3BhY2VzOmF9fXRyYW5zbGF0ZSh0LG4sbyl7aWYodHlwZW9mIG4hPSJvYmplY3QiJiZ0aGlzLm9wdGlvbnMub3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXImJihuPXRoaXMub3B0aW9ucy5vdmVybG9hZFRyYW5zbGF0aW9uT3B0aW9uSGFuZGxlcihhcmd1bWVudHMpKSx0eXBlb2Ygbj09Im9iamVjdCImJihuPXsuLi5ufSksbnx8KG49e30pLHQ9PW51bGwpcmV0dXJuIiI7QXJyYXkuaXNBcnJheSh0KXx8KHQ9W1N0cmluZyh0KV0pO2NvbnN0IGk9bi5yZXR1cm5EZXRhaWxzIT09dm9pZCAwP24ucmV0dXJuRGV0YWlsczp0aGlzLm9wdGlvbnMucmV0dXJuRGV0YWlscyxhPW4ua2V5U2VwYXJhdG9yIT09dm9pZCAwP24ua2V5U2VwYXJhdG9yOnRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3Ise2tleTpzLG5hbWVzcGFjZXM6bH09dGhpcy5leHRyYWN0RnJvbUtleSh0W3QubGVuZ3RoLTFdLG4pLG09bFtsLmxlbmd0aC0xXSxwPW4ubG5nfHx0aGlzLmxhbmd1YWdlLFM9bi5hcHBlbmROYW1lc3BhY2VUb0NJTW9kZXx8dGhpcy5vcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlO2lmKHAmJnAudG9Mb3dlckNhc2UoKT09PSJjaW1vZGUiKXtpZihTKXtjb25zdCBFPW4ubnNTZXBhcmF0b3J8fHRoaXMub3B0aW9ucy5uc1NlcGFyYXRvcjtyZXR1cm4gaT97cmVzOmAke219JHtFfSR7c31gLHVzZWRLZXk6cyxleGFjdFVzZWRLZXk6cyx1c2VkTG5nOnAsdXNlZE5TOm0sdXNlZFBhcmFtczp0aGlzLmdldFVzZWRQYXJhbXNEZXRhaWxzKG4pfTpgJHttfSR7RX0ke3N9YH1yZXR1cm4gaT97cmVzOnMsdXNlZEtleTpzLGV4YWN0VXNlZEtleTpzLHVzZWRMbmc6cCx1c2VkTlM6bSx1c2VkUGFyYW1zOnRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHMobil9OnN9Y29uc3QgQj10aGlzLnJlc29sdmUodCxuKTtsZXQgYz1CJiZCLnJlcztjb25zdCBmPUImJkIudXNlZEtleXx8cyx1PUImJkIuZXhhY3RVc2VkS2V5fHxzLEM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShjKSxkPVsiW29iamVjdCBOdW1iZXJdIiwiW29iamVjdCBGdW5jdGlvbl0iLCJbb2JqZWN0IFJlZ0V4cF0iXSxnPW4uam9pbkFycmF5cyE9PXZvaWQgMD9uLmpvaW5BcnJheXM6dGhpcy5vcHRpb25zLmpvaW5BcnJheXMsaD0hdGhpcy5pMThuRm9ybWF0fHx0aGlzLmkxOG5Gb3JtYXQuaGFuZGxlQXNPYmplY3Q7aWYoaCYmYyYmKHR5cGVvZiBjIT0ic3RyaW5nIiYmdHlwZW9mIGMhPSJib29sZWFuIiYmdHlwZW9mIGMhPSJudW1iZXIiKSYmZC5pbmRleE9mKEMpPDAmJiEodHlwZW9mIGc9PSJzdHJpbmciJiZBcnJheS5pc0FycmF5KGMpKSl7aWYoIW4ucmV0dXJuT2JqZWN0cyYmIXRoaXMub3B0aW9ucy5yZXR1cm5PYmplY3RzKXt0aGlzLm9wdGlvbnMucmV0dXJuZWRPYmplY3RIYW5kbGVyfHx0aGlzLmxvZ2dlci53YXJuKCJhY2Nlc3NpbmcgYW4gb2JqZWN0IC0gYnV0IHJldHVybk9iamVjdHMgb3B0aW9ucyBpcyBub3QgZW5hYmxlZCEiKTtjb25zdCBFPXRoaXMub3B0aW9ucy5yZXR1cm5lZE9iamVjdEhhbmRsZXI/dGhpcy5vcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlcihmLGMsey4uLm4sbnM6bH0pOmBrZXkgJyR7c30gKCR7dGhpcy5sYW5ndWFnZX0pJyByZXR1cm5lZCBhbiBvYmplY3QgaW5zdGVhZCBvZiBzdHJpbmcuYDtyZXR1cm4gaT8oQi5yZXM9RSxCLnVzZWRQYXJhbXM9dGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhuKSxCKTpFfWlmKGEpe2NvbnN0IEU9QXJyYXkuaXNBcnJheShjKSxUPUU/W106e30sTD1FP3U6Zjtmb3IoY29uc3QgUCBpbiBjKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjLFApKXtjb25zdCAkPWAke0x9JHthfSR7UH1gO1RbUF09dGhpcy50cmFuc2xhdGUoJCx7Li4ubixqb2luQXJyYXlzOiExLG5zOmx9KSxUW1BdPT09JCYmKFRbUF09Y1tQXSl9Yz1UfX1lbHNlIGlmKGgmJnR5cGVvZiBnPT0ic3RyaW5nIiYmQXJyYXkuaXNBcnJheShjKSljPWMuam9pbihnKSxjJiYoYz10aGlzLmV4dGVuZFRyYW5zbGF0aW9uKGMsdCxuLG8pKTtlbHNle2xldCBFPSExLFQ9ITE7Y29uc3QgTD1uLmNvdW50IT09dm9pZCAwJiZ0eXBlb2Ygbi5jb3VudCE9InN0cmluZyIsUD1YdC5oYXNEZWZhdWx0VmFsdWUobiksJD1MP3RoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4KHAsbi5jb3VudCxuKToiIixEdD1uLm9yZGluYWwmJkw/dGhpcy5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXgocCxuLmNvdW50LHtvcmRpbmFsOiExfSk6IiIsbXQ9TCYmIW4ub3JkaW5hbCYmbi5jb3VudD09PTAmJnRoaXMucGx1cmFsUmVzb2x2ZXIuc2hvdWxkVXNlSW50bEFwaSgpLF90PW10JiZuW2BkZWZhdWx0VmFsdWUke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2BdfHxuW2BkZWZhdWx0VmFsdWUkeyR9YF18fG5bYGRlZmF1bHRWYWx1ZSR7RHR9YF18fG4uZGVmYXVsdFZhbHVlOyF0aGlzLmlzVmFsaWRMb29rdXAoYykmJlAmJihFPSEwLGM9X3QpLHRoaXMuaXNWYWxpZExvb2t1cChjKXx8KFQ9ITAsYz1zKTtjb25zdCByZT0obi5taXNzaW5nS2V5Tm9WYWx1ZUZhbGxiYWNrVG9LZXl8fHRoaXMub3B0aW9ucy5taXNzaW5nS2V5Tm9WYWx1ZUZhbGxiYWNrVG9LZXkpJiZUP3ZvaWQgMDpjLEN0PVAmJl90IT09YyYmdGhpcy5vcHRpb25zLnVwZGF0ZU1pc3Npbmc7aWYoVHx8RXx8Q3Qpe2lmKHRoaXMubG9nZ2VyLmxvZyhDdD8idXBkYXRlS2V5IjoibWlzc2luZ0tleSIscCxtLHMsQ3Q/X3Q6YyksYSl7Y29uc3QgWD10aGlzLnJlc29sdmUocyx7Li4ubixrZXlTZXBhcmF0b3I6ITF9KTtYJiZYLnJlcyYmdGhpcy5sb2dnZXIud2FybigiU2VlbXMgdGhlIGxvYWRlZCB0cmFuc2xhdGlvbnMgd2VyZSBpbiBmbGF0IEpTT04gZm9ybWF0IGluc3RlYWQgb2YgbmVzdGVkLiBFaXRoZXIgc2V0IGtleVNlcGFyYXRvcjogZmFsc2Ugb24gaW5pdCBvciBtYWtlIHN1cmUgeW91ciB0cmFuc2xhdGlvbnMgYXJlIHB1Ymxpc2hlZCBpbiBuZXN0ZWQgZm9ybWF0LiIpfWxldCBTdD1bXTtjb25zdCBBdD10aGlzLmxhbmd1YWdlVXRpbHMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcsbi5sbmd8fHRoaXMubGFuZ3VhZ2UpO2lmKHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1RvPT09ImZhbGxiYWNrIiYmQXQmJkF0WzBdKWZvcihsZXQgWD0wO1g8QXQubGVuZ3RoO1grKylTdC5wdXNoKEF0W1hdKTtlbHNlIHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1RvPT09ImFsbCI/U3Q9dGhpcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShuLmxuZ3x8dGhpcy5sYW5ndWFnZSk6U3QucHVzaChuLmxuZ3x8dGhpcy5sYW5ndWFnZSk7Y29uc3QgVnQ9KFgscnQsZ3QpPT57Y29uc3QgenQ9UCYmZ3QhPT1jP2d0OnJlO3RoaXMub3B0aW9ucy5taXNzaW5nS2V5SGFuZGxlcj90aGlzLm9wdGlvbnMubWlzc2luZ0tleUhhbmRsZXIoWCxtLHJ0LHp0LEN0LG4pOnRoaXMuYmFja2VuZENvbm5lY3RvciYmdGhpcy5iYWNrZW5kQ29ubmVjdG9yLnNhdmVNaXNzaW5nJiZ0aGlzLmJhY2tlbmRDb25uZWN0b3Iuc2F2ZU1pc3NpbmcoWCxtLHJ0LHp0LEN0LG4pLHRoaXMuZW1pdCgibWlzc2luZ0tleSIsWCxtLHJ0LGMpfTt0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmcmJih0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmdQbHVyYWxzJiZMP1N0LmZvckVhY2goWD0+e2NvbnN0IHJ0PXRoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4ZXMoWCxuKTttdCYmbltgZGVmYXVsdFZhbHVlJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gXSYmcnQuaW5kZXhPZihgJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gKTwwJiZydC5wdXNoKGAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2ApLHJ0LmZvckVhY2goZ3Q9PntWdChbWF0scytndCxuW2BkZWZhdWx0VmFsdWUke2d0fWBdfHxfdCl9KX0pOlZ0KFN0LHMsX3QpKX1jPXRoaXMuZXh0ZW5kVHJhbnNsYXRpb24oYyx0LG4sQixvKSxUJiZjPT09cyYmdGhpcy5vcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvTWlzc2luZ0tleSYmKGM9YCR7bX06JHtzfWApLChUfHxFKSYmdGhpcy5vcHRpb25zLnBhcnNlTWlzc2luZ0tleUhhbmRsZXImJih0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSE9PSJ2MSI/Yz10aGlzLm9wdGlvbnMucGFyc2VNaXNzaW5nS2V5SGFuZGxlcih0aGlzLm9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9NaXNzaW5nS2V5P2Ake219OiR7c31gOnMsRT9jOnZvaWQgMCk6Yz10aGlzLm9wdGlvbnMucGFyc2VNaXNzaW5nS2V5SGFuZGxlcihjKSl9cmV0dXJuIGk/KEIucmVzPWMsQi51c2VkUGFyYW1zPXRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHMobiksQik6Y31leHRlbmRUcmFuc2xhdGlvbih0LG4sbyxpLGEpe3ZhciBzPXRoaXM7aWYodGhpcy5pMThuRm9ybWF0JiZ0aGlzLmkxOG5Gb3JtYXQucGFyc2UpdD10aGlzLmkxOG5Gb3JtYXQucGFyc2UodCx7Li4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcywuLi5vfSxvLmxuZ3x8dGhpcy5sYW5ndWFnZXx8aS51c2VkTG5nLGkudXNlZE5TLGkudXNlZEtleSx7cmVzb2x2ZWQ6aX0pO2Vsc2UgaWYoIW8uc2tpcEludGVycG9sYXRpb24pe28uaW50ZXJwb2xhdGlvbiYmdGhpcy5pbnRlcnBvbGF0b3IuaW5pdCh7Li4ubyxpbnRlcnBvbGF0aW9uOnsuLi50aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiwuLi5vLmludGVycG9sYXRpb259fSk7Y29uc3QgcD10eXBlb2YgdD09InN0cmluZyImJihvJiZvLmludGVycG9sYXRpb24mJm8uaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXMhPT12b2lkIDA/by5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlczp0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXMpO2xldCBTO2lmKHApe2NvbnN0IGM9dC5tYXRjaCh0aGlzLmludGVycG9sYXRvci5uZXN0aW5nUmVnZXhwKTtTPWMmJmMubGVuZ3RofWxldCBCPW8ucmVwbGFjZSYmdHlwZW9mIG8ucmVwbGFjZSE9InN0cmluZyI/by5yZXBsYWNlOm87aWYodGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyYmKEI9ey4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMsLi4uQn0pLHQ9dGhpcy5pbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodCxCLG8ubG5nfHx0aGlzLmxhbmd1YWdlfHxpLnVzZWRMbmcsbykscCl7Y29uc3QgYz10Lm1hdGNoKHRoaXMuaW50ZXJwb2xhdG9yLm5lc3RpbmdSZWdleHApLGY9YyYmYy5sZW5ndGg7UzxmJiYoby5uZXN0PSExKX0hby5sbmcmJnRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJIT09InYxIiYmaSYmaS5yZXMmJihvLmxuZz10aGlzLmxhbmd1YWdlfHxpLnVzZWRMbmcpLG8ubmVzdCE9PSExJiYodD10aGlzLmludGVycG9sYXRvci5uZXN0KHQsZnVuY3Rpb24oKXtmb3IodmFyIGM9YXJndW1lbnRzLmxlbmd0aCxmPW5ldyBBcnJheShjKSx1PTA7dTxjO3UrKylmW3VdPWFyZ3VtZW50c1t1XTtyZXR1cm4gYSYmYVswXT09PWZbMF0mJiFvLmNvbnRleHQ/KHMubG9nZ2VyLndhcm4oYEl0IHNlZW1zIHlvdSBhcmUgbmVzdGluZyByZWN1cnNpdmVseSBrZXk6ICR7ZlswXX0gaW4ga2V5OiAke25bMF19YCksbnVsbCk6cy50cmFuc2xhdGUoLi4uZixuKX0sbykpLG8uaW50ZXJwb2xhdGlvbiYmdGhpcy5pbnRlcnBvbGF0b3IucmVzZXQoKX1jb25zdCBsPW8ucG9zdFByb2Nlc3N8fHRoaXMub3B0aW9ucy5wb3N0UHJvY2VzcyxtPXR5cGVvZiBsPT0ic3RyaW5nIj9bbF06bDtyZXR1cm4gdCE9bnVsbCYmbSYmbS5sZW5ndGgmJm8uYXBwbHlQb3N0UHJvY2Vzc29yIT09ITEmJih0PUZlLmhhbmRsZShtLHQsbix0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5wb3N0UHJvY2Vzc1Bhc3NSZXNvbHZlZD97aTE4blJlc29sdmVkOnsuLi5pLHVzZWRQYXJhbXM6dGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhvKX0sLi4ub306byx0aGlzKSksdH1yZXNvbHZlKHQpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fSxvLGksYSxzLGw7cmV0dXJuIHR5cGVvZiB0PT0ic3RyaW5nIiYmKHQ9W3RdKSx0LmZvckVhY2gobT0+e2lmKHRoaXMuaXNWYWxpZExvb2t1cChvKSlyZXR1cm47Y29uc3QgcD10aGlzLmV4dHJhY3RGcm9tS2V5KG0sbiksUz1wLmtleTtpPVM7bGV0IEI9cC5uYW1lc3BhY2VzO3RoaXMub3B0aW9ucy5mYWxsYmFja05TJiYoQj1CLmNvbmNhdCh0aGlzLm9wdGlvbnMuZmFsbGJhY2tOUykpO2NvbnN0IGM9bi5jb3VudCE9PXZvaWQgMCYmdHlwZW9mIG4uY291bnQhPSJzdHJpbmciLGY9YyYmIW4ub3JkaW5hbCYmbi5jb3VudD09PTAmJnRoaXMucGx1cmFsUmVzb2x2ZXIuc2hvdWxkVXNlSW50bEFwaSgpLHU9bi5jb250ZXh0IT09dm9pZCAwJiYodHlwZW9mIG4uY29udGV4dD09InN0cmluZyJ8fHR5cGVvZiBuLmNvbnRleHQ9PSJudW1iZXIiKSYmbi5jb250ZXh0IT09IiIsQz1uLmxuZ3M/bi5sbmdzOnRoaXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkobi5sbmd8fHRoaXMubGFuZ3VhZ2Usbi5mYWxsYmFja0xuZyk7Qi5mb3JFYWNoKGQ9Pnt0aGlzLmlzVmFsaWRMb29rdXAobyl8fChsPWQsIUhlW2Ake0NbMF19LSR7ZH1gXSYmdGhpcy51dGlscyYmdGhpcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UmJiF0aGlzLnV0aWxzLmhhc0xvYWRlZE5hbWVzcGFjZShsKSYmKEhlW2Ake0NbMF19LSR7ZH1gXT0hMCx0aGlzLmxvZ2dlci53YXJuKGBrZXkgIiR7aX0iIGZvciBsYW5ndWFnZXMgIiR7Qy5qb2luKCIsICIpfSIgd29uJ3QgZ2V0IHJlc29sdmVkIGFzIG5hbWVzcGFjZSAiJHtsfSIgd2FzIG5vdCB5ZXQgbG9hZGVkYCwiVGhpcyBtZWFucyBzb21ldGhpbmcgSVMgV1JPTkcgaW4geW91ciBzZXR1cC4gWW91IGFjY2VzcyB0aGUgdCBmdW5jdGlvbiBiZWZvcmUgaTE4bmV4dC5pbml0IC8gaTE4bmV4dC5sb2FkTmFtZXNwYWNlIC8gaTE4bmV4dC5jaGFuZ2VMYW5ndWFnZSB3YXMgZG9uZS4gV2FpdCBmb3IgdGhlIGNhbGxiYWNrIG9yIFByb21pc2UgdG8gcmVzb2x2ZSBiZWZvcmUgYWNjZXNzaW5nIGl0ISEhIikpLEMuZm9yRWFjaChnPT57aWYodGhpcy5pc1ZhbGlkTG9va3VwKG8pKXJldHVybjtzPWc7Y29uc3QgaD1bU107aWYodGhpcy5pMThuRm9ybWF0JiZ0aGlzLmkxOG5Gb3JtYXQuYWRkTG9va3VwS2V5cyl0aGlzLmkxOG5Gb3JtYXQuYWRkTG9va3VwS2V5cyhoLFMsZyxkLG4pO2Vsc2V7bGV0IEU7YyYmKEU9dGhpcy5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXgoZyxuLmNvdW50LG4pKTtjb25zdCBUPWAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2AsTD1gJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfW9yZGluYWwke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9YDtpZihjJiYoaC5wdXNoKFMrRSksbi5vcmRpbmFsJiZFLmluZGV4T2YoTCk9PT0wJiZoLnB1c2goUytFLnJlcGxhY2UoTCx0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yKSksZiYmaC5wdXNoKFMrVCkpLHUpe2NvbnN0IFA9YCR7U30ke3RoaXMub3B0aW9ucy5jb250ZXh0U2VwYXJhdG9yfSR7bi5jb250ZXh0fWA7aC5wdXNoKFApLGMmJihoLnB1c2goUCtFKSxuLm9yZGluYWwmJkUuaW5kZXhPZihMKT09PTAmJmgucHVzaChQK0UucmVwbGFjZShMLHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IpKSxmJiZoLnB1c2goUCtUKSl9fWxldCBfO2Zvcig7Xz1oLnBvcCgpOyl0aGlzLmlzVmFsaWRMb29rdXAobyl8fChhPV8sbz10aGlzLmdldFJlc291cmNlKGcsZCxfLG4pKX0pKX0pfSkse3JlczpvLHVzZWRLZXk6aSxleGFjdFVzZWRLZXk6YSx1c2VkTG5nOnMsdXNlZE5TOmx9fWlzVmFsaWRMb29rdXAodCl7cmV0dXJuIHQhPT12b2lkIDAmJiEoIXRoaXMub3B0aW9ucy5yZXR1cm5OdWxsJiZ0PT09bnVsbCkmJiEoIXRoaXMub3B0aW9ucy5yZXR1cm5FbXB0eVN0cmluZyYmdD09PSIiKX1nZXRSZXNvdXJjZSh0LG4sbyl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT12b2lkIDA/YXJndW1lbnRzWzNdOnt9O3JldHVybiB0aGlzLmkxOG5Gb3JtYXQmJnRoaXMuaTE4bkZvcm1hdC5nZXRSZXNvdXJjZT90aGlzLmkxOG5Gb3JtYXQuZ2V0UmVzb3VyY2UodCxuLG8saSk6dGhpcy5yZXNvdXJjZVN0b3JlLmdldFJlc291cmNlKHQsbixvLGkpfWdldFVzZWRQYXJhbXNEZXRhaWxzKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9O2NvbnN0IG49WyJkZWZhdWx0VmFsdWUiLCJvcmRpbmFsIiwiY29udGV4dCIsInJlcGxhY2UiLCJsbmciLCJsbmdzIiwiZmFsbGJhY2tMbmciLCJucyIsImtleVNlcGFyYXRvciIsIm5zU2VwYXJhdG9yIiwicmV0dXJuT2JqZWN0cyIsInJldHVybkRldGFpbHMiLCJqb2luQXJyYXlzIiwicG9zdFByb2Nlc3MiLCJpbnRlcnBvbGF0aW9uIl0sbz10LnJlcGxhY2UmJnR5cGVvZiB0LnJlcGxhY2UhPSJzdHJpbmciO2xldCBpPW8/dC5yZXBsYWNlOnQ7aWYobyYmdHlwZW9mIHQuY291bnQ8InUiJiYoaS5jb3VudD10LmNvdW50KSx0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzJiYoaT17Li4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcywuLi5pfSksIW8pe2k9ey4uLml9O2Zvcihjb25zdCBhIG9mIG4pZGVsZXRlIGlbYV19cmV0dXJuIGl9c3RhdGljIGhhc0RlZmF1bHRWYWx1ZSh0KXtjb25zdCBuPSJkZWZhdWx0VmFsdWUiO2Zvcihjb25zdCBvIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbykmJm49PT1vLnN1YnN0cmluZygwLG4ubGVuZ3RoKSYmdFtvXSE9PXZvaWQgMClyZXR1cm4hMDtyZXR1cm4hMX19Y29uc3QgZGU9ZT0+ZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpO2NsYXNzIHhle2NvbnN0cnVjdG9yKHQpe3RoaXMub3B0aW9ucz10LHRoaXMuc3VwcG9ydGVkTG5ncz10aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5nc3x8ITEsdGhpcy5sb2dnZXI9c3QuY3JlYXRlKCJsYW5ndWFnZVV0aWxzIil9Z2V0U2NyaXB0UGFydEZyb21Db2RlKHQpe2lmKHQ9UXQodCksIXR8fHQuaW5kZXhPZigiLSIpPDApcmV0dXJuIG51bGw7Y29uc3Qgbj10LnNwbGl0KCItIik7cmV0dXJuIG4ubGVuZ3RoPT09Mnx8KG4ucG9wKCksbltuLmxlbmd0aC0xXS50b0xvd2VyQ2FzZSgpPT09IngiKT9udWxsOnRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKG4uam9pbigiLSIpKX1nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZSh0KXtpZih0PVF0KHQpLCF0fHx0LmluZGV4T2YoIi0iKTwwKXJldHVybiB0O2NvbnN0IG49dC5zcGxpdCgiLSIpO3JldHVybiB0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShuWzBdKX1mb3JtYXRMYW5ndWFnZUNvZGUodCl7aWYodHlwZW9mIHQ9PSJzdHJpbmciJiZ0LmluZGV4T2YoIi0iKT4tMSl7Y29uc3Qgbj1bImhhbnMiLCJoYW50IiwibGF0biIsImN5cmwiLCJjYW5zIiwibW9uZyIsImFyYWIiXTtsZXQgbz10LnNwbGl0KCItIik7cmV0dXJuIHRoaXMub3B0aW9ucy5sb3dlckNhc2VMbmc/bz1vLm1hcChpPT5pLnRvTG93ZXJDYXNlKCkpOm8ubGVuZ3RoPT09Mj8ob1swXT1vWzBdLnRvTG93ZXJDYXNlKCksb1sxXT1vWzFdLnRvVXBwZXJDYXNlKCksbi5pbmRleE9mKG9bMV0udG9Mb3dlckNhc2UoKSk+LTEmJihvWzFdPWRlKG9bMV0udG9Mb3dlckNhc2UoKSkpKTpvLmxlbmd0aD09PTMmJihvWzBdPW9bMF0udG9Mb3dlckNhc2UoKSxvWzFdLmxlbmd0aD09PTImJihvWzFdPW9bMV0udG9VcHBlckNhc2UoKSksb1swXSE9PSJzZ24iJiZvWzJdLmxlbmd0aD09PTImJihvWzJdPW9bMl0udG9VcHBlckNhc2UoKSksbi5pbmRleE9mKG9bMV0udG9Mb3dlckNhc2UoKSk+LTEmJihvWzFdPWRlKG9bMV0udG9Mb3dlckNhc2UoKSkpLG4uaW5kZXhPZihvWzJdLnRvTG93ZXJDYXNlKCkpPi0xJiYob1syXT1kZShvWzJdLnRvTG93ZXJDYXNlKCkpKSksby5qb2luKCItIil9cmV0dXJuIHRoaXMub3B0aW9ucy5jbGVhbkNvZGV8fHRoaXMub3B0aW9ucy5sb3dlckNhc2VMbmc/dC50b0xvd2VyQ2FzZSgpOnR9aXNTdXBwb3J0ZWRDb2RlKHQpe3JldHVybih0aGlzLm9wdGlvbnMubG9hZD09PSJsYW5ndWFnZU9ubHkifHx0aGlzLm9wdGlvbnMubm9uRXhwbGljaXRTdXBwb3J0ZWRMbmdzKSYmKHQ9dGhpcy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZSh0KSksIXRoaXMuc3VwcG9ydGVkTG5nc3x8IXRoaXMuc3VwcG9ydGVkTG5ncy5sZW5ndGh8fHRoaXMuc3VwcG9ydGVkTG5ncy5pbmRleE9mKHQpPi0xfWdldEJlc3RNYXRjaEZyb21Db2Rlcyh0KXtpZighdClyZXR1cm4gbnVsbDtsZXQgbjtyZXR1cm4gdC5mb3JFYWNoKG89PntpZihuKXJldHVybjtjb25zdCBpPXRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKG8pOyghdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3N8fHRoaXMuaXNTdXBwb3J0ZWRDb2RlKGkpKSYmKG49aSl9KSwhbiYmdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3MmJnQuZm9yRWFjaChvPT57aWYobilyZXR1cm47Y29uc3QgaT10aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKG8pO2lmKHRoaXMuaXNTdXBwb3J0ZWRDb2RlKGkpKXJldHVybiBuPWk7bj10aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5ncy5maW5kKGE9PntpZihhPT09aSlyZXR1cm4gYTtpZighKGEuaW5kZXhPZigiLSIpPDAmJmkuaW5kZXhPZigiLSIpPDApJiYoYS5pbmRleE9mKCItIik+MCYmaS5pbmRleE9mKCItIik8MCYmYS5zdWJzdHJpbmcoMCxhLmluZGV4T2YoIi0iKSk9PT1pfHxhLmluZGV4T2YoaSk9PT0wJiZpLmxlbmd0aD4xKSlyZXR1cm4gYX0pfSksbnx8KG49dGhpcy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZylbMF0pLG59Z2V0RmFsbGJhY2tDb2Rlcyh0LG4pe2lmKCF0KXJldHVybltdO2lmKHR5cGVvZiB0PT0iZnVuY3Rpb24iJiYodD10KG4pKSx0eXBlb2YgdD09InN0cmluZyImJih0PVt0XSksQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdDtpZighbilyZXR1cm4gdC5kZWZhdWx0fHxbXTtsZXQgbz10W25dO3JldHVybiBvfHwobz10W3RoaXMuZ2V0U2NyaXB0UGFydEZyb21Db2RlKG4pXSksb3x8KG89dFt0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShuKV0pLG98fChvPXRbdGhpcy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShuKV0pLG98fChvPXQuZGVmYXVsdCksb3x8W119dG9SZXNvbHZlSGllcmFyY2h5KHQsbil7Y29uc3Qgbz10aGlzLmdldEZhbGxiYWNrQ29kZXMobnx8dGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nfHxbXSx0KSxpPVtdLGE9cz0+e3MmJih0aGlzLmlzU3VwcG9ydGVkQ29kZShzKT9pLnB1c2gocyk6dGhpcy5sb2dnZXIud2FybihgcmVqZWN0aW5nIGxhbmd1YWdlIGNvZGUgbm90IGZvdW5kIGluIHN1cHBvcnRlZExuZ3M6ICR7c31gKSl9O3JldHVybiB0eXBlb2YgdD09InN0cmluZyImJih0LmluZGV4T2YoIi0iKT4tMXx8dC5pbmRleE9mKCJfIik+LTEpPyh0aGlzLm9wdGlvbnMubG9hZCE9PSJsYW5ndWFnZU9ubHkiJiZhKHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKHQpKSx0aGlzLm9wdGlvbnMubG9hZCE9PSJsYW5ndWFnZU9ubHkiJiZ0aGlzLm9wdGlvbnMubG9hZCE9PSJjdXJyZW50T25seSImJmEodGhpcy5nZXRTY3JpcHRQYXJ0RnJvbUNvZGUodCkpLHRoaXMub3B0aW9ucy5sb2FkIT09ImN1cnJlbnRPbmx5IiYmYSh0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKHQpKSk6dHlwZW9mIHQ9PSJzdHJpbmciJiZhKHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKHQpKSxvLmZvckVhY2gocz0+e2kuaW5kZXhPZihzKTwwJiZhKHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKHMpKX0pLGl9fWxldCBsbz1be2xuZ3M6WyJhY2giLCJhayIsImFtIiwiYXJuIiwiYnIiLCJmaWwiLCJndW4iLCJsbiIsIm1mZSIsIm1nIiwibWkiLCJvYyIsInB0IiwicHQtQlIiLCJ0ZyIsInRsIiwidGkiLCJ0ciIsInV6Iiwid2EiXSxucjpbMSwyXSxmYzoxfSx7bG5nczpbImFmIiwiYW4iLCJhc3QiLCJheiIsImJnIiwiYm4iLCJjYSIsImRhIiwiZGUiLCJkZXYiLCJlbCIsImVuIiwiZW8iLCJlcyIsImV0IiwiZXUiLCJmaSIsImZvIiwiZnVyIiwiZnkiLCJnbCIsImd1IiwiaGEiLCJoaSIsImh1IiwiaHkiLCJpYSIsIml0Iiwia2siLCJrbiIsImt1IiwibGIiLCJtYWkiLCJtbCIsIm1uIiwibXIiLCJuYWgiLCJuYXAiLCJuYiIsIm5lIiwibmwiLCJubiIsIm5vIiwibnNvIiwicGEiLCJwYXAiLCJwbXMiLCJwcyIsInB0LVBUIiwicm0iLCJzY28iLCJzZSIsInNpIiwic28iLCJzb24iLCJzcSIsInN2Iiwic3ciLCJ0YSIsInRlIiwidGsiLCJ1ciIsInlvIl0sbnI6WzEsMl0sZmM6Mn0se2xuZ3M6WyJheSIsImJvIiwiY2dnIiwiZmEiLCJodCIsImlkIiwiamEiLCJqYm8iLCJrYSIsImttIiwia28iLCJreSIsImxvIiwibXMiLCJzYWgiLCJzdSIsInRoIiwidHQiLCJ1ZyIsInZpIiwid28iLCJ6aCJdLG5yOlsxXSxmYzozfSx7bG5nczpbImJlIiwiYnMiLCJjbnIiLCJkeiIsImhyIiwicnUiLCJzciIsInVrIl0sbnI6WzEsMiw1XSxmYzo0fSx7bG5nczpbImFyIl0sbnI6WzAsMSwyLDMsMTEsMTAwXSxmYzo1fSx7bG5nczpbImNzIiwic2siXSxucjpbMSwyLDVdLGZjOjZ9LHtsbmdzOlsiY3NiIiwicGwiXSxucjpbMSwyLDVdLGZjOjd9LHtsbmdzOlsiY3kiXSxucjpbMSwyLDMsOF0sZmM6OH0se2xuZ3M6WyJmciJdLG5yOlsxLDJdLGZjOjl9LHtsbmdzOlsiZ2EiXSxucjpbMSwyLDMsNywxMV0sZmM6MTB9LHtsbmdzOlsiZ2QiXSxucjpbMSwyLDMsMjBdLGZjOjExfSx7bG5nczpbImlzIl0sbnI6WzEsMl0sZmM6MTJ9LHtsbmdzOlsianYiXSxucjpbMCwxXSxmYzoxM30se2xuZ3M6WyJrdyJdLG5yOlsxLDIsMyw0XSxmYzoxNH0se2xuZ3M6WyJsdCJdLG5yOlsxLDIsMTBdLGZjOjE1fSx7bG5nczpbImx2Il0sbnI6WzEsMiwwXSxmYzoxNn0se2xuZ3M6WyJtayJdLG5yOlsxLDJdLGZjOjE3fSx7bG5nczpbIm1uayJdLG5yOlswLDEsMl0sZmM6MTh9LHtsbmdzOlsibXQiXSxucjpbMSwyLDExLDIwXSxmYzoxOX0se2xuZ3M6WyJvciJdLG5yOlsyLDFdLGZjOjJ9LHtsbmdzOlsicm8iXSxucjpbMSwyLDIwXSxmYzoyMH0se2xuZ3M6WyJzbCJdLG5yOls1LDEsMiwzXSxmYzoyMX0se2xuZ3M6WyJoZSIsIml3Il0sbnI6WzEsMiwyMCwyMV0sZmM6MjJ9XSxjbz17MTplPT4rKGU+MSksMjplPT4rKGUhPTEpLDM6ZT0+MCw0OmU9PmUlMTA9PTEmJmUlMTAwIT0xMT8wOmUlMTA+PTImJmUlMTA8PTQmJihlJTEwMDwxMHx8ZSUxMDA+PTIwKT8xOjIsNTplPT5lPT0wPzA6ZT09MT8xOmU9PTI/MjplJTEwMD49MyYmZSUxMDA8PTEwPzM6ZSUxMDA+PTExPzQ6NSw2OmU9PmU9PTE/MDplPj0yJiZlPD00PzE6Miw3OmU9PmU9PTE/MDplJTEwPj0yJiZlJTEwPD00JiYoZSUxMDA8MTB8fGUlMTAwPj0yMCk/MToyLDg6ZT0+ZT09MT8wOmU9PTI/MTplIT04JiZlIT0xMT8yOjMsOTplPT4rKGU+PTIpLDEwOmU9PmU9PTE/MDplPT0yPzE6ZTw3PzI6ZTwxMT8zOjQsMTE6ZT0+ZT09MXx8ZT09MTE/MDplPT0yfHxlPT0xMj8xOmU+MiYmZTwyMD8yOjMsMTI6ZT0+KyhlJTEwIT0xfHxlJTEwMD09MTEpLDEzOmU9PisoZSE9PTApLDE0OmU9PmU9PTE/MDplPT0yPzE6ZT09Mz8yOjMsMTU6ZT0+ZSUxMD09MSYmZSUxMDAhPTExPzA6ZSUxMD49MiYmKGUlMTAwPDEwfHxlJTEwMD49MjApPzE6MiwxNjplPT5lJTEwPT0xJiZlJTEwMCE9MTE/MDplIT09MD8xOjIsMTc6ZT0+ZT09MXx8ZSUxMD09MSYmZSUxMDAhPTExPzA6MSwxODplPT5lPT0wPzA6ZT09MT8xOjIsMTk6ZT0+ZT09MT8wOmU9PTB8fGUlMTAwPjEmJmUlMTAwPDExPzE6ZSUxMDA+MTAmJmUlMTAwPDIwPzI6MywyMDplPT5lPT0xPzA6ZT09MHx8ZSUxMDA+MCYmZSUxMDA8MjA/MToyLDIxOmU9PmUlMTAwPT0xPzE6ZSUxMDA9PTI/MjplJTEwMD09M3x8ZSUxMDA9PTQ/MzowLDIyOmU9PmU9PTE/MDplPT0yPzE6KGU8MHx8ZT4xMCkmJmUlMTA9PTA/MjozfTtjb25zdCB1bz1bInYxIiwidjIiLCJ2MyJdLGZvPVsidjQiXSxLZT17emVybzowLG9uZToxLHR3bzoyLGZldzozLG1hbnk6NCxvdGhlcjo1fSxtbz0oKT0+e2NvbnN0IGU9e307cmV0dXJuIGxvLmZvckVhY2godD0+e3QubG5ncy5mb3JFYWNoKG49PntlW25dPXtudW1iZXJzOnQubnIscGx1cmFsczpjb1t0LmZjXX19KX0pLGV9O2NsYXNzIENve2NvbnN0cnVjdG9yKHQpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTt0aGlzLmxhbmd1YWdlVXRpbHM9dCx0aGlzLm9wdGlvbnM9bix0aGlzLmxvZ2dlcj1zdC5jcmVhdGUoInBsdXJhbFJlc29sdmVyIiksKCF0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT058fGZvLmluY2x1ZGVzKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTikpJiYodHlwZW9mIEludGw+InUifHwhSW50bC5QbHVyYWxSdWxlcykmJih0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT049InYzIix0aGlzLmxvZ2dlci5lcnJvcigiWW91ciBlbnZpcm9ubWVudCBzZWVtcyBub3QgdG8gYmUgSW50bCBBUEkgY29tcGF0aWJsZSwgdXNlIGFuIEludGwuUGx1cmFsUnVsZXMgcG9seWZpbGwuIFdpbGwgZmFsbGJhY2sgdG8gdGhlIGNvbXBhdGliaWxpdHlKU09OIHYzIGZvcm1hdCBoYW5kbGluZy4iKSksdGhpcy5ydWxlcz1tbygpLHRoaXMucGx1cmFsUnVsZXNDYWNoZT17fX1hZGRSdWxlKHQsbil7dGhpcy5ydWxlc1t0XT1ufWNsZWFyQ2FjaGUoKXt0aGlzLnBsdXJhbFJ1bGVzQ2FjaGU9e319Z2V0UnVsZSh0KXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e307aWYodGhpcy5zaG91bGRVc2VJbnRsQXBpKCkpdHJ5e2NvbnN0IG89UXQodD09PSJkZXYiPyJlbiI6dCksaT1uLm9yZGluYWw/Im9yZGluYWwiOiJjYXJkaW5hbCIsYT1KU09OLnN0cmluZ2lmeSh7Y2xlYW5lZENvZGU6byx0eXBlOml9KTtpZihhIGluIHRoaXMucGx1cmFsUnVsZXNDYWNoZSlyZXR1cm4gdGhpcy5wbHVyYWxSdWxlc0NhY2hlW2FdO2NvbnN0IHM9bmV3IEludGwuUGx1cmFsUnVsZXMobyx7dHlwZTppfSk7cmV0dXJuIHRoaXMucGx1cmFsUnVsZXNDYWNoZVthXT1zLHN9Y2F0Y2h7cmV0dXJufXJldHVybiB0aGlzLnJ1bGVzW3RdfHx0aGlzLnJ1bGVzW3RoaXMubGFuZ3VhZ2VVdGlscy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZSh0KV19bmVlZHNQbHVyYWwodCl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9O2NvbnN0IG89dGhpcy5nZXRSdWxlKHQsbik7cmV0dXJuIHRoaXMuc2hvdWxkVXNlSW50bEFwaSgpP28mJm8ucmVzb2x2ZWRPcHRpb25zKCkucGx1cmFsQ2F0ZWdvcmllcy5sZW5ndGg+MTpvJiZvLm51bWJlcnMubGVuZ3RoPjF9Z2V0UGx1cmFsRm9ybXNPZktleSh0LG4pe2xldCBvPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXTp7fTtyZXR1cm4gdGhpcy5nZXRTdWZmaXhlcyh0LG8pLm1hcChpPT5gJHtufSR7aX1gKX1nZXRTdWZmaXhlcyh0KXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e307Y29uc3Qgbz10aGlzLmdldFJ1bGUodCxuKTtyZXR1cm4gbz90aGlzLnNob3VsZFVzZUludGxBcGkoKT9vLnJlc29sdmVkT3B0aW9ucygpLnBsdXJhbENhdGVnb3JpZXMuc29ydCgoaSxhKT0+S2VbaV0tS2VbYV0pLm1hcChpPT5gJHt0aGlzLm9wdGlvbnMucHJlcGVuZH0ke24ub3JkaW5hbD9gb3JkaW5hbCR7dGhpcy5vcHRpb25zLnByZXBlbmR9YDoiIn0ke2l9YCk6by5udW1iZXJzLm1hcChpPT50aGlzLmdldFN1ZmZpeCh0LGksbikpOltdfWdldFN1ZmZpeCh0LG4pe2xldCBvPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXTp7fTtjb25zdCBpPXRoaXMuZ2V0UnVsZSh0LG8pO3JldHVybiBpP3RoaXMuc2hvdWxkVXNlSW50bEFwaSgpP2Ake3RoaXMub3B0aW9ucy5wcmVwZW5kfSR7by5vcmRpbmFsP2BvcmRpbmFsJHt0aGlzLm9wdGlvbnMucHJlcGVuZH1gOiIifSR7aS5zZWxlY3Qobil9YDp0aGlzLmdldFN1ZmZpeFJldHJvQ29tcGF0aWJsZShpLG4pOih0aGlzLmxvZ2dlci53YXJuKGBubyBwbHVyYWwgcnVsZSBmb3VuZCBmb3I6ICR7dH1gKSwiIil9Z2V0U3VmZml4UmV0cm9Db21wYXRpYmxlKHQsbil7Y29uc3Qgbz10Lm5vQWJzP3QucGx1cmFscyhuKTp0LnBsdXJhbHMoTWF0aC5hYnMobikpO2xldCBpPXQubnVtYmVyc1tvXTt0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXgmJnQubnVtYmVycy5sZW5ndGg9PT0yJiZ0Lm51bWJlcnNbMF09PT0xJiYoaT09PTI/aT0icGx1cmFsIjppPT09MSYmKGk9IiIpKTtjb25zdCBhPSgpPT50aGlzLm9wdGlvbnMucHJlcGVuZCYmaS50b1N0cmluZygpP3RoaXMub3B0aW9ucy5wcmVwZW5kK2kudG9TdHJpbmcoKTppLnRvU3RyaW5nKCk7cmV0dXJuIHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTj09PSJ2MSI/aT09PTE/IiI6dHlwZW9mIGk9PSJudW1iZXIiP2BfcGx1cmFsXyR7aS50b1N0cmluZygpfWA6YSgpOnRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTj09PSJ2MiJ8fHRoaXMub3B0aW9ucy5zaW1wbGlmeVBsdXJhbFN1ZmZpeCYmdC5udW1iZXJzLmxlbmd0aD09PTImJnQubnVtYmVyc1swXT09PTE/YSgpOnRoaXMub3B0aW9ucy5wcmVwZW5kJiZvLnRvU3RyaW5nKCk/dGhpcy5vcHRpb25zLnByZXBlbmQrby50b1N0cmluZygpOm8udG9TdHJpbmcoKX1zaG91bGRVc2VJbnRsQXBpKCl7cmV0dXJuIXVvLmluY2x1ZGVzKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTil9fWNvbnN0IHdlPWZ1bmN0aW9uKGUsdCxuKXtsZXQgbz1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMD9hcmd1bWVudHNbM106Ii4iLGk9YXJndW1lbnRzLmxlbmd0aD40JiZhcmd1bWVudHNbNF0hPT12b2lkIDA/YXJndW1lbnRzWzRdOiEwLGE9ZW8oZSx0LG4pO3JldHVybiFhJiZpJiZ0eXBlb2Ygbj09InN0cmluZyImJihhPWZlKGUsbixvKSxhPT09dm9pZCAwJiYoYT1mZSh0LG4sbykpKSxhfSxtZT1lPT5lLnJlcGxhY2UoL1wkL2csIiQkJCQiKTtjbGFzcyBTb3tjb25zdHJ1Y3Rvcigpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7fTt0aGlzLmxvZ2dlcj1zdC5jcmVhdGUoImludGVycG9sYXRvciIpLHRoaXMub3B0aW9ucz10LHRoaXMuZm9ybWF0PXQuaW50ZXJwb2xhdGlvbiYmdC5pbnRlcnBvbGF0aW9uLmZvcm1hdHx8KG49Pm4pLHRoaXMuaW5pdCh0KX1pbml0KCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9O3QuaW50ZXJwb2xhdGlvbnx8KHQuaW50ZXJwb2xhdGlvbj17ZXNjYXBlVmFsdWU6ITB9KTtjb25zdHtlc2NhcGU6bixlc2NhcGVWYWx1ZTpvLHVzZVJhd1ZhbHVlVG9Fc2NhcGU6aSxwcmVmaXg6YSxwcmVmaXhFc2NhcGVkOnMsc3VmZml4Omwsc3VmZml4RXNjYXBlZDptLGZvcm1hdFNlcGFyYXRvcjpwLHVuZXNjYXBlU3VmZml4OlMsdW5lc2NhcGVQcmVmaXg6QixuZXN0aW5nUHJlZml4OmMsbmVzdGluZ1ByZWZpeEVzY2FwZWQ6ZixuZXN0aW5nU3VmZml4OnUsbmVzdGluZ1N1ZmZpeEVzY2FwZWQ6QyxuZXN0aW5nT3B0aW9uc1NlcGFyYXRvcjpkLG1heFJlcGxhY2VzOmcsYWx3YXlzRm9ybWF0Omh9PXQuaW50ZXJwb2xhdGlvbjt0aGlzLmVzY2FwZT1uIT09dm9pZCAwP246b28sdGhpcy5lc2NhcGVWYWx1ZT1vIT09dm9pZCAwP286ITAsdGhpcy51c2VSYXdWYWx1ZVRvRXNjYXBlPWkhPT12b2lkIDA/aTohMSx0aGlzLnByZWZpeD1hP0x0KGEpOnN8fCJ7eyIsdGhpcy5zdWZmaXg9bD9MdChsKTptfHwifX0iLHRoaXMuZm9ybWF0U2VwYXJhdG9yPXB8fCIsIix0aGlzLnVuZXNjYXBlUHJlZml4PVM/IiI6Qnx8Ii0iLHRoaXMudW5lc2NhcGVTdWZmaXg9dGhpcy51bmVzY2FwZVByZWZpeD8iIjpTfHwiIix0aGlzLm5lc3RpbmdQcmVmaXg9Yz9MdChjKTpmfHxMdCgiJHQoIiksdGhpcy5uZXN0aW5nU3VmZml4PXU/THQodSk6Q3x8THQoIikiKSx0aGlzLm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yPWR8fCIsIix0aGlzLm1heFJlcGxhY2VzPWd8fDFlMyx0aGlzLmFsd2F5c0Zvcm1hdD1oIT09dm9pZCAwP2g6ITEsdGhpcy5yZXNldFJlZ0V4cCgpfXJlc2V0KCl7dGhpcy5vcHRpb25zJiZ0aGlzLmluaXQodGhpcy5vcHRpb25zKX1yZXNldFJlZ0V4cCgpe2NvbnN0IHQ9KG4sbyk9Pm4mJm4uc291cmNlPT09bz8obi5sYXN0SW5kZXg9MCxuKTpuZXcgUmVnRXhwKG8sImciKTt0aGlzLnJlZ2V4cD10KHRoaXMucmVnZXhwLGAke3RoaXMucHJlZml4fSguKz8pJHt0aGlzLnN1ZmZpeH1gKSx0aGlzLnJlZ2V4cFVuZXNjYXBlPXQodGhpcy5yZWdleHBVbmVzY2FwZSxgJHt0aGlzLnByZWZpeH0ke3RoaXMudW5lc2NhcGVQcmVmaXh9KC4rPykke3RoaXMudW5lc2NhcGVTdWZmaXh9JHt0aGlzLnN1ZmZpeH1gKSx0aGlzLm5lc3RpbmdSZWdleHA9dCh0aGlzLm5lc3RpbmdSZWdleHAsYCR7dGhpcy5uZXN0aW5nUHJlZml4fSguKz8pJHt0aGlzLm5lc3RpbmdTdWZmaXh9YCl9aW50ZXJwb2xhdGUodCxuLG8saSl7bGV0IGEscyxsO2NvbnN0IG09dGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiYmdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlc3x8e30scD1mPT57aWYoZi5pbmRleE9mKHRoaXMuZm9ybWF0U2VwYXJhdG9yKTwwKXtjb25zdCBnPXdlKG4sbSxmLHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IsdGhpcy5vcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmUpO3JldHVybiB0aGlzLmFsd2F5c0Zvcm1hdD90aGlzLmZvcm1hdChnLHZvaWQgMCxvLHsuLi5pLC4uLm4saW50ZXJwb2xhdGlvbmtleTpmfSk6Z31jb25zdCB1PWYuc3BsaXQodGhpcy5mb3JtYXRTZXBhcmF0b3IpLEM9dS5zaGlmdCgpLnRyaW0oKSxkPXUuam9pbih0aGlzLmZvcm1hdFNlcGFyYXRvcikudHJpbSgpO3JldHVybiB0aGlzLmZvcm1hdCh3ZShuLG0sQyx0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yLHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlKSxkLG8sey4uLmksLi4ubixpbnRlcnBvbGF0aW9ua2V5OkN9KX07dGhpcy5yZXNldFJlZ0V4cCgpO2NvbnN0IFM9aSYmaS5taXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXJ8fHRoaXMub3B0aW9ucy5taXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIsQj1pJiZpLmludGVycG9sYXRpb24mJmkuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXMhPT12b2lkIDA/aS5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlczp0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXM7cmV0dXJuW3tyZWdleDp0aGlzLnJlZ2V4cFVuZXNjYXBlLHNhZmVWYWx1ZTpmPT5tZShmKX0se3JlZ2V4OnRoaXMucmVnZXhwLHNhZmVWYWx1ZTpmPT50aGlzLmVzY2FwZVZhbHVlP21lKHRoaXMuZXNjYXBlKGYpKTptZShmKX1dLmZvckVhY2goZj0+e2ZvcihsPTA7YT1mLnJlZ2V4LmV4ZWModCk7KXtjb25zdCB1PWFbMV0udHJpbSgpO2lmKHM9cCh1KSxzPT09dm9pZCAwKWlmKHR5cGVvZiBTPT0iZnVuY3Rpb24iKXtjb25zdCBkPVModCxhLGkpO3M9dHlwZW9mIGQ9PSJzdHJpbmciP2Q6IiJ9ZWxzZSBpZihpJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSx1KSlzPSIiO2Vsc2UgaWYoQil7cz1hWzBdO2NvbnRpbnVlfWVsc2UgdGhpcy5sb2dnZXIud2FybihgbWlzc2VkIHRvIHBhc3MgaW4gdmFyaWFibGUgJHt1fSBmb3IgaW50ZXJwb2xhdGluZyAke3R9YCkscz0iIjtlbHNlIHR5cGVvZiBzIT0ic3RyaW5nIiYmIXRoaXMudXNlUmF3VmFsdWVUb0VzY2FwZSYmKHM9TWUocykpO2NvbnN0IEM9Zi5zYWZlVmFsdWUocyk7aWYodD10LnJlcGxhY2UoYVswXSxDKSxCPyhmLnJlZ2V4Lmxhc3RJbmRleCs9cy5sZW5ndGgsZi5yZWdleC5sYXN0SW5kZXgtPWFbMF0ubGVuZ3RoKTpmLnJlZ2V4Lmxhc3RJbmRleD0wLGwrKyxsPj10aGlzLm1heFJlcGxhY2VzKWJyZWFrfX0pLHR9bmVzdCh0LG4pe2xldCBvPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXTp7fSxpLGEscztjb25zdCBsPShtLHApPT57Y29uc3QgUz10aGlzLm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yO2lmKG0uaW5kZXhPZihTKTwwKXJldHVybiBtO2NvbnN0IEI9bS5zcGxpdChuZXcgUmVnRXhwKGAke1N9WyBdKntgKSk7bGV0IGM9YHske0JbMV19YDttPUJbMF0sYz10aGlzLmludGVycG9sYXRlKGMscyk7Y29uc3QgZj1jLm1hdGNoKC8nL2cpLHU9Yy5tYXRjaCgvIi9nKTsoZiYmZi5sZW5ndGglMj09PTAmJiF1fHx1Lmxlbmd0aCUyIT09MCkmJihjPWMucmVwbGFjZSgvJy9nLCciJykpO3RyeXtzPUpTT04ucGFyc2UoYykscCYmKHM9ey4uLnAsLi4uc30pfWNhdGNoKEMpe3JldHVybiB0aGlzLmxvZ2dlci53YXJuKGBmYWlsZWQgcGFyc2luZyBvcHRpb25zIHN0cmluZyBpbiBuZXN0aW5nIGZvciBrZXkgJHttfWAsQyksYCR7bX0ke1N9JHtjfWB9cmV0dXJuIHMuZGVmYXVsdFZhbHVlJiZzLmRlZmF1bHRWYWx1ZS5pbmRleE9mKHRoaXMucHJlZml4KT4tMSYmZGVsZXRlIHMuZGVmYXVsdFZhbHVlLG19O2Zvcig7aT10aGlzLm5lc3RpbmdSZWdleHAuZXhlYyh0KTspe2xldCBtPVtdO3M9ey4uLm99LHM9cy5yZXBsYWNlJiZ0eXBlb2Ygcy5yZXBsYWNlIT0ic3RyaW5nIj9zLnJlcGxhY2U6cyxzLmFwcGx5UG9zdFByb2Nlc3Nvcj0hMSxkZWxldGUgcy5kZWZhdWx0VmFsdWU7bGV0IHA9ITE7aWYoaVswXS5pbmRleE9mKHRoaXMuZm9ybWF0U2VwYXJhdG9yKSE9PS0xJiYhL3suKn0vLnRlc3QoaVsxXSkpe2NvbnN0IFM9aVsxXS5zcGxpdCh0aGlzLmZvcm1hdFNlcGFyYXRvcikubWFwKEI9PkIudHJpbSgpKTtpWzFdPVMuc2hpZnQoKSxtPVMscD0hMH1pZihhPW4obC5jYWxsKHRoaXMsaVsxXS50cmltKCkscykscyksYSYmaVswXT09PXQmJnR5cGVvZiBhIT0ic3RyaW5nIilyZXR1cm4gYTt0eXBlb2YgYSE9InN0cmluZyImJihhPU1lKGEpKSxhfHwodGhpcy5sb2dnZXIud2FybihgbWlzc2VkIHRvIHJlc29sdmUgJHtpWzFdfSBmb3IgbmVzdGluZyAke3R9YCksYT0iIikscCYmKGE9bS5yZWR1Y2UoKFMsQik9PnRoaXMuZm9ybWF0KFMsQixvLmxuZyx7Li4ubyxpbnRlcnBvbGF0aW9ua2V5OmlbMV0udHJpbSgpfSksYS50cmltKCkpKSx0PXQucmVwbGFjZShpWzBdLGEpLHRoaXMucmVnZXhwLmxhc3RJbmRleD0wfXJldHVybiB0fX1jb25zdCBnbz1lPT57bGV0IHQ9ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtjb25zdCBuPXt9O2lmKGUuaW5kZXhPZigiKCIpPi0xKXtjb25zdCBvPWUuc3BsaXQoIigiKTt0PW9bMF0udG9Mb3dlckNhc2UoKS50cmltKCk7Y29uc3QgaT1vWzFdLnN1YnN0cmluZygwLG9bMV0ubGVuZ3RoLTEpO3Q9PT0iY3VycmVuY3kiJiZpLmluZGV4T2YoIjoiKTwwP24uY3VycmVuY3l8fChuLmN1cnJlbmN5PWkudHJpbSgpKTp0PT09InJlbGF0aXZldGltZSImJmkuaW5kZXhPZigiOiIpPDA/bi5yYW5nZXx8KG4ucmFuZ2U9aS50cmltKCkpOmkuc3BsaXQoIjsiKS5mb3JFYWNoKHM9PntpZihzKXtjb25zdFtsLC4uLm1dPXMuc3BsaXQoIjoiKSxwPW0uam9pbigiOiIpLnRyaW0oKS5yZXBsYWNlKC9eJyt8JyskL2csIiIpLFM9bC50cmltKCk7bltTXXx8KG5bU109cCkscD09PSJmYWxzZSImJihuW1NdPSExKSxwPT09InRydWUiJiYobltTXT0hMCksaXNOYU4ocCl8fChuW1NdPXBhcnNlSW50KHAsMTApKX19KX1yZXR1cm57Zm9ybWF0TmFtZTp0LGZvcm1hdE9wdGlvbnM6bn19LGt0PWU9Pntjb25zdCB0PXt9O3JldHVybihuLG8saSk9PntsZXQgYT1pO2kmJmkuaW50ZXJwb2xhdGlvbmtleSYmaS5mb3JtYXRQYXJhbXMmJmkuZm9ybWF0UGFyYW1zW2kuaW50ZXJwb2xhdGlvbmtleV0mJmlbaS5pbnRlcnBvbGF0aW9ua2V5XSYmKGE9ey4uLmEsW2kuaW50ZXJwb2xhdGlvbmtleV06dm9pZCAwfSk7Y29uc3Qgcz1vK0pTT04uc3RyaW5naWZ5KGEpO2xldCBsPXRbc107cmV0dXJuIGx8fChsPWUoUXQobyksaSksdFtzXT1sKSxsKG4pfX07Y2xhc3MgcG97Y29uc3RydWN0b3IoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e307dGhpcy5sb2dnZXI9c3QuY3JlYXRlKCJmb3JtYXR0ZXIiKSx0aGlzLm9wdGlvbnM9dCx0aGlzLmZvcm1hdHM9e251bWJlcjprdCgobixvKT0+e2NvbnN0IGk9bmV3IEludGwuTnVtYmVyRm9ybWF0KG4sey4uLm99KTtyZXR1cm4gYT0+aS5mb3JtYXQoYSl9KSxjdXJyZW5jeTprdCgobixvKT0+e2NvbnN0IGk9bmV3IEludGwuTnVtYmVyRm9ybWF0KG4sey4uLm8sc3R5bGU6ImN1cnJlbmN5In0pO3JldHVybiBhPT5pLmZvcm1hdChhKX0pLGRhdGV0aW1lOmt0KChuLG8pPT57Y29uc3QgaT1uZXcgSW50bC5EYXRlVGltZUZvcm1hdChuLHsuLi5vfSk7cmV0dXJuIGE9PmkuZm9ybWF0KGEpfSkscmVsYXRpdmV0aW1lOmt0KChuLG8pPT57Y29uc3QgaT1uZXcgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQobix7Li4ub30pO3JldHVybiBhPT5pLmZvcm1hdChhLG8ucmFuZ2V8fCJkYXkiKX0pLGxpc3Q6a3QoKG4sbyk9Pntjb25zdCBpPW5ldyBJbnRsLkxpc3RGb3JtYXQobix7Li4ub30pO3JldHVybiBhPT5pLmZvcm1hdChhKX0pfSx0aGlzLmluaXQodCl9aW5pdCh0KXtjb25zdCBvPShhcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e2ludGVycG9sYXRpb246e319KS5pbnRlcnBvbGF0aW9uO3RoaXMuZm9ybWF0U2VwYXJhdG9yPW8uZm9ybWF0U2VwYXJhdG9yP28uZm9ybWF0U2VwYXJhdG9yOm8uZm9ybWF0U2VwYXJhdG9yfHwiLCJ9YWRkKHQsbil7dGhpcy5mb3JtYXRzW3QudG9Mb3dlckNhc2UoKS50cmltKCldPW59YWRkQ2FjaGVkKHQsbil7dGhpcy5mb3JtYXRzW3QudG9Mb3dlckNhc2UoKS50cmltKCldPWt0KG4pfWZvcm1hdCh0LG4sbyl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT12b2lkIDA/YXJndW1lbnRzWzNdOnt9O2NvbnN0IGE9bi5zcGxpdCh0aGlzLmZvcm1hdFNlcGFyYXRvcik7aWYoYS5sZW5ndGg+MSYmYVswXS5pbmRleE9mKCIoIik+MSYmYVswXS5pbmRleE9mKCIpIik8MCYmYS5maW5kKGw9PmwuaW5kZXhPZigiKSIpPi0xKSl7Y29uc3QgbD1hLmZpbmRJbmRleChtPT5tLmluZGV4T2YoIikiKT4tMSk7YVswXT1bYVswXSwuLi5hLnNwbGljZSgxLGwpXS5qb2luKHRoaXMuZm9ybWF0U2VwYXJhdG9yKX1yZXR1cm4gYS5yZWR1Y2UoKGwsbSk9Pntjb25zdHtmb3JtYXROYW1lOnAsZm9ybWF0T3B0aW9uczpTfT1nbyhtKTtpZih0aGlzLmZvcm1hdHNbcF0pe2xldCBCPWw7dHJ5e2NvbnN0IGM9aSYmaS5mb3JtYXRQYXJhbXMmJmkuZm9ybWF0UGFyYW1zW2kuaW50ZXJwb2xhdGlvbmtleV18fHt9LGY9Yy5sb2NhbGV8fGMubG5nfHxpLmxvY2FsZXx8aS5sbmd8fG87Qj10aGlzLmZvcm1hdHNbcF0obCxmLHsuLi5TLC4uLmksLi4uY30pfWNhdGNoKGMpe3RoaXMubG9nZ2VyLndhcm4oYyl9cmV0dXJuIEJ9ZWxzZSB0aGlzLmxvZ2dlci53YXJuKGB0aGVyZSB3YXMgbm8gZm9ybWF0IGZ1bmN0aW9uIGZvciAke3B9YCk7cmV0dXJuIGx9LHQpfX1jb25zdCBobz0oZSx0KT0+e2UucGVuZGluZ1t0XSE9PXZvaWQgMCYmKGRlbGV0ZSBlLnBlbmRpbmdbdF0sZS5wZW5kaW5nQ291bnQtLSl9O2NsYXNzIEJvIGV4dGVuZHMganR7Y29uc3RydWN0b3IodCxuLG8pe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dm9pZCAwP2FyZ3VtZW50c1szXTp7fTtzdXBlcigpLHRoaXMuYmFja2VuZD10LHRoaXMuc3RvcmU9bix0aGlzLnNlcnZpY2VzPW8sdGhpcy5sYW5ndWFnZVV0aWxzPW8ubGFuZ3VhZ2VVdGlscyx0aGlzLm9wdGlvbnM9aSx0aGlzLmxvZ2dlcj1zdC5jcmVhdGUoImJhY2tlbmRDb25uZWN0b3IiKSx0aGlzLndhaXRpbmdSZWFkcz1bXSx0aGlzLm1heFBhcmFsbGVsUmVhZHM9aS5tYXhQYXJhbGxlbFJlYWRzfHwxMCx0aGlzLnJlYWRpbmdDYWxscz0wLHRoaXMubWF4UmV0cmllcz1pLm1heFJldHJpZXM+PTA/aS5tYXhSZXRyaWVzOjUsdGhpcy5yZXRyeVRpbWVvdXQ9aS5yZXRyeVRpbWVvdXQ+PTE/aS5yZXRyeVRpbWVvdXQ6MzUwLHRoaXMuc3RhdGU9e30sdGhpcy5xdWV1ZT1bXSx0aGlzLmJhY2tlbmQmJnRoaXMuYmFja2VuZC5pbml0JiZ0aGlzLmJhY2tlbmQuaW5pdChvLGkuYmFja2VuZCxpKX1xdWV1ZUxvYWQodCxuLG8saSl7Y29uc3QgYT17fSxzPXt9LGw9e30sbT17fTtyZXR1cm4gdC5mb3JFYWNoKHA9PntsZXQgUz0hMDtuLmZvckVhY2goQj0+e2NvbnN0IGM9YCR7cH18JHtCfWA7IW8ucmVsb2FkJiZ0aGlzLnN0b3JlLmhhc1Jlc291cmNlQnVuZGxlKHAsQik/dGhpcy5zdGF0ZVtjXT0yOnRoaXMuc3RhdGVbY108MHx8KHRoaXMuc3RhdGVbY109PT0xP3NbY109PT12b2lkIDAmJihzW2NdPSEwKToodGhpcy5zdGF0ZVtjXT0xLFM9ITEsc1tjXT09PXZvaWQgMCYmKHNbY109ITApLGFbY109PT12b2lkIDAmJihhW2NdPSEwKSxtW0JdPT09dm9pZCAwJiYobVtCXT0hMCkpKX0pLFN8fChsW3BdPSEwKX0pLChPYmplY3Qua2V5cyhhKS5sZW5ndGh8fE9iamVjdC5rZXlzKHMpLmxlbmd0aCkmJnRoaXMucXVldWUucHVzaCh7cGVuZGluZzpzLHBlbmRpbmdDb3VudDpPYmplY3Qua2V5cyhzKS5sZW5ndGgsbG9hZGVkOnt9LGVycm9yczpbXSxjYWxsYmFjazppfSkse3RvTG9hZDpPYmplY3Qua2V5cyhhKSxwZW5kaW5nOk9iamVjdC5rZXlzKHMpLHRvTG9hZExhbmd1YWdlczpPYmplY3Qua2V5cyhsKSx0b0xvYWROYW1lc3BhY2VzOk9iamVjdC5rZXlzKG0pfX1sb2FkZWQodCxuLG8pe2NvbnN0IGk9dC5zcGxpdCgifCIpLGE9aVswXSxzPWlbMV07biYmdGhpcy5lbWl0KCJmYWlsZWRMb2FkaW5nIixhLHMsbiksIW4mJm8mJnRoaXMuc3RvcmUuYWRkUmVzb3VyY2VCdW5kbGUoYSxzLG8sdm9pZCAwLHZvaWQgMCx7c2tpcENvcHk6ITB9KSx0aGlzLnN0YXRlW3RdPW4/LTE6MixuJiZvJiYodGhpcy5zdGF0ZVt0XT0wKTtjb25zdCBsPXt9O3RoaXMucXVldWUuZm9yRWFjaChtPT57dG8obS5sb2FkZWQsW2FdLHMpLGhvKG0sdCksbiYmbS5lcnJvcnMucHVzaChuKSxtLnBlbmRpbmdDb3VudD09PTAmJiFtLmRvbmUmJihPYmplY3Qua2V5cyhtLmxvYWRlZCkuZm9yRWFjaChwPT57bFtwXXx8KGxbcF09e30pO2NvbnN0IFM9bS5sb2FkZWRbcF07Uy5sZW5ndGgmJlMuZm9yRWFjaChCPT57bFtwXVtCXT09PXZvaWQgMCYmKGxbcF1bQl09ITApfSl9KSxtLmRvbmU9ITAsbS5lcnJvcnMubGVuZ3RoP20uY2FsbGJhY2sobS5lcnJvcnMpOm0uY2FsbGJhY2soKSl9KSx0aGlzLmVtaXQoImxvYWRlZCIsbCksdGhpcy5xdWV1ZT10aGlzLnF1ZXVlLmZpbHRlcihtPT4hbS5kb25lKX1yZWFkKHQsbixvKXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMD9hcmd1bWVudHNbM106MCxhPWFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dm9pZCAwP2FyZ3VtZW50c1s0XTp0aGlzLnJldHJ5VGltZW91dCxzPWFyZ3VtZW50cy5sZW5ndGg+NT9hcmd1bWVudHNbNV06dm9pZCAwO2lmKCF0Lmxlbmd0aClyZXR1cm4gcyhudWxsLHt9KTtpZih0aGlzLnJlYWRpbmdDYWxscz49dGhpcy5tYXhQYXJhbGxlbFJlYWRzKXt0aGlzLndhaXRpbmdSZWFkcy5wdXNoKHtsbmc6dCxuczpuLGZjTmFtZTpvLHRyaWVkOmksd2FpdDphLGNhbGxiYWNrOnN9KTtyZXR1cm59dGhpcy5yZWFkaW5nQ2FsbHMrKztjb25zdCBsPShwLFMpPT57aWYodGhpcy5yZWFkaW5nQ2FsbHMtLSx0aGlzLndhaXRpbmdSZWFkcy5sZW5ndGg+MCl7Y29uc3QgQj10aGlzLndhaXRpbmdSZWFkcy5zaGlmdCgpO3RoaXMucmVhZChCLmxuZyxCLm5zLEIuZmNOYW1lLEIudHJpZWQsQi53YWl0LEIuY2FsbGJhY2spfWlmKHAmJlMmJmk8dGhpcy5tYXhSZXRyaWVzKXtzZXRUaW1lb3V0KCgpPT57dGhpcy5yZWFkLmNhbGwodGhpcyx0LG4sbyxpKzEsYSoyLHMpfSxhKTtyZXR1cm59cyhwLFMpfSxtPXRoaXMuYmFja2VuZFtvXS5iaW5kKHRoaXMuYmFja2VuZCk7aWYobS5sZW5ndGg9PT0yKXt0cnl7Y29uc3QgcD1tKHQsbik7cCYmdHlwZW9mIHAudGhlbj09ImZ1bmN0aW9uIj9wLnRoZW4oUz0+bChudWxsLFMpKS5jYXRjaChsKTpsKG51bGwscCl9Y2F0Y2gocCl7bChwKX1yZXR1cm59cmV0dXJuIG0odCxuLGwpfXByZXBhcmVMb2FkaW5nKHQsbil7bGV0IG89YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDA/YXJndW1lbnRzWzJdOnt9LGk9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7aWYoIXRoaXMuYmFja2VuZClyZXR1cm4gdGhpcy5sb2dnZXIud2FybigiTm8gYmFja2VuZCB3YXMgYWRkZWQgdmlhIGkxOG5leHQudXNlLiBXaWxsIG5vdCBsb2FkIHJlc291cmNlcy4iKSxpJiZpKCk7dHlwZW9mIHQ9PSJzdHJpbmciJiYodD10aGlzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KHQpKSx0eXBlb2Ygbj09InN0cmluZyImJihuPVtuXSk7Y29uc3QgYT10aGlzLnF1ZXVlTG9hZCh0LG4sbyxpKTtpZighYS50b0xvYWQubGVuZ3RoKXJldHVybiBhLnBlbmRpbmcubGVuZ3RofHxpKCksbnVsbDthLnRvTG9hZC5mb3JFYWNoKHM9Pnt0aGlzLmxvYWRPbmUocyl9KX1sb2FkKHQsbixvKXt0aGlzLnByZXBhcmVMb2FkaW5nKHQsbix7fSxvKX1yZWxvYWQodCxuLG8pe3RoaXMucHJlcGFyZUxvYWRpbmcodCxuLHtyZWxvYWQ6ITB9LG8pfWxvYWRPbmUodCl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOiIiO2NvbnN0IG89dC5zcGxpdCgifCIpLGk9b1swXSxhPW9bMV07dGhpcy5yZWFkKGksYSwicmVhZCIsdm9pZCAwLHZvaWQgMCwocyxsKT0+e3MmJnRoaXMubG9nZ2VyLndhcm4oYCR7bn1sb2FkaW5nIG5hbWVzcGFjZSAke2F9IGZvciBsYW5ndWFnZSAke2l9IGZhaWxlZGAscyksIXMmJmwmJnRoaXMubG9nZ2VyLmxvZyhgJHtufWxvYWRlZCBuYW1lc3BhY2UgJHthfSBmb3IgbGFuZ3VhZ2UgJHtpfWAsbCksdGhpcy5sb2FkZWQodCxzLGwpfSl9c2F2ZU1pc3NpbmcodCxuLG8saSxhKXtsZXQgcz1hcmd1bWVudHMubGVuZ3RoPjUmJmFyZ3VtZW50c1s1XSE9PXZvaWQgMD9hcmd1bWVudHNbNV06e30sbD1hcmd1bWVudHMubGVuZ3RoPjYmJmFyZ3VtZW50c1s2XSE9PXZvaWQgMD9hcmd1bWVudHNbNl06KCk9Pnt9O2lmKHRoaXMuc2VydmljZXMudXRpbHMmJnRoaXMuc2VydmljZXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlJiYhdGhpcy5zZXJ2aWNlcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2Uobikpe3RoaXMubG9nZ2VyLndhcm4oYGRpZCBub3Qgc2F2ZSBrZXkgIiR7b30iIGFzIHRoZSBuYW1lc3BhY2UgIiR7bn0iIHdhcyBub3QgeWV0IGxvYWRlZGAsIlRoaXMgbWVhbnMgc29tZXRoaW5nIElTIFdST05HIGluIHlvdXIgc2V0dXAuIFlvdSBhY2Nlc3MgdGhlIHQgZnVuY3Rpb24gYmVmb3JlIGkxOG5leHQuaW5pdCAvIGkxOG5leHQubG9hZE5hbWVzcGFjZSAvIGkxOG5leHQuY2hhbmdlTGFuZ3VhZ2Ugd2FzIGRvbmUuIFdhaXQgZm9yIHRoZSBjYWxsYmFjayBvciBQcm9taXNlIHRvIHJlc29sdmUgYmVmb3JlIGFjY2Vzc2luZyBpdCEhISIpO3JldHVybn1pZighKG89PW51bGx8fG89PT0iIikpe2lmKHRoaXMuYmFja2VuZCYmdGhpcy5iYWNrZW5kLmNyZWF0ZSl7Y29uc3QgbT17Li4ucyxpc1VwZGF0ZTphfSxwPXRoaXMuYmFja2VuZC5jcmVhdGUuYmluZCh0aGlzLmJhY2tlbmQpO2lmKHAubGVuZ3RoPDYpdHJ5e2xldCBTO3AubGVuZ3RoPT09NT9TPXAodCxuLG8saSxtKTpTPXAodCxuLG8saSksUyYmdHlwZW9mIFMudGhlbj09ImZ1bmN0aW9uIj9TLnRoZW4oQj0+bChudWxsLEIpKS5jYXRjaChsKTpsKG51bGwsUyl9Y2F0Y2goUyl7bChTKX1lbHNlIHAodCxuLG8saSxsLG0pfSF0fHwhdFswXXx8dGhpcy5zdG9yZS5hZGRSZXNvdXJjZSh0WzBdLG4sbyxpKX19fWNvbnN0IFZlPSgpPT4oe2RlYnVnOiExLGluaXRJbW1lZGlhdGU6ITAsbnM6WyJ0cmFuc2xhdGlvbiJdLGRlZmF1bHROUzpbInRyYW5zbGF0aW9uIl0sZmFsbGJhY2tMbmc6WyJkZXYiXSxmYWxsYmFja05TOiExLHN1cHBvcnRlZExuZ3M6ITEsbm9uRXhwbGljaXRTdXBwb3J0ZWRMbmdzOiExLGxvYWQ6ImFsbCIscHJlbG9hZDohMSxzaW1wbGlmeVBsdXJhbFN1ZmZpeDohMCxrZXlTZXBhcmF0b3I6Ii4iLG5zU2VwYXJhdG9yOiI6IixwbHVyYWxTZXBhcmF0b3I6Il8iLGNvbnRleHRTZXBhcmF0b3I6Il8iLHBhcnRpYWxCdW5kbGVkTGFuZ3VhZ2VzOiExLHNhdmVNaXNzaW5nOiExLHVwZGF0ZU1pc3Npbmc6ITEsc2F2ZU1pc3NpbmdUbzoiZmFsbGJhY2siLHNhdmVNaXNzaW5nUGx1cmFsczohMCxtaXNzaW5nS2V5SGFuZGxlcjohMSxtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXI6ITEscG9zdFByb2Nlc3M6ITEscG9zdFByb2Nlc3NQYXNzUmVzb2x2ZWQ6ITEscmV0dXJuTnVsbDohMSxyZXR1cm5FbXB0eVN0cmluZzohMCxyZXR1cm5PYmplY3RzOiExLGpvaW5BcnJheXM6ITEscmV0dXJuZWRPYmplY3RIYW5kbGVyOiExLHBhcnNlTWlzc2luZ0tleUhhbmRsZXI6ITEsYXBwZW5kTmFtZXNwYWNlVG9NaXNzaW5nS2V5OiExLGFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlOiExLG92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyOmU9PntsZXQgdD17fTtpZih0eXBlb2YgZVsxXT09Im9iamVjdCImJih0PWVbMV0pLHR5cGVvZiBlWzFdPT0ic3RyaW5nIiYmKHQuZGVmYXVsdFZhbHVlPWVbMV0pLHR5cGVvZiBlWzJdPT0ic3RyaW5nIiYmKHQudERlc2NyaXB0aW9uPWVbMl0pLHR5cGVvZiBlWzJdPT0ib2JqZWN0Inx8dHlwZW9mIGVbM109PSJvYmplY3QiKXtjb25zdCBuPWVbM118fGVbMl07T2JqZWN0LmtleXMobikuZm9yRWFjaChvPT57dFtvXT1uW29dfSl9cmV0dXJuIHR9LGludGVycG9sYXRpb246e2VzY2FwZVZhbHVlOiEwLGZvcm1hdDplPT5lLHByZWZpeDoie3siLHN1ZmZpeDoifX0iLGZvcm1hdFNlcGFyYXRvcjoiLCIsdW5lc2NhcGVQcmVmaXg6Ii0iLG5lc3RpbmdQcmVmaXg6IiR0KCIsbmVzdGluZ1N1ZmZpeDoiKSIsbmVzdGluZ09wdGlvbnNTZXBhcmF0b3I6IiwiLG1heFJlcGxhY2VzOjFlMyxza2lwT25WYXJpYWJsZXM6ITB9fSksemU9ZT0+KHR5cGVvZiBlLm5zPT0ic3RyaW5nIiYmKGUubnM9W2UubnNdKSx0eXBlb2YgZS5mYWxsYmFja0xuZz09InN0cmluZyImJihlLmZhbGxiYWNrTG5nPVtlLmZhbGxiYWNrTG5nXSksdHlwZW9mIGUuZmFsbGJhY2tOUz09InN0cmluZyImJihlLmZhbGxiYWNrTlM9W2UuZmFsbGJhY2tOU10pLGUuc3VwcG9ydGVkTG5ncyYmZS5zdXBwb3J0ZWRMbmdzLmluZGV4T2YoImNpbW9kZSIpPDAmJihlLnN1cHBvcnRlZExuZ3M9ZS5zdXBwb3J0ZWRMbmdzLmNvbmNhdChbImNpbW9kZSJdKSksZSksWnQ9KCk9Pnt9LERvPWU9PntPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkpLmZvckVhY2gobj0+e3R5cGVvZiBlW25dPT0iZnVuY3Rpb24iJiYoZVtuXT1lW25dLmJpbmQoZSkpfSl9O2NsYXNzIHh0IGV4dGVuZHMganR7Y29uc3RydWN0b3IoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e30sbj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtpZihzdXBlcigpLHRoaXMub3B0aW9ucz16ZSh0KSx0aGlzLnNlcnZpY2VzPXt9LHRoaXMubG9nZ2VyPXN0LHRoaXMubW9kdWxlcz17ZXh0ZXJuYWw6W119LERvKHRoaXMpLG4mJiF0aGlzLmlzSW5pdGlhbGl6ZWQmJiF0LmlzQ2xvbmUpe2lmKCF0aGlzLm9wdGlvbnMuaW5pdEltbWVkaWF0ZSlyZXR1cm4gdGhpcy5pbml0KHQsbiksdGhpcztzZXRUaW1lb3V0KCgpPT57dGhpcy5pbml0KHQsbil9LDApfX1pbml0KCl7dmFyIHQ9dGhpcztsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e30sbz1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDt0aGlzLmlzSW5pdGlhbGl6aW5nPSEwLHR5cGVvZiBuPT0iZnVuY3Rpb24iJiYobz1uLG49e30pLCFuLmRlZmF1bHROUyYmbi5kZWZhdWx0TlMhPT0hMSYmbi5ucyYmKHR5cGVvZiBuLm5zPT0ic3RyaW5nIj9uLmRlZmF1bHROUz1uLm5zOm4ubnMuaW5kZXhPZigidHJhbnNsYXRpb24iKTwwJiYobi5kZWZhdWx0TlM9bi5uc1swXSkpO2NvbnN0IGk9VmUoKTt0aGlzLm9wdGlvbnM9ey4uLmksLi4udGhpcy5vcHRpb25zLC4uLnplKG4pfSx0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSE9PSJ2MSImJih0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbj17Li4uaS5pbnRlcnBvbGF0aW9uLC4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9ufSksbi5rZXlTZXBhcmF0b3IhPT12b2lkIDAmJih0aGlzLm9wdGlvbnMudXNlckRlZmluZWRLZXlTZXBhcmF0b3I9bi5rZXlTZXBhcmF0b3IpLG4ubnNTZXBhcmF0b3IhPT12b2lkIDAmJih0aGlzLm9wdGlvbnMudXNlckRlZmluZWROc1NlcGFyYXRvcj1uLm5zU2VwYXJhdG9yKTtjb25zdCBhPVM9PlM/dHlwZW9mIFM9PSJmdW5jdGlvbiI/bmV3IFM6UzpudWxsO2lmKCF0aGlzLm9wdGlvbnMuaXNDbG9uZSl7dGhpcy5tb2R1bGVzLmxvZ2dlcj9zdC5pbml0KGEodGhpcy5tb2R1bGVzLmxvZ2dlciksdGhpcy5vcHRpb25zKTpzdC5pbml0KG51bGwsdGhpcy5vcHRpb25zKTtsZXQgUzt0aGlzLm1vZHVsZXMuZm9ybWF0dGVyP1M9dGhpcy5tb2R1bGVzLmZvcm1hdHRlcjp0eXBlb2YgSW50bDwidSImJihTPXBvKTtjb25zdCBCPW5ldyB4ZSh0aGlzLm9wdGlvbnMpO3RoaXMuc3RvcmU9bmV3IFVlKHRoaXMub3B0aW9ucy5yZXNvdXJjZXMsdGhpcy5vcHRpb25zKTtjb25zdCBjPXRoaXMuc2VydmljZXM7Yy5sb2dnZXI9c3QsYy5yZXNvdXJjZVN0b3JlPXRoaXMuc3RvcmUsYy5sYW5ndWFnZVV0aWxzPUIsYy5wbHVyYWxSZXNvbHZlcj1uZXcgQ28oQix7cHJlcGVuZDp0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yLGNvbXBhdGliaWxpdHlKU09OOnRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTixzaW1wbGlmeVBsdXJhbFN1ZmZpeDp0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXh9KSxTJiYoIXRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdHx8dGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0PT09aS5pbnRlcnBvbGF0aW9uLmZvcm1hdCkmJihjLmZvcm1hdHRlcj1hKFMpLGMuZm9ybWF0dGVyLmluaXQoYyx0aGlzLm9wdGlvbnMpLHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdD1jLmZvcm1hdHRlci5mb3JtYXQuYmluZChjLmZvcm1hdHRlcikpLGMuaW50ZXJwb2xhdG9yPW5ldyBTbyh0aGlzLm9wdGlvbnMpLGMudXRpbHM9e2hhc0xvYWRlZE5hbWVzcGFjZTp0aGlzLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKHRoaXMpfSxjLmJhY2tlbmRDb25uZWN0b3I9bmV3IEJvKGEodGhpcy5tb2R1bGVzLmJhY2tlbmQpLGMucmVzb3VyY2VTdG9yZSxjLHRoaXMub3B0aW9ucyksYy5iYWNrZW5kQ29ubmVjdG9yLm9uKCIqIixmdW5jdGlvbihmKXtmb3IodmFyIHU9YXJndW1lbnRzLmxlbmd0aCxDPW5ldyBBcnJheSh1PjE/dS0xOjApLGQ9MTtkPHU7ZCsrKUNbZC0xXT1hcmd1bWVudHNbZF07dC5lbWl0KGYsLi4uQyl9KSx0aGlzLm1vZHVsZXMubGFuZ3VhZ2VEZXRlY3RvciYmKGMubGFuZ3VhZ2VEZXRlY3Rvcj1hKHRoaXMubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yKSxjLmxhbmd1YWdlRGV0ZWN0b3IuaW5pdCYmYy5sYW5ndWFnZURldGVjdG9yLmluaXQoYyx0aGlzLm9wdGlvbnMuZGV0ZWN0aW9uLHRoaXMub3B0aW9ucykpLHRoaXMubW9kdWxlcy5pMThuRm9ybWF0JiYoYy5pMThuRm9ybWF0PWEodGhpcy5tb2R1bGVzLmkxOG5Gb3JtYXQpLGMuaTE4bkZvcm1hdC5pbml0JiZjLmkxOG5Gb3JtYXQuaW5pdCh0aGlzKSksdGhpcy50cmFuc2xhdG9yPW5ldyBYdCh0aGlzLnNlcnZpY2VzLHRoaXMub3B0aW9ucyksdGhpcy50cmFuc2xhdG9yLm9uKCIqIixmdW5jdGlvbihmKXtmb3IodmFyIHU9YXJndW1lbnRzLmxlbmd0aCxDPW5ldyBBcnJheSh1PjE/dS0xOjApLGQ9MTtkPHU7ZCsrKUNbZC0xXT1hcmd1bWVudHNbZF07dC5lbWl0KGYsLi4uQyl9KSx0aGlzLm1vZHVsZXMuZXh0ZXJuYWwuZm9yRWFjaChmPT57Zi5pbml0JiZmLmluaXQodGhpcyl9KX1pZih0aGlzLmZvcm1hdD10aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQsb3x8KG89WnQpLHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyYmIXRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvciYmIXRoaXMub3B0aW9ucy5sbmcpe2NvbnN0IFM9dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldEZhbGxiYWNrQ29kZXModGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nKTtTLmxlbmd0aD4wJiZTWzBdIT09ImRldiImJih0aGlzLm9wdGlvbnMubG5nPVNbMF0pfSF0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3ImJiF0aGlzLm9wdGlvbnMubG5nJiZ0aGlzLmxvZ2dlci53YXJuKCJpbml0OiBubyBsYW5ndWFnZURldGVjdG9yIGlzIHVzZWQgYW5kIG5vIGxuZyBpcyBkZWZpbmVkIiksWyJnZXRSZXNvdXJjZSIsImhhc1Jlc291cmNlQnVuZGxlIiwiZ2V0UmVzb3VyY2VCdW5kbGUiLCJnZXREYXRhQnlMYW5ndWFnZSJdLmZvckVhY2goUz0+e3RoaXNbU109ZnVuY3Rpb24oKXtyZXR1cm4gdC5zdG9yZVtTXSguLi5hcmd1bWVudHMpfX0pLFsiYWRkUmVzb3VyY2UiLCJhZGRSZXNvdXJjZXMiLCJhZGRSZXNvdXJjZUJ1bmRsZSIsInJlbW92ZVJlc291cmNlQnVuZGxlIl0uZm9yRWFjaChTPT57dGhpc1tTXT1mdW5jdGlvbigpe3JldHVybiB0LnN0b3JlW1NdKC4uLmFyZ3VtZW50cyksdH19KTtjb25zdCBtPUZ0KCkscD0oKT0+e2NvbnN0IFM9KEIsYyk9Pnt0aGlzLmlzSW5pdGlhbGl6aW5nPSExLHRoaXMuaXNJbml0aWFsaXplZCYmIXRoaXMuaW5pdGlhbGl6ZWRTdG9yZU9uY2UmJnRoaXMubG9nZ2VyLndhcm4oImluaXQ6IGkxOG5leHQgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4gWW91IHNob3VsZCBjYWxsIGluaXQganVzdCBvbmNlISIpLHRoaXMuaXNJbml0aWFsaXplZD0hMCx0aGlzLm9wdGlvbnMuaXNDbG9uZXx8dGhpcy5sb2dnZXIubG9nKCJpbml0aWFsaXplZCIsdGhpcy5vcHRpb25zKSx0aGlzLmVtaXQoImluaXRpYWxpemVkIix0aGlzLm9wdGlvbnMpLG0ucmVzb2x2ZShjKSxvKEIsYyl9O2lmKHRoaXMubGFuZ3VhZ2VzJiZ0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSE9PSJ2MSImJiF0aGlzLmlzSW5pdGlhbGl6ZWQpcmV0dXJuIFMobnVsbCx0aGlzLnQuYmluZCh0aGlzKSk7dGhpcy5jaGFuZ2VMYW5ndWFnZSh0aGlzLm9wdGlvbnMubG5nLFMpfTtyZXR1cm4gdGhpcy5vcHRpb25zLnJlc291cmNlc3x8IXRoaXMub3B0aW9ucy5pbml0SW1tZWRpYXRlP3AoKTpzZXRUaW1lb3V0KHAsMCksbX1sb2FkUmVzb3VyY2VzKHQpe2xldCBvPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTpadDtjb25zdCBpPXR5cGVvZiB0PT0ic3RyaW5nIj90OnRoaXMubGFuZ3VhZ2U7aWYodHlwZW9mIHQ9PSJmdW5jdGlvbiImJihvPXQpLCF0aGlzLm9wdGlvbnMucmVzb3VyY2VzfHx0aGlzLm9wdGlvbnMucGFydGlhbEJ1bmRsZWRMYW5ndWFnZXMpe2lmKGkmJmkudG9Mb3dlckNhc2UoKT09PSJjaW1vZGUiJiYoIXRoaXMub3B0aW9ucy5wcmVsb2FkfHx0aGlzLm9wdGlvbnMucHJlbG9hZC5sZW5ndGg9PT0wKSlyZXR1cm4gbygpO2NvbnN0IGE9W10scz1sPT57aWYoIWx8fGw9PT0iY2ltb2RlIilyZXR1cm47dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShsKS5mb3JFYWNoKHA9PntwIT09ImNpbW9kZSImJmEuaW5kZXhPZihwKTwwJiZhLnB1c2gocCl9KX07aT9zKGkpOnRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZykuZm9yRWFjaChtPT5zKG0pKSx0aGlzLm9wdGlvbnMucHJlbG9hZCYmdGhpcy5vcHRpb25zLnByZWxvYWQuZm9yRWFjaChsPT5zKGwpKSx0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IubG9hZChhLHRoaXMub3B0aW9ucy5ucyxsPT57IWwmJiF0aGlzLnJlc29sdmVkTGFuZ3VhZ2UmJnRoaXMubGFuZ3VhZ2UmJnRoaXMuc2V0UmVzb2x2ZWRMYW5ndWFnZSh0aGlzLmxhbmd1YWdlKSxvKGwpfSl9ZWxzZSBvKG51bGwpfXJlbG9hZFJlc291cmNlcyh0LG4sbyl7Y29uc3QgaT1GdCgpO3JldHVybiB0eXBlb2YgdD09ImZ1bmN0aW9uIiYmKG89dCx0PXZvaWQgMCksdHlwZW9mIG49PSJmdW5jdGlvbiImJihvPW4sbj12b2lkIDApLHR8fCh0PXRoaXMubGFuZ3VhZ2VzKSxufHwobj10aGlzLm9wdGlvbnMubnMpLG98fChvPVp0KSx0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IucmVsb2FkKHQsbixhPT57aS5yZXNvbHZlKCksbyhhKX0pLGl9dXNlKHQpe2lmKCF0KXRocm93IG5ldyBFcnJvcigiWW91IGFyZSBwYXNzaW5nIGFuIHVuZGVmaW5lZCBtb2R1bGUhIFBsZWFzZSBjaGVjayB0aGUgb2JqZWN0IHlvdSBhcmUgcGFzc2luZyB0byBpMThuZXh0LnVzZSgpIik7aWYoIXQudHlwZSl0aHJvdyBuZXcgRXJyb3IoIllvdSBhcmUgcGFzc2luZyBhIHdyb25nIG1vZHVsZSEgUGxlYXNlIGNoZWNrIHRoZSBvYmplY3QgeW91IGFyZSBwYXNzaW5nIHRvIGkxOG5leHQudXNlKCkiKTtyZXR1cm4gdC50eXBlPT09ImJhY2tlbmQiJiYodGhpcy5tb2R1bGVzLmJhY2tlbmQ9dCksKHQudHlwZT09PSJsb2dnZXIifHx0LmxvZyYmdC53YXJuJiZ0LmVycm9yKSYmKHRoaXMubW9kdWxlcy5sb2dnZXI9dCksdC50eXBlPT09Imxhbmd1YWdlRGV0ZWN0b3IiJiYodGhpcy5tb2R1bGVzLmxhbmd1YWdlRGV0ZWN0b3I9dCksdC50eXBlPT09ImkxOG5Gb3JtYXQiJiYodGhpcy5tb2R1bGVzLmkxOG5Gb3JtYXQ9dCksdC50eXBlPT09InBvc3RQcm9jZXNzb3IiJiZGZS5hZGRQb3N0UHJvY2Vzc29yKHQpLHQudHlwZT09PSJmb3JtYXR0ZXIiJiYodGhpcy5tb2R1bGVzLmZvcm1hdHRlcj10KSx0LnR5cGU9PT0iM3JkUGFydHkiJiZ0aGlzLm1vZHVsZXMuZXh0ZXJuYWwucHVzaCh0KSx0aGlzfXNldFJlc29sdmVkTGFuZ3VhZ2UodCl7aWYoISghdHx8IXRoaXMubGFuZ3VhZ2VzKSYmIShbImNpbW9kZSIsImRldiJdLmluZGV4T2YodCk+LTEpKWZvcihsZXQgbj0wO248dGhpcy5sYW5ndWFnZXMubGVuZ3RoO24rKyl7Y29uc3Qgbz10aGlzLmxhbmd1YWdlc1tuXTtpZighKFsiY2ltb2RlIiwiZGV2Il0uaW5kZXhPZihvKT4tMSkmJnRoaXMuc3RvcmUuaGFzTGFuZ3VhZ2VTb21lVHJhbnNsYXRpb25zKG8pKXt0aGlzLnJlc29sdmVkTGFuZ3VhZ2U9bzticmVha319fWNoYW5nZUxhbmd1YWdlKHQsbil7dmFyIG89dGhpczt0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvPXQ7Y29uc3QgaT1GdCgpO3RoaXMuZW1pdCgibGFuZ3VhZ2VDaGFuZ2luZyIsdCk7Y29uc3QgYT1tPT57dGhpcy5sYW5ndWFnZT1tLHRoaXMubGFuZ3VhZ2VzPXRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkobSksdGhpcy5yZXNvbHZlZExhbmd1YWdlPXZvaWQgMCx0aGlzLnNldFJlc29sdmVkTGFuZ3VhZ2UobSl9LHM9KG0scCk9PntwPyhhKHApLHRoaXMudHJhbnNsYXRvci5jaGFuZ2VMYW5ndWFnZShwKSx0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvPXZvaWQgMCx0aGlzLmVtaXQoImxhbmd1YWdlQ2hhbmdlZCIscCksdGhpcy5sb2dnZXIubG9nKCJsYW5ndWFnZUNoYW5nZWQiLHApKTp0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvPXZvaWQgMCxpLnJlc29sdmUoZnVuY3Rpb24oKXtyZXR1cm4gby50KC4uLmFyZ3VtZW50cyl9KSxuJiZuKG0sZnVuY3Rpb24oKXtyZXR1cm4gby50KC4uLmFyZ3VtZW50cyl9KX0sbD1tPT57IXQmJiFtJiZ0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3ImJihtPVtdKTtjb25zdCBwPXR5cGVvZiBtPT0ic3RyaW5nIj9tOnRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRCZXN0TWF0Y2hGcm9tQ29kZXMobSk7cCYmKHRoaXMubGFuZ3VhZ2V8fGEocCksdGhpcy50cmFuc2xhdG9yLmxhbmd1YWdlfHx0aGlzLnRyYW5zbGF0b3IuY2hhbmdlTGFuZ3VhZ2UocCksdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yJiZ0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuY2FjaGVVc2VyTGFuZ3VhZ2UmJnRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5jYWNoZVVzZXJMYW5ndWFnZShwKSksdGhpcy5sb2FkUmVzb3VyY2VzKHAsUz0+e3MoUyxwKX0pfTtyZXR1cm4hdCYmdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yJiYhdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmFzeW5jP2wodGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdCgpKTohdCYmdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yJiZ0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuYXN5bmM/dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdC5sZW5ndGg9PT0wP3RoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5kZXRlY3QoKS50aGVuKGwpOnRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5kZXRlY3QobCk6bCh0KSxpfWdldEZpeGVkVCh0LG4sbyl7dmFyIGk9dGhpcztjb25zdCBhPWZ1bmN0aW9uKHMsbCl7bGV0IG07aWYodHlwZW9mIGwhPSJvYmplY3QiKXtmb3IodmFyIHA9YXJndW1lbnRzLmxlbmd0aCxTPW5ldyBBcnJheShwPjI/cC0yOjApLEI9MjtCPHA7QisrKVNbQi0yXT1hcmd1bWVudHNbQl07bT1pLm9wdGlvbnMub3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXIoW3MsbF0uY29uY2F0KFMpKX1lbHNlIG09ey4uLmx9O20ubG5nPW0ubG5nfHxhLmxuZyxtLmxuZ3M9bS5sbmdzfHxhLmxuZ3MsbS5ucz1tLm5zfHxhLm5zLG0ua2V5UHJlZml4IT09IiImJihtLmtleVByZWZpeD1tLmtleVByZWZpeHx8b3x8YS5rZXlQcmVmaXgpO2NvbnN0IGM9aS5vcHRpb25zLmtleVNlcGFyYXRvcnx8Ii4iO2xldCBmO3JldHVybiBtLmtleVByZWZpeCYmQXJyYXkuaXNBcnJheShzKT9mPXMubWFwKHU9PmAke20ua2V5UHJlZml4fSR7Y30ke3V9YCk6Zj1tLmtleVByZWZpeD9gJHttLmtleVByZWZpeH0ke2N9JHtzfWA6cyxpLnQoZixtKX07cmV0dXJuIHR5cGVvZiB0PT0ic3RyaW5nIj9hLmxuZz10OmEubG5ncz10LGEubnM9bixhLmtleVByZWZpeD1vLGF9dCgpe3JldHVybiB0aGlzLnRyYW5zbGF0b3ImJnRoaXMudHJhbnNsYXRvci50cmFuc2xhdGUoLi4uYXJndW1lbnRzKX1leGlzdHMoKXtyZXR1cm4gdGhpcy50cmFuc2xhdG9yJiZ0aGlzLnRyYW5zbGF0b3IuZXhpc3RzKC4uLmFyZ3VtZW50cyl9c2V0RGVmYXVsdE5hbWVzcGFjZSh0KXt0aGlzLm9wdGlvbnMuZGVmYXVsdE5TPXR9aGFzTG9hZGVkTmFtZXNwYWNlKHQpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTtpZighdGhpcy5pc0luaXRpYWxpemVkKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKCJoYXNMb2FkZWROYW1lc3BhY2U6IGkxOG5leHQgd2FzIG5vdCBpbml0aWFsaXplZCIsdGhpcy5sYW5ndWFnZXMpLCExO2lmKCF0aGlzLmxhbmd1YWdlc3x8IXRoaXMubGFuZ3VhZ2VzLmxlbmd0aClyZXR1cm4gdGhpcy5sb2dnZXIud2FybigiaGFzTG9hZGVkTmFtZXNwYWNlOiBpMThuLmxhbmd1YWdlcyB3ZXJlIHVuZGVmaW5lZCBvciBlbXB0eSIsdGhpcy5sYW5ndWFnZXMpLCExO2NvbnN0IG89bi5sbmd8fHRoaXMucmVzb2x2ZWRMYW5ndWFnZXx8dGhpcy5sYW5ndWFnZXNbMF0saT10aGlzLm9wdGlvbnM/dGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nOiExLGE9dGhpcy5sYW5ndWFnZXNbdGhpcy5sYW5ndWFnZXMubGVuZ3RoLTFdO2lmKG8udG9Mb3dlckNhc2UoKT09PSJjaW1vZGUiKXJldHVybiEwO2NvbnN0IHM9KGwsbSk9Pntjb25zdCBwPXRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5zdGF0ZVtgJHtsfXwke219YF07cmV0dXJuIHA9PT0tMXx8cD09PTB8fHA9PT0yfTtpZihuLnByZWNoZWNrKXtjb25zdCBsPW4ucHJlY2hlY2sodGhpcyxzKTtpZihsIT09dm9pZCAwKXJldHVybiBsfXJldHVybiEhKHRoaXMuaGFzUmVzb3VyY2VCdW5kbGUobyx0KXx8IXRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5iYWNrZW5kfHx0aGlzLm9wdGlvbnMucmVzb3VyY2VzJiYhdGhpcy5vcHRpb25zLnBhcnRpYWxCdW5kbGVkTGFuZ3VhZ2VzfHxzKG8sdCkmJighaXx8cyhhLHQpKSl9bG9hZE5hbWVzcGFjZXModCxuKXtjb25zdCBvPUZ0KCk7cmV0dXJuIHRoaXMub3B0aW9ucy5ucz8odHlwZW9mIHQ9PSJzdHJpbmciJiYodD1bdF0pLHQuZm9yRWFjaChpPT57dGhpcy5vcHRpb25zLm5zLmluZGV4T2YoaSk8MCYmdGhpcy5vcHRpb25zLm5zLnB1c2goaSl9KSx0aGlzLmxvYWRSZXNvdXJjZXMoaT0+e28ucmVzb2x2ZSgpLG4mJm4oaSl9KSxvKToobiYmbigpLFByb21pc2UucmVzb2x2ZSgpKX1sb2FkTGFuZ3VhZ2VzKHQsbil7Y29uc3Qgbz1GdCgpO3R5cGVvZiB0PT0ic3RyaW5nIiYmKHQ9W3RdKTtjb25zdCBpPXRoaXMub3B0aW9ucy5wcmVsb2FkfHxbXSxhPXQuZmlsdGVyKHM9PmkuaW5kZXhPZihzKTwwJiZ0aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMuaXNTdXBwb3J0ZWRDb2RlKHMpKTtyZXR1cm4gYS5sZW5ndGg/KHRoaXMub3B0aW9ucy5wcmVsb2FkPWkuY29uY2F0KGEpLHRoaXMubG9hZFJlc291cmNlcyhzPT57by5yZXNvbHZlKCksbiYmbihzKX0pLG8pOihuJiZuKCksUHJvbWlzZS5yZXNvbHZlKCkpfWRpcih0KXtpZih0fHwodD10aGlzLnJlc29sdmVkTGFuZ3VhZ2V8fCh0aGlzLmxhbmd1YWdlcyYmdGhpcy5sYW5ndWFnZXMubGVuZ3RoPjA/dGhpcy5sYW5ndWFnZXNbMF06dGhpcy5sYW5ndWFnZSkpLCF0KXJldHVybiJydGwiO2NvbnN0IG49WyJhciIsInNodSIsInNxciIsInNzaCIsInhhYSIsInloZCIsInl1ZCIsImFhbyIsImFiaCIsImFidiIsImFjbSIsImFjcSIsImFjdyIsImFjeCIsImFjeSIsImFkZiIsImFkcyIsImFlYiIsImFlYyIsImFmYiIsImFqcCIsImFwYyIsImFwZCIsImFyYiIsImFycSIsImFycyIsImFyeSIsImFyeiIsImF1eiIsImF2bCIsImF5aCIsImF5bCIsImF5biIsImF5cCIsImJieiIsInBnYSIsImhlIiwiaXciLCJwcyIsInBidCIsInBidSIsInBzdCIsInBycCIsInByZCIsInVnIiwidXIiLCJ5ZGQiLCJ5ZHMiLCJ5aWgiLCJqaSIsInlpIiwiaGJvIiwibWVuIiwieG1uIiwiZmEiLCJqcHIiLCJwZW8iLCJwZXMiLCJwcnMiLCJkdiIsInNhbSIsImNrYiJdLG89dGhpcy5zZXJ2aWNlcyYmdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzfHxuZXcgeGUoVmUoKSk7cmV0dXJuIG4uaW5kZXhPZihvLmdldExhbmd1YWdlUGFydEZyb21Db2RlKHQpKT4tMXx8dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIi1hcmFiIik+MT8icnRsIjoibHRyIn1zdGF0aWMgY3JlYXRlSW5zdGFuY2UoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e30sbj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtyZXR1cm4gbmV3IHh0KHQsbil9Y2xvbmVJbnN0YW5jZSgpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7fSxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTpadDtjb25zdCBvPXQuZm9ya1Jlc291cmNlU3RvcmU7byYmZGVsZXRlIHQuZm9ya1Jlc291cmNlU3RvcmU7Y29uc3QgaT17Li4udGhpcy5vcHRpb25zLC4uLnQsaXNDbG9uZTohMH0sYT1uZXcgeHQoaSk7cmV0dXJuKHQuZGVidWchPT12b2lkIDB8fHQucHJlZml4IT09dm9pZCAwKSYmKGEubG9nZ2VyPWEubG9nZ2VyLmNsb25lKHQpKSxbInN0b3JlIiwic2VydmljZXMiLCJsYW5ndWFnZSJdLmZvckVhY2gobD0+e2FbbF09dGhpc1tsXX0pLGEuc2VydmljZXM9ey4uLnRoaXMuc2VydmljZXN9LGEuc2VydmljZXMudXRpbHM9e2hhc0xvYWRlZE5hbWVzcGFjZTphLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKGEpfSxvJiYoYS5zdG9yZT1uZXcgVWUodGhpcy5zdG9yZS5kYXRhLGkpLGEuc2VydmljZXMucmVzb3VyY2VTdG9yZT1hLnN0b3JlKSxhLnRyYW5zbGF0b3I9bmV3IFh0KGEuc2VydmljZXMsaSksYS50cmFuc2xhdG9yLm9uKCIqIixmdW5jdGlvbihsKXtmb3IodmFyIG09YXJndW1lbnRzLmxlbmd0aCxwPW5ldyBBcnJheShtPjE/bS0xOjApLFM9MTtTPG07UysrKXBbUy0xXT1hcmd1bWVudHNbU107YS5lbWl0KGwsLi4ucCl9KSxhLmluaXQoaSxuKSxhLnRyYW5zbGF0b3Iub3B0aW9ucz1pLGEudHJhbnNsYXRvci5iYWNrZW5kQ29ubmVjdG9yLnNlcnZpY2VzLnV0aWxzPXtoYXNMb2FkZWROYW1lc3BhY2U6YS5oYXNMb2FkZWROYW1lc3BhY2UuYmluZChhKX0sYX10b0pTT04oKXtyZXR1cm57b3B0aW9uczp0aGlzLm9wdGlvbnMsc3RvcmU6dGhpcy5zdG9yZSxsYW5ndWFnZTp0aGlzLmxhbmd1YWdlLGxhbmd1YWdlczp0aGlzLmxhbmd1YWdlcyxyZXNvbHZlZExhbmd1YWdlOnRoaXMucmVzb2x2ZWRMYW5ndWFnZX19fWNvbnN0IEE9eHQuY3JlYXRlSW5zdGFuY2UoKTtBLmNyZWF0ZUluc3RhbmNlPXh0LmNyZWF0ZUluc3RhbmNlLEEuY3JlYXRlSW5zdGFuY2UsQS5kaXIsQS5pbml0LEEubG9hZFJlc291cmNlcyxBLnJlbG9hZFJlc291cmNlcyxBLnVzZSxBLmNoYW5nZUxhbmd1YWdlLEEuZ2V0Rml4ZWRULEEudCxBLmV4aXN0cyxBLnNldERlZmF1bHROYW1lc3BhY2UsQS5oYXNMb2FkZWROYW1lc3BhY2UsQS5sb2FkTmFtZXNwYWNlcyxBLmxvYWRMYW5ndWFnZXM7ZnVuY3Rpb24gX28oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsImRlZmF1bHQiKT9lLmRlZmF1bHQ6ZX12YXIgcXQ9e30sQ2UsJGU7ZnVuY3Rpb24gQW8oKXtpZigkZSlyZXR1cm4gQ2U7JGU9MTt2YXIgZSx0LG49eyciJzonIicsIlxcIjoiXFwiLCIvIjoiLyIsYjoiXGIiLGY6IlxmIixuOmAKYCxyOiJcciIsdDoiCSJ9LG87ZnVuY3Rpb24gaShmKXt0aHJvd3tuYW1lOiJTeW50YXhFcnJvciIsbWVzc2FnZTpmLGF0OmUsdGV4dDpvfX1mdW5jdGlvbiBhKGYpe3JldHVybiBmJiZmIT09dCYmaSgiRXhwZWN0ZWQgJyIrZisiJyBpbnN0ZWFkIG9mICciK3QrIiciKSx0PW8uY2hhckF0KGUpLGUrPTEsdH1mdW5jdGlvbiBzKCl7dmFyIGYsdT0iIjtmb3IodD09PSItIiYmKHU9Ii0iLGEoIi0iKSk7dD49IjAiJiZ0PD0iOSI7KXUrPXQsYSgpO2lmKHQ9PT0iLiIpZm9yKHUrPSIuIjthKCkmJnQ+PSIwIiYmdDw9IjkiOyl1Kz10O2lmKHQ9PT0iZSJ8fHQ9PT0iRSIpZm9yKHUrPXQsYSgpLCh0PT09Ii0ifHx0PT09IisiKSYmKHUrPXQsYSgpKTt0Pj0iMCImJnQ8PSI5IjspdSs9dCxhKCk7cmV0dXJuIGY9TnVtYmVyKHUpLGlzRmluaXRlKGYpfHxpKCJCYWQgbnVtYmVyIiksZn1mdW5jdGlvbiBsKCl7dmFyIGYsdSxDPSIiLGQ7aWYodD09PSciJylmb3IoO2EoKTspe2lmKHQ9PT0nIicpcmV0dXJuIGEoKSxDO2lmKHQ9PT0iXFwiKWlmKGEoKSx0PT09InUiKXtmb3IoZD0wLHU9MDt1PDQmJihmPXBhcnNlSW50KGEoKSwxNiksISFpc0Zpbml0ZShmKSk7dSs9MSlkPWQqMTYrZjtDKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGQpfWVsc2UgaWYodHlwZW9mIG5bdF09PSJzdHJpbmciKUMrPW5bdF07ZWxzZSBicmVhaztlbHNlIEMrPXR9aSgiQmFkIHN0cmluZyIpfWZ1bmN0aW9uIG0oKXtmb3IoO3QmJnQ8PSIgIjspYSgpfWZ1bmN0aW9uIHAoKXtzd2l0Y2godCl7Y2FzZSJ0IjpyZXR1cm4gYSgidCIpLGEoInIiKSxhKCJ1IiksYSgiZSIpLCEwO2Nhc2UiZiI6cmV0dXJuIGEoImYiKSxhKCJhIiksYSgibCIpLGEoInMiKSxhKCJlIiksITE7Y2FzZSJuIjpyZXR1cm4gYSgibiIpLGEoInUiKSxhKCJsIiksYSgibCIpLG51bGw7ZGVmYXVsdDppKCJVbmV4cGVjdGVkICciK3QrIiciKX19ZnVuY3Rpb24gUygpe3ZhciBmPVtdO2lmKHQ9PT0iWyIpe2lmKGEoIlsiKSxtKCksdD09PSJdIilyZXR1cm4gYSgiXSIpLGY7Zm9yKDt0Oyl7aWYoZi5wdXNoKGMoKSksbSgpLHQ9PT0iXSIpcmV0dXJuIGEoIl0iKSxmO2EoIiwiKSxtKCl9fWkoIkJhZCBhcnJheSIpfWZ1bmN0aW9uIEIoKXt2YXIgZix1PXt9O2lmKHQ9PT0ieyIpe2lmKGEoInsiKSxtKCksdD09PSJ9IilyZXR1cm4gYSgifSIpLHU7Zm9yKDt0Oyl7aWYoZj1sKCksbSgpLGEoIjoiKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodSxmKSYmaSgnRHVwbGljYXRlIGtleSAiJytmKyciJyksdVtmXT1jKCksbSgpLHQ9PT0ifSIpcmV0dXJuIGEoIn0iKSx1O2EoIiwiKSxtKCl9fWkoIkJhZCBvYmplY3QiKX1mdW5jdGlvbiBjKCl7c3dpdGNoKG0oKSx0KXtjYXNlInsiOnJldHVybiBCKCk7Y2FzZSJbIjpyZXR1cm4gUygpO2Nhc2UnIic6cmV0dXJuIGwoKTtjYXNlIi0iOnJldHVybiBzKCk7ZGVmYXVsdDpyZXR1cm4gdD49IjAiJiZ0PD0iOSI/cygpOnAoKX19cmV0dXJuIENlPWZ1bmN0aW9uKGYsdSl7dmFyIEM7cmV0dXJuIG89ZixlPTAsdD0iICIsQz1jKCksbSgpLHQmJmkoIlN5bnRheCBlcnJvciIpLHR5cGVvZiB1PT0iZnVuY3Rpb24iP2Z1bmN0aW9uIGQoZyxoKXt2YXIgXyxFLFQ9Z1toXTtpZihUJiZ0eXBlb2YgVD09Im9iamVjdCIpZm9yKF8gaW4gYylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoVCxfKSYmKEU9ZChULF8pLHR5cGVvZiBFPiJ1Ij9kZWxldGUgVFtfXTpUW19dPUUpO3JldHVybiB1LmNhbGwoZyxoLFQpfSh7IiI6Q30sIiIpOkN9LENlfXZhciBTZSxXZTtmdW5jdGlvbiBFbygpe2lmKFdlKXJldHVybiBTZTtXZT0xO3ZhciBlPS9bXFwiXHgwMC1ceDFmXHg3Zi1ceDlmXHUwMGFkXHUwNjAwLVx1MDYwNFx1MDcwZlx1MTdiNFx1MTdiNVx1MjAwYy1cdTIwMGZcdTIwMjgtXHUyMDJmXHUyMDYwLVx1MjA2Zlx1ZmVmZlx1ZmZmMC1cdWZmZmZdL2csdCxuLG89eyJcYiI6IlxcYiIsIgkiOiJcXHQiLCJcbiI6IlxcbiIsIlxmIjoiXFxmIiwiXHIiOiJcXHIiLCciJzonXFwiJywiXFwiOiJcXFxcIn0saTtmdW5jdGlvbiBhKGwpe3JldHVybiBlLmxhc3RJbmRleD0wLGUudGVzdChsKT8nIicrbC5yZXBsYWNlKGUsZnVuY3Rpb24obSl7dmFyIHA9b1ttXTtyZXR1cm4gdHlwZW9mIHA9PSJzdHJpbmciP3A6IlxcdSIrKCIwMDAwIittLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCl9KSsnIic6JyInK2wrJyInfWZ1bmN0aW9uIHMobCxtKXt2YXIgcCxTLEIsYyxmPXQsdSxDPW1bbF07c3dpdGNoKEMmJnR5cGVvZiBDPT0ib2JqZWN0IiYmdHlwZW9mIEMudG9KU09OPT0iZnVuY3Rpb24iJiYoQz1DLnRvSlNPTihsKSksdHlwZW9mIGk9PSJmdW5jdGlvbiImJihDPWkuY2FsbChtLGwsQykpLHR5cGVvZiBDKXtjYXNlInN0cmluZyI6cmV0dXJuIGEoQyk7Y2FzZSJudW1iZXIiOnJldHVybiBpc0Zpbml0ZShDKT9TdHJpbmcoQyk6Im51bGwiO2Nhc2UiYm9vbGVhbiI6Y2FzZSJudWxsIjpyZXR1cm4gU3RyaW5nKEMpO2Nhc2Uib2JqZWN0IjppZighQylyZXR1cm4ibnVsbCI7aWYodCs9bix1PVtdLE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkoQyk9PT0iW29iamVjdCBBcnJheV0iKXtmb3IoYz1DLmxlbmd0aCxwPTA7cDxjO3ArPTEpdVtwXT1zKHAsQyl8fCJudWxsIjtyZXR1cm4gQj11Lmxlbmd0aD09PTA/IltdIjp0P2BbCmArdCt1LmpvaW4oYCwKYCt0KStgCmArZisiXSI6IlsiK3Uuam9pbigiLCIpKyJdIix0PWYsQn1pZihpJiZ0eXBlb2YgaT09Im9iamVjdCIpZm9yKGM9aS5sZW5ndGgscD0wO3A8YztwKz0xKVM9aVtwXSx0eXBlb2YgUz09InN0cmluZyImJihCPXMoUyxDKSxCJiZ1LnB1c2goYShTKSsodD8iOiAiOiI6IikrQikpO2Vsc2UgZm9yKFMgaW4gQylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoQyxTKSYmKEI9cyhTLEMpLEImJnUucHVzaChhKFMpKyh0PyI6ICI6IjoiKStCKSk7cmV0dXJuIEI9dS5sZW5ndGg9PT0wPyJ7fSI6dD9gewpgK3QrdS5qb2luKGAsCmArdCkrYApgK2YrIn0iOiJ7Iit1LmpvaW4oIiwiKSsifSIsdD1mLEJ9fXJldHVybiBTZT1mdW5jdGlvbihsLG0scCl7dmFyIFM7aWYodD0iIixuPSIiLHR5cGVvZiBwPT0ibnVtYmVyIilmb3IoUz0wO1M8cDtTKz0xKW4rPSIgIjtlbHNlIHR5cGVvZiBwPT0ic3RyaW5nIiYmKG49cCk7aWYoaT1tLG0mJnR5cGVvZiBtIT0iZnVuY3Rpb24iJiYodHlwZW9mIG0hPSJvYmplY3QifHx0eXBlb2YgbS5sZW5ndGghPSJudW1iZXIiKSl0aHJvdyBuZXcgRXJyb3IoIkpTT04uc3RyaW5naWZ5Iik7cmV0dXJuIHMoIiIseyIiOmx9KX0sU2V9dmFyIFllO2Z1bmN0aW9uIFRvKCl7cmV0dXJuIFllfHwoWWU9MSxxdC5wYXJzZT1BbygpLHF0LnN0cmluZ2lmeT1FbygpKSxxdH12YXIgSW89e30udG9TdHJpbmcsTG89QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIElvLmNhbGwoZSk9PSJbb2JqZWN0IEFycmF5XSJ9LGplPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsSmU9ZnVuY3Rpb24odCl7dmFyIG49amUuY2FsbCh0KSxvPW49PT0iW29iamVjdCBBcmd1bWVudHNdIjtyZXR1cm4gb3x8KG89biE9PSJbb2JqZWN0IEFycmF5XSImJnQhPT1udWxsJiZ0eXBlb2YgdD09Im9iamVjdCImJnR5cGVvZiB0Lmxlbmd0aD09Im51bWJlciImJnQubGVuZ3RoPj0wJiZqZS5jYWxsKHQuY2FsbGVlKT09PSJbb2JqZWN0IEZ1bmN0aW9uXSIpLG99LGdlLFFlO2Z1bmN0aW9uIGtvKCl7aWYoUWUpcmV0dXJuIGdlO1FlPTE7dmFyIGU7aWYoIU9iamVjdC5rZXlzKXt2YXIgdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxvPUplLGk9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxhPSFpLmNhbGwoe3RvU3RyaW5nOm51bGx9LCJ0b1N0cmluZyIpLHM9aS5jYWxsKGZ1bmN0aW9uKCl7fSwicHJvdG90eXBlIiksbD1bInRvU3RyaW5nIiwidG9Mb2NhbGVTdHJpbmciLCJ2YWx1ZU9mIiwiaGFzT3duUHJvcGVydHkiLCJpc1Byb3RvdHlwZU9mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJjb25zdHJ1Y3RvciJdLG09ZnVuY3Rpb24oYyl7dmFyIGY9Yy5jb25zdHJ1Y3RvcjtyZXR1cm4gZiYmZi5wcm90b3R5cGU9PT1jfSxwPXskYXBwbGljYXRpb25DYWNoZTohMCwkY29uc29sZTohMCwkZXh0ZXJuYWw6ITAsJGZyYW1lOiEwLCRmcmFtZUVsZW1lbnQ6ITAsJGZyYW1lczohMCwkaW5uZXJIZWlnaHQ6ITAsJGlubmVyV2lkdGg6ITAsJG9ubW96ZnVsbHNjcmVlbmNoYW5nZTohMCwkb25tb3pmdWxsc2NyZWVuZXJyb3I6ITAsJG91dGVySGVpZ2h0OiEwLCRvdXRlcldpZHRoOiEwLCRwYWdlWE9mZnNldDohMCwkcGFnZVlPZmZzZXQ6ITAsJHBhcmVudDohMCwkc2Nyb2xsTGVmdDohMCwkc2Nyb2xsVG9wOiEwLCRzY3JvbGxYOiEwLCRzY3JvbGxZOiEwLCRzZWxmOiEwLCR3ZWJraXRJbmRleGVkREI6ITAsJHdlYmtpdFN0b3JhZ2VJbmZvOiEwLCR3aW5kb3c6ITB9LFM9ZnVuY3Rpb24oKXtpZih0eXBlb2Ygd2luZG93PiJ1IilyZXR1cm4hMTtmb3IodmFyIGMgaW4gd2luZG93KXRyeXtpZighcFsiJCIrY10mJnQuY2FsbCh3aW5kb3csYykmJndpbmRvd1tjXSE9PW51bGwmJnR5cGVvZiB3aW5kb3dbY109PSJvYmplY3QiKXRyeXttKHdpbmRvd1tjXSl9Y2F0Y2h7cmV0dXJuITB9fWNhdGNoe3JldHVybiEwfXJldHVybiExfSgpLEI9ZnVuY3Rpb24oYyl7aWYodHlwZW9mIHdpbmRvdz4idSJ8fCFTKXJldHVybiBtKGMpO3RyeXtyZXR1cm4gbShjKX1jYXRjaHtyZXR1cm4hMX19O2U9ZnVuY3Rpb24oZil7dmFyIHU9ZiE9PW51bGwmJnR5cGVvZiBmPT0ib2JqZWN0IixDPW4uY2FsbChmKT09PSJbb2JqZWN0IEZ1bmN0aW9uXSIsZD1vKGYpLGc9dSYmbi5jYWxsKGYpPT09IltvYmplY3QgU3RyaW5nXSIsaD1bXTtpZighdSYmIUMmJiFkKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5rZXlzIGNhbGxlZCBvbiBhIG5vbi1vYmplY3QiKTt2YXIgXz1zJiZDO2lmKGcmJmYubGVuZ3RoPjAmJiF0LmNhbGwoZiwwKSlmb3IodmFyIEU9MDtFPGYubGVuZ3RoOysrRSloLnB1c2goU3RyaW5nKEUpKTtpZihkJiZmLmxlbmd0aD4wKWZvcih2YXIgVD0wO1Q8Zi5sZW5ndGg7KytUKWgucHVzaChTdHJpbmcoVCkpO2Vsc2UgZm9yKHZhciBMIGluIGYpIShfJiZMPT09InByb3RvdHlwZSIpJiZ0LmNhbGwoZixMKSYmaC5wdXNoKFN0cmluZyhMKSk7aWYoYSlmb3IodmFyIFA9QihmKSwkPTA7JDxsLmxlbmd0aDsrKyQpIShQJiZsWyRdPT09ImNvbnN0cnVjdG9yIikmJnQuY2FsbChmLGxbJF0pJiZoLnB1c2gobFskXSk7cmV0dXJuIGh9fXJldHVybiBnZT1lLGdlfXZhciBibz1BcnJheS5wcm90b3R5cGUuc2xpY2UseW89SmUsWGU9T2JqZWN0LmtleXMsdGU9WGU/ZnVuY3Rpb24odCl7cmV0dXJuIFhlKHQpfTprbygpLFplPU9iamVjdC5rZXlzO3RlLnNoaW09ZnVuY3Rpb24oKXtpZihPYmplY3Qua2V5cyl7dmFyIHQ9ZnVuY3Rpb24oKXt2YXIgbj1PYmplY3Qua2V5cyhhcmd1bWVudHMpO3JldHVybiBuJiZuLmxlbmd0aD09PWFyZ3VtZW50cy5sZW5ndGh9KDEsMik7dHx8KE9iamVjdC5rZXlzPWZ1bmN0aW9uKG8pe3JldHVybiB5byhvKT9aZShiby5jYWxsKG8pKTpaZShvKX0pfWVsc2UgT2JqZWN0LmtleXM9dGU7cmV0dXJuIE9iamVjdC5rZXlzfHx0ZX07dmFyIFJvPXRlLHFlPXtleHBvcnRzOnt9fSxHbz0iRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSAiLE1vPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsdm89TWF0aC5tYXgsTm89IltvYmplY3QgRnVuY3Rpb25dIix0bj1mdW5jdGlvbih0LG4pe2Zvcih2YXIgbz1bXSxpPTA7aTx0Lmxlbmd0aDtpKz0xKW9baV09dFtpXTtmb3IodmFyIGE9MDthPG4ubGVuZ3RoO2ErPTEpb1thK3QubGVuZ3RoXT1uW2FdO3JldHVybiBvfSxPbz1mdW5jdGlvbih0LG4pe2Zvcih2YXIgbz1bXSxpPW4sYT0wO2k8dC5sZW5ndGg7aSs9MSxhKz0xKW9bYV09dFtpXTtyZXR1cm4gb30sUG89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49IiIsbz0wO288ZS5sZW5ndGg7bys9MSluKz1lW29dLG8rMTxlLmxlbmd0aCYmKG4rPXQpO3JldHVybiBufSxVbz1mdW5jdGlvbih0KXt2YXIgbj10aGlzO2lmKHR5cGVvZiBuIT0iZnVuY3Rpb24ifHxNby5hcHBseShuKSE9PU5vKXRocm93IG5ldyBUeXBlRXJyb3IoR28rbik7Zm9yKHZhciBvPU9vKGFyZ3VtZW50cywxKSxpLGE9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgaSl7dmFyIFM9bi5hcHBseSh0aGlzLHRuKG8sYXJndW1lbnRzKSk7cmV0dXJuIE9iamVjdChTKT09PVM/Uzp0aGlzfXJldHVybiBuLmFwcGx5KHQsdG4obyxhcmd1bWVudHMpKX0scz12bygwLG4ubGVuZ3RoLW8ubGVuZ3RoKSxsPVtdLG09MDttPHM7bSsrKWxbbV09IiQiK207aWYoaT1GdW5jdGlvbigiYmluZGVyIiwicmV0dXJuIGZ1bmN0aW9uICgiK1BvKGwsIiwiKSsiKXsgcmV0dXJuIGJpbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7IH0iKShhKSxuLnByb3RvdHlwZSl7dmFyIHA9ZnVuY3Rpb24oKXt9O3AucHJvdG90eXBlPW4ucHJvdG90eXBlLGkucHJvdG90eXBlPW5ldyBwLHAucHJvdG90eXBlPW51bGx9cmV0dXJuIGl9LEZvPVVvLHBlPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHxGbyxIbz1FcnJvcix4bz1FdmFsRXJyb3IsS289UmFuZ2VFcnJvcix3bz1SZWZlcmVuY2VFcnJvcixlbj1TeW50YXhFcnJvcixlZT1UeXBlRXJyb3IsVm89VVJJRXJyb3Isem89ZnVuY3Rpb24oKXtpZih0eXBlb2YgU3ltYm9sIT0iZnVuY3Rpb24ifHx0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyE9ImZ1bmN0aW9uIilyZXR1cm4hMTtpZih0eXBlb2YgU3ltYm9sLml0ZXJhdG9yPT0ic3ltYm9sIilyZXR1cm4hMDt2YXIgdD17fSxuPVN5bWJvbCgidGVzdCIpLG89T2JqZWN0KG4pO2lmKHR5cGVvZiBuPT0ic3RyaW5nInx8T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pIT09IltvYmplY3QgU3ltYm9sXSJ8fE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSE9PSJbb2JqZWN0IFN5bWJvbF0iKXJldHVybiExO3ZhciBpPTQyO3Rbbl09aTtmb3IobiBpbiB0KXJldHVybiExO2lmKHR5cGVvZiBPYmplY3Qua2V5cz09ImZ1bmN0aW9uIiYmT2JqZWN0LmtleXModCkubGVuZ3RoIT09MHx8dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzPT0iZnVuY3Rpb24iJiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5sZW5ndGghPT0wKXJldHVybiExO3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7aWYoYS5sZW5ndGghPT0xfHxhWzBdIT09bnx8IU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LG4pKXJldHVybiExO2lmKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yPT0iZnVuY3Rpb24iKXt2YXIgcz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbik7aWYocy52YWx1ZSE9PWl8fHMuZW51bWVyYWJsZSE9PSEwKXJldHVybiExfXJldHVybiEwfSxubj10eXBlb2YgU3ltYm9sPCJ1IiYmU3ltYm9sLCRvPXpvLFdvPWZ1bmN0aW9uKCl7cmV0dXJuIHR5cGVvZiBubiE9ImZ1bmN0aW9uInx8dHlwZW9mIFN5bWJvbCE9ImZ1bmN0aW9uInx8dHlwZW9mIG5uKCJmb28iKSE9InN5bWJvbCJ8fHR5cGVvZiBTeW1ib2woImJhciIpIT0ic3ltYm9sIj8hMTokbygpfSxoZT17X19wcm90b19fOm51bGwsZm9vOnt9fSxZbz1PYmplY3Qsam89ZnVuY3Rpb24oKXtyZXR1cm57X19wcm90b19fOmhlfS5mb289PT1oZS5mb28mJiEoaGUgaW5zdGFuY2VvZiBZbyl9LEpvPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLFFvPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksWG89cGUsWm89WG8uY2FsbChKbyxRbyksdixxbz1Ibyx0aT14byxlaT1LbyxuaT13byxidD1lbix5dD1lZSxvaT1Wbyxvbj1GdW5jdGlvbixCZT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIG9uKCcidXNlIHN0cmljdCI7IHJldHVybiAoJytlKyIpLmNvbnN0cnVjdG9yOyIpKCl9Y2F0Y2h7fX0saHQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtpZihodCl0cnl7aHQoe30sIiIpfWNhdGNoe2h0PW51bGx9dmFyIERlPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IHl0fSxpaT1odD9mdW5jdGlvbigpe3RyeXtyZXR1cm4gYXJndW1lbnRzLmNhbGxlZSxEZX1jYXRjaHt0cnl7cmV0dXJuIGh0KGFyZ3VtZW50cywiY2FsbGVlIikuZ2V0fWNhdGNoe3JldHVybiBEZX19fSgpOkRlLFJ0PVdvKCksYWk9am8oKSxKPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8KGFpP2Z1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX306bnVsbCksR3Q9e30sc2k9dHlwZW9mIFVpbnQ4QXJyYXk+InUifHwhSj92OkooVWludDhBcnJheSksQnQ9e19fcHJvdG9fXzpudWxsLCIlQWdncmVnYXRlRXJyb3IlIjp0eXBlb2YgQWdncmVnYXRlRXJyb3I+InUiP3Y6QWdncmVnYXRlRXJyb3IsIiVBcnJheSUiOkFycmF5LCIlQXJyYXlCdWZmZXIlIjp0eXBlb2YgQXJyYXlCdWZmZXI+InUiP3Y6QXJyYXlCdWZmZXIsIiVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJSI6UnQmJko/SihbXVtTeW1ib2wuaXRlcmF0b3JdKCkpOnYsIiVBc3luY0Zyb21TeW5jSXRlcmF0b3JQcm90b3R5cGUlIjp2LCIlQXN5bmNGdW5jdGlvbiUiOkd0LCIlQXN5bmNHZW5lcmF0b3IlIjpHdCwiJUFzeW5jR2VuZXJhdG9yRnVuY3Rpb24lIjpHdCwiJUFzeW5jSXRlcmF0b3JQcm90b3R5cGUlIjpHdCwiJUF0b21pY3MlIjp0eXBlb2YgQXRvbWljcz4idSI/djpBdG9taWNzLCIlQmlnSW50JSI6dHlwZW9mIEJpZ0ludD4idSI/djpCaWdJbnQsIiVCaWdJbnQ2NEFycmF5JSI6dHlwZW9mIEJpZ0ludDY0QXJyYXk+InUiP3Y6QmlnSW50NjRBcnJheSwiJUJpZ1VpbnQ2NEFycmF5JSI6dHlwZW9mIEJpZ1VpbnQ2NEFycmF5PiJ1Ij92OkJpZ1VpbnQ2NEFycmF5LCIlQm9vbGVhbiUiOkJvb2xlYW4sIiVEYXRhVmlldyUiOnR5cGVvZiBEYXRhVmlldz4idSI/djpEYXRhVmlldywiJURhdGUlIjpEYXRlLCIlZGVjb2RlVVJJJSI6ZGVjb2RlVVJJLCIlZGVjb2RlVVJJQ29tcG9uZW50JSI6ZGVjb2RlVVJJQ29tcG9uZW50LCIlZW5jb2RlVVJJJSI6ZW5jb2RlVVJJLCIlZW5jb2RlVVJJQ29tcG9uZW50JSI6ZW5jb2RlVVJJQ29tcG9uZW50LCIlRXJyb3IlIjpxbywiJWV2YWwlIjpldmFsLCIlRXZhbEVycm9yJSI6dGksIiVGbG9hdDMyQXJyYXklIjp0eXBlb2YgRmxvYXQzMkFycmF5PiJ1Ij92OkZsb2F0MzJBcnJheSwiJUZsb2F0NjRBcnJheSUiOnR5cGVvZiBGbG9hdDY0QXJyYXk+InUiP3Y6RmxvYXQ2NEFycmF5LCIlRmluYWxpemF0aW9uUmVnaXN0cnklIjp0eXBlb2YgRmluYWxpemF0aW9uUmVnaXN0cnk+InUiP3Y6RmluYWxpemF0aW9uUmVnaXN0cnksIiVGdW5jdGlvbiUiOm9uLCIlR2VuZXJhdG9yRnVuY3Rpb24lIjpHdCwiJUludDhBcnJheSUiOnR5cGVvZiBJbnQ4QXJyYXk+InUiP3Y6SW50OEFycmF5LCIlSW50MTZBcnJheSUiOnR5cGVvZiBJbnQxNkFycmF5PiJ1Ij92OkludDE2QXJyYXksIiVJbnQzMkFycmF5JSI6dHlwZW9mIEludDMyQXJyYXk+InUiP3Y6SW50MzJBcnJheSwiJWlzRmluaXRlJSI6aXNGaW5pdGUsIiVpc05hTiUiOmlzTmFOLCIlSXRlcmF0b3JQcm90b3R5cGUlIjpSdCYmSj9KKEooW11bU3ltYm9sLml0ZXJhdG9yXSgpKSk6diwiJUpTT04lIjp0eXBlb2YgSlNPTj09Im9iamVjdCI/SlNPTjp2LCIlTWFwJSI6dHlwZW9mIE1hcD4idSI/djpNYXAsIiVNYXBJdGVyYXRvclByb3RvdHlwZSUiOnR5cGVvZiBNYXA+InUifHwhUnR8fCFKP3Y6SihuZXcgTWFwKClbU3ltYm9sLml0ZXJhdG9yXSgpKSwiJU1hdGglIjpNYXRoLCIlTnVtYmVyJSI6TnVtYmVyLCIlT2JqZWN0JSI6T2JqZWN0LCIlcGFyc2VGbG9hdCUiOnBhcnNlRmxvYXQsIiVwYXJzZUludCUiOnBhcnNlSW50LCIlUHJvbWlzZSUiOnR5cGVvZiBQcm9taXNlPiJ1Ij92OlByb21pc2UsIiVQcm94eSUiOnR5cGVvZiBQcm94eT4idSI/djpQcm94eSwiJVJhbmdlRXJyb3IlIjplaSwiJVJlZmVyZW5jZUVycm9yJSI6bmksIiVSZWZsZWN0JSI6dHlwZW9mIFJlZmxlY3Q+InUiP3Y6UmVmbGVjdCwiJVJlZ0V4cCUiOlJlZ0V4cCwiJVNldCUiOnR5cGVvZiBTZXQ+InUiP3Y6U2V0LCIlU2V0SXRlcmF0b3JQcm90b3R5cGUlIjp0eXBlb2YgU2V0PiJ1Inx8IVJ0fHwhSj92OkoobmV3IFNldCgpW1N5bWJvbC5pdGVyYXRvcl0oKSksIiVTaGFyZWRBcnJheUJ1ZmZlciUiOnR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcj4idSI/djpTaGFyZWRBcnJheUJ1ZmZlciwiJVN0cmluZyUiOlN0cmluZywiJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJSI6UnQmJko/SigiIltTeW1ib2wuaXRlcmF0b3JdKCkpOnYsIiVTeW1ib2wlIjpSdD9TeW1ib2w6diwiJVN5bnRheEVycm9yJSI6YnQsIiVUaHJvd1R5cGVFcnJvciUiOmlpLCIlVHlwZWRBcnJheSUiOnNpLCIlVHlwZUVycm9yJSI6eXQsIiVVaW50OEFycmF5JSI6dHlwZW9mIFVpbnQ4QXJyYXk+InUiP3Y6VWludDhBcnJheSwiJVVpbnQ4Q2xhbXBlZEFycmF5JSI6dHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5PiJ1Ij92OlVpbnQ4Q2xhbXBlZEFycmF5LCIlVWludDE2QXJyYXklIjp0eXBlb2YgVWludDE2QXJyYXk+InUiP3Y6VWludDE2QXJyYXksIiVVaW50MzJBcnJheSUiOnR5cGVvZiBVaW50MzJBcnJheT4idSI/djpVaW50MzJBcnJheSwiJVVSSUVycm9yJSI6b2ksIiVXZWFrTWFwJSI6dHlwZW9mIFdlYWtNYXA+InUiP3Y6V2Vha01hcCwiJVdlYWtSZWYlIjp0eXBlb2YgV2Vha1JlZj4idSI/djpXZWFrUmVmLCIlV2Vha1NldCUiOnR5cGVvZiBXZWFrU2V0PiJ1Ij92OldlYWtTZXR9O2lmKEopdHJ5e251bGwuZXJyb3J9Y2F0Y2goZSl7dmFyIHJpPUooSihlKSk7QnRbIiVFcnJvci5wcm90b3R5cGUlIl09cml9dmFyIGxpPWZ1bmN0aW9uIGUodCl7dmFyIG47aWYodD09PSIlQXN5bmNGdW5jdGlvbiUiKW49QmUoImFzeW5jIGZ1bmN0aW9uICgpIHt9Iik7ZWxzZSBpZih0PT09IiVHZW5lcmF0b3JGdW5jdGlvbiUiKW49QmUoImZ1bmN0aW9uKiAoKSB7fSIpO2Vsc2UgaWYodD09PSIlQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUiKW49QmUoImFzeW5jIGZ1bmN0aW9uKiAoKSB7fSIpO2Vsc2UgaWYodD09PSIlQXN5bmNHZW5lcmF0b3IlIil7dmFyIG89ZSgiJUFzeW5jR2VuZXJhdG9yRnVuY3Rpb24lIik7byYmKG49by5wcm90b3R5cGUpfWVsc2UgaWYodD09PSIlQXN5bmNJdGVyYXRvclByb3RvdHlwZSUiKXt2YXIgaT1lKCIlQXN5bmNHZW5lcmF0b3IlIik7aSYmSiYmKG49SihpLnByb3RvdHlwZSkpfXJldHVybiBCdFt0XT1uLG59LGFuPXtfX3Byb3RvX186bnVsbCwiJUFycmF5QnVmZmVyUHJvdG90eXBlJSI6WyJBcnJheUJ1ZmZlciIsInByb3RvdHlwZSJdLCIlQXJyYXlQcm90b3R5cGUlIjpbIkFycmF5IiwicHJvdG90eXBlIl0sIiVBcnJheVByb3RvX2VudHJpZXMlIjpbIkFycmF5IiwicHJvdG90eXBlIiwiZW50cmllcyJdLCIlQXJyYXlQcm90b19mb3JFYWNoJSI6WyJBcnJheSIsInByb3RvdHlwZSIsImZvckVhY2giXSwiJUFycmF5UHJvdG9fa2V5cyUiOlsiQXJyYXkiLCJwcm90b3R5cGUiLCJrZXlzIl0sIiVBcnJheVByb3RvX3ZhbHVlcyUiOlsiQXJyYXkiLCJwcm90b3R5cGUiLCJ2YWx1ZXMiXSwiJUFzeW5jRnVuY3Rpb25Qcm90b3R5cGUlIjpbIkFzeW5jRnVuY3Rpb24iLCJwcm90b3R5cGUiXSwiJUFzeW5jR2VuZXJhdG9yJSI6WyJBc3luY0dlbmVyYXRvckZ1bmN0aW9uIiwicHJvdG90eXBlIl0sIiVBc3luY0dlbmVyYXRvclByb3RvdHlwZSUiOlsiQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiIsInByb3RvdHlwZSIsInByb3RvdHlwZSJdLCIlQm9vbGVhblByb3RvdHlwZSUiOlsiQm9vbGVhbiIsInByb3RvdHlwZSJdLCIlRGF0YVZpZXdQcm90b3R5cGUlIjpbIkRhdGFWaWV3IiwicHJvdG90eXBlIl0sIiVEYXRlUHJvdG90eXBlJSI6WyJEYXRlIiwicHJvdG90eXBlIl0sIiVFcnJvclByb3RvdHlwZSUiOlsiRXJyb3IiLCJwcm90b3R5cGUiXSwiJUV2YWxFcnJvclByb3RvdHlwZSUiOlsiRXZhbEVycm9yIiwicHJvdG90eXBlIl0sIiVGbG9hdDMyQXJyYXlQcm90b3R5cGUlIjpbIkZsb2F0MzJBcnJheSIsInByb3RvdHlwZSJdLCIlRmxvYXQ2NEFycmF5UHJvdG90eXBlJSI6WyJGbG9hdDY0QXJyYXkiLCJwcm90b3R5cGUiXSwiJUZ1bmN0aW9uUHJvdG90eXBlJSI6WyJGdW5jdGlvbiIsInByb3RvdHlwZSJdLCIlR2VuZXJhdG9yJSI6WyJHZW5lcmF0b3JGdW5jdGlvbiIsInByb3RvdHlwZSJdLCIlR2VuZXJhdG9yUHJvdG90eXBlJSI6WyJHZW5lcmF0b3JGdW5jdGlvbiIsInByb3RvdHlwZSIsInByb3RvdHlwZSJdLCIlSW50OEFycmF5UHJvdG90eXBlJSI6WyJJbnQ4QXJyYXkiLCJwcm90b3R5cGUiXSwiJUludDE2QXJyYXlQcm90b3R5cGUlIjpbIkludDE2QXJyYXkiLCJwcm90b3R5cGUiXSwiJUludDMyQXJyYXlQcm90b3R5cGUlIjpbIkludDMyQXJyYXkiLCJwcm90b3R5cGUiXSwiJUpTT05QYXJzZSUiOlsiSlNPTiIsInBhcnNlIl0sIiVKU09OU3RyaW5naWZ5JSI6WyJKU09OIiwic3RyaW5naWZ5Il0sIiVNYXBQcm90b3R5cGUlIjpbIk1hcCIsInByb3RvdHlwZSJdLCIlTnVtYmVyUHJvdG90eXBlJSI6WyJOdW1iZXIiLCJwcm90b3R5cGUiXSwiJU9iamVjdFByb3RvdHlwZSUiOlsiT2JqZWN0IiwicHJvdG90eXBlIl0sIiVPYmpQcm90b190b1N0cmluZyUiOlsiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciXSwiJU9ialByb3RvX3ZhbHVlT2YlIjpbIk9iamVjdCIsInByb3RvdHlwZSIsInZhbHVlT2YiXSwiJVByb21pc2VQcm90b3R5cGUlIjpbIlByb21pc2UiLCJwcm90b3R5cGUiXSwiJVByb21pc2VQcm90b190aGVuJSI6WyJQcm9taXNlIiwicHJvdG90eXBlIiwidGhlbiJdLCIlUHJvbWlzZV9hbGwlIjpbIlByb21pc2UiLCJhbGwiXSwiJVByb21pc2VfcmVqZWN0JSI6WyJQcm9taXNlIiwicmVqZWN0Il0sIiVQcm9taXNlX3Jlc29sdmUlIjpbIlByb21pc2UiLCJyZXNvbHZlIl0sIiVSYW5nZUVycm9yUHJvdG90eXBlJSI6WyJSYW5nZUVycm9yIiwicHJvdG90eXBlIl0sIiVSZWZlcmVuY2VFcnJvclByb3RvdHlwZSUiOlsiUmVmZXJlbmNlRXJyb3IiLCJwcm90b3R5cGUiXSwiJVJlZ0V4cFByb3RvdHlwZSUiOlsiUmVnRXhwIiwicHJvdG90eXBlIl0sIiVTZXRQcm90b3R5cGUlIjpbIlNldCIsInByb3RvdHlwZSJdLCIlU2hhcmVkQXJyYXlCdWZmZXJQcm90b3R5cGUlIjpbIlNoYXJlZEFycmF5QnVmZmVyIiwicHJvdG90eXBlIl0sIiVTdHJpbmdQcm90b3R5cGUlIjpbIlN0cmluZyIsInByb3RvdHlwZSJdLCIlU3ltYm9sUHJvdG90eXBlJSI6WyJTeW1ib2wiLCJwcm90b3R5cGUiXSwiJVN5bnRheEVycm9yUHJvdG90eXBlJSI6WyJTeW50YXhFcnJvciIsInByb3RvdHlwZSJdLCIlVHlwZWRBcnJheVByb3RvdHlwZSUiOlsiVHlwZWRBcnJheSIsInByb3RvdHlwZSJdLCIlVHlwZUVycm9yUHJvdG90eXBlJSI6WyJUeXBlRXJyb3IiLCJwcm90b3R5cGUiXSwiJVVpbnQ4QXJyYXlQcm90b3R5cGUlIjpbIlVpbnQ4QXJyYXkiLCJwcm90b3R5cGUiXSwiJVVpbnQ4Q2xhbXBlZEFycmF5UHJvdG90eXBlJSI6WyJVaW50OENsYW1wZWRBcnJheSIsInByb3RvdHlwZSJdLCIlVWludDE2QXJyYXlQcm90b3R5cGUlIjpbIlVpbnQxNkFycmF5IiwicHJvdG90eXBlIl0sIiVVaW50MzJBcnJheVByb3RvdHlwZSUiOlsiVWludDMyQXJyYXkiLCJwcm90b3R5cGUiXSwiJVVSSUVycm9yUHJvdG90eXBlJSI6WyJVUklFcnJvciIsInByb3RvdHlwZSJdLCIlV2Vha01hcFByb3RvdHlwZSUiOlsiV2Vha01hcCIsInByb3RvdHlwZSJdLCIlV2Vha1NldFByb3RvdHlwZSUiOlsiV2Vha1NldCIsInByb3RvdHlwZSJdfSxLdD1wZSxuZT1abyxjaT1LdC5jYWxsKEZ1bmN0aW9uLmNhbGwsQXJyYXkucHJvdG90eXBlLmNvbmNhdCksdWk9S3QuY2FsbChGdW5jdGlvbi5hcHBseSxBcnJheS5wcm90b3R5cGUuc3BsaWNlKSxzbj1LdC5jYWxsKEZ1bmN0aW9uLmNhbGwsU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlKSxvZT1LdC5jYWxsKEZ1bmN0aW9uLmNhbGwsU3RyaW5nLnByb3RvdHlwZS5zbGljZSksZmk9S3QuY2FsbChGdW5jdGlvbi5jYWxsLFJlZ0V4cC5wcm90b3R5cGUuZXhlYyksZGk9L1teJS5bXF1dK3xcWyg/OigtP1xkKyg/OlwuXGQrKT8pfChbIiddKSgoPzooPyFcMilbXlxcXXxcXC4pKj8pXDIpXF18KD89KD86XC58XFtcXSkoPzpcLnxcW1xdfCUkKSkvZyxtaT0vXFwoXFwpPy9nLENpPWZ1bmN0aW9uKHQpe3ZhciBuPW9lKHQsMCwxKSxvPW9lKHQsLTEpO2lmKG49PT0iJSImJm8hPT0iJSIpdGhyb3cgbmV3IGJ0KCJpbnZhbGlkIGludHJpbnNpYyBzeW50YXgsIGV4cGVjdGVkIGNsb3NpbmcgYCVgIik7aWYobz09PSIlIiYmbiE9PSIlIil0aHJvdyBuZXcgYnQoImludmFsaWQgaW50cmluc2ljIHN5bnRheCwgZXhwZWN0ZWQgb3BlbmluZyBgJWAiKTt2YXIgaT1bXTtyZXR1cm4gc24odCxkaSxmdW5jdGlvbihhLHMsbCxtKXtpW2kubGVuZ3RoXT1sP3NuKG0sbWksIiQxIik6c3x8YX0pLGl9LFNpPWZ1bmN0aW9uKHQsbil7dmFyIG89dCxpO2lmKG5lKGFuLG8pJiYoaT1hbltvXSxvPSIlIitpWzBdKyIlIiksbmUoQnQsbykpe3ZhciBhPUJ0W29dO2lmKGE9PT1HdCYmKGE9bGkobykpLHR5cGVvZiBhPiJ1IiYmIW4pdGhyb3cgbmV3IHl0KCJpbnRyaW5zaWMgIit0KyIgZXhpc3RzLCBidXQgaXMgbm90IGF2YWlsYWJsZS4gUGxlYXNlIGZpbGUgYW4gaXNzdWUhIik7cmV0dXJue2FsaWFzOmksbmFtZTpvLHZhbHVlOmF9fXRocm93IG5ldyBidCgiaW50cmluc2ljICIrdCsiIGRvZXMgbm90IGV4aXN0ISIpfSx3dD1mdW5jdGlvbih0LG4pe2lmKHR5cGVvZiB0IT0ic3RyaW5nInx8dC5sZW5ndGg9PT0wKXRocm93IG5ldyB5dCgiaW50cmluc2ljIG5hbWUgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmciKTtpZihhcmd1bWVudHMubGVuZ3RoPjEmJnR5cGVvZiBuIT0iYm9vbGVhbiIpdGhyb3cgbmV3IHl0KCciYWxsb3dNaXNzaW5nIiBhcmd1bWVudCBtdXN0IGJlIGEgYm9vbGVhbicpO2lmKGZpKC9eJT9bXiVdKiU/JC8sdCk9PT1udWxsKXRocm93IG5ldyBidCgiYCVgIG1heSBub3QgYmUgcHJlc2VudCBhbnl3aGVyZSBidXQgYXQgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIHRoZSBpbnRyaW5zaWMgbmFtZSIpO3ZhciBvPUNpKHQpLGk9by5sZW5ndGg+MD9vWzBdOiIiLGE9U2koIiUiK2krIiUiLG4pLHM9YS5uYW1lLGw9YS52YWx1ZSxtPSExLHA9YS5hbGlhcztwJiYoaT1wWzBdLHVpKG8sY2koWzAsMV0scCkpKTtmb3IodmFyIFM9MSxCPSEwO1M8by5sZW5ndGg7Uys9MSl7dmFyIGM9b1tTXSxmPW9lKGMsMCwxKSx1PW9lKGMsLTEpO2lmKChmPT09JyInfHxmPT09IicifHxmPT09ImAifHx1PT09JyInfHx1PT09IicifHx1PT09ImAiKSYmZiE9PXUpdGhyb3cgbmV3IGJ0KCJwcm9wZXJ0eSBuYW1lcyB3aXRoIHF1b3RlcyBtdXN0IGhhdmUgbWF0Y2hpbmcgcXVvdGVzIik7aWYoKGM9PT0iY29uc3RydWN0b3IifHwhQikmJihtPSEwKSxpKz0iLiIrYyxzPSIlIitpKyIlIixuZShCdCxzKSlsPUJ0W3NdO2Vsc2UgaWYobCE9bnVsbCl7aWYoIShjIGluIGwpKXtpZighbil0aHJvdyBuZXcgeXQoImJhc2UgaW50cmluc2ljIGZvciAiK3QrIiBleGlzdHMsIGJ1dCB0aGUgcHJvcGVydHkgaXMgbm90IGF2YWlsYWJsZS4iKTtyZXR1cm59aWYoaHQmJlMrMT49by5sZW5ndGgpe3ZhciBDPWh0KGwsYyk7Qj0hIUMsQiYmImdldCJpbiBDJiYhKCJvcmlnaW5hbFZhbHVlImluIEMuZ2V0KT9sPUMuZ2V0Omw9bFtjXX1lbHNlIEI9bmUobCxjKSxsPWxbY107QiYmIW0mJihCdFtzXT1sKX19cmV0dXJuIGx9LF9lLHJuO2Z1bmN0aW9uIEFlKCl7aWYocm4pcmV0dXJuIF9lO3JuPTE7dmFyIGU9d3QsdD1lKCIlT2JqZWN0LmRlZmluZVByb3BlcnR5JSIsITApfHwhMTtpZih0KXRyeXt0KHt9LCJhIix7dmFsdWU6MX0pfWNhdGNoe3Q9ITF9cmV0dXJuIF9lPXQsX2V9dmFyIGdpPXd0LGllPWdpKCIlT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciUiLCEwKTtpZihpZSl0cnl7aWUoW10sImxlbmd0aCIpfWNhdGNoe2llPW51bGx9dmFyIGxuPWllLGNuPUFlKCkscGk9ZW4sTXQ9ZWUsdW49bG4saGk9ZnVuY3Rpb24odCxuLG8pe2lmKCF0fHx0eXBlb2YgdCE9Im9iamVjdCImJnR5cGVvZiB0IT0iZnVuY3Rpb24iKXRocm93IG5ldyBNdCgiYG9iamAgbXVzdCBiZSBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbmAiKTtpZih0eXBlb2YgbiE9InN0cmluZyImJnR5cGVvZiBuIT0ic3ltYm9sIil0aHJvdyBuZXcgTXQoImBwcm9wZXJ0eWAgbXVzdCBiZSBhIHN0cmluZyBvciBhIHN5bWJvbGAiKTtpZihhcmd1bWVudHMubGVuZ3RoPjMmJnR5cGVvZiBhcmd1bWVudHNbM10hPSJib29sZWFuIiYmYXJndW1lbnRzWzNdIT09bnVsbCl0aHJvdyBuZXcgTXQoImBub25FbnVtZXJhYmxlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIG9yIG51bGwiKTtpZihhcmd1bWVudHMubGVuZ3RoPjQmJnR5cGVvZiBhcmd1bWVudHNbNF0hPSJib29sZWFuIiYmYXJndW1lbnRzWzRdIT09bnVsbCl0aHJvdyBuZXcgTXQoImBub25Xcml0YWJsZWAsIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGEgYm9vbGVhbiBvciBudWxsIik7aWYoYXJndW1lbnRzLmxlbmd0aD41JiZ0eXBlb2YgYXJndW1lbnRzWzVdIT0iYm9vbGVhbiImJmFyZ3VtZW50c1s1XSE9PW51bGwpdGhyb3cgbmV3IE10KCJgbm9uQ29uZmlndXJhYmxlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIG9yIG51bGwiKTtpZihhcmd1bWVudHMubGVuZ3RoPjYmJnR5cGVvZiBhcmd1bWVudHNbNl0hPSJib29sZWFuIil0aHJvdyBuZXcgTXQoImBsb29zZWAsIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGEgYm9vbGVhbiIpO3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+Mz9hcmd1bWVudHNbM106bnVsbCxhPWFyZ3VtZW50cy5sZW5ndGg+ND9hcmd1bWVudHNbNF06bnVsbCxzPWFyZ3VtZW50cy5sZW5ndGg+NT9hcmd1bWVudHNbNV06bnVsbCxsPWFyZ3VtZW50cy5sZW5ndGg+Nj9hcmd1bWVudHNbNl06ITEsbT0hIXVuJiZ1bih0LG4pO2lmKGNuKWNuKHQsbix7Y29uZmlndXJhYmxlOnM9PT1udWxsJiZtP20uY29uZmlndXJhYmxlOiFzLGVudW1lcmFibGU6aT09PW51bGwmJm0/bS5lbnVtZXJhYmxlOiFpLHZhbHVlOm8sd3JpdGFibGU6YT09PW51bGwmJm0/bS53cml0YWJsZTohYX0pO2Vsc2UgaWYobHx8IWkmJiFhJiYhcyl0W25dPW87ZWxzZSB0aHJvdyBuZXcgcGkoIlRoaXMgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCBkZWZpbmluZyBhIHByb3BlcnR5IGFzIG5vbi1jb25maWd1cmFibGUsIG5vbi13cml0YWJsZSwgb3Igbm9uLWVudW1lcmFibGUuIil9LEVlPUFlKCksZm49ZnVuY3Rpb24oKXtyZXR1cm4hIUVlfTtmbi5oYXNBcnJheUxlbmd0aERlZmluZUJ1Zz1mdW5jdGlvbigpe2lmKCFFZSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIEVlKFtdLCJsZW5ndGgiLHt2YWx1ZToxfSkubGVuZ3RoIT09MX1jYXRjaHtyZXR1cm4hMH19O3ZhciBCaT1mbixEaT13dCxkbj1oaSxfaT1CaSgpLG1uPWxuLENuPWVlLEFpPURpKCIlTWF0aC5mbG9vciUiKSxFaT1mdW5jdGlvbih0LG4pe2lmKHR5cGVvZiB0IT0iZnVuY3Rpb24iKXRocm93IG5ldyBDbigiYGZuYCBpcyBub3QgYSBmdW5jdGlvbiIpO2lmKHR5cGVvZiBuIT0ibnVtYmVyInx8bjwwfHxuPjQyOTQ5NjcyOTV8fEFpKG4pIT09bil0aHJvdyBuZXcgQ24oImBsZW5ndGhgIG11c3QgYmUgYSBwb3NpdGl2ZSAzMi1iaXQgaW50ZWdlciIpO3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+MiYmISFhcmd1bWVudHNbMl0saT0hMCxhPSEwO2lmKCJsZW5ndGgiaW4gdCYmbW4pe3ZhciBzPW1uKHQsImxlbmd0aCIpO3MmJiFzLmNvbmZpZ3VyYWJsZSYmKGk9ITEpLHMmJiFzLndyaXRhYmxlJiYoYT0hMSl9cmV0dXJuKGl8fGF8fCFvKSYmKF9pP2RuKHQsImxlbmd0aCIsbiwhMCwhMCk6ZG4odCwibGVuZ3RoIixuKSksdH07KGZ1bmN0aW9uKGUpe3ZhciB0PXBlLG49d3Qsbz1FaSxpPWVlLGE9bigiJUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSUiKSxzPW4oIiVGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCUiKSxsPW4oIiVSZWZsZWN0LmFwcGx5JSIsITApfHx0LmNhbGwocyxhKSxtPUFlKCkscD1uKCIlTWF0aC5tYXglIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGMpe2lmKHR5cGVvZiBjIT0iZnVuY3Rpb24iKXRocm93IG5ldyBpKCJhIGZ1bmN0aW9uIGlzIHJlcXVpcmVkIik7dmFyIGY9bCh0LHMsYXJndW1lbnRzKTtyZXR1cm4gbyhmLDErcCgwLGMubGVuZ3RoLShhcmd1bWVudHMubGVuZ3RoLTEpKSwhMCl9O3ZhciBTPWZ1bmN0aW9uKCl7cmV0dXJuIGwodCxhLGFyZ3VtZW50cyl9O20/bShlLmV4cG9ydHMsImFwcGx5Iix7dmFsdWU6U30pOmUuZXhwb3J0cy5hcHBseT1TfSkocWUpO3ZhciBTbj1xZS5leHBvcnRzLGduPXd0LHBuPVNuLFRpPXBuKGduKCJTdHJpbmcucHJvdG90eXBlLmluZGV4T2YiKSksSWk9ZnVuY3Rpb24odCxuKXt2YXIgbz1nbih0LCEhbik7cmV0dXJuIHR5cGVvZiBvPT0iZnVuY3Rpb24iJiZUaSh0LCIucHJvdG90eXBlLiIpPi0xP3BuKG8pOm99LGFlPSh0eXBlb2YgSlNPTjwidSI/SlNPTjpUbygpKS5zdHJpbmdpZnksTGk9TG8sa2k9Um8sYmk9U24saG49SWksQm49aG4oIkFycmF5LnByb3RvdHlwZS5qb2luIiksVGU9aG4oIkFycmF5LnByb3RvdHlwZS5wdXNoIiksRG49ZnVuY3Rpb24odCxuKXtmb3IodmFyIG89IiIsaT0wO2k8dDtpKz0xKW8rPW47cmV0dXJuIG99LHlpPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbn0sUmk9ZnVuY3Rpb24odCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbz1uJiZuLnNwYWNlfHwiIjt0eXBlb2Ygbz09Im51bWJlciImJihvPURuKG8sIiAiKSk7dmFyIGk9ISFuJiZ0eXBlb2Ygbi5jeWNsZXM9PSJib29sZWFuIiYmbi5jeWNsZXMsYT1uJiZuLnJlcGxhY2VyP2JpKG4ucmVwbGFjZXIpOnlpLHM9dHlwZW9mIG49PSJmdW5jdGlvbiI/bjpuJiZuLmNtcCxsPXMmJmZ1bmN0aW9uKHApe3ZhciBTPXMubGVuZ3RoPjImJmZ1bmN0aW9uKGMpe3JldHVybiBwW2NdfTtyZXR1cm4gZnVuY3Rpb24oQixjKXtyZXR1cm4gcyh7a2V5OkIsdmFsdWU6cFtCXX0se2tleTpjLHZhbHVlOnBbY119LFM/e19fcHJvdG9fXzpudWxsLGdldDpTfTp2b2lkIDApfX0sbT1bXTtyZXR1cm4gZnVuY3Rpb24gcChTLEIsYyxmKXt2YXIgdT1vP2AKYCtEbihmLG8pOiIiLEM9bz8iOiAiOiI6IjtpZihjJiZjLnRvSlNPTiYmdHlwZW9mIGMudG9KU09OPT0iZnVuY3Rpb24iJiYoYz1jLnRvSlNPTigpKSxjPWEoUyxCLGMpLGMhPT12b2lkIDApe2lmKHR5cGVvZiBjIT0ib2JqZWN0Inx8Yz09PW51bGwpcmV0dXJuIGFlKGMpO2lmKExpKGMpKXtmb3IodmFyIF89W10sZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZz1wKGMsZCxjW2RdLGYrMSl8fGFlKG51bGwpO1RlKF8sdStvK2cpfXJldHVybiJbIitCbihfLCIsIikrdSsiXSJ9aWYobS5pbmRleE9mKGMpIT09LTEpe2lmKGkpcmV0dXJuIGFlKCJfX2N5Y2xlX18iKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJDb252ZXJ0aW5nIGNpcmN1bGFyIHN0cnVjdHVyZSB0byBKU09OIil9ZWxzZSBUZShtLGMpO2Zvcih2YXIgaD1raShjKS5zb3J0KGwmJmwoYykpLF89W10sZD0wO2Q8aC5sZW5ndGg7ZCsrKXt2YXIgQj1oW2RdLEU9cChjLEIsY1tCXSxmKzEpO2lmKEUpe3ZhciBUPWFlKEIpK0MrRTtUZShfLHUrbytUKX19cmV0dXJuIG0uc3BsaWNlKG0uaW5kZXhPZihjKSwxKSwieyIrQm4oXywiLCIpK3UrIn0ifX0oeyIiOnR9LCIiLHQsMCl9LEdpPV9vKFJpKTtjb25zdCBEPXtjbG9uZShlKXtyZXR1cm4gZSYmSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSl9LG9iamVjdEhhc2goZSl7cmV0dXJuIEdpKGUpfSxzdW1BcnJheTplPT5lLnJlZHVjZSgodCxuKT0+dCtuLDApLHByZWNpc2lvblJvdW5kOihlLHQ9NSk9Pntjb25zdCBuPU1hdGgucG93KDEwLHQpO3JldHVybiBNYXRoLnJvdW5kKGUqbikvbn0sY2FsY3VsYXRlUmVsaWNNYWluU3RhdFZhbHVlOihlLHQsbik9PnR0Lk1haW5TdGF0c1ZhbHVlc1tlXVt0XS5iYXNlK3R0Lk1haW5TdGF0c1ZhbHVlc1tlXVt0XS5pbmNyZW1lbnQqbn07dmFyIE1pPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuQXJnZW50aSIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuU0tJTExfVEFMRU5UXzNfVUxUX0JBU0lDXzUscz1lPj00PzEyOjEwLGw9bihlLDEsMS4xKSxtPW8oZSwxLjIsMS4zMikscD1pKGUsMS42LDEuNzI4KSxTPWkoZSwyLjgsMy4wMjQpLEI9aShlLC45NSwxLjAyNiksYz1hKGUsLjAyNSwuMDI4KSxmPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdEVuaGFuY2VkIixuYW1lOiJ1bHRFbmhhbmNlZCIsdGV4dDp0KCJDb250ZW50LnVsdEVuaGFuY2VkLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnVsdEVuaGFuY2VkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnVsdEVuaGFuY2VkLmNvbnRlbnQiLHt1bHRFbmhhbmNlZEV4dHJhSGl0U2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpCKSx1bHRFbmhhbmNlZFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqUyl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmVteUhwNTAiLG5hbWU6ImVuZW15SHA1MCIsdGV4dDp0KCJDb250ZW50LmVuZW15SHA1MC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lbmVteUhwNTAudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZW5lbXlIcDUwLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YWxlbnRTdGFja3MiLG5hbWU6InRhbGVudFN0YWNrcyIsdGV4dDp0KCJDb250ZW50LnRhbGVudFN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC50YWxlbnRTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudGFsZW50U3RhY2tzLmNvbnRlbnQiLHt0YWxlbnRNYXhTdGFja3M6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcyksdGFsZW50Q3JTdGFja1ZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKmMpfSksbWluOjAsbWF4OnN9LHtmb3JtSXRlbToic2xpZGVyIixpZDoidWx0RW5oYW5jZWRFeHRyYUhpdHMiLG5hbWU6InVsdEVuaGFuY2VkRXh0cmFIaXRzIix0ZXh0OnQoIkNvbnRlbnQudWx0RW5oYW5jZWRFeHRyYUhpdHMudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudWx0RW5oYW5jZWRFeHRyYUhpdHMudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudWx0RW5oYW5jZWRFeHRyYUhpdHMuY29udGVudCIse3VsdEVuaGFuY2VkRXh0cmFIaXRTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKkIpfSksbWluOjAsbWF4OjZ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJVbHRBdGtCdWZmIixuYW1lOiJlMlVsdEF0a0J1ZmYiLHRleHQ6dCgiQ29udGVudC5lMlVsdEF0a0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTJVbHRBdGtCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmUyVWx0QXRrQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6ZTwyfV07cmV0dXJue2NvbnRlbnQ6KCk9PmYsdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt1bHRFbmhhbmNlZDohMCx0YWxlbnRTdGFja3M6cyx1bHRFbmhhbmNlZEV4dHJhSGl0czo2LGUyVWx0QXRrQnVmZjohMCxlbmVteUhwNTA6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOih1LEMpPT57Y29uc3QgZD1DLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gdVtyLkNSXSs9ZC50YWxlbnRTdGFja3MqYyx1W3IuQ0RdKz1lPj0xP2QudGFsZW50U3RhY2tzKi4wNDowLHVbci5BVEtfUF0rPWU+PTImJmQuZTJVbHRBdGtCdWZmPy40OjAsdS5CQVNJQ19TQ0FMSU5HKz1sLHUuU0tJTExfU0NBTElORys9bSx1LlVMVF9TQ0FMSU5HKz1kLnVsdEVuaGFuY2VkP1M6cCx1LlVMVF9TQ0FMSU5HKz1kLnVsdEVuaGFuY2VkRXh0cmFIaXRzKkIsdS5FTEVNRU5UQUxfRE1HKz1kLmVuZW15SHA1MD8uMTU6MCxhdCh1LE8sLjMsZT49NiksdS5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCx1LlNLSUxMX1RPVUdITkVTU19ETUcrPTMwLHUuVUxUX1RPVUdITkVTU19ETUcrPWQudWx0RW5oYW5jZWQ/NjArMTUqZC51bHRFbmhhbmNlZEV4dHJhSGl0czo2MCx1fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoodSxDKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6dT0+eCh1KSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpfX0sdmk9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5BcmxhbiIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUscz1uKGUsMSwxLjEpLGw9byhlLDIuNCwyLjY0KSxtPWkoZSwzLjIsMy40NTYpLHA9YShlLC43MiwuNzkyKSxTPVt7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InNlbGZDdXJyZW50SHBQZXJjZW50IixuYW1lOiJzZWxmQ3VycmVudEhwUGVyY2VudCIsdGV4dDp0KCJDb250ZW50LnNlbGZDdXJyZW50SHBQZXJjZW50LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNlbGZDdXJyZW50SHBQZXJjZW50LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnNlbGZDdXJyZW50SHBQZXJjZW50LmNvbnRlbnQiLHt0YWxlbnRNaXNzaW5nSHBEbWdCb29zdE1heDpELnByZWNpc2lvblJvdW5kKDEwMCpwKX0pLG1pbjouMDEsbWF4OjEscGVyY2VudDohMH1dO3JldHVybntjb250ZW50OigpPT5TLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7c2VsZkN1cnJlbnRIcFBlcmNlbnQ6MX0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KEIsYyk9Pntjb25zdCBmPWMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBCLkVMRU1FTlRBTF9ETUcrPU1hdGgubWluKHAsMS1mLnNlbGZDdXJyZW50SHBQZXJjZW50KSxCLkJBU0lDX1NDQUxJTkcrPXMsQi5TS0lMTF9TQ0FMSU5HKz1sLEIuVUxUX1NDQUxJTkcrPW0seShCLHosLjEsZT49MSYmZi5zZWxmQ3VycmVudEhwUGVyY2VudDw9LjUpLHkoQixPLC4yLGU+PTYmJmYuc2VsZkN1cnJlbnRIcFBlcmNlbnQ8PS41KSxCLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLEIuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsQi5VTFRfVE9VR0hORVNTX0RNRys9NjAsQn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KEIsYyk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOkI9PngoQiksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LE5pPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuQXN0YSIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuU0tJTExfVEFMRU5UXzNfVUxUX0JBU0lDXzUscz1pKGUsNTAsNTIuOCksbD1hKGUsLjE0LC4xNTQpLG09LjA2LHA9ZT49MT81OjQsUz1uKGUsMSwxLjEpLEI9byhlLC41LC41NSksYz1pKGUsMCwwKSxmPW4oZSwuNSwuNTUpLHU9W3tmb3JtSXRlbToic2xpZGVyIixpZDoic2tpbGxFeHRyYURtZ0hpdHMiLG5hbWU6InNraWxsRXh0cmFEbWdIaXRzIix0ZXh0OnQoIkNvbnRlbnQuc2tpbGxFeHRyYURtZ0hpdHMudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuc2tpbGxFeHRyYURtZ0hpdHMudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc2tpbGxFeHRyYURtZ0hpdHMuY29udGVudCIse3NraWxsRXh0cmFEbWdIaXRzTWF4OnB9KSxtaW46MCxtYXg6cH0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YWxlbnRCdWZmU3RhY2tzIixuYW1lOiJ0YWxlbnRCdWZmU3RhY2tzIix0ZXh0OnQoIkNvbnRlbnQudGFsZW50QnVmZlN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC50YWxlbnRCdWZmU3RhY2tzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRhbGVudEJ1ZmZTdGFja3MuY29udGVudCIse3RhbGVudFN0YWNrc0F0a0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbCl9KSxtaW46MCxtYXg6NX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHRTcGRCdWZmIixuYW1lOiJ1bHRTcGRCdWZmIix0ZXh0OnQoIkNvbnRlbnQudWx0U3BkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC51bHRTcGRCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnVsdFNwZEJ1ZmYuY29udGVudCIse3VsdFNwZEJ1ZmZWYWx1ZTpzfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZmlyZURtZ0Jvb3N0IixuYW1lOiJmaXJlRG1nQm9vc3QiLHRleHQ6dCgiQ29udGVudC5maXJlRG1nQm9vc3QudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZmlyZURtZ0Jvb3N0LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmZpcmVEbWdCb29zdC5jb250ZW50Iil9XSxDPVtJKHUsInRhbGVudEJ1ZmZTdGFja3MiKSxJKHUsInVsdFNwZEJ1ZmYiKSxJKHUsImZpcmVEbWdCb29zdCIpXTtyZXR1cm57Y29udGVudDooKT0+dSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PkMsZGVmYXVsdHM6KCk9Pih7dGFsZW50QnVmZlN0YWNrczo1LHNraWxsRXh0cmFEbWdIaXRzOnAsdWx0U3BkQnVmZjohMCxmaXJlRG1nQm9vc3Q6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3RhbGVudEJ1ZmZTdGFja3M6NSx1bHRTcGRCdWZmOiEwLGZpcmVEbWdCb29zdDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihkLGcpPT57Y29uc3QgaD1nLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZFtyLkRFRl9QXSs9aC50YWxlbnRCdWZmU3RhY2tzKm0sZFtyLkVSUl0rPWU+PTQmJmgudGFsZW50QnVmZlN0YWNrcz49Mj8uMTU6MCxkLkJBU0lDX1NDQUxJTkcrPVMsZC5TS0lMTF9TQ0FMSU5HKz1CK2guc2tpbGxFeHRyYURtZ0hpdHMqQixkLlVMVF9TQ0FMSU5HKz1jLGQuRE9UX1NDQUxJTkcrPWYsZC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxkLlNLSUxMX1RPVUdITkVTU19ETUcrPTMwKzE1Kmguc2tpbGxFeHRyYURtZ0hpdHMsZC5ET1RfQ0hBTkNFPS44LGR9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihkLGcpPT57Y29uc3QgaD1nLmNoYXJhY3RlckNvbmRpdGlvbmFscztkW3IuU1BEXSs9aC51bHRTcGRCdWZmP3M6MCxkW3IuQVRLX1BdKz1oLnRhbGVudEJ1ZmZTdGFja3MqbCxkW3IuRmlyZV9ETUddKz1oLmZpcmVEbWdCb29zdD8uMTg6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6ZD0+eChkKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpfX0sT2k9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5CYWlsdSIpLHtiYXNpYzpuLHNraWxsOm8sdWx0Oml9PWIuU0tJTExfVEFMRU5UXzNfVUxUX0JBU0lDXzUsYT1uKGUsMSwxLjEpLHM9byhlLDAsMCksbD1pKGUsMCwwKSxtPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImhlYWxpbmdNYXhIcEJ1ZmYiLG5hbWU6ImhlYWxpbmdNYXhIcEJ1ZmYiLHRleHQ6dCgiQ29udGVudC5oZWFsaW5nTWF4SHBCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmhlYWxpbmdNYXhIcEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuaGVhbGluZ01heEhwQnVmZi5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidGFsZW50RG1nUmVkdWN0aW9uQnVmZiIsbmFtZToidGFsZW50RG1nUmVkdWN0aW9uQnVmZiIsdGV4dDp0KCJDb250ZW50LnRhbGVudERtZ1JlZHVjdGlvbkJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudGFsZW50RG1nUmVkdWN0aW9uQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC50YWxlbnREbWdSZWR1Y3Rpb25CdWZmLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMlVsdEhlYWxpbmdCdWZmIixuYW1lOiJlMlVsdEhlYWxpbmdCdWZmIix0ZXh0OnQoIkNvbnRlbnQuZTJVbHRIZWFsaW5nQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMlVsdEhlYWxpbmdCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmUyVWx0SGVhbGluZ0J1ZmYuY29udGVudCIpLGRpc2FibGVkOmU8Mn0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJlNFNraWxsSGVhbGluZ0RtZ0J1ZmZTdGFja3MiLG5hbWU6ImU0U2tpbGxIZWFsaW5nRG1nQnVmZlN0YWNrcyIsdGV4dDp0KCJDb250ZW50LmU0U2tpbGxIZWFsaW5nRG1nQnVmZlN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lNFNraWxsSGVhbGluZ0RtZ0J1ZmZTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTRTa2lsbEhlYWxpbmdEbWdCdWZmU3RhY2tzLmNvbnRlbnQiKSxtaW46MCxtYXg6MyxkaXNhYmxlZDplPDR9XSxwPVtJKG0sImhlYWxpbmdNYXhIcEJ1ZmYiKSxJKG0sInRhbGVudERtZ1JlZHVjdGlvbkJ1ZmYiKSxJKG0sImU0U2tpbGxIZWFsaW5nRG1nQnVmZlN0YWNrcyIpXTtyZXR1cm57Y29udGVudDooKT0+bSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PnAsZGVmYXVsdHM6KCk9Pih7aGVhbGluZ01heEhwQnVmZjohMCx0YWxlbnREbWdSZWR1Y3Rpb25CdWZmOiEwLGUyVWx0SGVhbGluZ0J1ZmY6ITAsZTRTa2lsbEhlYWxpbmdEbWdCdWZmU3RhY2tzOjB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2hlYWxpbmdNYXhIcEJ1ZmY6ITAsdGFsZW50RG1nUmVkdWN0aW9uQnVmZjohMCxlNFNraWxsSGVhbGluZ0RtZ0J1ZmZTdGFja3M6M30pLHByZWNvbXB1dGVFZmZlY3RzOihTLEIpPT57Y29uc3QgYz1CLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gU1tyLk9IQl0rPWU+PTImJmMuZTJVbHRIZWFsaW5nQnVmZj8uMTU6MCxTLkJBU0lDX1NDQUxJTkcrPWEsUy5TS0lMTF9TQ0FMSU5HKz1zLFMuVUxUX1NDQUxJTkcrPWwsUy5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxTfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooUyxCKT0+e2NvbnN0IGM9Qi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7U1tyLkhQX1BdKz1jLmhlYWxpbmdNYXhIcEJ1ZmY/LjE6MCxTLkVMRU1FTlRBTF9ETUcrPWU+PTQ/Yy5lNFNraWxsSGVhbGluZ0RtZ0J1ZmZTdGFja3MqLjE6MCxTLkRNR19SRURfTVVMVEkqPWMudGFsZW50RG1nUmVkdWN0aW9uQnVmZj8xLS4xOjF9LGZpbmFsaXplQ2FsY3VsYXRpb25zOlM9PngoUyksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19O2NvbnN0IFU9e1NFVDowLEFCSUxJVFk6MX0sTj17U0lOR0xFOjAsQ09OVElOVU9VUzoxfSxfbj17aWQ6IlJ1dGlsYW50QXJlbmFDb25kaXRpb25hbCIsdHlwZTpVLlNFVCxhY3RpdmF0aW9uOk4uU0lOR0xFLGRlcGVuZHNPbjpbci5DUl0sY29uZGl0aW9uOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gayhlLnNldHMuUnV0aWxhbnRBcmVuYSkmJmVbci5DUl0+PS43fSxlZmZlY3Q6ZT0+e3koZSxXfHosLjIpfSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gRih0aGlzLGAKaWYgKAogIHAyKCgqcF94KS5zZXRzLlJ1dGlsYW50QXJlbmEpID49IDEgJiYKICAoKnBfc3RhdGUpLlJ1dGlsYW50QXJlbmFDb25kaXRpb25hbCA9PSAwLjAgJiYKICAoKnBfeCkuQ1IgPj0gMC43MAopIHsKICAoKnBfc3RhdGUpLlJ1dGlsYW50QXJlbmFDb25kaXRpb25hbCA9IDEuMDsKCiAgYnVmZkFiaWxpdHlEbWcocF94LCBCQVNJQ19UWVBFIHwgU0tJTExfVFlQRSwgMC4yMCwgMSk7Cn0KICAgIGApfX0sQW49e2lkOiJJbmVydFNhbHNvdHRvQ29uZGl0aW9uYWwiLHR5cGU6VS5TRVQsYWN0aXZhdGlvbjpOLlNJTkdMRSxkZXBlbmRzT246W3IuQ1JdLGNvbmRpdGlvbjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGsoZS5zZXRzLkluZXJ0U2Fsc290dG8pJiZlW3IuQ1JdPj0uNX0sZWZmZWN0OmU9Pnt5KGUsT3xNLC4xNSl9LGdwdTpmdW5jdGlvbigpe3JldHVybiBGKHRoaXMsYAppZiAoCiAgcDIoKCpwX3gpLnNldHMuSW5lcnRTYWxzb3R0bykgPj0gMSAmJgogICgqcF9zdGF0ZSkuSW5lcnRTYWxzb3R0b0NvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5DUiA+PSAwLjUwCikgewogICgqcF9zdGF0ZSkuSW5lcnRTYWxzb3R0b0NvbmRpdGlvbmFsID0gMS4wOwoKICBidWZmQWJpbGl0eURtZyhwX3gsIFVMVF9UWVBFIHwgRlVBX1RZUEUsIDAuMTUsIDEpOwp9CiAgICBgKX19LEVuPXtpZDoiU3BhY2VTZWFsaW5nU3RhdGlvbkNvbmRpdGlvbmFsIix0eXBlOlUuU0VULGFjdGl2YXRpb246Ti5TSU5HTEUsZGVwZW5kc09uOltyLlNQRF0sY29uZGl0aW9uOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gayhlLnNldHMuU3BhY2VTZWFsaW5nU3RhdGlvbikmJmVbci5TUERdPj0xMjB9LGVmZmVjdDooZSx0LG4pPT57VihlLHQsbixyLkFUSywuMTIqbi5iYXNlQVRLKX0sZ3B1OmZ1bmN0aW9uKCl7cmV0dXJuIEYodGhpcyxgCmlmICgKICBwMigoKnBfeCkuc2V0cy5TcGFjZVNlYWxpbmdTdGF0aW9uKSA+PSAxICYmCiAgKCpwX3N0YXRlKS5TcGFjZVNlYWxpbmdTdGF0aW9uQ29uZGl0aW9uYWwgPT0gMC4wICYmCiAgKCpwX3gpLlNQRCA+PSAxMjAKKSB7CiAgKCpwX3N0YXRlKS5TcGFjZVNlYWxpbmdTdGF0aW9uQ29uZGl0aW9uYWwgPSAxLjA7CiAgYnVmZk5vbkR5bmFtaWNBVEtfUCgwLjEyLCBwX3gsIHBfc3RhdGUpOwp9CiAgICBgKX19LFRuPXtpZDoiRmxlZXRPZlRoZUFnZWxlc3NDb25kaXRpb25hbCIsdHlwZTpVLlNFVCxhY3RpdmF0aW9uOk4uU0lOR0xFLGRlcGVuZHNPbjpbci5TUERdLGNvbmRpdGlvbjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGsoZS5zZXRzLkZsZWV0T2ZUaGVBZ2VsZXNzKSYmZVtyLlNQRF0+PTEyMH0sZWZmZWN0OihlLHQsbik9PntWKGUsdCxuLHIuQVRLLC4wOCpuLmJhc2VBVEspfSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gRih0aGlzLGAKaWYgKAogIHAyKCgqcF94KS5zZXRzLkZsZWV0T2ZUaGVBZ2VsZXNzKSA+PSAxICYmCiAgKCpwX3N0YXRlKS5GbGVldE9mVGhlQWdlbGVzc0NvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5TUEQgPj0gMTIwCikgewogICgqcF9zdGF0ZSkuRmxlZXRPZlRoZUFnZWxlc3NDb25kaXRpb25hbCA9IDEuMDsKICBidWZmTm9uRHluYW1pY0FUS19QKDAuMDgsIHBfeCwgcF9zdGF0ZSk7Cn0KICAgIGApfX0sSW49e2lkOiJCZWxvYm9nT2ZUaGVBcmNoaXRlY3RzQ29uZGl0aW9uYWwiLHR5cGU6VS5TRVQsYWN0aXZhdGlvbjpOLlNJTkdMRSxkZXBlbmRzT246W3IuRUhSXSxjb25kaXRpb246ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBrKGUuc2V0cy5CZWxvYm9nT2ZUaGVBcmNoaXRlY3RzKSYmZVtyLkVIUl0+PS41fSxlZmZlY3Q6KGUsdCxuKT0+e1YoZSx0LG4sci5ERUYsLjE1Km4uYmFzZURFRil9LGdwdTpmdW5jdGlvbigpe3JldHVybiBGKHRoaXMsYAppZiAoCiAgcDIoKCpwX3gpLnNldHMuQmVsb2JvZ09mVGhlQXJjaGl0ZWN0cykgPj0gMSAmJgogICgqcF9zdGF0ZSkuQmVsb2JvZ09mVGhlQXJjaGl0ZWN0c0NvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5FSFIgPj0gMC41MAopIHsKICAoKnBfc3RhdGUpLkJlbG9ib2dPZlRoZUFyY2hpdGVjdHNDb25kaXRpb25hbCA9IDEuMDsKICBidWZmTm9uRHluYW1pY0RFRl9QKDAuMTUsIHBfeCwgcF9zdGF0ZSk7Cn0KICAgIGApfX0sTG49e2lkOiJJcm9uQ2F2YWxyeUFnYWluc3RUaGVTY291cmdlMTUwQ29uZGl0aW9uYWwiLHR5cGU6VS5TRVQsYWN0aXZhdGlvbjpOLlNJTkdMRSxkZXBlbmRzT246W3IuQkVdLGNvbmRpdGlvbjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHcoZS5zZXRzLklyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2UpJiZlW3IuQkVdPj0xLjV9LGVmZmVjdDplPT57YXQoZSxUdCwuMSl9LGdwdTpmdW5jdGlvbigpe3JldHVybiBGKHRoaXMsYAppZiAoCiAgcDQoKCpwX3gpLnNldHMuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZSkgPj0gMSAmJgogICgqcF9zdGF0ZSkuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZTE1MENvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5CRSA+PSAxLjUwCikgewogICgqcF9zdGF0ZSkuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZTE1MENvbmRpdGlvbmFsID0gMS4wOwogIGJ1ZmZBYmlsaXR5RGVmU2hyZWQocF94LCBCUkVBS19UWVBFLCAwLjEwLCAxKTsKfQogICAgYCl9fSxrbj17aWQ6Iklyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2UyNTBDb25kaXRpb25hbCIsdHlwZTpVLlNFVCxhY3RpdmF0aW9uOk4uU0lOR0xFLGRlcGVuZHNPbjpbci5CRV0sY29uZGl0aW9uOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdyhlLnNldHMuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZSkmJmVbci5CRV0+PTIuNX0sZWZmZWN0OmU9PnthdChlLGJlLC4xNSl9LGdwdTpmdW5jdGlvbigpe3JldHVybiBGKHRoaXMsYAppZiAoCiAgcDQoKCpwX3gpLnNldHMuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZSkgPj0gMSAmJgogICgqcF9zdGF0ZSkuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZTI1MENvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5CRSA+PSAyLjUwCikgewogICgqcF9zdGF0ZSkuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZTI1MENvbmRpdGlvbmFsID0gMS4wOwogIGJ1ZmZBYmlsaXR5RGVmU2hyZWQocF94LCBTVVBFUl9CUkVBS19UWVBFLCAwLjE1LCAxKTsKfQogICAgYCl9fSxibj17aWQ6IlBhbkNvc21pY0NvbW1lcmNpYWxFbnRlcnByaXNlQ29uZGl0aW9uYWwiLHR5cGU6VS5TRVQsYWN0aXZhdGlvbjpOLkNPTlRJTlVPVVMsZGVwZW5kc09uOltyLkVIUl0sY29uZGl0aW9uOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gayhlLnNldHMuUGFuQ29zbWljQ29tbWVyY2lhbEVudGVycHJpc2UpfSxlZmZlY3Q6ZnVuY3Rpb24oZSx0LG4pe2NvbnN0IG89bi5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLGk9TWF0aC5taW4oLjI1LC4yNSplW3IuRUhSXSkqbi5iYXNlQVRLO3JldHVybiBuLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09aSxWKGUsdCxuLHIuQVRLLGktbyksaX0sZ3B1OmZ1bmN0aW9uKCl7cmV0dXJuIEYodGhpcyxgCmlmICgKICBwMigoKnBfeCkuc2V0cy5QYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZSkgPj0gMQopIHsKICBsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5QYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZUNvbmRpdGlvbmFsOwogIGxldCBidWZmVmFsdWU6IGYzMiA9IG1pbigwLjI1LCAwLjI1ICogKCpwX3gpLkVIUikgKiBiYXNlQVRLOwoKICAoKnBfc3RhdGUpLlBhbkNvc21pY0NvbW1lcmNpYWxFbnRlcnByaXNlQ29uZGl0aW9uYWwgPSBidWZmVmFsdWU7CiAgYnVmZk5vbkR5bmFtaWNBVEsoYnVmZlZhbHVlIC0gc3RhdGVWYWx1ZSwgcF94LCBwX3N0YXRlKTsKfQogICAgYCl9fSx5bj17aWQ6IkJyb2tlbktlZWxDb25kaXRpb25hbCIsdHlwZTpVLlNFVCxhY3RpdmF0aW9uOk4uU0lOR0xFLGRlcGVuZHNPbjpbci5SRVNdLGNvbmRpdGlvbjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGsoZS5zZXRzLkJyb2tlbktlZWwpJiZlW3IuUkVTXT49LjN9LGVmZmVjdDpmdW5jdGlvbihlLHQsbil7VihlLHQsbixyLkNELC4xKX0sZ3B1OmZ1bmN0aW9uKCl7cmV0dXJuIEYodGhpcyxgCmlmICgKICBwMigoKnBfeCkuc2V0cy5Ccm9rZW5LZWVsKSA+PSAxICYmCiAgKCpwX3N0YXRlKS5Ccm9rZW5LZWVsQ29uZGl0aW9uYWwgPT0gMC4wICYmCiAgKCpwX3gpLlJFUyA+PSAwLjMwCikgewogICgqcF9zdGF0ZSkuQnJva2VuS2VlbENvbmRpdGlvbmFsID0gMS4wOwogIGJ1ZmZOb25EeW5hbWljQ0QoMC4xMCwgcF94LCBwX3N0YXRlKTsKfQogICAgYCl9fSxSbj17aWQ6IkNlbGVzdGlhbERpZmZlcmVudGlhdG9yQ29uZGl0aW9uYWwiLHR5cGU6VS5TRVQsYWN0aXZhdGlvbjpOLlNJTkdMRSxkZXBlbmRzT246W3IuQ0RdLGNvbmRpdGlvbjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGsoZS5zZXRzLkNlbGVzdGlhbERpZmZlcmVudGlhdG9yKSYmbi5lbmFibGVkQ2VsZXN0aWFsRGlmZmVyZW50aWF0b3ImJmVbci5DRF0+PTEuMn0sZWZmZWN0OmZ1bmN0aW9uKGUsdCxuKXtWKGUsdCxuLHIuQ1IsLjYpfSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gRih0aGlzLGAKaWYgKAogIHAyKCgqcF94KS5zZXRzLkNlbGVzdGlhbERpZmZlcmVudGlhdG9yKSA+PSAxICYmCiAgZW5hYmxlZENlbGVzdGlhbERpZmZlcmVudGlhdG9yID49IDEgJiYKICAoKnBfc3RhdGUpLkNlbGVzdGlhbERpZmZlcmVudGlhdG9yQ29uZGl0aW9uYWwgPT0gMC4wICYmCiAgKCpwX3gpLkNEID49IDEuMjAKKSB7CiAgKCpwX3N0YXRlKS5DZWxlc3RpYWxEaWZmZXJlbnRpYXRvckNvbmRpdGlvbmFsID0gMS4wOwogIGJ1ZmZOb25EeW5hbWljQ1IoMC42MCwgcF94LCBwX3N0YXRlKTsKfQogICAgYCl9fSxHbj17aWQ6IlRhbGlhS2luZ2RvbU9mQmFuZGl0cnlDb25kaXRpb25hbCIsdHlwZTpVLlNFVCxhY3RpdmF0aW9uOk4uU0lOR0xFLGRlcGVuZHNPbjpbci5TUERdLGNvbmRpdGlvbjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGsoZS5zZXRzLlRhbGlhS2luZ2RvbU9mQmFuZGl0cnkpJiZlW3IuU1BEXT49MTQ1fSxlZmZlY3Q6ZnVuY3Rpb24oZSx0LG4pe1YoZSx0LG4sci5CRSwuMil9LGdwdTpmdW5jdGlvbigpe3JldHVybiBGKHRoaXMsYAppZiAoCiAgcDIoKCpwX3gpLnNldHMuVGFsaWFLaW5nZG9tT2ZCYW5kaXRyeSkgPj0gMSAmJgogICgqcF9zdGF0ZSkuVGFsaWFLaW5nZG9tT2ZCYW5kaXRyeUNvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5TUEQgPj0gMTQ1CikgewogICgqcF9zdGF0ZSkuVGFsaWFLaW5nZG9tT2ZCYW5kaXRyeUNvbmRpdGlvbmFsID0gMS4wOwogIGJ1ZmZOb25EeW5hbWljQkUoMC4yMCwgcF94LCBwX3N0YXRlKTsKfQogICAgYCl9fSxNbj17aWQ6IkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgxMzVDb25kaXRpb25hbCIsdHlwZTpVLlNFVCxhY3RpdmF0aW9uOk4uU0lOR0xFLGRlcGVuZHNPbjpbci5TUERdLGNvbmRpdGlvbjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGsoZS5zZXRzLkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgpJiZlW3IuU1BEXT49MTM1fSxlZmZlY3Q6ZnVuY3Rpb24oZSl7ZS5FTEVNRU5UQUxfRE1HKz0uMTJ9LGdwdTpmdW5jdGlvbigpe3JldHVybiBGKHRoaXMsYAppZiAoCiAgcDIoKCpwX3gpLnNldHMuRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aCkgPj0gMSAmJgogICgqcF9zdGF0ZSkuRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aDEzNUNvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5TUEQgPj0gMTM1CikgewogICgqcF9zdGF0ZSkuRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aDEzNUNvbmRpdGlvbmFsID0gMS4wOwogICgqcF94KS5FTEVNRU5UQUxfRE1HICs9IDAuMTI7Cn0KICAgIGApfX0sdm49e2lkOiJGaXJtYW1lbnRGcm9udGxpbmVHbGFtb3RoMTYwQ29uZGl0aW9uYWwiLHR5cGU6VS5TRVQsYWN0aXZhdGlvbjpOLlNJTkdMRSxkZXBlbmRzT246W3IuU1BEXSxjb25kaXRpb246ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBrKGUuc2V0cy5GaXJtYW1lbnRGcm9udGxpbmVHbGFtb3RoKSYmZVtyLlNQRF0+PTE2MH0sZWZmZWN0OmZ1bmN0aW9uKGUpe2UuRUxFTUVOVEFMX0RNRys9LjA2fSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gRih0aGlzLGAKaWYgKAogIHAyKCgqcF94KS5zZXRzLkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgpID49IDEgJiYKICAoKnBfc3RhdGUpLkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgxNjBDb25kaXRpb25hbCA9PSAwLjAgJiYKICAoKnBfeCkuU1BEID49IDE2MAopIHsKICAoKnBfc3RhdGUpLkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgxNjBDb25kaXRpb25hbCA9IDEuMDsKICAoKnBfeCkuRUxFTUVOVEFMX0RNRyArPSAwLjA2Owp9CiAgICBgKX19LFBpPVtFbixfbixBbixUbixJbixMbixrbixibix5bixSbixHbixNbix2bl07ZnVuY3Rpb24gVWkoZSx0KXtjb25zdCBuPSIgIi5yZXBlYXQodCoyKTtyZXR1cm4gZS5zcGxpdChgCmApLm1hcChvPT5uK28pLmpvaW4oYApgKX1mdW5jdGlvbiBqKGUpe3JldHVybiBlPyJ0cnVlIjoiZmFsc2UifWZ1bmN0aW9uIG90KGUpe3JldHVybiBlPyJmYWxzZSI6InRydWUifWZ1bmN0aW9uIFEoZSx0LG4sbyl7ZS5hY3RpdmF0aW9uPT1OLlNJTkdMRT8hby5jb25kaXRpb25hbFN0YXRlW2UuaWRdJiZlLmNvbmRpdGlvbih0LG4sbykmJihvLmNvbmRpdGlvbmFsU3RhdGVbZS5pZF09MSxlLmVmZmVjdCh0LG4sbykpOmUuYWN0aXZhdGlvbj09Ti5DT05USU5VT1VTJiZlLmNvbmRpdGlvbih0LG4sbykmJmUuZWZmZWN0KHQsbixvKX1mdW5jdGlvbiBGKGUsdCl7cmV0dXJuYApmbiBldmFsdWF0ZSR7ZS5pZH0ocF94OiBwdHI8ZnVuY3Rpb24sIENvbXB1dGVkU3RhdHM+LCBwX3N0YXRlOiBwdHI8ZnVuY3Rpb24sIENvbmRpdGlvbmFsU3RhdGU+KSB7CiAgbGV0IHggPSAqcF94Owoke1VpKHQudHJpbSgpLDEpfQp9CiAgYH1mdW5jdGlvbiBWKGUsdCxuLG8saSl7aWYoIShpPDFlLTQpKXtlW29dKz1pO2Zvcihjb25zdCBhIG9mIG4uY29uZGl0aW9uYWxSZWdpc3RyeVtvXXx8W10pUShhLGUsdCxuKX19Y29uc3QgRmk9e2lkOiJBdmVudHVyaW5lQ29udmVyc2lvbkNvbmRpdGlvbmFsIix0eXBlOlUuQUJJTElUWSxhY3RpdmF0aW9uOk4uQ09OVElOVU9VUyxkZXBlbmRzT246W3IuREVGXSxjb25kaXRpb246ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0LmNoYXJhY3RlckNvbmRpdGlvbmFscy5kZWZUb0NyQm9vc3QmJmVbci5ERUZdPjE2MDB9LGVmZmVjdDpmdW5jdGlvbihlLHQsbil7Y29uc3Qgbz1uLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsaT1NYXRoLm1pbiguNDgsLjAyKk1hdGguZmxvb3IoKGVbci5ERUZdLTE2MDApLzEwMCkpO3JldHVybiBuLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09aSxWKGUsdCxuLHIuQ1IsaS1vKSxpfSxncHU6ZnVuY3Rpb24oZSx0KXtjb25zdCBuPWUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBGKHRoaXMsYAppZiAoJHtvdChuLmRlZlRvQ3JCb29zdCl9KSB7CiAgcmV0dXJuOwp9CmxldCBkZWYgPSAoKnBfeCkuREVGOwpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5BdmVudHVyaW5lQ29udmVyc2lvbkNvbmRpdGlvbmFsOwoKaWYgKGRlZiA+IDE2MDApIHsKICBsZXQgYnVmZlZhbHVlOiBmMzIgPSBtaW4oMC40OCwgMC4wMiAqIGZsb29yKChkZWYgLSAxNjAwKSAvIDEwMCkpOwoKICAoKnBfc3RhdGUpLkF2ZW50dXJpbmVDb252ZXJzaW9uQ29uZGl0aW9uYWwgPSBidWZmVmFsdWU7CiAgYnVmZkR5bmFtaWNDUihidWZmVmFsdWUgLSBzdGF0ZVZhbHVlLCBwX3gsIHBfc3RhdGUpOwp9CiAgICBgKX19LEhpPXtpZDoiWHVleWlDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5DT05USU5VT1VTLGRlcGVuZHNPbjpbci5CRV0sY29uZGl0aW9uOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdC5jaGFyYWN0ZXJDb25kaXRpb25hbHMuYmVUb0RtZ0Jvb3N0fSxlZmZlY3Q6ZnVuY3Rpb24oZSx0LG4pe2NvbnN0IG89bi5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLGk9TWF0aC5taW4oMi40LGVbci5CRV0pO24uY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT1pLGUuRUxFTUVOVEFMX0RNRys9aS1vfSxncHU6ZnVuY3Rpb24oZSx0KXtjb25zdCBuPWUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBGKHRoaXMsYAppZiAoJHtvdChuLmJlVG9EbWdCb29zdCl9KSB7CiAgcmV0dXJuOwp9CmxldCBiZSA9ICgqcF94KS5CRTsKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuWHVleWlDb252ZXJzaW9uQ29uZGl0aW9uYWw7CmxldCBidWZmVmFsdWU6IGYzMiA9IG1pbigyLjQwLCBiZSk7CgooKnBfc3RhdGUpLlh1ZXlpQ29udmVyc2lvbkNvbmRpdGlvbmFsID0gYnVmZlZhbHVlOwooKnBfeCkuRUxFTUVOVEFMX0RNRyArPSBidWZmVmFsdWUgLSBzdGF0ZVZhbHVlOwogICAgYCl9fSx4aT17aWQ6IkZpcmVmbHlDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5DT05USU5VT1VTLGRlcGVuZHNPbjpbci5BVEtdLGNvbmRpdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gZVtyLkFUS10+MTgwMH0sZWZmZWN0OmZ1bmN0aW9uKGUsdCxuKXtjb25zdCBvPW4uY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxpPWVbci5BVEtdLWUuUkFUSU9fQkFTRURfQVRLX0JVRkYtZS5SQVRJT19CQVNFRF9BVEtfUF9CVUZGKm4uYmFzZUFUSyxhPS4wMDgqTWF0aC5mbG9vcigoaS0xODAwKS8xMCk7cmV0dXJuIG4uY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT1hLFYoZSx0LG4sci5CRSxhLW8pLGF9LGdwdTpmdW5jdGlvbihlLHQpe2NvbnN0IG49ZS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIEYodGhpcyxgCmlmICgke290KG4uYXRrVG9CZUNvbnZlcnNpb24pfSkgewogIHJldHVybjsKfQpsZXQgYXRrID0gKCpwX3gpLkFUSzsKbGV0IHN0YXRlVmFsdWUgPSAoKnBfc3RhdGUpLkZpcmVmbHlDb252ZXJzaW9uQ29uZGl0aW9uYWw7CmxldCB0cnVlQXRrID0gYXRrIC0gKCpwX3gpLlJBVElPX0JBU0VEX0FUS19CVUZGIC0gKCpwX3gpLlJBVElPX0JBU0VEX0FUS19QX0JVRkYgKiBiYXNlQVRLOwoKaWYgKHRydWVBdGsgPiAxODAwKSB7CiAgbGV0IGJ1ZmZWYWx1ZTogZjMyID0gMC4wMDggKiBmbG9vcigodHJ1ZUF0ayAtIDE4MDApIC8gMTApOwoKICAoKnBfc3RhdGUpLkZpcmVmbHlDb252ZXJzaW9uQ29uZGl0aW9uYWwgPSBidWZmVmFsdWU7CiAgYnVmZkR5bmFtaWNCRShidWZmVmFsdWUgLSBzdGF0ZVZhbHVlLCBwX3gsIHBfc3RhdGUpOwp9CiAgICBgKX19LEtpPXtpZDoiQm9vdGhpbGxDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5DT05USU5VT1VTLGRlcGVuZHNPbjpbci5CRV0sY29uZGl0aW9uOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdC5jaGFyYWN0ZXJDb25kaXRpb25hbHMuYmVUb0NyaXRCb29zdH0sZWZmZWN0OmZ1bmN0aW9uKGUsdCxuKXtjb25zdCBvPW4uY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxpPU1hdGgubWluKC4zLC4xKm8pLGE9TWF0aC5taW4oMS41LC41Km8pLHM9TWF0aC5taW4oLjMsLjEqZVtyLkJFXSksbD1NYXRoLm1pbigxLjUsLjUqZVtyLkJFXSk7bi5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPWVbci5CRV0sVihlLHQsbixyLkNSLHMtaSksVihlLHQsbixyLkNELGwtYSl9LGdwdTpmdW5jdGlvbihlLHQpe2NvbnN0IG49ZS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIEYodGhpcyxgCmlmICgke290KG4uYmVUb0NyaXRCb29zdCl9KSB7CiAgcmV0dXJuOwp9CgpsZXQgYmUgPSAoKnBfeCkuQkU7CmxldCBzdGF0ZVZhbHVlID0gKCpwX3N0YXRlKS5Cb290aGlsbENvbnZlcnNpb25Db25kaXRpb25hbDsKCmxldCBzdGF0ZUNyQnVmZlZhbHVlID0gbWluKDAuMzAsIDAuMTAgKiBzdGF0ZVZhbHVlKTsKbGV0IHN0YXRlQ2RCdWZmVmFsdWUgPSBtaW4oMS41MCwgMC41MCAqIHN0YXRlVmFsdWUpOwoKbGV0IGNyQnVmZlZhbHVlID0gbWluKDAuMzAsIDAuMTAgKiBiZSk7CmxldCBjZEJ1ZmZWYWx1ZSA9IG1pbigxLjUwLCAwLjUwICogYmUpOwoKKCpwX3N0YXRlKS5Cb290aGlsbENvbnZlcnNpb25Db25kaXRpb25hbCA9IGJlOwoKYnVmZkR5bmFtaWNDUihjckJ1ZmZWYWx1ZSAtIHN0YXRlQ3JCdWZmVmFsdWUsIHBfeCwgcF9zdGF0ZSk7CmJ1ZmZEeW5hbWljQ0QoY2RCdWZmVmFsdWUgLSBzdGF0ZUNkQnVmZlZhbHVlLCBwX3gsIHBfc3RhdGUpOwogICAgYCl9fSx3aT17aWQ6IkdlcGFyZENvbnZlcnNpb25Db25kaXRpb25hbCIsdHlwZTpVLkFCSUxJVFksYWN0aXZhdGlvbjpOLkNPTlRJTlVPVVMsZGVwZW5kc09uOltyLkRFRl0sY29uZGl0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVmZmVjdDpmdW5jdGlvbihlLHQsbil7Y29uc3Qgbz1uLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsaT0uMzUqZVtyLkRFRl07bi5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPWksVihlLHQsbixyLkFUSyxpLW8pfSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gRih0aGlzLGAKbGV0IGRlZiA9ICgqcF94KS5ERUY7CmxldCBzdGF0ZVZhbHVlOiBmMzIgPSAoKnBfc3RhdGUpLkdlcGFyZENvbnZlcnNpb25Db25kaXRpb25hbDsKbGV0IGJ1ZmZWYWx1ZTogZjMyID0gMC4zNSAqIGRlZjsKCigqcF9zdGF0ZSkuR2VwYXJkQ29udmVyc2lvbkNvbmRpdGlvbmFsID0gYnVmZlZhbHVlOwpidWZmRHluYW1pY0FUSyhidWZmVmFsdWUgLSBzdGF0ZVZhbHVlLCBwX3gsIHBfc3RhdGUpOwogICAgYCl9fSxWaT17aWQ6IkJsYWNrU3dhbkNvbnZlcnNpb25Db25kaXRpb25hbCIsdHlwZTpVLkFCSUxJVFksYWN0aXZhdGlvbjpOLkNPTlRJTlVPVVMsZGVwZW5kc09uOltyLkVIUl0sY29uZGl0aW9uOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hMH0sZWZmZWN0OmZ1bmN0aW9uKGUsdCxuKXtpZighdC5jaGFyYWN0ZXJDb25kaXRpb25hbHMuZWhyVG9EbWdCb29zdClyZXR1cm47Y29uc3QgaT1uLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsYT1NYXRoLm1pbiguNzIsLjYqZVtyLkVIUl0pO24uY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT1hLGUuRUxFTUVOVEFMX0RNRys9YS1pfSxncHU6ZnVuY3Rpb24oZSx0KXtjb25zdCBuPWUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBGKHRoaXMsYAppZiAoJHtvdChuLmVoclRvRG1nQm9vc3QpfSkgewogIHJldHVybjsKfQpsZXQgZWhyID0gKCpwX3gpLkVIUjsKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuQmxhY2tTd2FuQ29udmVyc2lvbkNvbmRpdGlvbmFsOwpsZXQgYnVmZlZhbHVlOiBmMzIgPSBtaW4oMC43MiwgMC42MCAqIGVocik7CgooKnBfc3RhdGUpLkJsYWNrU3dhbkNvbnZlcnNpb25Db25kaXRpb25hbCA9IGJ1ZmZWYWx1ZTsKKCpwX3gpLkVMRU1FTlRBTF9ETUcgKz0gYnVmZlZhbHVlIC0gc3RhdGVWYWx1ZTsKICAgIGApfX0semk9e2lkOiJSYXBwYUNvbnZlcnNpb25Db25kaXRpb25hbCIsdHlwZTpVLkFCSUxJVFksYWN0aXZhdGlvbjpOLkNPTlRJTlVPVVMsZGVwZW5kc09uOltyLkFUS10sY29uZGl0aW9uOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hMH0sZWZmZWN0OmZ1bmN0aW9uKGUsdCxuKXtpZighdC5jaGFyYWN0ZXJDb25kaXRpb25hbHMuYXRrVG9CcmVha1Z1bG5lcmFiaWxpdHkpcmV0dXJuO2NvbnN0IGk9bi5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLGE9TWF0aC5mbG9vcih5ZSgoZVtyLkFUS10tMjQwMCkvMTAwKSkscz1NYXRoLm1pbiguMDgsTWF0aC5tYXgoMCxhKSouMDEpKy4wMjtuLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09cyxlLkJSRUFLX1ZVTE5FUkFCSUxJVFkrPXMtaX0sZ3B1OmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1lLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gRih0aGlzLGAKaWYgKCR7b3Qobi5hdGtUb0JyZWFrVnVsbmVyYWJpbGl0eSl9KSB7CiAgcmV0dXJuOwp9CmxldCBhdGsgPSAoKnBfeCkuQVRLOwpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5SYXBwYUNvbnZlcnNpb25Db25kaXRpb25hbDsKbGV0IGF0a092ZXJTdGFja3M6IGYzMiA9IGZsb29yKCh4LkFUSyAtIDI0MDApIC8gMTAwKTsKbGV0IGJ1ZmZWYWx1ZTogZjMyID0gbWluKDAuMDgsIG1heCgwLCBhdGtPdmVyU3RhY2tzKSAqIDAuMDEpICsgMC4wMjsKCigqcF9zdGF0ZSkuUmFwcGFDb252ZXJzaW9uQ29uZGl0aW9uYWwgPSBidWZmVmFsdWU7CigqcF94KS5CUkVBS19WVUxORVJBQklMSVRZICs9IGJ1ZmZWYWx1ZSAtIHN0YXRlVmFsdWU7CiAgICBgKX19LCRpPXtpZDoiR2FsbGFnaGVyQ29udmVyc2lvbkNvbmRpdGlvbmFsIix0eXBlOlUuQUJJTElUWSxhY3RpdmF0aW9uOk4uQ09OVElOVU9VUyxkZXBlbmRzT246W3IuQkVdLGNvbmRpdGlvbjpmdW5jdGlvbihlLHQsbil7cmV0dXJuITB9LGVmZmVjdDpmdW5jdGlvbihlLHQsbil7dC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Y29uc3Qgbz1uLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsaT1NYXRoLm1pbiguNzUsLjUqZVtyLkJFXSk7bi5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPWksVihlLHQsbixyLk9IQixpLW8pfSxncHU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jaGFyYWN0ZXJDb25kaXRpb25hbHMsRih0aGlzLGAKbGV0IGJlID0gKCpwX3gpLkJFOwpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5HYWxsYWdoZXJDb252ZXJzaW9uQ29uZGl0aW9uYWw7CmxldCBidWZmVmFsdWU6IGYzMiA9IG1pbigwLjc1LCAwLjUwICogKCpwX3gpLkJFKTsKCigqcF9zdGF0ZSkuR2FsbGFnaGVyQ29udmVyc2lvbkNvbmRpdGlvbmFsID0gYnVmZlZhbHVlOwpidWZmRHluYW1pY09IQihidWZmVmFsdWUgLSBzdGF0ZVZhbHVlLCBwX3gsIHBfc3RhdGUpOwogICAgYCl9fSxXaT17aWQ6IlJ1YW5NZWlDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5DT05USU5VT1VTLGRlcGVuZHNPbjpbci5CRV0sY29uZGl0aW9uOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hMH0sZWZmZWN0OmZ1bmN0aW9uKGUsdCxuKXt0LmNoYXJhY3RlckNvbmRpdGlvbmFscztjb25zdCBvPW4uY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxpPU1hdGguZmxvb3IoeWUoKGVbci5CRV0qMTAwLTEyMCkvMTApKSxhPU1hdGgubWluKC4zNixNYXRoLm1heCgwLGkpKi4wNik7bi5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPWEsZS5FTEVNRU5UQUxfRE1HKz1hLW99LGdwdTpmdW5jdGlvbihlLHQpe3JldHVybiBlLmNoYXJhY3RlckNvbmRpdGlvbmFscyxGKHRoaXMsYApsZXQgYmUgPSAoKnBfeCkuQkU7CmxldCBzdGF0ZVZhbHVlOiBmMzIgPSAoKnBfc3RhdGUpLlJ1YW5NZWlDb252ZXJzaW9uQ29uZGl0aW9uYWw7CmxldCBiZU92ZXIgPSAoKCpwX3gpLkJFICogMTAwIC0gMTIwKSAvIDEwOwpsZXQgYnVmZlZhbHVlOiBmMzIgPSBmbG9vcihtYXgoMCwgYmVPdmVyKSkgKiAwLjA2OwoKKCpwX3N0YXRlKS5SdWFuTWVpQ29udmVyc2lvbkNvbmRpdGlvbmFsID0gYnVmZlZhbHVlOwooKnBfeCkuRUxFTUVOVEFMX0RNRyArPSBidWZmVmFsdWUgLSBzdGF0ZVZhbHVlOwogICAgYCl9fSxZaT17aWQ6IkppYW9xaXVDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5DT05USU5VT1VTLGRlcGVuZHNPbjpbci5FSFJdLGNvbmRpdGlvbjpmdW5jdGlvbihlLHQsbil7cmV0dXJuITB9LGVmZmVjdDpmdW5jdGlvbihlLHQsbil7aWYoIXQuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLmVoclRvQXRrQm9vc3R8fGVbci5FSFJdPD0uOClyZXR1cm47Y29uc3QgaT1uLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsYT1NYXRoLm1pbigyLjQsLjYqTWF0aC5mbG9vcigoZVtyLkVIUl0tLjgpLy4xNSkpKnQuYmFzZUF0aztuLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09YSxWKGUsdCxuLHIuQVRLLGEtaSl9LGdwdTpmdW5jdGlvbihlLHQpe3JldHVybiBlLmNoYXJhY3RlckNvbmRpdGlvbmFscyxGKHRoaXMsYApsZXQgZWhyID0gKCpwX3gpLkVIUjsKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuSmlhb3FpdUNvbnZlcnNpb25Db25kaXRpb25hbDsKbGV0IGJ1ZmZWYWx1ZTogZjMyID0gbWluKDIuNDAsIDAuNjAgKiBmbG9vcigoKCpwX3gpLkVIUiAtIDAuODApIC8gMC4xNSkpOwoKKCpwX3N0YXRlKS5KaWFvcWl1Q29udmVyc2lvbkNvbmRpdGlvbmFsID0gYnVmZlZhbHVlOwpidWZmRHluYW1pY0FUS19QKGJ1ZmZWYWx1ZSAtIHN0YXRlVmFsdWUsIHBfeCwgcF9zdGF0ZSk7CiAgICBgKX19LGppPXtpZDoiTGluZ3NoYUNvbnZlcnNpb25Db25kaXRpb25hbCIsdHlwZTpVLkFCSUxJVFksYWN0aXZhdGlvbjpOLkNPTlRJTlVPVVMsZGVwZW5kc09uOltyLkJFXSxjb25kaXRpb246ZnVuY3Rpb24oZSx0LG4pe3JldHVybiEwfSxlZmZlY3Q6ZnVuY3Rpb24oZSx0LG4pe2lmKCF0LmNoYXJhY3RlckNvbmRpdGlvbmFscy5iZUNvbnZlcnNpb24pcmV0dXJuO2NvbnN0IGk9bi5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLGE9TWF0aC5taW4oLjUsLjI1KmVbci5CRV0pKnQuYmFzZUF0ayxzPU1hdGgubWluKC4yLC4xKmVbci5CRV0pLGw9TWF0aC5taW4oLjUsLjI1KmkpKnQuYmFzZUF0ayxtPU1hdGgubWluKC4yLC4xKmkpO24uY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT1lW3IuQkVdO2NvbnN0IHA9YS0oaT9sOjApLFM9cy0oaT9tOjApO1YoZSx0LG4sci5BVEsscCksVihlLHQsbixyLk9IQixTKX0sZ3B1OmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1lLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gRih0aGlzLGAKaWYgKCR7b3Qobi5iZUNvbnZlcnNpb24pfSkgewogIHJldHVybjsKfQoKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuTGluZ3NoYUNvbnZlcnNpb25Db25kaXRpb25hbDsKCmxldCBidWZmVmFsdWVBdGsgPSBtaW4oMC41MCwgMC4yNSAqIHguQkUpICogYmFzZUFUSzsKbGV0IGJ1ZmZWYWx1ZU9oYiA9IG1pbigwLjIwLCAwLjEwICogeC5CRSk7CgpsZXQgc3RhdGVCdWZmVmFsdWVBdGsgPSBtaW4oMC41MCwgMC4yNSAqIHN0YXRlVmFsdWUpICogYmFzZUFUSzsKbGV0IHN0YXRlQnVmZlZhbHVlT2hiID0gbWluKDAuMjAsIDAuMTAgKiBzdGF0ZVZhbHVlKTsKCigqcF9zdGF0ZSkuTGluZ3NoYUNvbnZlcnNpb25Db25kaXRpb25hbCA9ICgqcF94KS5CRTsKCmxldCBmaW5hbEJ1ZmZBdGsgPSBidWZmVmFsdWVBdGsgLSBzZWxlY3QoMCwgc3RhdGVCdWZmVmFsdWVBdGssIHN0YXRlVmFsdWUgPiAwKTsKbGV0IGZpbmFsQnVmZk9oYiA9IGJ1ZmZWYWx1ZU9oYiAtIHNlbGVjdCgwLCBzdGF0ZUJ1ZmZWYWx1ZU9oYiwgc3RhdGVWYWx1ZSA+IDApOwoKYnVmZkR5bmFtaWNBVEsoZmluYWxCdWZmQXRrLCBwX3gsIHBfc3RhdGUpOwpidWZmRHluYW1pY09IQihmaW5hbEJ1ZmZPaGIsIHBfeCwgcF9zdGF0ZSk7CiAgICBgKX19O3ZhciBKaT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkJsYWNrU3dhbiIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuU0tJTExfVEFMRU5UXzNfVUxUX0JBU0lDXzUscz1hKGUsLjEyLC4xMzIpLGw9aShlLC4yNSwuMjcpLG09byhlLC4yMDgsLjIyKSxwPW4oZSwuNiwuNjYpLFM9byhlLC45LC45OSksQj1pKGUsMS4yLDEuMyksYz1hKGUsMi40LDIuNjQpLGY9YShlLC42NSwuNjgpLHU9W3tmb3JtSXRlbToic3dpdGNoIixpZDoiZWhyVG9EbWdCb29zdCIsbmFtZToiZWhyVG9EbWdCb29zdCIsdGV4dDp0KCJDb250ZW50LmVoclRvRG1nQm9vc3QudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZWhyVG9EbWdCb29zdC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5laHJUb0RtZ0Jvb3N0LmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlcGlwaGFueURlYnVmZiIsbmFtZToiZXBpcGhhbnlEZWJ1ZmYiLHRleHQ6dCgiQ29udGVudC5lcGlwaGFueURlYnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lcGlwaGFueURlYnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lcGlwaGFueURlYnVmZi5jb250ZW50Iix7ZXBpcGhhbnlEbWdUYWtlbkJvb3N0OkQucHJlY2lzaW9uUm91bmQoMTAwKmwpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZGVmRGVjcmVhc2VEZWJ1ZmYiLG5hbWU6ImRlZkRlY3JlYXNlRGVidWZmIix0ZXh0OnQoIkNvbnRlbnQuZGVmRGVjcmVhc2VEZWJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZGVmRGVjcmVhc2VEZWJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZGVmRGVjcmVhc2VEZWJ1ZmYuY29udGVudCIse2RlZlNocmVkVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbSl9KX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJhcmNhbmFTdGFja3MiLG5hbWU6ImFyY2FuYVN0YWNrcyIsdGV4dDp0KCJDb250ZW50LmFyY2FuYVN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5hcmNhbmFTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuYXJjYW5hU3RhY2tzLmNvbnRlbnQiLHtkb3RTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKmMpLGFyY2FuYVN0YWNrTXVsdGlwbGllcjpELnByZWNpc2lvblJvdW5kKDEwMCpzKX0pLG1pbjoxLG1heDo1MH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMVJlc1JlZHVjdGlvbiIsbmFtZToiZTFSZXNSZWR1Y3Rpb24iLHRleHQ6dCgiQ29udGVudC5lMVJlc1JlZHVjdGlvbi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMVJlc1JlZHVjdGlvbi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMVJlc1JlZHVjdGlvbi5jb250ZW50IiksZGlzYWJsZWQ6ZTwxfV0sQz1bSSh1LCJlcGlwaGFueURlYnVmZiIpLEkodSwiZGVmRGVjcmVhc2VEZWJ1ZmYiKSxJKHUsImUxUmVzUmVkdWN0aW9uIildO3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+QyxkZWZhdWx0czooKT0+KHtlaHJUb0RtZ0Jvb3N0OiEwLGVwaXBoYW55RGVidWZmOiEwLGRlZkRlY3JlYXNlRGVidWZmOiEwLGFyY2FuYVN0YWNrczo3LGUxUmVzUmVkdWN0aW9uOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtlcGlwaGFueURlYnVmZjohMCxkZWZEZWNyZWFzZURlYnVmZjohMCxlMVJlc1JlZHVjdGlvbjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihkLGcpPT57Y29uc3QgaD1nLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZC5CQVNJQ19TQ0FMSU5HKz1wLGQuU0tJTExfU0NBTElORys9UyxkLlVMVF9TQ0FMSU5HKz1CLGQuRE9UX1NDQUxJTkcrPWMrcypoLmFyY2FuYVN0YWNrcyxhdChkLHV0LC4yLGguYXJjYW5hU3RhY2tzPj03KSxkLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGQuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsZC5VTFRfVE9VR0hORVNTX0RNRys9NjAsZC5ET1RfQ0hBTkNFPWYsZC5ET1RfU1BMSVQ9LjA1LGQuRE9UX1NUQUNLUz1oLmFyY2FuYVN0YWNrcyxkfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooZCxnKT0+e2NvbnN0IGg9Zy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7aXQoZCx1dCxsLGguZXBpcGhhbnlEZWJ1ZmYpLGQuREVGX1BFTis9aC5kZWZEZWNyZWFzZURlYnVmZj9tOjAsZC5XSU5EX1JFU19QRU4rPWU+PTEmJmguZTFSZXNSZWR1Y3Rpb24/LjI1OjAsZC5GSVJFX1JFU19QRU4rPWU+PTEmJmguZTFSZXNSZWR1Y3Rpb24/LjI1OjAsZC5QSFlTSUNBTF9SRVNfUEVOKz1lPj0xJiZoLmUxUmVzUmVkdWN0aW9uPy4yNTowLGQuTElHSFROSU5HX1JFU19QRU4rPWU+PTEmJmguZTFSZXNSZWR1Y3Rpb24/LjI1OjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmQ9PngoZCksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKSxkeW5hbWljQ29uZGl0aW9uYWxzOltWaV19fSxRaT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkJsYWRlIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5VTFRfVEFMRU5UXzNfU0tJTExfQkFTSUNfNSxzPW8oZSwuNCwuNDU2KSxsPS45LG09bihlLDEsMS4xKSxwPW8oZSwuNCwuNDQpLFM9byhlLDEsMS4xKSxCPWkoZSwuNCwuNDMyKSxjPWkoZSwxLDEuMDgpLGY9aShlLDEsMS4wOCksdT1hKGUsLjQ0LC40ODQpLEM9YShlLDEuMSwxLjIxKSxkPXsxOlIqKDEqLjMzKzIqLjMzKzMqLjM0KSwzOlIqKDIqLjMzKzUqLjMzKzgqLjM0KSw1OlIqKDMqLjMzKzgqLjMzKzgqLjM0KX0sZz1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmhhbmNlZFN0YXRlQWN0aXZlIixuYW1lOiJlbmhhbmNlZFN0YXRlQWN0aXZlIix0ZXh0OnQoIkNvbnRlbnQuZW5oYW5jZWRTdGF0ZUFjdGl2ZS50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lbmhhbmNlZFN0YXRlQWN0aXZlLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmVuaGFuY2VkU3RhdGVBY3RpdmUuY29udGVudCIse2VuaGFuY2VkU3RhdGVEbWdCb29zdDpELnByZWNpc2lvblJvdW5kKDEwMCpzKX0pfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImhwUGVyY2VudExvc3RUb3RhbCIsbmFtZToiaHBQZXJjZW50TG9zdFRvdGFsIix0ZXh0OnQoIkNvbnRlbnQuaHBQZXJjZW50TG9zdFRvdGFsLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmhwUGVyY2VudExvc3RUb3RhbC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5ocFBlcmNlbnRMb3N0VG90YWwuY29udGVudCIse2hwUGVyY2VudExvc3RUb3RhbE1heDpELnByZWNpc2lvblJvdW5kKDEwMCpsKX0pLG1pbjowLG1heDpsLHBlcmNlbnQ6ITB9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiZTRNYXhIcEluY3JlYXNlU3RhY2tzIixuYW1lOiJlNE1heEhwSW5jcmVhc2VTdGFja3MiLHRleHQ6dCgiQ29udGVudC5lNE1heEhwSW5jcmVhc2VTdGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTRNYXhIcEluY3JlYXNlU3RhY2tzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmU0TWF4SHBJbmNyZWFzZVN0YWNrcy5jb250ZW50IiksbWluOjAsbWF4OjIsZGlzYWJsZWQ6ZTw0fV07cmV0dXJue2NvbnRlbnQ6KCk9PmcsdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHtlbmhhbmNlZFN0YXRlQWN0aXZlOiEwLGhwUGVyY2VudExvc3RUb3RhbDpsLGU0TWF4SHBJbmNyZWFzZVN0YWNrczoyfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooaCxfKT0+e2NvbnN0IEU9Xy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGhbci5DUl0rPWU+PTImJkUuZW5oYW5jZWRTdGF0ZUFjdGl2ZT8uMTU6MCxoW3IuSFBfUF0rPWU+PTQ/RS5lNE1heEhwSW5jcmVhc2VTdGFja3MqLjI6MCxoLkJBU0lDX1NDQUxJTkcrPW0saC5FTEVNRU5UQUxfRE1HKz1FLmVuaGFuY2VkU3RhdGVBY3RpdmU/czowLHkoaCxNLC4yKSxoLkJBU0lDX1RPVUdITkVTU19ETUcrPUUuZW5oYW5jZWRTdGF0ZUFjdGl2ZT82MDozMCxoLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxoLkZVQV9UT1VHSE5FU1NfRE1HKz0zMCxofSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooaCxfKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KGgsXyk9Pntjb25zdCBFPV8uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO0UuZW5oYW5jZWRTdGF0ZUFjdGl2ZT8oaC5CQVNJQ19ETUcrPXAqaFtyLkFUS10saC5CQVNJQ19ETUcrPVMqaFtyLkhQXSk6aC5CQVNJQ19ETUcrPWguQkFTSUNfU0NBTElORypoW3IuQVRLXSxoLlVMVF9ETUcrPUIqaFtyLkFUS10saC5VTFRfRE1HKz1jKmhbci5IUF0saC5VTFRfRE1HKz1mKkUuaHBQZXJjZW50TG9zdFRvdGFsKmhbci5IUF0saC5VTFRfRE1HKz1lPj0xJiZfLmVuZW15Q291bnQ9PTE/MS41KkUuaHBQZXJjZW50TG9zdFRvdGFsKmhbci5IUF06MDtjb25zdCBUPWRbXy5lbmVteUNvdW50XSxMPXB0KGgsXyxUKTtoLkZVQV9ETUcrPXUqKGhbci5BVEtdK0wpLGguRlVBX0RNRys9QypoW3IuSFBdLGguRlVBX0RNRys9ZT49Nj8uNSpoW3IuSFBdOjB9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOmg9Pntjb25zdCBfPWguY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybmAKaWYgKCR7aihfLmVuaGFuY2VkU3RhdGVBY3RpdmUpfSkgewogIHguQkFTSUNfRE1HICs9ICR7cH0gKiB4LkFUSzsKICB4LkJBU0lDX0RNRyArPSAke1N9ICogeC5IUDsKfSBlbHNlIHsKICB4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiB4LkFUSzsKfQoKeC5VTFRfRE1HICs9ICR7Qn0gKiB4LkFUSzsKeC5VTFRfRE1HICs9ICR7Y30gKiB4LkhQOwp4LlVMVF9ETUcgKz0gJHtmKl8uaHBQZXJjZW50TG9zdFRvdGFsfSAqIHguSFA7CgppZiAoJHtqKGU+PTEmJmguZW5lbXlDb3VudD09MSl9KSB7CiAgeC5VTFRfRE1HICs9IDEuNTAgKiAke18uaHBQZXJjZW50TG9zdFRvdGFsfSAqIHguSFA7Cn0KCnguRlVBX0RNRyArPSAke3V9ICogKHguQVRLICsgY2FsY3VsYXRlQXNoYmxhemluZ1NldChwX3gsIHBfc3RhdGUsICR7ZFtoLmVuZW15Q291bnRdfSkpOwp4LkZVQV9ETUcgKz0gJHtDfSAqIHguSFA7CgppZiAoZSA+PSA2KSB7CiAgeC5GVUFfRE1HICs9IDAuNTAgKiB4LkhQOwp9CiAgICBgfX19LFhpPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuQnJvbnlhIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aX09Yi5VTFRfVEFMRU5UXzNfU0tJTExfQkFTSUNfNSxhPW8oZSwuNjYsLjcyNikscz1pKGUsLjU1LC41OTQpLGw9aShlLC4xNiwuMTY4KSxtPWkoZSwuMiwuMjE2KSxwPW4oZSwxLDEuMSksUz1wKi44LEI9UiooMSoxLzEpLGM9W3tmb3JtSXRlbToic3dpdGNoIixpZDoidGVhbURtZ0J1ZmYiLG5hbWU6InRlYW1EbWdCdWZmIix0ZXh0OnQoIkNvbnRlbnQudGVhbURtZ0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudGVhbURtZ0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudGVhbURtZ0J1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNraWxsQnVmZiIsbmFtZToic2tpbGxCdWZmIix0ZXh0OnQoIkNvbnRlbnQuc2tpbGxCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNraWxsQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5za2lsbEJ1ZmYuY29udGVudCIse3NraWxsRG1nQm9vc3RWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCphKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdEJ1ZmYiLG5hbWU6InVsdEJ1ZmYiLHRleHQ6dCgiQ29udGVudC51bHRCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnVsdEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudWx0QnVmZi5jb250ZW50Iix7dWx0QXRrQm9vc3RWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpzKSx1bHRDZEJvb3N0VmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbCksdWx0Q2RCb29zdEJhc2VWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCptKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImJhdHRsZVN0YXJ0RGVmQnVmZiIsbmFtZToiYmF0dGxlU3RhcnREZWZCdWZmIix0ZXh0OnQoIkNvbnRlbnQuYmF0dGxlU3RhcnREZWZCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmJhdHRsZVN0YXJ0RGVmQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5iYXR0bGVTdGFydERlZkJ1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRlY2huaXF1ZUJ1ZmYiLG5hbWU6InRlY2huaXF1ZUJ1ZmYiLHRleHQ6dCgiQ29udGVudC50ZWNobmlxdWVCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRlY2huaXF1ZUJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudGVjaG5pcXVlQnVmZi5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJTa2lsbFNwZEJ1ZmYiLG5hbWU6ImUyU2tpbGxTcGRCdWZmIix0ZXh0OnQoIkNvbnRlbnQuZTJTa2lsbFNwZEJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTJTa2lsbFNwZEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTJTa2lsbFNwZEJ1ZmYuY29udGVudCIpLGRpc2FibGVkOmU8Mn1dLGY9W0koYywidGVhbURtZ0J1ZmYiKSxJKGMsInNraWxsQnVmZiIpLEkoYywidWx0QnVmZiIpLEkoYywiYmF0dGxlU3RhcnREZWZCdWZmIiksSShjLCJ0ZWNobmlxdWVCdWZmIikse2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0ZWFtbWF0ZUNEVmFsdWUiLG5hbWU6InRlYW1tYXRlQ0RWYWx1ZSIsdGV4dDp0KCJUZWFtbWF0ZUNvbnRlbnQudGVhbW1hdGVDRFZhbHVlLnRleHQiKSx0aXRsZTp0KCJUZWFtbWF0ZUNvbnRlbnQudGVhbW1hdGVDRFZhbHVlLnRpdGxlIiksY29udGVudDp0KCJUZWFtbWF0ZUNvbnRlbnQudGVhbW1hdGVDRFZhbHVlLmNvbnRlbnQiLHt1bHRBdGtCb29zdFZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKnMpLHVsdENkQm9vc3RWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpsKSx1bHRDZEJvb3N0QmFzZVZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKm0pfSksbWluOjAsbWF4OjMscGVyY2VudDohMH0sSShjLCJlMlNraWxsU3BkQnVmZiIpXSx1PXt0ZWFtRG1nQnVmZjohMCxza2lsbEJ1ZmY6ITAsdWx0QnVmZjohMCxiYXR0bGVTdGFydERlZkJ1ZmY6ITEsdGVjaG5pcXVlQnVmZjohMSxlMlNraWxsU3BkQnVmZjohMX07cmV0dXJue2NvbnRlbnQ6KCk9PmMsdGVhbW1hdGVDb250ZW50OigpPT5mLGRlZmF1bHRzOigpPT51LHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7Li4udSx0ZWFtbWF0ZUNEVmFsdWU6Mi41fSkscHJlY29tcHV0ZUVmZmVjdHM6KEMsZCk9Pnt1ZShDLFcsMSksQy5CQVNJQ19TQ0FMSU5HKz1wLEMuRlVBX1NDQUxJTkcrPWU+PTQ/UzowLEMuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsQy5GVUFfVE9VR0hORVNTX0RNRys9ZT49ND8zMDowfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooQyxkKT0+e2NvbnN0IGc9ZC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Q1tyLkRFRl9QXSs9Zy5iYXR0bGVTdGFydERlZkJ1ZmY/LjI6MCxDW3IuU1BEX1BdKz1nLmUyU2tpbGxTcGRCdWZmPy4zOjAsQ1tyLkFUS19QXSs9Zy50ZWNobmlxdWVCdWZmPy4xNTowLENbci5BVEtfUF0rPWcudWx0QnVmZj9zOjAsQy5FTEVNRU5UQUxfRE1HKz1nLnRlYW1EbWdCdWZmPy4xOjAsQy5FTEVNRU5UQUxfRE1HKz1nLnNraWxsQnVmZj9hOjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KEMsZCk9Pntjb25zdCBnPWQuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO0Nbci5DRF0rPWcudWx0QnVmZj9sKmcudGVhbW1hdGVDRFZhbHVlOjAsQ1tyLkNEXSs9Zy51bHRCdWZmP206MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KEMsZCk9PntaKEMsZCxCKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6Qz0+cShCKSxkeW5hbWljQ29uZGl0aW9uYWxzOlt7aWQ6IkJyb255YUNkQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5DT05USU5VT1VTLGRlcGVuZHNPbjpbci5DRF0scmF0aW9Db252ZXJzaW9uOiEwLGNvbmRpdGlvbjpmdW5jdGlvbigpe3JldHVybiEwfSxlZmZlY3Q6ZnVuY3Rpb24oQyxkLGcpe2lmKCFkLmNoYXJhY3RlckNvbmRpdGlvbmFscy51bHRCdWZmKXJldHVybjtjb25zdCBfPWcuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxFPUNbci5DRF0tQy5SQVRJT19CQVNFRF9DRF9CVUZGLFQ9bCpFK20sTD1sKl8rbTtnLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09Q1tyLkNEXTtjb25zdCBQPVQtKF8/TDowKTtDLlJBVElPX0JBU0VEX0NEX0JVRkYrPVAsVihDLGQsZyxyLkNELFApfSxncHU6ZnVuY3Rpb24oQyxkKXtjb25zdCBnPUMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBGKHRoaXMsYAppZiAoJHtvdChnLnVsdEJ1ZmYpfSkgewogIHJldHVybjsKfQoKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuQnJvbnlhQ2RDb25kaXRpb25hbDsKbGV0IGNvbnZlcnRpYmxlQ2RWYWx1ZTogZjMyID0gKCpwX3gpLkNEIC0gKCpwX3gpLlJBVElPX0JBU0VEX0NEX0JVRkY7Cgp2YXIgYnVmZkNEOiBmMzIgPSAke2x9ICogY29udmVydGlibGVDZFZhbHVlICsgJHttfTsKdmFyIHN0YXRlQnVmZkNEOiBmMzIgPSAke2x9ICogc3RhdGVWYWx1ZSArICR7bX07CgooKnBfc3RhdGUpLkJyb255YUNkQ29uZGl0aW9uYWwgPSAoKnBfeCkuQ0Q7CgpsZXQgZmluYWxCdWZmQ2QgPSBidWZmQ0QgLSBzZWxlY3QoMCwgc3RhdGVCdWZmQ0QsIHN0YXRlVmFsdWUgPiAwKTsKKCpwX3gpLlJBVElPX0JBU0VEX0NEX0JVRkYgKz0gZmluYWxCdWZmQ2Q7CgpidWZmTm9uUmF0aW9EeW5hbWljQ0QoZmluYWxCdWZmQ2QsIHBfeCwgcF9zdGF0ZSk7CiAgICBgKX19XX19LFppPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuQ2xhcmEiKSx7YmFzaWM6bixza2lsbDpvLHVsdDppLHRhbGVudDphfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LHM9aShlLC4yNSwuMjcpLGw9aShlLDEuNiwxLjcyOCksbT1uKGUsMSwxLjEpLHA9byhlLDEuMiwxLjMyKSxTPWEoZSwxLjYsMS43NiksQj17MTpSKigxKjEvMSksMzpSKigyKjEvMSksNTpSKigyKjEvMSl9LGM9UiooMSoxLzEpLGY9W3tmb3JtSXRlbToic3dpdGNoIixpZDoidWx0QnVmZiIsbmFtZToidWx0QnVmZiIsdGV4dDp0KCJDb250ZW50LnVsdEJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudWx0QnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC51bHRCdWZmLmNvbnRlbnQiLHt1bHRGdWFFeHRyYVNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbCl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YWxlbnRFbmVteU1hcmtlZCIsbmFtZToidGFsZW50RW5lbXlNYXJrZWQiLHRleHQ6dCgiQ29udGVudC50YWxlbnRFbmVteU1hcmtlZC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC50YWxlbnRFbmVteU1hcmtlZC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC50YWxlbnRFbmVteU1hcmtlZC5jb250ZW50Iix7c2tpbGxTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKnApfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJVbHRBdGtCdWZmIixuYW1lOiJlMlVsdEF0a0J1ZmYiLHRleHQ6dCgiQ29udGVudC5lMlVsdEF0a0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTJVbHRBdGtCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmUyVWx0QXRrQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6ZTwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0RG1nUmVkdWN0aW9uQnVmZiIsbmFtZToiZTREbWdSZWR1Y3Rpb25CdWZmIix0ZXh0OnQoIkNvbnRlbnQuZTREbWdSZWR1Y3Rpb25CdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmU0RG1nUmVkdWN0aW9uQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNERtZ1JlZHVjdGlvbkJ1ZmYuY29udGVudCIpLGRpc2FibGVkOmU8NH1dO3JldHVybntjb250ZW50OigpPT5mLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7dWx0QnVmZjohMCx0YWxlbnRFbmVteU1hcmtlZDohMCxlMlVsdEF0a0J1ZmY6ITAsZTREbWdSZWR1Y3Rpb25CdWZmOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czoodSxDKT0+e2NvbnN0IGQ9Qy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIHVbci5BVEtfUF0rPWU+PTImJmQuZTJVbHRBdGtCdWZmPy4zOjAsdS5CQVNJQ19TQ0FMSU5HKz1tLHUuU0tJTExfU0NBTElORys9cCx1LlNLSUxMX1NDQUxJTkcrPWQudGFsZW50RW5lbXlNYXJrZWQ/cDowLHUuRlVBX1NDQUxJTkcrPVMsdS5GVUFfU0NBTElORys9ZC51bHRCdWZmP2w6MCx1LkRNR19SRURfTVVMVEkqPTEtLjEsdS5ETUdfUkVEX01VTFRJKj1kLnVsdEJ1ZmY/MS1zOjEsdS5ETUdfUkVEX01VTFRJKj1lPj00JiZkLmU0RG1nUmVkdWN0aW9uQnVmZj8xLS4zOjEseSh1LE0sLjMpLHUuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsdS5TS0lMTF9UT1VHSE5FU1NfRE1HKz0zMCx1LkZVQV9UT1VHSE5FU1NfRE1HKz0zMCx1fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoodSxDKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KHUsQyk9Pntjb25zdCBnPUMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLnVsdEJ1ZmY/QltDLmVuZW15Q291bnRdOmM7Wih1LEMsZyl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOnU9Pntjb25zdCBkPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLnVsdEJ1ZmY/Qlt1LmVuZW15Q291bnRdOmM7cmV0dXJuIHEoZCl9fX0scWk9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5EYW5IZW5nIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxzPWEoZSwuMzYsLjM5NiksbD1uKGUsMSwxLjEpLG09byhlLDIuNiwyLjg2KSxwPWkoZSw0LDQuMzIpLFM9aShlLDEuMiwxLjI5NiksQj1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YWxlbnRQZW5CdWZmIixuYW1lOiJ0YWxlbnRQZW5CdWZmIix0ZXh0OnQoIkNvbnRlbnQudGFsZW50UGVuQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC50YWxlbnRQZW5CdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRhbGVudFBlbkJ1ZmYuY29udGVudCIse2V4dHJhUGVuVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcyl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmVteVNsb3dlZCIsbmFtZToiZW5lbXlTbG93ZWQiLHRleHQ6dCgiQ29udGVudC5lbmVteVNsb3dlZC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lbmVteVNsb3dlZC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lbmVteVNsb3dlZC5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFFbmVteUhwNTAiLG5hbWU6ImUxRW5lbXlIcDUwIix0ZXh0OnQoIkNvbnRlbnQuZTFFbmVteUhwNTAudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTFFbmVteUhwNTAudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTFFbmVteUhwNTAuY29udGVudCIpLGRpc2FibGVkOmU8MX1dO3JldHVybntjb250ZW50OigpPT5CLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7dGFsZW50UGVuQnVmZjohMCxlbmVteVNsb3dlZDohMCxlMUVuZW15SHA1MDohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KGMsZik9Pntjb25zdCB1PWYuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBjW3IuQ1JdKz1lPj0xJiZ1LmUxRW5lbXlIcDUwPy4xMjowLGMuQkFTSUNfU0NBTElORys9bCxjLlNLSUxMX1NDQUxJTkcrPW0sYy5VTFRfU0NBTElORys9cCxjLlVMVF9TQ0FMSU5HKz11LmVuZW15U2xvd2VkP1M6MCxjLlJFU19QRU4rPXUudGFsZW50UGVuQnVmZj9zOjAseShjLFcsLjQsdS5lbmVteVNsb3dlZCksYy5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxjLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGMuVUxUX1RPVUdITkVTU19ETUcrPTkwLGN9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmM9PngoYyksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19O2NvbnN0IHRhPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuRHJSYXRpbyIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuVUxUX0JBU0lDXzNfU0tJTExfVEFMRU5UXzUscz01LGw9ZT49MT8xMDo2LG09bihlLDEsMS4xKSxwPW8oZSwxLjUsMS42NSksUz1pKGUsMi40LDIuNTkyKSxCPWEoZSwyLjcsMi45Nyk7ZnVuY3Rpb24gYyhnLGg9ITApe3JldHVybiBoP0IvKEIrLjIqZyk6LjIvKEIrLjIqZyl9Y29uc3QgZj1SKigxKjEvMSksdT17MDpSKigxKjEvMSksMTpSKigxKmMoMSwhMCkrMipjKDEsITEpKSwyOlIqKDEqYygyLCEwKSs1KmMoMiwhMSkpLDM6UiooMSpjKDMsITApKzkqYygzLCExKSksNDpSKigxKmMoNCwhMCkrMTQqYyg0LCExKSl9O2Z1bmN0aW9uIEMoZyl7Y29uc3QgaD1nLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZT49Mj91W01hdGgubWluKDQsaC5lbmVteURlYnVmZlN0YWNrcyldOmZ9Y29uc3QgZD1be2lkOiJzdW1tYXRpb25TdGFja3MiLG5hbWU6InN1bW1hdGlvblN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDp0KCJDb250ZW50LnN1bW1hdGlvblN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5zdW1tYXRpb25TdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc3VtbWF0aW9uU3RhY2tzLmNvbnRlbnQiLHtzdW1tYXRpb25TdGFja3NNYXg6bH0pLG1pbjowLG1heDpsfSx7aWQ6ImVuZW15RGVidWZmU3RhY2tzIixuYW1lOiJlbmVteURlYnVmZlN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDp0KCJDb250ZW50LmVuZW15RGVidWZmU3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmVuZW15RGVidWZmU3RhY2tzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmVuZW15RGVidWZmU3RhY2tzLmNvbnRlbnQiLHtGdWFTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKkIpfSksbWluOjAsbWF4OnN9XTtyZXR1cm57Y29udGVudDooKT0+ZCx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe2VuZW15RGVidWZmU3RhY2tzOnMsc3VtbWF0aW9uU3RhY2tzOmx9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihnLGgpPT57Y29uc3QgXz1oLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZ1tyLkNSXSs9Xy5zdW1tYXRpb25TdGFja3MqLjAyNSxnW3IuQ0RdKz1fLnN1bW1hdGlvblN0YWNrcyouMDUsZy5CQVNJQ19TQ0FMSU5HKz1tLGcuU0tJTExfU0NBTElORys9cCxnLlVMVF9TQ0FMSU5HKz1TLGcuRlVBX1NDQUxJTkcrPUIsZy5FTEVNRU5UQUxfRE1HKz1fLmVuZW15RGVidWZmU3RhY2tzPj0zP01hdGgubWluKC41LF8uZW5lbXlEZWJ1ZmZTdGFja3MqLjEpOjAseShnLE0sLjUsZT49NiksZy5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxnLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGcuVUxUX1RPVUdITkVTU19ETUcrPTkwLGcuRlVBX1RPVUdITkVTU19ETUcrPTMwLGd9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihnLGgpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooZyxoKT0+e1ooZyxoLEMoaCkpfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczpnPT5xKEMoZykpfX07dmFyIGVhPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuRnVYdWFuIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxzPW8oZSwuMTIsLjEzMiksbD1vKGUsLjA2LC4wNjYpLG09YShlLC4xOCwuMTk2KSxwPW4oZSwuNSwuNTUpLFM9byhlLDAsMCksQj1pKGUsMSwxLjA4KSxjPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhbGVudEFjdGl2ZSIsbmFtZToidGFsZW50QWN0aXZlIix0ZXh0OnQoIkNvbnRlbnQudGFsZW50QWN0aXZlLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRhbGVudEFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC50YWxlbnRBY3RpdmUuY29udGVudCIse3RhbGVudERtZ1JlZHVjdGlvblZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKm0pfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxBY3RpdmUiLG5hbWU6InNraWxsQWN0aXZlIix0ZXh0OnQoIkNvbnRlbnQuc2tpbGxBY3RpdmUudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuc2tpbGxBY3RpdmUudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc2tpbGxBY3RpdmUuY29udGVudCIse3NraWxsSHBCdWZmVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbCksc2tpbGxDckJ1ZmZWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpzKX0pfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImU2VGVhbUhwTG9zdFBlcmNlbnQiLG5hbWU6ImU2VGVhbUhwTG9zdFBlcmNlbnQiLHRleHQ6dCgiQ29udGVudC5lNlRlYW1IcExvc3RQZXJjZW50LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmU2VGVhbUhwTG9zdFBlcmNlbnQudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTZUZWFtSHBMb3N0UGVyY2VudC5jb250ZW50IiksbWluOjAsbWF4OjEuMixwZXJjZW50OiEwLGRpc2FibGVkOmU8Nn1dLGY9W0koYywidGFsZW50QWN0aXZlIiksSShjLCJza2lsbEFjdGl2ZSIpLHtmb3JtSXRlbToic2xpZGVyIixpZDoidGVhbW1hdGVIUFZhbHVlIixuYW1lOiJ0ZWFtbWF0ZUhQVmFsdWUiLHRleHQ6dCgiVGVhbW1hdGVDb250ZW50LnRlYW1tYXRlSFBWYWx1ZS50ZXh0IiksdGl0bGU6dCgiVGVhbW1hdGVDb250ZW50LnRlYW1tYXRlSFBWYWx1ZS50aXRsZSIpLGNvbnRlbnQ6dCgiVGVhbW1hdGVDb250ZW50LnRlYW1tYXRlSFBWYWx1ZS5jb250ZW50Iix7c2tpbGxIcEJ1ZmZWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpsKX0pLG1pbjowLG1heDoxZTR9XTtyZXR1cm57Y29udGVudDooKT0+Yyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmYsZGVmYXVsdHM6KCk9Pih7c2tpbGxBY3RpdmU6ITAsdGFsZW50QWN0aXZlOiEwLGU2VGVhbUhwTG9zdFBlcmNlbnQ6MS4yfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtza2lsbEFjdGl2ZTohMCx0YWxlbnRBY3RpdmU6ITAsdGVhbW1hdGVIUFZhbHVlOjhlM30pLHByZWNvbXB1dGVFZmZlY3RzOih1LEMpPT57Y29uc3QgZD1DLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gdS5CQVNJQ19TQ0FMSU5HKz1wLHUuU0tJTExfU0NBTElORys9Uyx1LlVMVF9TQ0FMSU5HKz1CKyhlPj02PzIqZC5lNlRlYW1IcExvc3RQZXJjZW50OjApLHUuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsdS5VTFRfVE9VR0hORVNTX0RNRys9NjAsdX0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHUsQyk9Pntjb25zdCBkPUMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3Vbci5DUl0rPWQuc2tpbGxBY3RpdmU/czowLHVbci5DRF0rPWU+PTEmJmQuc2tpbGxBY3RpdmU/LjM6MCx1LkRNR19SRURfTVVMVEkqPWQudGFsZW50QWN0aXZlPzEtbToxfSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOih1LEMpPT57Y29uc3QgZD1DLmNoYXJhY3RlckNvbmRpdGlvbmFsczt1W3IuSFBdKz1kLnNraWxsQWN0aXZlP2wqZC50ZWFtbWF0ZUhQVmFsdWU6MCx1LkRNR19SRURfTVVMVEkqPWQuc2tpbGxBY3RpdmU/MS0uNjU6MX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KHUsQyk9PntSZSh1KX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PkdlKCksZHluYW1pY0NvbmRpdGlvbmFsczpbe2lkOiJGdVh1YW5IcENvbmRpdGlvbmFsIix0eXBlOlUuQUJJTElUWSxhY3RpdmF0aW9uOk4uQ09OVElOVU9VUyxkZXBlbmRzT246W3IuSFBdLHJhdGlvQ29udmVyc2lvbjohMCxjb25kaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZWZmZWN0OmZ1bmN0aW9uKHUsQyxkKXtpZighQy5jaGFyYWN0ZXJDb25kaXRpb25hbHMuc2tpbGxBY3RpdmUpcmV0dXJuO2NvbnN0IGg9ZC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLF89dVtyLkhQXS11LlJBVElPX0JBU0VEX0hQX0JVRkYsRT1sKl8sVD1sKmg7ZC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPXVbci5IUF07Y29uc3QgTD1FLShoP1Q6MCk7dS5SQVRJT19CQVNFRF9IUF9CVUZGKz1MLFYodSxDLGQsci5IUCxMKX0sZ3B1OmZ1bmN0aW9uKHUsQyl7Y29uc3QgZD11LmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gRih0aGlzLGAKaWYgKCR7b3QoZC5za2lsbEFjdGl2ZSl9KSB7CiAgcmV0dXJuOwp9CgpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5GdVh1YW5IcENvbmRpdGlvbmFsOwpsZXQgY29udmVydGlibGVIcFZhbHVlOiBmMzIgPSAoKnBfeCkuSFAgLSAoKnBfeCkuUkFUSU9fQkFTRURfSFBfQlVGRjsKCnZhciBidWZmSFA6IGYzMiA9ICR7bH0gKiBjb252ZXJ0aWJsZUhwVmFsdWU7CnZhciBzdGF0ZUJ1ZmZIUDogZjMyID0gJHtsfSAqIHN0YXRlVmFsdWU7CgooKnBfc3RhdGUpLkZ1WHVhbkhwQ29uZGl0aW9uYWwgPSAoKnBfeCkuSFA7CgpsZXQgZmluYWxCdWZmSHAgPSBidWZmSFAgLSBzZWxlY3QoMCwgc3RhdGVCdWZmSFAsIHN0YXRlVmFsdWUgPiAwKTsKKCpwX3gpLlJBVElPX0JBU0VEX0hQX0JVRkYgKz0gZmluYWxCdWZmSHA7CgpidWZmTm9uUmF0aW9EeW5hbWljSFAoZmluYWxCdWZmSHAsIHBfeCwgcF9zdGF0ZSk7CiAgICBgKX19XX19LG5hPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuR2VwYXJkIikse2Jhc2ljOm4sc2tpbGw6b309Yi5VTFRfVEFMRU5UXzNfU0tJTExfQkFTSUNfNSxpPW4oZSwxLDEuMSksYT1vKGUsMiwyLjIpLHM9W3tmb3JtSXRlbToic3dpdGNoIixpZDoiZTRUZWFtUmVzQnVmZiIsbmFtZToiZTRUZWFtUmVzQnVmZiIsdGV4dDp0KCJDb250ZW50LmU0VGVhbVJlc0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTRUZWFtUmVzQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNFRlYW1SZXNCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDplPDR9XTtyZXR1cm57Y29udGVudDooKT0+cyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PnMsZGVmYXVsdHM6KCk9Pih7ZTRUZWFtUmVzQnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7ZTRUZWFtUmVzQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihsLG0pPT4obC5CQVNJQ19TQ0FMSU5HKz1pLGwuU0tJTExfU0NBTElORys9YSxsLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGwuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsbCkscHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGwsbSk9Pntjb25zdCBwPW0uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2xbci5SRVNdKz1lPj00JiZwLmU0VGVhbVJlc0J1ZmY/LjI6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6bD0+eChsKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpLGR5bmFtaWNDb25kaXRpb25hbHM6W3dpXX19LG9hPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuR3VpbmFpZmVuIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxzPWEoZSwuMDcsLjA3NiksbD1lPj02PzQ6MyxtPW4oZSwxLDEuMSkscD1vKGUsMS4yLDEuMzIpLFM9aShlLDEuMiwxLjI5NiksQj1vKGUsMi4xODIsMi40KSxjPVt7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InRhbGVudERlYnVmZlN0YWNrcyIsbmFtZToidGFsZW50RGVidWZmU3RhY2tzIix0ZXh0OnQoIkNvbnRlbnQudGFsZW50RGVidWZmU3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRhbGVudERlYnVmZlN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC50YWxlbnREZWJ1ZmZTdGFja3MuY29udGVudCIse3RhbGVudERlYnVmZkRtZ0luY3JlYXNlVmFsdWU6RC5wcmVjaXNpb25Sb3VuZChzKSx0YWxlbnREZWJ1ZmZNYXg6bH0pLG1pbjowLG1heDpsfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuZW15QnVybmVkIixuYW1lOiJlbmVteUJ1cm5lZCIsdGV4dDp0KCJDb250ZW50LmVuZW15QnVybmVkLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmVuZW15QnVybmVkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmVuZW15QnVybmVkLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJza2lsbERvdCIsbmFtZToic2tpbGxEb3QiLHRleHQ6dCgiQ29udGVudC5za2lsbERvdC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5za2lsbERvdC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5za2lsbERvdC5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFFZmZlY3RSZXNTaHJlZCIsbmFtZToiZTFFZmZlY3RSZXNTaHJlZCIsdGV4dDp0KCJDb250ZW50LmUxRWZmZWN0UmVzU2hyZWQudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTFFZmZlY3RSZXNTaHJlZC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMUVmZmVjdFJlc1NocmVkLmNvbnRlbnQiKSxkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJCdXJuTXVsdGlCb29zdCIsbmFtZToiZTJCdXJuTXVsdGlCb29zdCIsdGV4dDp0KCJDb250ZW50LmUyQnVybk11bHRpQm9vc3QudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTJCdXJuTXVsdGlCb29zdC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMkJ1cm5NdWx0aUJvb3N0LmNvbnRlbnQiKSxkaXNhYmxlZDplPDJ9XSxmPVtJKGMsInRhbGVudERlYnVmZlN0YWNrcyIpLEkoYywiZTFFZmZlY3RSZXNTaHJlZCIpXTtyZXR1cm57Y29udGVudDooKT0+Yyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmYsZGVmYXVsdHM6KCk9Pih7dGFsZW50RGVidWZmU3RhY2tzOmwsZW5lbXlCdXJuZWQ6ITAsc2tpbGxEb3Q6ITAsZTFFZmZlY3RSZXNTaHJlZDohMCxlMkJ1cm5NdWx0aUJvb3N0OiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0YWxlbnREZWJ1ZmZTdGFja3M6bCxlMUVmZmVjdFJlc1NocmVkOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHUsQyk9Pntjb25zdCBkPUMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiB1LkJBU0lDX1NDQUxJTkcrPW0sdS5TS0lMTF9TQ0FMSU5HKz1wLHUuVUxUX1NDQUxJTkcrPVMsdS5ET1RfU0NBTElORys9Qix1LkRPVF9TQ0FMSU5HKz1lPj0yJiZkLmUyQnVybk11bHRpQm9vc3Q/LjQ6MCx1LkVMRU1FTlRBTF9ETUcrPWQuZW5lbXlCdXJuZWQ/LjI6MCx1LkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLHUuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsdS5VTFRfVE9VR0hORVNTX0RNRys9NjAsdS5ET1RfQ0hBTkNFPWQuc2tpbGxEb3Q/MTouOCx1fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoodSxDKT0+e2NvbnN0IGQ9Qy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7dS5WVUxORVJBQklMSVRZKz1kLnRhbGVudERlYnVmZlN0YWNrcypzLHUuRUZGRUNUX1JFU19QRU4rPWQuZTFFZmZlY3RSZXNTaHJlZD8uMTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczp1PT54KHUpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxpYT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkhhbnlhIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxzPWkoZSwuMiwuMjEpLGw9aShlLC42LC42NDgpO2xldCBtPWEoZSwuMywuMzMpO20rPWU+PTY/LjE6MDtjb25zdCBwPW4oZSwxLDEuMSksUz1vKGUsMi40LDIuNjQpLEI9aShlLDAsMCksYz1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHRCdWZmIixuYW1lOiJ1bHRCdWZmIix0ZXh0OnQoIkNvbnRlbnQudWx0QnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC51bHRCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnVsdEJ1ZmYuY29udGVudCIse3VsdFNwZEJ1ZmZWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpzKSx1bHRBdGtCdWZmVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbCl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YXJnZXRCdXJkZW5BY3RpdmUiLG5hbWU6InRhcmdldEJ1cmRlbkFjdGl2ZSIsdGV4dDp0KCJDb250ZW50LnRhcmdldEJ1cmRlbkFjdGl2ZS50ZXh0IiksdGl0bGU6dCgiQ29udGVudC50YXJnZXRCdXJkZW5BY3RpdmUudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudGFyZ2V0QnVyZGVuQWN0aXZlLmNvbnRlbnQiLHt0YWxlbnREbWdCb29zdFZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKm0pfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiYnVyZGVuQXRrQnVmZiIsbmFtZToiYnVyZGVuQXRrQnVmZiIsdGV4dDp0KCJDb250ZW50LmJ1cmRlbkF0a0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuYnVyZGVuQXRrQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5idXJkZW5BdGtCdWZmLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMlNraWxsU3BkQnVmZiIsbmFtZToiZTJTa2lsbFNwZEJ1ZmYiLHRleHQ6dCgiQ29udGVudC5lMlNraWxsU3BkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMlNraWxsU3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMlNraWxsU3BkQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6ZTwyfV0sZj1bSShjLCJ1bHRCdWZmIikse2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0ZWFtbWF0ZVNQRFZhbHVlIixuYW1lOiJ0ZWFtbWF0ZVNQRFZhbHVlIix0ZXh0OnQoIlRlYW1tYXRlQ29udGVudC50ZWFtbWF0ZVNQRFZhbHVlLnRleHQiKSx0aXRsZTp0KCJUZWFtbWF0ZUNvbnRlbnQudGVhbW1hdGVTUERWYWx1ZS50aXRsZSIpLGNvbnRlbnQ6dCgiVGVhbW1hdGVDb250ZW50LnRlYW1tYXRlU1BEVmFsdWUuY29udGVudCIse3VsdFNwZEJ1ZmZWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpzKSx1bHRBdGtCdWZmVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbCl9KSxtaW46MCxtYXg6MjAwfSxJKGMsInRhcmdldEJ1cmRlbkFjdGl2ZSIpLEkoYywiYnVyZGVuQXRrQnVmZiIpXTtyZXR1cm57Y29udGVudDooKT0+Yyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmYsZGVmYXVsdHM6KCk9Pih7dWx0QnVmZjohMCx0YXJnZXRCdXJkZW5BY3RpdmU6ITAsYnVyZGVuQXRrQnVmZjohMCxlMlNraWxsU3BkQnVmZjohMX0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dWx0QnVmZjohMCx0YXJnZXRCdXJkZW5BY3RpdmU6ITAsYnVyZGVuQXRrQnVmZjohMCx0ZWFtbWF0ZVNQRFZhbHVlOjE2MH0pLHByZWNvbXB1dGVFZmZlY3RzOih1LEMpPT57Y29uc3QgZD1DLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gdS5CQVNJQ19TQ0FMSU5HKz1wLHUuU0tJTExfU0NBTElORys9Uyx1LlVMVF9TQ0FMSU5HKz1CLHVbci5TUERfUF0rPWU+PTImJmQuZTJTa2lsbFNwZEJ1ZmY/LjI6MCx1LkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLHUuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsdX0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHUsQyk9Pntjb25zdCBkPUMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3Vbci5BVEtfUF0rPWQudWx0QnVmZj9sOjAsdVtyLkFUS19QXSs9ZC5idXJkZW5BdGtCdWZmPy4xOjAsdS5FTEVNRU5UQUxfRE1HKz1kLnRhcmdldEJ1cmRlbkFjdGl2ZT9tOjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KHUsQyk9Pntjb25zdCBkPUMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3Vbci5TUERdKz1kLnVsdEJ1ZmY/cypkLnRlYW1tYXRlU1BEVmFsdWU6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6dT0+eCh1KSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpLGR5bmFtaWNDb25kaXRpb25hbHM6W3tpZDoiSGFueWFTcGRDb25kaXRpb25hbCIsdHlwZTpVLkFCSUxJVFksYWN0aXZhdGlvbjpOLkNPTlRJTlVPVVMsZGVwZW5kc09uOltyLlNQRF0scmF0aW9Db252ZXJzaW9uOiEwLGNvbmRpdGlvbjpmdW5jdGlvbigpe3JldHVybiEwfSxlZmZlY3Q6ZnVuY3Rpb24odSxDLGQpe2lmKCFDLmNoYXJhY3RlckNvbmRpdGlvbmFscy51bHRCdWZmKXJldHVybjtjb25zdCBoPWQuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxfPXVbci5TUERdLXUuUkFUSU9fQkFTRURfU1BEX0JVRkYsRT1zKl8sVD1zKmg7ZC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPXVbci5TUERdO2NvbnN0IEw9RS0oaD9UOjApO3UuUkFUSU9fQkFTRURfU1BEX0JVRkYrPUwsVih1LEMsZCxyLlNQRCxMKX0sZ3B1OmZ1bmN0aW9uKHUsQyl7Y29uc3QgZD11LmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gRih0aGlzLGAKaWYgKCR7b3QoZC51bHRCdWZmKX0pIHsKICByZXR1cm47Cn0KCmxldCBzdGF0ZVZhbHVlOiBmMzIgPSAoKnBfc3RhdGUpLkhhbnlhU3BkQ29uZGl0aW9uYWw7CmxldCBjb252ZXJ0aWJsZVNwZFZhbHVlOiBmMzIgPSAoKnBfeCkuU1BEIC0gKCpwX3gpLlJBVElPX0JBU0VEX1NQRF9CVUZGOwoKdmFyIGJ1ZmZTUEQ6IGYzMiA9ICR7c30gKiBjb252ZXJ0aWJsZVNwZFZhbHVlOwp2YXIgc3RhdGVCdWZmU1BEOiBmMzIgPSAke3N9ICogc3RhdGVWYWx1ZTsKCigqcF9zdGF0ZSkuSGFueWFTcGRDb25kaXRpb25hbCA9ICgqcF94KS5TUEQ7CgpsZXQgZmluYWxCdWZmU3BkID0gYnVmZlNQRCAtIHNlbGVjdCgwLCBzdGF0ZUJ1ZmZTUEQsIHN0YXRlVmFsdWUgPiAwKTsKKCpwX3gpLlJBVElPX0JBU0VEX1NQRF9CVUZGICs9IGZpbmFsQnVmZlNwZDsKCmJ1ZmZOb25SYXRpb0R5bmFtaWNTUEQoZmluYWxCdWZmU3BkLCBwX3gsIHBfc3RhdGUpOwogICAgYCl9fV19fSxhYT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkhlcnRhIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxzPW4oZSwxLDEuMSksbD1vKGUsMSwxLjEpLG09aShlLDIsMi4xNikscD1hKGUsLjQsLjQzKTtmdW5jdGlvbiBTKGYsdSl7Y29uc3QgQz0xL2Y7aWYodS5lbmVteUNvdW50PT0xKXtsZXQgZD0xLGc9MDtmb3IobGV0IGg9MDtoPGY7aCsrKWcrPUMqZCxkPU1hdGgubWluKDgsZCsxKTtyZXR1cm4gZ31pZih1LmVuZW15Q291bnQ9PTMpe2xldCBkPTIsZz0wO2ZvcihsZXQgaD0wO2g8ZjtoKyspZys9QypkLGQ9TWF0aC5taW4oOCxkKzMpO3JldHVybiBnfWlmKHUuZW5lbXlDb3VudD09NSl7bGV0IGQ9MyxnPTA7Zm9yKGxldCBoPTA7aDxmO2grKylnKz1DKmQsZD1NYXRoLm1pbig4LGQrNSk7cmV0dXJuIGd9cmV0dXJuIDF9ZnVuY3Rpb24gQihmKXtjb25zdCB1PWYuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLEM9Uyh1LmZ1YVN0YWNrcyxmKTtyZXR1cm57MTpSKkMsMzpSKkMsNTpSKkN9W2YuZW5lbXlDb3VudF19Y29uc3QgYz1be2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJmdWFTdGFja3MiLG5hbWU6ImZ1YVN0YWNrcyIsdGV4dDp0KCJDb250ZW50LmZ1YVN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5mdWFTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZnVhU3RhY2tzLmNvbnRlbnQiKSxtaW46MSxtYXg6NX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YXJnZXRGcm96ZW4iLG5hbWU6InRhcmdldEZyb3plbiIsdGV4dDp0KCJDb250ZW50LnRhcmdldEZyb3plbi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC50YXJnZXRGcm96ZW4udGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudGFyZ2V0RnJvemVuLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmVteUhwR3RlNTAiLG5hbWU6ImVuZW15SHBHdGU1MCIsdGV4dDp0KCJDb250ZW50LmVuZW15SHBHdGU1MC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lbmVteUhwR3RlNTAudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZW5lbXlIcEd0ZTUwLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0ZWNobmlxdWVCdWZmIixuYW1lOiJ0ZWNobmlxdWVCdWZmIix0ZXh0OnQoIkNvbnRlbnQudGVjaG5pcXVlQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC50ZWNobmlxdWVCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRlY2huaXF1ZUJ1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuZW15SHBMdGU1MCIsbmFtZToiZW5lbXlIcEx0ZTUwIix0ZXh0OnQoIkNvbnRlbnQuZW5lbXlIcEx0ZTUwLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmVuZW15SHBMdGU1MC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lbmVteUhwTHRlNTAuY29udGVudCIpLGRpc2FibGVkOmU8MX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJlMlRhbGVudENyaXRTdGFja3MiLG5hbWU6ImUyVGFsZW50Q3JpdFN0YWNrcyIsdGV4dDp0KCJDb250ZW50LmUyVGFsZW50Q3JpdFN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMlRhbGVudENyaXRTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTJUYWxlbnRDcml0U3RhY2tzLmNvbnRlbnQiKSxtaW46MCxtYXg6NSxkaXNhYmxlZDplPDJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZVbHRBdGtCdWZmIixuYW1lOiJlNlVsdEF0a0J1ZmYiLHRleHQ6dCgiQ29udGVudC5lNlVsdEF0a0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTZVbHRBdGtCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmU2VWx0QXRrQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6ZTw2fV07cmV0dXJue2NvbnRlbnQ6KCk9PmMsdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHtmdWFTdGFja3M6NSx0ZWNobmlxdWVCdWZmOiExLHRhcmdldEZyb3plbjohMCxlMlRhbGVudENyaXRTdGFja3M6NSxlNlVsdEF0a0J1ZmY6ITAsZW5lbXlIcEd0ZTUwOiEwLGVuZW15SHBMdGU1MDohMX0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KGYsdSk9Pntjb25zdCBDPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBmW3IuQVRLX1BdKz1DLnRlY2huaXF1ZUJ1ZmY/LjQ6MCxmW3IuQ1JdKz1lPj0yP0MuZTJUYWxlbnRDcml0U3RhY2tzKi4wMzowLGZbci5BVEtfUF0rPWU+PTYmJkMuZTZVbHRBdGtCdWZmPy4yNTowLGYuQkFTSUNfU0NBTElORys9cyxmLkJBU0lDX1NDQUxJTkcrPWU+PTEmJkMuZW5lbXlIcEx0ZTUwPy40OjAsZi5TS0lMTF9TQ0FMSU5HKz1sLGYuVUxUX1NDQUxJTkcrPW0sZi5GVUFfU0NBTElORys9cCpDLmZ1YVN0YWNrcyx5KGYseiwuMixDLmVuZW15SHBHdGU1MCkseShmLE8sLjIsQy50YXJnZXRGcm96ZW4pLHkoZixNLC4xLGU+PTQpLGYuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsZi5TS0lMTF9UT1VHSE5FU1NfRE1HKz0zMCxmLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxmLkZVQV9UT1VHSE5FU1NfRE1HKz0xNSxmfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooZix1KT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KGYsdSk9PntaKGYsdSxCKHUpKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6Zj0+cShCKGYpKX19LHNhPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuSGltZWtvIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxzPW4oZSwxLDEuMSksbD1vKGUsMiwyLjIpLG09aShlLDIuMywyLjQ4NCkscD1hKGUsMS40LDEuNTQpLFM9LjMsQj17MTpSKigxKi4yKzIqLjIrMyouMis0Ki40KSwzOlIqKDIqLjIrNSouMis4Ki4yKzgqLjQpLDU6UiooMyouMis4Ki4yKzgqLjIrOCouNCl9LGM9W3tmb3JtSXRlbToic3dpdGNoIixpZDoidGFyZ2V0QnVybmVkIixuYW1lOiJ0YXJnZXRCdXJuZWQiLHRleHQ6dCgiQ29udGVudC50YXJnZXRCdXJuZWQudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudGFyZ2V0QnVybmVkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRhcmdldEJ1cm5lZC5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic2VsZkN1cnJlbnRIcDgwUGVyY2VudCIsbmFtZToic2VsZkN1cnJlbnRIcDgwUGVyY2VudCIsdGV4dDp0KCJDb250ZW50LnNlbGZDdXJyZW50SHA4MFBlcmNlbnQudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuc2VsZkN1cnJlbnRIcDgwUGVyY2VudC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5zZWxmQ3VycmVudEhwODBQZXJjZW50LmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMVRhbGVudFNwZEJ1ZmYiLG5hbWU6ImUxVGFsZW50U3BkQnVmZiIsdGV4dDp0KCJDb250ZW50LmUxVGFsZW50U3BkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMVRhbGVudFNwZEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTFUYWxlbnRTcGRCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJFbmVteUhwNTBEbWdCb29zdCIsbmFtZToiZTJFbmVteUhwNTBEbWdCb29zdCIsdGV4dDp0KCJDb250ZW50LmUyRW5lbXlIcDUwRG1nQm9vc3QudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTJFbmVteUhwNTBEbWdCb29zdC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMkVuZW15SHA1MERtZ0Jvb3N0LmNvbnRlbnQiKSxkaXNhYmxlZDplPDJ9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiZTZVbHRFeHRyYUhpdHMiLG5hbWU6ImU2VWx0RXh0cmFIaXRzIix0ZXh0OnQoIkNvbnRlbnQuZTZVbHRFeHRyYUhpdHMudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTZVbHRFeHRyYUhpdHMudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTZVbHRFeHRyYUhpdHMuY29udGVudCIpLG1pbjowLG1heDoyLGRpc2FibGVkOmU8Nn1dO3JldHVybntjb250ZW50OigpPT5jLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7dGFyZ2V0QnVybmVkOiEwLHNlbGZDdXJyZW50SHA4MFBlcmNlbnQ6ITAsZTFUYWxlbnRTcGRCdWZmOiExLGU2VWx0RXh0cmFIaXRzOjJ9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihmLHUpPT57Y29uc3QgQz11LmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZltyLkNSXSs9Qy5zZWxmQ3VycmVudEhwODBQZXJjZW50Py4xNTowLGZbci5TUERfUF0rPWU+PTEmJkMuZTFUYWxlbnRTcGRCdWZmPy4yOjAsZi5CQVNJQ19TQ0FMSU5HKz1zLGYuU0tJTExfU0NBTElORys9bCxmLlVMVF9TQ0FMSU5HKz1tLGYuVUxUX1NDQUxJTkcrPWU+PTY/Qy5lNlVsdEV4dHJhSGl0cyptKi40OjAsZi5GVUFfU0NBTElORys9cCxmLkRPVF9TQ0FMSU5HKz1TLHkoZix6LC4yLEMudGFyZ2V0QnVybmVkKSxmLkVMRU1FTlRBTF9ETUcrPWU+PTImJkMuZTJFbmVteUhwNTBEbWdCb29zdD8uMTU6MCxmLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGYuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsZi5VTFRfVE9VR0hORVNTX0RNRys9NjAsZi5GVUFfVE9VR0hORVNTX0RNRys9MzAsZi5ET1RfQ0hBTkNFPS41LGZ9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihmLHUpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooZix1KT0+e1ooZix1LEJbdS5lbmVteUNvdW50XSl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOmY9PnEoQltmLmVuZW15Q291bnRdKX19LHJhPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuSG9vayIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUscz1hKGUsMSwxLjEpLGw9bihlLDEsMS4xKSxtPW8oZSwyLjQsMi42NCkscD1vKGUsMi44LDMuMDgpLFM9aShlLDQsNC4zMiksQj1vKGUsLjY1LC43MTUpLGM9W3tmb3JtSXRlbToic3dpdGNoIixpZDoiZW5oYW5jZWRTa2lsbCIsbmFtZToiZW5oYW5jZWRTa2lsbCIsdGV4dDp0KCJDb250ZW50LmVuaGFuY2VkU2tpbGwudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZW5oYW5jZWRTa2lsbC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lbmhhbmNlZFNraWxsLmNvbnRlbnQiLHtza2lsbEVuaGFuY2VkU2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpwKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhcmdldEJ1cm5lZCIsbmFtZToidGFyZ2V0QnVybmVkIix0ZXh0OnQoIkNvbnRlbnQudGFyZ2V0QnVybmVkLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRhcmdldEJ1cm5lZC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC50YXJnZXRCdXJuZWQuY29udGVudCIse3RhcmdldEJ1cm5lZEV4dHJhU2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpzKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9PmMsdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHtlbmhhbmNlZFNraWxsOiEwLHRhcmdldEJ1cm5lZDohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KGYsdSk9Pntjb25zdCBDPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBmLkJBU0lDX1NDQUxJTkcrPWwsZi5TS0lMTF9TQ0FMSU5HKz1DLmVuaGFuY2VkU2tpbGw/cDptLGYuVUxUX1NDQUxJTkcrPVMsZi5CQVNJQ19TQ0FMSU5HKz1DLnRhcmdldEJ1cm5lZD9zOjAsZi5TS0lMTF9TQ0FMSU5HKz1DLnRhcmdldEJ1cm5lZD9zOjAsZi5VTFRfU0NBTElORys9Qy50YXJnZXRCdXJuZWQ/czowLGYuRE9UX1NDQUxJTkcrPUIseShmLHosLjIsZT49MSYmQy5lbmhhbmNlZFNraWxsKSxmLkVMRU1FTlRBTF9ETUcrPWU+PTYmJkMudGFyZ2V0QnVybmVkPy4yOjAsZi5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxmLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGYuVUxUX1RPVUdITkVTU19ETUcrPTkwLGYuRE9UX0NIQU5DRT0xLGZ9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmY9PngoZiksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LGxhPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuSHVvaHVvIikse2Jhc2ljOm4sdWx0Om99PWIuVUxUX1RBTEVOVF8zX1NLSUxMX0JBU0lDXzUsaT1vKGUsLjQsLjQzMiksYT1uKGUsLjUsLjU1KSxzPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdEJ1ZmYiLG5hbWU6InVsdEJ1ZmYiLHRleHQ6dCgiQ29udGVudC51bHRCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnVsdEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudWx0QnVmZi5jb250ZW50Iix7dWx0QnVmZlZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKmkpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxCdWZmIixuYW1lOiJza2lsbEJ1ZmYiLHRleHQ6dCgiQ29udGVudC5za2lsbEJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuc2tpbGxCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnNraWxsQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6ZTwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2RG1nQnVmZiIsbmFtZToiZTZEbWdCdWZmIix0ZXh0OnQoIkNvbnRlbnQuZTZEbWdCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmU2RG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNkRtZ0J1ZmYuY29udGVudCIpLGRpc2FibGVkOmU8Nn1dLGw9W0kocywidWx0QnVmZiIpLEkocywic2tpbGxCdWZmIiksSShzLCJlNkRtZ0J1ZmYiKV07cmV0dXJue2NvbnRlbnQ6KCk9PnMsdGVhbW1hdGVDb250ZW50OigpPT5sLGRlZmF1bHRzOigpPT4oe3VsdEJ1ZmY6ITAsc2tpbGxCdWZmOiEwLGU2RG1nQnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dWx0QnVmZjohMCxza2lsbEJ1ZmY6ITAsZTZEbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KG0scCk9PihtLkJBU0lDX1NDQUxJTkcrPWEsbS5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxtKSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoobSxwKT0+e2NvbnN0IFM9cC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7bVtyLkFUS19QXSs9Uy51bHRCdWZmP2k6MCxtW3IuU1BEX1BdKz1lPj0xJiZTLnNraWxsQnVmZj8uMTI6MCxtLkVMRU1FTlRBTF9ETUcrPWU+PTYmJlMuZTZEbWdCdWZmPy41OjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihtLHApPT57UmUobSl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5HZSgpfX0sY2E9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5JbWJpYml0b3JMdW5hZSIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUscz1lPj0xPzEwOjYsbD1vKGUsLjEyLC4xMzIpLG09YShlLC4xLC4xMSkscD1uKGUsMSwxLjEpLFM9bihlLDIuNiwyLjg2KSxCPW4oZSwzLjgsNC4xOCksYz1uKGUsNSw1LjUpLGY9byhlLDAsMCksdT1pKGUsMywzLjI0KSxDPVt7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImJhc2ljRW5oYW5jZWQiLG5hbWU6ImJhc2ljRW5oYW5jZWQiLHRleHQ6dCgiQ29udGVudC5iYXNpY0VuaGFuY2VkLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmJhc2ljRW5oYW5jZWQudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuYmFzaWNFbmhhbmNlZC5jb250ZW50Iix7YmFzaWNTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKnApLGJhc2ljRW5oYW5jZWQxU2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpTKSxiYXNpY0VuaGFuY2VkMlNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqQiksYmFzaWNFbmhhbmNlZDNTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKmMpfSksbWluOjAsbWF4OjN9LHtmb3JtSXRlbToic2xpZGVyIixpZDoic2tpbGxPdXRyb2FyU3RhY2tzIixuYW1lOiJza2lsbE91dHJvYXJTdGFja3MiLHRleHQ6dCgiQ29udGVudC5za2lsbE91dHJvYXJTdGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuc2tpbGxPdXRyb2FyU3RhY2tzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnNraWxsT3V0cm9hclN0YWNrcy5jb250ZW50Iix7b3V0cm9hclN0YWNrQ2RWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpsKX0pLG1pbjowLG1heDo0fSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InRhbGVudFJpZ2h0ZW91c0hlYXJ0U3RhY2tzIixuYW1lOiJ0YWxlbnRSaWdodGVvdXNIZWFydFN0YWNrcyIsdGV4dDp0KCJDb250ZW50LnRhbGVudFJpZ2h0ZW91c0hlYXJ0U3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRhbGVudFJpZ2h0ZW91c0hlYXJ0U3RhY2tzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRhbGVudFJpZ2h0ZW91c0hlYXJ0U3RhY2tzLmNvbnRlbnQiLHtyaWdodGVvdXNIZWFydERtZ1ZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKm0pfSksbWluOjAsbWF4OnN9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiZTZSZXNQZW5TdGFja3MiLG5hbWU6ImU2UmVzUGVuU3RhY2tzIix0ZXh0OnQoIkNvbnRlbnQuZTZSZXNQZW5TdGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTZSZXNQZW5TdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTZSZXNQZW5TdGFja3MuY29udGVudCIpLG1pbjowLG1heDozLGRpc2FibGVkOmU8Nn1dO3JldHVybntjb250ZW50OigpPT5DLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7YmFzaWNFbmhhbmNlZDozLHNraWxsT3V0cm9hclN0YWNrczo0LHRhbGVudFJpZ2h0ZW91c0hlYXJ0U3RhY2tzOnMsZTZSZXNQZW5TdGFja3M6M30pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KGQsZyk9Pntjb25zdCBoPWcuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBkW3IuQ0RdKz1nLmVuZW15RWxlbWVudGFsV2Vhaz8uMjQ6MCxkW3IuQ0RdKz1oLnNraWxsT3V0cm9hclN0YWNrcypsLGQuQkFTSUNfU0NBTElORys9ezA6cCwxOlMsMjpCLDM6Y31baC5iYXNpY0VuaGFuY2VkXT8/MCxkLlNLSUxMX1NDQUxJTkcrPWYsZC5VTFRfU0NBTElORys9dSxkLkVMRU1FTlRBTF9ETUcrPWgudGFsZW50UmlnaHRlb3VzSGVhcnRTdGFja3MqbSxJdChkLFcsLjIqaC5lNlJlc1BlblN0YWNrcyxlPj02JiZoLmJhc2ljRW5oYW5jZWQ9PTMpLGQuQkFTSUNfVE9VR0hORVNTX0RNRys9MzArMzAqaC5iYXNpY0VuaGFuY2VkLGQuVUxUX1RPVUdITkVTU19ETUcrPTYwLGR9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihkLGcpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpkPT54KGQpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSx1YT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkppbmdsaXUiKSx7YmFzaWM6bixza2lsbDpvLHVsdDppLHRhbGVudDphfT1iLlVMVF9UQUxFTlRfM19TS0lMTF9CQVNJQ181LHM9YShlLC41LC41Mik7bGV0IGw9YShlLDEuOCwxLjk4KTtsKz1lPj00Py4zOjA7Y29uc3QgbT1uKGUsMSwxLjEpLHA9byhlLDIsMi4yKSxTPW8oZSwyLjUsMi43NSksQj1pKGUsMywzLjI0KSxjPVt7bmFtZToidGFsZW50RW5oYW5jZWRTdGF0ZSIsaWQ6InRhbGVudEVuaGFuY2VkU3RhdGUiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC50YWxlbnRFbmhhbmNlZFN0YXRlLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRhbGVudEVuaGFuY2VkU3RhdGUudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudGFsZW50RW5oYW5jZWRTdGF0ZS5jb250ZW50Iix7dGFsZW50Q3JCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKnMpfSl9LHtuYW1lOiJ0YWxlbnRIcERyYWluQXRrQnVmZiIsaWQ6InRhbGVudEhwRHJhaW5BdGtCdWZmIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OnQoIkNvbnRlbnQudGFsZW50SHBEcmFpbkF0a0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudGFsZW50SHBEcmFpbkF0a0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudGFsZW50SHBEcmFpbkF0a0J1ZmYuY29udGVudCIse3RhbGVudEhwRHJhaW5BdGtCdWZmTWF4OkQucHJlY2lzaW9uUm91bmQoMTAwKmwpfSksbWluOjAsbWF4OmwscGVyY2VudDohMH0se2lkOiJlMUNkQnVmZiIsbmFtZToiZTFDZEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5lMUNkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMUNkQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMUNkQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6ZTwxfSx7aWQ6ImUyU2tpbGxEbWdCdWZmIixuYW1lOiJlMlNraWxsRG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmUyU2tpbGxEbWdCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmUyU2tpbGxEbWdCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmUyU2tpbGxEbWdCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDplPDJ9XTtyZXR1cm57Y29udGVudDooKT0+Yyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe3RhbGVudEVuaGFuY2VkU3RhdGU6ITAsdGFsZW50SHBEcmFpbkF0a0J1ZmY6bCxlMUNkQnVmZjohMCxlMlNraWxsRG1nQnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KGYsdSk9Pntjb25zdCBDPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBmW3IuQ1JdKz1DLnRhbGVudEVuaGFuY2VkU3RhdGU/czowLGZbci5BVEtfUF0rPUMudGFsZW50RW5oYW5jZWRTdGF0ZT9DLnRhbGVudEhwRHJhaW5BdGtCdWZmOjAsZltyLlJFU10rPUMudGFsZW50RW5oYW5jZWRTdGF0ZT8uMzU6MCx5KGYsTywuMixDLnRhbGVudEVuaGFuY2VkU3RhdGUpLGZbci5DRF0rPWU+PTEmJkMuZTFDZEJ1ZmY/LjI0OjAsZltyLkNEXSs9ZT49NiYmQy50YWxlbnRFbmhhbmNlZFN0YXRlPy41OjAsZi5CQVNJQ19TQ0FMSU5HKz1tLGYuU0tJTExfU0NBTElORys9Qy50YWxlbnRFbmhhbmNlZFN0YXRlP1M6cCxmLlNLSUxMX1NDQUxJTkcrPWU+PTEmJkMudGFsZW50RW5oYW5jZWRTdGF0ZSYmdS5lbmVteUNvdW50PT0xPzE6MCxmLlVMVF9TQ0FMSU5HKz1CLGYuVUxUX1NDQUxJTkcrPWU+PTEmJnUuZW5lbXlDb3VudD09MT8xOjAsZi5GVUFfU0NBTElORys9MCx5KGYseiwuOCxlPj0yJiZDLnRhbGVudEVuaGFuY2VkU3RhdGUmJkMuZTJTa2lsbERtZ0J1ZmYpLGYuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsZi5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxmLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxmfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooZix1KT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6Zj0+eChmKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpfX0sZmE9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5KaW5nWXVhbiIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuVUxUX0JBU0lDXzNfU0tJTExfVEFMRU5UXzUscz1uKGUsMSwxLjEpLGw9byhlLDEsMS4xKSxtPWkoZSwyLDIuMTYpLHA9YShlLC42NiwuNzI2KTtmdW5jdGlvbiBTKGMpe2NvbnN0IGY9Yy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7bGV0IHU9MDtjb25zdCBDPWYudGFsZW50SGl0c1BlckFjdGlvbixkPWYudGFsZW50QXR0YWNrcyxnPWMuZW5lbXlDb3VudD49Mz8yOjAsaD1jLmVuZW15Q291bnQ+PTM/MzoxLF89Yy5lbmVteUNvdW50Pj0zPzI6MTtsZXQgRT1nKihDLWQpO0UrPV87bGV0IFQ9MDtmb3IobGV0IEw9MDtMPGQ7TCsrKVQrPU1hdGgubWluKDgsRSkqKDEvZCksRSs9aDtyZXR1cm4gdT1UKlIsdX1jb25zdCBCPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNraWxsQ3JpdEJ1ZmYiLG5hbWU6InNraWxsQ3JpdEJ1ZmYiLHRleHQ6dCgiQ29udGVudC5za2lsbENyaXRCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNraWxsQ3JpdEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc2tpbGxDcml0QnVmZi5jb250ZW50Iil9LHtmb3JtSXRlbToic2xpZGVyIixpZDoidGFsZW50SGl0c1BlckFjdGlvbiIsbmFtZToidGFsZW50SGl0c1BlckFjdGlvbiIsdGV4dDp0KCJDb250ZW50LnRhbGVudEhpdHNQZXJBY3Rpb24udGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudGFsZW50SGl0c1BlckFjdGlvbi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC50YWxlbnRIaXRzUGVyQWN0aW9uLmNvbnRlbnQiKSxtaW46MyxtYXg6MTB9LHtmb3JtSXRlbToic2xpZGVyIixpZDoidGFsZW50QXR0YWNrcyIsbmFtZToidGFsZW50QXR0YWNrcyIsdGV4dDp0KCJDb250ZW50LnRhbGVudEF0dGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudGFsZW50QXR0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC50YWxlbnRBdHRhY2tzLmNvbnRlbnQiKSxtaW46MCxtYXg6MTB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJEbWdCdWZmIixuYW1lOiJlMkRtZ0J1ZmYiLHRleHQ6dCgiQ29udGVudC5lMkRtZ0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTJEbWdCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmUyRG1nQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6ZTwyfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImU2RnVhVnVsbmVyYWJpbGl0eVN0YWNrcyIsbmFtZToiZTZGdWFWdWxuZXJhYmlsaXR5U3RhY2tzIix0ZXh0OnQoIkNvbnRlbnQuZTZGdWFWdWxuZXJhYmlsaXR5U3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmU2RnVhVnVsbmVyYWJpbGl0eVN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNkZ1YVZ1bG5lcmFiaWxpdHlTdGFja3MuY29udGVudCIpLG1pbjowLG1heDozLGRpc2FibGVkOmU8Nn1dO3JldHVybntjb250ZW50OigpPT5CLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7c2tpbGxDcml0QnVmZjohMCx0YWxlbnRIaXRzUGVyQWN0aW9uOjEwLHRhbGVudEF0dGFja3M6MTAsZTJEbWdCdWZmOiEwLGU2RnVhVnVsbmVyYWJpbGl0eVN0YWNrczozfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooYyxmKT0+e2NvbnN0IHU9Zi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7dS50YWxlbnRIaXRzUGVyQWN0aW9uPU1hdGgubWF4KHUudGFsZW50SGl0c1BlckFjdGlvbix1LnRhbGVudEF0dGFja3MpLGNbci5DUl0rPXUuc2tpbGxDcml0QnVmZj8uMTowLGMuQkFTSUNfU0NBTElORys9cyxjLlNLSUxMX1NDQUxJTkcrPWwsYy5VTFRfU0NBTElORys9bSxjLkZVQV9TQ0FMSU5HKz1wKnUudGFsZW50QXR0YWNrcyxmdChjLE0sLjI1LHUudGFsZW50SGl0c1BlckFjdGlvbj49NikseShjLFd8enxPLC4yLGU+PTImJnUuZTJEbWdCdWZmKSxpdChjLE0sdS5lNkZ1YVZ1bG5lcmFiaWxpdHlTdGFja3MqLjEyLGU+PTYpO2NvbnN0IEM9dS50YWxlbnRBdHRhY2tzO3JldHVybiBjLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGMuU0tJTExfVE9VR0hORVNTX0RNRys9MzAsYy5VTFRfVE9VR0hORVNTX0RNRys9NjAsYy5GVUFfVE9VR0hORVNTX0RNRys9MTUqQyxjfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooYyxmKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KGMsZik9PntaKGMsZixTKGYpKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6Yz0+cShTKGMpKX19LGRhPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuS2Fma2EiKSx7YmFzaWM6bixza2lsbDpvLHVsdDppLHRhbGVudDphfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LHM9bihlLDEsMS4xKSxsPW8oZSwxLjYsMS43NiksbT1pKGUsLjgsLjg2NCkscD1hKGUsMS40LDEuNTk2KSxTPWkoZSwyLjksMy4xODMpLEI9UiooMSouMTUrMiouMTUrMyouMTUrNCouMTUrNSouMTUrNiouMjUpLGM9W3tmb3JtSXRlbToic3dpdGNoIixpZDoiZTFEb3REbWdSZWNlaXZlZERlYnVmZiIsbmFtZToiZTFEb3REbWdSZWNlaXZlZERlYnVmZiIsdGV4dDp0KCJDb250ZW50LmUxRG90RG1nUmVjZWl2ZWREZWJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTFEb3REbWdSZWNlaXZlZERlYnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMURvdERtZ1JlY2VpdmVkRGVidWZmLmNvbnRlbnQiKSxkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJUZWFtRG90Qm9vc3QiLG5hbWU6ImUyVGVhbURvdEJvb3N0Iix0ZXh0OnQoIkNvbnRlbnQuZTJUZWFtRG90Qm9vc3QudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTJUZWFtRG90Qm9vc3QudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTJUZWFtRG90Qm9vc3QuY29udGVudCIpLGRpc2FibGVkOmU8Mn1dLGY9W0koYywiZTFEb3REbWdSZWNlaXZlZERlYnVmZiIpLEkoYywiZTJUZWFtRG90Qm9vc3QiKV07cmV0dXJue2NvbnRlbnQ6KCk9PmMsdGVhbW1hdGVDb250ZW50OigpPT5mLGRlZmF1bHRzOigpPT4oe2UxRG90RG1nUmVjZWl2ZWREZWJ1ZmY6ITAsZTJUZWFtRG90Qm9vc3Q6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2UxRG90RG1nUmVjZWl2ZWREZWJ1ZmY6ITAsZTJUZWFtRG90Qm9vc3Q6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoodSxDKT0+KHUuQkFTSUNfU0NBTElORys9cyx1LlNLSUxMX1NDQUxJTkcrPWwsdS5VTFRfU0NBTElORys9bSx1LkZVQV9TQ0FMSU5HKz1wLHUuRE9UX1NDQUxJTkcrPVMsdS5ET1RfU0NBTElORys9ZT49Nj8xLjU2OjAsdS5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCx1LlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLHUuVUxUX1RPVUdITkVTU19ETUcrPTYwLHUuRlVBX1RPVUdITkVTU19ETUcrPTMwLHUuRE9UX0NIQU5DRT0xLjMsdSkscHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHUsQyk9Pntjb25zdCBkPUMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2l0KHUsdXQsLjMsZT49MSYmZC5lMURvdERtZ1JlY2VpdmVkRGVidWZmKSx5KHUsdXQsLjI1LGU+PTImJmQuZTJUZWFtRG90Qm9vc3QpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczoodSxDKT0+e1oodSxDLEIpfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczp1PT5xKEIpfX0sbWE9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5MdWthIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aX09Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxhPW4oZSwuMiwuMjIpLHM9aShlLC4yLC4yMTYpLGw9bihlLDEsMS4xKSxtPW4oZSwuMiozKy44LC4yMiozKy44OCkscD1vKGUsMS4yLDEuMzIpLFM9aShlLDMuMywzLjU2NCksQj1vKGUsMy4zOCwzLjcxOCksYz1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJiYXNpY0VuaGFuY2VkIixuYW1lOiJiYXNpY0VuaGFuY2VkIix0ZXh0OnQoIkNvbnRlbnQuYmFzaWNFbmhhbmNlZC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5iYXNpY0VuaGFuY2VkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmJhc2ljRW5oYW5jZWQuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhcmdldFVsdERlYnVmZmVkIixuYW1lOiJ0YXJnZXRVbHREZWJ1ZmZlZCIsdGV4dDp0KCJDb250ZW50LnRhcmdldFVsdERlYnVmZmVkLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRhcmdldFVsdERlYnVmZmVkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRhcmdldFVsdERlYnVmZmVkLmNvbnRlbnQiLHt0YXJnZXRVbHREZWJ1ZmZEbWdUYWtlblZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKnMpfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiYmFzaWNFbmhhbmNlZEV4dHJhSGl0cyIsbmFtZToiYmFzaWNFbmhhbmNlZEV4dHJhSGl0cyIsdGV4dDp0KCJDb250ZW50LmJhc2ljRW5oYW5jZWRFeHRyYUhpdHMudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuYmFzaWNFbmhhbmNlZEV4dHJhSGl0cy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5iYXNpY0VuaGFuY2VkRXh0cmFIaXRzLmNvbnRlbnQiKSxtaW46MCxtYXg6M30se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMVRhcmdldEJsZWVkaW5nIixuYW1lOiJlMVRhcmdldEJsZWVkaW5nIix0ZXh0OnQoIkNvbnRlbnQuZTFUYXJnZXRCbGVlZGluZy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMVRhcmdldEJsZWVkaW5nLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmUxVGFyZ2V0QmxlZWRpbmcuY29udGVudCIpLGRpc2FibGVkOmU8MX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJlNFRhbGVudFN0YWNrcyIsbmFtZToiZTRUYWxlbnRTdGFja3MiLHRleHQ6dCgiQ29udGVudC5lNFRhbGVudFN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lNFRhbGVudFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNFRhbGVudFN0YWNrcy5jb250ZW50IiksbWluOjAsbWF4OjQsZGlzYWJsZWQ6ZTw0fV0sZj1bSShjLCJ0YXJnZXRVbHREZWJ1ZmZlZCIpXTtyZXR1cm57Y29udGVudDooKT0+Yyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmYsZGVmYXVsdHM6KCk9Pih7YmFzaWNFbmhhbmNlZDohMCx0YXJnZXRVbHREZWJ1ZmZlZDohMCxlMVRhcmdldEJsZWVkaW5nOiEwLGJhc2ljRW5oYW5jZWRFeHRyYUhpdHM6MyxlNFRhbGVudFN0YWNrczo0fSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0YXJnZXRVbHREZWJ1ZmZlZDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOih1LEMpPT57Y29uc3QgZD1DLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gdVtyLkFUS19QXSs9ZT49ND9kLmU0VGFsZW50U3RhY2tzKi4wNTowLHUuQkFTSUNfU0NBTElORys9ZC5iYXNpY0VuaGFuY2VkP206bCx1LkJBU0lDX1NDQUxJTkcrPShkLmJhc2ljRW5oYW5jZWQmJmQuYmFzaWNFbmhhbmNlZEV4dHJhSGl0cykqYSx1LlNLSUxMX1NDQUxJTkcrPXAsdS5VTFRfU0NBTElORys9Uyx1LkRPVF9TQ0FMSU5HKz1CLHUuRUxFTUVOVEFMX0RNRys9ZT49MSYmZC5lMVRhcmdldEJsZWVkaW5nPy4xNTowLHUuQkFTSUNfVE9VR0hORVNTX0RNRys9ZC5iYXNpY0VuaGFuY2VkPzYwOjMwLHUuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsdS5VTFRfVE9VR0hORVNTX0RNRys9OTAsdS5ET1RfQ0hBTkNFPTEsdX0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHUsQyk9Pntjb25zdCBkPUMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3UuVlVMTkVSQUJJTElUWSs9ZC50YXJnZXRVbHREZWJ1ZmZlZD9zOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOnU9PngodSksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LENhPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuTHVvY2hhIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aX09Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxhPW4oZSwxLDEuMSkscz1vKGUsMCwwKSxsPWkoZSwyLDIuMTYpLG09W3tmb3JtSXRlbToic3dpdGNoIixpZDoiZmllbGRBY3RpdmUiLG5hbWU6ImZpZWxkQWN0aXZlIix0ZXh0OnQoIkNvbnRlbnQuZmllbGRBY3RpdmUudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZmllbGRBY3RpdmUudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZmllbGRBY3RpdmUuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2UmVzUmVkdWN0aW9uIixuYW1lOiJlNlJlc1JlZHVjdGlvbiIsdGV4dDp0KCJDb250ZW50LmU2UmVzUmVkdWN0aW9uLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmU2UmVzUmVkdWN0aW9uLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmU2UmVzUmVkdWN0aW9uLmNvbnRlbnQiKSxkaXNhYmxlZDplPDZ9XSxwPVtJKG0sImZpZWxkQWN0aXZlIiksSShtLCJlNlJlc1JlZHVjdGlvbiIpXTtyZXR1cm57Y29udGVudDooKT0+bSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PnAsZGVmYXVsdHM6KCk9Pih7ZmllbGRBY3RpdmU6ITAsZTZSZXNSZWR1Y3Rpb246ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2ZpZWxkQWN0aXZlOiEwLGU2UmVzUmVkdWN0aW9uOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KFMsQik9PihTLkJBU0lDX1NDQUxJTkcrPWEsUy5TS0lMTF9TQ0FMSU5HKz1zLFMuVUxUX1NDQUxJTkcrPWwsUy5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxTLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxTKSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooUyxCKT0+e2NvbnN0IGM9Qi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7U1tyLkFUS19QXSs9ZT49MSYmYy5maWVsZEFjdGl2ZT8uMjowLFMuUkVTX1BFTis9ZT49NiYmYy5lNlJlc1JlZHVjdGlvbj8uMjowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpTPT54KFMpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxTYT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkx5bngiKSx7YmFzaWM6bixza2lsbDpvLHVsdDppfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LGE9byhlLC4wNzUsLjA4KSxzPW8oZSwyMDAsMjIzKSxsPW4oZSwuNSwuNTUpLG09byhlLDAsMCkscD1pKGUsMCwwKSxTPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNraWxsQnVmZiIsbmFtZToic2tpbGxCdWZmIix0ZXh0OnQoIkNvbnRlbnQuc2tpbGxCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNraWxsQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5za2lsbEJ1ZmYuY29udGVudCIse3NraWxsSHBQZXJjZW50QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCphKSxza2lsbEhwRmxhdEJ1ZmY6c30pfV0sQj1bSShTLCJza2lsbEJ1ZmYiKSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InRlYW1tYXRlSFBWYWx1ZSIsbmFtZToidGVhbW1hdGVIUFZhbHVlIix0ZXh0OnQoIlRlYW1tYXRlQ29udGVudC50ZWFtbWF0ZUhQVmFsdWUudGV4dCIpLHRpdGxlOnQoIlRlYW1tYXRlQ29udGVudC50ZWFtbWF0ZUhQVmFsdWUudGl0bGUiKSxjb250ZW50OnQoIlRlYW1tYXRlQ29udGVudC50ZWFtbWF0ZUhQVmFsdWUuY29udGVudCIse3NraWxsSHBQZXJjZW50QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCphKSxza2lsbEhwRmxhdEJ1ZmY6c30pLG1pbjowLG1heDoxZTR9XTtyZXR1cm57Y29udGVudDooKT0+Uyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PkIsZGVmYXVsdHM6KCk9Pih7c2tpbGxCdWZmOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtza2lsbEJ1ZmY6ITAsdGVhbW1hdGVIUFZhbHVlOjZlM30pLHByZWNvbXB1dGVFZmZlY3RzOihjLGYpPT4oYy5CQVNJQ19TQ0FMSU5HKz1sLGMuU0tJTExfU0NBTElORys9bSxjLlVMVF9TQ0FMSU5HKz1wLGMuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsYykscHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGMsZik9Pntjb25zdCB1PWYuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2Nbci5SRVNdKz1lPj02JiZ1LnNraWxsQnVmZj8uMzowfSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihjLGYpPT57Y29uc3QgdT1mLmNoYXJhY3RlckNvbmRpdGlvbmFscztjW3IuSFBdKz11LnNraWxsQnVmZj9hKnUudGVhbW1hdGVIUFZhbHVlOjAsY1tyLkhQXSs9ZT49NiYmdS5za2lsbEJ1ZmY/LjA2KnUudGVhbW1hdGVIUFZhbHVlOjAsY1tyLkhQXSs9dS5za2lsbEJ1ZmY/czowO2NvbnN0IEM9ZT49NCYmdS5za2lsbEJ1ZmY/LjAzKnUudGVhbW1hdGVIUFZhbHVlOjA7Y1tyLkFUS10rPUN9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihjLGYpPT57Yy5CQVNJQ19ETUcrPWMuQkFTSUNfU0NBTElORypjW3IuSFBdfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooYyxmKT0+KGMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLGAKeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogeC5IUDsKICAgICAgYCksZHluYW1pY0NvbmRpdGlvbmFsczpbe2lkOiJMeW54Q29udmVyc2lvbkNvbmRpdGlvbmFsIix0eXBlOlUuQUJJTElUWSxhY3RpdmF0aW9uOk4uQ09OVElOVU9VUyxkZXBlbmRzT246W3IuSFBdLHJhdGlvQ29udmVyc2lvbjohMCxjb25kaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZWZmZWN0OmZ1bmN0aW9uKGMsZix1KXtpZighZi5jaGFyYWN0ZXJDb25kaXRpb25hbHMuc2tpbGxCdWZmKXJldHVybjtjb25zdCBkPXUuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MDtsZXQgZz0wLGg9MCxfPTAsRT0wO2NvbnN0IFQ9Y1tyLkhQXS1jLlJBVElPX0JBU0VEX0hQX0JVRkY7Zys9YSpUK3MsXys9YSpkK3MsZT49NCYmKGgrPS4wMypULEUrPS4wMypkKSxlPj02JiYoZys9LjA2KlQsXys9LjA2KmQpLHUuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT1jW3IuSFBdO2NvbnN0IEw9Zy0oZD9fOjApLFA9aC0oZD9FOjApO2MuUkFUSU9fQkFTRURfSFBfQlVGRis9TCxWKGMsZix1LHIuSFAsTCksVihjLGYsdSxyLkFUSyxQKX0sZ3B1OmZ1bmN0aW9uKGMsZil7Y29uc3QgdT1jLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gRih0aGlzLGAKaWYgKCR7b3QodS5za2lsbEJ1ZmYpfSkgewogIHJldHVybjsKfQoKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuTHlueENvbnZlcnNpb25Db25kaXRpb25hbDsKbGV0IGNvbnZlcnRpYmxlSHBWYWx1ZTogZjMyID0gKCpwX3gpLkhQIC0gKCpwX3gpLlJBVElPX0JBU0VEX0hQX0JVRkY7Cgp2YXIgYnVmZkFUSzogZjMyID0gMDsKdmFyIHN0YXRlQnVmZkFUSzogZjMyID0gMDsKCnZhciBidWZmSFA6IGYzMiA9ICR7YX0gKiBjb252ZXJ0aWJsZUhwVmFsdWUgKyAke3N9Owp2YXIgc3RhdGVCdWZmSFA6IGYzMiA9ICR7YX0gKiBzdGF0ZVZhbHVlICsgJHtzfTsKCmlmICgke2ooZT49NCl9KSB7CiAgYnVmZkFUSyArPSAwLjAzICogY29udmVydGlibGVIcFZhbHVlOwogIHN0YXRlQnVmZkFUSyArPSAwLjAzICogc3RhdGVWYWx1ZTsKfQoKaWYgKCR7aihlPj02KX0pIHsKICBidWZmSFAgKz0gMC4wNiAqIGNvbnZlcnRpYmxlSHBWYWx1ZTsKICBzdGF0ZUJ1ZmZIUCArPSAwLjA2ICogc3RhdGVWYWx1ZTsKfQoKKCpwX3N0YXRlKS5MeW54Q29udmVyc2lvbkNvbmRpdGlvbmFsID0gKCpwX3gpLkhQOwoKbGV0IGZpbmFsQnVmZkhwID0gYnVmZkhQIC0gc2VsZWN0KDAsIHN0YXRlQnVmZkhQLCBzdGF0ZVZhbHVlID4gMCk7CmxldCBmaW5hbEJ1ZmZBdGsgPSBidWZmQVRLIC0gc2VsZWN0KDAsIHN0YXRlQnVmZkFUSywgc3RhdGVWYWx1ZSA+IDApOwooKnBfeCkuUkFUSU9fQkFTRURfSFBfQlVGRiArPSBmaW5hbEJ1ZmZIcDsKCmJ1ZmZOb25SYXRpb0R5bmFtaWNIUChmaW5hbEJ1ZmZIcCwgcF94LCBwX3N0YXRlKTsKYnVmZkR5bmFtaWNBVEsoZmluYWxCdWZmQXRrLCBwX3gsIHBfc3RhdGUpOwogICAgYCl9fV19fSxnYT1lPT57Y29uc3R7YmFzaWM6dCxza2lsbDpuLHVsdDpvLHRhbGVudDppfT1iLlVMVF9CQVNJQ18zX1NLSUxMX1RBTEVOVF81LGE9dChlLDEsMS4xKSxzPW4oZSwwLDApLGw9byhlLDEuNSwxLjYyKSxtPWkoZSwxLDEuMSkscD1SKigxKjEvMSk7cmV0dXJue2NvbnRlbnQ6KCk9PltdLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooUyxCKT0+KFMuQkFTSUNfU0NBTElORys9YSxTLlNLSUxMX1NDQUxJTkcrPXMsUy5VTFRfU0NBTElORys9bCxTLkZVQV9TQ0FMSU5HKz1tLFMuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsUy5VTFRfVE9VR0hORVNTX0RNRys9NjAsUy5GVUFfVE9VR0hORVNTX0RNRys9MzAsUykscHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KFMsQik9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihTLEIpPT57Y29uc3QgYz1wdChTLEIscCk7Uy5CQVNJQ19ETUcrPVMuQkFTSUNfU0NBTElORypTW3IuQVRLXSxTLlNLSUxMX0RNRys9Uy5TS0lMTF9TQ0FMSU5HKlNbci5BVEtdLFMuVUxUX0RNRys9Uy5VTFRfU0NBTElORypTW3IuQVRLXSxTLkZVQV9ETUcrPVMuRlVBX1NDQUxJTkcqKFNbci5BVEtdK2MpLFMuRlVBX0RNRys9ZT49ND8uMypTW3IuREVGXTowfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+YAp4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiB4LkFUSzsKeC5TS0lMTF9ETUcgKz0geC5TS0lMTF9TQ0FMSU5HICogeC5BVEs7CnguVUxUX0RNRyArPSB4LlVMVF9TQ0FMSU5HICogeC5BVEs7CnguRlVBX0RNRyArPSB4LkZVQV9TQ0FMSU5HICogKHguQVRLICsgY2FsY3VsYXRlQXNoYmxhemluZ1NldChwX3gsIHBfc3RhdGUsICR7cH0pKTsKaWYgKCR7aihlPj00KX0pIHsKICB4LkZVQV9ETUcgKz0gMC4zMCAqIHguREVGOwp9CiAgICBgfX0scGE9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5NaXNoYSIpLHtiYXNpYzpuLHNraWxsOm8sdWx0Oml9PWIuVUxUX0JBU0lDXzNfU0tJTExfVEFMRU5UXzUsYT1uKGUsMSwxLjEpLHM9byhlLDIsMi4yKTtsZXQgbD1pKGUsLjYsLjY1KTtsKz1lPj00Py4wNjowO2NvbnN0IG09W3tmb3JtSXRlbToic2xpZGVyIixpZDoidWx0SGl0c09uVGFyZ2V0IixuYW1lOiJ1bHRIaXRzT25UYXJnZXQiLHRleHQ6dCgiQ29udGVudC51bHRIaXRzT25UYXJnZXQudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudWx0SGl0c09uVGFyZ2V0LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnVsdEhpdHNPblRhcmdldC5jb250ZW50Iix7dWx0U3RhY2tTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKmwpfSksbWluOjEsbWF4OjEwfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuZW15RnJvemVuIixuYW1lOiJlbmVteUZyb3plbiIsdGV4dDp0KCJDb250ZW50LmVuZW15RnJvemVuLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmVuZW15RnJvemVuLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmVuZW15RnJvemVuLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkRlZlJlZHVjdGlvbiIsbmFtZToiZTJEZWZSZWR1Y3Rpb24iLHRleHQ6dCgiQ29udGVudC5lMkRlZlJlZHVjdGlvbi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMkRlZlJlZHVjdGlvbi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMkRlZlJlZHVjdGlvbi5jb250ZW50IiksZGlzYWJsZWQ6ZTwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2VWx0RG1nQm9vc3QiLG5hbWU6ImU2VWx0RG1nQm9vc3QiLHRleHQ6dCgiQ29udGVudC5lNlVsdERtZ0Jvb3N0LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmU2VWx0RG1nQm9vc3QudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTZVbHREbWdCb29zdC5jb250ZW50IiksZGlzYWJsZWQ6ZTw2fV0scD1bSShtLCJlMkRlZlJlZHVjdGlvbiIpXTtyZXR1cm57Y29udGVudDooKT0+bSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PnAsZGVmYXVsdHM6KCk9Pih7dWx0SGl0c09uVGFyZ2V0OjEwLGVuZW15RnJvemVuOiEwLGUyRGVmUmVkdWN0aW9uOiEwLGU2VWx0RG1nQm9vc3Q6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2UyRGVmUmVkdWN0aW9uOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KFMsQik9Pntjb25zdCBjPUIuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBTW3IuQ0RdKz1jLmVuZW15RnJvemVuPy4zOjAsUy5FTEVNRU5UQUxfRE1HKz1lPj02JiZjLmU2VWx0RG1nQm9vc3Q/LjM6MCxTLkJBU0lDX1NDQUxJTkcrPWEsUy5TS0lMTF9TQ0FMSU5HKz1zLFMuVUxUX1NDQUxJTkcrPWwqYy51bHRIaXRzT25UYXJnZXQsUy5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxTLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLFMuVUxUX1RPVUdITkVTU19ETUcrPTMwKzE1KihjLnVsdEhpdHNPblRhcmdldC0xKSxTfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooUyxCKT0+e2NvbnN0IGM9Qi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Uy5ERUZfUEVOKz1lPj0yJiZjLmUyRGVmUmVkdWN0aW9uPy4xNjowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpTPT54KFMpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxoYT1lPT57Y29uc3R7YmFzaWM6dH09Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxuPXQoZSwxLDEuMSk7cmV0dXJue2NvbnRlbnQ6KCk9PltdLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czoobyxpKT0+KG8uQkFTSUNfU0NBTElORys9bixvLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLG8pLHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihvLGkpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczoobyxpKT0+e28uQkFTSUNfRE1HKz1vLkJBU0lDX1NDQUxJTkcqb1tyLkFUS10sby5CQVNJQ19ETUcrPWU+PTY/LjQqb1tyLkhQXTowfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+YAp4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiB4LkFUSzsKaWYgKCR7aihlPj02KX0pIHsKICB4LkJBU0lDX0RNRyArPSAwLjQwICogeC5IUDsKfQogICAgYH19LEJhPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuUGVsYSIpLHtiYXNpYzpuLHNraWxsOm8sdWx0Oml9PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUsYT1pKGUsLjQsLjQyKSxzPW4oZSwxLDEuMSksbD1vKGUsMi4xLDIuMzEpLG09aShlLDEsMS4wOCkscD1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0ZWFtRWhyQnVmZiIsbmFtZToidGVhbUVockJ1ZmYiLHRleHQ6dCgiQ29udGVudC50ZWFtRWhyQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC50ZWFtRWhyQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC50ZWFtRWhyQnVmZi5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZW5lbXlEZWJ1ZmZlZCIsbmFtZToiZW5lbXlEZWJ1ZmZlZCIsdGV4dDp0KCJDb250ZW50LmVuZW15RGVidWZmZWQudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZW5lbXlEZWJ1ZmZlZC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lbmVteURlYnVmZmVkLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJza2lsbFJlbW92ZWRCdWZmIixuYW1lOiJza2lsbFJlbW92ZWRCdWZmIix0ZXh0OnQoIkNvbnRlbnQuc2tpbGxSZW1vdmVkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5za2lsbFJlbW92ZWRCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnNraWxsUmVtb3ZlZEJ1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdERlZlBlbkRlYnVmZiIsbmFtZToidWx0RGVmUGVuRGVidWZmIix0ZXh0OnQoIkNvbnRlbnQudWx0RGVmUGVuRGVidWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnVsdERlZlBlbkRlYnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC51bHREZWZQZW5EZWJ1ZmYuY29udGVudCIse3VsdERlZlBlblZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKmEpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTRTa2lsbFJlc1NocmVkIixuYW1lOiJlNFNraWxsUmVzU2hyZWQiLHRleHQ6dCgiQ29udGVudC5lNFNraWxsUmVzU2hyZWQudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTRTa2lsbFJlc1NocmVkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmU0U2tpbGxSZXNTaHJlZC5jb250ZW50IiksZGlzYWJsZWQ6ZTw0fV0sUz1bSShwLCJ0ZWFtRWhyQnVmZiIpLEkocCwidWx0RGVmUGVuRGVidWZmIiksSShwLCJlNFNraWxsUmVzU2hyZWQiKV07cmV0dXJue2NvbnRlbnQ6KCk9PnAsdGVhbW1hdGVDb250ZW50OigpPT5TLGRlZmF1bHRzOigpPT4oe3RlYW1FaHJCdWZmOiEwLGVuZW15RGVidWZmZWQ6ITAsc2tpbGxSZW1vdmVkQnVmZjohMSx1bHREZWZQZW5EZWJ1ZmY6ITAsZTRTa2lsbFJlc1NocmVkOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0ZWFtRWhyQnVmZjohMCx1bHREZWZQZW5EZWJ1ZmY6ITAsZTRTa2lsbFJlc1NocmVkOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KEIsYyk9Pntjb25zdCBmPWMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBCW3IuU1BEX1BdKz1lPj0yJiZmLnNraWxsUmVtb3ZlZEJ1ZmY/LjE6MCxCLkJBU0lDX1NDQUxJTkcrPXMsQi5TS0lMTF9TQ0FMSU5HKz1sLEIuVUxUX1NDQUxJTkcrPW0seShCLFd8enxPLC4yLGYuc2tpbGxSZW1vdmVkQnVmZiksQi5FTEVNRU5UQUxfRE1HKz1mLmVuZW15RGVidWZmZWQ/LjI6MCxCLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLEIuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsQi5VTFRfVE9VR0hORVNTX0RNRys9NjAsQn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KEIsYyk9Pntjb25zdCBmPWMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO0Jbci5FSFJdKz1mLnRlYW1FaHJCdWZmPy4xOjAsQi5ERUZfUEVOKz1mLnVsdERlZlBlbkRlYnVmZj9hOjAsQi5JQ0VfUkVTX1BFTis9ZT49NCYmZi5lNFNraWxsUmVzU2hyZWQ/LjEyOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihCLGMpPT57Qi5CQVNJQ19ETUcrPUIuQkFTSUNfU0NBTElORypCW3IuQVRLXSxCLlNLSUxMX0RNRys9Qi5TS0lMTF9TQ0FMSU5HKkJbci5BVEtdLEIuVUxUX0RNRys9Qi5VTFRfU0NBTElORypCW3IuQVRLXSxCLkJBU0lDX0RNRys9ZT49Nj8uNCpCW3IuQVRLXTowLEIuU0tJTExfRE1HKz1lPj02Py40KkJbci5BVEtdOjAsQi5VTFRfRE1HKz1lPj02Py40KkJbci5BVEtdOjB9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5gCnguQkFTSUNfRE1HICs9IHguQkFTSUNfU0NBTElORyAqIHguQVRLOwp4LlNLSUxMX0RNRyArPSB4LlNLSUxMX1NDQUxJTkcgKiB4LkFUSzsKeC5VTFRfRE1HICs9IHguVUxUX1NDQUxJTkcgKiB4LkFUSzsKCmlmICgke2ooZT49Nil9KSB7CiAgeC5CQVNJQ19ETUcgKz0gMC40MCAqIHguQVRLOwogIHguU0tJTExfRE1HICs9IDAuNDAgKiB4LkFUSzsKICB4LlVMVF9ETUcgKz0gMC40MCAqIHguQVRLOwp9CiAgICBgfX0sTm49ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5UcmFpbGJsYXplckRlc3RydWN0aW9uIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxzPWEoZSwuMiwuMjIpLGw9bihlLDEsMS4xKSxtPW8oZSwxLjI1LDEuMzc1KSxwPWkoZSw0LjUsNC44KSxTPWkoZSwyLjcsMi44OCksQj1pKGUsMS42MiwxLjcyOCksYz1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmhhbmNlZFVsdCIsbmFtZToiRW5oYW5jZWQgVWx0Iix0ZXh0OnQoIkNvbnRlbnQuZW5oYW5jZWRVbHQudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZW5oYW5jZWRVbHQudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZW5oYW5jZWRVbHQuY29udGVudCIse3VsdFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcCksdWx0RW5oYW5jZWRTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKlMpLHVsdEVuaGFuY2VkU2NhbGluZzI6RC5wcmVjaXNpb25Sb3VuZCgxMDAqQil9KX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YWxlbnRTdGFja3MiLG5hbWU6IlRhbGVudCBzdGFja3MiLHRleHQ6dCgiQ29udGVudC50YWxlbnRTdGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudGFsZW50U3RhY2tzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRhbGVudFN0YWNrcy5jb250ZW50Iix7dGFsZW50QXRrU2NhbGluZ1ZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKnMpfSksbWluOjAsbWF4OjJ9XTtyZXR1cm57Y29udGVudDooKT0+Yyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe2VuaGFuY2VkVWx0OiEwLHRhbGVudFN0YWNrczoyfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooZix1KT0+e2NvbnN0IEM9dS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGZbci5BVEtfUF0rPUMudGFsZW50U3RhY2tzKnMsZltyLkRFRl9QXSs9Qy50YWxlbnRTdGFja3MqLjEsZltyLkNSXSs9Zi5FTkVNWV9XRUFLTkVTU19CUk9LRU4/LjI1OjAsZi5CQVNJQ19TQ0FMSU5HKz1sLGYuU0tJTExfU0NBTElORys9bSxmLlVMVF9TQ0FMSU5HKz1DLmVuaGFuY2VkVWx0P1M6cCx5KGYseiwuMjUpLHkoZixPLC4yNSxDLmVuaGFuY2VkVWx0KSxmLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGYuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsZi5VTFRfVE9VR0hORVNTX0RNRys9Qy5lbmhhbmNlZFVsdD82MDo5MCxmfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooZix1KT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6Zj0+eChmKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpfX0sT249ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5UcmFpbGJsYXplckhhcm1vbnkiKSx7YmFzaWM6bixza2lsbDpvLHVsdDppfT1iLlNLSUxMX1RBTEVOVF8zX1VMVF9CQVNJQ181LGE9bihlLDEsMS4xKSxzPW8oZSwuNSwuNTUpLGw9aShlLC4zLC4zMyksbT1lPj02PzY6NCxwPXsxOjEuNiwzOjEuNCw1OjEuMn0sUz1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJiYWNrdXBEYW5jZXIiLG5hbWU6ImJhY2t1cERhbmNlciIsdGV4dDp0KCJDb250ZW50LmJhY2t1cERhbmNlci50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5iYWNrdXBEYW5jZXIudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuYmFja3VwRGFuY2VyLmNvbnRlbnQiLHt1bHRCZVNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbCl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJzdXBlckJyZWFrRG1nIixuYW1lOiJzdXBlckJyZWFrRG1nIix0ZXh0OnQoIkNvbnRlbnQuc3VwZXJCcmVha0RtZy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5zdXBlckJyZWFrRG1nLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnN1cGVyQnJlYWtEbWcuY29udGVudCIpfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InNraWxsSGl0c09uVGFyZ2V0IixuYW1lOiJza2lsbEhpdHNPblRhcmdldCIsdGV4dDp0KCJDb250ZW50LnNraWxsSGl0c09uVGFyZ2V0LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNraWxsSGl0c09uVGFyZ2V0LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnNraWxsSGl0c09uVGFyZ2V0LmNvbnRlbnQiKSxtaW46MCxtYXg6bX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkVuZXJneVJlZ2VuQnVmZiIsbmFtZToiZTJFbmVyZ3lSZWdlbkJ1ZmYiLHRleHQ6dCgiQ29udGVudC5lMkVuZXJneVJlZ2VuQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMkVuZXJneVJlZ2VuQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMkVuZXJneVJlZ2VuQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6ZTwyfV0sQj1bSShTLCJiYWNrdXBEYW5jZXIiKSxJKFMsInN1cGVyQnJlYWtEbWciKSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InRlYW1tYXRlQmVWYWx1ZSIsbmFtZToidGVhbW1hdGVCZVZhbHVlIix0ZXh0OnQoIlRlYW1tYXRlQ29udGVudC50ZWFtbWF0ZUJlVmFsdWUudGV4dCIpLHRpdGxlOnQoIlRlYW1tYXRlQ29udGVudC50ZWFtbWF0ZUJlVmFsdWUudGl0bGUiKSxjb250ZW50OnQoIlRlYW1tYXRlQ29udGVudC50ZWFtbWF0ZUJlVmFsdWUuY29udGVudCIpLG1pbjowLG1heDo0LHBlcmNlbnQ6ITAsZGlzYWJsZWQ6ZTw0fV0sYz17c2tpbGxIaXRzT25UYXJnZXQ6bSxiYWNrdXBEYW5jZXI6ITAsc3VwZXJCcmVha0RtZzohMCxlMkVuZXJneVJlZ2VuQnVmZjohMX07cmV0dXJue2NvbnRlbnQ6KCk9PlMsdGVhbW1hdGVDb250ZW50OigpPT5CLGRlZmF1bHRzOigpPT5jLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7YmFja3VwRGFuY2VyOiEwLHN1cGVyQnJlYWtEbWc6ITAsdGVhbW1hdGVCZVZhbHVlOjJ9KSxpbml0aWFsaXplQ29uZmlndXJhdGlvbnM6KGYsdSk9Pnt1LmNoYXJhY3RlckNvbmRpdGlvbmFscy5zdXBlckJyZWFrRG1nJiYoZi5FTkVNWV9XRUFLTkVTU19CUk9LRU49MSl9LGluaXRpYWxpemVUZWFtbWF0ZUNvbmZpZ3VyYXRpb25zOihmLHUpPT57dS5jaGFyYWN0ZXJDb25kaXRpb25hbHMuc3VwZXJCcmVha0RtZyYmKGYuRU5FTVlfV0VBS05FU1NfQlJPS0VOPTEpfSxwcmVjb21wdXRlRWZmZWN0czooZix1KT0+e2NvbnN0IEM9dS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGZbci5FUlJdKz1lPj0yJiZDLmUyRW5lcmd5UmVnZW5CdWZmPy4yNTowLGYuQkFTSUNfU0NBTElORys9YSxmLlNLSUxMX1NDQUxJTkcrPXMsZi5TS0lMTF9TQ0FMSU5HKz1DLnNraWxsSGl0c09uVGFyZ2V0KnMsZi5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxmLlNLSUxMX1RPVUdITkVTU19ETUcrPTMwKkMuc2tpbGxIaXRzT25UYXJnZXQsZn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsdSk9Pntjb25zdCBDPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2Zbci5CRV0rPUMuYmFja3VwRGFuY2VyP2w6MCxmLlNVUEVSX0JSRUFLX0hNQ19NT0RJRklFUis9Qy5iYWNrdXBEYW5jZXImJkMuc3VwZXJCcmVha0RtZz9wW3UuZW5lbXlDb3VudF06MH0scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czooZix1KT0+e2NvbnN0IEM9dS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7ZltyLkJFXSs9ZT49ND8uMTUqQy50ZWFtbWF0ZUJlVmFsdWU6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6Zj0+eChmKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpfX0sUG49ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5UcmFpbGJsYXplclByZXNlcnZhdGlvbiIpLHtiYXNpYzpuLHNraWxsOm8sdWx0Oml9PWIuU0tJTExfVEFMRU5UXzNfVUxUX0JBU0lDXzUsYT1vKGUsLjUsLjUyKSxzPW4oZSwxLDEuMSksbD1lPj0xPy4yNTowLG09bihlLDEuMzUsMS40NjMpLHA9ZT49MT8uNTowLFM9byhlLDAsMCksQj1pKGUsMSwxLjEpLGM9aShlLDEuNSwxLjY1KSxmPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuaGFuY2VkQmFzaWMiLG5hbWU6ImVuaGFuY2VkQmFzaWMiLHRleHQ6dCgiQ29udGVudC5lbmhhbmNlZEJhc2ljLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmVuaGFuY2VkQmFzaWMudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZW5oYW5jZWRCYXNpYy5jb250ZW50Iix7YmFzaWNFbmhhbmNlZEF0a1NjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbSl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJza2lsbEFjdGl2ZSIsbmFtZToic2tpbGxBY3RpdmUiLHRleHQ6dCgiQ29udGVudC5za2lsbEFjdGl2ZS50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5za2lsbEFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5za2lsbEFjdGl2ZS5jb250ZW50Iix7c2tpbGxEYW1hZ2VSZWR1Y3Rpb25WYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCphKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNoaWVsZEFjdGl2ZSIsbmFtZToic2hpZWxkQWN0aXZlIix0ZXh0OnQoIkNvbnRlbnQuc2hpZWxkQWN0aXZlLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNoaWVsZEFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5zaGllbGRBY3RpdmUuY29udGVudCIpfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImU2RGVmU3RhY2tzIixuYW1lOiJlNkRlZlN0YWNrcyIsdGV4dDp0KCJDb250ZW50LmU2RGVmU3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmU2RGVmU3RhY2tzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmU2RGVmU3RhY2tzLmNvbnRlbnQiKSxtaW46MCxtYXg6MyxkaXNhYmxlZDplPDZ9XSx1PVtJKGYsInNraWxsQWN0aXZlIildO3JldHVybntjb250ZW50OigpPT5mLHRlYW1tYXRlQ29udGVudDooKT0+dSxkZWZhdWx0czooKT0+KHtlbmhhbmNlZEJhc2ljOiEwLHNraWxsQWN0aXZlOiEwLHNoaWVsZEFjdGl2ZTohMCxlNkRlZlN0YWNrczozfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtza2lsbEFjdGl2ZTohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihDLGQpPT57Y29uc3QgZz1kLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gQ1tyLkRFRl9QXSs9ZT49Nj9nLmU2RGVmU3RhY2tzKi4xOjAsQ1tyLkFUS19QXSs9Zy5zaGllbGRBY3RpdmU/LjE1OjAsQy5TS0lMTF9TQ0FMSU5HKz1TLEMuRE1HX1JFRF9NVUxUSSo9Zy5za2lsbEFjdGl2ZT8xLWE6MSxDLkJBU0lDX1RPVUdITkVTU19ETUcrPWcuYmFzaWNFbmhhbmNlZD82MDozMCxDLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxDfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooQyxkKT0+e2NvbnN0IGc9ZC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Qy5ETUdfUkVEX01VTFRJKj1nLnNraWxsQWN0aXZlPzEtLjE1OjF9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihDLGQpPT57ZC5jaGFyYWN0ZXJDb25kaXRpb25hbHMuZW5oYW5jZWRCYXNpYz8oQy5CQVNJQ19ETUcrPW0qQ1tyLkFUS10sQy5CQVNJQ19ETUcrPXAqQ1tyLkRFRl0pOihDLkJBU0lDX0RNRys9cypDW3IuQVRLXSxDLkJBU0lDX0RNRys9bCpDW3IuREVGXSksQy5TS0lMTF9ETUcrPUMuU0tJTExfU0NBTElORypDW3IuQVRLXSxDLlVMVF9ETUcrPUIqQ1tyLkFUS10sQy5VTFRfRE1HKz1jKkNbci5ERUZdfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczpDPT57Y29uc3QgZD1DLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm5gCmlmICgke2ooZC5lbmhhbmNlZEJhc2ljKX0pIHsKICB4LkJBU0lDX0RNRyArPSAke219ICogeC5BVEs7CiAgeC5CQVNJQ19ETUcgKz0gJHtwfSAqIHguREVGOwp9IGVsc2UgewogIHguQkFTSUNfRE1HICs9ICR7c30gKiB4LkFUSzsKICB4LkJBU0lDX0RNRyArPSAke2x9ICogeC5ERUY7Cn0gICAgICAKCnguU0tJTExfRE1HICs9IHguU0tJTExfU0NBTElORyAqIHguQVRLOwoKeC5VTFRfRE1HICs9ICR7Qn0gKiB4LkFUSzsKeC5VTFRfRE1HICs9ICR7Y30gKiB4LkRFRjsKICAgIGB9fX0sRGE9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5RaW5ncXVlIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5VTFRfVEFMRU5UXzNfU0tJTExfQkFTSUNfNSxzPW8oZSwuMzgsLjQwOCksbD1hKGUsLjcyLC43OTIpLG09bihlLDEsMS4xKSxwPW4oZSwyLjQsMi42NCksUz1vKGUsMCwwKSxCPWkoZSwyLDIuMTYpLGM9ezE6UiooMSoxLzEpLDM6UiooMioxLzEpLDU6UiooMioxLzEpfSxmPVIqKDEqMS8xKTtmdW5jdGlvbiB1KGQpe3JldHVybiBkLmNoYXJhY3RlckNvbmRpdGlvbmFscy5iYXNpY0VuaGFuY2VkP2NbZC5lbmVteUNvdW50XTpmfWNvbnN0IEM9W3tmb3JtSXRlbToic3dpdGNoIixpZDoiYmFzaWNFbmhhbmNlZCIsbmFtZToiYmFzaWNFbmhhbmNlZCIsdGV4dDp0KCJDb250ZW50LmJhc2ljRW5oYW5jZWQudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuYmFzaWNFbmhhbmNlZC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5iYXNpY0VuaGFuY2VkLmNvbnRlbnQiLHt0YWxlbnRBdGtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmwpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiYmFzaWNFbmhhbmNlZFNwZEJ1ZmYiLG5hbWU6ImJhc2ljRW5oYW5jZWRTcGRCdWZmIix0ZXh0OnQoIkNvbnRlbnQuYmFzaWNFbmhhbmNlZFNwZEJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuYmFzaWNFbmhhbmNlZFNwZEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuYmFzaWNFbmhhbmNlZFNwZEJ1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InNraWxsRG1nSW5jcmVhc2VTdGFja3MiLG5hbWU6InNraWxsRG1nSW5jcmVhc2VTdGFja3MiLHRleHQ6dCgiQ29udGVudC5za2lsbERtZ0luY3JlYXNlU3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNraWxsRG1nSW5jcmVhc2VTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc2tpbGxEbWdJbmNyZWFzZVN0YWNrcy5jb250ZW50Iix7c2tpbGxTdGFja0RtZzpELnByZWNpc2lvblJvdW5kKDEwMCpzKX0pLG1pbjowLG1heDo0fV07cmV0dXJue2NvbnRlbnQ6KCk9PkMsdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHtiYXNpY0VuaGFuY2VkOiEwLGJhc2ljRW5oYW5jZWRTcGRCdWZmOiExLHNraWxsRG1nSW5jcmVhc2VTdGFja3M6NH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KGQsZyk9Pntjb25zdCBoPWcuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBkW3IuQVRLX1BdKz1oLmJhc2ljRW5oYW5jZWQ/bDowLGRbci5TUERfUF0rPWguYmFzaWNFbmhhbmNlZFNwZEJ1ZmY/LjE6MCxkLkJBU0lDX1NDQUxJTkcrPWguYmFzaWNFbmhhbmNlZD9wOm0sZC5TS0lMTF9TQ0FMSU5HKz1TLGQuVUxUX1NDQUxJTkcrPUIsZC5GVUFfU0NBTElORys9ZT49ND9kLkJBU0lDX1NDQUxJTkc6MCxkLkVMRU1FTlRBTF9ETUcrPWguc2tpbGxEbWdJbmNyZWFzZVN0YWNrcypzLHkoZCxPLC4xLGU+PTEpLGQuQkFTSUNfVE9VR0hORVNTX0RNRys9aC5iYXNpY0VuaGFuY2VkPzYwOjMwLGQuVUxUX1RPVUdITkVTU19ETUcrPTYwLGQuRlVBX1RPVUdITkVTU19ETUcrPWguYmFzaWNFbmhhbmNlZD82MDozMCxkfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooZCxnKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KGQsZyk9PntaKGQsZyx1KGcpKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6ZD0+cSh1KGQpKX19LF9hPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuUnVhbk1laSIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuVUxUX1RBTEVOVF8zX1NLSUxMX0JBU0lDXzUscz1pKGUsLjI1LC4yNyksbD1uKGUsMSwxLjEpLG09byhlLC4zMiwuMzUyKSxwPWEoZSwuMSwuMTA0KSxTPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNraWxsT3ZlcnRvbmVCdWZmIixuYW1lOiJza2lsbE92ZXJ0b25lQnVmZiIsdGV4dDp0KCJDb250ZW50LnNraWxsT3ZlcnRvbmVCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNraWxsT3ZlcnRvbmVCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnNraWxsT3ZlcnRvbmVCdWZmLmNvbnRlbnQiLHtza2lsbFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbSl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0ZWFtQkVCdWZmIixuYW1lOiJ0ZWFtQkVCdWZmIix0ZXh0OnQoIkNvbnRlbnQudGVhbUJFQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC50ZWFtQkVCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRlYW1CRUJ1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdEZpZWxkQWN0aXZlIixuYW1lOiJ1bHRGaWVsZEFjdGl2ZSIsdGV4dDp0KCJDb250ZW50LnVsdEZpZWxkQWN0aXZlLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnVsdEZpZWxkQWN0aXZlLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnVsdEZpZWxkQWN0aXZlLmNvbnRlbnQiLHtmaWVsZFJlc1BlblZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKnMpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJBdGtCb29zdCIsbmFtZToiZTJBdGtCb29zdCIsdGV4dDp0KCJDb250ZW50LmUyQXRrQm9vc3QudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTJBdGtCb29zdC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMkF0a0Jvb3N0LmNvbnRlbnQiKSxkaXNhYmxlZDplPDJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTRCZUJ1ZmYiLG5hbWU6ImU0QmVCdWZmIix0ZXh0OnQoIkNvbnRlbnQuZTRCZUJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTRCZUJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTRCZUJ1ZmYuY29udGVudCIpLGRpc2FibGVkOmU8NH1dLEI9W0koUywic2tpbGxPdmVydG9uZUJ1ZmYiKSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRlYW1TcGRCdWZmIixuYW1lOiJ0ZWFtU3BkQnVmZiIsdGV4dDp0KCJUZWFtbWF0ZUNvbnRlbnQudGVhbVNwZEJ1ZmYudGV4dCIpLHRpdGxlOnQoIlRlYW1tYXRlQ29udGVudC50ZWFtU3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiVGVhbW1hdGVDb250ZW50LnRlYW1TcGRCdWZmLmNvbnRlbnQiLHt0YWxlbnRTcGRTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKnApfSl9LEkoUywidGVhbUJFQnVmZiIpLHtmb3JtSXRlbToic2xpZGVyIixpZDoidGVhbURtZ0J1ZmYiLG5hbWU6InRlYW1EbWdCdWZmIix0ZXh0OnQoIlRlYW1tYXRlQ29udGVudC50ZWFtRG1nQnVmZi50ZXh0IiksdGl0bGU6dCgiVGVhbW1hdGVDb250ZW50LnRlYW1EbWdCdWZmLnRpdGxlIiksY29udGVudDp0KCJUZWFtbWF0ZUNvbnRlbnQudGVhbURtZ0J1ZmYuY29udGVudCIpLG1pbjowLG1heDouMzYscGVyY2VudDohMH0sSShTLCJ1bHRGaWVsZEFjdGl2ZSIpLEkoUywiZTJBdGtCb29zdCIpXTtyZXR1cm57Y29udGVudDooKT0+Uyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PkIsZGVmYXVsdHM6KCk9Pih7c2tpbGxPdmVydG9uZUJ1ZmY6ITAsdGVhbUJFQnVmZjohMCx1bHRGaWVsZEFjdGl2ZTohMCxlMkF0a0Jvb3N0OiExLGU0QmVCdWZmOiExfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtza2lsbE92ZXJ0b25lQnVmZjohMCx0ZWFtU3BkQnVmZjohMCx0ZWFtQkVCdWZmOiEwLHVsdEZpZWxkQWN0aXZlOiEwLGUyQXRrQm9vc3Q6ITEsdGVhbURtZ0J1ZmY6LjM2fSkscHJlY29tcHV0ZUVmZmVjdHM6KGMsZik9Pntjb25zdCB1PWYuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBjW3IuQVRLX1BdKz1lPj0yJiZ1LmUyQXRrQm9vc3Q/LjQ6MCxjW3IuQkVdKz1lPj00JiZ1LmU0QmVCdWZmPzE6MCxjLkJBU0lDX1NDQUxJTkcrPWwsYy5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxjfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooYyxmKT0+e2NvbnN0IHU9Zi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Y1tyLkJFXSs9dS50ZWFtQkVCdWZmPy4yOjAsYy5FTEVNRU5UQUxfRE1HKz11LnNraWxsT3ZlcnRvbmVCdWZmP206MCxjLkJSRUFLX0VGRklDSUVOQ1lfQk9PU1QrPXUuc2tpbGxPdmVydG9uZUJ1ZmY/LjU6MCxjLlJFU19QRU4rPXUudWx0RmllbGRBY3RpdmU/czowLGMuREVGX1BFTis9ZT49MSYmdS51bHRGaWVsZEFjdGl2ZT8uMjowfSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihjLGYpPT57Y29uc3QgdT1mLmNoYXJhY3RlckNvbmRpdGlvbmFscztjW3IuU1BEX1BdKz11LnRlYW1TcGRCdWZmP3A6MCxjLkVMRU1FTlRBTF9ETUcrPXUudGVhbURtZ0J1ZmYsY1tyLkFUS19QXSs9ZT49MiYmdS5lMkF0a0Jvb3N0Py40OjAsYy5SQVRJT19CQVNFRF9BVEtfUF9CVUZGKz1lPj0yJiZ1LmUyQXRrQm9vc3Q/LjQ6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6Yz0+eChjKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpLGR5bmFtaWNDb25kaXRpb25hbHM6W1dpXX19LEFhPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuU2FtcG8iKSx7YmFzaWM6bixza2lsbDpvLHVsdDppLHRhbGVudDphfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LHM9aShlLC4zLC4zMiksbD1uKGUsMSwxLjEpLG09byhlLC41NiwuNjE2KSxwPWkoZSwxLjYsMS43MjgpLFM9YShlLC41MiwuNTcyKSxCPWU8MT80OjUsYz1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YXJnZXREb3RUYWtlbkRlYnVmZiIsbmFtZToidGFyZ2V0RG90VGFrZW5EZWJ1ZmYiLHRleHQ6dCgiQ29udGVudC50YXJnZXREb3RUYWtlbkRlYnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC50YXJnZXREb3RUYWtlbkRlYnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC50YXJnZXREb3RUYWtlbkRlYnVmZi5jb250ZW50Iix7ZG90VnVsbmVyYWJpbGl0eVZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKnMpfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoic2tpbGxFeHRyYUhpdHMiLG5hbWU6InNraWxsRXh0cmFIaXRzIix0ZXh0OnQoIkNvbnRlbnQuc2tpbGxFeHRyYUhpdHMudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuc2tpbGxFeHRyYUhpdHMudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc2tpbGxFeHRyYUhpdHMuY29udGVudCIpLG1pbjoxLG1heDpCfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhcmdldFdpbmRTaGVhciIsbmFtZToidGFyZ2V0V2luZFNoZWFyIix0ZXh0OnQoIkNvbnRlbnQudGFyZ2V0V2luZFNoZWFyLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRhcmdldFdpbmRTaGVhci50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC50YXJnZXRXaW5kU2hlYXIuY29udGVudCIpfV0sZj1bSShjLCJ0YXJnZXREb3RUYWtlbkRlYnVmZiIpXTtyZXR1cm57Y29udGVudDooKT0+Yyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmYsZGVmYXVsdHM6KCk9Pih7dGFyZ2V0RG90VGFrZW5EZWJ1ZmY6ITAsc2tpbGxFeHRyYUhpdHM6Qix0YXJnZXRXaW5kU2hlYXI6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3RhcmdldERvdFRha2VuRGVidWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHUsQyk9Pntjb25zdCBkPUMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiB1LkJBU0lDX1NDQUxJTkcrPWwsdS5TS0lMTF9TQ0FMSU5HKz1tLHUuU0tJTExfU0NBTElORys9ZC5za2lsbEV4dHJhSGl0cyptLHUuVUxUX1NDQUxJTkcrPXAsdS5ET1RfU0NBTElORys9Uyx1LkRPVF9TQ0FMSU5HKz1lPj02Py4xNTowLHUuRE1HX1JFRF9NVUxUSSo9ZC50YXJnZXRXaW5kU2hlYXI/MS0uMTU6MSx1LkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLHUuU0tJTExfVE9VR0hORVNTX0RNRys9MzArMTUqZC5za2lsbEV4dHJhSGl0cyx1LlVMVF9UT1VHSE5FU1NfRE1HKz02MCx1LkRPVF9DSEFOQ0U9LjY1LHV9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOih1LEMpPT57Y29uc3QgZD1DLmNoYXJhY3RlckNvbmRpdGlvbmFscztpdCh1LHV0LHMsZC50YXJnZXREb3RUYWtlbkRlYnVmZil9LGZpbmFsaXplQ2FsY3VsYXRpb25zOnU9PngodSksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LEVhPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuU2VlbGUiKSx7YmFzaWM6bixza2lsbDpvLHVsdDppLHRhbGVudDphfT1iLlNLSUxMX1RBTEVOVF8zX1VMVF9CQVNJQ181LHM9YShlLC44LC44OCksbD1lPj0yPzI6MSxtPW4oZSwxLDEuMSkscD1vKGUsMi4yLDIuNDIpLFM9aShlLDQuMjUsNC41OSksQj1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJidWZmZWRTdGF0ZSIsbmFtZToiYnVmZmVkU3RhdGUiLHRleHQ6dCgiQ29udGVudC5idWZmZWRTdGF0ZS50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5idWZmZWRTdGF0ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5idWZmZWRTdGF0ZS5jb250ZW50Iix7YnVmZmVkU3RhdGVEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKnMpfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoic3BlZWRCb29zdFN0YWNrcyIsbmFtZToic3BlZWRCb29zdFN0YWNrcyIsdGV4dDp0KCJDb250ZW50LnNwZWVkQm9vc3RTdGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuc3BlZWRCb29zdFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5zcGVlZEJvb3N0U3RhY2tzLmNvbnRlbnQiLHtzcGVlZEJvb3N0U3RhY2tzTWF4Omx9KSxtaW46MCxtYXg6bH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMUVuZW15SHA4MENyQm9vc3QiLG5hbWU6ImUxRW5lbXlIcDgwQ3JCb29zdCIsdGV4dDp0KCJDb250ZW50LmUxRW5lbXlIcDgwQ3JCb29zdC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMUVuZW15SHA4MENyQm9vc3QudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTFFbmVteUhwODBDckJvb3N0LmNvbnRlbnQiKSxkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZVbHRUYXJnZXREZWJ1ZmYiLG5hbWU6ImU2VWx0VGFyZ2V0RGVidWZmIix0ZXh0OnQoIkNvbnRlbnQuZTZVbHRUYXJnZXREZWJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTZVbHRUYXJnZXREZWJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTZVbHRUYXJnZXREZWJ1ZmYuY29udGVudCIpLGRpc2FibGVkOmU8Nn1dO3JldHVybntjb250ZW50OigpPT5CLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7YnVmZmVkU3RhdGU6ITAsc3BlZWRCb29zdFN0YWNrczpsLGUxRW5lbXlIcDgwQ3JCb29zdDohMSxlNlVsdFRhcmdldERlYnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KGMsZik9Pntjb25zdCB1PWYuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBjW3IuQ1JdKz1lPj0xJiZ1LmUxRW5lbXlIcDgwQ3JCb29zdD8uMTU6MCxjW3IuU1BEX1BdKz0uMjUqdS5zcGVlZEJvb3N0U3RhY2tzLGMuQkFTSUNfU0NBTElORys9bSxjLlNLSUxMX1NDQUxJTkcrPXAsYy5VTFRfU0NBTElORys9UyxjLkVMRU1FTlRBTF9ETUcrPXUuYnVmZmVkU3RhdGU/czowLGMuUkVTX1BFTis9dS5idWZmZWRTdGF0ZT8uMjowLGMuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsYy5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxjLlVMVF9UT1VHSE5FU1NfRE1HKz05MCxjfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooYyxmKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KGMsZik9Pntjb25zdCB1PWYuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2MuQkFTSUNfRE1HKz1jLkJBU0lDX1NDQUxJTkcqY1tyLkFUS10sYy5TS0lMTF9ETUcrPWMuU0tJTExfU0NBTElORypjW3IuQVRLXSxjLlVMVF9ETUcrPWMuVUxUX1NDQUxJTkcqY1tyLkFUS10sYy5CQVNJQ19ETUcrPWU+PTYmJnUuZTZVbHRUYXJnZXREZWJ1ZmY/LjE1KmMuVUxUX0RNRzowLGMuU0tJTExfRE1HKz1lPj02JiZ1LmU2VWx0VGFyZ2V0RGVidWZmPy4xNSpjLlVMVF9ETUc6MCxjLlVMVF9ETUcrPWU+PTYmJnUuZTZVbHRUYXJnZXREZWJ1ZmY/LjE1KmMuVUxUX0RNRzowfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczpjPT57Y29uc3QgZj1jLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm5gCnguQkFTSUNfRE1HICs9IHguQkFTSUNfU0NBTElORyAqIHguQVRLOwp4LlNLSUxMX0RNRyArPSB4LlNLSUxMX1NDQUxJTkcgKiB4LkFUSzsKeC5VTFRfRE1HICs9IHguVUxUX1NDQUxJTkcgKiB4LkFUSzsKCmlmICgke2ooZT49NiYmZi5lNlVsdFRhcmdldERlYnVmZil9KSB7CiAgeC5CQVNJQ19ETUcgKz0gMC4xNSAqIHguVUxUX0RNRzsKICB4LlNLSUxMX0RNRyArPSAwLjE1ICogeC5VTFRfRE1HOwogIHguVUxUX0RNRyArPSAwLjE1ICogeC5VTFRfRE1HOwp9CiAgICBgfX19LFRhPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuU2VydmFsIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxzPWEoZSwuNzIsLjc5MiksbD1uKGUsMSwxLjEpLG09byhlLDEuNCwxLjU0KSxwPWkoZSwxLjgsMS45NDQpLFM9byhlLDEuMDQsMS4xNDQpLEI9W3tmb3JtSXRlbToic3dpdGNoIixpZDoidGFyZ2V0U2hvY2tlZCIsbmFtZToidGFyZ2V0U2hvY2tlZCIsdGV4dDp0KCJDb250ZW50LnRhcmdldFNob2NrZWQudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudGFyZ2V0U2hvY2tlZC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC50YXJnZXRTaG9ja2VkLmNvbnRlbnQiLHt0YWxlbnRFeHRyYURtZ1NjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcyl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmVteURlZmVhdGVkQnVmZiIsbmFtZToiZW5lbXlEZWZlYXRlZEJ1ZmYiLHRleHQ6dCgiQ29udGVudC5lbmVteURlZmVhdGVkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lbmVteURlZmVhdGVkQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lbmVteURlZmVhdGVkQnVmZi5jb250ZW50Iil9XTtyZXR1cm57Y29udGVudDooKT0+Qix0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe3RhcmdldFNob2NrZWQ6ITAsZW5lbXlEZWZlYXRlZEJ1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihjLGYpPT57Y29uc3QgdT1mLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gY1tyLkFUS19QXSs9dS5lbmVteURlZmVhdGVkQnVmZj8uMjowLGMuQkFTSUNfU0NBTElORys9bCxjLlNLSUxMX1NDQUxJTkcrPW0sYy5VTFRfU0NBTElORys9cCxjLkRPVF9TQ0FMSU5HKz1TLGMuQkFTSUNfU0NBTElORys9dS50YXJnZXRTaG9ja2VkP3M6MCxjLlNLSUxMX1NDQUxJTkcrPXUudGFyZ2V0U2hvY2tlZD9zOjAsYy5VTFRfU0NBTElORys9dS50YXJnZXRTaG9ja2VkP3M6MCxjLkVMRU1FTlRBTF9ETUcrPWU+PTYmJnUudGFyZ2V0U2hvY2tlZD8uMzowLGMuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsYy5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxjLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxjLkRPVF9DSEFOQ0U9LjY1LGN9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihjLGYpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpjPT54KGMpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fTtjb25zdCBJYT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLlNpbHZlcldvbGYiKSx7YmFzaWM6bixza2lsbDpvLHVsdDppLHRhbGVudDphfT1iLlNLSUxMX1RBTEVOVF8zX1VMVF9CQVNJQ181LHM9byhlLC4xLC4xMDUpLGw9YShlLC4wOCwuMDg4KSxtPWkoZSwuNDUsLjQ2OCkscD1uKGUsMSwxLjEpLFM9byhlLDEuOTYsMi4xNTYpLEI9aShlLDMuOCw0LjEwNCksYz1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJza2lsbFJlc1NocmVkRGVidWZmIixuYW1lOiJza2lsbFJlc1NocmVkRGVidWZmIix0ZXh0OnQoIkNvbnRlbnQuc2tpbGxSZXNTaHJlZERlYnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5za2lsbFJlc1NocmVkRGVidWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnNraWxsUmVzU2hyZWREZWJ1ZmYuY29udGVudCIse3NraWxsUmVzU2hyZWRWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpzKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNraWxsV2Vha25lc3NSZXNTaHJlZERlYnVmZiIsbmFtZToic2tpbGxXZWFrbmVzc1Jlc1NocmVkRGVidWZmIix0ZXh0OnQoIkNvbnRlbnQuc2tpbGxXZWFrbmVzc1Jlc1NocmVkRGVidWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNraWxsV2Vha25lc3NSZXNTaHJlZERlYnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5za2lsbFdlYWtuZXNzUmVzU2hyZWREZWJ1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhbGVudERlZlNocmVkRGVidWZmIixuYW1lOiJ0YWxlbnREZWZTaHJlZERlYnVmZiIsdGV4dDp0KCJDb250ZW50LnRhbGVudERlZlNocmVkRGVidWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRhbGVudERlZlNocmVkRGVidWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRhbGVudERlZlNocmVkRGVidWZmLmNvbnRlbnQiLHt0YWxlbnREZWZTaHJlZERlYnVmZlZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKmwpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidWx0RGVmU2hyZWREZWJ1ZmYiLG5hbWU6InVsdERlZlNocmVkRGVidWZmIix0ZXh0OnQoIkNvbnRlbnQudWx0RGVmU2hyZWREZWJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudWx0RGVmU2hyZWREZWJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudWx0RGVmU2hyZWREZWJ1ZmYuY29udGVudCIse3VsdERlZlNocmVkVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbSl9KX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YXJnZXREZWJ1ZmZzIixuYW1lOiJ0YXJnZXREZWJ1ZmZzIix0ZXh0OnQoIkNvbnRlbnQudGFyZ2V0RGVidWZmcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC50YXJnZXREZWJ1ZmZzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRhcmdldERlYnVmZnMuY29udGVudCIpLG1pbjowLG1heDo1fV0sZj1bSShjLCJza2lsbFJlc1NocmVkRGVidWZmIiksSShjLCJza2lsbFdlYWtuZXNzUmVzU2hyZWREZWJ1ZmYiKSxJKGMsInRhbGVudERlZlNocmVkRGVidWZmIiksSShjLCJ1bHREZWZTaHJlZERlYnVmZiIpLEkoYywidGFyZ2V0RGVidWZmcyIpXTtyZXR1cm57Y29udGVudDooKT0+Yyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmYsZGVmYXVsdHM6KCk9Pih7c2tpbGxXZWFrbmVzc1Jlc1NocmVkRGVidWZmOiExLHNraWxsUmVzU2hyZWREZWJ1ZmY6ITAsdGFsZW50RGVmU2hyZWREZWJ1ZmY6ITAsdWx0RGVmU2hyZWREZWJ1ZmY6ITAsdGFyZ2V0RGVidWZmczo1fSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtza2lsbFdlYWtuZXNzUmVzU2hyZWREZWJ1ZmY6ITEsc2tpbGxSZXNTaHJlZERlYnVmZjohMCx0YWxlbnREZWZTaHJlZERlYnVmZjohMCx1bHREZWZTaHJlZERlYnVmZjohMCx0YXJnZXREZWJ1ZmZzOjV9KSxwcmVjb21wdXRlRWZmZWN0czoodSxDKT0+e2NvbnN0IGQ9Qy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIHUuQkFTSUNfU0NBTElORys9cCx1LlNLSUxMX1NDQUxJTkcrPVMsdS5VTFRfU0NBTElORys9Qix1LlVMVF9TQ0FMSU5HKz1lPj00P2QudGFyZ2V0RGVidWZmcyouMjowLHUuRUxFTUVOVEFMX0RNRys9ZT49Nj9kLnRhcmdldERlYnVmZnMqLjI6MCx1LkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLHUuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsdS5VTFRfVE9VR0hORVNTX0RNRys9OTAsdX0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHUsQyk9Pntjb25zdCBkPUMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3UuUkVTX1BFTis9ZC5za2lsbFdlYWtuZXNzUmVzU2hyZWREZWJ1ZmY/LjI6MCx1LlJFU19QRU4rPWQuc2tpbGxSZXNTaHJlZERlYnVmZj9zOjAsdS5SRVNfUEVOKz1kLnNraWxsUmVzU2hyZWREZWJ1ZmYmJmQudGFyZ2V0RGVidWZmcz49Mz8uMDM6MCx1LkRFRl9QRU4rPWQudWx0RGVmU2hyZWREZWJ1ZmY/bTowLHUuREVGX1BFTis9ZC50YWxlbnREZWZTaHJlZERlYnVmZj9sOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOnU9PngodSksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19O3ZhciBMYT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLlNwYXJrbGUiKSx7YmFzaWM6bixza2lsbDpvLHVsdDppLHRhbGVudDphfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LHM9byhlLC4yNCwuMjY0KSxsPW8oZSwuNDUsLjQ4NiksbT1pKGUsLjEsLjEwOCkscD1hKGUsLjA2LC4wNjYpLFM9bihlLDEsMS4xKSxCPW8oZSwwLDApLGM9aShlLDAsMCksZj17MDowLDE6LjA1LDI6LjE1LDM6LjN9LHU9W3tmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxDZEJ1ZmYiLG5hbWU6InNraWxsQ2RCdWZmIix0ZXh0OnQoIkNvbnRlbnQuc2tpbGxDZEJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuc2tpbGxDZEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc2tpbGxDZEJ1ZmYuY29udGVudCIse3NraWxsQ2RCdWZmU2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpzKSxza2lsbENkQnVmZkJhc2U6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbCl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJjaXBoZXJCdWZmIixuYW1lOiJjaXBoZXJCdWZmIix0ZXh0OnQoIkNvbnRlbnQuY2lwaGVyQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5jaXBoZXJCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmNpcGhlckJ1ZmYuY29udGVudCIse2NpcGhlclRhbGVudFN0YWNrQm9vc3Q6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbSl9KX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YWxlbnRTdGFja3MiLG5hbWU6InRhbGVudFN0YWNrcyIsdGV4dDp0KCJDb250ZW50LnRhbGVudFN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC50YWxlbnRTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudGFsZW50U3RhY2tzLmNvbnRlbnQiLHt0YWxlbnRCYXNlU3RhY2tCb29zdDpELnByZWNpc2lvblJvdW5kKDEwMCpwKX0pLG1pbjowLG1heDozfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InF1YW50dW1BbGxpZXMiLG5hbWU6InF1YW50dW1BbGxpZXMiLHRleHQ6dCgiQ29udGVudC5xdWFudHVtQWxsaWVzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnF1YW50dW1BbGxpZXMudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQucXVhbnR1bUFsbGllcy5jb250ZW50IiksbWluOjAsbWF4OjN9XSxDPVtJKHUsInNraWxsQ2RCdWZmIikse2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0ZWFtbWF0ZUNEVmFsdWUiLG5hbWU6InRlYW1tYXRlQ0RWYWx1ZSIsdGV4dDp0KCJUZWFtbWF0ZUNvbnRlbnQudGVhbW1hdGVDRFZhbHVlLnRleHQiKSx0aXRsZTp0KCJUZWFtbWF0ZUNvbnRlbnQudGVhbW1hdGVDRFZhbHVlLnRpdGxlIiksY29udGVudDp0KCJUZWFtbWF0ZUNvbnRlbnQudGVhbW1hdGVDRFZhbHVlLmNvbnRlbnQiLHtza2lsbENkQnVmZlNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcyksc2tpbGxDZEJ1ZmZCYXNlOkQucHJlY2lzaW9uUm91bmQoMTAwKmwpfSksbWluOjAsbWF4OjMuNSxwZXJjZW50OiEwfSxJKHUsImNpcGhlckJ1ZmYiKSxJKHUsInRhbGVudFN0YWNrcyIpLEkodSwicXVhbnR1bUFsbGllcyIpXSxkPXtza2lsbENkQnVmZjohMSxjaXBoZXJCdWZmOiEwLHRhbGVudFN0YWNrczozLHF1YW50dW1BbGxpZXM6M307cmV0dXJue2NvbnRlbnQ6KCk9PnUsdGVhbW1hdGVDb250ZW50OigpPT5DLGRlZmF1bHRzOigpPT5kLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7Li4uZCxza2lsbENkQnVmZjohMCx0ZWFtbWF0ZUNEVmFsdWU6Mi41fSkscHJlY29tcHV0ZUVmZmVjdHM6KGcsaCk9PihnLkJBU0lDX1NDQUxJTkcrPVMsZy5TS0lMTF9TQ0FMSU5HKz1CLGcuVUxUX1NDQUxJTkcrPWMsZy5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxnKSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooZyxoKT0+e2NvbnN0IF89aC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Z1tyLkFUS19QXSs9LjE1KyhoLlBSSU1BUllfRUxFTUVOVEFMX0RNR19UWVBFPT1yLlF1YW50dW1fRE1HJiZmW18ucXVhbnR1bUFsbGllc118fDApLGdbci5BVEtfUF0rPWU+PTEmJl8uY2lwaGVyQnVmZj8uNDowLGcuRUxFTUVOVEFMX0RNRys9Xy5jaXBoZXJCdWZmP18udGFsZW50U3RhY2tzKihwK20pOl8udGFsZW50U3RhY2tzKnAsZy5ERUZfUEVOKz1lPj0yPy4wOCpfLnRhbGVudFN0YWNrczowfSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihnLGgpPT57Y29uc3QgXz1oLmNoYXJhY3RlckNvbmRpdGlvbmFscztnW3IuQ0RdKz1fLnNraWxsQ2RCdWZmP2wrKHMrKGU+PTY/LjM6MCkpKl8udGVhbW1hdGVDRFZhbHVlOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmc9PngoZyksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKSxkeW5hbWljQ29uZGl0aW9uYWxzOlt7aWQ6IlNwYXJrbGVDZENvbmRpdGlvbmFsIix0eXBlOlUuQUJJTElUWSxhY3RpdmF0aW9uOk4uQ09OVElOVU9VUyxkZXBlbmRzT246W3IuQ0RdLHJhdGlvQ29udmVyc2lvbjohMCxjb25kaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZWZmZWN0OmZ1bmN0aW9uKGcsaCxfKXtpZighaC5jaGFyYWN0ZXJDb25kaXRpb25hbHMuc2tpbGxDZEJ1ZmYpcmV0dXJuO2NvbnN0IFQ9cysoZT49Nj8uMzowKSxMPV8uY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxQPWdbci5DRF0tZy5SQVRJT19CQVNFRF9DRF9CVUZGLCQ9VCpQK2wsRHQ9VCpMK2w7Xy5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPWdbci5DRF07Y29uc3QgbXQ9JC0oTD9EdDowKTtnLlJBVElPX0JBU0VEX0NEX0JVRkYrPW10LFYoZyxoLF8sci5DRCxtdCl9LGdwdTpmdW5jdGlvbihnLGgpe2NvbnN0IF89Zy5jaGFyYWN0ZXJDb25kaXRpb25hbHMsRT1zKyhlPj02Py4zOjApO3JldHVybiBGKHRoaXMsYAppZiAoJHtvdChfLnNraWxsQ2RCdWZmKX0pIHsKICByZXR1cm47Cn0KCmxldCBzdGF0ZVZhbHVlOiBmMzIgPSAoKnBfc3RhdGUpLlNwYXJrbGVDZENvbmRpdGlvbmFsOwpsZXQgY29udmVydGlibGVDZFZhbHVlOiBmMzIgPSAoKnBfeCkuQ0QgLSAoKnBfeCkuUkFUSU9fQkFTRURfQ0RfQlVGRjsKCnZhciBidWZmQ0Q6IGYzMiA9ICR7RX0gKiBjb252ZXJ0aWJsZUNkVmFsdWUgKyAke2x9Owp2YXIgc3RhdGVCdWZmQ0Q6IGYzMiA9ICR7RX0gKiBzdGF0ZVZhbHVlICsgJHtsfTsKCigqcF9zdGF0ZSkuU3BhcmtsZUNkQ29uZGl0aW9uYWwgPSAoKnBfeCkuQ0Q7CgpsZXQgZmluYWxCdWZmQ2QgPSBidWZmQ0QgLSBzZWxlY3QoMCwgc3RhdGVCdWZmQ0QsIHN0YXRlVmFsdWUgPiAwKTsKKCpwX3gpLlJBVElPX0JBU0VEX0NEX0JVRkYgKz0gZmluYWxCdWZmQ2Q7CgpidWZmTm9uUmF0aW9EeW5hbWljQ0QoZmluYWxCdWZmQ2QsIHBfeCwgcF9zdGF0ZSk7CiAgICBgKX19XX19LGthPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuU3VzaGFuZyIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuVUxUX1RBTEVOVF8zX1NLSUxMX0JBU0lDXzUscz1hKGUsLjIsLjIxKSxsPWkoZSwuMywuMzI0KSxtPWU+PTY/MjoxLHA9bihlLDEsMS4xKSxTPW8oZSwyLjEsMi4zMSksQj1vKGUsMSwxLjEpLGM9aShlLDMuMiwzLjQ1NiksZj1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHRCdWZmZWRTdGF0ZSIsbmFtZToidWx0QnVmZmVkU3RhdGUiLHRleHQ6dCgiQ29udGVudC51bHRCdWZmZWRTdGF0ZS50ZXh0IiksdGl0bGU6dCgiQ29udGVudC51bHRCdWZmZWRTdGF0ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC51bHRCdWZmZWRTdGF0ZS5jb250ZW50Iix7dWx0QnVmZmVkQXRrOkQucHJlY2lzaW9uUm91bmQoMTAwKmwpfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoic2tpbGxFeHRyYUhpdHMiLG5hbWU6InNraWxsRXh0cmFIaXRzIix0ZXh0OnQoIkNvbnRlbnQuc2tpbGxFeHRyYUhpdHMudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuc2tpbGxFeHRyYUhpdHMudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc2tpbGxFeHRyYUhpdHMuY29udGVudCIpLG1pbjowLG1heDozfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InNraWxsVHJpZ2dlclN0YWNrcyIsbmFtZToic2tpbGxUcmlnZ2VyU3RhY2tzIix0ZXh0OnQoIkNvbnRlbnQuc2tpbGxUcmlnZ2VyU3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNraWxsVHJpZ2dlclN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5za2lsbFRyaWdnZXJTdGFja3MuY29udGVudCIpLG1pbjowLG1heDoxMH0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YWxlbnRTcGRCdWZmU3RhY2tzIixuYW1lOiJ0YWxlbnRTcGRCdWZmU3RhY2tzIix0ZXh0OnQoIkNvbnRlbnQudGFsZW50U3BkQnVmZlN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC50YWxlbnRTcGRCdWZmU3RhY2tzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRhbGVudFNwZEJ1ZmZTdGFja3MuY29udGVudCIse3RhbGVudFNwZEJ1ZmZWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpzKX0pLG1pbjowLG1heDptfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyRG1nUmVkdWN0aW9uQnVmZiIsbmFtZToiZTJEbWdSZWR1Y3Rpb25CdWZmIix0ZXh0OnQoIkNvbnRlbnQuZTJEbWdSZWR1Y3Rpb25CdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmUyRG1nUmVkdWN0aW9uQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMkRtZ1JlZHVjdGlvbkJ1ZmYuY29udGVudCIpLGRpc2FibGVkOmU8Mn1dO3JldHVybntjb250ZW50OigpPT5mLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7dWx0QnVmZmVkU3RhdGU6ITAsZTJEbWdSZWR1Y3Rpb25CdWZmOiEwLHNraWxsRXh0cmFIaXRzOjMsc2tpbGxUcmlnZ2VyU3RhY2tzOjEwLHRhbGVudFNwZEJ1ZmZTdGFja3M6bX0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KHUsQyk9Pntjb25zdCBkPUMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3Vbci5CRV0rPWU+PTQ/LjQ6MCx1W3IuQVRLX1BdKz1kLnVsdEJ1ZmZlZFN0YXRlP2w6MCx1W3IuU1BEX1BdKz1kLnRhbGVudFNwZEJ1ZmZTdGFja3Mqcztjb25zdCBnPVM7bGV0IGg9MDtoKz1kLnNraWxsRXh0cmFIaXRzPj0xP0I6MCxoKz1kLnVsdEJ1ZmZlZFN0YXRlJiZkLnNraWxsRXh0cmFIaXRzPj0yP0IqLjU6MCxoKz1kLnVsdEJ1ZmZlZFN0YXRlJiZkLnNraWxsRXh0cmFIaXRzPj0zP0IqLjU6MDtjb25zdCBfPWgvKGgrZyk7cmV0dXJuIHUuQkFTSUNfU0NBTElORys9cCx1LlNLSUxMX1NDQUxJTkcrPWcsdS5TS0lMTF9TQ0FMSU5HKz1oLHUuVUxUX1NDQUxJTkcrPWMseSh1LHosZC5za2lsbFRyaWdnZXJTdGFja3MqLjAyNSpfKSx1LkRNR19SRURfTVVMVEkqPWU+PTImJmQuZTJEbWdSZWR1Y3Rpb25CdWZmPzEtLjI6MSx1LkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLHUuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsdS5VTFRfVE9VR0hORVNTX0RNRys9OTAsdX0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHUsQyk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOnU9PngodSksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LGJhPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuVGluZ3l1biIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuVUxUX0JBU0lDXzNfU0tJTExfVEFMRU5UXzUscz1vKGUsLjI1LC4yNyksbD1pKGUsLjUsLjU2KSxtPW8oZSwuNSwuNTUpLHA9byhlLC40LC40NCkrKGU+PTQ/LjI6MCksUz1hKGUsLjYsLjY2KSsoZT49ND8uMjowKSxCPW4oZSwxLDEuMSksYz1vKGUsMCwwKSxmPWkoZSwwLDApLHU9W3tmb3JtSXRlbToic3dpdGNoIixpZDoiYmVuZWRpY3Rpb25CdWZmIixuYW1lOiJiZW5lZGljdGlvbkJ1ZmYiLHRleHQ6dCgiQ29udGVudC5iZW5lZGljdGlvbkJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuYmVuZWRpY3Rpb25CdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmJlbmVkaWN0aW9uQnVmZi5jb250ZW50Iix7c2tpbGxBdGtCb29zdFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbSksc2tpbGxBdGtCb29zdE1heDpELnByZWNpc2lvblJvdW5kKDEwMCpzKSxza2lsbExpZ2h0bmluZ0RtZ0Jvb3N0U2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpwKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNraWxsU3BkQnVmZiIsbmFtZToic2tpbGxTcGRCdWZmIix0ZXh0OnQoIkNvbnRlbnQuc2tpbGxTcGRCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNraWxsU3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5za2lsbFNwZEJ1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdERtZ0J1ZmYiLG5hbWU6InVsdERtZ0J1ZmYiLHRleHQ6dCgiQ29udGVudC51bHREbWdCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnVsdERtZ0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudWx0RG1nQnVmZi5jb250ZW50Iix7dWx0RG1nQm9vc3Q6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbCl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHRTcGRCdWZmIixuYW1lOiJ1bHRTcGRCdWZmIix0ZXh0OnQoIkNvbnRlbnQudWx0U3BkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC51bHRTcGRCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnVsdFNwZEJ1ZmYuY29udGVudCIpLGRpc2FibGVkOmU8MX1dLEM9W0kodSwiYmVuZWRpY3Rpb25CdWZmIikse2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0ZWFtbWF0ZUF0a0J1ZmZWYWx1ZSIsbmFtZToidGVhbW1hdGVBdGtCdWZmVmFsdWUiLHRleHQ6dCgiVGVhbW1hdGVDb250ZW50LnRlYW1tYXRlQXRrQnVmZlZhbHVlLnRleHQiKSx0aXRsZTp0KCJUZWFtbWF0ZUNvbnRlbnQudGVhbW1hdGVBdGtCdWZmVmFsdWUudGl0bGUiKSxjb250ZW50OnQoIlRlYW1tYXRlQ29udGVudC50ZWFtbWF0ZUF0a0J1ZmZWYWx1ZS5jb250ZW50Iix7c2tpbGxBdGtCb29zdFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbSksc2tpbGxBdGtCb29zdE1heDpELnByZWNpc2lvblJvdW5kKDEwMCpzKSxza2lsbExpZ2h0bmluZ0RtZ0Jvb3N0U2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpwKX0pLG1pbjowLG1heDptLHBlcmNlbnQ6ITB9LEkodSwidWx0RG1nQnVmZiIpLEkodSwidWx0U3BkQnVmZiIpXTtyZXR1cm57Y29udGVudDooKT0+dSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PkMsZGVmYXVsdHM6KCk9Pih7YmVuZWRpY3Rpb25CdWZmOiExLHNraWxsU3BkQnVmZjohMSx1bHRTcGRCdWZmOiExLHVsdERtZ0J1ZmY6ITF9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2JlbmVkaWN0aW9uQnVmZjohMCx1bHRTcGRCdWZmOiExLHVsdERtZ0J1ZmY6ITAsdGVhbW1hdGVBdGtCdWZmVmFsdWU6bX0pLHByZWNvbXB1dGVFZmZlY3RzOihkLGcpPT57Y29uc3QgaD1nLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZFtyLlNQRF9QXSs9aC5za2lsbFNwZEJ1ZmY/LjI6MCxkLkJBU0lDX1NDQUxJTkcrPUIsZC5TS0lMTF9TQ0FMSU5HKz1jLGQuVUxUX1NDQUxJTkcrPWYseShkLFcsLjQpLGQuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsZH0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGQsZyk9Pntjb25zdCBoPWcuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2Rbci5TUERfUF0rPWU+PTEmJmgudWx0U3BkQnVmZj8uMjowLGQuRUxFTUVOVEFMX0RNRys9aC51bHREbWdCdWZmP2w6MH0scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czooZCxnKT0+e2NvbnN0IGg9Zy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7ZFtyLkFUS19QXSs9aC5iZW5lZGljdGlvbkJ1ZmY/aC50ZWFtbWF0ZUF0a0J1ZmZWYWx1ZTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooZCxnKT0+e2NvbnN0IGg9Zy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7ZC5CQVNJQ19ETUcrPWQuQkFTSUNfU0NBTElORypkW3IuQVRLXSsoaC5iZW5lZGljdGlvbkJ1ZmY/cCtTOjApKmRbci5BVEtdLGQuU0tJTExfRE1HKz1kLlNLSUxMX1NDQUxJTkcqZFtyLkFUS10sZC5VTFRfRE1HKz1kLlVMVF9TQ0FMSU5HKmRbci5BVEtdfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczpkPT57Y29uc3QgZz1kLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm5gCnguQkFTSUNfRE1HICs9IHguQkFTSUNfU0NBTElORyAqIHguQVRLOwppZiAoJHtqKGcuYmVuZWRpY3Rpb25CdWZmKX0pIHsKICB4LkJBU0lDX0RNRyArPSAoJHtwK1N9KSAqIHguQVRLOwp9Cgp4LlNLSUxMX0RNRyArPSB4LlNLSUxMX1NDQUxJTkcgKiB4LkFUSzsKeC5VTFRfRE1HICs9IHguVUxUX1NDQUxJTkcgKiB4LkFUSzsKICAgIGB9LGR5bmFtaWNDb25kaXRpb25hbHM6W3tpZDoiVGluZ3l1bkF0a0NvbmRpdGlvbmFsIix0eXBlOlUuQUJJTElUWSxhY3RpdmF0aW9uOk4uQ09OVElOVU9VUyxkZXBlbmRzT246W3IuQVRLXSxyYXRpb0NvbnZlcnNpb246ITAsY29uZGl0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVmZmVjdDpmdW5jdGlvbihkLGcsaCl7aWYoIWcuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLmJlbmVkaWN0aW9uQnVmZilyZXR1cm47Y29uc3QgRT1oLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsVD1kW3IuQVRLXS1kLlJBVElPX0JBU0VEX0FUS19CVUZGLEw9cypULFA9cypFO2guY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT1kW3IuQVRLXTtjb25zdCAkPUwtKEU/UDowKTtkLlJBVElPX0JBU0VEX0FUS19CVUZGKz0kLFYoZCxnLGgsci5BVEssJCl9LGdwdTpmdW5jdGlvbihkLGcpe2NvbnN0IGg9ZC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIEYodGhpcyxgCmlmICgke290KGguYmVuZWRpY3Rpb25CdWZmKX0pIHsKICByZXR1cm47Cn0KCmxldCBzdGF0ZVZhbHVlOiBmMzIgPSAoKnBfc3RhdGUpLlRpbmd5dW5BdGtDb25kaXRpb25hbDsKbGV0IGNvbnZlcnRpYmxlQXRrVmFsdWU6IGYzMiA9ICgqcF94KS5BVEsgLSAoKnBfeCkuUkFUSU9fQkFTRURfQVRLX0JVRkY7Cgp2YXIgYnVmZkFUSzogZjMyID0gJHtzfSAqIGNvbnZlcnRpYmxlQXRrVmFsdWU7CnZhciBzdGF0ZUJ1ZmZBVEs6IGYzMiA9ICR7c30gKiBzdGF0ZVZhbHVlOwoKKCpwX3N0YXRlKS5UaW5neXVuQXRrQ29uZGl0aW9uYWwgPSAoKnBfeCkuQVRLOwoKbGV0IGZpbmFsQnVmZkF0ayA9IGJ1ZmZBVEsgLSBzZWxlY3QoMCwgc3RhdGVCdWZmQVRLLCBzdGF0ZVZhbHVlID4gMCk7CigqcF94KS5SQVRJT19CQVNFRF9BVEtfQlVGRiArPSBmaW5hbEJ1ZmZBdGs7CgpidWZmTm9uUmF0aW9EeW5hbWljQVRLKGZpbmFsQnVmZkF0aywgcF94LCBwX3N0YXRlKTsKICAgIGApfX1dfX0seWE9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5XZWx0Iikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxzPWU+PTY/MzoyLGw9bihlLDEsMS4xKSxtPW8oZSwuNzIsLjc5MikscD1pKGUsMS41LDEuNjIpLFM9YShlLC42LC42NiksQj1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmVteURtZ1Rha2VuRGVidWZmIixuYW1lOiJlbmVteURtZ1Rha2VuRGVidWZmIix0ZXh0OnQoIkNvbnRlbnQuZW5lbXlEbWdUYWtlbkRlYnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lbmVteURtZ1Rha2VuRGVidWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmVuZW15RG1nVGFrZW5EZWJ1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuZW15U2xvd2VkIixuYW1lOiJlbmVteVNsb3dlZCIsdGV4dDp0KCJDb250ZW50LmVuZW15U2xvd2VkLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmVuZW15U2xvd2VkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmVuZW15U2xvd2VkLmNvbnRlbnQiLHt0YWxlbnRTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKlMpfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoic2tpbGxFeHRyYUhpdHMiLG5hbWU6InNraWxsRXh0cmFIaXRzIix0ZXh0OnQoIkNvbnRlbnQuc2tpbGxFeHRyYUhpdHMudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuc2tpbGxFeHRyYUhpdHMudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc2tpbGxFeHRyYUhpdHMuY29udGVudCIse3NraWxsU2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCptKX0pLG1pbjowLG1heDpzfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxRW5oYW5jZWRTdGF0ZSIsbmFtZToiZTFFbmhhbmNlZFN0YXRlIix0ZXh0OnQoIkNvbnRlbnQuZTFFbmhhbmNlZFN0YXRlLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmUxRW5oYW5jZWRTdGF0ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMUVuaGFuY2VkU3RhdGUuY29udGVudCIpLGRpc2FibGVkOmU8MX1dLGM9W0koQiwiZW5lbXlEbWdUYWtlbkRlYnVmZiIpXTtyZXR1cm57Y29udGVudDooKT0+Qix0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmMsZGVmYXVsdHM6KCk9Pih7ZW5lbXlTbG93ZWQ6ITAsZW5lbXlEbWdUYWtlbkRlYnVmZjohMCxza2lsbEV4dHJhSGl0czpzLGUxRW5oYW5jZWRTdGF0ZTohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7ZW5lbXlEbWdUYWtlbkRlYnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihmLHUpPT57Y29uc3QgQz11LmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZi5FTEVNRU5UQUxfRE1HKz1mLkVORU1ZX1dFQUtORVNTX0JST0tFTj8uMjowLGYuQkFTSUNfU0NBTElORys9bCxmLlNLSUxMX1NDQUxJTkcrPW0sZi5VTFRfU0NBTElORys9cCxmLkJBU0lDX1NDQUxJTkcrPUMuZW5lbXlTbG93ZWQ/UzowLGYuU0tJTExfU0NBTElORys9Qy5lbmVteVNsb3dlZD9TOjAsZi5VTFRfU0NBTElORys9Qy5lbmVteVNsb3dlZD9TOjAsZi5CQVNJQ19TQ0FMSU5HKz1lPj0xJiZDLmUxRW5oYW5jZWRTdGF0ZT8uNSpsOjAsZi5TS0lMTF9TQ0FMSU5HKz1lPj0xJiZDLmUxRW5oYW5jZWRTdGF0ZT8uOCptOjAsZi5TS0lMTF9TQ0FMSU5HKz1DLnNraWxsRXh0cmFIaXRzKm0sZi5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxmLlNLSUxMX1RPVUdITkVTU19ETUcrPTMwKzMwKkMuc2tpbGxFeHRyYUhpdHMsZi5VTFRfVE9VR0hORVNTX0RNRys9NjAsZn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsdSk9Pntjb25zdCBDPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2YuVlVMTkVSQUJJTElUWSs9Qy5lbmVteURtZ1Rha2VuRGVidWZmPy4xMjowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpmPT54KGYpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxSYT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLlh1ZXlpIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxzPWkoZSwuNiwuNjQ4KSxsPW4oZSwxLDEuMSksbT1vKGUsMS40LDEuNTQpLHA9aShlLDIuNSwyLjcpLFM9YShlLC45LC45OSksQj17MDowLDE6UiooMSoxLzEpLDI6UiooMSoxLzIrMioxLzIpLDM6UiooMSoxLzMrMioxLzMrMyoxLzMpfSxjPVt7aWQ6ImJlVG9EbWdCb29zdCIsbmFtZToiYmVUb0RtZ0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuYmVUb0RtZ0Jvb3N0LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmJlVG9EbWdCb29zdC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5iZVRvRG1nQm9vc3QuY29udGVudCIpfSx7aWQ6ImVuZW15VG91Z2huZXNzNTAiLG5hbWU6ImVuZW15VG91Z2huZXNzNTAiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5lbmVteVRvdWdobmVzczUwLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmVuZW15VG91Z2huZXNzNTAudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZW5lbXlUb3VnaG5lc3M1MC5jb250ZW50Iil9LHtpZDoidG91Z2huZXNzUmVkdWN0aW9uRG1nQm9vc3QiLG5hbWU6InRvdWdobmVzc1JlZHVjdGlvbkRtZ0Jvb3N0Iixmb3JtSXRlbToic2xpZGVyIix0ZXh0OnQoIkNvbnRlbnQudG91Z2huZXNzUmVkdWN0aW9uRG1nQm9vc3QudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudG91Z2huZXNzUmVkdWN0aW9uRG1nQm9vc3QudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudG91Z2huZXNzUmVkdWN0aW9uRG1nQm9vc3QuY29udGVudCIse3VsdEJvb3N0TWF4OkQucHJlY2lzaW9uUm91bmQoMTAwKnMpfSksbWluOjAsbWF4OnMscGVyY2VudDohMH0se2lkOiJmdWFIaXRzIixuYW1lOiJmdWFIaXRzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OnQoIkNvbnRlbnQuZnVhSGl0cy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5mdWFIaXRzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmZ1YUhpdHMuY29udGVudCIse2Z1YVNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqUyl9KSxtaW46MCxtYXg6M30se2lkOiJlNEJlQnVmZiIsbmFtZToiZTRCZUJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5lNEJlQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lNEJlQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNEJlQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6ZTw0fV07cmV0dXJue2NvbnRlbnQ6KCk9PmMsdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHtiZVRvRG1nQm9vc3Q6ITAsZW5lbXlUb3VnaG5lc3M1MDohMCx0b3VnaG5lc3NSZWR1Y3Rpb25EbWdCb29zdDpzLGZ1YUhpdHM6MyxlNEJlQnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KGYsdSk9Pntjb25zdCBDPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBmW3IuQkVdKz1lPj00JiZDLmU0QmVCdWZmPy40OjAsZi5CQVNJQ19TQ0FMSU5HKz1sLGYuU0tJTExfU0NBTElORys9bSxmLlVMVF9TQ0FMSU5HKz1wLGYuRlVBX1NDQUxJTkcrPVMqQy5mdWFIaXRzLHkoZixPLEMudG91Z2huZXNzUmVkdWN0aW9uRG1nQm9vc3QpLHkoZixPLC4xLEMuZW5lbXlUb3VnaG5lc3M1MCkseShmLE0sLjQsZT49MSksZi5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxmLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGYuVUxUX1RPVUdITkVTU19ETUcrPTEyMCxmLkZVQV9UT1VHSE5FU1NfRE1HKz0xNSpDLmZ1YUhpdHMsZn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsdSk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihmLHUpPT57WihmLHUsQlt1LmNoYXJhY3RlckNvbmRpdGlvbmFscy5mdWFIaXRzXSl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOmY9PnEoQltmLmNoYXJhY3RlckNvbmRpdGlvbmFscy5mdWFIaXRzXSksZHluYW1pY0NvbmRpdGlvbmFsczpbSGldfX0sR2E9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5ZYW5xaW5nIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxzPWkoZSwuNSwuNTQpLGw9aShlLC4zLC4zMyksbT1pKGUsLjIsLjIxKSxwPW4oZSwxLDEuMSksUz1vKGUsMi4yLDIuNDIpLEI9aShlLDMuNSwzLjc4KSxjPWEoZSwuNSwuNTUpLGY9UiooMSoxLzEpLHU9W3tmb3JtSXRlbToic3dpdGNoIixpZDoidWx0QnVmZkFjdGl2ZSIsbmFtZToidWx0QnVmZkFjdGl2ZSIsdGV4dDp0KCJDb250ZW50LnVsdEJ1ZmZBY3RpdmUudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudWx0QnVmZkFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC51bHRCdWZmQWN0aXZlLmNvbnRlbnQiLHt1bHRDZEJ1ZmZWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpzKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNvdWxzdGVlbEJ1ZmZBY3RpdmUiLG5hbWU6InNvdWxzdGVlbEJ1ZmZBY3RpdmUiLHRleHQ6dCgiQ29udGVudC5zb3Vsc3RlZWxCdWZmQWN0aXZlLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNvdWxzdGVlbEJ1ZmZBY3RpdmUudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc291bHN0ZWVsQnVmZkFjdGl2ZS5jb250ZW50Iix7dGFsZW50Q2RCdWZmVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbCksdGFsZW50Q3JCdWZmVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbSksdWx0Q2RCdWZmVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcyl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJjcml0U3BkQnVmZiIsbmFtZToiY3JpdFNwZEJ1ZmYiLHRleHQ6dCgiQ29udGVudC5jcml0U3BkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5jcml0U3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5jcml0U3BkQnVmZi5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFUYXJnZXRGcm96ZW4iLG5hbWU6ImUxVGFyZ2V0RnJvemVuIix0ZXh0OnQoIkNvbnRlbnQuZTFUYXJnZXRGcm96ZW4udGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTFUYXJnZXRGcm96ZW4udGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTFUYXJnZXRGcm96ZW4uY29udGVudCIpLGRpc2FibGVkOmU8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNEN1cnJlbnRIcDgwIixuYW1lOiJlNEN1cnJlbnRIcDgwIix0ZXh0OnQoIkNvbnRlbnQuZTRDdXJyZW50SHA4MC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lNEN1cnJlbnRIcDgwLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmU0Q3VycmVudEhwODAuY29udGVudCIpLGRpc2FibGVkOmU8NH1dO3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7dWx0QnVmZkFjdGl2ZTohMCxzb3Vsc3RlZWxCdWZmQWN0aXZlOiEwLGNyaXRTcGRCdWZmOiEwLGUxVGFyZ2V0RnJvemVuOiEwLGU0Q3VycmVudEhwODA6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihDLGQpPT57Y29uc3QgZz1kLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gQ1tyLkNSXSs9Zy51bHRCdWZmQWN0aXZlPy42OjAsQ1tyLkNEXSs9Zy51bHRCdWZmQWN0aXZlJiZnLnNvdWxzdGVlbEJ1ZmZBY3RpdmU/czowLENbci5DUl0rPWcuc291bHN0ZWVsQnVmZkFjdGl2ZT9tOjAsQ1tyLkNEXSs9Zy5zb3Vsc3RlZWxCdWZmQWN0aXZlP2w6MCxDW3IuUkVTXSs9Zy5zb3Vsc3RlZWxCdWZmQWN0aXZlPy4yOjAsQ1tyLlNQRF9QXSs9Zy5jcml0U3BkQnVmZj8uMTowLENbci5FUlJdKz1lPj0yJiZnLnNvdWxzdGVlbEJ1ZmZBY3RpdmU/LjE6MCxDLkJBU0lDX1NDQUxJTkcrPXAsQy5TS0lMTF9TQ0FMSU5HKz1TLEMuVUxUX1NDQUxJTkcrPUIsQy5GVUFfU0NBTElORys9YyxDLkJBU0lDX1NDQUxJTkcrPWQuZW5lbXlFbGVtZW50YWxXZWFrPy4zOjAsQy5TS0lMTF9TQ0FMSU5HKz1kLmVuZW15RWxlbWVudGFsV2Vhaz8uMzowLEMuVUxUX1NDQUxJTkcrPWQuZW5lbXlFbGVtZW50YWxXZWFrPy4zOjAsQy5GVUFfU0NBTElORys9ZC5lbmVteUVsZW1lbnRhbFdlYWs/LjM6MCxDLkJBU0lDX1NDQUxJTkcrPWU+PTEmJmcuZTFUYXJnZXRGcm96ZW4/LjY6MCxDLlNLSUxMX1NDQUxJTkcrPWU+PTEmJmcuZTFUYXJnZXRGcm96ZW4/LjY6MCxDLlVMVF9TQ0FMSU5HKz1lPj0xJiZnLmUxVGFyZ2V0RnJvemVuPy42OjAsQy5GVUFfU0NBTElORys9ZT49MSYmZy5lMVRhcmdldEZyb3plbj8uNjowLEMuSUNFX1JFU19QRU4rPWU+PTQmJmcuZTRDdXJyZW50SHA4MD8uMTI6MCxDLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLEMuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsQy5VTFRfVE9VR0hORVNTX0RNRys9OTAsQy5GVUFfVE9VR0hORVNTX0RNRys9MzAsQ30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KEMsZCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihDLGQpPT57WihDLGQsZil9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOkM9PnEoZil9fSxNYT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLll1a29uZyIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUscz1vKGUsLjgsLjg4KSxsPW8oZSwuNjUsLjcwMiksbT1vKGUsLjI4LC4yOTQpLHA9YShlLC44LC44OCksUz1uKGUsMSwxLjEpLEI9byhlLDAsMCksYz1pKGUsMy44LDQuMTA0KSxmPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRlYW1JbWFnaW5hcnlEbWdCb29zdCIsbmFtZToidGVhbUltYWdpbmFyeURtZ0Jvb3N0Iix0ZXh0OnQoIkNvbnRlbnQudGVhbUltYWdpbmFyeURtZ0Jvb3N0LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRlYW1JbWFnaW5hcnlEbWdCb29zdC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC50ZWFtSW1hZ2luYXJ5RG1nQm9vc3QuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InJvYXJpbmdCb3dzdHJpbmdzQWN0aXZlIixuYW1lOiJyb2FyaW5nQm93c3RyaW5nc0FjdGl2ZSIsdGV4dDp0KCJDb250ZW50LnJvYXJpbmdCb3dzdHJpbmdzQWN0aXZlLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnJvYXJpbmdCb3dzdHJpbmdzQWN0aXZlLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnJvYXJpbmdCb3dzdHJpbmdzQWN0aXZlLmNvbnRlbnQiLHtza2lsbEF0a0J1ZmZWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpzKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdEJ1ZmYiLG5hbWU6InVsdEJ1ZmYiLHRleHQ6dCgiQ29udGVudC51bHRCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnVsdEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudWx0QnVmZi5jb250ZW50Iix7dWx0Q3JCdWZmVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbSksdWx0Q2RCdWZmVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbCksdWx0U2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpjKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImluaXRpYWxTcGVlZEJ1ZmYiLG5hbWU6ImluaXRpYWxTcGVlZEJ1ZmYiLHRleHQ6dCgiQ29udGVudC5pbml0aWFsU3BlZWRCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmluaXRpYWxTcGVlZEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuaW5pdGlhbFNwZWVkQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6ZTwxfV0sdT1bSShmLCJ0ZWFtSW1hZ2luYXJ5RG1nQm9vc3QiKSxJKGYsInJvYXJpbmdCb3dzdHJpbmdzQWN0aXZlIiksSShmLCJ1bHRCdWZmIiksSShmLCJpbml0aWFsU3BlZWRCdWZmIildO3JldHVybntjb250ZW50OigpPT5mLHRlYW1tYXRlQ29udGVudDooKT0+dSxkZWZhdWx0czooKT0+KHt0ZWFtSW1hZ2luYXJ5RG1nQm9vc3Q6ITAscm9hcmluZ0Jvd3N0cmluZ3NBY3RpdmU6ITAsdWx0QnVmZjohMCxpbml0aWFsU3BlZWRCdWZmOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0ZWFtSW1hZ2luYXJ5RG1nQm9vc3Q6ITAscm9hcmluZ0Jvd3N0cmluZ3NBY3RpdmU6ITAsdWx0QnVmZjohMCxpbml0aWFsU3BlZWRCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KEMsZCk9Pntjb25zdCBnPWQuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBDLkJBU0lDX1NDQUxJTkcrPVMsQy5CQVNJQ19TQ0FMSU5HKz1wLEMuU0tJTExfU0NBTElORys9QixDLlVMVF9TQ0FMSU5HKz1jLEMuRUxFTUVOVEFMX0RNRys9ZT49NCYmZy5yb2FyaW5nQm93c3RyaW5nc0FjdGl2ZT8uMzowLEMuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsQy5VTFRfVE9VR0hORVNTX0RNRys9OTAsQ30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KEMsZCk9Pntjb25zdCBnPWQuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO0Nbci5BVEtfUF0rPWcucm9hcmluZ0Jvd3N0cmluZ3NBY3RpdmU/czowLENbci5DUl0rPWcudWx0QnVmZiYmZy5yb2FyaW5nQm93c3RyaW5nc0FjdGl2ZT9tOjAsQ1tyLkNEXSs9Zy51bHRCdWZmJiZnLnJvYXJpbmdCb3dzdHJpbmdzQWN0aXZlP2w6MCxDW3IuU1BEX1BdKz1lPj0xJiZnLmluaXRpYWxTcGVlZEJ1ZmY/LjE6MCxDW3IuSW1hZ2luYXJ5X0RNR10rPWcudGVhbUltYWdpbmFyeURtZ0Jvb3N0Py4xMjowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpDPT54KEMpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSx2YT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkFjaGVyb24iKSx7YmFzaWM6bixza2lsbDpvLHVsdDppLHRhbGVudDphfT1iLlVMVF9CQVNJQ18zX1NLSUxMX1RBTEVOVF81LHM9bihlLDEsMS4xKSxsPW8oZSwxLjYsMS43NiksbT1pKGUsLjI0LC4yNTkyKSxwPWkoZSwuMTUsLjE2MiksUz1pKGUsMS4yLDEuMjk2KSxCPS4yNSxjPWEoZSwuMiwuMjIpLGY9OSx1PWU+PTI/MToyLEM9ezA6MCwxOmU+PTI/LjY6LjE1LDI6LjZ9LGQ9W3tmb3JtSXRlbToic2xpZGVyIixpZDoiY3JpbXNvbktub3RTdGFja3MiLG5hbWU6ImNyaW1zb25Lbm90U3RhY2tzIix0ZXh0OnQoIkNvbnRlbnQuY3JpbXNvbktub3RTdGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuY3JpbXNvbktub3RTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuY3JpbXNvbktub3RTdGFja3MuY29udGVudCIse1JhaW5ibGFkZVNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbSksQ3JpbXNvbktub3RTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKnApfSksbWluOjAsbWF4OmZ9LHtmb3JtSXRlbToic2xpZGVyIixpZDoibmloaWxpdHlUZWFtbWF0ZXMiLG5hbWU6Im5paGlsaXR5VGVhbW1hdGVzIix0ZXh0OnQoIkNvbnRlbnQubmloaWxpdHlUZWFtbWF0ZXMudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQubmloaWxpdHlUZWFtbWF0ZXMudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQubmloaWxpdHlUZWFtbWF0ZXMuY29udGVudCIpLG1pbjowLG1heDp1fSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InRodW5kZXJDb3JlU3RhY2tzIixuYW1lOiJ0aHVuZGVyQ29yZVN0YWNrcyIsdGV4dDp0KCJDb250ZW50LnRodW5kZXJDb3JlU3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRodW5kZXJDb3JlU3RhY2tzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRodW5kZXJDb3JlU3RhY2tzLmNvbnRlbnQiKSxtaW46MCxtYXg6M30se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJzdHlnaWFuUmVzdXJnZUhpdHNPblRhcmdldCIsbmFtZToic3R5Z2lhblJlc3VyZ2VIaXRzT25UYXJnZXQiLHRleHQ6dCgiQ29udGVudC5zdHlnaWFuUmVzdXJnZUhpdHNPblRhcmdldC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5zdHlnaWFuUmVzdXJnZUhpdHNPblRhcmdldC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5zdHlnaWFuUmVzdXJnZUhpdHNPblRhcmdldC5jb250ZW50IiksbWluOjAsbWF4OjZ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFFbmVteURlYnVmZmVkIixuYW1lOiJlMUVuZW15RGVidWZmZWQiLHRleHQ6dCgiQ29udGVudC5lMUVuZW15RGVidWZmZWQudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTFFbmVteURlYnVmZmVkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmUxRW5lbXlEZWJ1ZmZlZC5jb250ZW50IiksZGlzYWJsZWQ6ZTwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0VWx0VnVsbmVyYWJpbGl0eSIsbmFtZToiZTRVbHRWdWxuZXJhYmlsaXR5Iix0ZXh0OnQoIkNvbnRlbnQuZTRVbHRWdWxuZXJhYmlsaXR5LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmU0VWx0VnVsbmVyYWJpbGl0eS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNFVsdFZ1bG5lcmFiaWxpdHkuY29udGVudCIpLGRpc2FibGVkOmU8NH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNlVsdEJ1ZmZzIixuYW1lOiJlNlVsdEJ1ZmZzIix0ZXh0OnQoIkNvbnRlbnQuZTZVbHRCdWZmcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lNlVsdEJ1ZmZzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmU2VWx0QnVmZnMuY29udGVudCIpLGRpc2FibGVkOmU8Nn1dLGc9W0koZCwiZTRVbHRWdWxuZXJhYmlsaXR5IildO3JldHVybntjb250ZW50OigpPT5kLHRlYW1tYXRlQ29udGVudDooKT0+ZyxkZWZhdWx0czooKT0+KHtjcmltc29uS25vdFN0YWNrczpmLG5paGlsaXR5VGVhbW1hdGVzOnUsZTFFbmVteURlYnVmZmVkOiEwLHRodW5kZXJDb3JlU3RhY2tzOjMsc3R5Z2lhblJlc3VyZ2VIaXRzT25UYXJnZXQ6NixlNFVsdFZ1bG5lcmFiaWxpdHk6ITAsZTZVbHRCdWZmczohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7ZTRVbHRWdWxuZXJhYmlsaXR5OiEwfSksaW5pdGlhbGl6ZUNvbmZpZ3VyYXRpb25zOihoLF8pPT57Y29uc3QgRT1fLmNoYXJhY3RlckNvbmRpdGlvbmFscztlPj02JiZFLmU2VWx0QnVmZnMmJihoLkJBU0lDX0RNR19UWVBFPU98VyxoLlNLSUxMX0RNR19UWVBFPU98eil9LHByZWNvbXB1dGVFZmZlY3RzOihoLF8pPT57Y29uc3QgRT1fLmNoYXJhY3RlckNvbmRpdGlvbmFscztoW3IuQ1JdKz1lPj0xJiZFLmUxRW5lbXlEZWJ1ZmZlZD8uMTg6MCxoLkVMRU1FTlRBTF9ETUcrPUUudGh1bmRlckNvcmVTdGFja3MqLjMsSXQoaCxPLGMpLEl0KGgsTywuMixlPj02JiZFLmU2VWx0QnVmZnMpO2NvbnN0IFQ9Q1tFLm5paGlsaXR5VGVhbW1hdGVzXTtyZXR1cm4gaC5CQVNJQ19PUklHSU5BTF9ETUdfQk9PU1QrPVQsaC5TS0lMTF9PUklHSU5BTF9ETUdfQk9PU1QrPVQsaC5VTFRfT1JJR0lOQUxfRE1HX0JPT1NUKz1ULGguQkFTSUNfU0NBTElORz1zLGguU0tJTExfU0NBTElORz1sLGguVUxUX1NDQUxJTkcrPTMqbSxoLlVMVF9TQ0FMSU5HKz0zKnAsaC5VTFRfU0NBTElORys9cCpFLmNyaW1zb25Lbm90U3RhY2tzLGguVUxUX1NDQUxJTkcrPVMsaC5VTFRfU0NBTElORys9RS5zdHlnaWFuUmVzdXJnZUhpdHNPblRhcmdldCpCLGguQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsaC5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxoLlVMVF9UT1VHSE5FU1NfRE1HKz0xMDUsaH0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGgsXyk9Pntjb25zdCBFPV8uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2l0KGgsTywuMDgsZT49NCYmRS5lNFVsdFZ1bG5lcmFiaWxpdHkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpoPT54KGgpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxOYT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkF2ZW50dXJpbmUiKSx7YmFzaWM6bix1bHQ6byx0YWxlbnQ6aX09Yi5VTFRfQkFTSUNfM19TS0lMTF9UQUxFTlRfNSxhPW4oZSwxLDEuMSkscz1vKGUsMi43LDIuOTE2KSxsPW8oZSwuMTUsLjE2MiksbT1pKGUsLjI1LC4yNzUpLHA9aShlLC41LC41NSksUz1lPj00PzEwOjcsQj1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJkZWZUb0NyQm9vc3QiLG5hbWU6ImRlZlRvQ3JCb29zdCIsdGV4dDp0KCJDb250ZW50LmRlZlRvQ3JCb29zdC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5kZWZUb0NyQm9vc3QudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZGVmVG9DckJvb3N0LmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJmb3J0aWZpZWRXYWdlckJ1ZmYiLG5hbWU6ImZvcnRpZmllZFdhZ2VyQnVmZiIsdGV4dDp0KCJDb250ZW50LmZvcnRpZmllZFdhZ2VyQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5mb3J0aWZpZWRXYWdlckJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZm9ydGlmaWVkV2FnZXJCdWZmLmNvbnRlbnQiLHt0YWxlbnRSZXNTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKnApfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZW5lbXlVbm5lcnZlZERlYnVmZiIsbmFtZToiZW5lbXlVbm5lcnZlZERlYnVmZiIsdGV4dDp0KCJDb250ZW50LmVuZW15VW5uZXJ2ZWREZWJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZW5lbXlVbm5lcnZlZERlYnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lbmVteVVubmVydmVkRGVidWZmLmNvbnRlbnQiLHt1bHRDZEJvb3N0OkQucHJlY2lzaW9uUm91bmQoMTAwKmwpfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiZnVhSGl0c09uVGFyZ2V0IixuYW1lOiJmdWFIaXRzT25UYXJnZXQiLHRleHQ6dCgiQ29udGVudC5mdWFIaXRzT25UYXJnZXQudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZnVhSGl0c09uVGFyZ2V0LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmZ1YUhpdHNPblRhcmdldC5jb250ZW50Iix7dGFsZW50RG1nU2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCptKX0pLG1pbjowLG1heDpTfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyUmVzU2hyZWQiLG5hbWU6ImUyUmVzU2hyZWQiLHRleHQ6dCgiQ29udGVudC5lMlJlc1NocmVkLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmUyUmVzU2hyZWQudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTJSZXNTaHJlZC5jb250ZW50IiksZGlzYWJsZWQ6ZTwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0RGVmQnVmZiIsbmFtZToiZTREZWZCdWZmIix0ZXh0OnQoIkNvbnRlbnQuZTREZWZCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmU0RGVmQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNERlZkJ1ZmYuY29udGVudCIpLGRpc2FibGVkOmU8NH0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJlNlNoaWVsZFN0YWNrcyIsbmFtZToiZTZTaGllbGRTdGFja3MiLHRleHQ6dCgiQ29udGVudC5lNlNoaWVsZFN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lNlNoaWVsZFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNlNoaWVsZFN0YWNrcy5jb250ZW50IiksbWluOjAsbWF4OjMsZGlzYWJsZWQ6ZTw2fV0sYz1bSShCLCJmb3J0aWZpZWRXYWdlckJ1ZmYiKSxJKEIsImVuZW15VW5uZXJ2ZWREZWJ1ZmYiKSxJKEIsImUyUmVzU2hyZWQiKV07cmV0dXJue2NvbnRlbnQ6KCk9PkIsdGVhbW1hdGVDb250ZW50OigpPT5jLGRlZmF1bHRzOigpPT4oe2RlZlRvQ3JCb29zdDohMCxmdWFIaXRzT25UYXJnZXQ6Uyxmb3J0aWZpZWRXYWdlckJ1ZmY6ITAsZW5lbXlVbm5lcnZlZERlYnVmZjohMCxlMlJlc1NocmVkOiEwLGU0RGVmQnVmZjohMCxlNlNoaWVsZFN0YWNrczozfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtmb3J0aWZpZWRXYWdlckJ1ZmY6ITAsZW5lbXlVbm5lcnZlZERlYnVmZjohMCxlMlJlc1NocmVkOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGYsdSk9Pntjb25zdCBDPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBmW3IuREVGX1BdKz1lPj00JiZDLmU0RGVmQnVmZj8uNDowLGYuRUxFTUVOVEFMX0RNRys9ZT49Nj9NYXRoLm1pbigxLjUsLjUqQy5lNlNoaWVsZFN0YWNrcyk6MCxmLkJBU0lDX1NDQUxJTkcrPWEsZi5VTFRfU0NBTElORys9cyxmLkZVQV9TQ0FMSU5HKz1tKkMuZnVhSGl0c09uVGFyZ2V0LGYuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsZi5VTFRfVE9VR0hORVNTX0RNRys9OTAsZi5GVUFfVE9VR0hORVNTX0RNRys9MTAqQy5mdWFIaXRzT25UYXJnZXQsZn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsdSk9Pntjb25zdCBDPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2Zbci5SRVNdKz1DLmZvcnRpZmllZFdhZ2VyQnVmZj9wOjAsZltyLkNEXSs9Qy5lbmVteVVubmVydmVkRGVidWZmP2w6MCxmW3IuQ0RdKz1lPj0xJiZDLmZvcnRpZmllZFdhZ2VyQnVmZj8uMjowLGYuUkVTX1BFTis9ZT49MiYmQy5lMlJlc1NocmVkPy4xMjowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooZix1KT0+e2YuQkFTSUNfRE1HKz1mLkJBU0lDX1NDQUxJTkcqZltyLkRFRl0sZi5VTFRfRE1HKz1mLlVMVF9TQ0FMSU5HKmZbci5ERUZdLGYuRlVBX0RNRys9Zi5GVUFfU0NBTElORypmW3IuREVGXX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PmAKeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogeC5ERUY7CnguVUxUX0RNRyArPSB4LlVMVF9TQ0FMSU5HICogeC5ERUY7CnguRlVBX0RNRyArPSB4LkZVQV9TQ0FMSU5HICogeC5ERUY7CiAgICAgIGAsZHluYW1pY0NvbmRpdGlvbmFsczpbRmldfX0sT2E9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5HYWxsYWdoZXIiKSx7YmFzaWM6bix0YWxlbnQ6b309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxpPW4oZSwxLDEuMSksYT1uKGUsMi41LDIuNzUpLHM9bihlLDEuNSwxLjY1KSxsPW8oZSwuMTIsLjEzMiksbT1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJiYXNpY0VuaGFuY2VkIixuYW1lOiJiYXNpY0VuaGFuY2VkIix0ZXh0OnQoIkNvbnRlbnQuYmFzaWNFbmhhbmNlZC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5iYXNpY0VuaGFuY2VkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmJhc2ljRW5oYW5jZWQuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImJyZWFrRWZmZWN0VG9PaGJCb29zdCIsbmFtZToiYnJlYWtFZmZlY3RUb09oYkJvb3N0Iix0ZXh0OnQoIkNvbnRlbnQuYnJlYWtFZmZlY3RUb09oYkJvb3N0LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmJyZWFrRWZmZWN0VG9PaGJCb29zdC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5icmVha0VmZmVjdFRvT2hiQm9vc3QuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhcmdldEJlc290dGVkIixuYW1lOiJ0YXJnZXRCZXNvdHRlZCIsdGV4dDp0KCJDb250ZW50LnRhcmdldEJlc290dGVkLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRhcmdldEJlc290dGVkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRhcmdldEJlc290dGVkLmNvbnRlbnQiLHt0YWxlbnRCZXNvdHRlZFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbCl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMVJlc0J1ZmYiLG5hbWU6ImUxUmVzQnVmZiIsdGV4dDp0KCJDb250ZW50LmUxUmVzQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMVJlc0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTFSZXNCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJSZXNCdWZmIixuYW1lOiJlMlJlc0J1ZmYiLHRleHQ6dCgiQ29udGVudC5lMlJlc0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTJSZXNCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmUyUmVzQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6ZTwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2QmVCdWZmIixuYW1lOiJlNkJlQnVmZiIsdGV4dDp0KCJDb250ZW50LmU2QmVCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmU2QmVCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmU2QmVCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDplPDZ9XSxwPVtJKG0sInRhcmdldEJlc290dGVkIildO3JldHVybntjb250ZW50OigpPT5tLHRlYW1tYXRlQ29udGVudDooKT0+cCxkZWZhdWx0czooKT0+KHtiYXNpY0VuaGFuY2VkOiEwLGJyZWFrRWZmZWN0VG9PaGJCb29zdDohMCxlMVJlc0J1ZmY6ITAsZTJSZXNCdWZmOiEwLGU2QmVCdWZmOiEwLHRhcmdldEJlc290dGVkOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0YXJnZXRCZXNvdHRlZDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihTLEIpPT57Y29uc3QgYz1CLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gU1tyLlJFU10rPWU+PTEmJmMuZTFSZXNCdWZmPy41OjAsU1tyLlJFU10rPWU+PTImJmMuZTJSZXNCdWZmPy4zOjAsU1tyLkJFXSs9ZT49Nj8uMjowLFMuQlJFQUtfRUZGSUNJRU5DWV9CT09TVCs9ZT49Nj8uMjowLFMuQkFTSUNfU0NBTElORys9Yy5iYXNpY0VuaGFuY2VkP2E6aSxTLlVMVF9TQ0FMSU5HKz1zLFMuQkFTSUNfVE9VR0hORVNTX0RNRys9Yy5iYXNpY0VuaGFuY2VkPzkwOjMwLFMuVUxUX1RPVUdITkVTU19ETUcrPTYwLFN9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihTLEIpPT57Y29uc3QgYz1CLmNoYXJhY3RlckNvbmRpdGlvbmFscztpdChTLFR0LGwsYy50YXJnZXRCZXNvdHRlZCl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOlM9PngoUyksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKSxkeW5hbWljQ29uZGl0aW9uYWxzOlskaV19fSxQYT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLlJvYmluIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5TS0lMTF9VTFRfM19CQVNJQ19UQUxFTlRfNSxzPW8oZSwuNSwuNTUpLGw9YShlLC4yLC4yMyksbT1pKGUsLjIyOCwuMjQzMikscD1pKGUsMjAwLDIzMCksUz1uKGUsMSwxLjEpLEI9aShlLDEuMiwxLjI5NiksYz1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJjb25jZXJ0b0FjdGl2ZSIsbmFtZToiY29uY2VydG9BY3RpdmUiLHRleHQ6dCgiQ29udGVudC5jb25jZXJ0b0FjdGl2ZS50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5jb25jZXJ0b0FjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5jb25jZXJ0b0FjdGl2ZS5jb250ZW50Iix7dWx0QXRrQnVmZlNjYWxpbmdWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCptKSx1bHRBdGtCdWZmRmxhdFZhbHVlOnAsdWx0U2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpCKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNraWxsRG1nQnVmZiIsbmFtZToic2tpbGxEbWdCdWZmIix0ZXh0OnQoIkNvbnRlbnQuc2tpbGxEbWdCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNraWxsRG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5za2lsbERtZ0J1ZmYuY29udGVudCIse3NraWxsRG1nQnVmZlZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKnMpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidGFsZW50Q2RCdWZmIixuYW1lOiJ0YWxlbnRDZEJ1ZmYiLHRleHQ6dCgiQ29udGVudC50YWxlbnRDZEJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudGFsZW50Q2RCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRhbGVudENkQnVmZi5jb250ZW50Iix7dGFsZW50Q2RCdWZmVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbCl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMVVsdFJlc1BlbiIsbmFtZToiZTFVbHRSZXNQZW4iLHRleHQ6dCgiQ29udGVudC5lMVVsdFJlc1Blbi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMVVsdFJlc1Blbi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMVVsdFJlc1Blbi5jb250ZW50IiksZGlzYWJsZWQ6ZTwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0VGVhbVJlc0J1ZmYiLG5hbWU6ImU0VGVhbVJlc0J1ZmYiLHRleHQ6dCgiQ29udGVudC5lNFRlYW1SZXNCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmU0VGVhbVJlc0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTRUZWFtUmVzQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6ZTw0fSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2VWx0Q0RCb29zdCIsbmFtZToiZTZVbHRDREJvb3N0Iix0ZXh0OnQoIkNvbnRlbnQuZTZVbHRDREJvb3N0LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmU2VWx0Q0RCb29zdC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNlVsdENEQm9vc3QuY29udGVudCIpLGRpc2FibGVkOmU8Nn1dLGY9W0koYywiY29uY2VydG9BY3RpdmUiKSxJKGMsInNraWxsRG1nQnVmZiIpLHtmb3JtSXRlbToic2xpZGVyIixpZDoidGVhbW1hdGVBVEtWYWx1ZSIsbmFtZToidGVhbW1hdGVBVEtWYWx1ZSIsdGV4dDp0KCJUZWFtbWF0ZUNvbnRlbnQudGVhbW1hdGVBVEtWYWx1ZS50ZXh0IiksdGl0bGU6dCgiVGVhbW1hdGVDb250ZW50LnRlYW1tYXRlQVRLVmFsdWUudGl0bGUiKSxjb250ZW50OnQoIlRlYW1tYXRlQ29udGVudC50ZWFtbWF0ZUFUS1ZhbHVlLmNvbnRlbnQiLHt1bHRBdGtCdWZmRmxhdFZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKnApLHVsdEF0a0J1ZmZTY2FsaW5nVmFsdWU6bX0pLG1pbjowLG1heDo3ZTN9LEkoYywidGFsZW50Q2RCdWZmIikse2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0cmFjZUZ1YUNkQm9vc3QiLG5hbWU6InRyYWNlRnVhQ2RCb29zdCIsdGV4dDp0KCJUZWFtbWF0ZUNvbnRlbnQudHJhY2VGdWFDZEJvb3N0LnRleHQiKSx0aXRsZTp0KCJUZWFtbWF0ZUNvbnRlbnQudHJhY2VGdWFDZEJvb3N0LnRpdGxlIiksY29udGVudDp0KCJUZWFtbWF0ZUNvbnRlbnQudHJhY2VGdWFDZEJvb3N0LmNvbnRlbnQiKX0sSShjLCJlMVVsdFJlc1BlbiIpLHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJVbHRTcGRCdWZmIixuYW1lOiJlMlVsdFNwZEJ1ZmYiLHRleHQ6dCgiVGVhbW1hdGVDb250ZW50LmUyVWx0U3BkQnVmZi50ZXh0IiksdGl0bGU6dCgiVGVhbW1hdGVDb250ZW50LmUyVWx0U3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiVGVhbW1hdGVDb250ZW50LmUyVWx0U3BkQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6ZTwyfV0sdT17Y29uY2VydG9BY3RpdmU6ITAsc2tpbGxEbWdCdWZmOiEwLHRhbGVudENkQnVmZjohMCxlMVVsdFJlc1BlbjohMCxlNFRlYW1SZXNCdWZmOiExLGU2VWx0Q0RCb29zdDohMH07cmV0dXJue2NvbnRlbnQ6KCk9PmMsdGVhbW1hdGVDb250ZW50OigpPT5mLGRlZmF1bHRzOigpPT51LHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7Y29uY2VydG9BY3RpdmU6ITAsc2tpbGxEbWdCdWZmOiEwLHRhbGVudENkQnVmZjohMCx0ZWFtbWF0ZUFUS1ZhbHVlOjVlMyx0cmFjZUZ1YUNkQm9vc3Q6ITAsZTFVbHRSZXNQZW46ITAsZTJVbHRTcGRCdWZmOiExLGU0VGVhbVJlc0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooQyxkKT0+e2NvbnN0IGc9ZC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIEMuQkFTSUNfU0NBTElORys9UyxDLlVMVF9TQ0FMSU5HKz1nLmNvbmNlcnRvQWN0aXZlP0I6MCxDLlVMVF9CT09TVFNfTVVMVEk9MCxDLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLEN9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihDLGQpPT57Y29uc3QgZz1kLmNoYXJhY3RlckNvbmRpdGlvbmFscztDW3IuQ0RdKz1nLnRhbGVudENkQnVmZj9sOjAsQ1tyLlJFU10rPWU+PTQmJmcuY29uY2VydG9BY3RpdmUmJmcuZTRUZWFtUmVzQnVmZj8uNTowLEMuRUxFTUVOVEFMX0RNRys9Zy5za2lsbERtZ0J1ZmY/czowLEMuUkVTX1BFTis9ZT49MSYmZy5jb25jZXJ0b0FjdGl2ZSYmZy5lMVVsdFJlc1Blbj8uMjQ6MH0scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czooQyxkKT0+e2NvbnN0IGc9ZC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Q1tyLkFUS10rPWcuY29uY2VydG9BY3RpdmU/Zy50ZWFtbWF0ZUFUS1ZhbHVlKm0rcDowLEMuUkFUSU9fQkFTRURfQVRLX0JVRkYrPWcuY29uY2VydG9BY3RpdmU/Zy50ZWFtbWF0ZUFUS1ZhbHVlKm06MCxDW3IuU1BEX1BdKz1lPj0yJiZnLmNvbmNlcnRvQWN0aXZlJiZnLmUyVWx0U3BkQnVmZj8uMTY6MCxmdChDLE0sLjI1LGcudHJhY2VGdWFDZEJvb3N0JiZnLmNvbmNlcnRvQWN0aXZlKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KEMsZCk9Pntjb25zdCBnPWQuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO0Nbci5BVEtdKz1nLmNvbmNlcnRvQWN0aXZlP0Nbci5BVEtdKm0rcDowLHVlKEMsTywxKSxDLlVMVF9DRF9PVkVSUklERT1lPj02JiZnLmNvbmNlcnRvQWN0aXZlJiZnLmU2VWx0Q0RCb29zdD82OjEuNSxDLkJBU0lDX0RNRys9Qy5CQVNJQ19TQ0FMSU5HKkNbci5BVEtdLEMuVUxUX0RNRys9Qy5VTFRfU0NBTElORypDW3IuQVRLXX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KEMsZCk9Pntjb25zdCBnPUMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybmAKaWYgKCR7aihnLmNvbmNlcnRvQWN0aXZlKX0pIHsKICBidWZmRHluYW1pY0FUSyh4LkFUSyAqICR7bX0gKyAke3B9LCBwX3gsIHBfc3RhdGUpOwp9CgpidWZmQWJpbGl0eUNyKHBfeCwgVUxUX1RZUEUsIDEuMDAsIDEpOwoKaWYgKCR7aihlPj02JiZnLmNvbmNlcnRvQWN0aXZlJiZnLmU2VWx0Q0RCb29zdCl9KSB7CiAgeC5VTFRfQ0RfT1ZFUlJJREUgPSA2LjAwOwp9IGVsc2UgewogIHguVUxUX0NEX09WRVJSSURFID0gMS41MDsKfQoKeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogeC5BVEs7CnguVUxUX0RNRyArPSB4LlVMVF9TQ0FMSU5HICogeC5BVEs7CiAgICAgIGB9fX0sVWE9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5Cb290aGlsbCIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuVUxUX0JBU0lDXzNfU0tJTExfVEFMRU5UXzUscz1vKGUsLjMsLjMzKSxsPW4oZSwxLDEuMSksbT1uKGUsMi4yLDIuNDIpLHA9aShlLDQsNC4zMiksUz17MDowLDE6YShlLC43LC43NyksMjphKGUsMS4yLDEuMzIpLDM6YShlLDEuNywxLjg3KX0sQj1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJzdGFuZG9mZkFjdGl2ZSIsbmFtZToic3RhbmRvZmZBY3RpdmUiLHRleHQ6dCgiQ29udGVudC5zdGFuZG9mZkFjdGl2ZS50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5zdGFuZG9mZkFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5zdGFuZG9mZkFjdGl2ZS5jb250ZW50Iix7c3RhbmRvZmZWdWxuZXJhYmlsaXR5Qm9vc3Q6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcyl9KX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJwb2NrZXRUcmlja3Nob3RTdGFja3MiLG5hbWU6InBvY2tldFRyaWNrc2hvdFN0YWNrcyIsdGV4dDp0KCJDb250ZW50LnBvY2tldFRyaWNrc2hvdFN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5wb2NrZXRUcmlja3Nob3RTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQucG9ja2V0VHJpY2tzaG90U3RhY2tzLmNvbnRlbnQiKSxtaW46MCxtYXg6M30se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJiZVRvQ3JpdEJvb3N0IixuYW1lOiJiZVRvQ3JpdEJvb3N0Iix0ZXh0OnQoIkNvbnRlbnQuYmVUb0NyaXRCb29zdC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5iZVRvQ3JpdEJvb3N0LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmJlVG9Dcml0Qm9vc3QuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhbGVudEJyZWFrRG1nU2NhbGluZyIsbmFtZToidGFsZW50QnJlYWtEbWdTY2FsaW5nIix0ZXh0OnQoIkNvbnRlbnQudGFsZW50QnJlYWtEbWdTY2FsaW5nLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRhbGVudEJyZWFrRG1nU2NhbGluZy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC50YWxlbnRCcmVha0RtZ1NjYWxpbmcuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxRGVmU2hyZWQiLG5hbWU6ImUxRGVmU2hyZWQiLHRleHQ6dCgiQ29udGVudC5lMURlZlNocmVkLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmUxRGVmU2hyZWQudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTFEZWZTaHJlZC5jb250ZW50IiksZGlzYWJsZWQ6ZTwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyQmVCdWZmIixuYW1lOiJlMkJlQnVmZiIsdGV4dDp0KCJDb250ZW50LmUyQmVCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmUyQmVCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmUyQmVCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDplPDJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTRUYXJnZXRTdGFuZG9mZlZ1bG5lcmFiaWxpdHkiLG5hbWU6ImU0VGFyZ2V0U3RhbmRvZmZWdWxuZXJhYmlsaXR5Iix0ZXh0OnQoIkNvbnRlbnQuZTRUYXJnZXRTdGFuZG9mZlZ1bG5lcmFiaWxpdHkudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTRUYXJnZXRTdGFuZG9mZlZ1bG5lcmFiaWxpdHkudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTRUYXJnZXRTdGFuZG9mZlZ1bG5lcmFiaWxpdHkuY29udGVudCIpLGRpc2FibGVkOmU8NH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNkFkZGl0aW9uYWxCcmVha0RtZyIsbmFtZToiZTZBZGRpdGlvbmFsQnJlYWtEbWciLHRleHQ6dCgiQ29udGVudC5lNkFkZGl0aW9uYWxCcmVha0RtZy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lNkFkZGl0aW9uYWxCcmVha0RtZy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNkFkZGl0aW9uYWxCcmVha0RtZy5jb250ZW50IiksZGlzYWJsZWQ6ZTw2fV0sYz1bXSxmPXtzdGFuZG9mZkFjdGl2ZTohMCxwb2NrZXRUcmlja3Nob3RTdGFja3M6MyxiZVRvQ3JpdEJvb3N0OiEwLHRhbGVudEJyZWFrRG1nU2NhbGluZzohMCxlMURlZlNocmVkOiEwLGUyQmVCdWZmOiEwLGU0VGFyZ2V0U3RhbmRvZmZWdWxuZXJhYmlsaXR5OiEwLGU2QWRkaXRpb25hbEJyZWFrRG1nOiEwfTtyZXR1cm57Y29udGVudDooKT0+Qix0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmMsZGVmYXVsdHM6KCk9PmYsdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxpbml0aWFsaXplQ29uZmlndXJhdGlvbnM6KHUsQyk9PntDLmNoYXJhY3RlckNvbmRpdGlvbmFscy50YWxlbnRCcmVha0RtZ1NjYWxpbmcmJih1LkVORU1ZX1dFQUtORVNTX0JST0tFTj0xKX0scHJlY29tcHV0ZUVmZmVjdHM6KHUsQyk9Pntjb25zdCBkPUMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3Vbci5CRV0rPWU+PTImJmQuZTJCZUJ1ZmY/LjM6MCx1LlZVTE5FUkFCSUxJVFkrPWQuc3RhbmRvZmZBY3RpdmU/czowLHUuREVGX1BFTis9ZT49MSYmZC5lMURlZlNocmVkPy4xNjowLHUuVlVMTkVSQUJJTElUWSs9ZT49NCYmZC5zdGFuZG9mZkFjdGl2ZSYmZC5lNFRhcmdldFN0YW5kb2ZmVnVsbmVyYWJpbGl0eT8uMTI6MCx1LkJBU0lDX1NDQUxJTkcrPWQuc3RhbmRvZmZBY3RpdmU/bTpsLHUuQkFTSUNfQlJFQUtfRUZGSUNJRU5DWV9CT09TVCs9ZC5zdGFuZG9mZkFjdGl2ZT9kLnBvY2tldFRyaWNrc2hvdFN0YWNrcyouNTowLHUuVUxUX1NDQUxJTkcrPXAsdS5CQVNJQ19UT1VHSE5FU1NfRE1HKz1kLnN0YW5kb2ZmQWN0aXZlPzYwOjMwLHUuVUxUX1RPVUdITkVTU19ETUcrPTkwO2NvbnN0IGc9TWF0aC5taW4oMTYqMzAsQy5lbmVteU1heFRvdWdobmVzcyksaD0xLyguNStDLmVuZW15TWF4VG91Z2huZXNzLzEyMCksXz0uNStnLzEyMDtsZXQgRT1TW2QucG9ja2V0VHJpY2tzaG90U3RhY2tzXTtyZXR1cm4gRSs9ZT49NiYmZC5lNkFkZGl0aW9uYWxCcmVha0RtZz8uNDowLHUuQkFTSUNfQlJFQUtfRE1HX01PRElGSUVSKz1kLnRhbGVudEJyZWFrRG1nU2NhbGluZyYmZC5zdGFuZG9mZkFjdGl2ZT9oKl8qRTowLHV9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOih1LEMpPT57fSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOih1LEMpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczp1PT54KHUpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCksZHluYW1pY0NvbmRpdGlvbmFsczpbS2ldfX0sRmE9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5Ub3BheiIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUscz1vKGUsLjUsLjU1KSxsPWkoZSwxLjUsMS42NSksbT1pKGUsLjI1LC4yNzUpLHA9bihlLDEsMS4xKSxTPW8oZSwxLjUsMS42NSksQj1hKGUsMS41LDEuNjUpLGM9UiooMSoxLzEpLGY9UiooMSoxLzcrMioxLzcrMyoxLzcrNCoxLzcrNSoxLzcrNioxLzcrNyoxLzcpLHU9UiooMSoxLzEwKzIqMS8xMCszKjEvMTArNCoxLzEwKzUqMS8xMCs2KjEvMTArNyoxLzEwKzgqMy8xMCksQz1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmVteVByb29mT2ZEZWJ0RGVidWZmIixuYW1lOiJlbmVteVByb29mT2ZEZWJ0RGVidWZmIix0ZXh0OnQoIkNvbnRlbnQuZW5lbXlQcm9vZk9mRGVidERlYnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lbmVteVByb29mT2ZEZWJ0RGVidWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmVuZW15UHJvb2ZPZkRlYnREZWJ1ZmYuY29udGVudCIse3Byb29mT2ZEZWJ0RnVhVnVsbmVyYWJpbGl0eTpELnByZWNpc2lvblJvdW5kKDEwMCpzKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6Im51bWJ5RW5oYW5jZWRTdGF0ZSIsbmFtZToibnVtYnlFbmhhbmNlZFN0YXRlIix0ZXh0OnQoIkNvbnRlbnQubnVtYnlFbmhhbmNlZFN0YXRlLnRleHQiKSx0aXRsZTp0KCJDb250ZW50Lm51bWJ5RW5oYW5jZWRTdGF0ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5udW1ieUVuaGFuY2VkU3RhdGUuY29udGVudCIse2VuaGFuY2VkU3RhdGVGdWFDZEJvb3N0OkQucHJlY2lzaW9uUm91bmQoMTAwKm0pLGVuaGFuY2VkU3RhdGVGdWFTY2FsaW5nQm9vc3Q6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbCl9KX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJlMURlYnRvclN0YWNrcyIsbmFtZToiZTFEZWJ0b3JTdGFja3MiLHRleHQ6dCgiQ29udGVudC5lMURlYnRvclN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMURlYnRvclN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMURlYnRvclN0YWNrcy5jb250ZW50IiksbWluOjAsbWF4OjIsZGlzYWJsZWQ6ZTwxfV0sZD1bSShDLCJlbmVteVByb29mT2ZEZWJ0RGVidWZmIiksSShDLCJlMURlYnRvclN0YWNrcyIpXTtyZXR1cm57Y29udGVudDooKT0+Qyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmQsZGVmYXVsdHM6KCk9Pih7ZW5lbXlQcm9vZk9mRGVidERlYnVmZjohMCxudW1ieUVuaGFuY2VkU3RhdGU6ITAsZTFEZWJ0b3JTdGFja3M6Mn0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7ZW5lbXlQcm9vZk9mRGVidERlYnVmZjohMCxlMURlYnRvclN0YWNrczoyfSksaW5pdGlhbGl6ZUNvbmZpZ3VyYXRpb25zOihnLGgpPT57Zy5CQVNJQ19ETUdfVFlQRT1XfE0sZy5TS0lMTF9ETUdfVFlQRT16fE19LHByZWNvbXB1dGVFZmZlY3RzOihnLGgpPT57Y29uc3QgXz1oLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZnQoZyx6fE0sbSxfLm51bWJ5RW5oYW5jZWRTdGF0ZSksSXQoZyx6fE0sLjEsZT49NiksZnQoZyxXLC1tLF8ubnVtYnlFbmhhbmNlZFN0YXRlKSxJdChnLFcsLS4xLGU+PTYpLGcuQkFTSUNfU0NBTElORys9cCxnLlNLSUxMX1NDQUxJTkcrPVMsZy5TS0lMTF9TQ0FMSU5HKz1fLm51bWJ5RW5oYW5jZWRTdGF0ZT9sOjAsZy5GVUFfU0NBTElORys9QixnLkZVQV9TQ0FMSU5HKz1fLm51bWJ5RW5oYW5jZWRTdGF0ZT9sOjAsZy5FTEVNRU5UQUxfRE1HKz1oLmVuZW15RWxlbWVudGFsV2Vhaz8uMTU6MCxnLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGcuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsZy5GVUFfVE9VR0hORVNTX0RNRys9NjAsZ30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGcsaCk9Pntjb25zdCBfPWguY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2l0KGcsTSxzLF8uZW5lbXlQcm9vZk9mRGVidERlYnVmZiksZnQoZyxNLC4yNSpfLmUxRGVidG9yU3RhY2tzLGU+PTEmJl8uZW5lbXlQcm9vZk9mRGVidERlYnVmZil9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihnLGgpPT57Y29uc3QgRT1oLmNoYXJhY3RlckNvbmRpdGlvbmFscy5udW1ieUVuaGFuY2VkU3RhdGU/dTpmLFQ9cHQoZyxoLGMpLEw9cHQoZyxoLEUpO2cuQkFTSUNfRE1HKz1nLkJBU0lDX1NDQUxJTkcqKGdbci5BVEtdK1QpLGcuRlVBX0RNRys9Zy5GVUFfU0NBTElORyooZ1tyLkFUS10rTCksZy5TS0lMTF9ETUc9Zy5GVUFfRE1HfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczpnPT57Y29uc3QgXz1nLmNoYXJhY3RlckNvbmRpdGlvbmFscy5udW1ieUVuaGFuY2VkU3RhdGU/dTpmO3JldHVybmAKeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogKHguQVRLICsgY2FsY3VsYXRlQXNoYmxhemluZ1NldChwX3gsIHBfc3RhdGUsICR7Y30pKTsKeC5GVUFfRE1HICs9IHguRlVBX1NDQUxJTkcgKiAoeC5BVEsgKyBjYWxjdWxhdGVBc2hibGF6aW5nU2V0KHBfeCwgcF9zdGF0ZSwgJHtffSkpOwp4LlNLSUxMX0RNRyA9IHguRlVBX0RNRzsKICAgIGB9fX0sSGE9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5GaXJlZmx5Iikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxzPW4oZSwxLDEuMSksbD1uKGUsMiwyLjIpLG09byhlLDIsMi4yKSxwPW8oZSwyLDIuMiksUz1pKGUsNjAsNjYpLEI9aShlLC4yLC4yMiksYz1hKGUsLjMsLjM0KSxmPWEoZSwuNCwuNDQpLHU9W3tmb3JtSXRlbToic3dpdGNoIixpZDoiZW5oYW5jZWRTdGF0ZUFjdGl2ZSIsbmFtZToiZW5oYW5jZWRTdGF0ZUFjdGl2ZSIsdGV4dDp0KCJDb250ZW50LmVuaGFuY2VkU3RhdGVBY3RpdmUudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZW5oYW5jZWRTdGF0ZUFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lbmhhbmNlZFN0YXRlQWN0aXZlLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmhhbmNlZFN0YXRlU3BkQnVmZiIsbmFtZToiZW5oYW5jZWRTdGF0ZVNwZEJ1ZmYiLHRleHQ6dCgiQ29udGVudC5lbmhhbmNlZFN0YXRlU3BkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lbmhhbmNlZFN0YXRlU3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lbmhhbmNlZFN0YXRlU3BkQnVmZi5jb250ZW50Iix7dWx0U3BkQnVmZjpTfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic3VwZXJCcmVha0RtZyIsbmFtZToic3VwZXJCcmVha0RtZyIsdGV4dDp0KCJDb250ZW50LnN1cGVyQnJlYWtEbWcudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuc3VwZXJCcmVha0RtZy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5zdXBlckJyZWFrRG1nLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJhdGtUb0JlQ29udmVyc2lvbiIsbmFtZToiYXRrVG9CZUNvbnZlcnNpb24iLHRleHQ6dCgiQ29udGVudC5hdGtUb0JlQ29udmVyc2lvbi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5hdGtUb0JlQ29udmVyc2lvbi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5hdGtUb0JlQ29udmVyc2lvbi5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidGFsZW50RG1nUmVkdWN0aW9uQnVmZiIsbmFtZToidGFsZW50RG1nUmVkdWN0aW9uQnVmZiIsdGV4dDp0KCJDb250ZW50LnRhbGVudERtZ1JlZHVjdGlvbkJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudGFsZW50RG1nUmVkdWN0aW9uQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC50YWxlbnREbWdSZWR1Y3Rpb25CdWZmLmNvbnRlbnQiLHt0YWxlbnRSZXNCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmMpLHRhbGVudERtZ1JlZHVjdGlvbkJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZil9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMURlZlNocmVkIixuYW1lOiJlMURlZlNocmVkIix0ZXh0OnQoIkNvbnRlbnQuZTFEZWZTaHJlZC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMURlZlNocmVkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmUxRGVmU2hyZWQuY29udGVudCIpLGRpc2FibGVkOmU8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNFJlc0J1ZmYiLG5hbWU6ImU0UmVzQnVmZiIsdGV4dDp0KCJDb250ZW50LmU0UmVzQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lNFJlc0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTRSZXNCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDplPDR9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZCdWZmcyIsbmFtZToiZTZCdWZmcyIsdGV4dDp0KCJDb250ZW50LmU2QnVmZnMudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTZCdWZmcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNkJ1ZmZzLmNvbnRlbnQiKSxkaXNhYmxlZDplPDZ9XSxDPVtdLGQ9e2VuaGFuY2VkU3RhdGVBY3RpdmU6ITAsZW5oYW5jZWRTdGF0ZVNwZEJ1ZmY6ITAsc3VwZXJCcmVha0RtZzohMCxhdGtUb0JlQ29udmVyc2lvbjohMCx0YWxlbnREbWdSZWR1Y3Rpb25CdWZmOiEwLGUxRGVmU2hyZWQ6ITAsZTRSZXNCdWZmOiEwLGU2QnVmZnM6ITB9O3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+QyxkZWZhdWx0czooKT0+ZCx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLGluaXRpYWxpemVDb25maWd1cmF0aW9uczooZyxoKT0+e2guY2hhcmFjdGVyQ29uZGl0aW9uYWxzLnN1cGVyQnJlYWtEbWcmJihnLkVORU1ZX1dFQUtORVNTX0JST0tFTj0xKX0scHJlY29tcHV0ZUVmZmVjdHM6KGcsaCk9Pntjb25zdCBfPWguY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBnW3IuUkVTXSs9Xy5lbmhhbmNlZFN0YXRlQWN0aXZlP2M6MCxnW3IuU1BEXSs9Xy5lbmhhbmNlZFN0YXRlQWN0aXZlJiZfLmVuaGFuY2VkU3RhdGVTcGRCdWZmP1M6MCxnLkJSRUFLX0VGRklDSUVOQ1lfQk9PU1QrPV8uZW5oYW5jZWRTdGF0ZUFjdGl2ZT8uNTowLGcuRE1HX1JFRF9NVUxUSSo9Xy5lbmhhbmNlZFN0YXRlQWN0aXZlJiZfLnRhbGVudERtZ1JlZHVjdGlvbkJ1ZmY/MS1mOjEsZy5ERUZfUEVOKz1lPj0xJiZfLmUxRGVmU2hyZWQmJl8uZW5oYW5jZWRTdGF0ZUFjdGl2ZT8uMTU6MCxnW3IuUkVTXSs9ZT49NCYmXy5lNFJlc0J1ZmYmJl8uZW5oYW5jZWRTdGF0ZUFjdGl2ZT8uNTowLGcuRklSRV9SRVNfUEVOKz1lPj02JiZfLmU2QnVmZnMmJl8uZW5oYW5jZWRTdGF0ZUFjdGl2ZT8uMjowLGcuQlJFQUtfRUZGSUNJRU5DWV9CT09TVCs9ZT49NiYmXy5lNkJ1ZmZzJiZfLmVuaGFuY2VkU3RhdGVBY3RpdmU/LjU6MCxnLkJBU0lDX1NDQUxJTkcrPV8uZW5oYW5jZWRTdGF0ZUFjdGl2ZT9sOnMsZy5CQVNJQ19UT1VHSE5FU1NfRE1HKz1fLmVuaGFuY2VkU3RhdGVBY3RpdmU/NDU6MzAsZy5TS0lMTF9UT1VHSE5FU1NfRE1HKz1fLmVuaGFuY2VkU3RhdGVBY3RpdmU/OTA6NjAsZ30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGcsaCk9Pnt9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGcsaCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihnLGgpPT57Y29uc3QgXz1oLmNoYXJhY3RlckNvbmRpdGlvbmFscztpdChnLFR0LEIsXy5lbmhhbmNlZFN0YXRlQWN0aXZlJiZnLkVORU1ZX1dFQUtORVNTX0JST0tFTiksZy5TVVBFUl9CUkVBS19NT0RJRklFUis9Xy5zdXBlckJyZWFrRG1nJiZfLmVuaGFuY2VkU3RhdGVBY3RpdmUmJmdbci5CRV0+PTI/LjM1OjAsZy5TVVBFUl9CUkVBS19NT0RJRklFUis9Xy5zdXBlckJyZWFrRG1nJiZfLmVuaGFuY2VkU3RhdGVBY3RpdmUmJmdbci5CRV0+PTMuNj8uMTU6MCxnLlNLSUxMX1NDQUxJTkcrPV8uZW5oYW5jZWRTdGF0ZUFjdGl2ZT8uMipNYXRoLm1pbigzLjYsZ1tyLkJFXSkrcDptLGcuQkFTSUNfRE1HKz1nLkJBU0lDX1NDQUxJTkcqZ1tyLkFUS10sZy5TS0lMTF9ETUcrPWcuU0tJTExfU0NBTElORypnW3IuQVRLXX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KGcsaCk9Pntjb25zdCBfPWcuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybmAKYnVmZkFiaWxpdHlWdWxuZXJhYmlsaXR5KHBfeCwgQlJFQUtfVFlQRSwgJHtCfSwgc2VsZWN0KDAsIDEsICR7aihfLmVuaGFuY2VkU3RhdGVBY3RpdmUpfSAmJiB4LkVORU1ZX1dFQUtORVNTX0JST0tFTiA+PSAxKSk7CgppZiAoeC5CRSA+PSAyLjAwICYmICR7aihfLnN1cGVyQnJlYWtEbWcmJl8uZW5oYW5jZWRTdGF0ZUFjdGl2ZSl9KSB7CiAgeC5TVVBFUl9CUkVBS19NT0RJRklFUiArPSAwLjM1Owp9CmlmICh4LkJFID49IDMuNjAgJiYgJHtqKF8uc3VwZXJCcmVha0RtZyYmXy5lbmhhbmNlZFN0YXRlQWN0aXZlKX0pIHsKICB4LlNVUEVSX0JSRUFLX01PRElGSUVSICs9IDAuMTU7Cn0KCmlmICgke2ooXy5lbmhhbmNlZFN0YXRlQWN0aXZlKX0pIHsKICB4LlNLSUxMX1NDQUxJTkcgKz0gMC4yICogbWluKDMuNjAsIHguQkUpICsgJHtwfTsKfSBlbHNlIHsKICB4LlNLSUxMX1NDQUxJTkcgKz0gJHttfTsKfQoKeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogeC5BVEs7CnguU0tJTExfRE1HICs9IHguU0tJTExfU0NBTElORyAqIHguQVRLOwogICAgICBgfSxkeW5hbWljQ29uZGl0aW9uYWxzOlt4aV19fSx4YT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkphZGUiKSx7YmFzaWM6bixza2lsbDpvLHVsdDppLHRhbGVudDphfT1iLlNLSUxMX1RBTEVOVF8zX1VMVF9CQVNJQ181LHM9bihlLC45LC45OSk7byhlLC4yNSwuMjcpO2NvbnN0IGw9aShlLDIuNCwyLjY0KSxtPWkoZSwuOCwuODgpLHA9YShlLDEuMiwxLjMyKSxTPWEoZSwuMDI0LC4wMjY0KSxCPXsxOlIqKDEqLjI1KzIqLjI1KzMqLjI1KzQqLjI1KSwzOlIqKDIqLjI1KzUqLjI1KzgqLjI1KzgqLjI1KSw1OlIqKDMqLjI1KzgqLjI1KzgqLjI1KzgqLjI1KX0sYz17MTpSKigxKi4xKzIqLjErMyouMSs0Ki4xKzUqLjYpLDM6UiooMiouMSs1Ki4xKzgqLjErOCouMSs4Ki42KSw1OlIqKDMqLjErOCouMSs4Ki4xKzgqLjErOCouNil9O2Z1bmN0aW9uIGYoaCl7cmV0dXJuIGguY2hhcmFjdGVyQ29uZGl0aW9uYWxzLmVuaGFuY2VkRm9sbG93VXA/Y1toLmVuZW15Q291bnRdOkJbaC5lbmVteUNvdW50XX1jb25zdCB1PVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuaGFuY2VkRm9sbG93VXAiLG5hbWU6ImVuaGFuY2VkRm9sbG93VXAiLHRleHQ6dCgiQ29udGVudC5lbmhhbmNlZEZvbGxvd1VwLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmVuaGFuY2VkRm9sbG93VXAudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZW5oYW5jZWRGb2xsb3dVcC5jb250ZW50Iix7dWx0RnVhU2NhbGluZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbSl9KX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJwYXduZWRBc3NldFN0YWNrcyIsbmFtZToicGF3bmVkQXNzZXRTdGFja3MiLHRleHQ6dCgiQ29udGVudC5wYXduZWRBc3NldFN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5wYXduZWRBc3NldFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5wYXduZWRBc3NldFN0YWNrcy5jb250ZW50Iix7cGF3bmVkQXNzZXRDZFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqUyl9KSxtaW46MCxtYXg6NTB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFGdWFEbWdCb29zdCIsbmFtZToiZTFGdWFEbWdCb29zdCIsdGV4dDp0KCJDb250ZW50LmUxRnVhRG1nQm9vc3QudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTFGdWFEbWdCb29zdC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMUZ1YURtZ0Jvb3N0LmNvbnRlbnQiKSxkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJDckJ1ZmYiLG5hbWU6ImUyQ3JCdWZmIix0ZXh0OnQoIkNvbnRlbnQuZTJDckJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTJDckJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTJDckJ1ZmYuY29udGVudCIpLGRpc2FibGVkOmU8Mn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNERlZlNocmVkQnVmZiIsbmFtZToiZTREZWZTaHJlZEJ1ZmYiLHRleHQ6dCgiQ29udGVudC5lNERlZlNocmVkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lNERlZlNocmVkQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNERlZlNocmVkQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6ZTw0fSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2UmVzU2hyZWRCdWZmIixuYW1lOiJlNlJlc1NocmVkQnVmZiIsdGV4dDp0KCJDb250ZW50LmU2UmVzU2hyZWRCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmU2UmVzU2hyZWRCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmU2UmVzU2hyZWRCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDplPDZ9XSxDPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImRlYnRDb2xsZWN0b3JTcGRCdWZmIixuYW1lOiJkZWJ0Q29sbGVjdG9yU3BkQnVmZiIsdGV4dDp0KCJUZWFtbWF0ZUNvbnRlbnQuZGVidENvbGxlY3RvclNwZEJ1ZmYudGV4dCIpLHRpdGxlOnQoIlRlYW1tYXRlQ29udGVudC5kZWJ0Q29sbGVjdG9yU3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiVGVhbW1hdGVDb250ZW50LmRlYnRDb2xsZWN0b3JTcGRCdWZmLmNvbnRlbnQiKX1dLGQ9e2VuaGFuY2VkRm9sbG93VXA6ITAscGF3bmVkQXNzZXRTdGFja3M6NTAsZTFGdWFEbWdCb29zdDohMCxlMkNyQnVmZjohMCxlNERlZlNocmVkQnVmZjohMCxlNlJlc1NocmVkQnVmZjohMH0sZz17ZGVidENvbGxlY3RvclNwZEJ1ZmY6ITB9O3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+QyxkZWZhdWx0czooKT0+ZCx0ZWFtbWF0ZURlZmF1bHRzOigpPT5nLHByZWNvbXB1dGVFZmZlY3RzOihoLF8pPT57Y29uc3QgRT1fLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gaFtyLkNEXSs9RS5wYXduZWRBc3NldFN0YWNrcypTLGhbci5BVEtfUF0rPUUucGF3bmVkQXNzZXRTdGFja3MqLjAwNSxoW3IuQ1JdKz1lPj0yJiZFLmUyQ3JCdWZmJiZFLnBhd25lZEFzc2V0U3RhY2tzPj0xNT8uMTg6MCxoLkJBU0lDX1NDQUxJTkcrPXMsaC5VTFRfU0NBTElORys9bCxoLkZVQV9TQ0FMSU5HKz1wLGguRlVBX1NDQUxJTkcrPUUuZW5oYW5jZWRGb2xsb3dVcD9tOjAseShoLE0sLjMyLGU+PTEmJkUuZTFGdWFEbWdCb29zdCksaC5ERUZfUEVOKz1lPj00JiZFLmU0RGVmU2hyZWRCdWZmPy4xMjowLGguUVVBTlRVTV9SRVNfUEVOKz1lPj02JiZFLmU2UmVzU2hyZWRCdWZmPy4yOjAsaC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxoLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxoLkZVQV9UT1VHSE5FU1NfRE1HKz0zMCxofSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooaCxfKT0+e30scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czooaCxfKT0+e2NvbnN0IEU9Xy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7aFtyLlNQRF0rPUUuZGVidENvbGxlY3RvclNwZEJ1ZmY/MzA6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KGgsXyk9PntaKGgsXyxmKF8pKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6aD0+cShmKGgpKX19LEthPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuTWFyY2g3dGhJbWFnaW5hcnkiKSx7YmFzaWM6bixza2lsbDpvLHVsdDppLHRhbGVudDphfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LHM9bihlLDEsMS4xKSxsPW4oZSwuOCwuODgpLG09bihlLC4yLC4yMikscD1pKGUsMi40LDIuNTkyKSxTPWEoZSwuOCwuODgpLEI9byhlLC4xLC4xMDgpLGM9UiooMSouNCsyKi42KSxmPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuaGFuY2VkQmFzaWMiLG5hbWU6ImVuaGFuY2VkQmFzaWMiLHRleHQ6dCgiQ29udGVudC5lbmhhbmNlZEJhc2ljLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmVuaGFuY2VkQmFzaWMudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZW5oYW5jZWRCYXNpYy5jb250ZW50Iix7QmFzaWNFbmhhbmNlZFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbCl9KX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJiYXNpY0F0dGFja0hpdHMiLG5hbWU6ImJhc2ljQXR0YWNrSGl0cyIsdGV4dDp0KCJDb250ZW50LmJhc2ljQXR0YWNrSGl0cy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5iYXNpY0F0dGFja0hpdHMudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuYmFzaWNBdHRhY2tIaXRzLmNvbnRlbnQiLHtCYXNpY0VuaGFuY2VkU2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpsKX0pLG1pbjozLG1heDo2fSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6Im1hc3RlckFkZGl0aW9uYWxEbWdCdWZmIixuYW1lOiJtYXN0ZXJBZGRpdGlvbmFsRG1nQnVmZiIsdGV4dDp0KCJDb250ZW50Lm1hc3RlckFkZGl0aW9uYWxEbWdCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50Lm1hc3RlckFkZGl0aW9uYWxEbWdCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50Lm1hc3RlckFkZGl0aW9uYWxEbWdCdWZmLmNvbnRlbnQiLHtTaGlmdURtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbSl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJtYXN0ZXJUb3VnaG5lc3NSZWRCdWZmIixuYW1lOiJtYXN0ZXJUb3VnaG5lc3NSZWRCdWZmIix0ZXh0OnQoIkNvbnRlbnQubWFzdGVyVG91Z2huZXNzUmVkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5tYXN0ZXJUb3VnaG5lc3NSZWRCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50Lm1hc3RlclRvdWdobmVzc1JlZEJ1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhbGVudERtZ0J1ZmYiLG5hbWU6InRhbGVudERtZ0J1ZmYiLHRleHQ6dCgiQ29udGVudC50YWxlbnREbWdCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRhbGVudERtZ0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudGFsZW50RG1nQnVmZi5jb250ZW50Iix7VGFsZW50RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpTKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNlbGZTcGRCdWZmIixuYW1lOiJzZWxmU3BkQnVmZiIsdGV4dDp0KCJDb250ZW50LnNlbGZTcGRCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNlbGZTcGRCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnNlbGZTcGRCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZDZEJ1ZmYiLG5hbWU6ImU2Q2RCdWZmIix0ZXh0OnQoIkNvbnRlbnQuZTZDZEJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTZDZEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTZDZEJ1ZmYuY29udGVudCIpLGRpc2FibGVkOmU8Nn1dLHU9W3tmb3JtSXRlbToic3dpdGNoIixpZDoibWFzdGVyQnVmZiIsbmFtZToibWFzdGVyQnVmZiIsdGV4dDp0KCJUZWFtbWF0ZUNvbnRlbnQubWFzdGVyQnVmZi50ZXh0IiksdGl0bGU6dCgiVGVhbW1hdGVDb250ZW50Lm1hc3RlckJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIlRlYW1tYXRlQ29udGVudC5tYXN0ZXJCdWZmLmNvbnRlbnQiLHtTaGlmdVNwZWVkQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpCKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6Im1hc3RlckNkQmVCdWZmcyIsbmFtZToibWFzdGVyQ2RCZUJ1ZmZzIix0ZXh0OnQoIlRlYW1tYXRlQ29udGVudC5tYXN0ZXJDZEJlQnVmZnMudGV4dCIpLHRpdGxlOnQoIlRlYW1tYXRlQ29udGVudC5tYXN0ZXJDZEJlQnVmZnMudGl0bGUiKSxjb250ZW50OnQoIlRlYW1tYXRlQ29udGVudC5tYXN0ZXJDZEJlQnVmZnMuY29udGVudCIpfV0sQz17ZW5oYW5jZWRCYXNpYzohMCxiYXNpY0F0dGFja0hpdHM6Nix0YWxlbnREbWdCdWZmOiEwLHNlbGZTcGRCdWZmOiEwLG1hc3RlckFkZGl0aW9uYWxEbWdCdWZmOiEwLG1hc3RlclRvdWdobmVzc1JlZEJ1ZmY6ITAsZTZDZEJ1ZmY6ITB9LGQ9e21hc3RlckJ1ZmY6ITAsbWFzdGVyQ2RCZUJ1ZmZzOiEwfTtyZXR1cm57Y29udGVudDooKT0+Zix0ZWFtbWF0ZUNvbnRlbnQ6KCk9PnUsZGVmYXVsdHM6KCk9PkMsdGVhbW1hdGVEZWZhdWx0czooKT0+ZCxwcmVjb21wdXRlRWZmZWN0czooZyxoKT0+e2NvbnN0IF89aC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Z1tyLlNQRF9QXSs9ZT49MSYmXy5zZWxmU3BkQnVmZj8uMTowLHkoZyxXLFMsXy50YWxlbnREbWdCdWZmKSxmdChnLFcsLjUsZT49NiYmXy5lNkNkQnVmZiYmXy5lbmhhbmNlZEJhc2ljKTtjb25zdCBFPV8ubWFzdGVyQWRkaXRpb25hbERtZ0J1ZmY/bSpfLmJhc2ljQXR0YWNrSGl0czowO2cuQkFTSUNfU0NBTElORys9Xy5lbmhhbmNlZEJhc2ljP2wqXy5iYXNpY0F0dGFja0hpdHM6cyxnLkJBU0lDX1NDQUxJTkcrPV8uZW5oYW5jZWRCYXNpYz9FOm0sZy5VTFRfU0NBTElORys9cCxnLkZVQV9TQ0FMSU5HKz1lPj0yPy42OjA7Y29uc3QgVD1fLm1hc3RlclRvdWdobmVzc1JlZEJ1ZmY/MjoxO3JldHVybiBnLkJBU0lDX1RPVUdITkVTU19ETUcrPVQqKF8uZW5oYW5jZWRCYXNpYz8xNSpfLmJhc2ljQXR0YWNrSGl0czozMCksZy5VTFRfVE9VR0hORVNTX0RNRys9OTAsZy5GVUFfVE9VR0hORVNTX0RNRys9ZT49Mj8zMDowLGd9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihnLGgpPT57fSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihnLGgpPT57Y29uc3QgXz1oLmNoYXJhY3RlckNvbmRpdGlvbmFscztnW3IuU1BEX1BdKz1fLm1hc3RlckJ1ZmY/QjowLGdbci5DRF0rPV8ubWFzdGVyQnVmZiYmXy5tYXN0ZXJDZEJlQnVmZnM/LjY6MCxnW3IuQkVdKz1fLm1hc3RlckJ1ZmYmJl8ubWFzdGVyQ2RCZUJ1ZmZzPy4zNjowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooZyxoKT0+e1ooZyxoLGMpfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczpnPT5xKGMpfX0sd2E9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5ZdW5saSIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuVUxUX0JBU0lDXzNfU0tJTExfVEFMRU5UXzUscz1uKGUsMSwxLjEpLGw9byhlLDEuMiwxLjMyKSxtPWkoZSwyLjIsMi4zNzYpLHA9aShlLDIuMiwyLjM3NiksUz1pKGUsLjcyLC43Nzc2KSxCPWkoZSwxLDEuMDgpLGM9YShlLDEuMiwxLjMyKSxmPWU+PTE/OTo2LHU9ezE6UiooMSoxLzEpLDM6UiooMioxLzEpLDU6UiooMyoxLzEpfSxDPXsxOlIqKDEqLjEyKzIqLjEyKzMqLjEyKzQqLjEyKzUqLjEyKzYqLjEyKzcqLjEyKzgqLjE2KSwzOlIqKDIqLjEyKzUqLjEyKzgqLjEyKzgqLjEyKzgqLjEyKzgqLjEyKzgqLjEyKzgqLjE2KSw1OlIqKDMqLjEyKzgqLjEyKzgqLjEyKzgqLjEyKzgqLjEyKzgqLjEyKzgqLjEyKzgqLjE2KX07ZnVuY3Rpb24gZChFKXtjb25zdCBUPUUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBULmJsb2NrQWN0aXZlJiZULnVsdEN1bGw/Q1tFLmVuZW15Q291bnRdOnVbRS5lbmVteUNvdW50XX1jb25zdCBnPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImJsb2NrQWN0aXZlIixuYW1lOiJibG9ja0FjdGl2ZSIsdGV4dDp0KCJDb250ZW50LmJsb2NrQWN0aXZlLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmJsb2NrQWN0aXZlLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmJsb2NrQWN0aXZlLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHRDdWxsIixuYW1lOiJ1bHRDdWxsIix0ZXh0OnQoIkNvbnRlbnQudWx0Q3VsbC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC51bHRDdWxsLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnVsdEN1bGwuY29udGVudCIse0N1bGxTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKnApLEN1bGxBZGphY2VudFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqLjUqcCksQ3VsbEFkZGl0aW9uYWxTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKlMpfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoidWx0Q3VsbEhpdHMiLG5hbWU6InVsdEN1bGxIaXRzIix0ZXh0OnQoIkNvbnRlbnQudWx0Q3VsbEhpdHMudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudWx0Q3VsbEhpdHMudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudWx0Q3VsbEhpdHMuY29udGVudCIse0N1bGxTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKnApLEN1bGxBZGphY2VudFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqLjUqcCksQ3VsbEFkZGl0aW9uYWxTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKlMpfSksbWluOjAsbWF4OmZ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiY291bnRlckF0a0J1ZmYiLG5hbWU6ImNvdW50ZXJBdGtCdWZmIix0ZXh0OnQoIkNvbnRlbnQuY291bnRlckF0a0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuY291bnRlckF0a0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuY291bnRlckF0a0J1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxVWx0QnVmZiIsbmFtZToiZTFVbHRCdWZmIix0ZXh0OnQoIkNvbnRlbnQuZTFVbHRCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmUxVWx0QnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMVVsdEJ1ZmYuY29udGVudCIpLGRpc2FibGVkOmU8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkRlZlNocmVkIixuYW1lOiJlMkRlZlNocmVkIix0ZXh0OnQoIkNvbnRlbnQuZTJEZWZTaHJlZC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMkRlZlNocmVkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmUyRGVmU2hyZWQuY29udGVudCIpLGRpc2FibGVkOmU8Mn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNFJlc0J1ZmYiLG5hbWU6ImU0UmVzQnVmZiIsdGV4dDp0KCJDb250ZW50LmU0UmVzQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lNFJlc0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTRSZXNCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDplPDR9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZCdWZmcyIsbmFtZToiZTZCdWZmcyIsdGV4dDp0KCJDb250ZW50LmU2QnVmZnMudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTZCdWZmcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNkJ1ZmZzLmNvbnRlbnQiKSxkaXNhYmxlZDplPDZ9XSxoPVtdLF89e2Jsb2NrQWN0aXZlOiEwLHVsdEN1bGw6ITAsdWx0Q3VsbEhpdHM6Zixjb3VudGVyQXRrQnVmZjohMCxlMVVsdEJ1ZmY6ITAsZTJEZWZTaHJlZDohMCxlNFJlc0J1ZmY6ITAsZTZCdWZmczohMH07cmV0dXJue2NvbnRlbnQ6KCk9PmcsdGVhbW1hdGVDb250ZW50OigpPT5oLGRlZmF1bHRzOigpPT5fLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSksaW5pdGlhbGl6ZUNvbmZpZ3VyYXRpb25zOihFLFQpPT57Y29uc3QgTD1ULmNoYXJhY3RlckNvbmRpdGlvbmFscztMLmJsb2NrQWN0aXZlJiZMLnVsdEN1bGwmJihFLkZVQV9ETUdfVFlQRT1PfE0pfSxwcmVjb21wdXRlRWZmZWN0czooRSxUKT0+e2NvbnN0IEw9VC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIEwuYmxvY2tBY3RpdmU/TC51bHRDdWxsP0UuRlVBX1NDQUxJTkcrPXArTC51bHRDdWxsSGl0cypTOkUuRlVBX1NDQUxJTkcrPW06RS5GVUFfU0NBTElORys9YyxmdChFLE0sQixMLmJsb2NrQWN0aXZlKSxFW3IuQVRLX1BdKz1MLmNvdW50ZXJBdGtCdWZmPy4zOjAsRS5ETUdfUkVEX01VTFRJKj1MLmJsb2NrQWN0aXZlPzEtLjI6MSx5KEUsTSwuMixlPj0xJiZMLmUxVWx0QnVmZiYmTC5ibG9ja0FjdGl2ZSksYXQoRSxNLC4yLGU+PTImJkwuZTJEZWZTaHJlZCksRVtyLlJFU10rPWU+PTQmJkwuZTRSZXNCdWZmPy41OjAsdWUoRSxNLC4xNSxlPj02JiZMLmU2QnVmZnMmJkwuYmxvY2tBY3RpdmUpLEl0KEUsTSwuMixlPj02JiZMLmU2QnVmZnMmJkwuYmxvY2tBY3RpdmUpLEUuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsRS5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxFLkZVQV9UT1VHSE5FU1NfRE1HKz1MLmJsb2NrQWN0aXZlPzYwOjMwLEUuRlVBX1RPVUdITkVTU19ETUcrPUwuYmxvY2tBY3RpdmUmJkwudWx0Q3VsbD9MLnVsdEN1bGxIaXRzKjE1OjAsRS5CQVNJQ19TQ0FMSU5HKz1zLEUuU0tJTExfU0NBTElORys9bCxFfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooRSxUKT0+e30scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czooRSxUKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KEUsVCk9PntaKEUsVCxkKFQpKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6RT0+cShkKEUpKX19LFZhPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuSmlhb3FpdSIpLHtiYXNpYzpuLHNraWxsOm8sdWx0OmksdGFsZW50OmF9PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUscz1uKGUsMSwxLjEpLGw9byhlLDEuNSwxLjY1KSxtPWkoZSwxLDEuMDgpLHA9aShlLC4xNSwuMTYyKSxTPWEoZSwuMTUsLjE2NSksQj1hKGUsLjA1LC4wNTUpLGM9YShlLDEuOCwxLjk4KSxmPWU+PTY/OTo1LHU9W3tmb3JtSXRlbToic2xpZGVyIixpZDoiYXNoZW5Sb2FzdFN0YWNrcyIsbmFtZToiYXNoZW5Sb2FzdFN0YWNrcyIsdGV4dDp0KCJDb250ZW50LmFzaGVuUm9hc3RTdGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuYXNoZW5Sb2FzdFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5hc2hlblJvYXN0U3RhY2tzLmNvbnRlbnQiLHtBc2hlblJvYXN0SW5pdGlhbFZ1bG5lcmFiaWxpdHk6RC5wcmVjaXNpb25Sb3VuZCgxMDAqUyksQXNoZW5Sb2FzdEFkZGl0aW9uYWxWdWxuZXJhYmlsaXR5OkQucHJlY2lzaW9uUm91bmQoMTAwKkIpLEFzaGVuUm9hc3REb3RNdWx0aXBsaWVyOkQucHJlY2lzaW9uUm91bmQoMTAwKmMpfSksbWluOjAsbWF4OmZ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidWx0RmllbGRBY3RpdmUiLG5hbWU6InVsdEZpZWxkQWN0aXZlIix0ZXh0OnQoIkNvbnRlbnQudWx0RmllbGRBY3RpdmUudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudWx0RmllbGRBY3RpdmUudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudWx0RmllbGRBY3RpdmUuY29udGVudCIse1VsdFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbSksVWx0VnVsbmVyYWJpbGl0eTpELnByZWNpc2lvblJvdW5kKDEwMCpwKSxab25lRGVidWZmQ2hhbmNlOkQucHJlY2lzaW9uUm91bmQoMTAwKmkoZSwuNiwuNjIpKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVoclRvQXRrQm9vc3QiLG5hbWU6ImVoclRvQXRrQm9vc3QiLHRleHQ6dCgiQ29udGVudC5laHJUb0F0a0Jvb3N0LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmVoclRvQXRrQm9vc3QudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZWhyVG9BdGtCb29zdC5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFEbWdCb29zdCIsbmFtZToiZTFEbWdCb29zdCIsdGV4dDp0KCJDb250ZW50LmUxRG1nQm9vc3QudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTFEbWdCb29zdC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMURtZ0Jvb3N0LmNvbnRlbnQiKSxkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJEb3QiLG5hbWU6ImUyRG90Iix0ZXh0OnQoIkNvbnRlbnQuZTJEb3QudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTJEb3QudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTJEb3QuY29udGVudCIpLGRpc2FibGVkOmU8Mn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNlJlc1NocmVkIixuYW1lOiJlNlJlc1NocmVkIix0ZXh0OnQoIkNvbnRlbnQuZTZSZXNTaHJlZC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lNlJlc1NocmVkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmU2UmVzU2hyZWQuY29udGVudCIpLGRpc2FibGVkOmU8Nn1dLEM9W0kodSwiYXNoZW5Sb2FzdFN0YWNrcyIpLEkodSwidWx0RmllbGRBY3RpdmUiKSxJKHUsImUxRG1nQm9vc3QiKSxJKHUsImU2UmVzU2hyZWQiKV0sZD17YXNoZW5Sb2FzdFN0YWNrczpmLHVsdEZpZWxkQWN0aXZlOiEwLGVoclRvQXRrQm9vc3Q6ITAsZTFEbWdCb29zdDohMCxlMkRvdDohMCxlNlJlc1NocmVkOiEwfSxnPXthc2hlblJvYXN0U3RhY2tzOmYsdWx0RmllbGRBY3RpdmU6ITAsZTFEbWdCb29zdDohMCxlNlJlc1NocmVkOiEwfTtyZXR1cm57Y29udGVudDooKT0+dSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PkMsZGVmYXVsdHM6KCk9PmQsdGVhbW1hdGVEZWZhdWx0czooKT0+ZyxwcmVjb21wdXRlRWZmZWN0czooaCxfKT0+e2NvbnN0IEU9Xy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGguQkFTSUNfU0NBTElORys9cyxoLlNLSUxMX1NDQUxJTkcrPWwsaC5VTFRfU0NBTElORys9bSxoLkRPVF9TQ0FMSU5HKz1FLmFzaGVuUm9hc3RTdGFja3M+MD9jOjAsaC5ET1RfU0NBTElORys9ZT49MiYmRS5lMkRvdCYmRS5hc2hlblJvYXN0U3RhY2tzPjA/MzowLGguRE9UX0NIQU5DRT0xMDAsaC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxoLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGguVUxUX1RPVUdITkVTU19ETUcrPTYwLGh9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihoLF8pPT57Y29uc3QgRT1fLmNoYXJhY3RlckNvbmRpdGlvbmFscztpdChoLE8scCxFLnVsdEZpZWxkQWN0aXZlKSxoLlZVTE5FUkFCSUxJVFkrPUUuYXNoZW5Sb2FzdFN0YWNrcz4wP1M6MCxoLlZVTE5FUkFCSUxJVFkrPU1hdGgubWF4KDAsRS5hc2hlblJvYXN0U3RhY2tzLTEpKkIsaC5FTEVNRU5UQUxfRE1HKz1lPj0xJiZFLmUxRG1nQm9vc3QmJkUuYXNoZW5Sb2FzdFN0YWNrcz4wPy40OjAsaC5SRVNfUEVOKz1lPj02JiZFLmU2UmVzU2hyZWQ/RS5hc2hlblJvYXN0U3RhY2tzKi4wMzowfSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihoLF8pPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpoPT54KGgpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCksZHluYW1pY0NvbmRpdGlvbmFsczpbWWldfX0semE9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5GZWl4aWFvIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5VTFRfQkFTSUNfM19TS0lMTF9UQUxFTlRfNSxzPW4oZSwxLDEuMSksbD1vKGUsMiwyLjIpLG09aShlLC42LC42NDgpLHA9aShlLC4zLC4zMyksUz1pKGUsMS42LDEuNzI4KSxCPWEoZSwxLjEsMS4yMSksYz1hKGUsLjYsLjY2KSxmPTEqLjEyODUrMiouMTI4NSszKi4xMjg1KzQqLjEyODUrNSouMTI4NSs2Ki4xMjg1KzcqLjIyODUsdT0xKi4xMjg1Ki4xKzIqLjEyODUqLjkrMyouMTI4NSouMSs0Ki4xMjg1Ki45KzUqLjEyODUqLjErNiouMTI4NSouOSs3Ki4xMjg1Ki4xKzgqLjEyODUqLjkrOCouMTI4NSouMSs4Ki4xMjg1Ki45KzgqLjEyODUqLjErOCouMTI4NSouOSs4Ki4yMjg1O2Z1bmN0aW9uIEMoXyl7cmV0dXJuIF8uY2hhcmFjdGVyQ29uZGl0aW9uYWxzLndlYWtuZXNzQnJva2VuVWx0P1IqdTpSKmZ9Y29uc3QgZD1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ3ZWFrbmVzc0Jyb2tlblVsdCIsbmFtZToid2Vha25lc3NCcm9rZW5VbHQiLHRleHQ6dCgiQ29udGVudC53ZWFrbmVzc0Jyb2tlblVsdC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC53ZWFrbmVzc0Jyb2tlblVsdC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC53ZWFrbmVzc0Jyb2tlblVsdC5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidGFsZW50RG1nQnVmZiIsbmFtZToidGFsZW50RG1nQnVmZiIsdGV4dDp0KCJDb250ZW50LnRhbGVudERtZ0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQudGFsZW50RG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC50YWxlbnREbWdCdWZmLmNvbnRlbnQiLHtGdWFNdWx0aXBsaWVyOkQucHJlY2lzaW9uUm91bmQoMTAwKkIpLERtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqYyl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJza2lsbEF0a0J1ZmYiLG5hbWU6InNraWxsQXRrQnVmZiIsdGV4dDp0KCJDb250ZW50LnNraWxsQXRrQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5za2lsbEF0a0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc2tpbGxBdGtCdWZmLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMU9yaWdpbmFsRG1nQm9vc3QiLG5hbWU6ImUxT3JpZ2luYWxEbWdCb29zdCIsdGV4dDp0KCJDb250ZW50LmUxT3JpZ2luYWxEbWdCb29zdC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMU9yaWdpbmFsRG1nQm9vc3QudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTFPcmlnaW5hbERtZ0Jvb3N0LmNvbnRlbnQiKSxkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTRCdWZmcyIsbmFtZToiZTRCdWZmcyIsdGV4dDp0KCJDb250ZW50LmU0QnVmZnMudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTRCdWZmcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNEJ1ZmZzLmNvbnRlbnQiKSxkaXNhYmxlZDplPDR9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZCdWZmcyIsbmFtZToiZTZCdWZmcyIsdGV4dDp0KCJDb250ZW50LmU2QnVmZnMudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTZCdWZmcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNkJ1ZmZzLmNvbnRlbnQiKSxkaXNhYmxlZDplPDZ9XSxnPVtdLGg9e3VsdFN0YWNrczo2LHdlYWtuZXNzQnJva2VuVWx0OiEwLHRhbGVudERtZ0J1ZmY6ITAsc2tpbGxBdGtCdWZmOiEwLGUxT3JpZ2luYWxEbWdCb29zdDohMCxlNEJ1ZmZzOiEwLGU2QnVmZnM6ITB9O3JldHVybntjb250ZW50OigpPT5kLHRlYW1tYXRlQ29udGVudDooKT0+ZyxkZWZhdWx0czooKT0+aCx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLGluaXRpYWxpemVDb25maWd1cmF0aW9uczooXyxFKT0+e2NvbnN0IFQ9RS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Xy5VTFRfRE1HX1RZUEU9T3xNLFQud2Vha25lc3NCcm9rZW5VbHQmJihfLkVORU1ZX1dFQUtORVNTX0JST0tFTj0xKSxlPj02JiZULmU2QnVmZnMmJihfLkZVQV9ETUdfVFlQRT1PfE0pfSxwcmVjb21wdXRlRWZmZWN0czooXyxFKT0+e2NvbnN0IFQ9RS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIFQud2Vha25lc3NCcm9rZW5VbHR8fChfLlVMVF9CUkVBS19FRkZJQ0lFTkNZX0JPT1NUKz0xKSxmdChfLE0sLjM2KSxfW3IuQVRLX1BdKz1ULnNraWxsQXRrQnVmZj8uNDg6MCxfLkVMRU1FTlRBTF9ETUcrPVQudGFsZW50RG1nQnVmZj9jOjAsXy5CQVNJQ19TQ0FMSU5HKz1zLF8uU0tJTExfU0NBTElORys9bCxfLkZVQV9TQ0FMSU5HKz1CLF8uVUxUX1NDQUxJTkcrPTYqKG0rcCkrUyxfLlVMVF9PUklHSU5BTF9ETUdfQk9PU1QrPWU+PTEmJlQuZTFPcmlnaW5hbERtZ0Jvb3N0Py4zMDcxOjAsZT49NCYmKF9bci5TUERfUF0rPS4wOCxfLkZVQV9UT1VHSE5FU1NfRE1HKz0xNSksZT49NiYmVC5lNkJ1ZmZzJiYoXy5SRVNfUEVOKz0uMixfLkZVQV9TQ0FMSU5HKz0xLjQpLF8uQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsXy5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxfLlVMVF9UT1VHSE5FU1NfRE1HKz05MCxfLkZVQV9UT1VHSE5FU1NfRE1HKz0xNSxffSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooXyxFKT0+e30scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czooXyxFKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KF8sRSk9PntfLkJBU0lDX0RNRys9Xy5CQVNJQ19TQ0FMSU5HKl9bci5BVEtdLF8uU0tJTExfRE1HKz1fLlNLSUxMX1NDQUxJTkcqX1tyLkFUS10sXy5VTFRfRE1HKz1fLlVMVF9TQ0FMSU5HKihfW3IuQVRLXStwdChfLEUsQyhFKSkpLF8uRlVBX0RNRys9Xy5GVUFfU0NBTElORyooX1tyLkFUS10rcHQoXyxFLFIqKDEqMSkpKSxfLkRPVF9ETUcrPV8uRE9UX1NDQUxJTkcqX1tyLkFUS119LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOl89PmAKeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogeC5BVEs7CnguU0tJTExfRE1HICs9IHguU0tJTExfU0NBTElORyAqIHguQVRLOwp4LlVMVF9ETUcgKz0geC5VTFRfU0NBTElORyAqICh4LkFUSyArIGNhbGN1bGF0ZUFzaGJsYXppbmdTZXQocF94LCBwX3N0YXRlLCAke0MoXyl9KSk7CnguRlVBX0RNRyArPSB4LkZVQV9TQ0FMSU5HICogKHguQVRLICsgY2FsY3VsYXRlQXNoYmxhemluZ1NldChwX3gsIHBfc3RhdGUsICR7UiooMSoxKX0pKTsKeC5ET1RfRE1HICs9IHguRE9UX1NDQUxJTkcgKiB4LkFUSzsKICAgIGB9fSwkYT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkxpbmdzaGEiKSx7YmFzaWM6bixza2lsbDpvLHVsdDppLHRhbGVudDphfT1iLlVMVF9UQUxFTlRfM19TS0lMTF9CQVNJQ181LHM9bihlLDEsMS4xKSxsPW8oZSwuOCwuODgpLG09aShlLDEuNSwxLjY1KSxwPWkoZSwuMjUsLjI3KSxTPWEoZSwuNzUsLjgyNSksQj17MTpSKigxKjEvMisyKjEvMiksMzpSKigyKjEvMiszKjEvMiksNTpSKigzKjEvMis0KjEvMil9LGM9W3tmb3JtSXRlbToic3dpdGNoIixpZDoiYmVDb252ZXJzaW9uIixuYW1lOiJiZUNvbnZlcnNpb24iLHRleHQ6dCgiQ29udGVudC5iZUNvbnZlcnNpb24udGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuYmVDb252ZXJzaW9uLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmJlQ29udmVyc2lvbi5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiYmVmb2dTdGF0ZSIsbmFtZToiYmVmb2dTdGF0ZSIsdGV4dDp0KCJDb250ZW50LmJlZm9nU3RhdGUudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuYmVmb2dTdGF0ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5iZWZvZ1N0YXRlLmNvbnRlbnQiLHtCZWZvZ1Z1bG5lcmFiaWxpdHk6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcCl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMURlZlNocmVkIixuYW1lOiJlMURlZlNocmVkIix0ZXh0OnQoIkNvbnRlbnQuZTFEZWZTaHJlZC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMURlZlNocmVkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmUxRGVmU2hyZWQuY29udGVudCIpLGRpc2FibGVkOmU8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkJlQnVmZiIsbmFtZToiZTJCZUJ1ZmYiLHRleHQ6dCgiQ29udGVudC5lMkJlQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMkJlQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lMkJlQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6ZTwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2UmVzU2hyZWQiLG5hbWU6ImU2UmVzU2hyZWQiLHRleHQ6dCgiQ29udGVudC5lNlJlc1NocmVkLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmU2UmVzU2hyZWQudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZTZSZXNTaHJlZC5jb250ZW50IiksZGlzYWJsZWQ6ZTw2fV0sZj1bSShjLCJiZWZvZ1N0YXRlIiksSShjLCJlMURlZlNocmVkIiksSShjLCJlMkJlQnVmZiIpLEkoYywiZTZSZXNTaHJlZCIpXSx1PXtiZUNvbnZlcnNpb246ITAsYmVmb2dTdGF0ZTohMCxlMURlZlNocmVkOiEwLGUyQmVCdWZmOiEwLGU2UmVzU2hyZWQ6ITB9LEM9e2JlZm9nU3RhdGU6ITAsZTFEZWZTaHJlZDohMCxlMkJlQnVmZjohMCxlNlJlc1NocmVkOiEwfTtyZXR1cm57Y29udGVudDooKT0+Yyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmYsZGVmYXVsdHM6KCk9PnUsdGVhbW1hdGVEZWZhdWx0czooKT0+QyxwcmVjb21wdXRlRWZmZWN0czooZCxnKT0+e2NvbnN0IGg9Zy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGQuQkFTSUNfU0NBTElORys9cyxkLlNLSUxMX1NDQUxJTkcrPWwsZC5GVUFfU0NBTElORys9UyoyLGQuVUxUX1NDQUxJTkcrPW0sZC5CUkVBS19FRkZJQ0lFTkNZX0JPT1NUKz1lPj0xPy41OjAsZC5GVUFfU0NBTElORys9ZT49NiYmaC5lNlJlc1NocmVkPy41OjAsZC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxkLlNLSUxMX1RPVUdITkVTU19ETUcrPTMwLGQuVUxUX1RPVUdITkVTU19ETUcrPTYwLGQuRlVBX1RPVUdITkVTU19ETUcrPTMwKjIsZC5GVUFfVE9VR0hORVNTX0RNRys9ZT49Nj8xNTowLGR9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihkLGcpPT57Y29uc3QgaD1nLmNoYXJhY3RlckNvbmRpdGlvbmFscztkLkVORU1ZX1dFQUtORVNTX0JST0tFTiYmKGQuREVGX1BFTis9ZT49MSYmaC5lMURlZlNocmVkPy4yOjApLGl0KGQsVHQscCxoLmJlZm9nU3RhdGUpLGRbci5CRV0rPWU+PTImJmguZTJCZUJ1ZmY/LjQ6MCxkLlJFU19QRU4rPWU+PTYmJmguZTZSZXNTaHJlZD8uMjowfSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihkLGcpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooZCxnKT0+e1ooZCxnLEJbZy5lbmVteUNvdW50XSl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOmQ9PnEoQltkLmVuZW15Q291bnRdKSxkeW5hbWljQ29uZGl0aW9uYWxzOltqaV19fSxXYT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLk1vemUiKSx7YmFzaWM6bixza2lsbDpvLHVsdDppLHRhbGVudDphfT1iLlVMVF9UQUxFTlRfM19TS0lMTF9CQVNJQ181LHM9bihlLDEsMS4xKSxsPW8oZSwxLjUsMS42NSksbT1pKGUsMi43LDIuOTE2KSxwPWEoZSwxLjYsMS43NiksUz1hKGUsLjMsLjMzKSxCPVIqKDEqLjA4KzIqLjA4KzMqLjA4KzQqLjA4KzUqLjA4KzYqLjYpLGM9W3tmb3JtSXRlbToic3dpdGNoIixpZDoicHJleU1hcmsiLG5hbWU6InByZXlNYXJrIix0ZXh0OnQoIkNvbnRlbnQucHJleU1hcmsudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQucHJleU1hcmsudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQucHJleU1hcmsuY29udGVudCIse1ByZXlBZGRpdGlvbmFsTXVsdGlwbGllcjpELnByZWNpc2lvblJvdW5kKDEwMCpTKSxGdWFTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKnApfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJDZEJvb3N0IixuYW1lOiJlMkNkQm9vc3QiLHRleHQ6dCgiQ29udGVudC5lMkNkQm9vc3QudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZTJDZEJvb3N0LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmUyQ2RCb29zdC5jb250ZW50IiksZGlzYWJsZWQ6ZTwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0RG1nQnVmZiIsbmFtZToiZTREbWdCdWZmIix0ZXh0OnQoIkNvbnRlbnQuZTREbWdCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmU0RG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNERtZ0J1ZmYuY29udGVudCIpLGRpc2FibGVkOmU8NH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNk11bHRpcGxpZXJJbmNyZWFzZSIsbmFtZToiZTZNdWx0aXBsaWVySW5jcmVhc2UiLHRleHQ6dCgiQ29udGVudC5lNk11bHRpcGxpZXJJbmNyZWFzZS50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lNk11bHRpcGxpZXJJbmNyZWFzZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lNk11bHRpcGxpZXJJbmNyZWFzZS5jb250ZW50IiksZGlzYWJsZWQ6ZTw2fV0sZj1bSShjLCJwcmV5TWFyayIpLEkoYywiZTJDZEJvb3N0IildLHU9e3ByZXlNYXJrOiEwLGUyQ2RCb29zdDohMCxlNERtZ0J1ZmY6ITAsZTZNdWx0aXBsaWVySW5jcmVhc2U6ITB9LEM9e3ByZXlNYXJrOiEwLGUyQ2RCb29zdDohMH07cmV0dXJue2NvbnRlbnQ6KCk9PmMsdGVhbW1hdGVDb250ZW50OigpPT5mLGRlZmF1bHRzOigpPT51LHRlYW1tYXRlRGVmYXVsdHM6KCk9PkMsaW5pdGlhbGl6ZUNvbmZpZ3VyYXRpb25zOihkLGcpPT57ZC5VTFRfRE1HX1RZUEU9T3xNfSxwcmVjb21wdXRlRWZmZWN0czooZCxnKT0+e2NvbnN0IGg9Zy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGQuRUxFTUVOVEFMX0RNRys9ZT49NCYmaC5lNERtZ0J1ZmY/LjM6MCxkLkJBU0lDX1NDQUxJTkcrPXMrKGgucHJleU1hcms/UzowKSxkLlNLSUxMX1NDQUxJTkcrPWwrKGgucHJleU1hcms/UzowKSxkLkZVQV9TQ0FMSU5HKz1wKyhoLnByZXlNYXJrP1M6MCksZC5GVUFfU0NBTElORys9ZT49NiYmaC5lNk11bHRpcGxpZXJJbmNyZWFzZT8uMjU6MCxkLlVMVF9TQ0FMSU5HKz1tKyhoLnByZXlNYXJrP1M6MCksZC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxkLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGQuVUxUX1RPVUdITkVTU19ETUcrPTkwLGQuRlVBX1RPVUdITkVTU19ETUcrPTMwLGR9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihkLGcpPT57Y29uc3QgaD1nLmNoYXJhY3RlckNvbmRpdGlvbmFscztpdChkLE0sLjI1LGgucHJleU1hcmspLGRbci5DRF0rPWU+PTImJmgucHJleU1hcmsmJmguZTJDZEJvb3N0Py40OjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGQsZyk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihkLGcpPT57WihkLGcsQil9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOmQ9PnEoQil9fSxZYT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLlJhcHBhIikse2Jhc2ljOm4sc2tpbGw6byx1bHQ6aSx0YWxlbnQ6YX09Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxzPW4oZSwxLDEuMSksbD1uKGUsMiwyLjMyKSxtPW8oZSwxLjIsMS4zMikscD1pKGUsLjMsLjM0KSxTPWEoZSwuNiwuNjYpLEI9YShlLC41LC41NSksYz1lPj02PzE1OjEwLGY9W3tmb3JtSXRlbToic3dpdGNoIixpZDoic2VhbGZvcm1BY3RpdmUiLG5hbWU6InNlYWxmb3JtQWN0aXZlIix0ZXh0OnQoIkNvbnRlbnQuc2VhbGZvcm1BY3RpdmUudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuc2VhbGZvcm1BY3RpdmUudGl0bGUiKSxjb250ZW50OkEudCgiQmV0YU1lc3NhZ2UiLHtuczoiY29uZGl0aW9uYWxzIixWZXJzaW9uOmx0fSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiYXRrVG9CcmVha1Z1bG5lcmFiaWxpdHkiLG5hbWU6ImF0a1RvQnJlYWtWdWxuZXJhYmlsaXR5Iix0ZXh0OnQoIkNvbnRlbnQuYXRrVG9CcmVha1Z1bG5lcmFiaWxpdHkudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuYXRrVG9CcmVha1Z1bG5lcmFiaWxpdHkudGl0bGUiKSxjb250ZW50OkEudCgiQmV0YU1lc3NhZ2UiLHtuczoiY29uZGl0aW9uYWxzIixWZXJzaW9uOmx0fSl9LHtuYW1lOiJjaGFyZ2VTdGFja3MiLGlkOiJjaGFyZ2VTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6dCgiQ29udGVudC5jaGFyZ2VTdGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuY2hhcmdlU3RhY2tzLnRpdGxlIiksY29udGVudDpBLnQoIkJldGFNZXNzYWdlIix7bnM6ImNvbmRpdGlvbmFscyIsVmVyc2lvbjpsdH0pLG1pbjowLG1heDpjfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxRGVmUGVuIixuYW1lOiJlMURlZlBlbiIsdGV4dDp0KCJDb250ZW50LmUxRGVmUGVuLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmUxRGVmUGVuLnRpdGxlIiksY29udGVudDpBLnQoIkJldGFNZXNzYWdlIix7bnM6ImNvbmRpdGlvbmFscyIsVmVyc2lvbjpsdH0pLGRpc2FibGVkOmU8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkJ1ZmZzIixuYW1lOiJlMkJ1ZmZzIix0ZXh0OnQoIkNvbnRlbnQuZTJCdWZmcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lMkJ1ZmZzLnRpdGxlIiksY29udGVudDpBLnQoIkJldGFNZXNzYWdlIix7bnM6ImNvbmRpdGlvbmFscyIsVmVyc2lvbjpsdH0pLGRpc2FibGVkOmU8Mn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNFNwZEJ1ZmYiLG5hbWU6ImU0U3BkQnVmZiIsdGV4dDp0KCJDb250ZW50LmU0U3BkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lNFNwZEJ1ZmYudGl0bGUiKSxjb250ZW50OkEudCgiQmV0YU1lc3NhZ2UiLHtuczoiY29uZGl0aW9uYWxzIixWZXJzaW9uOmx0fSksZGlzYWJsZWQ6ZTw0fV0sdT1be2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0ZWFtbWF0ZUJyZWFrVnVsbmVyYWJpbGl0eSIsbmFtZToidGVhbW1hdGVCcmVha1Z1bG5lcmFiaWxpdHkiLHRleHQ6dCgiVGVhbW1hdGVDb250ZW50LnRlYW1tYXRlQnJlYWtWdWxuZXJhYmlsaXR5LnRleHQiKSx0aXRsZTp0KCJUZWFtbWF0ZUNvbnRlbnQudGVhbW1hdGVCcmVha1Z1bG5lcmFiaWxpdHkudGl0bGUiKSxjb250ZW50OkEudCgiQmV0YU1lc3NhZ2UiLHtuczoiY29uZGl0aW9uYWxzIixWZXJzaW9uOmx0fSksbWluOjAsbWF4Oi4xLHBlcmNlbnQ6ITB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTRTcGRCdWZmIixuYW1lOiJlNFNwZEJ1ZmYiLHRleHQ6dCgiVGVhbW1hdGVDb250ZW50LmU0U3BkQnVmZi50ZXh0IiksdGl0bGU6dCgiVGVhbW1hdGVDb250ZW50LmU0U3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6QS50KCJCZXRhTWVzc2FnZSIse25zOiJjb25kaXRpb25hbHMiLFZlcnNpb246bHR9KSxkaXNhYmxlZDplPDR9XSxDPXtzZWFsZm9ybUFjdGl2ZTohMCxhdGtUb0JyZWFrVnVsbmVyYWJpbGl0eTohMCxjaGFyZ2VTdGFja3M6ZT49Nj8xMDo1LGUxRGVmUGVuOiEwLGUyQnVmZnM6ITAsZTRTcGRCdWZmOiEwfTtyZXR1cm57Y29udGVudDooKT0+Zix0ZWFtbWF0ZUNvbnRlbnQ6KCk9PnUsZGVmYXVsdHM6KCk9PkMsdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0ZWFtbWF0ZUJyZWFrVnVsbmVyYWJpbGl0eTouMSxlNFNwZEJ1ZmY6ITB9KSxpbml0aWFsaXplQ29uZmlndXJhdGlvbnM6KGQsZyk9PntnLmNoYXJhY3RlckNvbmRpdGlvbmFscy5zZWFsZm9ybUFjdGl2ZSYmKGQuRU5FTVlfV0VBS05FU1NfQlJPS0VOPTEpfSxwcmVjb21wdXRlRWZmZWN0czooZCxnKT0+e2NvbnN0IGg9Zy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGRbci5CRV0rPWguc2VhbGZvcm1BY3RpdmU/cDowLGQuQlJFQUtfRUZGSUNJRU5DWV9CT09TVCs9aC5zZWFsZm9ybUFjdGl2ZT8uNTowLGQuREVGX1BFTis9ZT49MSYmaC5zZWFsZm9ybUFjdGl2ZSYmaC5lMURlZlBlbj8uMTU6MCxkW3IuU1BEX1BdKz1lPj00JiZoLnNlYWxmb3JtQWN0aXZlJiZoLmU0U3BkQnVmZj8uMTI6MCxkLkJBU0lDX1NVUEVSX0JSRUFLX01PRElGSUVSKz1oLnNlYWxmb3JtQWN0aXZlPy42OjAsZC5CQVNJQ19CUkVBS19ETUdfTU9ESUZJRVI9UytoLmNoYXJnZVN0YWNrcypCLGQuQkFTSUNfU0NBTElORys9aC5zZWFsZm9ybUFjdGl2ZT9sOnMsZC5TS0lMTF9TQ0FMSU5HKz1tLGQuQkFTSUNfVE9VR0hORVNTX0RNRys9aC5zZWFsZm9ybUFjdGl2ZT83NSsoMitoLmNoYXJnZVN0YWNrcykqMzozMCxkLlNLSUxMX1RPVUdITkVTU19ETUcrPTMwLGR9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihkLGcpPT57fSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihkLGcpPT57Y29uc3QgaD1nLmNoYXJhY3RlckNvbmRpdGlvbmFscztkLkJSRUFLX1ZVTE5FUkFCSUxJVFkrPWgudGVhbW1hdGVCcmVha1Z1bG5lcmFiaWxpdHksZFtyLlNQRF9QXSs9ZT49NCYmaC5lNFNwZEJ1ZmY/LjEyOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmQ9PngoZCksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKSxkeW5hbWljQ29uZGl0aW9uYWxzOlt6aV19fTtjb25zdCBqYT17MTAwMTpnYSwxMDAyOnFpLDEwMDM6c2EsMTAwNDp5YSwxMDA1OmRhLDEwMDY6SWEsMTAwODp2aSwxMDA5Ok5pLDEwMTM6YWEsMTEwMTpYaSwxMTAyOkVhLDExMDM6VGEsMTEwNDpuYSwxMTA1OmhhLDExMDY6QmEsMTEwNzpaaSwxMTA4OkFhLDExMDk6cmEsMTExMDpTYSwxMTExOm1hLDExMTI6RmEsMTIwMTpEYSwxMjAyOmJhLDEyMDM6Q2EsMTIwNDpmYSwxMjA1OlFpLDEyMDY6a2EsMTIwNzpNYSwxMjA4OmVhLDEyMDk6R2EsMTIxMDpvYSwxMjExOk9pLDEyMTI6dWEsMTIxMzpjYSwxMjE0OlJhLDEyMTU6aWEsMTIxNzpsYSwxMjE4OlZhLDEyMjA6emEsMTIyMTp3YSwxMjIyOiRhLDEyMjM6V2EsMTIyNDpLYSwxMzAxOk9hLDEzMDI6TWksMTMwMzpfYSwxMzA0Ok5hLDEzMDU6dGEsMTMwNjpMYSwxMzA3OkppLDEzMDg6dmEsMTMwOTpQYSwxMzEwOkhhLDEzMTI6cGEsMTMxNDp4YSwxMzE1OlVhLDEzMTc6WWEsODAwMTpObiw4MDAyOk5uLDgwMDM6UG4sODAwNDpQbiw4MDA1Ok9uLDgwMDY6T259LHZ0PXtnZXQ6ZT0+e2NvbnN0IHQ9amFbZS5jaGFyYWN0ZXJJZF07cmV0dXJuIHQoZS5jaGFyYWN0ZXJFaWRvbG9uKX19O3ZhciBKYT1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkFkdmVyc2FyaWFsIiksbj1bLjEsLjEyLC4xNCwuMTYsLjE4XSxvPVt7bGM6ITAsaWQ6ImRlZmVhdGVkRW5lbXlTcGRCdWZmIixuYW1lOiJkZWZlYXRlZEVuZW15U3BkQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmRlZmVhdGVkRW5lbXlTcGRCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmRlZmVhdGVkRW5lbXlTcGRCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmRlZmVhdGVkRW5lbXlTcGRCdWZmLmNvbnRlbnQiLHtTcGRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtkZWZlYXRlZEVuZW15U3BkQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3IuU1BEX1BdKz1zLmRlZmVhdGVkRW5lbXlTcGRCdWZmP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sUWE9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5BbWJlciIpLG49Wy4xNiwuMiwuMjQsLjI4LC4zMl0sbz1be2xjOiEwLGlkOiJocDUwRGVmQnVmZiIsbmFtZToiaHA1MERlZkJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5ocDUwRGVmQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5ocDUwRGVmQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5ocDUwRGVmQnVmZi5jb250ZW50Iix7RGVmQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7aHA1MERlZkJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aVtyLkRFRl9QXSs9cy5ocDUwRGVmQnVmZj9uW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFhhPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQW5JbnN0YW50QmVmb3JlQUdhemUiKSxuPVsuMDAzNiwuMDA0MiwuMDA0OCwuMDA1NCwuMDA2XSxvPVt7bGM6ITAsaWQ6Im1heEVuZXJneVVsdERtZ1N0YWNrcyIsbmFtZToibWF4RW5lcmd5VWx0RG1nU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OnQoIkNvbnRlbnQubWF4RW5lcmd5VWx0RG1nU3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50Lm1heEVuZXJneVVsdERtZ1N0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5tYXhFbmVyZ3lVbHREbWdTdGFja3MuY29udGVudCIse0RtZ1N0ZXA6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KSxtaW46MCxtYXg6MTgwfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7bWF4RW5lcmd5VWx0RG1nU3RhY2tzOjE4MH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt5KGksTyxzLm1heEVuZXJneVVsdERtZ1N0YWNrcypuW2VdKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sWmE9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5BcnJvd3MiKSxuPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxvPVt7bGM6ITAsaWQ6ImNyaXRCdWZmIixuYW1lOiJjcml0QnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmNyaXRCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmNyaXRCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmNyaXRCdWZmLmNvbnRlbnQiLHtDcml0QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7Y3JpdEJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aVtyLkNSXSs9cy5jcml0QnVmZj9uW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHFhPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQVNlY3JldFZvdyIpLG49Wy4yLC4yNSwuMywuMzUsLjRdLG89W3tsYzohMCxpZDoiZW5lbXlIcEhpZ2hlckRtZ0Jvb3N0IixuYW1lOiJlbmVteUhwSGlnaGVyRG1nQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5lbmVteUhwSGlnaGVyRG1nQm9vc3QudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZW5lbXlIcEhpZ2hlckRtZ0Jvb3N0LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmVuZW15SHBIaWdoZXJEbWdCb29zdC5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHtlbmVteUhwSGlnaGVyRG1nQm9vc3Q6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aS5FTEVNRU5UQUxfRE1HKz1uW2VdLGkuRUxFTUVOVEFMX0RNRys9cy5lbmVteUhwSGlnaGVyRG1nQm9vc3Q/bltlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fTtjb25zdCB0cz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkJhcHRpc21PZlB1cmVUaG91Z2h0Iiksbj1bLjA4LC4wOSwuMSwuMTEsLjEyXSxvPVsuMzYsLjQyLC40OCwuNTQsLjZdLGk9Wy4yNCwuMjgsLjMyLC4zNiwuNF0sYT1be2xjOiEwLGZvcm1JdGVtOiJzbGlkZXIiLGlkOiJkZWJ1ZmZDZFN0YWNrcyIsbmFtZToiZGVidWZmQ2RTdGFja3MiLHRleHQ6dCgiQ29udGVudC5kZWJ1ZmZDZFN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5kZWJ1ZmZDZFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5kZWJ1ZmZDZFN0YWNrcy5jb250ZW50Iix7RG1nU3RlcDpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pLG1pbjowLG1heDozfSx7bGM6ITAsZm9ybUl0ZW06InN3aXRjaCIsaWQ6InBvc3RVbHRCdWZmIixuYW1lOiJwb3N0VWx0QnVmZiIsdGV4dDp0KCJDb250ZW50LnBvc3RVbHRCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnBvc3RVbHRCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnBvc3RVbHRCdWZmLmNvbnRlbnQiLHtEbWdTdGVwOkQucHJlY2lzaW9uUm91bmQoMTAwKm9bZV0pLERlZklnbm9yZTpELnByZWNpc2lvblJvdW5kKDEwMCppW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7ZGVidWZmQ2RTdGFja3M6Myxwb3N0VWx0QnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLGwpPT57Y29uc3QgbT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzW3IuQ0RdKz1tLmRlYnVmZkNkU3RhY2tzKm5bZV0scy5FTEVNRU5UQUxfRE1HKz1tLnBvc3RVbHRCdWZmP29bZV06MCxhdChzLE0saVtlXSxtLnBvc3RVbHRCdWZmKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX07dmFyIGVzPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQmVmb3JlRGF3biIpLG49Wy4xOCwuMjEsLjI0LC4yNywuM10sbz1bLjQ4LC41NiwuNjQsLjcyLC44XSxpPVt7bGM6ITAsaWQ6ImZ1YURtZ0Jvb3N0IixuYW1lOiJmdWFEbWdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmZ1YURtZ0Jvb3N0LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmZ1YURtZ0Jvb3N0LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmZ1YURtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm9bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtmdWFEbWdCb29zdDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihhLHMpPT57Y29uc3QgbD1zLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt5KGEsenxPLG5bZV0pLHkoYSxNLG9bZV0sbC5mdWFEbWdCb29zdCl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LG5zPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxvcz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkJyaWdodGVyVGhhblRoZVN1biIpLG49Wy4xOCwuMjEsLjI0LC4yNywuM10sbz1bLjA2LC4wNywuMDgsLjA5LC4xXSxpPVt7bGM6ITAsaWQ6ImRyYWdvbnNDYWxsU3RhY2tzIixuYW1lOiJkcmFnb25zQ2FsbFN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDp0KCJDb250ZW50LmRyYWdvbnNDYWxsU3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmRyYWdvbnNDYWxsU3RhY2tzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmRyYWdvbnNDYWxsU3RhY2tzLmNvbnRlbnQiLHtBdGtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pLFJlZ2VuQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpvW2VdKX0pLG1pbjowLG1heDoyfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7ZHJhZ29uc0NhbGxTdGFja3M6Mn0pLHByZWNvbXB1dGVFZmZlY3RzOihhLHMpPT57Y29uc3QgbD1zLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczthW3IuQVRLX1BdKz1sLmRyYWdvbnNDYWxsU3RhY2tzKm5bZV0sYVtyLkVSUl0rPWwuZHJhZ29uc0NhbGxTdGFja3Mqb1tlXX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0saXM9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5CdXRUaGVCYXR0bGVJc250T3ZlciIpLG49Wy4zLC4zNSwuNCwuNDUsLjVdLG89W3tsYzohMCxpZDoicG9zdFNraWxsRG1nQnVmZiIsbmFtZToicG9zdFNraWxsRG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LnBvc3RTa2lsbERtZ0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQucG9zdFNraWxsRG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5wb3N0U2tpbGxEbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+W10sdGVhbW1hdGVDb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe30pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7cG9zdFNraWxsRG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkVMRU1FTlRBTF9ETUcrPXMucG9zdFNraWxsRG1nQnVmZj9uW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGFzPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQ2FydmVUaGVNb29uV2VhdmVUaGVDbG91ZHMiKSxuPVsuMSwuMTI1LC4xNSwuMTc1LC4yXSxvPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxpPVsuMDYsLjA3NSwuMDksLjEwNSwuMTJdLGE9W3tsYzohMCxpZDoiYXRrQnVmZkFjdGl2ZSIsbmFtZToiYXRrQnVmZkFjdGl2ZSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmF0a0J1ZmZBY3RpdmUudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuYXRrQnVmZkFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5hdGtCdWZmQWN0aXZlLmNvbnRlbnQiLHtBdGtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pLENyaXRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm9bZV0pLFJlZ2VuQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCppW2VdKX0pfSx7bGM6ITAsaWQ6ImNkQnVmZkFjdGl2ZSIsbmFtZToiY2RCdWZmQWN0aXZlIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuY2RCdWZmQWN0aXZlLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmNkQnVmZkFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5jZEJ1ZmZBY3RpdmUuY29udGVudCIse0F0a0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSksQ3JpdEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqb1tlXSksUmVnZW5CdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmlbZV0pfSl9LHtsYzohMCxpZDoiZXJyQnVmZkFjdGl2ZSIsbmFtZToiZXJyQnVmZkFjdGl2ZSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmVyckJ1ZmZBY3RpdmUudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZXJyQnVmZkFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lcnJCdWZmQWN0aXZlLmNvbnRlbnQiLHtBdGtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pLENyaXRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm9bZV0pLFJlZ2VuQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCppW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9PmEsdGVhbW1hdGVDb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe2F0a0J1ZmZBY3RpdmU6ITAsY2RCdWZmQWN0aXZlOiExLGVyckJ1ZmZBY3RpdmU6ITF9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2F0a0J1ZmZBY3RpdmU6ITAsY2RCdWZmQWN0aXZlOiExLGVyckJ1ZmZBY3RpdmU6ITF9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHMsbCk9Pntjb25zdCBtPWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO3Nbci5BVEtfUF0rPW0uYXRrQnVmZkFjdGl2ZT9uW2VdOjAsc1tyLkNEXSs9bS5jZEJ1ZmZBY3RpdmU/b1tlXTowLHNbci5FUlJdKz1tLmVyckJ1ZmZBY3RpdmU/aVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxzcz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkNob3J1cyIpLG49Wy4wOCwuMDksLjEsLjExLC4xMl0sbz1be2xjOiEwLGlkOiJpbkJhdHRsZUF0a0J1ZmYiLG5hbWU6ImluQmF0dGxlQXRrQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmluQmF0dGxlQXRrQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5pbkJhdHRsZUF0a0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuaW5CYXR0bGVBdGtCdWZmLmNvbnRlbnQiLHtBdGtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+byx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7aW5CYXR0bGVBdGtCdWZmOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtpbkJhdHRsZUF0a0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbci5BVEtfUF0rPXMuaW5CYXR0bGVBdGtCdWZmP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0scnM9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Db2xsYXBzaW5nU2t5Iiksbj1bLjIsLjI1LC4zLC4zNSwuNF0sbz1be2xjOiEwLGlkOiJiYXNpY1NraWxsRG1nQnVmZiIsbmFtZToiYmFzaWNTa2lsbERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5iYXNpY1NraWxsRG1nQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5iYXNpY1NraWxsRG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5iYXNpY1NraWxsRG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7YmFzaWNTa2lsbERtZ0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7eShpLFd8eixuW2VdLHMuYmFzaWNTa2lsbERtZ0J1ZmYpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxscz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkNvcm51Y29waWEiKSxuPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxvPVt7bGM6ITAsaWQ6ImhlYWxpbmdCdWZmIixuYW1lOiJoZWFsaW5nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmhlYWxpbmdCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmhlYWxpbmdCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmhlYWxpbmdCdWZmLmNvbnRlbnQiLHtIZWFsaW5nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7aGVhbGluZ0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aVtyLk9IQl0rPXMuaGVhbGluZ0J1ZmY/bltlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxjcz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkNydWlzaW5nSW5UaGVTdGVsbGFyU2VhIiksbj1bLjA4LC4xLC4xMiwuMTQsLjE2XSxvPVsuMiwuMjUsLjMsLjM1LC40XSxpPVt7bGM6ITAsaWQ6ImVuZW15SHA1MENyQm9vc3QiLG5hbWU6ImVuZW15SHA1MENyQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5lbmVteUhwNTBDckJvb3N0LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmVuZW15SHA1MENyQm9vc3QudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZW5lbXlIcDUwQ3JCb29zdC5jb250ZW50Iix7Q3JpdEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KX0se2xjOiEwLGlkOiJlbmVteURlZmVhdGVkQXRrQnVmZiIsbmFtZToiZW5lbXlEZWZlYXRlZEF0a0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5lbmVteURlZmVhdGVkQXRrQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lbmVteURlZmVhdGVkQXRrQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lbmVteURlZmVhdGVkQXRrQnVmZi5jb250ZW50Iix7QXRrQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpvW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7ZW5lbXlIcDUwQ3JCb29zdDohMSxlbmVteURlZmVhdGVkQXRrQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihhLHMpPT57Y29uc3QgbD1zLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczthW3IuQ1JdKz1sLmVuZW15SHA1MENyQm9vc3Q/bltlXTowLGFbci5BVEtfUF0rPWwuZW5lbXlEZWZlYXRlZEF0a0J1ZmY/b1tlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSx1cz0oKT0+KHtjb250ZW50OigpPT5bXSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxmcz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkRhcnRpbmdBcnJvdyIpLG49Wy4yNCwuMywuMzYsLjQyLC40OF0sbz1be2xjOiEwLGlkOiJkZWZlYXRlZEVuZW15QXRrQnVmZiIsbmFtZToiZGVmZWF0ZWRFbmVteUF0a0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5kZWZlYXRlZEVuZW15QXRrQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5kZWZlYXRlZEVuZW15QXRrQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5kZWZlYXRlZEVuZW15QXRrQnVmZi5jb250ZW50Iix7QXRrQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7ZGVmZWF0ZWRFbmVteUF0a0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aVtyLkFUS19QXSs9cy5kZWZlYXRlZEVuZW15QXRrQnVmZj9uW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGRzPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuRGF0YUJhbmsiKSxuPVsuMjgsLjM1LC40MiwuNDksLjU2XSxvPVt7bGM6ITAsaWQ6InVsdERtZ0J1ZmYiLG5hbWU6InVsdERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC51bHREbWdCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnVsdERtZ0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudWx0RG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7dWx0RG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt5KGksTyxuW2VdLHMudWx0RG1nQnVmZil9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LG1zPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuRGF5T25lT2ZNeU5ld0xpZmUiKSxuPVsuMDgsLjA5LC4xLC4xMSwuMTJdLG89W3tsYzohMCxpZDoiZG1nUmVzQnVmZiIsbmFtZToiZG1nUmVzQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmRtZ1Jlc0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZG1nUmVzQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5kbWdSZXNCdWZmLmNvbnRlbnQiLHtSZXNCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+byx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7ZG1nUmVzQnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7ZG1nUmVzQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aS5ETUdfUkVEX01VTFRJKj1zLmRtZ1Jlc0J1ZmY/MS1uW2VdOjF9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LENzPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxTcz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkVhcnRobHlFc2NhcGFkZSIpLG49Wy4xLC4xMSwuMTIsLjEzLC4xNF0sbz1bLjI4LC4zNSwuNDIsLjQ5LC41Nl0saT1be2xjOiEwLGlkOiJtYXNrQWN0aXZlIixuYW1lOiJtYXNrQWN0aXZlIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQubWFza0FjdGl2ZS50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5tYXNrQWN0aXZlLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50Lm1hc2tBY3RpdmUuY29udGVudCIse0NyaXRSYXRlQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKSxDcml0RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpvW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksdGVhbW1hdGVDb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe21hc2tBY3RpdmU6ITF9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe21hc2tBY3RpdmU6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czooYSxzKT0+e2NvbnN0IGw9cy5saWdodENvbmVDb25kaXRpb25hbHM7YVtyLkNSXSs9bC5tYXNrQWN0aXZlP25bZV06MCxhW3IuQ0RdKz1sLm1hc2tBY3RpdmU/b1tlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxncz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkVjaG9lc09mVGhlQ29mZmluIiksbj1bMTIsMTQsMTYsMTgsMjBdLG89WzMsMy41LDQsNC41LDVdLGk9W3tsYzohMCxpZDoicG9zdFVsdFNwZEJ1ZmYiLG5hbWU6InBvc3RVbHRTcGRCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQucG9zdFVsdFNwZEJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQucG9zdFVsdFNwZEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQucG9zdFVsdFNwZEJ1ZmYuY29udGVudCIse0VuZXJneVJlY292ZXJlZDpELnByZWNpc2lvblJvdW5kKG9bZV0pLFNwZEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZChuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksdGVhbW1hdGVDb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe3Bvc3RVbHRTcGRCdWZmOiExfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtwb3N0VWx0U3BkQnVmZjohMX0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooYSxzKT0+e2NvbnN0IGw9cy5saWdodENvbmVDb25kaXRpb25hbHM7YVtyLlNQRF0rPWwucG9zdFVsdFNwZEJ1ZmY/bltlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxwcz1lPT57Y29uc3QgdD1bLjI0LC4zLC4zNiwuNDIsLjQ4XTtyZXR1cm57Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6bj0+e3kobix1dCx0W2VdKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0saHM9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5GZXJtYXRhIiksbj1bLjE2LC4yLC4yNCwuMjgsLjMyXSxvPVt7bGM6ITAsaWQ6ImVuZW15U2hvY2tXaW5kU2hlYXIiLG5hbWU6ImVuZW15U2hvY2tXaW5kU2hlYXIiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5lbmVteVNob2NrV2luZFNoZWFyLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmVuZW15U2hvY2tXaW5kU2hlYXIudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZW5lbXlTaG9ja1dpbmRTaGVhci5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7ZW5lbXlTaG9ja1dpbmRTaGVhcjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkVMRU1FTlRBTF9ETUcrPXMuZW5lbXlTaG9ja1dpbmRTaGVhcj9uW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LEJzPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxEcz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkdlbml1c2VzUmVwb3NlIiksbj1bLjI0LC4zLC4zNiwuNDIsLjQ4XSxvPVt7bGM6ITAsaWQ6ImRlZmVhdGVkRW5lbXlDZEJ1ZmYiLG5hbWU6ImRlZmVhdGVkRW5lbXlDZEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5kZWZlYXRlZEVuZW15Q2RCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmRlZmVhdGVkRW5lbXlDZEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZGVmZWF0ZWRFbmVteUNkQnVmZi5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7ZGVmZWF0ZWRFbmVteUNkQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3IuQ0RdKz1zLmRlZmVhdGVkRW5lbXlDZEJ1ZmY/bltlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxfcz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkdvb2ROaWdodEFuZFNsZWVwV2VsbCIpLG49Wy4xMiwuMTUsLjE4LC4yMSwuMjRdLG89W3tsYzohMCxpZDoiZGVidWZmU3RhY2tzRG1nSW5jcmVhc2UiLG5hbWU6ImRlYnVmZlN0YWNrc0RtZ0luY3JlYXNlIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OnQoIkNvbnRlbnQuZGVidWZmU3RhY2tzRG1nSW5jcmVhc2UudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZGVidWZmU3RhY2tzRG1nSW5jcmVhc2UudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZGVidWZmU3RhY2tzRG1nSW5jcmVhc2UuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KSxtaW46MCxtYXg6M31dO3JldHVybntjb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe2RlYnVmZlN0YWNrc0RtZ0luY3JlYXNlOjN9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aS5FTEVNRU5UQUxfRE1HKz1zLmRlYnVmZlN0YWNrc0RtZ0luY3JlYXNlKm5bZV19LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LEFzPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuSGV5T3ZlckhlcmUiKSxuPVsuMTYsLjE5LC4yMiwuMjUsLjI4XSxvPVt7bGM6ITAsaWQ6InBvc3RTa2lsbEhlYWxCdWZmIixuYW1lOiJwb3N0U2tpbGxIZWFsQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LnBvc3RTa2lsbEhlYWxCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnBvc3RTa2lsbEhlYWxCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnBvc3RTa2lsbEhlYWxCdWZmLmNvbnRlbnQiLHtIZWFsaW5nQm9vc3Q6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KX1dO3JldHVybntjb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe3Bvc3RTa2lsbEhlYWxCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbci5PSEJdKz1zLnBvc3RTa2lsbEhlYWxCdWZmP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sRXM9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5IaWRkZW5TaGFkb3ciKSxuPVsuNiwuNzUsLjksMS4wNSwxLjJdLG89W3tsYzohMCxpZDoiYmFzaWNBdGtCdWZmIixuYW1lOiJiYXNpY0F0a0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5iYXNpY0F0a0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuYmFzaWNBdGtCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmJhc2ljQXRrQnVmZi5jb250ZW50Iix7TXVsdGlwbGllckJvbnVzOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtiYXNpY0F0a0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aS5CQVNJQ19TQ0FMSU5HKz1zLmJhc2ljQXRrQnVmZj9uW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFRzPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuSW5jZXNzYW50UmFpbiIpLG49Wy4xMiwuMTQsLjE2LC4xOCwuMl0sbz1bLjEyLC4xNCwuMTYsLjE4LC4yXSxpPVt7bGM6ITAsaWQ6ImVuZW15M0RlYnVmZnNDckJvb3N0IixuYW1lOiJlbmVteTNEZWJ1ZmZzQ3JCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmVuZW15M0RlYnVmZnNDckJvb3N0LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmVuZW15M0RlYnVmZnNDckJvb3N0LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmVuZW15M0RlYnVmZnNDckJvb3N0LmNvbnRlbnQiLHtDcml0QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfSx7bGM6ITAsaWQ6InRhcmdldENvZGVEZWJ1ZmYiLG5hbWU6InRhcmdldENvZGVEZWJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC50YXJnZXRDb2RlRGVidWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRhcmdldENvZGVEZWJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudGFyZ2V0Q29kZURlYnVmZi5jb250ZW50Iix7RG1nSW5jcmVhc2U6RC5wcmVjaXNpb25Sb3VuZCgxMDAqb1tlXSl9KX1dLGE9W0koaSwidGFyZ2V0Q29kZURlYnVmZiIpXTtyZXR1cm57Y29udGVudDooKT0+aSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7ZW5lbXkzRGVidWZmc0NyQm9vc3Q6ITAsdGFyZ2V0Q29kZURlYnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dGFyZ2V0Q29kZURlYnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLGwpPT57Y29uc3QgbT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzW3IuQ1JdKz1tLmVuZW15M0RlYnVmZnNDckJvb3N0P25bZV06MH0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHMsbCk9Pntjb25zdCBtPWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO3MuVlVMTkVSQUJJTElUWSs9bS50YXJnZXRDb2RlRGVidWZmP29bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sSXM9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5JblRoZU5hbWVPZlRoZVdvcmxkIiksbj1bLjI0LC4yOCwuMzIsLjM2LC40XSxvPVsuMjQsLjI4LC4zMiwuMzYsLjRdLGk9Wy4xOCwuMjEsLjI0LC4yNywuM10sYT1be2xjOiEwLGlkOiJlbmVteURlYnVmZmVkRG1nQm9vc3QiLG5hbWU6ImVuZW15RGVidWZmZWREbWdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmVuZW15RGVidWZmZWREbWdCb29zdC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lbmVteURlYnVmZmVkRG1nQm9vc3QudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZW5lbXlEZWJ1ZmZlZERtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9LHtsYzohMCxpZDoic2tpbGxBdGtCb29zdCIsbmFtZToic2tpbGxBdGtCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LnNraWxsQXRrQm9vc3QudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuc2tpbGxBdGtCb29zdC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5za2lsbEF0a0Jvb3N0LmNvbnRlbnQiLHtFaHJCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmlbZV0pLEF0a0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqb1tlXSl9KX1dO3JldHVybntjb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe2VuZW15RGVidWZmZWREbWdCb29zdDohMCxza2lsbEF0a0Jvb3N0OiExfSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbCk9Pntjb25zdCBtPWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO3MuRUxFTUVOVEFMX0RNRys9bS5lbmVteURlYnVmZmVkRG1nQm9vc3Q/bltlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxMcz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkluVGhlTmlnaHQiKSxuPVsuMDYsLjA3LC4wOCwuMDksLjFdLG89Wy4xMiwuMTQsLjE2LC4xOCwuMl0saT1be2xjOiEwLGlkOiJzcGRTY2FsaW5nQnVmZnMiLG5hbWU6InNwZFNjYWxpbmdCdWZmcyIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LnNwZFNjYWxpbmdCdWZmcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5zcGRTY2FsaW5nQnVmZnMudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc3BkU2NhbGluZ0J1ZmZzLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pLENyaXRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm9bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtzcGRTY2FsaW5nQnVmZnM6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KGEscyk9Pntjb25zdCBsPXMubGlnaHRDb25lQ29uZGl0aW9uYWxzLG09TWF0aC5tYXgoMCxNYXRoLm1pbig2LE1hdGguZmxvb3IoKGFbci5TUERdLTEwMCkvMTApKSk7eShhLFd8eixtKm5bZV0sbC5zcGRTY2FsaW5nQnVmZnMpLGZ0KGEsTyxtKm9bZV0sbC5zcGRTY2FsaW5nQnVmZnMpfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczphPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztyZXR1cm5gCmlmICgke2oocy5zcGRTY2FsaW5nQnVmZnMpfSkgewogIGxldCBzdGFja3MgPSBtYXgoMCwgbWluKDYsIGZsb29yKCh4LlNQRCAtIDEwMCkgLyAxMCkpKTsKCiAgYnVmZkFiaWxpdHlEbWcocF94LCBCQVNJQ19UWVBFIHwgU0tJTExfVFlQRSwgc3RhY2tzICogJHtuW2VdfSwgMSk7CiAgYnVmZkFiaWxpdHlDZChwX3gsIFVMVF9UWVBFLCBzdGFja3MgKiAke29bZV19LCAxKTsKfQogICAgYH19fSxrcz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLklTaGFsbEJlTXlPd25Td29yZCIpLG49Wy4xNCwuMTY1LC4xOSwuMjE1LC4yNF0sbz1bLjEyLC4xNCwuMTYsLjE4LC4yXSxpPVt7bGM6ITAsaWQ6ImVjbGlwc2VTdGFja3MiLG5hbWU6ImVjbGlwc2VTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6dCgiQ29udGVudC5lY2xpcHNlU3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmVjbGlwc2VTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZWNsaXBzZVN0YWNrcy5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pLG1pbjowLG1heDozfSx7bGM6ITAsaWQ6Im1heFN0YWNrRGVmUGVuIixuYW1lOiJtYXhTdGFja0RlZlBlbiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50Lm1heFN0YWNrRGVmUGVuLnRleHQiKSx0aXRsZTp0KCJDb250ZW50Lm1heFN0YWNrRGVmUGVuLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50Lm1heFN0YWNrRGVmUGVuLmNvbnRlbnQiLHtEZWZJZ25vcmU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqb1tlXSl9KX1dO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2VjbGlwc2VTdGFja3M6MyxtYXhTdGFja0RlZlBlbjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihhLHMpPT57Y29uc3QgbD1zLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczthLkVMRU1FTlRBTF9ETUcrPWwuZWNsaXBzZVN0YWNrcypuW2VdLGEuREVGX1BFTis9bC5tYXhTdGFja0RlZlBlbiYmbC5lY2xpcHNlU3RhY2tzPT0zP29bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sYnM9ZT0+e2NvbnN0IHQ9Wy4xNiwuMTgsLjIsLjIyLC4yNF07cmV0dXJue2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOm49PntuLkRNR19SRURfTVVMVEkqPTEtdFtlXX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0seXM9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Mb29wIiksbj1bLjI0LC4zLC4zNiwuNDIsLjQ4XSxvPVt7bGM6ITAsaWQ6ImVuZW15U2xvd2VkRG1nQnVmZiIsbmFtZToiZW5lbXlTbG93ZWREbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuZW5lbXlTbG93ZWREbWdCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmVuZW15U2xvd2VkRG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lbmVteVNsb3dlZERtZ0J1ZmYuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KX1dO3JldHVybntjb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe2VuZW15U2xvd2VkRG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkVMRU1FTlRBTF9ETUcrPXMuZW5lbXlTbG93ZWREbWdCdWZmP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sUnM9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5NYWtlVGhlV29ybGRDbGFtb3IiKSxuPVsuMzIsLjQsLjQ4LC41NiwuNjRdLG89WzIwLDIzLDI2LDI5LDMyXSxpPVt7bGM6ITAsaWQ6InVsdERtZ0J1ZmYiLG5hbWU6InVsdERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC51bHREbWdCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnVsdERtZ0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudWx0RG1nQnVmZi5jb250ZW50Iix7RW5lcmd5Om9bZV0sRG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7dWx0RG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihhLHMpPT57Y29uc3QgbD1zLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt5KGEsTyxuW2VdLGwudWx0RG1nQnVmZil9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LEdzPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuTWVkaWF0aW9uIiksbj1bMTIsMTQsMTYsMTgsMjBdLG89W3tsYzohMCxpZDoiaW5pdGlhbFNwZEJ1ZmYiLG5hbWU6ImluaXRpYWxTcGRCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuaW5pdGlhbFNwZEJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuaW5pdGlhbFNwZEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuaW5pdGlhbFNwZEJ1ZmYuY29udGVudCIse1NwZEJ1ZmY6bltlXX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sdGVhbW1hdGVDb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe2luaXRpYWxTcGRCdWZmOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtpbml0aWFsU3BkQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aVtyLlNQRF0rPXMuaW5pdGlhbFNwZEJ1ZmY/bltlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxNcz0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSksdnM9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLE5zPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuTW9tZW50T2ZWaWN0b3J5Iiksbj1bLjI0LC4yOCwuMzIsLjM2LC40XSxvPVt7bGM6ITAsaWQ6InNlbGZBdHRhY2tlZERlZkJ1ZmYiLG5hbWU6InNlbGZBdHRhY2tlZERlZkJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5zZWxmQXR0YWNrZWREZWZCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNlbGZBdHRhY2tlZERlZkJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc2VsZkF0dGFja2VkRGVmQnVmZi5jb250ZW50Iix7RGVmQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7c2VsZkF0dGFja2VkRGVmQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3IuREVGX1BdKz1zLnNlbGZBdHRhY2tlZERlZkJ1ZmY/bltlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxPcz0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSksUHM9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5NdXR1YWxEZW1pc2UiKSxuPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxvPVt7bGM6ITAsaWQ6InNlbGZIcDgwQ3JCdWZmIixuYW1lOiJzZWxmSHA4MENyQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LnNlbGZIcDgwQ3JCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNlbGZIcDgwQ3JCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnNlbGZIcDgwQ3JCdWZmLmNvbnRlbnQiLHtDcml0QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7c2VsZkhwODBDckJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aVtyLkNSXSs9cy5zZWxmSHA4MENyQnVmZj9uW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFVzPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuTmlnaHRPZkZyaWdodCIpLG49Wy4wMjQsLjAyOCwuMDMyLC4wMzYsLjA0XSxvPVt7bGM6ITAsaWQ6ImF0a0J1ZmZTdGFja3MiLG5hbWU6ImF0a0J1ZmZTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6dCgiQ29udGVudC5hdGtCdWZmU3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmF0a0J1ZmZTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuYXRrQnVmZlN0YWNrcy5jb250ZW50Iix7QXRrQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pLG1pbjowLG1heDo1fV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sdGVhbW1hdGVDb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe2F0a0J1ZmZTdGFja3M6NX0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7YXRrQnVmZlN0YWNrczo1fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3IuQVRLX1BdKz1zLmF0a0J1ZmZTdGFja3MqbltlXX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sRnM9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5OaWdodE9uVGhlTWlsa3lXYXkiKSxuPVsuMDksLjEwNSwuMTIsLjEzNSwuMTVdLG89Wy4zLC4zNSwuNCwuNDUsLjVdLGk9W3tsYzohMCxpZDoiZW5lbXlDb3VudEF0a0J1ZmYiLG5hbWU6ImVuZW15Q291bnRBdGtCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuZW5lbXlDb3VudEF0a0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZW5lbXlDb3VudEF0a0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZW5lbXlDb3VudEF0a0J1ZmYuY29udGVudCIse0F0a0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KX0se2xjOiEwLGlkOiJlbmVteVdlYWtuZXNzQnJlYWtEbWdCdWZmIixuYW1lOiJlbmVteVdlYWtuZXNzQnJlYWtEbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuZW5lbXlXZWFrbmVzc0JyZWFrRG1nQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lbmVteVdlYWtuZXNzQnJlYWtEbWdCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmVuZW15V2Vha25lc3NCcmVha0RtZ0J1ZmYuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqb1tlXSl9KX1dO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2VuZW15Q291bnRBdGtCdWZmOiEwLGVuZW15V2Vha25lc3NCcmVha0RtZ0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooYSxzKT0+e2NvbnN0IGw9cy5saWdodENvbmVDb25kaXRpb25hbHM7YVtyLkFUS19QXSs9bC5lbmVteUNvdW50QXRrQnVmZj9zLmVuZW15Q291bnQqbltlXTowLGEuRUxFTUVOVEFMX0RNRys9bC5lbmVteVdlYWtuZXNzQnJlYWtEbWdCdWZmP29bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sSHM9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLHhzPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuT25seVNpbGVuY2VSZW1haW5zIiksbj1bLjEyLC4xNSwuMTgsLjIxLC4yNF0sbz1be2xjOiEwLGlkOiJlbmVtaWVzMkNyQnVmZiIsbmFtZToiZW5lbWllczJDckJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5lbmVtaWVzMkNyQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lbmVtaWVzMkNyQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lbmVtaWVzMkNyQnVmZi5jb250ZW50Iix7Q3JpdEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KX1dO3JldHVybntjb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe2VuZW1pZXMyQ3JCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbci5DUl0rPXMuZW5lbWllczJDckJ1ZmYmJmEuZW5lbXlDb3VudDw9Mj9uW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LEtzPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuT25UaGVGYWxsT2ZBbkFlb24iKSxuPVsuMDgsLjEsLjEyLC4xNCwuMTZdLG89Wy4xMiwuMTUsLjE4LC4yMSwuMjRdLGk9W3tsYzohMCxpZDoiYXRrQm9vc3RTdGFja3MiLG5hbWU6ImF0a0Jvb3N0U3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OnQoIkNvbnRlbnQuYXRrQm9vc3RTdGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuYXRrQm9vc3RTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuYXRrQm9vc3RTdGFja3MuY29udGVudCIse0F0a0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KSxtaW46MCxtYXg6NH0se2xjOiEwLGlkOiJ3ZWFrbmVzc0JyZWFrRG1nQnVmZiIsbmFtZToid2Vha25lc3NCcmVha0RtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC53ZWFrbmVzc0JyZWFrRG1nQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC53ZWFrbmVzc0JyZWFrRG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC53ZWFrbmVzc0JyZWFrRG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpvW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7YXRrQm9vc3RTdGFja3M6NCx3ZWFrbmVzc0JyZWFrRG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihhLHMpPT57Y29uc3QgbD1zLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczthW3IuQVRLX1BdKz1sLmF0a0Jvb3N0U3RhY2tzKm5bZV0sYS5FTEVNRU5UQUxfRE1HKz1sLndlYWtuZXNzQnJlYWtEbWdCdWZmP29bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sd3M9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLFZzPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuUGFzdEFuZEZ1dHVyZSIpLG49Wy4xNiwuMiwuMjQsLjI4LC4zMl0sbz1be2xjOiEwLGlkOiJwb3N0U2tpbGxEbWdCdWZmIixuYW1lOiJwb3N0U2tpbGxEbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQucG9zdFNraWxsRG1nQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5wb3N0U2tpbGxEbWdCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnBvc3RTa2lsbERtZ0J1ZmYuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KX1dO3JldHVybntjb250ZW50OigpPT5bXSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7fSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtwb3N0U2tpbGxEbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9cy5wb3N0U2tpbGxEbWdCdWZmP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0senM9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5QYXN0U2VsZkluVGhlTWlycm9yIiksbj1bLjI0LC4yOCwuMzIsLjM2LC40XSxvPVt7bGM6ITAsaWQ6InBvc3RVbHREbWdCdWZmIixuYW1lOiJwb3N0VWx0RG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LnBvc3RVbHREbWdCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnBvc3RVbHREbWdCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnBvc3RVbHREbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+byx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7cG9zdFVsdERtZ0J1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3Bvc3RVbHREbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkVMRU1FTlRBTF9ETUcrPXMucG9zdFVsdERtZ0J1ZmY/bltlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSwkcz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlBhdGllbmNlSXNBbGxZb3VOZWVkIiksbj1bLjI0LC4yOCwuMzIsLjM2LC40XSxvPVsuMDQ4LC4wNTYsLjA2NCwuMDcyLC4wOF0saT1bLjYsLjcsLjgsLjksMV0sYT1be2xjOiEwLGlkOiJzcGRTdGFja3MiLG5hbWU6InNwZFN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDp0KCJDb250ZW50LnNwZFN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5zcGRTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc3BkU3RhY2tzLmNvbnRlbnQiLHtTcGRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm9bZV0pfSksbWluOjAsbWF4OjN9LHtsYzohMCxpZDoiZG90RWZmZWN0IixuYW1lOiJkb3RFZmZlY3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5kb3RFZmZlY3QudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZG90RWZmZWN0LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmRvdEVmZmVjdC5jb250ZW50Iix7TXVsdGlwbGllcjpELnByZWNpc2lvblJvdW5kKDEwMCppW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7c3BkU3RhY2tzOjMsZG90RWZmZWN0OiExfSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbCk9Pntjb25zdCBtPWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO3Nbci5TUERfUF0rPW0uc3BkU3RhY2tzKm9bZV0scy5FTEVNRU5UQUxfRE1HKz1uW2VdfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxXcz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlBlcmZlY3RUaW1pbmciKSxuPVsuMzMsLjM2LC4zOSwuNDIsLjQ1XSxvPVsuMTUsLjE4LC4yMSwuMjQsLjI3XSxpPVt7bGM6ITAsaWQ6InJlc1RvSGVhbGluZ0Jvb3N0IixuYW1lOiJyZXNUb0hlYWxpbmdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LnJlc1RvSGVhbGluZ0Jvb3N0LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnJlc1RvSGVhbGluZ0Jvb3N0LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnJlc1RvSGVhbGluZ0Jvb3N0LmNvbnRlbnQiLHtTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pLExpbWl0OkQucHJlY2lzaW9uUm91bmQoMTAwKm9bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtyZXNUb0hlYWxpbmdCb29zdDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooYSxzKT0+e30sZHluYW1pY0NvbmRpdGlvbmFsczpbe2lkOiJQZXJmZWN0VGltaW5nQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5TSU5HTEUsZGVwZW5kc09uOltyLlJFU10sY29uZGl0aW9uOmZ1bmN0aW9uKGEscyxsKXtyZXR1cm4gcy5saWdodENvbmVDb25kaXRpb25hbHMucmVzVG9IZWFsaW5nQm9vc3R9LGVmZmVjdDooYSxzLGwpPT57Y29uc3QgbT1NYXRoLm1pbihvW2VdLG5bZV0qYVtyLlJFU10pO1YoYSxzLGwsci5PSEIsbSl9LGdwdTpmdW5jdGlvbigpe3JldHVybiBGKHRoaXMsYAppZiAoCiAgKCpwX3N0YXRlKS5QZXJmZWN0VGltaW5nQ29uZGl0aW9uYWwgPT0gMC4wCikgewogICgqcF9zdGF0ZSkuUGVyZmVjdFRpbWluZ0NvbmRpdGlvbmFsID0gMS4wOwogIAogIGxldCBib29zdCA9IG1pbigke29bZV19LCAke25bZV19ICogeC5SRVMpOwogIGJ1ZmZEeW5hbWljT0hCKGJvb3N0LCBwX3gsIHBfc3RhdGUpOwp9CiAgICBgKX19XX19LFlzPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxqcz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlBsYW5ldGFyeVJlbmRlenZvdXMiKSxuPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxvPVt7bGM6ITAsaWQ6ImFsbGllc1NhbWVFbGVtZW50IixuYW1lOiJhbGxpZXNTYW1lRWxlbWVudCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmFsbGllc1NhbWVFbGVtZW50LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmFsbGllc1NhbWVFbGVtZW50LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmFsbGllc1NhbWVFbGVtZW50LmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+byx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7YWxsaWVzU2FtZUVsZW1lbnQ6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2FsbGllc1NhbWVFbGVtZW50OiEwfSkscHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aS5FTEVNRU5UQUxfRE1HKz1zLmFsbGllc1NhbWVFbGVtZW50P25bZV06MH0scHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9cy5hbGxpZXNTYW1lRWxlbWVudD9uW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LEpzPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuUG9zdE9wQ29udmVyc2F0aW9uIiksbj1bLjEyLC4xNSwuMTgsLjIxLC4yNF0sbz1be2xjOiEwLGlkOiJwb3N0VWx0SGVhbGluZ0Jvb3N0IixuYW1lOiJwb3N0VWx0SGVhbGluZ0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQucG9zdFVsdEhlYWxpbmdCb29zdC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5wb3N0VWx0SGVhbGluZ0Jvb3N0LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnBvc3RVbHRIZWFsaW5nQm9vc3QuY29udGVudCIse0hlYWxpbmdCb29zdDpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7cG9zdFVsdEhlYWxpbmdCb29zdDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3IuT0hCXSs9cy5wb3N0VWx0SGVhbGluZ0Jvb3N0P25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sUXM9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLFhzPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuUmVmb3JnZWRSZW1lbWJyYW5jZSIpLG49Wy4wNSwuMDYsLjA3LC4wOCwuMDldLG89Wy4wNzIsLjA3OSwuMDg2LC4wOTMsLjFdLGk9W3tsYzohMCxpZDoicHJvcGhldFN0YWNrcyIsbmFtZToicHJvcGhldFN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDp0KCJDb250ZW50LnByb3BoZXRTdGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQucHJvcGhldFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5wcm9waGV0U3RhY2tzLmNvbnRlbnQiLHtBdGtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pLERlZklnbm9yZTpELnByZWNpc2lvblJvdW5kKDEwMCpvW2VdKX0pLG1pbjowLG1heDo0fV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7cHJvcGhldFN0YWNrczo0fSkscHJlY29tcHV0ZUVmZmVjdHM6KGEscyk9Pntjb25zdCBsPXMubGlnaHRDb25lQ29uZGl0aW9uYWxzO2Fbci5BVEtfUF0rPWwucHJvcGhldFN0YWNrcypuW2VdLGF0KGEsdXQsbC5wcm9waGV0U3RhY2tzKm9bZV0pfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxacz1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlJlc29sdXRpb25TaGluZXNBc1BlYXJsc09mU3dlYXQiKSxuPVsuMTIsLjEzLC4xNCwuMTUsLjE2XSxvPVt7bGM6ITAsaWQ6InRhcmdldEVuc25hcmVkIixuYW1lOiJ0YXJnZXRFbnNuYXJlZCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LnRhcmdldEVuc25hcmVkLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRhcmdldEVuc25hcmVkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRhcmdldEVuc25hcmVkLmNvbnRlbnQiLHtEZWZTaHJlZDpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sdGVhbW1hdGVDb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe3RhcmdldEVuc25hcmVkOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0YXJnZXRFbnNuYXJlZDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aS5ERUZfUEVOKz1zLnRhcmdldEVuc25hcmVkP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0scXM9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLHRyPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuUml2ZXJGbG93c0luU3ByaW5nIiksbj1bLjA4LC4wOSwuMSwuMTEsLjEyXSxvPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxpPVt7bGM6ITAsaWQ6InNwZERtZ0J1ZmYiLG5hbWU6InNwZERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5zcGREbWdCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNwZERtZ0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc3BkRG1nQnVmZi5jb250ZW50Iix7U3BkQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKSxEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm9bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtzcGREbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGEscyk9Pntjb25zdCBsPXMubGlnaHRDb25lQ29uZGl0aW9uYWxzO2Fbci5TUERfUF0rPWwuc3BkRG1nQnVmZj9uW2VdOjAsYS5FTEVNRU5UQUxfRE1HKz1sLnNwZERtZ0J1ZmY/b1tlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxlcj1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlNhZ2FjaXR5Iiksbj1bLjI0LC4zLC4zNiwuNDIsLjQ4XSxvPVt7bGM6ITAsaWQ6InBvc3RVbHRBdGtCdWZmIixuYW1lOiJwb3N0VWx0QXRrQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LnBvc3RVbHRBdGtCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnBvc3RVbHRBdGtCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnBvc3RVbHRBdGtCdWZmLmNvbnRlbnQiLHtBdGtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtwb3N0VWx0QXRrQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3IuQVRLX1BdKz1zLnBvc3RVbHRBdGtCdWZmP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sbnI9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLG9yPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuU2hhdHRlcmVkSG9tZSIpLG49Wy4yLC4yNSwuMywuMzUsLjRdLG89W3tsYzohMCxpZDoiZW5lbXlIcDUwQnVmZiIsbmFtZToiZW5lbXlIcDUwQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmVuZW15SHA1MEJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZW5lbXlIcDUwQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lbmVteUhwNTBCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtlbmVteUhwNTBCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9cy5lbmVteUhwNTBCdWZmP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0saXI9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5TaGVBbHJlYWR5U2h1dEhlckV5ZXMiKSxuPVsuMDksLjEwNSwuMTIsLjEzNSwuMTVdLG89W3tsYzohMCxpZDoiaHBMb3N0RG1nQnVmZiIsbmFtZToiaHBMb3N0RG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmhwTG9zdERtZ0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuaHBMb3N0RG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5ocExvc3REbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+byx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7aHBMb3N0RG1nQnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7aHBMb3N0RG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aS5FTEVNRU5UQUxfRE1HKz1zLmhwTG9zdERtZ0J1ZmY/bltlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxhcj1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlNsZWVwTGlrZVRoZURlYWQiKSxuPVsuMzYsLjQyLC40OCwuNTQsLjZdLG89W3tsYzohMCxpZDoibWlzc2VkQ3JpdENyQnVmZiIsbmFtZToibWlzc2VkQ3JpdENyQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50Lm1pc3NlZENyaXRDckJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQubWlzc2VkQ3JpdENyQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5taXNzZWRDcml0Q3JCdWZmLmNvbnRlbnQiLHtDcml0QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7bWlzc2VkQ3JpdENyQnVmZjohMX0pLHByZWNvbXB1dGVFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3IuQ1JdKz1zLm1pc3NlZENyaXRDckJ1ZmY/bltlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxzcj1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlNvbGl0YXJ5SGVhbGluZyIpLG49Wy4yNCwuMywuMzYsLjQyLC40OF0sbz1be2xjOiEwLGlkOiJwb3N0VWx0RG90RG1nQnVmZiIsbmFtZToicG9zdFVsdERvdERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5wb3N0VWx0RG90RG1nQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5wb3N0VWx0RG90RG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5wb3N0VWx0RG90RG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7cG9zdFVsdERvdERtZ0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7eShpLHV0LG5bZV0scy5wb3N0VWx0RG90RG1nQnVmZil9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHJyPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuU29tZXRoaW5nSXJyZXBsYWNlYWJsZSIpLG49Wy4yNCwuMjgsLjMyLC4zNiwuNF0sbz1bLjA4LC4wOSwuMSwuMTEsLjEyXSxpPVt7bGM6ITAsaWQ6ImRtZ0J1ZmYiLG5hbWU6ImRtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5kbWdCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmRtZ0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZG1nQnVmZi5jb250ZW50Iix7TXVsdGlwbGllcjpELnByZWNpc2lvblJvdW5kKDEwMCpvW2VdKSxEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtkbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGEscyk9Pntjb25zdCBsPXMubGlnaHRDb25lQ29uZGl0aW9uYWxzO2EuRUxFTUVOVEFMX0RNRys9bC5kbWdCdWZmP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sbHI9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5TdWJzY3JpYmVGb3JNb3JlIiksbj1bLjI0LC4zLC4zNiwuNDIsLjQ4XSxvPVt7bGM6ITAsaWQ6Im1heEVuZXJneURtZ0Jvb3N0IixuYW1lOiJtYXhFbmVyZ3lEbWdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50Lm1heEVuZXJneURtZ0Jvb3N0LnRleHQiKSx0aXRsZTp0KCJDb250ZW50Lm1heEVuZXJneURtZ0Jvb3N0LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50Lm1heEVuZXJneURtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHttYXhFbmVyZ3lEbWdCb29zdDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt5KGksV3x6LG5bZV0pLHkoaSxXfHosbltlXSxzLm1heEVuZXJneURtZ0Jvb3N0KX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sY3I9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Td29yZHBsYXkiKSxuPVsuMDgsLjEsLjEyLC4xNCwuMTZdLG89W3tsYzohMCxpZDoic2FtZVRhcmdldEhpdFN0YWNrcyIsbmFtZToic2FtZVRhcmdldEhpdFN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDp0KCJDb250ZW50LnNhbWVUYXJnZXRIaXRTdGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuc2FtZVRhcmdldEhpdFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5zYW1lVGFyZ2V0SGl0U3RhY2tzLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSksbWluOjAsbWF4OjV9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtzYW1lVGFyZ2V0SGl0U3RhY2tzOjV9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aS5FTEVNRU5UQUxfRE1HKz1zLnNhbWVUYXJnZXRIaXRTdGFja3MqbltlXX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sdXI9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5UZXh0dXJlT2ZNZW1vcmllcyIpLG49Wy4xMiwuMTUsLjE4LC4yMSwuMjRdLG89Wy4xNiwuMiwuMjQsLjI4LC4zMl0saT1be2xjOiEwLGlkOiJhY3RpdmVTaGllbGREbWdEZWNyZWFzZSIsbmFtZToiYWN0aXZlU2hpZWxkRG1nRGVjcmVhc2UiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5hY3RpdmVTaGllbGREbWdEZWNyZWFzZS50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5hY3RpdmVTaGllbGREbWdEZWNyZWFzZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5hY3RpdmVTaGllbGREbWdEZWNyZWFzZS5jb250ZW50Iix7U2hpZWxkSHA6RC5wcmVjaXNpb25Sb3VuZCgxMDAqb1tlXSksRG1nUmVkdWN0aW9uOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHthY3RpdmVTaGllbGREbWdEZWNyZWFzZTohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihhLHMpPT57Y29uc3QgbD1zLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczthLkRNR19SRURfTVVMVEkqPWwuYWN0aXZlU2hpZWxkRG1nRGVjcmVhc2U/MS1uW2VdOjF9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGZyPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuVGhlQmlydGhPZlRoZVNlbGYiKSxuPVsuMjQsLjMsLjM2LC40MiwuNDhdLG89W3tsYzohMCxpZDoiZW5lbXlIcDUwRnVhQnVmZiIsbmFtZToiZW5lbXlIcDUwRnVhQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmVuZW15SHA1MEZ1YUJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZW5lbXlIcDUwRnVhQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5lbmVteUhwNTBGdWFCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtlbmVteUhwNTBGdWFCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO3koaSxNLG5bZV0pLHkoaSxNLG5bZV0scy5lbmVteUhwNTBGdWFCdWZmKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sZHI9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5UaGVNb2xlc1dlbGNvbWVZb3UiKSxuPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxvPVt7bGM6ITAsaWQ6ImF0a0J1ZmZTdGFja3MiLG5hbWU6ImF0a0J1ZmZTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6dCgiQ29udGVudC5hdGtCdWZmU3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmF0a0J1ZmZTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuYXRrQnVmZlN0YWNrcy5jb250ZW50Iix7QXRrQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pLG1pbjowLG1heDozfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7YXRrQnVmZlN0YWNrczozfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbci5BVEtfUF0rPXMuYXRrQnVmZlN0YWNrcypuW2VdfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxtcj1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlRoZVNlcmlvdXNuZXNzT2ZCcmVha2Zhc3QiKSxuPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxvPVsuMDQsLjA1LC4wNiwuMDcsLjA4XSxpPVt7bGM6ITAsaWQ6ImRtZ0Jvb3N0IixuYW1lOiJkbWdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmRtZ0Jvb3N0LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmRtZ0Jvb3N0LnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmRtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9LHtsYzohMCxpZDoiZGVmZWF0ZWRFbmVteUF0a1N0YWNrcyIsbmFtZToiZGVmZWF0ZWRFbmVteUF0a1N0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDp0KCJDb250ZW50LmRlZmVhdGVkRW5lbXlBdGtTdGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZGVmZWF0ZWRFbmVteUF0a1N0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5kZWZlYXRlZEVuZW15QXRrU3RhY2tzLmNvbnRlbnQiLHtBdGtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm9bZV0pfSksbWluOjAsbWF4OjN9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtkbWdCb29zdDohMCxkZWZlYXRlZEVuZW15QXRrU3RhY2tzOjN9KSxwcmVjb21wdXRlRWZmZWN0czooYSxzKT0+e2NvbnN0IGw9cy5saWdodENvbmVDb25kaXRpb25hbHM7YVtyLkFUS19QXSs9bC5kZWZlYXRlZEVuZW15QXRrU3RhY2tzKm9bZV0sYS5FTEVNRU5UQUxfRE1HKz1sLmRtZ0Jvb3N0P25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sQ3I9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5UaGVVbnJlYWNoYWJsZVNpZGUiKSxuPVsuMjQsLjI4LC4zMiwuMzYsLjRdLG89W3tsYzohMCxpZDoiZG1nQnVmZiIsbmFtZToiZG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmRtZ0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5kbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQobltlXSoxMDApfSl9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtkbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9cy5kbWdCdWZmP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sU3I9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5UaGlzSXNNZSIpLG49Wy42LC43NSwuOSwxLjA1LDEuMl0sbz1be2xjOiEwLGlkOiJkZWZTY2FsaW5nVWx0RG1nIixuYW1lOiJkZWZTY2FsaW5nVWx0RG1nIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuZGVmU2NhbGluZ1VsdERtZy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5kZWZTY2FsaW5nVWx0RG1nLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmRlZlNjYWxpbmdVbHREbWcuY29udGVudCIse011bHRpcGxpZXI6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KX1dO3JldHVybntjb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe2RlZlNjYWxpbmdVbHREbWc6ITF9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sZ3I9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5UaW1lV2FpdHNGb3JOb09uZSIpLG49Wy4zNiwuNDIsLjQ4LC41NCwuNl0sbz1be2xjOiEwLGlkOiJoZWFsaW5nQmFzZWREbWdQcm9jIixuYW1lOiJoZWFsaW5nQmFzZWREbWdQcm9jIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuaGVhbGluZ0Jhc2VkRG1nUHJvYy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5oZWFsaW5nQmFzZWREbWdQcm9jLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmhlYWxpbmdCYXNlZERtZ1Byb2MuY29udGVudCIse011bHRpcGxpZXI6RC5wcmVjaXNpb25Sb3VuZChuW2VdKjEwMCl9KX1dO3JldHVybntjb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe2hlYWxpbmdCYXNlZERtZ1Byb2M6ITF9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0scHI9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Ub2RheUlzQW5vdGhlclBlYWNlZnVsRGF5Iiksbj1bLjAwMiwuMDAyNSwuMDAzLC4wMDM1LC4wMDRdLG89W3tsYzohMCxpZDoibWF4RW5lcmd5U3RhY2tzIixuYW1lOiJtYXhFbmVyZ3lTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6dCgiQ29udGVudC5tYXhFbmVyZ3lTdGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQubWF4RW5lcmd5U3RhY2tzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50Lm1heEVuZXJneVN0YWNrcy5jb250ZW50Iix7RG1nU3RlcDpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pLG1pbjowLG1heDoxNjB9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHttYXhFbmVyZ3lTdGFja3M6MTYwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9cy5tYXhFbmVyZ3lTdGFja3MqbltlXX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0saHI9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLEJyPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuVW5kZXJUaGVCbHVlU2t5Iiksbj1bLjEyLC4xNSwuMTgsLjIxLC4yNF0sbz1be2xjOiEwLGlkOiJkZWZlYXRlZEVuZW15Q3JCdWZmIixuYW1lOiJkZWZlYXRlZEVuZW15Q3JCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuZGVmZWF0ZWRFbmVteUNyQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5kZWZlYXRlZEVuZW15Q3JCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmRlZmVhdGVkRW5lbXlDckJ1ZmYuY29udGVudCIse0NyaXRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtkZWZlYXRlZEVuZW15Q3JCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbci5DUl0rPXMuZGVmZWF0ZWRFbmVteUNyQnVmZj9uW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LERyPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuVm9pZCIpLG49Wy4yLC4yNSwwLDMwLC4zNSwuNF0sbz1be2xjOiEwLGlkOiJpbml0aWFsRWhyQnVmZiIsbmFtZToiaW5pdGlhbEVockJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5pbml0aWFsRWhyQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5pbml0aWFsRWhyQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5pbml0aWFsRWhyQnVmZi5jb250ZW50Iix7RWhyQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7aW5pdGlhbEVockJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aVtyLkVIUl0rPXMuaW5pdGlhbEVockJ1ZmY/bltlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxfcj0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSksQXI9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5XZUFyZVdpbGRmaXJlIiksbj1bLjA4LC4xLC4xMiwuMTQsLjE2XSxvPVsuMywuMzUsLjQsLjQ1LC41XSxpPVt7bGM6ITAsaWQ6ImluaXRpYWxEbWdSZWR1Y3Rpb25CdWZmIixuYW1lOiJpbml0aWFsRG1nUmVkdWN0aW9uQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmluaXRpYWxEbWdSZWR1Y3Rpb25CdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmluaXRpYWxEbWdSZWR1Y3Rpb25CdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmluaXRpYWxEbWdSZWR1Y3Rpb25CdWZmLmNvbnRlbnQiLHtIZWFsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKm9bZV0pLERtZ1JlZHVjdGlvbjpuW2VdfSl9XTtyZXR1cm57Y29udGVudDooKT0+aSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7aW5pdGlhbERtZ1JlZHVjdGlvbkJ1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2luaXRpYWxEbWdSZWR1Y3Rpb25CdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihhLHMpPT57Y29uc3QgbD1zLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczthLkRNR19SRURfTVVMVEkqPWwuaW5pdGlhbERtZ1JlZHVjdGlvbkJ1ZmY/MS1uW2VdOjF9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LEVyPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuV2VXaWxsTWVldEFnYWluIiksbj1bLjQ4LC42LC43MiwuODQsLjk2XSxvPVt7bGM6ITAsaWQ6ImV4dHJhRG1nUHJvYyIsbmFtZToiZXh0cmFEbWdQcm9jIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuZXh0cmFEbWdQcm9jLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmV4dHJhRG1nUHJvYy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5leHRyYURtZ1Byb2MuY29udGVudCIse011bHRpcGxpZXI6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KX1dO3JldHVybntjb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe2V4dHJhRG1nUHJvYzohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkJBU0lDX1NDQUxJTkcrPXMuZXh0cmFEbWdQcm9jP25bZV06MCxpLlNLSUxMX1NDQUxJTkcrPXMuZXh0cmFEbWdQcm9jP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sVHI9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Xb29mV2Fsa1RpbWUiKSxuPVsuMTYsLjIsLjI0LC4yOCwuMzJdLG89W3tsYzohMCxpZDoiYXRrQm9vc3QiLG5hbWU6ImF0a0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuYXRrQm9vc3QudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuYXRrQm9vc3QudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuYXRrQm9vc3QuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KX1dO3JldHVybntjb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe2VuZW15QnVybmVkQmxlZWRpbmc6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aS5FTEVNRU5UQUxfRE1HKz1zLmVuZW15QnVybmVkQmxlZWRpbmc/bltlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxJcj1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLldvcnJpc29tZUJsaXNzZnVsIiksbj1bLjMsLjM1LC40LC40NSwuNV0sbz1bLjEyLC4xNCwuMTYsLjE4LC4yXSxpPVt7bGM6ITAsaWQ6InRhcmdldFRhbWVTdGFja3MiLG5hbWU6InRhcmdldFRhbWVTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6dCgiQ29udGVudC50YXJnZXRUYW1lU3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRhcmdldFRhbWVTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudGFyZ2V0VGFtZVN0YWNrcy5jb250ZW50Iix7Q3JpdEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqb1tlXSl9KSxtaW46MCxtYXg6Mn1dO3JldHVybntjb250ZW50OigpPT5pLHRlYW1tYXRlQ29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHt0YXJnZXRUYW1lU3RhY2tzOjJ9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3RhcmdldFRhbWVTdGFja3M6Mn0pLHByZWNvbXB1dGVFZmZlY3RzOihhLHMpPT57eShhLE0sbltlXSl9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihhLHMpPT57Y29uc3QgbD1zLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczthW3IuQ0RdKz1sLnRhcmdldFRhbWVTdGFja3Mqb1tlXX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sTHI9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLGtyPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuRHJlYW12aWxsZUFkdmVudHVyZSIpLG49Wy4xMiwuMTQsLjE2LC4xOCwuMl0sbz1be2xjOiEwLGlkOiJ1bHREbWdCdWZmIixuYW1lOiJ1bHREbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQudWx0RG1nQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC51bHREbWdCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnVsdERtZ0J1ZmYuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KX0se2xjOiEwLGlkOiJza2lsbERtZ0J1ZmYiLG5hbWU6InNraWxsRG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LnNraWxsRG1nQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5za2lsbERtZ0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc2tpbGxEbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9LHtsYzohMCxpZDoiYmFzaWNEbWdCdWZmIixuYW1lOiJiYXNpY0RtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5iYXNpY0RtZ0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuYmFzaWNEbWdCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmJhc2ljRG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sdGVhbW1hdGVDb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe3VsdERtZ0J1ZmY6ITAsc2tpbGxEbWdCdWZmOiExLGJhc2ljRG1nQnVmZjohMX0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dWx0RG1nQnVmZjohMCxza2lsbERtZ0J1ZmY6ITEsYmFzaWNEbWdCdWZmOiExfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt5KGksVyxuW2VdLHMuYmFzaWNEbWdCdWZmKSx5KGkseixuW2VdLHMuc2tpbGxEbWdCdWZmKSx5KGksTyxuW2VdLHMudWx0RG1nQnVmZil9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGJyPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuRmluYWxWaWN0b3IiKSxuPVsuMDgsLjA5LC4xLC4xMSwuMTJdLG89W3tsYzohMCxpZDoiZ29vZEZvcnR1bmVTdGFja3MiLG5hbWU6Imdvb2RGb3J0dW5lU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OnQoIkNvbnRlbnQuZ29vZEZvcnR1bmVTdGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZ29vZEZvcnR1bmVTdGFja3MudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZ29vZEZvcnR1bmVTdGFja3MuY29udGVudCIse0NyaXRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSksbWluOjAsbWF4OjR9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtnb29kRm9ydHVuZVN0YWNrczo0fSkscHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbci5DRF0rPXMuZ29vZEZvcnR1bmVTdGFja3MqbltlXX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0seXI9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5GbGFtZXNBZmFyIiksbj1bLjI1LC4zMTI1LC4zNzUsLjQzNzUsLjVdLG89W3tsYzohMCxpZDoiZG1nQnVmZiIsbmFtZToiZG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmRtZ0J1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuZG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5kbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtkbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9cy5kbWdCdWZmP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sUnI9ZT0+e2NvbnN0IHQ9Wy4wMDgsLjAwOSwuMDEsLjAxMSwuMDEyXSxuPVsuMzIsLjM2LC40LC40NCwuNDhdO3JldHVybntjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KG8saSk9PntvLkVMRU1FTlRBTF9ETUcrPU1hdGgubWluKG5bZV0sTWF0aC5mbG9vcihvW3IuREVGXS8xMDApKnRbZV0pfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+YAp4LkVMRU1FTlRBTF9ETUcgKz0gbWluKCR7bltlXX0sIGZsb29yKHguREVGIC8gMTAwKSAqICR7dFtlXX0pOwogICAgICBgfX0sR3I9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5UaGVEYXlUaGVDb3Ntb3NGZWxsIiksbj1bLjIsLjI1LC4zLC4zNSwuNF0sbz1be2xjOiEwLGlkOiJjZEJ1ZmZBY3RpdmUiLG5hbWU6ImNkQnVmZkFjdGl2ZSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmNkQnVmZkFjdGl2ZS50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5jZEJ1ZmZBY3RpdmUudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuY2RCdWZmQWN0aXZlLmNvbnRlbnQiLHtDcml0QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7Y2RCdWZmQWN0aXZlOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbci5DRF0rPXMuY2RCdWZmQWN0aXZlP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sTXI9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5JdHNTaG93dGltZSIpLG49Wy4wNiwuMDcsLjA4LC4wOSwuMV0sbz1bLjIsLjI0LC4yOCwuMzIsLjM2XSxpPVt7bGM6ITAsaWQ6InRyaWNrU3RhY2tzIixuYW1lOiJ0cmlja1N0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDp0KCJDb250ZW50LnRyaWNrU3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRyaWNrU3RhY2tzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRyaWNrU3RhY2tzLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pLEF0a0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqb1tlXSl9KSxtaW46MCxtYXg6M31dO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe3RyaWNrU3RhY2tzOjN9KSxwcmVjb21wdXRlRWZmZWN0czooYSxzKT0+e2NvbnN0IGw9cy5saWdodENvbmVDb25kaXRpb25hbHM7YS5FTEVNRU5UQUxfRE1HKz1sLnRyaWNrU3RhY2tzKm5bZV19LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fSxkeW5hbWljQ29uZGl0aW9uYWxzOlt7aWQ6Ikl0c1Nob3d0aW1lQ29udmVyc2lvbkNvbmRpdGlvbmFsIix0eXBlOlUuQUJJTElUWSxhY3RpdmF0aW9uOk4uQ09OVElOVU9VUyxkZXBlbmRzT246W3IuRUhSXSxjb25kaXRpb246ZnVuY3Rpb24oYSxzLGwpe3JldHVybiBhW3IuRUhSXT49Ljh9LGVmZmVjdDpmdW5jdGlvbihhLHMsbCl7cy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Y29uc3QgbT1sLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAscD1vW2VdKnMuYmFzZUF0aztsLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09cCxWKGEscyxsLHIuQVRLLHAtbSl9LGdwdTpmdW5jdGlvbihhLHMpe3JldHVybiBGKHRoaXMsYAppZiAoeC5FSFIgPCAwLjgwKSB7CiAgcmV0dXJuOwp9CgpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5JdHNTaG93dGltZUNvbnZlcnNpb25Db25kaXRpb25hbDsKbGV0IGJ1ZmZWYWx1ZTogZjMyID0gJHtvW2VdfTsKCigqcF9zdGF0ZSkuSXRzU2hvd3RpbWVDb252ZXJzaW9uQ29uZGl0aW9uYWwgPSBidWZmVmFsdWU7CmJ1ZmZEeW5hbWljQVRLX1AoYnVmZlZhbHVlIC0gc3RhdGVWYWx1ZSwgcF94LCBwX3N0YXRlKTsKICAgIGApfX1dfX0sdnI9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5JbmRlbGlibGVQcm9taXNlIiksbj1bLjE1LC4xODc1LC4yMjUsLjI2MjUsLjNdLG89W3tsYzohMCxpZDoiY3JCdWZmIixuYW1lOiJjckJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5jckJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuY3JCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmNyQnVmZi5jb250ZW50Iix7QnJlYWtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKiguMjErLjcqZSkpLENyaXRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtjckJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aVtyLkNSXSs9cy5jckJ1ZmY/bltlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxOcj1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkluaGVyZW50bHlVbmp1c3REZXN0aW55Iiksbj1bLjQsLjQ2LC41MiwuNTgsLjY0XSxvPVsuMSwuMTE1LC4xMywuMTQ1LC4xNl0saT1be2xjOiEwLGlkOiJzaGllbGRDZEJ1ZmYiLG5hbWU6InNoaWVsZENkQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LnNoaWVsZENkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5zaGllbGRDZEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuc2hpZWxkQ2RCdWZmLmNvbnRlbnQiLHtDcml0QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfSx7bGM6ITAsaWQ6InRhcmdldFZ1bG5lcmFiaWxpdHkiLG5hbWU6InRhcmdldFZ1bG5lcmFiaWxpdHkiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC50YXJnZXRWdWxuZXJhYmlsaXR5LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRhcmdldFZ1bG5lcmFiaWxpdHkudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudGFyZ2V0VnVsbmVyYWJpbGl0eS5jb250ZW50Iix7VnVsbmVyYWJpbGl0eTpELnByZWNpc2lvblJvdW5kKDEwMCpvW2VdKX0pfV0sYT1bSShpLCJ0YXJnZXRWdWxuZXJhYmlsaXR5IildO3JldHVybntjb250ZW50OigpPT5pLHRlYW1tYXRlQ29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtzaGllbGRDZEJ1ZmY6ITAsdGFyZ2V0VnVsbmVyYWJpbGl0eTohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dGFyZ2V0VnVsbmVyYWJpbGl0eTohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLGwpPT57Y29uc3QgbT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzW3IuQ0RdKz1tLnNoaWVsZENkQnVmZj9uW2VdOjB9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihzLGwpPT57Y29uc3QgbT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzLlZVTE5FUkFCSUxJVFkrPW0udGFyZ2V0VnVsbmVyYWJpbGl0eT9vW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LE9yPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQWxvbmdUaGVQYXNzaW5nU2hvcmUiKSxuPVsuMjQsLjI4LC4zMiwuMzYsLjRdLG89Wy4yNCwuMjgsLjMyLC4zNiwuNF0saT1be2xjOiEwLGlkOiJlbXB0eUJ1YmJsZXNEZWJ1ZmYiLG5hbWU6ImVtcHR5QnViYmxlc0RlYnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmVtcHR5QnViYmxlc0RlYnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lbXB0eUJ1YmJsZXNEZWJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZW1wdHlCdWJibGVzRGVidWZmLmNvbnRlbnQiLHtVbHREbWdCb29zdDpELnByZWNpc2lvblJvdW5kKDEwMCpvW2VdKSxEbWdCb29zdDpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7ZW1wdHlCdWJibGVzRGVidWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGEscyk9Pntjb25zdCBsPXMubGlnaHRDb25lQ29uZGl0aW9uYWxzO2EuRUxFTUVOVEFMX0RNRys9bC5lbXB0eUJ1YmJsZXNEZWJ1ZmY/bltlXTowLHkoYSxPLG9bZV0sbC5lbXB0eUJ1YmJsZXNEZWJ1ZmYpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxQcj1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkNvbmNlcnRGb3JUd28iKSxuPVsuMDQsLjA1LC4wNiwuMDcsLjA4XSxvPVt7bGM6ITAsaWQ6InRlYW1tYXRlU2hpZWxkU3RhY2tzIixuYW1lOiJ0ZWFtbWF0ZVNoaWVsZFN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDp0KCJDb250ZW50LnRlYW1tYXRlU2hpZWxkU3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnRlYW1tYXRlU2hpZWxkU3RhY2tzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnRlYW1tYXRlU2hpZWxkU3RhY2tzLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSksbWluOjAsbWF4OjR9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHt0ZWFtbWF0ZVNoaWVsZFN0YWNrczo0fSkscHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9cy50ZWFtbWF0ZVNoaWVsZFN0YWNrcypuW2VdfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxVcj1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkJvdW5kbGVzc0Nob3JlbyIpLG49Wy4yNCwuMywuMzYsLjQyLC40OF0sbz1be2xjOiEwLGlkOiJlbmVteURlZlJlZHVjZWRTbG93ZWQiLG5hbWU6ImVuZW15RGVmUmVkdWNlZFNsb3dlZCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmVuZW15RGVmUmVkdWNlZFNsb3dlZC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5lbmVteURlZlJlZHVjZWRTbG93ZWQudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuZW5lbXlEZWZSZWR1Y2VkU2xvd2VkLmNvbnRlbnQiLHtDcml0QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7ZW5lbXlEZWZSZWR1Y2VkU2xvd2VkOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbci5DRF0rPXMuZW5lbXlEZWZSZWR1Y2VkU2xvd2VkP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sRnI9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Gb3JUb21vcnJvd3NKb3VybmV5Iiksbj1bLjE4LC4yMSwuMjQsLjI3LC4zXSxvPVt7bGM6ITAsaWQ6InVsdERtZ0J1ZmYiLG5hbWU6InVsdERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC51bHREbWdCdWZmLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnVsdERtZ0J1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudWx0RG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7dWx0RG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkVMRU1FTlRBTF9ETUcrPXMudWx0RG1nQnVmZj9uW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LEhyPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuRmxvd2luZ05pZ2h0Z2xvdyIpLG49Wy4wMywuMDM1LC4wNCwuMDQ1LC4wNV0sbz1bLjQ4LC42LC43MiwuODQsLjk2XSxpPVsuMjQsLjI4LC4zMiwuMzYsLjRdLGE9W3tsYzohMCxpZDoiY2FkZW56YUFjdGl2ZSIsbmFtZToiY2FkZW56YUFjdGl2ZSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmNhZGVuemFBY3RpdmUudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuY2FkZW56YUFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5jYWRlbnphQWN0aXZlLmNvbnRlbnQiLHtSZWdlbkJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSksQXRrQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpvW2VdKSxEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmlbZV0pfSl9LHtsYzohMCxpZDoiY2FudGlsbGF0aW9uU3RhY2tzIixuYW1lOiJjYW50aWxsYXRpb25TdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6dCgiQ29udGVudC5jYW50aWxsYXRpb25TdGFja3MudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuY2FudGlsbGF0aW9uU3RhY2tzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmNhbnRpbGxhdGlvblN0YWNrcy5jb250ZW50Iix7UmVnZW5CdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pLEF0a0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqb1tlXSksRG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCppW2VdKX0pLG1pbjowLG1heDo1fV07cmV0dXJue2NvbnRlbnQ6KCk9PmEsdGVhbW1hdGVDb250ZW50OigpPT5bSShhLCJjYWRlbnphQWN0aXZlIildLGRlZmF1bHRzOigpPT4oe2NhbnRpbGxhdGlvblN0YWNrczo1LGNhZGVuemFBY3RpdmU6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2NhZGVuemFBY3RpdmU6ITB9KSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihzLGwpPT57Y29uc3QgbT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzLkVMRU1FTlRBTF9ETUcrPW0uY2FkZW56YUFjdGl2ZT9pW2VdOjB9LHByZWNvbXB1dGVFZmZlY3RzOihzLGwpPT57Y29uc3QgbT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzW3IuRVJSXSs9bS5jYW50aWxsYXRpb25TdGFja3MqbltlXSxzW3IuQVRLX1BdKz1tLmNhZGVuemFBY3RpdmU/b1tlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSx4cj1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlNhaWxpbmdUb3dhcmRzQVNlY29uZExpZmUiKSxuPVsuMTIsLjE0LC4xNiwuMTgsLjJdLG89Wy4yLC4yMywuMjYsLjI5LC4zMl0saT1be2xjOiEwLGlkOiJicmVha0RtZ0RlZlNocmVkIixuYW1lOiJicmVha0RtZ0RlZlNocmVkIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuYnJlYWtEbWdEZWZTaHJlZC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5icmVha0RtZ0RlZlNocmVkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmJyZWFrRG1nRGVmU2hyZWQuY29udGVudCIse0RlZklnbm9yZTpELnByZWNpc2lvblJvdW5kKDEwMCpvW2VdKX0pfSx7bGM6ITAsaWQ6InNwZEJ1ZmZDb25kaXRpb25hbCIsbmFtZToic3BkQnVmZkNvbmRpdGlvbmFsIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuc3BkQnVmZkNvbmRpdGlvbmFsLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnNwZEJ1ZmZDb25kaXRpb25hbC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5zcGRCdWZmQ29uZGl0aW9uYWwuY29udGVudCIse1NwZEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KX1dO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2JyZWFrRG1nRGVmU2hyZWQ6ITAsc3BkQnVmZkNvbmRpdGlvbmFsOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGEscyk9Pntjb25zdCBsPXMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2F0KGEsVHQsb1tlXSxsLmJyZWFrRG1nRGVmU2hyZWQpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooYSxzKT0+e30sZHluYW1pY0NvbmRpdGlvbmFsczpbe2lkOiJTYWlsaW5nVG93YXJkc0FTZWNvbmRMaWZlQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5TSU5HTEUsZGVwZW5kc09uOltyLkJFXSxjb25kaXRpb246ZnVuY3Rpb24oYSxzLGwpe3JldHVybiBzLmxpZ2h0Q29uZUNvbmRpdGlvbmFscy5zcGRCdWZmQ29uZGl0aW9uYWwmJmFbci5CRV0+PTEuNX0sZWZmZWN0OihhLHMsbCk9PntWKGEscyxsLHIuU1BELG5bZV0qcy5iYXNlU3BkKX0sZ3B1OmZ1bmN0aW9uKCl7cmV0dXJuIEYodGhpcyxgCmlmICgKICAoKnBfc3RhdGUpLlNhaWxpbmdUb3dhcmRzQVNlY29uZExpZmVDb25kaXRpb25hbCA9PSAwLjAgJiYKICAoKnBfeCkuQkUgPj0gMS41MAopIHsKICAoKnBfc3RhdGUpLlNhaWxpbmdUb3dhcmRzQVNlY29uZExpZmVDb25kaXRpb25hbCA9IDEuMDsKICBidWZmRHluYW1pY1NQRF9QKCR7bltlXX0sIHBfeCwgcF9zdGF0ZSk7Cn0KICAgIGApfX1dfX0sS3I9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5BZnRlclRoZUNoYXJtb255RmFsbCIpLG49Wy4wOCwuMSwuMTIsLjE0LC4xNl0sbz1be2xjOiEwLGlkOiJzcGRCdWZmIixuYW1lOiJzcGRCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuc3BkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5zcGRCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnNwZEJ1ZmYuY29udGVudCIse1NwZEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KX1dO3JldHVybntjb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe3NwZEJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aVtyLlNQRF9QXSs9cy5zcGRCdWZmP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sd3I9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5XaGVyZWFib3V0c1Nob3VsZERyZWFtc1Jlc3QiKSxuPVsuMjQsLjI4LC4zMiwuMzYsLjRdLG89W3tsYzohMCxpZDoicm91dGVkVnVsbmVyYWJpbGl0eSIsbmFtZToicm91dGVkVnVsbmVyYWJpbGl0eSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LnJvdXRlZFZ1bG5lcmFiaWxpdHkudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQucm91dGVkVnVsbmVyYWJpbGl0eS50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5yb3V0ZWRWdWxuZXJhYmlsaXR5LmNvbnRlbnQiLHtWdWxuZXJhYmlsaXR5Om5bZV0qMTAwfSl9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtyb3V0ZWRWdWxuZXJhYmlsaXR5OiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuVlVMTkVSQUJJTElUWSs9cy5yb3V0ZWRWdWxuZXJhYmlsaXR5P25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sVnI9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5ZZXRIb3BlSXNQcmljZWxlc3MiKSxuPVsuMTIsLjE0LC4xNiwuMTgsLjJdLG89Wy4yLC4yNCwuMjgsLjMyLC4zNl0saT1be2xjOiEwLGlkOiJmdWFEbWdCb29zdCIsbmFtZToiZnVhRG1nQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5mdWFEbWdCb29zdC50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5mdWFEbWdCb29zdC50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5mdWFEbWdCb29zdC5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKG5bZV0qMTAwKX0pfSx7bGM6ITAsaWQ6InVsdEZ1YURlZlNocmVkIixuYW1lOiJ1bHRGdWFEZWZTaHJlZCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LnVsdEZ1YURlZlNocmVkLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnVsdEZ1YURlZlNocmVkLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnVsdEZ1YURlZlNocmVkLmNvbnRlbnQiLHtEZWZTaHJlZDpELnByZWNpc2lvblJvdW5kKG5bZV0qMTAwKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7ZnVhRG1nQm9vc3Q6ITAsdWx0RnVhRGVmU2hyZWQ6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooYSxzKT0+e2NvbnN0IGw9cy5saWdodENvbmVDb25kaXRpb25hbHM7YXQoYSxPfE0sb1tlXSxsLnVsdEZ1YURlZlNocmVkKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KGEscyk9Pntjb25zdCBsPXMubGlnaHRDb25lQ29uZGl0aW9uYWxzO3koYSxNLG5bZV0qTWF0aC5taW4oNCxNYXRoLmZsb29yKGFbci5DRF0tMS4yKS8uMiksbC5mdWFEbWdCb29zdCl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOmE9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO3JldHVybmAKaWYgKCR7aihzLmZ1YURtZ0Jvb3N0KX0pIHsKICBidWZmQWJpbGl0eURtZyhwX3gsIEZVQV9UWVBFLCAke25bZV19ICogbWluKDQsIGZsb29yKHguQ0QgLSAxLjIwKSAvIDAuMjApLCAxKTsKfQogICAgYH19fSx6cj1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkV0ZXJuYWxDYWxjdWx1cyIpLG49Wy4wNCwuMDUsLjA2LC4wNywuMDhdLG89Wy4wOCwuMSwuMTIsLjE0LC4xNl0saT1be2xjOiEwLGlkOiJhdGtCdWZmU3RhY2tzIixuYW1lOiJhdGtCdWZmU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OnQoIkNvbnRlbnQuYXRrQnVmZlN0YWNrcy50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5hdGtCdWZmU3RhY2tzLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LmF0a0J1ZmZTdGFja3MuY29udGVudCIse0F0a0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KSxtaW46MCxtYXg6NX0se2xjOiEwLGlkOiJzcGRCdWZmIixuYW1lOiJzcGRCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuc3BkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5zcGRCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnNwZEJ1ZmYuY29udGVudCIse1NwZEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqb1tlXSl9KX1dO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2F0a0J1ZmZTdGFja3M6NSxzcGRCdWZmOiExfSkscHJlY29tcHV0ZUVmZmVjdHM6KGEscyk9Pntjb25zdCBsPXMubGlnaHRDb25lQ29uZGl0aW9uYWxzO2Fbci5BVEtfUF0rPWwuYXRrQnVmZlN0YWNrcypuW2VdLGFbci5TUERfUF0rPWwuc3BkQnVmZj9vW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LCRyPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuUG9pc2VkVG9CbG9vbSIpLG49Wy4xNiwuMiwuMjQsLjI4LC4zMl0sbz1be2xjOiEwLGlkOiJjZEJ1ZmYiLG5hbWU6ImNkQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmNkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5jZEJ1ZmYudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuY2RCdWZmLmNvbnRlbnQiLHtDcml0QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sdGVhbW1hdGVDb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe2NkQnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7Y2RCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3IuQ0RdKz1zLmNkQnVmZj9uW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFdyPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuVGhvc2VNYW55U3ByaW5ncyIpLG49Wy4xLC4xMiwuMTQsLjE2LC4xOF0sbz1bLjE0LC4xNiwuMTgsLjIsLjIyXSxpPVt7bGM6ITAsaWQ6InVuYXJtb3JlZFZ1bG5lcmFiaWxpdHkiLG5hbWU6InVuYXJtb3JlZFZ1bG5lcmFiaWxpdHkiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC51bmFybW9yZWRWdWxuZXJhYmlsaXR5LnRleHQiKSx0aXRsZTp0KCJDb250ZW50LnVuYXJtb3JlZFZ1bG5lcmFiaWxpdHkudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQudW5hcm1vcmVkVnVsbmVyYWJpbGl0eS5jb250ZW50Iix7VW5hcm1vcmVkVnVsbmVyYWJpbGl0eTpELnByZWNpc2lvblJvdW5kKG5bZV0qMTAwKSxDb3JuZXJlZFZ1bG5lcmFiaWxpdHk6RC5wcmVjaXNpb25Sb3VuZChvW2VdKjEwMCl9KX0se2xjOiEwLGlkOiJjb3JuZXJlZFZ1bG5lcmFiaWxpdHkiLG5hbWU6ImNvcm5lcmVkVnVsbmVyYWJpbGl0eSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJDb250ZW50LmNvcm5lcmVkVnVsbmVyYWJpbGl0eS50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5jb3JuZXJlZFZ1bG5lcmFiaWxpdHkudGl0bGUiKSxjb250ZW50OnQoIkNvbnRlbnQuY29ybmVyZWRWdWxuZXJhYmlsaXR5LmNvbnRlbnQiLHtVbmFybW9yZWRWdWxuZXJhYmlsaXR5OkQucHJlY2lzaW9uUm91bmQobltlXSoxMDApLENvcm5lcmVkVnVsbmVyYWJpbGl0eTpELnByZWNpc2lvblJvdW5kKG9bZV0qMTAwKX0pfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksdGVhbW1hdGVDb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe3VuYXJtb3JlZFZ1bG5lcmFiaWxpdHk6ITAsY29ybmVyZWRWdWxuZXJhYmlsaXR5OiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt1bmFybW9yZWRWdWxuZXJhYmlsaXR5OiEwLGNvcm5lcmVkVnVsbmVyYWJpbGl0eTohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooYSxzKT0+e2NvbnN0IGw9cy5saWdodENvbmVDb25kaXRpb25hbHM7YS5WVUxORVJBQklMSVRZKz1sLnVuYXJtb3JlZFZ1bG5lcmFiaWxpdHl8fGwuY29ybmVyZWRWdWxuZXJhYmlsaXR5P25bZV06MCxhLlZVTE5FUkFCSUxJVFkrPWwuY29ybmVyZWRWdWxuZXJhYmlsaXR5P29bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sWXI9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5EYW5jZUF0U3Vuc2V0Iiksbj1bLjM2LC40MiwuNDgsLjU0LC42XSxvPVt7bGM6ITAsaWQ6ImZ1YURtZ1N0YWNrcyIsbmFtZToiZnVhRG1nU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OnQoIkNvbnRlbnQuZnVhRG1nU3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50LmZ1YURtZ1N0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5mdWFEbWdTdGFja3MuY29udGVudCIse0RtZ0Jvb3N0OkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pfSksbWluOjAsbWF4OjJ9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtmdWFEbWdTdGFja3M6Mn0pLHByZWNvbXB1dGVFZmZlY3RzOihpLGEpPT57Y29uc3Qgcz1hLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt5KGksTSxzLmZ1YURtZ1N0YWNrcypuW2VdKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sanI9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5TY2VudEFsb25lU3RheXNUcnVlIiksbj1bLjEsLjEyLC4xNCwuMTYsLjE4XSxvPVsuMDgsLjEsLjEyLC4xNCwuMTZdLGk9W3tsYzohMCxpZDoid29lZnJlZVN0YXRlIixuYW1lOiJ3b2VmcmVlU3RhdGUiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC53b2VmcmVlU3RhdGUudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQud29lZnJlZVN0YXRlLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LndvZWZyZWVTdGF0ZS5jb250ZW50Iix7VnVsbmVyYWJpbGl0eTpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKSxBZGRpdGlvbmFsVnVsbmVyYWJpbGl0eTpELnByZWNpc2lvblJvdW5kKDEwMCpvW2VdKX0pfV0sYT1bSShpLCJ3b2VmcmVlU3RhdGUiKSx7bGM6ITAsaWQ6ImFkZGl0aW9uYWxWdWxuZXJhYmlsaXR5IixuYW1lOiJhZGRpdGlvbmFsVnVsbmVyYWJpbGl0eSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDp0KCJUZWFtbWF0ZUNvbnRlbnQuYWRkaXRpb25hbFZ1bG5lcmFiaWxpdHkudGV4dCIpLHRpdGxlOnQoIlRlYW1tYXRlQ29udGVudC5hZGRpdGlvbmFsVnVsbmVyYWJpbGl0eS50aXRsZSIpLGNvbnRlbnQ6dCgiVGVhbW1hdGVDb250ZW50LmFkZGl0aW9uYWxWdWxuZXJhYmlsaXR5LmNvbnRlbnQiLHtWdWxuZXJhYmlsaXR5OkQucHJlY2lzaW9uUm91bmQoMTAwKm5bZV0pLEFkZGl0aW9uYWxWdWxuZXJhYmlsaXR5OkQucHJlY2lzaW9uUm91bmQoMTAwKm9bZV0pfSl9XTtyZXR1cm57Y29udGVudDooKT0+aSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7d29lZnJlZVN0YXRlOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt3b2VmcmVlU3RhdGU6ITAsYWRkaXRpb25hbFZ1bG5lcmFiaWxpdHk6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocyxsKT0+e30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHMsbCk9Pntjb25zdCBtPWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO3MuVlVMTkVSQUJJTElUWSs9bS53b2VmcmVlU3RhdGU/bltlXTowfSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihzLGwpPT57Y29uc3QgbT1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzLlZVTE5FUkFCSUxJVFkrPW0ud29lZnJlZVN0YXRlJiZtLmFkZGl0aW9uYWxWdWxuZXJhYmlsaXR5P29bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KHMsbCk9Pntjb25zdCBtPWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO3MuVlVMTkVSQUJJTElUWSs9bS53b2VmcmVlU3RhdGUmJnNbci5CRV0+PTEuNT9vW2VdOjB9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOnM9Pntjb25zdCBsPXMubGlnaHRDb25lQ29uZGl0aW9uYWxzO3JldHVybmAKaWYgKCR7aihsLndvZWZyZWVTdGF0ZSl9ICYmIHguQkUgPj0gMS41MCkgewogIHguVlVMTkVSQUJJTElUWSArPSAke29bZV19Owp9CiAgICAgIGB9fX0sSnI9ZT0+e2NvbnN0IHQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5JVmVudHVyZUZvcnRoVG9IdW50Iiksbj1bLjI3LC4zLC4zMywuMzYsLjM5XSxvPVt7bGM6ITAsZm9ybUl0ZW06InNsaWRlciIsaWQ6Imx1bWluZmx1eFVsdFN0YWNrcyIsbmFtZToibHVtaW5mbHV4VWx0U3RhY2tzIix0ZXh0OnQoIkNvbnRlbnQubHVtaW5mbHV4VWx0U3RhY2tzLnRleHQiKSx0aXRsZTp0KCJDb250ZW50Lmx1bWluZmx1eFVsdFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6dCgiQ29udGVudC5sdW1pbmZsdXhVbHRTdGFja3MuY29udGVudCIse0RlZklnbm9yZTpELnByZWNpc2lvblJvdW5kKDEwMCpuW2VdKX0pLG1pbjowLG1heDoyfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7bHVtaW5mbHV4VWx0U3RhY2tzOjJ9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7YXQoaSxPLHMubHVtaW5mbHV4VWx0U3RhY2tzKm5bZV0pfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxRcj1lPT57Y29uc3QgdD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlNoYWRvd2VkQnlOaWdodCIpLG49Wy4wOCwuMDksLjEsLjExLC4xMl0sbz1be2xjOiEwLGlkOiJzcGRCdWZmIixuYW1lOiJzcGRCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnQoIkNvbnRlbnQuc3BkQnVmZi50ZXh0IiksdGl0bGU6dCgiQ29udGVudC5zcGRCdWZmLnRpdGxlIiksY29udGVudDp0KCJDb250ZW50LnNwZEJ1ZmYuY29udGVudCIse1NwZEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbltlXSl9KX1dO3JldHVybntjb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe3NwZEJ1ZmY6ITF9KSxwcmVjb21wdXRlRWZmZWN0czooaSxhKT0+e2NvbnN0IHM9YS5saWdodENvbmVDb25kaXRpb25hbHM7aVtyLlNQRF9QXSs9cy5zcGRCdWZmP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sWHI9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLFpyPWU9Pntjb25zdCB0PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuTmluamFSZWNvcmRTb3VuZEh1bnQiKSxuPVsuMTgsLjIyNSwuMjcsLjMxNSwuMzZdLG89W3tsYzohMCxpZDoiY2RCdWZmIixuYW1lOiJjZEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6dCgiQ29udGVudC5jZEJ1ZmYudGV4dCIpLHRpdGxlOnQoIkNvbnRlbnQuY2RCdWZmLnRpdGxlIiksY29udGVudDpBLnQoIkJldGFNZXNzYWdlIix7bnM6ImNvbmRpdGlvbmFscyIsVmVyc2lvbjpsdH0pfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7Y2RCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksYSk9Pntjb25zdCBzPWEubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbci5DRF0rPXMuY2RCdWZmP25bZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0scXI9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pO2NvbnN0IHRsPXsuLi57MjNlMzpGcywyMzAwMTpMcywyMzAwMjpyciwyMzAwMzppcywyMzAwNDpJcywyMzAwNTpOcywyMzAwNjokcywyMzAwNzpUcywyMzAwODpncywyMzAwOTpDciwyMzAxMDplcywyMzAxMTppciwyMzAxMjphciwyMzAxMzpnciwyMzAxNDprcywyMzAxNTpvcywyMzAxNjpJciwyMzAxNzpVcywyMzAxODpYYSwyMzAxOTp6cywyMzAyMDp0cywyMzAyMTpTcywyMzAyMjpYcywyMzAyMzpOciwyMzAyNDpPciwyMzAyNTp3ciwyMzAyNjpIciwyMzAyNzp4ciwyMzAyODpWciwyMzAyOTpXciwyMzAzMDpZciwyMzAzMTpKciwyMzAzMjpqciwyMzAzMzpYciwyNGUzOktzLDI0MDAxOmNzLDI0MDAyOnVyLDI0MDAzOnNyLDI0MDA0OnpyfSwuLi57MjFlMzpKcywyMTAwMTpfcywyMTAwMjptcywyMTAwMzp4cywyMTAwNDpNcywyMTAwNTpkciwyMTAwNjpmciwyMTAwNzpuciwyMTAwODpwcywyMTAwOTpicywyMTAxMDpjciwyMTAxMTpqcywyMTAxMjpxYSwyMTAxMzpScywyMTAxNDpXcywyMTAxNTpacywyMTAxNjpociwyMTAxNzpsciwyMTAxODp1cywyMTAxOTpCciwyMTAyMDpEcywyMTAyMTpRcywyMTAyMjpocywyMTAyMzpBciwyMTAyNDp0ciwyMTAyNTpWcywyMTAyNjpUciwyMTAyNzptciwyMTAyODpfciwyMTAyOTpFciwyMTAzMDpTciwyMTAzMTpxcywyMTAzMjphcywyMTAzMzpIcywyMTAzNDpwciwyMTAzNTpMciwyMTAzNjprciwyMTAzNzpiciwyMTAzODp5ciwyMTAzOTpSciwyMTA0MDpHciwyMTA0MTpNciwyMTA0Mjp2ciwyMTA0MzpQciwyMTA0NDpVciwyMTA0NTpLciwyMTA0NjokciwyMTA0NzpRciwyMTA0ODpxciwyMmUzOm5zLDIyMDAxOkFzLDIyMDAyOkZyLDIyMDAzOlpyfSwuLi57MmU0OlphLDIwMDAxOmxzLDIwMDAyOnJzLDIwMDAzOlFhLDIwMDA0OkRyLDIwMDA1OnNzLDIwMDA2OmRzLDIwMDA3OmZzLDIwMDA4OkJzLDIwMDA5Om9yLDIwMDEwOkNzLDIwMDExOnlzLDIwMDEyOnZzLDIwMDEzOndzLDIwMDE0OkphLDIwMDE1Ok9zLDIwMDE2OlBzLDIwMDE3OllzLDIwMDE4OkVzLDIwMDE5OkdzLDIwMDIwOmVyfX0sTnQ9e2dldDplPT57Y29uc3QgdD10bFtlLmxpZ2h0Q29uZV07cmV0dXJuIHQ/dChlLmxpZ2h0Q29uZVN1cGVyaW1wb3NpdGlvbi0xKTp7Y29udGVudDooKT0+W10sdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pfX19O2Z1bmN0aW9uIGVsKGUsdCxuLG8saSxhLHMpe3JldHVybiBlLnguc2V0cz17UGFzc2VyYnlPZldhbmRlcmluZ0Nsb3VkOigxPj4odF4wKSkrKDE+PihuXjApKSsoMT4+KG9eMCkpKygxPj4oaV4wKSksTXVza2V0ZWVyT2ZXaWxkV2hlYXQ6KDE+Pih0XjEpKSsoMT4+KG5eMSkpKygxPj4ob14xKSkrKDE+PihpXjEpKSxLbmlnaHRPZlB1cml0eVBhbGFjZTooMT4+KHReMikpKygxPj4obl4yKSkrKDE+PihvXjIpKSsoMT4+KGleMikpLEh1bnRlck9mR2xhY2lhbEZvcmVzdDooMT4+KHReMykpKygxPj4obl4zKSkrKDE+PihvXjMpKSsoMT4+KGleMykpLENoYW1waW9uT2ZTdHJlZXR3aXNlQm94aW5nOigxPj4odF40KSkrKDE+PihuXjQpKSsoMT4+KG9eNCkpKygxPj4oaV40KSksR3VhcmRPZld1dGhlcmluZ1Nub3c6KDE+Pih0XjUpKSsoMT4+KG5eNSkpKygxPj4ob141KSkrKDE+PihpXjUpKSxGaXJlc21pdGhPZkxhdmFGb3JnaW5nOigxPj4odF42KSkrKDE+PihuXjYpKSsoMT4+KG9eNikpKygxPj4oaV42KSksR2VuaXVzT2ZCcmlsbGlhbnRTdGFyczooMT4+KHReNykpKygxPj4obl43KSkrKDE+PihvXjcpKSsoMT4+KGleNykpLEJhbmRPZlNpenpsaW5nVGh1bmRlcjooMT4+KHReOCkpKygxPj4obl44KSkrKDE+PihvXjgpKSsoMT4+KGleOCkpLEVhZ2xlT2ZUd2lsaWdodExpbmU6KDE+Pih0XjkpKSsoMT4+KG5eOSkpKygxPj4ob145KSkrKDE+PihpXjkpKSxUaGllZk9mU2hvb3RpbmdNZXRlb3I6KDE+Pih0XjEwKSkrKDE+PihuXjEwKSkrKDE+PihvXjEwKSkrKDE+PihpXjEwKSksV2FzdGVsYW5kZXJPZkJhbmRpdHJ5RGVzZXJ0OigxPj4odF4xMSkpKygxPj4obl4xMSkpKygxPj4ob14xMSkpKygxPj4oaV4xMSkpLExvbmdldm91c0Rpc2NpcGxlOigxPj4odF4xMikpKygxPj4obl4xMikpKygxPj4ob14xMikpKygxPj4oaV4xMikpLE1lc3NlbmdlclRyYXZlcnNpbmdIYWNrZXJzcGFjZTooMT4+KHReMTMpKSsoMT4+KG5eMTMpKSsoMT4+KG9eMTMpKSsoMT4+KGleMTMpKSxUaGVBc2hibGF6aW5nR3JhbmREdWtlOigxPj4odF4xNCkpKygxPj4obl4xNCkpKygxPj4ob14xNCkpKygxPj4oaV4xNCkpLFByaXNvbmVySW5EZWVwQ29uZmluZW1lbnQ6KDE+Pih0XjE1KSkrKDE+PihuXjE1KSkrKDE+PihvXjE1KSkrKDE+PihpXjE1KSksUGlvbmVlckRpdmVyT2ZEZWFkV2F0ZXJzOigxPj4odF4xNikpKygxPj4obl4xNikpKygxPj4ob14xNikpKygxPj4oaV4xNikpLFdhdGNobWFrZXJNYXN0ZXJPZkRyZWFtTWFjaGluYXRpb25zOigxPj4odF4xNykpKygxPj4obl4xNykpKygxPj4ob14xNykpKygxPj4oaV4xNykpLElyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2U6KDE+Pih0XjE4KSkrKDE+PihuXjE4KSkrKDE+PihvXjE4KSkrKDE+PihpXjE4KSksVGhlV2luZFNvYXJpbmdWYWxvcm91czooMT4+KHReMTkpKSsoMT4+KG5eMTkpKSsoMT4+KG9eMTkpKSsoMT4+KGleMTkpKSxTYWNlcmRvc1JlbGl2ZWRPcmRlYWw6KDE+Pih0XjIwKSkrKDE+PihuXjIwKSkrKDE+PihvXjIwKSkrKDE+PihpXjIwKSksU2Nob2xhckxvc3RJbkVydWRpdGlvbjooMT4+KHReMjEpKSsoMT4+KG5eMjEpKSsoMT4+KG9eMjEpKSsoMT4+KGleMjEpKSxTcGFjZVNlYWxpbmdTdGF0aW9uOigxPj4oYV4wKSkrKDE+PihzXjApKSxGbGVldE9mVGhlQWdlbGVzczooMT4+KGFeMSkpKygxPj4oc14xKSksUGFuQ29zbWljQ29tbWVyY2lhbEVudGVycHJpc2U6KDE+PihhXjIpKSsoMT4+KHNeMikpLEJlbG9ib2dPZlRoZUFyY2hpdGVjdHM6KDE+PihhXjMpKSsoMT4+KHNeMykpLENlbGVzdGlhbERpZmZlcmVudGlhdG9yOigxPj4oYV40KSkrKDE+PihzXjQpKSxJbmVydFNhbHNvdHRvOigxPj4oYV41KSkrKDE+PihzXjUpKSxUYWxpYUtpbmdkb21PZkJhbmRpdHJ5OigxPj4oYV42KSkrKDE+PihzXjYpKSxTcHJpZ2h0bHlWb253YWNxOigxPj4oYV43KSkrKDE+PihzXjcpKSxSdXRpbGFudEFyZW5hOigxPj4oYV44KSkrKDE+PihzXjgpKSxCcm9rZW5LZWVsOigxPj4oYV45KSkrKDE+PihzXjkpKSxGaXJtYW1lbnRGcm9udGxpbmVHbGFtb3RoOigxPj4oYV4xMCkpKygxPj4oc14xMCkpLFBlbmFjb255TGFuZE9mVGhlRHJlYW1zOigxPj4oYV4xMSkpKygxPj4oc14xMSkpLFNpZ29uaWFUaGVVbmNsYWltZWREZXNvbGF0aW9uOigxPj4oYV4xMikpKygxPj4oc14xMikpLEl6dW1vR2Vuc2VpQW5kVGFrYW1hRGl2aW5lUmVhbG06KDE+PihhXjEzKSkrKDE+PihzXjEzKSksRHVyYW5EeW5hc3R5T2ZSdW5uaW5nV29sdmVzOigxPj4oYV4xNCkpKygxPj4oc14xNCkpLEZvcmdlT2ZUaGVLYWxwYWduaUxhbnRlcm46KDE+PihhXjE1KSkrKDE+PihzXjE1KSksTHVzaGFrYVRoZVN1bmtlblNlYXM6KDE+PihhXjE2KSkrKDE+PihzXjE2KSksVGhlV29uZHJvdXNCYW5hbkFtdXNlbWVudFBhcms6KDE+PihhXjE3KSkrKDE+PihzXjE3KSl9LGUueC5zZXRzfWZ1bmN0aW9uIG5sKGUsdCxuKXtjb25zdCBvPW4uY2hhcmFjdGVyLmJhc2UsaT1uLmNoYXJhY3Rlci50cmFjZXMsYT1uLmNoYXJhY3Rlci5saWdodENvbmUscz1lLnguc2V0cztzd2l0Y2goZS5FTEVNRU5UQUxfRE1HPTAsbi5FTEVNRU5UQUxfRE1HX1RZUEUpe2Nhc2Ugci5QaHlzaWNhbF9ETUc6ZS5FTEVNRU5UQUxfRE1HPWV0KHIuUGh5c2ljYWxfRE1HLG8sYSxpLGUsLjEqayhzLkNoYW1waW9uT2ZTdHJlZXR3aXNlQm94aW5nKSk7YnJlYWs7Y2FzZSByLkZpcmVfRE1HOmUuRUxFTUVOVEFMX0RNRz1ldChyLkZpcmVfRE1HLG8sYSxpLGUsLjEqayhzLkZpcmVzbWl0aE9mTGF2YUZvcmdpbmcpKTticmVhaztjYXNlIHIuSWNlX0RNRzplLkVMRU1FTlRBTF9ETUc9ZXQoci5JY2VfRE1HLG8sYSxpLGUsLjEqayhzLkh1bnRlck9mR2xhY2lhbEZvcmVzdCkpO2JyZWFrO2Nhc2Ugci5MaWdodG5pbmdfRE1HOmUuRUxFTUVOVEFMX0RNRz1ldChyLkxpZ2h0bmluZ19ETUcsbyxhLGksZSwuMSprKHMuQmFuZE9mU2l6emxpbmdUaHVuZGVyKSk7YnJlYWs7Y2FzZSByLldpbmRfRE1HOmUuRUxFTUVOVEFMX0RNRz1ldChyLldpbmRfRE1HLG8sYSxpLGUsLjEqayhzLkVhZ2xlT2ZUd2lsaWdodExpbmUpKTticmVhaztjYXNlIHIuUXVhbnR1bV9ETUc6ZS5FTEVNRU5UQUxfRE1HPWV0KHIuUXVhbnR1bV9ETUcsbyxhLGksZSwuMSprKHMuR2VuaXVzT2ZCcmlsbGlhbnRTdGFycykpO2JyZWFrO2Nhc2Ugci5JbWFnaW5hcnlfRE1HOmUuRUxFTUVOVEFMX0RNRz1ldChyLkltYWdpbmFyeV9ETUcsbyxhLGksZSwuMSprKHMuV2FzdGVsYW5kZXJPZkJhbmRpdHJ5RGVzZXJ0KSk7YnJlYWt9fWZ1bmN0aW9uIG9sKGUsdCxuKXtjb25zdCBvPW4uY2hhcmFjdGVyLmJhc2UsaT1uLmNoYXJhY3Rlci5saWdodENvbmUsYT1uLmNoYXJhY3Rlci50cmFjZXMscz1lLnguc2V0cztlW3IuU1BEXT1zZShyLlNQRCxyLlNQRF9QLHQuYmFzZVNwZCxpLGEsZSwuMDYqayhzLk1lc3NlbmdlclRyYXZlcnNpbmdIYWNrZXJzcGFjZSkrLjA2Kmsocy5Gb3JnZU9mVGhlS2FscGFnbmlMYW50ZXJuKSsuMDYqdyhzLk11c2tldGVlck9mV2lsZFdoZWF0KSsuMDYqayhzLlNhY2VyZG9zUmVsaXZlZE9yZGVhbCkpLGVbci5IUF09c2Uoci5IUCxyLkhQX1AsdC5iYXNlSHAsaSxhLGUsLjEyKmsocy5GbGVldE9mVGhlQWdlbGVzcykrLjEyKmsocy5Mb25nZXZvdXNEaXNjaXBsZSkpLGVbci5BVEtdPXNlKHIuQVRLLHIuQVRLX1AsdC5iYXNlQXRrLGksYSxlLC4xMiprKHMuU3BhY2VTZWFsaW5nU3RhdGlvbikrLjEyKmsocy5GaXJtYW1lbnRGcm9udGxpbmVHbGFtb3RoKSsuMTIqayhzLk11c2tldGVlck9mV2lsZFdoZWF0KSsuMTIqayhzLlByaXNvbmVySW5EZWVwQ29uZmluZW1lbnQpKy4xMiprKHMuSXp1bW9HZW5zZWlBbmRUYWthbWFEaXZpbmVSZWFsbSkrLjEyKmsocy5UaGVXaW5kU29hcmluZ1ZhbG9yb3VzKSksZVtyLkRFRl09c2Uoci5ERUYsci5ERUZfUCx0LmJhc2VEZWYsaSxhLGUsLjE1Kmsocy5CZWxvYm9nT2ZUaGVBcmNoaXRlY3RzKSsuMTUqayhzLktuaWdodE9mUHVyaXR5UGFsYWNlKSksZVtyLkNSXT1ldChyLkNSLG8saSxhLGUsLjA4Kmsocy5JbmVydFNhbHNvdHRvKSsuMDgqayhzLlJ1dGlsYW50QXJlbmEpKy4wNCp3KHMuUGlvbmVlckRpdmVyT2ZEZWFkV2F0ZXJzKSsuMDQqayhzLlNpZ29uaWFUaGVVbmNsYWltZWREZXNvbGF0aW9uKSsuMDYqdyhzLlRoZVdpbmRTb2FyaW5nVmFsb3JvdXMpKy4wOCprKHMuU2Nob2xhckxvc3RJbkVydWRpdGlvbikpLGVbci5DRF09ZXQoci5DRCxvLGksYSxlLC4xNiprKHMuQ2VsZXN0aWFsRGlmZmVyZW50aWF0b3IpKy4xNiprKHMuVGhlV29uZHJvdXNCYW5hbkFtdXNlbWVudFBhcmspKSxlW3IuRUhSXT1ldChyLkVIUixvLGksYSxlLC4xKmsocy5QYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZSkpLGVbci5SRVNdPWV0KHIuUkVTLG8saSxhLGUsLjEqayhzLkJyb2tlbktlZWwpKSxlW3IuQkVdPWV0KHIuQkUsbyxpLGEsZSwuMTYqayhzLlRhbGlhS2luZ2RvbU9mQmFuZGl0cnkpKy4xNiprKHMuVGhpZWZPZlNob290aW5nTWV0ZW9yKSsuMTYqdyhzLlRoaWVmT2ZTaG9vdGluZ01ldGVvcikrLjE2Kmsocy5XYXRjaG1ha2VyTWFzdGVyT2ZEcmVhbU1hY2hpbmF0aW9ucykrLjE2Kmsocy5Jcm9uQ2F2YWxyeUFnYWluc3RUaGVTY291cmdlKSksZVtyLkVSUl09ZXQoci5FUlIsbyxpLGEsZSwuMDUqayhzLlNwcmlnaHRseVZvbndhY3EpKy4wNSprKHMuUGVuYWNvbnlMYW5kT2ZUaGVEcmVhbXMpKy4wNSprKHMuTHVzaGFrYVRoZVN1bmtlblNlYXMpKSxlW3IuT0hCXT1ldChyLk9IQixvLGksYSxlLC4xKmsocy5QYXNzZXJieU9mV2FuZGVyaW5nQ2xvdWQpKX1mdW5jdGlvbiBpbChlLHQsbil7bi5jaGFyYWN0ZXJDb25kaXRpb25hbHM9dnQuZ2V0KHQpLG4ubGlnaHRDb25lQ29uZGl0aW9uYWxzPU50LmdldCh0KTtjb25zdCBvPWUueCxpPW8uc2V0cztvW3IuQVRLXSs9ZVtyLkFUS10sb1tyLkRFRl0rPWVbci5ERUZdLG9bci5IUF0rPWVbci5IUF0sb1tyLlNQRF0rPWVbci5TUERdLG9bci5DRF0rPWVbci5DRF0sb1tyLkNSXSs9ZVtyLkNSXSxvW3IuRUhSXSs9ZVtyLkVIUl0sb1tyLlJFU10rPWVbci5SRVNdLG9bci5CRV0rPWVbci5CRV0sb1tyLkVSUl0rPWVbci5FUlJdLG9bci5PSEJdKz1lW3IuT0hCXSxvW24uRUxFTUVOVEFMX0RNR19UWVBFXSs9ZS5FTEVNRU5UQUxfRE1HLG9bci5BVEtdKz10LmNvbWJhdEJ1ZmZzLkFUSyt0LmNvbWJhdEJ1ZmZzLkFUS19QKnQuYmFzZUF0ayxvW3IuREVGXSs9dC5jb21iYXRCdWZmcy5ERUYrdC5jb21iYXRCdWZmcy5ERUZfUCp0LmJhc2VEZWYsb1tyLkhQXSs9dC5jb21iYXRCdWZmcy5IUCt0LmNvbWJhdEJ1ZmZzLkhQX1AqdC5iYXNlSHAsb1tyLkNEXSs9dC5jb21iYXRCdWZmcy5DRCxvW3IuQ1JdKz10LmNvbWJhdEJ1ZmZzLkNSLG9bci5TUERdKz10LmNvbWJhdEJ1ZmZzLlNQRF9QKnQuYmFzZVNwZCt0LmNvbWJhdEJ1ZmZzLlNQRCxvW3IuQkVdKz10LmNvbWJhdEJ1ZmZzLkJFLG8uRUxFTUVOVEFMX0RNRys9dC5jb21iYXRCdWZmcy5ETUdfQk9PU1Qsby5FRkZFQ1RfUkVTX1BFTis9dC5jb21iYXRCdWZmcy5FRkZFQ1RfUkVTX1BFTixvLlZVTE5FUkFCSUxJVFkrPXQuY29tYmF0QnVmZnMuVlVMTkVSQUJJTElUWSxvLkJSRUFLX0VGRklDSUVOQ1lfQk9PU1QrPXQuY29tYmF0QnVmZnMuQlJFQUtfRUZGSUNJRU5DWSx3KGkuTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlKSYmbi5lbmFibGVkTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlJiYob1tyLlNQRF9QXSs9LjEyKSxvW3IuU1BEXSs9b1tyLlNQRF9QXSp0LmJhc2VTcGQsdyhpLkNoYW1waW9uT2ZTdHJlZXR3aXNlQm94aW5nKSYmKG9bci5BVEtfUF0rPS4wNSpuLnZhbHVlQ2hhbXBpb25PZlN0cmVldHdpc2VCb3hpbmcpLHcoaS5CYW5kT2ZTaXp6bGluZ1RodW5kZXIpJiZuLmVuYWJsZWRCYW5kT2ZTaXp6bGluZ1RodW5kZXImJihvW3IuQVRLX1BdKz0uMiksdyhpLlRoZUFzaGJsYXppbmdHcmFuZER1a2UpJiYob1tyLkFUS19QXSs9LjA2Km4udmFsdWVUaGVBc2hibGF6aW5nR3JhbmREdWtlKSxvW3IuQVRLXSs9b1tyLkFUS19QXSp0LmJhc2VBdGssb1tyLkRFRl0rPW9bci5ERUZfUF0qdC5iYXNlRGVmLG9bci5IUF0rPW9bci5IUF9QXSp0LmJhc2VIcCx3KGkuSHVudGVyT2ZHbGFjaWFsRm9yZXN0KSYmbi5lbmFibGVkSHVudGVyT2ZHbGFjaWFsRm9yZXN0JiYob1tyLkNEXSs9LjI1KSx3KGkuV2FzdGVsYW5kZXJPZkJhbmRpdHJ5RGVzZXJ0KSYmKG9bci5DRF0rPS4xKihuLnZhbHVlV2FzdGVsYW5kZXJPZkJhbmRpdHJ5RGVzZXJ0PT0yPzE6MCkpLHcoaS5QaW9uZWVyRGl2ZXJPZkRlYWRXYXRlcnMpJiYob1tyLkNEXSs9c2xbbi52YWx1ZVBpb25lZXJEaXZlck9mRGVhZFdhdGVyc10pLGsoaS5TaWdvbmlhVGhlVW5jbGFpbWVkRGVzb2xhdGlvbikmJihvW3IuQ0RdKz0uMDQqbi52YWx1ZVNpZ29uaWFUaGVVbmNsYWltZWREZXNvbGF0aW9uKSxrKGkuRHVyYW5EeW5hc3R5T2ZSdW5uaW5nV29sdmVzKSYmbi52YWx1ZUR1cmFuRHluYXN0eU9mUnVubmluZ1dvbHZlcz49NSYmKG9bci5DRF0rPS4yNSksayhpLlRoZVdvbmRyb3VzQmFuYW5BbXVzZW1lbnRQYXJrKSYmbi5lbmFibGVkVGhlV29uZHJvdXNCYW5hbkFtdXNlbWVudFBhcmsmJihvW3IuQ0RdKz0uMzIpLHcoaS5XYXN0ZWxhbmRlck9mQmFuZGl0cnlEZXNlcnQpJiZuLnZhbHVlV2FzdGVsYW5kZXJPZkJhbmRpdHJ5RGVzZXJ0PjAmJihvW3IuQ1JdKz0uMSksdyhpLkxvbmdldm91c0Rpc2NpcGxlKSYmKG9bci5DUl0rPS4wOCpuLnZhbHVlTG9uZ2V2b3VzRGlzY2lwbGUpLHcoaS5QaW9uZWVyRGl2ZXJPZkRlYWRXYXRlcnMpJiZuLnZhbHVlUGlvbmVlckRpdmVyT2ZEZWFkV2F0ZXJzPjImJihvW3IuQ1JdKz0uMDQpLGsoaS5JenVtb0dlbnNlaUFuZFRha2FtYURpdmluZVJlYWxtKSYmbi5lbmFibGVkSXp1bW9HZW5zZWlBbmRUYWthbWFEaXZpbmVSZWFsbSYmKG9bci5DUl0rPS4xMiksdyhpLldhdGNobWFrZXJNYXN0ZXJPZkRyZWFtTWFjaGluYXRpb25zKSYmbi5lbmFibGVkV2F0Y2htYWtlck1hc3Rlck9mRHJlYW1NYWNoaW5hdGlvbnMmJihvW3IuQkVdKz0uMyksayhpLkZvcmdlT2ZUaGVLYWxwYWduaUxhbnRlcm4pJiZuLmVuYWJsZWRGb3JnZU9mVGhlS2FscGFnbmlMYW50ZXJuJiYob1tyLkJFXSs9LjQpLHcoaS5NdXNrZXRlZXJPZldpbGRXaGVhdCkmJnkobyxXLC4xKSx3KGkuRmlyZXNtaXRoT2ZMYXZhRm9yZ2luZykmJnkobyx6LC4xMiksayhpLlRoZUFzaGJsYXppbmdHcmFuZER1a2UpJiZ5KG8sTSwuMiksayhpLkR1cmFuRHluYXN0eU9mUnVubmluZ1dvbHZlcykmJnkobyxNLC4wNSpuLnZhbHVlRHVyYW5EeW5hc3R5T2ZSdW5uaW5nV29sdmVzKSx3KGkuVGhlV2luZFNvYXJpbmdWYWxvcm91cykmJnkobyxPLC4zNipuLmVuYWJsZWRUaGVXaW5kU29hcmluZ1ZhbG9yb3VzKSx3KGkuU2Nob2xhckxvc3RJbkVydWRpdGlvbikmJnkobyxPfHosLjIpLHcoaS5HZW5pdXNPZkJyaWxsaWFudFN0YXJzKSYmKG8uREVGX1BFTis9bi5lbmFibGVkR2VuaXVzT2ZCcmlsbGlhbnRTdGFycz8uMjouMSksdyhpLlByaXNvbmVySW5EZWVwQ29uZmluZW1lbnQpJiYoby5ERUZfUEVOKz0uMDYqbi52YWx1ZVByaXNvbmVySW5EZWVwQ29uZmluZW1lbnQpLGsoaS5QaW9uZWVyRGl2ZXJPZkRlYWRXYXRlcnMpJiZuLnZhbHVlUGlvbmVlckRpdmVyT2ZEZWFkV2F0ZXJzPj0wJiYoby5FTEVNRU5UQUxfRE1HKz0uMTIpLGsoaS5GaXJlc21pdGhPZkxhdmFGb3JnaW5nKSYmbi5lbmFibGVkRmlyZXNtaXRoT2ZMYXZhRm9yZ2luZyYmKG9bci5GaXJlX0RNR10rPS4xMiksdyhpLlNjaG9sYXJMb3N0SW5FcnVkaXRpb24pJiZuLmVuYWJsZWRTY2hvbGFyTG9zdEluRXJ1ZGl0aW9uJiZ5KG8seiwuMjUpLGsoaS5TcGFjZVNlYWxpbmdTdGF0aW9uKSYmUShFbixvLHQsbiksayhpLlJ1dGlsYW50QXJlbmEpJiZRKF9uLG8sdCxuKSxrKGkuSW5lcnRTYWxzb3R0bykmJlEoQW4sbyx0LG4pLGsoaS5GbGVldE9mVGhlQWdlbGVzcykmJlEoVG4sbyx0LG4pLGsoaS5CZWxvYm9nT2ZUaGVBcmNoaXRlY3RzKSYmUShJbixvLHQsbiksdyhpLklyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2UpJiZRKExuLG8sdCxuKSx3KGkuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZSkmJlEoa24sbyx0LG4pLGsoaS5QYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZSkmJlEoYm4sbyx0LG4pLGsoaS5Ccm9rZW5LZWVsKSYmUSh5bixvLHQsbiksayhpLkNlbGVzdGlhbERpZmZlcmVudGlhdG9yKSYmUShSbixvLHQsbiksayhpLlRhbGlhS2luZ2RvbU9mQmFuZGl0cnkpJiZRKEduLG8sdCxuKSxrKGkuRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aCkmJlEoTW4sbyx0LG4pLGsoaS5GaXJtYW1lbnRGcm9udGxpbmVHbGFtb3RoKSYmUSh2bixvLHQsbik7Y29uc3QgYT1uLmNoYXJhY3RlckNvbmRpdGlvbmFscyxzPW4ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2Zvcihjb25zdCBsIG9mIGEuZHluYW1pY0NvbmRpdGlvbmFsc3x8W10pUShsLG8sdCxuKTtmb3IoY29uc3QgbCBvZiBzLmR5bmFtaWNDb25kaXRpb25hbHN8fFtdKVEobCxvLHQsbik7cmV0dXJuIG99ZnVuY3Rpb24gYWwoZSx0LG4sbyxpLGEscyl7Zm9yKGNvbnN0IGwgb2ZbdCxuLG8saSxhLHNdKWlmKGwucGFydClmb3IoY29uc3QgbSBvZiBsLmNvbmRlbnNlZFN0YXRzKWVbbVswXV0rPW1bMV07ZS54LldFSUdIVD10LndlaWdodFNjb3JlK24ud2VpZ2h0U2NvcmUrby53ZWlnaHRTY29yZStpLndlaWdodFNjb3JlK2Eud2VpZ2h0U2NvcmUrcy53ZWlnaHRTY29yZX1mdW5jdGlvbiBldChlLHQsbixvLGksYSl7cmV0dXJuIHRbZV0rbltlXStpW2VdK29bZV0rYX1mdW5jdGlvbiBzZShlLHQsbixvLGksYSxzKXtyZXR1cm4gbiooMStzK2FbdF0raVt0XStvW3RdKSthW2VdK2lbZV19Y29uc3Qgc2w9e1stMV06MCwwOjAsMTouMDgsMjouMTIsMzouMTYsNDouMjR9LHJsPXtbci5IUF9QXTowLFtyLkFUS19QXTowLFtyLkRFRl9QXTowLFtyLkhQXToxZS02LFtyLkFUS106MWUtNixbci5ERUZdOjFlLTYsW3IuU1BEXToxZS02LFtyLlNQRF9QXTowLFtyLkNSXToxZS02LFtyLkNEXToxZS02LFtyLkVIUl06MWUtNixbci5SRVNdOjFlLTYsW3IuQkVdOjFlLTYsW3IuRVJSXToxZS02LFtyLk9IQl06MWUtNixbci5QaHlzaWNhbF9ETUddOjFlLTYsW3IuRmlyZV9ETUddOjFlLTYsW3IuSWNlX0RNR106MWUtNixbci5MaWdodG5pbmdfRE1HXToxZS02LFtyLldpbmRfRE1HXToxZS02LFtyLlF1YW50dW1fRE1HXToxZS02LFtyLkltYWdpbmFyeV9ETUddOjFlLTZ9O2Z1bmN0aW9uIGxsKGUsdCxuKXtjb25zdCBvPW4ubGlnaHRDb25lQ29uZGl0aW9uYWxzLGk9bi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7by5maW5hbGl6ZUNhbGN1bGF0aW9ucyYmby5maW5hbGl6ZUNhbGN1bGF0aW9ucyhlLHQpLGkuZmluYWxpemVDYWxjdWxhdGlvbnMmJmkuZmluYWxpemVDYWxjdWxhdGlvbnMoZSx0KX1mdW5jdGlvbiBjbChlLHQsbil7Y29uc3Qgbz1lLnNldHMsaT04MCxhPXQuZW5lbXlMZXZlbCxzPWUuREVGX1BFTit0LmNvbWJhdEJ1ZmZzLkRFRl9QRU4sbD0wO2UuRUxFTUVOVEFMX0RNRys9ZVtuLkVMRU1FTlRBTF9ETUdfVFlQRV07Y29uc3QgbT0xK2UuRUxFTUVOVEFMX0RNRyxwPTE7bGV0IFM9ZVtyLkhQXS8oMS1lW3IuREVGXS8oZVtyLkRFRl0rMjAwKzEwKnQuZW5lbXlMZXZlbCkpO1MqPTEvKCgxLS4wOCprKG8uR3VhcmRPZld1dGhlcmluZ1Nub3cpKSplLkRNR19SRURfTVVMVEkpLGUuRUhQPVMsbi5icm9rZW5NdWx0aXBsaWVyPWUuRU5FTVlfV0VBS05FU1NfQlJPS0VOPzE6Ljk7Y29uc3QgQj1wKm4uYnJva2VuTXVsdGlwbGllcixjPW4ucmVzaXN0YW5jZS1lLlJFU19QRU4tZVtuLlJFU19QRU5fVFlQRV0sZj1lLlVMVF9DRF9PVkVSUklERXx8ZVtyLkNEXStlLlVMVF9DRF9CT09TVCx1PTErZS5WVUxORVJBQklMSVRZK2UuQlJFQUtfVlVMTkVSQUJJTElUWSxDPTErZS5WVUxORVJBQklMSVRZK2UuQkFTSUNfVlVMTkVSQUJJTElUWSxkPTErZS5WVUxORVJBQklMSVRZK2UuU0tJTExfVlVMTkVSQUJJTElUWSxnPTErZS5WVUxORVJBQklMSVRZK2UuVUxUX1ZVTE5FUkFCSUxJVFkqZS5VTFRfQk9PU1RTX01VTFRJLGg9MStlLlZVTE5FUkFCSUxJVFkrZS5GVUFfVlVMTkVSQUJJTElUWSxfPTErZS5WVUxORVJBQklMSVRZK2UuRE9UX1ZVTE5FUkFCSUxJVFksRT10LmVuZW15RWZmZWN0UmVzaXN0YW5jZSxUPU1hdGgubWluKDEsZS5ET1RfQ0hBTkNFKigxK2Vbci5FSFJdKSooMS1FK2UuRUZGRUNUX1JFU19QRU4pKSxMPWUuRE9UX1NQTElUPygxK2UuRE9UX1NQTElUKlQqKGUuRE9UX1NUQUNLUy0xKSkvKDErLjA1KihlLkRPVF9TVEFDS1MtMSkpOlQsUD10LmVuZW15TWF4VG91Z2huZXNzO2UuQlJFQUtfRE1HPUIqMzc2Ny41NTMzKm4uRUxFTUVOVEFMX0JSRUFLX1NDQUxJTkcqZHQoaSxhLHMsbCxlLkJSRUFLX0RFRl9QRU4pKiguNStQLzEyMCkqdSooMS1jKSooMStlW3IuQkVdKSxlLlNVUEVSX0JSRUFLX0RNRz1CKjM3NjcuNTUzMypkdChpLGEscyxsLGUuQlJFQUtfREVGX1BFTitlLlNVUEVSX0JSRUFLX0RFRl9QRU4pKnUqKDEtYykqKDErZVtyLkJFXSkqKGUuU1VQRVJfQlJFQUtfTU9ESUZJRVIrZS5TVVBFUl9CUkVBS19ITUNfTU9ESUZJRVIpKigxLzMwKSooMStlLkJSRUFLX0VGRklDSUVOQ1lfQk9PU1QpO2NvbnN0ICQ9QiozNzY3LjU1MzMqZHQoaSxhLHMsbCxlLkJSRUFLX0RFRl9QRU4rZS5TVVBFUl9CUkVBS19ERUZfUEVOKSp1KigxLWMpKigxK2Vbci5CRV0pKihlLkJBU0lDX1NVUEVSX0JSRUFLX01PRElGSUVSK2UuU1VQRVJfQlJFQUtfSE1DX01PRElGSUVSKSooMS8zMCkqKDErZS5CUkVBS19FRkZJQ0lFTkNZX0JPT1NUKTtlLkJBU0lDX0RNRz1lLkJBU0lDX0RNRypCKihtK2UuQkFTSUNfQk9PU1QpKmR0KGksYSxzLGwsZS5CQVNJQ19ERUZfUEVOKSooQypNYXRoLm1pbigxLGVbci5DUl0rZS5CQVNJQ19DUl9CT09TVCkqKDErZVtyLkNEXStlLkJBU0lDX0NEX0JPT1NUKStDKigxLU1hdGgubWluKDEsZVtyLkNSXStlLkJBU0lDX0NSX0JPT1NUKSkpKigxLShjLWUuQkFTSUNfUkVTX1BFTikpKigxK2UuQkFTSUNfT1JJR0lOQUxfRE1HX0JPT1NUKStlLkJBU0lDX0JSRUFLX0RNR19NT0RJRklFUiplLkJSRUFLX0RNRysoJHx8ZS5TVVBFUl9CUkVBS19ETUcpKmUuQkFTSUNfVE9VR0hORVNTX0RNRyooMStlLkJBU0lDX0JSRUFLX0VGRklDSUVOQ1lfQk9PU1QpLGUuU0tJTExfRE1HPWUuU0tJTExfRE1HKkIqKG0rZS5TS0lMTF9CT09TVCkqZHQoaSxhLHMsbCxlLlNLSUxMX0RFRl9QRU4pKihkKk1hdGgubWluKDEsZVtyLkNSXStlLlNLSUxMX0NSX0JPT1NUKSooMStlW3IuQ0RdK2UuU0tJTExfQ0RfQk9PU1QpK2QqKDEtTWF0aC5taW4oMSxlW3IuQ1JdK2UuU0tJTExfQ1JfQk9PU1QpKSkqKDEtKGMtZS5TS0lMTF9SRVNfUEVOKSkqKDErZS5TS0lMTF9PUklHSU5BTF9ETUdfQk9PU1QpK2UuU1VQRVJfQlJFQUtfRE1HKmUuU0tJTExfVE9VR0hORVNTX0RNRyxlLlVMVF9ETUc9ZS5VTFRfRE1HKkIqKG0rZS5VTFRfQk9PU1QqZS5VTFRfQk9PU1RTX01VTFRJKSpkdChpLGEscyxsLGUuVUxUX0RFRl9QRU4qZS5VTFRfQk9PU1RTX01VTFRJKSooZypNYXRoLm1pbigxLGVbci5DUl0rZS5VTFRfQ1JfQk9PU1QpKigxK2YpK2cqKDEtTWF0aC5taW4oMSxlW3IuQ1JdK2UuVUxUX0NSX0JPT1NUKSkpKigxLShjLWUuVUxUX1JFU19QRU4qZS5VTFRfQk9PU1RTX01VTFRJKSkqKDErZS5VTFRfT1JJR0lOQUxfRE1HX0JPT1NUKStlLlNVUEVSX0JSRUFLX0RNRyplLlVMVF9UT1VHSE5FU1NfRE1HKigxK2UuVUxUX0JSRUFLX0VGRklDSUVOQ1lfQk9PU1QpLGUuRlVBX0RNRz1lLkZVQV9ETUcqQioobStlLkZVQV9CT09TVCkqZHQoaSxhLHMsbCxlLkZVQV9ERUZfUEVOKSooaCpNYXRoLm1pbigxLGVbci5DUl0rZS5GVUFfQ1JfQk9PU1QpKigxK2Vbci5DRF0rZS5GVUFfQ0RfQk9PU1QpK2gqKDEtTWF0aC5taW4oMSxlW3IuQ1JdK2UuRlVBX0NSX0JPT1NUKSkpKigxLShjLWUuRlVBX1JFU19QRU4pKStlLlNVUEVSX0JSRUFLX0RNRyplLkZVQV9UT1VHSE5FU1NfRE1HLGUuRE9UX0RNRz1lLkRPVF9ETUcqQioobStlLkRPVF9CT09TVCkqZHQoaSxhLHMsbCxlLkRPVF9ERUZfUEVOKSpfKigxLShjLWUuRE9UX1JFU19QRU4pKSpMLGUuQ09NQk9fRE1HPXQuY29tYm8uQkFTSUMqZS5CQVNJQ19ETUcrdC5jb21iby5TS0lMTCplLlNLSUxMX0RNRyt0LmNvbWJvLlVMVCplLlVMVF9ETUcrdC5jb21iby5GVUEqZS5GVUFfRE1HK3QuY29tYm8uRE9UKmUuRE9UX0RNRyt0LmNvbWJvLkJSRUFLKmUuQlJFQUtfRE1HfWZ1bmN0aW9uIGR0KGUsdCxuLG8saSl7cmV0dXJuKGUrMjApLygodCsyMCkqTWF0aC5tYXgoMCwxLW4tby1pKStlKzIwKX1mdW5jdGlvbiB1bChlLHQpe2NvbnN0IG49dC5wcmVjb21wdXRlZFgsbz17fSxpPVtlLnRlYW1tYXRlMCxlLnRlYW1tYXRlMSxlLnRlYW1tYXRlMl0uZmlsdGVyKGE9PiEhYSYmISFhLmNoYXJhY3RlcklkKTtmb3IobGV0IGE9MDthPGkubGVuZ3RoO2ErKyl7aVthXS5saWdodENvbmU9aVthXS5saWdodENvbmV8fG51bGw7Y29uc3Qgcz1PYmplY3QuYXNzaWduKHt9LGUsaVthXSksbD12dC5nZXQocyksbT1OdC5nZXQocyk7c3dpdGNoKGwucHJlY29tcHV0ZU11dHVhbEVmZmVjdHMmJmwucHJlY29tcHV0ZU11dHVhbEVmZmVjdHMobixzKSxsLnByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHMmJmwucHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0cyhuLHMpLG0ucHJlY29tcHV0ZU11dHVhbEVmZmVjdHMmJm0ucHJlY29tcHV0ZU11dHVhbEVmZmVjdHMobixzKSxtLnByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHMmJm0ucHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0cyhuLHMpLHMudGVhbU9ybmFtZW50U2V0KXtjYXNlIGN0LkJyb2tlbktlZWw6bltyLkNEXSs9LjE7YnJlYWs7Y2FzZSBjdC5GbGVldE9mVGhlQWdlbGVzczpuW3IuQVRLX1BdKz0uMDg7YnJlYWs7Y2FzZSBjdC5QZW5hY29ueUxhbmRPZlRoZURyZWFtczppZihzLkVMRU1FTlRBTF9ETUdfVFlQRSE9dC5FTEVNRU5UQUxfRE1HX1RZUEUpYnJlYWs7bi5FTEVNRU5UQUxfRE1HKz0uMTticmVhaztjYXNlIGN0Lkx1c2hha2FUaGVTdW5rZW5TZWFzOm5bci5BVEtfUF0rPS4xMjticmVha31zd2l0Y2gocy50ZWFtUmVsaWNTZXQpe2Nhc2UgY3QuTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlOmlmKG9bY3QuTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlXSlicmVhaztuW3IuU1BEX1BdKz0uMTI7YnJlYWs7Y2FzZSBjdC5XYXRjaG1ha2VyTWFzdGVyT2ZEcmVhbU1hY2hpbmF0aW9uczppZihvW2N0LldhdGNobWFrZXJNYXN0ZXJPZkRyZWFtTWFjaGluYXRpb25zXSlicmVhaztuW3IuQkVdKz0uMzticmVhaztjYXNlIFluOm5bci5DRF0rPS4xODticmVhaztjYXNlIGpuOm5bci5DRF0rPS4zNjticmVha31vW3MudGVhbU9ybmFtZW50U2V0XT0hMCxvW3MudGVhbVJlbGljU2V0XT0hMH19ZnVuY3Rpb24gZmwoZSx0KXt2YXIgcyxsLG0scCxTLEIsYyxmO2NvbnN0IG49dnQuZ2V0KGUpLG89TnQuZ2V0KGUpO2UuY2hhcmFjdGVyQ29uZGl0aW9uYWxzfHwoZS5jaGFyYWN0ZXJDb25kaXRpb25hbHM9bi5kZWZhdWx0cygpKSxlLmxpZ2h0Q29uZUNvbmRpdGlvbmFsc3x8KGUubGlnaHRDb25lQ29uZGl0aW9uYWxzPW8uZGVmYXVsdHMoKSk7Y29uc3QgaT1PYmplY3QuYXNzaWduKHt9LEpuKTsocz1vLmluaXRpYWxpemVDb25maWd1cmF0aW9ucyk9PW51bGx8fHMuY2FsbChvLGksZSksKGw9bi5pbml0aWFsaXplQ29uZmlndXJhdGlvbnMpPT1udWxsfHxsLmNhbGwobixpLGUpO2NvbnN0IGE9W2UudGVhbW1hdGUwLGUudGVhbW1hdGUxLGUudGVhbW1hdGUyXS5maWx0ZXIodT0+ISF1JiYhIXUuY2hhcmFjdGVySWQpO2ZvcihsZXQgdT0wO3U8YS5sZW5ndGg7dSsrKXtjb25zdCBDPU9iamVjdC5hc3NpZ24oe30sZSxhW3VdKSxkPXZ0LmdldChDKSxnPU50LmdldChDKTsobT1kLmluaXRpYWxpemVUZWFtbWF0ZUNvbmZpZ3VyYXRpb25zKT09bnVsbHx8bS5jYWxsKGQsaSxDKSwocD1nLmluaXRpYWxpemVUZWFtbWF0ZUNvbmZpZ3VyYXRpb25zKT09bnVsbHx8cC5jYWxsKGcsaSxDKX1yZXR1cm4oUz1vLnByZWNvbXB1dGVFZmZlY3RzKT09bnVsbHx8Uy5jYWxsKG8saSxlKSwoQj1uLnByZWNvbXB1dGVFZmZlY3RzKT09bnVsbHx8Qi5jYWxsKG4saSxlKSwoYz1vLnByZWNvbXB1dGVNdXR1YWxFZmZlY3RzKT09bnVsbHx8Yy5jYWxsKG8saSxlKSwoZj1uLnByZWNvbXB1dGVNdXR1YWxFZmZlY3RzKT09bnVsbHx8Zi5jYWxsKG4saSxlKSxpLkVORU1ZX1dFQUtORVNTX0JST0tFTj1pLkVORU1ZX1dFQUtORVNTX0JST0tFTnx8KGUuZW5lbXlXZWFrbmVzc0Jyb2tlbj8xOjApLHQucHJlY29tcHV0ZWRYPWksaX1mdW5jdGlvbiBkbChlLHQpe2NvbnN0IG49dnQuZ2V0KGUpLG89TnQuZ2V0KGUpLGk9bWwoKTtJZShpLG8uZHluYW1pY0NvbmRpdGlvbmFscz8/W10pLEllKGksbi5keW5hbWljQ29uZGl0aW9uYWxzPz9bXSksSWUoaSxQaXx8W10pLHQuY29uZGl0aW9uYWxSZWdpc3RyeT1pLHQuY29uZGl0aW9uYWxTdGF0ZT17fX1mdW5jdGlvbiBtbCgpe3JldHVybntbci5IUF06W10sW3IuQVRLXTpbXSxbci5ERUZdOltdLFtyLlNQRF06W10sW3IuQ1JdOltdLFtyLkNEXTpbXSxbci5FSFJdOltdLFtyLlJFU106W10sW3IuQkVdOltdLFtyLk9IQl06W10sW3IuRVJSXTpbXX19ZnVuY3Rpb24gSWUoZSx0KXtmb3IoY29uc3QgbiBvZiB0KWZvcihjb25zdCBvIG9mIG4uZGVwZW5kc09uKWVbb10ucHVzaChuKX1jb25zdCBDbD17QVRLOntrZXk6IkFUSyIsZ3B1UHJvcGVydHk6IkFUSyIsYmFzaWNQcm9wZXJ0eToiQVRLIixjb21iYXRQcm9wZXJ0eToiQVRLIixiYXNpY0dyaWRDb2x1bW46IkFUSyIsY29tYmF0R3JpZENvbHVtbjoieEFUSyJ9LERFRjp7a2V5OiJERUYiLGdwdVByb3BlcnR5OiJERUYiLGJhc2ljUHJvcGVydHk6IkRFRiIsY29tYmF0UHJvcGVydHk6IkRFRiIsYmFzaWNHcmlkQ29sdW1uOiJERUYiLGNvbWJhdEdyaWRDb2x1bW46InhERUYifSxIUDp7a2V5OiJIUCIsZ3B1UHJvcGVydHk6IkhQIixiYXNpY1Byb3BlcnR5OiJIUCIsY29tYmF0UHJvcGVydHk6IkhQIixiYXNpY0dyaWRDb2x1bW46IkhQIixjb21iYXRHcmlkQ29sdW1uOiJ4SFAifSxTUEQ6e2tleToiU1BEIixncHVQcm9wZXJ0eToiU1BEIixiYXNpY1Byb3BlcnR5OiJTUEQiLGNvbWJhdFByb3BlcnR5OiJTUEQiLGJhc2ljR3JpZENvbHVtbjoiU1BEIixjb21iYXRHcmlkQ29sdW1uOiJ4U1BEIn0sQ1I6e2tleToiQ1IiLGdwdVByb3BlcnR5OiJDUiIsYmFzaWNQcm9wZXJ0eToiQ1JJVCBSYXRlIixjb21iYXRQcm9wZXJ0eToiQ1JJVCBSYXRlIixiYXNpY0dyaWRDb2x1bW46IkNSSVQgUmF0ZSIsY29tYmF0R3JpZENvbHVtbjoieENSIn0sQ0Q6e2tleToiQ0QiLGdwdVByb3BlcnR5OiJDRCIsYmFzaWNQcm9wZXJ0eToiQ1JJVCBETUciLGNvbWJhdFByb3BlcnR5OiJDUklUIERNRyIsYmFzaWNHcmlkQ29sdW1uOiJDUklUIERNRyIsY29tYmF0R3JpZENvbHVtbjoieENEIn0sRUhSOntrZXk6IkVIUiIsZ3B1UHJvcGVydHk6IkVIUiIsYmFzaWNQcm9wZXJ0eToiRWZmZWN0IEhpdCBSYXRlIixjb21iYXRQcm9wZXJ0eToiRWZmZWN0IEhpdCBSYXRlIixiYXNpY0dyaWRDb2x1bW46IkVmZmVjdCBIaXQgUmF0ZSIsY29tYmF0R3JpZENvbHVtbjoieEVIUiJ9LFJFUzp7a2V5OiJSRVMiLGdwdVByb3BlcnR5OiJSRVMiLGJhc2ljUHJvcGVydHk6IkVmZmVjdCBSRVMiLGNvbWJhdFByb3BlcnR5OiJFZmZlY3QgUkVTIixiYXNpY0dyaWRDb2x1bW46IkVmZmVjdCBSRVMiLGNvbWJhdEdyaWRDb2x1bW46InhSRVMifSxCRTp7a2V5OiJCRSIsZ3B1UHJvcGVydHk6IkJFIixiYXNpY1Byb3BlcnR5OiJCcmVhayBFZmZlY3QiLGNvbWJhdFByb3BlcnR5OiJCcmVhayBFZmZlY3QiLGJhc2ljR3JpZENvbHVtbjoiQnJlYWsgRWZmZWN0Iixjb21iYXRHcmlkQ29sdW1uOiJ4QkUifSxPSEI6e2tleToiT0hCIixncHVQcm9wZXJ0eToiT0hCIixiYXNpY1Byb3BlcnR5OiJPdXRnb2luZyBIZWFsaW5nIEJvb3N0Iixjb21iYXRQcm9wZXJ0eToiT3V0Z29pbmcgSGVhbGluZyBCb29zdCIsYmFzaWNHcmlkQ29sdW1uOiJPdXRnb2luZyBIZWFsaW5nIEJvb3N0Iixjb21iYXRHcmlkQ29sdW1uOiJ4T0hCIn0sRVJSOntrZXk6IkVSUiIsZ3B1UHJvcGVydHk6IkVSUiIsYmFzaWNQcm9wZXJ0eToiRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIixjb21iYXRQcm9wZXJ0eToiRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIixiYXNpY0dyaWRDb2x1bW46IkVuZXJneSBSZWdlbmVyYXRpb24gUmF0ZSIsY29tYmF0R3JpZENvbHVtbjoieEVSUiJ9LEVMRU1FTlRBTF9ETUc6e2tleToiRUxFTUVOVEFMX0RNRyIsZ3B1UHJvcGVydHk6IkVMRU1FTlRBTF9ETUciLGJhc2ljUHJvcGVydHk6IkVMRU1FTlRBTF9ETUciLGNvbWJhdFByb3BlcnR5OiJFTEVNRU5UQUxfRE1HIixiYXNpY0dyaWRDb2x1bW46IkVEIixjb21iYXRHcmlkQ29sdW1uOiJ4RUxFTUVOVEFMX0RNRyIsaXNDb21wdXRlZFJhdGluZzohMH0sV0VJR0hUOntrZXk6IldFSUdIVCIsZ3B1UHJvcGVydHk6IldFSUdIVCIsYmFzaWNQcm9wZXJ0eToiV0VJR0hUIixjb21iYXRQcm9wZXJ0eToiV0VJR0hUIixiYXNpY0dyaWRDb2x1bW46IldFSUdIVCIsY29tYmF0R3JpZENvbHVtbjoiV0VJR0hUIixpc0NvbXB1dGVkUmF0aW5nOiEwfSxFSFA6e2tleToiRUhQIixncHVQcm9wZXJ0eToiRUhQIixiYXNpY1Byb3BlcnR5OiJFSFAiLGNvbWJhdFByb3BlcnR5OiJFSFAiLGJhc2ljR3JpZENvbHVtbjoiRUhQIixjb21iYXRHcmlkQ29sdW1uOiJFSFAiLGlzQ29tcHV0ZWRSYXRpbmc6ITB9LEJBU0lDOntrZXk6IkJBU0lDIixncHVQcm9wZXJ0eToiQkFTSUNfRE1HIixiYXNpY1Byb3BlcnR5OiJCQVNJQ19ETUciLGNvbWJhdFByb3BlcnR5OiJCQVNJQ19ETUciLGJhc2ljR3JpZENvbHVtbjoiQkFTSUMiLGNvbWJhdEdyaWRDb2x1bW46IkJBU0lDIixpc0NvbXB1dGVkUmF0aW5nOiEwfSxTS0lMTDp7a2V5OiJTS0lMTCIsZ3B1UHJvcGVydHk6IlNLSUxMX0RNRyIsYmFzaWNQcm9wZXJ0eToiU0tJTExfRE1HIixjb21iYXRQcm9wZXJ0eToiU0tJTExfRE1HIixiYXNpY0dyaWRDb2x1bW46IlNLSUxMIixjb21iYXRHcmlkQ29sdW1uOiJTS0lMTCIsaXNDb21wdXRlZFJhdGluZzohMH0sVUxUOntrZXk6IlVMVCIsZ3B1UHJvcGVydHk6IlVMVF9ETUciLGJhc2ljUHJvcGVydHk6IlVMVF9ETUciLGNvbWJhdFByb3BlcnR5OiJVTFRfRE1HIixiYXNpY0dyaWRDb2x1bW46IlVMVCIsY29tYmF0R3JpZENvbHVtbjoiVUxUIixpc0NvbXB1dGVkUmF0aW5nOiEwfSxGVUE6e2tleToiRlVBIixncHVQcm9wZXJ0eToiRlVBX0RNRyIsYmFzaWNQcm9wZXJ0eToiRlVBX0RNRyIsY29tYmF0UHJvcGVydHk6IkZVQV9ETUciLGJhc2ljR3JpZENvbHVtbjoiRlVBIixjb21iYXRHcmlkQ29sdW1uOiJGVUEiLGlzQ29tcHV0ZWRSYXRpbmc6ITB9LERPVDp7a2V5OiJET1QiLGdwdVByb3BlcnR5OiJET1RfRE1HIixiYXNpY1Byb3BlcnR5OiJET1RfRE1HIixjb21iYXRQcm9wZXJ0eToiRE9UX0RNRyIsYmFzaWNHcmlkQ29sdW1uOiJET1QiLGNvbWJhdEdyaWRDb2x1bW46IkRPVCIsaXNDb21wdXRlZFJhdGluZzohMH0sQlJFQUs6e2tleToiQlJFQUsiLGdwdVByb3BlcnR5OiJCUkVBS19ETUciLGJhc2ljUHJvcGVydHk6IkJSRUFLX0RNRyIsY29tYmF0UHJvcGVydHk6IkJSRUFLX0RNRyIsYmFzaWNHcmlkQ29sdW1uOiJCUkVBSyIsY29tYmF0R3JpZENvbHVtbjoiQlJFQUsiLGlzQ29tcHV0ZWRSYXRpbmc6ITB9LENPTUJPOntrZXk6IkNPTUJPIixncHVQcm9wZXJ0eToiQ09NQk9fRE1HIixiYXNpY1Byb3BlcnR5OiJDT01CT19ETUciLGNvbWJhdFByb3BlcnR5OiJDT01CT19ETUciLGJhc2ljR3JpZENvbHVtbjoiQ09NQk8iLGNvbWJhdEdyaWRDb2x1bW46IkNPTUJPIixpc0NvbXB1dGVkUmF0aW5nOiEwfX0sT3Q9T2JqZWN0LnZhbHVlcyhQdCkubGVuZ3RoLFNsPU9iamVjdC52YWx1ZXMoVXQpLmxlbmd0aDtzZWxmLm9ubWVzc2FnZT1mdW5jdGlvbihlKXtjb25zdCB0PWUuZGF0YSxuPXQucmVxdWVzdCxvPXQucGFyYW1zLGk9dC5yZWxpY3MsYT1uZXcgRmxvYXQ2NEFycmF5KHQuYnVmZmVyKSxzPWkuTGlua1JvcGUubGVuZ3RoLGw9aS5QbGFuYXJTcGhlcmUubGVuZ3RoLG09aS5GZWV0Lmxlbmd0aCxwPWkuQm9keS5sZW5ndGgsUz1pLkhhbmRzLmxlbmd0aCxCPWkuSGVhZC5sZW5ndGgsYz10LnJlbGljU2V0U29sdXRpb25zLGY9dC5vcm5hbWVudFNldFNvbHV0aW9ucyx1PW4uc3RhdERpc3BsYXk9PSJjb21iYXQiLEM9IXU7bGV0IGQ9MDtjb25zdHtmYWlsc0Jhc2ljRmlsdGVyOmcsZmFpbHNDb21iYXRGaWx0ZXI6aH09Z2wobix1KTtvLmNoYXJhY3RlckNvbmRpdGlvbmFscz12dC5nZXQobiksby5saWdodENvbmVDb25kaXRpb25hbHM9TnQuZ2V0KG4pLGZsKG4sbyksdWwobixvKTtjb25zdCBfPU1hdGgubWluKHQucGVybXV0YXRpb25zLHQuV0lEVEgpO2ZvcihsZXQgRT0wO0U8XztFKyspe2NvbnN0IFQ9dC5za2lwK0U7aWYoVD49dC5wZXJtdXRhdGlvbnMpYnJlYWs7ZGwobixvKTtjb25zdCBMPVQlcyxQPShULUwpL3MlbCwkPShULVAqcy1MKS8ocypsKSVtLER0PShULSQqbCpzLVAqcy1MKS8ocypsKm0pJXAsbXQ9KFQtRHQqbSpsKnMtJCpsKnMtUCpzLUwpLyhzKmwqbSpwKSVTLF90PShULW10KnAqbSpsKnMtRHQqbSpsKnMtJCpsKnMtUCpzLUwpLyhzKmwqbSpwKlMpJUIsTGU9aS5IZWFkW190XSxyZT1pLkhhbmRzW210XSxDdD1pLkJvZHlbRHRdLFN0PWkuRmVldFskXSxBdD1pLlBsYW5hclNwaGVyZVtQXSxWdD1pLkxpbmtSb3BlW0xdLFg9RXRbTGUuc2V0XSxydD1FdFtyZS5zZXRdLGd0PUV0W0N0LnNldF0senQ9RXRbU3Quc2V0XSxVbj0kdFtBdC5zZXRdLEZuPSR0W1Z0LnNldF0sSG49WCtndCpPdCtydCpPdCpPdCt6dCpPdCpPdCpPdCx4bj1VbitGbipTbDtpZihjW0huXSE9MXx8Zlt4bl0hPTEpY29udGludWU7Y29uc3QgSD17Li4ucmx9LEc9ey4uLm8ucHJlY29tcHV0ZWRYfTtILnJlbGljU2V0SW5kZXg9SG4sSC5vcm5hbWVudFNldEluZGV4PXhuLEgueD1HLGFsKEgsTGUscmUsQ3QsU3QsQXQsVnQpLGVsKEgsWCxydCxndCx6dCxVbixGbiksb2woSCxuLG8pLG5sKEgsbixvKSwhKEMmJihnKEgpfHxIW3IuU1BEXTxuLm1pblNwZHx8SFtyLlNQRF0+bi5tYXhTcGR8fEhbci5IUF08bi5taW5IcHx8SFtyLkhQXT5uLm1heEhwfHxIW3IuQVRLXTxuLm1pbkF0a3x8SFtyLkFUS10+bi5tYXhBdGt8fEhbci5ERUZdPG4ubWluRGVmfHxIW3IuREVGXT5uLm1heERlZnx8SFtyLkNSXTxuLm1pbkNyfHxIW3IuQ1JdPm4ubWF4Q3J8fEhbci5DRF08bi5taW5DZHx8SFtyLkNEXT5uLm1heENkfHxIW3IuRUhSXTxuLm1pbkVocnx8SFtyLkVIUl0+bi5tYXhFaHJ8fEhbci5SRVNdPG4ubWluUmVzfHxIW3IuUkVTXT5uLm1heFJlc3x8SFtyLkJFXTxuLm1pbkJlfHxIW3IuQkVdPm4ubWF4QmV8fEhbci5FUlJdPG4ubWluRXJyfHxIW3IuRVJSXT5uLm1heEVycil8fChpbChILG4sbyksbGwoRyxuLG8pLGNsKEcsbixvKSxoKEcpKXx8dSYmKEdbci5IUF08bi5taW5IcHx8R1tyLkhQXT5uLm1heEhwfHxHW3IuQVRLXTxuLm1pbkF0a3x8R1tyLkFUS10+bi5tYXhBdGt8fEdbci5ERUZdPG4ubWluRGVmfHxHW3IuREVGXT5uLm1heERlZnx8R1tyLlNQRF08bi5taW5TcGR8fEdbci5TUERdPm4ubWF4U3BkfHxHW3IuQ1JdPG4ubWluQ3J8fEdbci5DUl0+bi5tYXhDcnx8R1tyLkNEXTxuLm1pbkNkfHxHW3IuQ0RdPm4ubWF4Q2R8fEdbci5FSFJdPG4ubWluRWhyfHxHW3IuRUhSXT5uLm1heEVocnx8R1tyLlJFU108bi5taW5SZXN8fEdbci5SRVNdPm4ubWF4UmVzfHxHW3IuQkVdPG4ubWluQmV8fEdbci5CRV0+bi5tYXhCZXx8R1tyLkVSUl08bi5taW5FcnJ8fEdbci5FUlJdPm4ubWF4RXJyKXx8Ry5FSFA8bi5taW5FaHB8fEcuRUhQPm4ubWF4RWhwfHxHLldFSUdIVDxuLm1pbldlaWdodHx8Ry5XRUlHSFQ+bi5tYXhXZWlnaHR8fEcuQkFTSUNfRE1HPG4ubWluQmFzaWN8fEcuQkFTSUNfRE1HPm4ubWF4QmFzaWN8fEcuU0tJTExfRE1HPG4ubWluU2tpbGx8fEcuU0tJTExfRE1HPm4ubWF4U2tpbGx8fEcuVUxUX0RNRzxuLm1pblVsdHx8Ry5VTFRfRE1HPm4ubWF4VWx0fHxHLkZVQV9ETUc8bi5taW5GdWF8fEcuRlVBX0RNRz5uLm1heEZ1YXx8Ry5ET1RfRE1HPG4ubWluRG90fHxHLkRPVF9ETUc+bi5tYXhEb3R8fEcuQlJFQUtfRE1HPG4ubWluQnJlYWt8fEcuQlJFQUtfRE1HPm4ubWF4QnJlYWt8fEcuQ09NQk9fRE1HPG4ubWluQ29tYm98fEcuQ09NQk9fRE1HPm4ubWF4Q29tYm8pJiYoSC5pZD1ULGtlLnBhY2tDaGFyYWN0ZXIoYSxkLEgpLGQrKyl9c2VsZi5wb3N0TWVzc2FnZSh7cm93czpbXSxidWZmZXI6dC5idWZmZXJ9LFt0LmJ1ZmZlcl0pfTtmdW5jdGlvbiBnbChlLHQpe2NvbnN0IG49ZS5yZXN1bHRNaW5GaWx0ZXIsbz1DbFtlLnJlc3VsdFNvcnRdLGk9by5pc0NvbXB1dGVkUmF0aW5nO2lmKHR8fGkpe2NvbnN0IGE9by5jb21iYXRQcm9wZXJ0eTtyZXR1cm57ZmFpbHNCYXNpY0ZpbHRlcjooKT0+ITEsZmFpbHNDb21iYXRGaWx0ZXI6cz0+c1thXTxufX1lbHNle2NvbnN0IGE9by5iYXNpY1Byb3BlcnR5O3JldHVybntmYWlsc0Jhc2ljRmlsdGVyOnM9PnNbYV08bixmYWlsc0NvbWJhdEZpbHRlcjooKT0+ITF9fX19KSgpOwo=",xh=t=>Uint8Array.from(atob(t),e=>e.charCodeAt(0)),fo=typeof self<"u"&&self.Blob&&new Blob([xh(ac)],{type:"text/javascript;charset=utf-8"});function Lh(t){let e;try{if(e=fo&&(self.URL||self.webkitURL).createObjectURL(fo),!e)throw"";const i=new Worker(e,{name:t==null?void 0:t.name});return i.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(e)}),i}catch{return new Worker("data:text/javascript;base64,"+ac,{name:t==null?void 0:t.name})}finally{e&&(self.URL||self.webkitURL).revokeObjectURL(e)}}const Yi=Math.min(8,Math.max(1,(navigator.hardwareConcurrency||4)-1));let Oa=0;console.log("Using pool size "+Yi);const za=[],Vi=[];let Ca=[];const Wi={},gn={initializeWorker:()=>{if(Oa<Yi){const t=new Lh;za.push(t),Oa++,console.log("Initialized workers: "+Oa)}},initializeAllWorkers:()=>{for(let t=0;t<Yi;t++)setTimeout(()=>{gn.initializeWorker()},500*t)},nextTask:()=>{if(Ca.length==0)return;const{task:t,callback:e}=Ca.shift();gn.execute(t,e)},execute:(t,e,i)=>{if(Wi[i]==null&&(Wi[i]=!0),Wi[i]!=!1){if(t.attempts==null&&(t.attempts=0),t.attempts>10)return console.log("Too many failures, abandoning task");if(gn.initializeWorker(),za.length>0){const l=za.shift();let s;Vi.length>0?(s=Vi.pop(),mi.cleanFloatBuffer(s)):s=mi.createFloatBuffer(d.THREAD_BUFFER_LENGTH),t.input.buffer=s,l.onmessage=o=>{za.push(l),gn.nextTask(),e&&e(o.data),Vi.push(o.data.buffer)},l.onerror=o=>{console.warn("Worker error",o),Oa--,t.attempts++,Ca.push({task:t,callback:e}),l.terminate(),setTimeout(()=>{gn.initializeWorker(),gn.nextTask()},100)},t.input.request.resultMinFilter=t.getMinFilter(),l.postMessage(t.input,[t.input.buffer])}else Ca.push({task:t,callback:e})}},cancel:t=>{Wi[t]=!1,Ca=[]},state:()=>{console.log({poolSize:Yi,workers:za,taskQueue:Ca,buffers:Vi,initializedWorkers:Oa})}};function yh(t){const e=d.SetsRelicsNames.length,i=t.relicSets||[],l=[],s=[];for(const o of i){if(o[0]==De.relic4Piece){if(o.length==1)for(let c=0;c<e;c++){const r=x.arrayOfZeroes(e);r[c]=4,l.push(r.join());const u=Ae(r);s.push(u)}if(o.length==2){const c=d.RelicSetToIndex[o[1]],r=x.arrayOfZeroes(e);r[c]=4,l.push(r.join());const u=Ae(r);s.push(u)}}if(o[0]==De.relic2PlusAny){if(o.length==1)for(let c=0;c<e;c++){const r=x.arrayOfZeroes(e);r[c]=4,l.push(r.join());const u=Ae(r);s.push(u)}if(o.length==2){const c=d.RelicSetToIndex[o[1]];for(let h=0;h<e;h++){const S=x.arrayOfZeroes(e);S[c]=2,S[h]+=2,l.push(S.join());const m=Ae(S);s.push(m)}const r=x.arrayOfZeroes(e);r[c]=2,l.push(r.join());const u=Ae(r),R=Ii(u,e);s.push(...R)}}if(o[0]==De.relic2Plus2Piece||o[0]=="2 Piece"){if(o.length==1){for(let c=0;c<e;c++){const r=x.arrayOfZeroes(e);r[c]=2,l.push(r.join());const u=Ae(r),R=Ii(u,e);s.push(...R)}for(let c=0;c<e;c++)for(let r=0;r<e;r++){const u=x.arrayOfZeroes(e);u[c]+=2,u[r]+=2,l.push(u.join());const R=Ae(u);s.push(R)}}if(o.length==2){const c=d.RelicSetToIndex[o[1]];for(let h=0;h<e;h++){const S=x.arrayOfZeroes(e);S[c]=2,S[h]+=2,l.push(S.join());const m=Ae(S);s.push(m)}const r=x.arrayOfZeroes(e);r[c]=2,l.push(r.join());const u=Ae(r),R=Ii(u,e);s.push(...R)}if(o.length==3)if(o[2]=="Any"){const c=d.RelicSetToIndex[o[1]];for(let h=0;h<e;h++){const S=x.arrayOfZeroes(e);S[c]=2,S[h]+=2,l.push(S.join());const m=Ae(S);s.push(m)}const r=x.arrayOfZeroes(e);r[c]=2,l.push(r.join());const u=Ae(r),R=Ii(u,e);s.push(...R)}else{const c=x.arrayOfZeroes(e),r=d.RelicSetToIndex[o[1]],u=d.RelicSetToIndex[o[2]];c[r]+=2,c[u]+=2,l.push(c.join());const R=Ae(c);s.push(R)}}}return Fh(s)}function Mh(t){const e=t.ornamentSets||[],i=d.SetsOrnamentsNames.length;if(e.length==0)return x.arrayOfValue(i*i,1);const l=x.arrayOfZeroes(i*i);for(const s of e){const o=d.OrnamentSetToIndex[s],c=o+o*i;l[c]=1}return l}function Ae(t){const e=[];for(let i=0;i<t.length;i++)for(;t[i];)t[i]--,e.push(i);return e}function Ii(t,e){const i=[];for(let l=0;l<e;l++)for(let s=0;s<e;s++){const o=x.arrayOfZeroes(4);o[0]=t[0],o[1]=t[1],o[2]=l,o[3]=s,i.push(o)}return i}function Fh(t){const e=d.SetsRelicsNames.length;if(t.length==0)return x.arrayOfValue(Math.pow(e,4),1);const i=x.arrayOfZeroes(Math.pow(e,4));for(let l=0;l<t.length;l++){const s=t[l],o=Bh(s);for(const c of o){const r=c[0]+c[1]*Math.pow(e,1)+c[2]*Math.pow(e,2)+c[3]*Math.pow(e,3);i[r]=1}}return i}const Bh=t=>{const e=[],i=(l,s=[])=>{if(l.length===0)e.push(s);else for(let o=0;o<l.length;o++){const c=l.slice(),r=c.splice(o,1);i(c.slice(),s.concat(r))}};return i(t),e},{Text:Gl}=pt,Ph={IMPORT:{descriptionKey:"0Perms.RootCauses.IMPORT.Description",buttonTextKey:"0Perms.RootCauses.IMPORT.ButtonText",applyFix:()=>{window.store.getState().setActiveKey(mt.IMPORT),window.store.getState().setZeroPermutationsModalOpen(!1)},successMessageKey:"0Perms.RootCauses.IMPORT.SuccessMessage"},BODY_MAIN:Ei(Z.Body),FEET_MAIN:Ei(Z.Feet),PLANAR_SPHERE_MAIN:Ei(Z.PlanarSphere),LINK_ROPE_MAIN:Ei(Z.LinkRope),RELIC_SETS:{descriptionKey:"0Perms.RootCauses.RELIC_SETS.Description",buttonTextKey:"0Perms.RootCauses.RELIC_SETS.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue("relicSets",[])},successMessageKey:"0Perms.RootCauses.RELIC_SETS.SuccessMessage"},ORNAMENT_SETS:{descriptionKey:"0Perms.RootCauses.ORNAMENT_SETS.Description",buttonTextKey:"0Perms.RootCauses.ORNAMENT_SETS.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue("ornamentSets",[])},successMessageKey:"0Perms.RootCauses.ORNAMENT_SETS.SuccessMessage"},KEEP_CURRENT:{descriptionKey:"0Perms.RootCauses.KEEP_CURRENT.Description",buttonTextKey:"0Perms.RootCauses.KEEP_CURRENT.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue("keepCurrentRelics",!1)},successMessageKey:"0Perms.RootCauses.KEEP_CURRENT.SuccessMessage"},PRIORITY:{descriptionKey:"0Perms.RootCauses.PRIORITY.Description",buttonTextKey:"0Perms.RootCauses.PRIORITY.ButtonText",applyFix:()=>{y.insertCharacter(window.store.getState().optimizerTabFocusCharacter,0),y.refreshCharacters()},successMessageKey:"0Perms.RootCauses.PRIORITY.SuccessMessage"},EXCLUDE_ENABLED:{descriptionKey:"0Perms.RootCauses.EXCLUDE_ENABLED.Description",buttonTextKey:"0Perms.RootCauses.EXCLUDE_ENABLED.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue("exclude",[])},successMessageKey:"0Perms.RootCauses.EXCLUDE_ENABLED.SuccessMessage"},EQUIPPED_DISABLED:{descriptionKey:"0Perms.RootCauses.EQUIPPED_DISABLED.Description",buttonTextKey:"0Perms.RootCauses.EQUIPPED_DISABLED.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue("includeEquippedRelics",!0)},successMessageKey:"0Perms.RootCauses.EQUIPPED_DISABLED.SuccessMessage"},MINIMUM_ROLLS:{descriptionKey:"0Perms.RootCauses.MINIMUM_ROLLS.Description",buttonTextKey:"0Perms.RootCauses.MINIMUM_ROLLS.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue(["weights","headHands"],0),window.optimizerForm.setFieldValue(["weights","bodyFeet"],0),window.optimizerForm.setFieldValue(["weights","sphereRope"],0)},successMessageKey:"0Perms.RootCauses.MINIMUM_ROLLS.SuccessMessage"}};function Ei(t){return{descriptionKey:`0Perms.RootCauses.${t}_MAIN.Description`,buttonTextKey:`0Perms.RootCauses.${t}_MAIN.ButtonText`,applyFix:()=>{window.optimizerForm.setFieldValue(`main${t}`,[])},successMessageKey:`0Perms.RootCauses.${t}_MAIN.SuccessMessage`}}let lt=[];function kh(t){lt=[];const[e,i]=Na.getFilteredRelics(t);if(y.getRelics().length==0){lt.push("IMPORT"),window.store.getState().setZeroPermutationsModalOpen(!0);return}e.Body.length==0&&t.mainBody.length>0&&i.Body.length>0&&lt.push("BODY_MAIN"),e.Feet.length==0&&t.mainFeet.length>0&&i.Feet.length>0&&lt.push("FEET_MAIN"),e.PlanarSphere.length==0&&t.mainPlanarSphere.length>0&&i.PlanarSphere.length>0&&lt.push("PLANAR_SPHERE_MAIN"),e.LinkRope.length==0&&t.mainLinkRope.length>0&&i.LinkRope.length>0&&lt.push("LINK_ROPE_MAIN"),(e.PlanarSphere.length==0||e.LinkRope.length==0)&&t.ornamentSets.length>0&&lt.push("ORNAMENT_SETS"),(e.Head.length==0||e.Hands.length==0||e.Body.length==0||e.Feet.length==0)&&t.relicSets.length>0&&lt.push("RELIC_SETS"),t.keepCurrentRelics&&lt.push("KEEP_CURRENT"),t.rank!=0&&lt.push("PRIORITY"),t.exclude.length>0&&lt.push("EXCLUDE_ENABLED"),t.includeEquippedRelics||lt.push("EQUIPPED_DISABLED"),(t.weights.headHands>0||t.weights.bodyFeet>0||t.weights.sphereRope>0)&&lt.push("MINIMUM_ROLLS"),lt.length==0&&lt.push("IMPORT"),window.store.getState().setZeroPermutationsModalOpen(!0)}function ic(t,e){const i=Ph[t]||sc[t];return a.jsxs(f,{justify:"space-between",align:"center",style:{height:45},children:[a.jsx(Gl,{style:{width:550},children:e(i.descriptionKey)}),a.jsx(w,{onClick:()=>{i.applyFix(),window.onOptimizerFormValuesChange({},tt.getForm()),Q.success(e(i.successMessageKey),2)},style:{width:250},type:"primary",children:e(i.buttonTextKey)})]},x.randomId())}function Nh(){const{t}=et("modals"),e=window.store(s=>s.zeroPermutationModalOpen),i=window.store(s=>s.setZeroPermutationsModalOpen),l=[];for(const s of lt)l.push(ic(s,t));return a.jsx(Ve,{title:t("0Perms.Title"),open:e,width:900,destroyOnClose:!0,centered:!0,onOk:()=>i(!1),onCancel:()=>i(!1),footer:null,children:a.jsxs(f,{vertical:!0,gap:15,style:{marginBottom:15},children:[a.jsx(Gl,{children:t("0Perms.Description")}),a.jsx(D0,{}),l]})})}const sc={MAX_HP:Dt("MAX_HP"),MIN_HP:Dt("MIN_HP"),MAX_ATK:Dt("MAX_ATK"),MIN_ATK:Dt("MIN_ATK"),MAX_DEF:Dt("MAX_DEF"),MIN_DEF:Dt("MIN_DEF"),MAX_SPD:Dt("MAX_SPD"),MIN_SPD:Dt("MIN_SPD"),MAX_CR:Dt("MAX_CR"),MIN_CR:Dt("MIN_CR"),MAX_CD:Dt("MAX_CD"),MIN_CD:Dt("MIN_CD"),MAX_EHR:Dt("MAX_EHR"),MIN_EHR:Dt("MIN_EHR"),MAX_RES:Dt("MAX_RES"),MIN_RES:Dt("MIN_RES"),MAX_BE:Dt("MAX_BE"),MIN_BE:Dt("MIN_BE"),MAX_ERR:Dt("MAX_ERR"),MIN_ERR:Dt("MIN_ERR"),MAX_WEIGHT:Dt("MAX_WEIGHT"),MIN_WEIGHT:Dt("MIN_WEIGHT"),MAX_EHP:Dt("MAX_EHP"),MIN_EHP:Dt("MIN_EHP"),MAX_BASIC:Dt("MAX_BASIC"),MIN_BASIC:Dt("MIN_BASIC"),MAX_SKILL:Dt("MAX_SKILL"),MIN_SKILL:Dt("MIN_SKILL"),MAX_ULT:Dt("MAX_ULT"),MIN_ULT:Dt("MIN_ULT"),MAX_FUA:Dt("MAX_FUA"),MIN_FUA:Dt("MIN_FUA"),MAX_DOT:Dt("MAX_DOT"),MIN_DOT:Dt("MIN_DOT"),MAX_BREAK:Dt("MAX_BREAK"),MIN_BREAK:Dt("MIN_BREAK"),MAX_COMBO:Dt("MAX_COMBO"),MIN_COMBO:Dt("MIN_COMBO"),STAT_VIEW:{descriptionKey:"0Results.RootCauses.StatView.Description",buttonTextKey:"0Results.RootCauses.StatView.ButtonText",applyFix:()=>{const t=window.store.getState().setStatDisplay;t("combat")},successMessageKey:"0Results.RootCauses.StatView.SuccessMessage"}};function Dt(t){const e=t.split("_"),i=e[0].toLowerCase()+e[1][0]+e[1].slice(1).toLowerCase();return{descriptionKey:`0Results.RootCauses.${t}.Description`,buttonTextKey:`0Results.RootCauses.${t}.ButtonText`,applyFix:()=>{window.optimizerForm.setFieldValue(i,void 0)},successMessageKey:`0Results.RootCauses.${t}.SuccessMessage`}}function Uh(t){lt=[],window.store.getState().statDisplay=="base"&&lt.push("STAT_VIEW"),t.minHp&&lt.push("MIN_HP"),t.maxHp<2147483647&&lt.push("MAX_HP"),t.minAtk&&lt.push("MIN_ATK"),t.maxAtk<2147483647&&lt.push("MAX_ATK"),t.minDef&&lt.push("MIN_DEF"),t.maxDef<2147483647&&lt.push("MAX_DEF"),t.minSpd&&lt.push("MIN_SPD"),t.maxSpd<2147483647&&lt.push("MAX_SPD"),t.minCr&&lt.push("MIN_CR"),t.maxCr<2147483647&&lt.push("MAX_CR"),t.minCd&&lt.push("MIN_CD"),t.maxCd<2147483647&&lt.push("MAX_CD"),t.minEhr&&lt.push("MIN_EHR"),t.maxEhr<2147483647&&lt.push("MAX_EHR"),t.minRes&&lt.push("MIN_RES"),t.maxRes<2147483647&&lt.push("MAX_RES"),t.minBe&&lt.push("MIN_BE"),t.maxBe<2147483647&&lt.push("MAX_BE"),t.minErr&&lt.push("MIN_ERR"),t.maxErr<2147483647&&lt.push("MAX_ERR"),t.minWeight&&lt.push("MIN_WEIGHT"),t.maxWeight<2147483647&&lt.push("MAX_WEIGHT"),t.minEhp&&lt.push("MIN_EHP"),t.maxEhp<2147483647&&lt.push("MAX_EHP"),t.minBasic&&lt.push("MIN_BASIC"),t.maxBasic<2147483647&&lt.push("MAX_BASIC"),t.minSkill&&lt.push("MIN_SKILL"),t.maxSkill<2147483647&&lt.push("MAX_SKILL"),t.minUlt&&lt.push("MIN_ULT"),t.maxUlt<2147483647&&lt.push("MAX_ULT"),t.minFua&&lt.push("MIN_FUA"),t.maxFua<2147483647&&lt.push("MAX_FUA"),t.minDot&&lt.push("MIN_DOT"),t.maxDot<2147483647&&lt.push("MAX_DOT"),t.minBreak&&lt.push("MIN_BREAK"),t.maxBreak<2147483647&&lt.push("MAX_BREAK"),t.minCombo&&lt.push("MIN_COMBO"),t.maxCombo<2147483647&&lt.push("MAX_COMBO"),window.store.getState().setZeroResultModalOpen(!0)}function Hh(){const t=window.store(s=>s.zeroResultModalOpen),e=window.store(s=>s.setZeroResultModalOpen),{t:i}=et("modals"),l=[];for(const s of lt)l.push(ic(s,i));return a.jsx(Ve,{title:i("0Results.Title"),open:t,width:900,destroyOnClose:!0,centered:!0,onOk:()=>e(!1),onCancel:()=>e(!1),footer:null,children:a.jsxs(f,{vertical:!0,gap:15,style:{marginBottom:15},children:[a.jsxs(f,{justify:"space-between",align:"center",style:{height:45},children:[a.jsx(Gl,{children:i("0Results.ResetAll.Description")}),a.jsx(w,{onClick:()=>{for(const o of lt)o!="STAT_VIEW"&&sc[o].applyFix();const s=window.store.getState().setStatDisplay;s("combat"),Q.success(i("0Results.ResetAll.SuccessMessage")),e(!1)},style:{width:250},type:"primary",children:i("0Results.ResetAll.ButtonText")})]}),a.jsx(D0,{}),l]})})}class lc extends mr{constructor(i,l){super([],l,!1);Sa(this,"limit");Sa(this,"compare");this.limit=i,this.compare=l}fixedSizePush(i){this.size()>=this.limit?this.compare(i,this.top())>=0&&(this.pop(),this.push(i)):this.push(i)}fixedSizePushOvercapped(i){return this.push(i),this.pop()}}const Xh=`struct Relic {
  HP_P: f32,
  ATK_P: f32,
  DEF_P: f32,
  SPD_P: f32,
  HP: f32,
  ATK: f32,
  DEF: f32,
  SPD: f32,
  CR: f32,
  CD: f32,
  EHR: f32,
  RES: f32,
  BE: f32,
  ERR: f32,
  OHB: f32,
  Physical_DMG: f32,
  Fire_DMG: f32,
  Ice_DMG: f32,
  Lightning_DMG: f32,
  Wind_DMG: f32,
  Quantum_DMG: f32,
  Imaginary_DMG: f32,
  relicSet: f32,
  weightScore: f32, // 23
}

struct BasicStats {
  HP_P: f32,
  ATK_P: f32,
  DEF_P: f32,
  SPD_P: f32,
  HP: f32,
  ATK: f32,
  DEF: f32,
  SPD: f32,
  CR: f32,
  CD: f32,
  EHR: f32,
  RES: f32,
  BE: f32,
  ERR: f32,
  OHB: f32,
  Physical_DMG: f32,
  Fire_DMG: f32,
  Ice_DMG: f32,
  Lightning_DMG: f32,
  Wind_DMG: f32,
  Quantum_DMG: f32,
  Imaginary_DMG: f32,
  weightScore: f32,
}

struct Sets {
  PasserbyOfWanderingCloud: i32,
  MusketeerOfWildWheat: i32,
  KnightOfPurityPalace: i32,
  HunterOfGlacialForest: i32,
  ChampionOfStreetwiseBoxing: i32,
  GuardOfWutheringSnow: i32,
  FiresmithOfLavaForging: i32,
  GeniusOfBrilliantStars: i32,
  BandOfSizzlingThunder: i32,
  EagleOfTwilightLine: i32,
  ThiefOfShootingMeteor: i32,
  WastelanderOfBanditryDesert: i32,
  LongevousDisciple: i32,
  MessengerTraversingHackerspace: i32,
  TheAshblazingGrandDuke: i32,
  PrisonerInDeepConfinement: i32,
  PioneerDiverOfDeadWaters: i32,
  WatchmakerMasterOfDreamMachinations: i32,
  IronCavalryAgainstTheScourge: i32,
  TheWindSoaringValorous: i32,
  SacerdosRelivedOrdeal: i32,
  ScholarLostInErudition: i32,
  SpaceSealingStation: i32,
  FleetOfTheAgeless: i32,
  PanCosmicCommercialEnterprise: i32,
  BelobogOfTheArchitects: i32,
  CelestialDifferentiator: i32,
  InertSalsotto: i32,
  TaliaKingdomOfBanditry: i32,
  SprightlyVonwacq: i32,
  RutilantArena: i32,
  BrokenKeel: i32,
  FirmamentFrontlineGlamoth: i32,
  PenaconyLandOfTheDreams: i32,
  SigoniaTheUnclaimedDesolation: i32,
  IzumoGenseiAndTakamaDivineRealm: i32,
  DuranDynastyOfRunningWolves: i32,
  ForgeOfTheKalpagniLantern: i32,
  LushakaTheSunkenSeas: i32,
  TheWondrousBananAmusementPark: i32,
}

struct Params {
  lSize: f32,
  pSize: f32,
  fSize: f32,
  bSize: f32,
  gSize: f32,
  hSize: f32,

  xl: f32,
  xp: f32,
  xf: f32,
  xb: f32,
  xg: f32,
  xh: f32,

  threshold: f32,

  relicSetCount: f32,
  ornamentSetCount: f32,

  characterHP_P: f32,
  characterATK_P: f32,
  characterDEF_P: f32,
  characterSPD_P: f32,
  characterHP: f32,
  characterATK: f32,
  characterDEF: f32,
  characterSPD: f32,
  characterCR: f32,
  characterCD: f32,
  characterEHR: f32,
  characterRES: f32,
  characterBE: f32,
  characterERR: f32,
  characterOHB: f32,
  characterPhysical_DMG: f32,
  characterFire_DMG: f32,
  characterIce_DMG: f32,
  characterLightning_DMG: f32,
  characterWind_DMG: f32,
  characterQuantum_DMG: f32,
  characterImaginary_DMG: f32,

  lcHP_P: f32,
  lcATK_P: f32,
  lcDEF_P: f32,
  lcSPD_P: f32,
  lcHP: f32,
  lcATK: f32,
  lcDEF: f32,
  lcSPD: f32,
  lcCR: f32,
  lcCD: f32,
  lcEHR: f32,
  lcRES: f32,
  lcBE: f32,
  lcERR: f32,
  lcOHB: f32,
  lcPhysical_DMG: f32,
  lcFire_DMG: f32,
  lcIce_DMG: f32,
  lcLightning_DMG: f32,
  lcWind_DMG: f32,
  lcQuantum_DMG: f32,
  lcImaginary_DMG: f32,

  traceHP_P: f32,
  traceATK_P: f32,
  traceDEF_P: f32,
  traceSPD_P: f32,
  traceHP: f32,
  traceATK: f32,
  traceDEF: f32,
  traceSPD: f32,
  traceCR: f32,
  traceCD: f32,
  traceEHR: f32,
  traceRES: f32,
  traceBE: f32,
  traceERR: f32,
  traceOHB: f32,
  tracePhysical_DMG: f32,
  traceFire_DMG: f32,
  traceIce_DMG: f32,
  traceLightning_DMG: f32,
  traceWind_DMG: f32,
  traceQuantum_DMG: f32,
  traceImaginary_DMG: f32,
}`,Yh=`// Don't change this without updating the variable order mapping

struct ComputedStats {
  HP_P: f32,
  ATK_P: f32,
  DEF_P: f32,
  SPD_P: f32,
  HP: f32,
  ATK: f32,
  DEF: f32,
  SPD: f32,
  CR: f32,
  CD: f32,
  EHR: f32,
  RES: f32,
  BE: f32,
  ERR: f32,
  OHB: f32,

  Physical_DMG: f32,
  Fire_DMG: f32,
  Ice_DMG: f32,
  Lightning_DMG: f32,
  Wind_DMG: f32,
  Quantum_DMG: f32,
  Imaginary_DMG: f32,

  ELEMENTAL_DMG: f32,

  BASIC_SCALING: f32,
  SKILL_SCALING: f32,
  ULT_SCALING: f32,
  FUA_SCALING: f32,
  DOT_SCALING: f32,

  BASIC_CR_BOOST: f32,
  SKILL_CR_BOOST: f32,
  ULT_CR_BOOST: f32,
  FUA_CR_BOOST: f32,

  BASIC_CD_BOOST: f32,
  SKILL_CD_BOOST: f32,
  ULT_CD_BOOST: f32,
  FUA_CD_BOOST: f32,

  BASIC_BOOST: f32,
  SKILL_BOOST: f32,
  ULT_BOOST: f32,
  FUA_BOOST: f32,
  DOT_BOOST: f32,

  VULNERABILITY: f32,
  BASIC_VULNERABILITY: f32,
  SKILL_VULNERABILITY: f32,
  ULT_VULNERABILITY: f32,
  FUA_VULNERABILITY: f32,
  DOT_VULNERABILITY: f32,
  BREAK_VULNERABILITY: f32, // 47

  DEF_PEN: f32,
  BASIC_DEF_PEN: f32,
  SKILL_DEF_PEN: f32,
  ULT_DEF_PEN: f32,
  FUA_DEF_PEN: f32,
  DOT_DEF_PEN: f32,
  BREAK_DEF_PEN: f32,
  SUPER_BREAK_DEF_PEN: f32, // 55

  RES_PEN: f32,
  PHYSICAL_RES_PEN: f32,
  FIRE_RES_PEN: f32,
  ICE_RES_PEN: f32,
  LIGHTNING_RES_PEN: f32,
  WIND_RES_PEN: f32,
  QUANTUM_RES_PEN: f32,
  IMAGINARY_RES_PEN: f32, // 63

  BASIC_RES_PEN: f32,
  SKILL_RES_PEN: f32,
  ULT_RES_PEN: f32,
  FUA_RES_PEN: f32,
  DOT_RES_PEN: f32, // 68

  BASIC_DMG: f32,
  SKILL_DMG: f32,
  ULT_DMG: f32,
  FUA_DMG: f32,
  DOT_DMG: f32,
  BREAK_DMG: f32,
  COMBO_DMG: f32, // 75

  DMG_RED_MULTI: f32,
  EHP: f32,

  DOT_CHANCE: f32,
  EFFECT_RES_PEN: f32,

  DOT_SPLIT: f32,
  DOT_STACKS: f32,

  ENEMY_WEAKNESS_BROKEN: f32,

  SUPER_BREAK_MODIFIER: f32,
  BASIC_SUPER_BREAK_MODIFIER: f32,
  SUPER_BREAK_HMC_MODIFIER: f32,
  BASIC_TOUGHNESS_DMG: f32,
  SKILL_TOUGHNESS_DMG: f32,
  ULT_TOUGHNESS_DMG: f32,
  FUA_TOUGHNESS_DMG: f32,

  BASIC_ORIGINAL_DMG_BOOST: f32,
  SKILL_ORIGINAL_DMG_BOOST: f32,
  ULT_ORIGINAL_DMG_BOOST: f32,

  BASIC_BREAK_DMG_MODIFIER: f32,

  ULT_CD_OVERRIDE: f32,
  ULT_BOOSTS_MULTI: f32,

  RATIO_BASED_HP_BUFF: f32,
  RATIO_BASED_HP_P_BUFF: f32,
  RATIO_BASED_ATK_BUFF: f32,
  RATIO_BASED_ATK_P_BUFF: f32,
  RATIO_BASED_DEF_BUFF: f32,
  RATIO_BASED_DEF_P_BUFF: f32,
  RATIO_BASED_SPD_BUFF: f32,
  RATIO_BASED_CD_BUFF: f32,

  BREAK_EFFICIENCY_BOOST: f32,
  BASIC_BREAK_EFFICIENCY_BOOST: f32,
  ULT_BREAK_EFFICIENCY_BOOST: f32,

  BASIC_DMG_TYPE: f32,
  SKILL_DMG_TYPE: f32,
  ULT_DMG_TYPE: f32,
  FUA_DMG_TYPE: f32,
  DOT_DMG_TYPE: f32,
  BREAK_DMG_TYPE: f32,
  SUPER_BREAK_DMG_TYPE: f32,

  WEIGHT: f32,

  sets: Sets,
}
`,Kh=`// START GPU PARAMS
// â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
/* INJECT GPU PARAMS */
// â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²
// END GPU PARAMS


const BASIC_TYPE = 1;
const SKILL_TYPE = 2;
const ULT_TYPE = 4;
const FUA_TYPE = 8;
const DOT_TYPE = 16;
const BREAK_TYPE = 32;
const SUPER_BREAK_TYPE = 64;

@group(0) @binding(0) var<storage> params : Params;

@group(1) @binding(0) var<storage> relics : array<Relic>;
@group(1) @binding(1) var<storage> ornamentSetSolutionsMatrix : array<i32>;
@group(1) @binding(2) var<storage> relicSetSolutionsMatrix : array<i32>;


// START RESULTS BUFFER
// â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
/* INJECT RESULTS BUFFER */
// â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²
// END RESULTS BUFFER


@compute @workgroup_size(WORKGROUP_SIZE)
fn main(
  @builtin(workgroup_id) workgroup_id : vec3<u32>,
  @builtin(local_invocation_id) local_invocation_id : vec3<u32>,
  @builtin(global_invocation_id) global_invocation_id : vec3<u32>,
  @builtin(local_invocation_index) local_invocation_index: u32,
  @builtin(num_workgroups) num_workgroups: vec3<u32>
) {
  let workgroup_index =
    workgroup_id.x +
    workgroup_id.y * num_workgroups.x +
    workgroup_id.z * num_workgroups.x * num_workgroups.y;
  let indexGlobal = i32(workgroup_index * WORKGROUP_SIZE + local_invocation_index);

  // Load params
  let lSize = i32(params.lSize);
  let pSize = i32(params.pSize);
  let fSize = i32(params.fSize);
  let bSize = i32(params.bSize);
  let gSize = i32(params.gSize);
  let hSize = i32(params.hSize);
  let xl = i32(params.xl);
  let xp = i32(params.xp);
  let xf = i32(params.xf);
  let xb = i32(params.xb);
  let xg = i32(params.xg);
  let xh = i32(params.xh);
  let threshold = f32(params.threshold);
  let relicSetCount = u32(params.relicSetCount);
  let ornamentSetCount = u32(params.ornamentSetCount);

  let epsilon = 0.000001f;

  var failures: f32 = 1;

  for (var i = 0; i < CYCLES_PER_INVOCATION; i++) {
    // Calculate global_invocation_index

    let index = indexGlobal * CYCLES_PER_INVOCATION + i;

    // Calculate relic index per slot

    let l = (index % lSize);
    let p = (((index - l) / lSize) % pSize);
    let f = (((index - p * lSize - l) / (lSize * pSize)) % fSize);
    let b = (((index - f * pSize * lSize - p * lSize - l) / (lSize * pSize * fSize)) % bSize);
    let g = (((index - b * fSize * pSize * lSize - f * pSize * lSize - p * lSize - l) / (lSize * pSize * fSize * bSize)) % gSize);
    let h = (((index - g * bSize * fSize * pSize * lSize - b * fSize * pSize * lSize - f * pSize * lSize - p * lSize - l) / (lSize * pSize * fSize * bSize * gSize)) % hSize);

    let finalL = (l + xl) % lSize;
    let carryL = ((l + xl) / lSize);
    let finalP = (p + xp + carryL) % pSize;
    let carryP = ((p + xp + carryL) / pSize);
    let finalF = (f + xf + carryP) % fSize;
    let carryF = ((f + xf + carryP) / fSize);
    let finalB = (b + xb + carryF) % bSize;
    let carryB = ((b + xb + carryF) / bSize);
    let finalG = (g + xg + carryB) % gSize;
    let carryG = ((g + xg + carryB) / gSize);
    let finalH = (h + xh + carryG) % hSize;

    // Calculate Relic structs

    let head  : Relic = (relics[finalH]);
    let hands : Relic = (relics[finalG + hSize]);
    let body  : Relic = (relics[finalB + hSize + gSize]);
    let feet  : Relic = (relics[finalF + hSize + gSize + bSize]);
    let planarSphere : Relic = (relics[finalP + hSize + gSize + bSize + fSize]);
    let linkRope     : Relic = (relics[finalL + hSize + gSize + bSize + fSize + pSize]);

    // Convert set ID

    let setH: u32 = u32(head.relicSet);
    let setG: u32 = u32(hands.relicSet);
    let setB: u32 = u32(body.relicSet);
    let setF: u32 = u32(feet.relicSet);
    let setP: u32 = u32(planarSphere.relicSet);
    let setL: u32 = u32(linkRope.relicSet);

    // Get the index for set permutation lookup

    let relicSetIndex: u32 = setH + setB * relicSetCount + setG * relicSetCount * relicSetCount + setF * relicSetCount * relicSetCount * relicSetCount;
    let ornamentSetIndex: u32 = setP + setL * ornamentSetCount;



    // START SET FILTERS
    // â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
    /* INJECT SET FILTERS */
    // â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²
    // END SET FILTERS



    // START COMPUTED STATS
    // â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
    /* INJECT COMPUTED STATS */
    // â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²
    // END COMPUTED STATS



    // Calculate relic set counts

    x.sets.PasserbyOfWanderingCloud            = i32((1 >> (setH ^ 0)) + (1 >> (setG ^ 0)) + (1 >> (setB ^ 0)) + (1 >> (setF ^ 0)));
    x.sets.MusketeerOfWildWheat                = i32((1 >> (setH ^ 1)) + (1 >> (setG ^ 1)) + (1 >> (setB ^ 1)) + (1 >> (setF ^ 1)));
    x.sets.KnightOfPurityPalace                = i32((1 >> (setH ^ 2)) + (1 >> (setG ^ 2)) + (1 >> (setB ^ 2)) + (1 >> (setF ^ 2)));
    x.sets.HunterOfGlacialForest               = i32((1 >> (setH ^ 3)) + (1 >> (setG ^ 3)) + (1 >> (setB ^ 3)) + (1 >> (setF ^ 3)));
    x.sets.ChampionOfStreetwiseBoxing          = i32((1 >> (setH ^ 4)) + (1 >> (setG ^ 4)) + (1 >> (setB ^ 4)) + (1 >> (setF ^ 4)));
    x.sets.GuardOfWutheringSnow                = i32((1 >> (setH ^ 5)) + (1 >> (setG ^ 5)) + (1 >> (setB ^ 5)) + (1 >> (setF ^ 5)));
    x.sets.FiresmithOfLavaForging              = i32((1 >> (setH ^ 6)) + (1 >> (setG ^ 6)) + (1 >> (setB ^ 6)) + (1 >> (setF ^ 6)));
    x.sets.GeniusOfBrilliantStars              = i32((1 >> (setH ^ 7)) + (1 >> (setG ^ 7)) + (1 >> (setB ^ 7)) + (1 >> (setF ^ 7)));
    x.sets.BandOfSizzlingThunder               = i32((1 >> (setH ^ 8)) + (1 >> (setG ^ 8)) + (1 >> (setB ^ 8)) + (1 >> (setF ^ 8)));
    x.sets.EagleOfTwilightLine                 = i32((1 >> (setH ^ 9)) + (1 >> (setG ^ 9)) + (1 >> (setB ^ 9)) + (1 >> (setF ^ 9)));
    x.sets.ThiefOfShootingMeteor               = i32((1 >> (setH ^ 10)) + (1 >> (setG ^ 10)) + (1 >> (setB ^ 10)) + (1 >> (setF ^ 10)));
    x.sets.WastelanderOfBanditryDesert         = i32((1 >> (setH ^ 11)) + (1 >> (setG ^ 11)) + (1 >> (setB ^ 11)) + (1 >> (setF ^ 11)));
    x.sets.LongevousDisciple                   = i32((1 >> (setH ^ 12)) + (1 >> (setG ^ 12)) + (1 >> (setB ^ 12)) + (1 >> (setF ^ 12)));
    x.sets.MessengerTraversingHackerspace      = i32((1 >> (setH ^ 13)) + (1 >> (setG ^ 13)) + (1 >> (setB ^ 13)) + (1 >> (setF ^ 13)));
    x.sets.TheAshblazingGrandDuke              = i32((1 >> (setH ^ 14)) + (1 >> (setG ^ 14)) + (1 >> (setB ^ 14)) + (1 >> (setF ^ 14)));
    x.sets.PrisonerInDeepConfinement           = i32((1 >> (setH ^ 15)) + (1 >> (setG ^ 15)) + (1 >> (setB ^ 15)) + (1 >> (setF ^ 15)));
    x.sets.PioneerDiverOfDeadWaters            = i32((1 >> (setH ^ 16)) + (1 >> (setG ^ 16)) + (1 >> (setB ^ 16)) + (1 >> (setF ^ 16)));
    x.sets.WatchmakerMasterOfDreamMachinations = i32((1 >> (setH ^ 17)) + (1 >> (setG ^ 17)) + (1 >> (setB ^ 17)) + (1 >> (setF ^ 17)));
    x.sets.IronCavalryAgainstTheScourge        = i32((1 >> (setH ^ 18)) + (1 >> (setG ^ 18)) + (1 >> (setB ^ 18)) + (1 >> (setF ^ 18)));
    x.sets.TheWindSoaringValorous              = i32((1 >> (setH ^ 19)) + (1 >> (setG ^ 19)) + (1 >> (setB ^ 19)) + (1 >> (setF ^ 19)));
    x.sets.SacerdosRelivedOrdeal               = i32((1 >> (setH ^ 20)) + (1 >> (setG ^ 20)) + (1 >> (setB ^ 20)) + (1 >> (setF ^ 20)));
    x.sets.ScholarLostInErudition              = i32((1 >> (setH ^ 21)) + (1 >> (setG ^ 21)) + (1 >> (setB ^ 21)) + (1 >> (setF ^ 21)));

    // Calculate ornament set counts

    x.sets.SpaceSealingStation             = i32((1 >> (setP ^ 0)) + (1 >> (setL ^ 0)));
    x.sets.FleetOfTheAgeless               = i32((1 >> (setP ^ 1)) + (1 >> (setL ^ 1)));
    x.sets.PanCosmicCommercialEnterprise   = i32((1 >> (setP ^ 2)) + (1 >> (setL ^ 2)));
    x.sets.BelobogOfTheArchitects          = i32((1 >> (setP ^ 3)) + (1 >> (setL ^ 3)));
    x.sets.CelestialDifferentiator         = i32((1 >> (setP ^ 4)) + (1 >> (setL ^ 4)));
    x.sets.InertSalsotto                   = i32((1 >> (setP ^ 5)) + (1 >> (setL ^ 5)));
    x.sets.TaliaKingdomOfBanditry          = i32((1 >> (setP ^ 6)) + (1 >> (setL ^ 6)));
    x.sets.SprightlyVonwacq                = i32((1 >> (setP ^ 7)) + (1 >> (setL ^ 7)));
    x.sets.RutilantArena                   = i32((1 >> (setP ^ 8)) + (1 >> (setL ^ 8)));
    x.sets.BrokenKeel                      = i32((1 >> (setP ^ 9)) + (1 >> (setL ^ 9)));
    x.sets.FirmamentFrontlineGlamoth       = i32((1 >> (setP ^ 10)) + (1 >> (setL ^ 10)));
    x.sets.PenaconyLandOfTheDreams         = i32((1 >> (setP ^ 11)) + (1 >> (setL ^ 11)));
    x.sets.SigoniaTheUnclaimedDesolation   = i32((1 >> (setP ^ 12)) + (1 >> (setL ^ 12)));
    x.sets.IzumoGenseiAndTakamaDivineRealm = i32((1 >> (setP ^ 13)) + (1 >> (setL ^ 13)));
    x.sets.DuranDynastyOfRunningWolves     = i32((1 >> (setP ^ 14)) + (1 >> (setL ^ 14)));
    x.sets.ForgeOfTheKalpagniLantern       = i32((1 >> (setP ^ 15)) + (1 >> (setL ^ 15)));
    x.sets.LushakaTheSunkenSeas            = i32((1 >> (setP ^ 16)) + (1 >> (setL ^ 16)));
    x.sets.TheWondrousBananAmusementPark   = i32((1 >> (setP ^ 17)) + (1 >> (setL ^ 17)));

    var c: BasicStats = BasicStats();
    var state: ConditionalState = ConditionalState();

    // Calculate relic stat sums

    // NOTE: Performance is worse if we don't add elemental dmg from head/hands/body/feet/rope

    c.HP_P  = head.HP_P + hands.HP_P + body.HP_P + feet.HP_P + planarSphere.HP_P + linkRope.HP_P;
    c.ATK_P = head.ATK_P + hands.ATK_P + body.ATK_P + feet.ATK_P + planarSphere.ATK_P + linkRope.ATK_P;
    c.DEF_P = head.DEF_P + hands.DEF_P + body.DEF_P + feet.DEF_P + planarSphere.DEF_P + linkRope.DEF_P;
    c.SPD_P = head.SPD_P + hands.SPD_P + body.SPD_P + feet.SPD_P + planarSphere.SPD_P + linkRope.SPD_P;
    c.HP  = epsilon + head.HP + hands.HP + body.HP + feet.HP + planarSphere.HP + linkRope.HP;
    c.ATK = epsilon + head.ATK + hands.ATK + body.ATK + feet.ATK + planarSphere.ATK + linkRope.ATK;
    c.DEF = epsilon + head.DEF + hands.DEF + body.DEF + feet.DEF + planarSphere.DEF + linkRope.DEF;
    c.SPD = epsilon + head.SPD + hands.SPD + body.SPD + feet.SPD + planarSphere.SPD + linkRope.SPD;
    c.CR  = epsilon + head.CR + hands.CR + body.CR + feet.CR + planarSphere.CR + linkRope.CR;
    c.CD  = epsilon + head.CD + hands.CD + body.CD + feet.CD + planarSphere.CD + linkRope.CD;
    c.EHR = epsilon + head.EHR + hands.EHR + body.EHR + feet.EHR + planarSphere.EHR + linkRope.EHR;
    c.RES = epsilon + head.RES + hands.RES + body.RES + feet.RES + planarSphere.RES + linkRope.RES;
    c.BE  = epsilon + head.BE + hands.BE + body.BE + feet.BE + planarSphere.BE + linkRope.BE;
    c.ERR = epsilon + head.ERR + hands.ERR + body.ERR + feet.ERR + planarSphere.ERR + linkRope.ERR;
    c.OHB = epsilon + head.OHB + hands.OHB + body.OHB + feet.OHB + planarSphere.OHB + linkRope.OHB;
    c.Physical_DMG  = epsilon + head.Physical_DMG + hands.Physical_DMG + body.Physical_DMG + feet.Physical_DMG + planarSphere.Physical_DMG + linkRope.Physical_DMG;
    c.Fire_DMG      = epsilon + head.Fire_DMG + hands.Fire_DMG + body.Fire_DMG + feet.Fire_DMG + planarSphere.Fire_DMG + linkRope.Fire_DMG;
    c.Ice_DMG       = epsilon + head.Ice_DMG + hands.Ice_DMG + body.Ice_DMG + feet.Ice_DMG + planarSphere.Ice_DMG + linkRope.Ice_DMG;
    c.Lightning_DMG = epsilon + head.Lightning_DMG + hands.Lightning_DMG + body.Lightning_DMG + feet.Lightning_DMG + planarSphere.Lightning_DMG + linkRope.Lightning_DMG;
    c.Wind_DMG      = epsilon + head.Wind_DMG + hands.Wind_DMG + body.Wind_DMG + feet.Wind_DMG + planarSphere.Wind_DMG + linkRope.Wind_DMG;
    c.Quantum_DMG   = epsilon + head.Quantum_DMG + hands.Quantum_DMG + body.Quantum_DMG + feet.Quantum_DMG + planarSphere.Quantum_DMG + linkRope.Quantum_DMG;
    c.Imaginary_DMG = epsilon + head.Imaginary_DMG + hands.Imaginary_DMG + body.Imaginary_DMG + feet.Imaginary_DMG + planarSphere.Imaginary_DMG + linkRope.Imaginary_DMG;

    // Calculate basic stats

    c.HP  += (baseHP) * (1 + c.HP_P + traceHP_P + lcHP_P) + traceHP;
    c.DEF += (baseDEF) * (1 + c.DEF_P + traceDEF_P + lcDEF_P) + traceDEF;
    c.ATK += (baseATK) * (1 + c.ATK_P + traceATK_P + lcATK_P) + traceATK;
    c.SPD += (baseSPD) * (1 + c.SPD_P + traceSPD_P + lcSPD_P) + traceSPD;
    c.CR  += characterCR + lcCR + traceCR;
    c.CD  += characterCD + lcCD + traceCD;
    c.EHR += characterEHR + lcEHR + traceEHR;
    c.RES += characterRES + lcRES + traceRES;
    c.BE  += characterBE + lcBE + traceBE;
    c.ERR += characterERR + lcERR + traceERR;
    c.OHB += characterOHB + lcOHB + traceOHB;
    c.Physical_DMG  += tracePhysical_DMG + 0.10 * p2(x.sets.ChampionOfStreetwiseBoxing);
    c.Fire_DMG      += traceFire_DMG + 0.10 * p2(x.sets.FiresmithOfLavaForging);
    c.Ice_DMG       += traceIce_DMG + 0.10 * p2(x.sets.HunterOfGlacialForest);
    c.Lightning_DMG += traceLightning_DMG + 0.10 * p2(x.sets.BandOfSizzlingThunder);
    c.Wind_DMG      += traceWind_DMG + 0.10 * p2(x.sets.EagleOfTwilightLine);
    c.Quantum_DMG   += traceQuantum_DMG + 0.10 * p2(x.sets.GeniusOfBrilliantStars);
    c.Imaginary_DMG += traceImaginary_DMG + 0.10 * p2(x.sets.WastelanderOfBanditryDesert);

    // Calculate set effects

    c.SPD += (baseSPD) * (
      0.06 * p2(x.sets.MessengerTraversingHackerspace) +
      0.06 * p2(x.sets.ForgeOfTheKalpagniLantern) +
      0.06 * p4(x.sets.MusketeerOfWildWheat) +
      0.06 * p2(x.sets.SacerdosRelivedOrdeal)
    );

    c.HP += (baseHP) * (
      0.12 * p2(x.sets.FleetOfTheAgeless) +
      0.12 * p2(x.sets.LongevousDisciple)
    );

    c.ATK += (baseATK) * (
      0.12 * p2(x.sets.SpaceSealingStation) +
      0.12 * p2(x.sets.FirmamentFrontlineGlamoth) +
      0.12 * p2(x.sets.MusketeerOfWildWheat) +
      0.12 * p2(x.sets.PrisonerInDeepConfinement) +
      0.12 * p2(x.sets.IzumoGenseiAndTakamaDivineRealm) +
      0.12 * p2(x.sets.TheWindSoaringValorous)
    );

    c.DEF += (baseDEF) * (
      0.15 * p2(x.sets.BelobogOfTheArchitects) +
      0.15 * p2(x.sets.KnightOfPurityPalace)
    );

    c.CR += (
      0.08 * p2(x.sets.InertSalsotto) +
      0.08 * p2(x.sets.RutilantArena) +
      0.04 * p4(x.sets.PioneerDiverOfDeadWaters) +
      0.04 * p2(x.sets.SigoniaTheUnclaimedDesolation) +
      0.06 * p4(x.sets.TheWindSoaringValorous) +
      0.08 * p2(x.sets.ScholarLostInErudition)
    );

    c.CD += (
      0.16 * p2(x.sets.CelestialDifferentiator) +
      0.16 * p2(x.sets.TheWondrousBananAmusementPark)
    );

    c.EHR += (
      0.10 * p2(x.sets.PanCosmicCommercialEnterprise)
    );

    c.RES += (
      0.10 * p2(x.sets.BrokenKeel)
    );

    c.BE += (
      0.16 * p2(x.sets.TaliaKingdomOfBanditry) +
      0.16 * p2(x.sets.ThiefOfShootingMeteor) +
      0.16 * p4(x.sets.ThiefOfShootingMeteor) +
      0.16 * p2(x.sets.WatchmakerMasterOfDreamMachinations) +
      0.16 * p2(x.sets.IronCavalryAgainstTheScourge)
    );

    c.ERR += (
      0.05 * p2(x.sets.SprightlyVonwacq) +
      0.05 * p2(x.sets.PenaconyLandOfTheDreams) +
      0.05 * p2(x.sets.LushakaTheSunkenSeas)
    );

    c.OHB += (
      0.10 * p2(x.sets.PasserbyOfWanderingCloud)
    );

    // Add base to computed

    x.ATK += c.ATK + combatBuffsATK + combatBuffsATK_P * baseATK;
    x.DEF += c.DEF + combatBuffsDEF + combatBuffsDEF_P * baseDEF;
    x.HP  += c.HP   + combatBuffsHP  + combatBuffsHP_P  * baseHP;
    x.SPD += c.SPD + combatBuffsSPD + combatBuffsSPD_P * baseSPD;
    x.CD  += c.CD   + combatBuffsCD;
    x.CR  += c.CR   + combatBuffsCR;
    x.EHR += c.EHR;
    x.RES += c.RES;
    x.BE  += c.BE   + combatBuffsBE;
    x.ERR += c.ERR;
    x.OHB += c.OHB;

    addElementalDmg(&c, &x);
    x.WEIGHT = epsilon + head.weightScore + hands.weightScore + body.weightScore + feet.weightScore + planarSphere.weightScore + linkRope.weightScore;

    x.ELEMENTAL_DMG += combatBuffsDMG_BOOST;
    x.EFFECT_RES_PEN += combatBuffsEFFECT_RES_PEN;
    x.VULNERABILITY += combatBuffsVULNERABILITY;
    x.BREAK_EFFICIENCY_BOOST += combatBuffsBREAK_EFFICIENCY;

    // ATK

    if (p4(x.sets.MessengerTraversingHackerspace) >= 1 && enabledMessengerTraversingHackerspace == 1) {
      x.SPD_P += 0.12;
    }

    // DEF

    if (p4(x.sets.ChampionOfStreetwiseBoxing) >= 1) {
      x.ATK_P += 0.05 * f32(valueChampionOfStreetwiseBoxing);
    }
    if (p4(x.sets.BandOfSizzlingThunder) >= 1 && enabledBandOfSizzlingThunder == 1) {
      x.ATK_P += 0.20;
    }
    if (p4(x.sets.TheAshblazingGrandDuke) >= 1) {
      x.ATK_P += 0.06 * f32(valueTheAshblazingGrandDuke);
    }

    // DEF


    // HP


    // CD

    if (p4(x.sets.HunterOfGlacialForest) >= 1 && enabledHunterOfGlacialForest == 1) {
      x.CD += 0.25;
    }
    if (p4(x.sets.WastelanderOfBanditryDesert) >= 1 && valueWastelanderOfBanditryDesert == 2) {
      x.CD += 0.10;
    }
    if (p4(x.sets.PioneerDiverOfDeadWaters) >= 1) {
      x.CD += getPioneerSetCd(valuePioneerDiverOfDeadWaters);
    }
    if (p2(x.sets.SigoniaTheUnclaimedDesolation) >= 1) {
      x.CD += 0.04 * f32(valueSigoniaTheUnclaimedDesolation);
    }
    if (p2(x.sets.DuranDynastyOfRunningWolves) >= 1 && valueDuranDynastyOfRunningWolves >= 5) {
      x.CD += 0.25;
    }
    if (p2(x.sets.TheWondrousBananAmusementPark) >= 1 && enabledTheWondrousBananAmusementPark == 1) {
      x.CD += 0.32;
    }

    // CR

    if (p4(x.sets.WastelanderOfBanditryDesert) >= 1 && valueWastelanderOfBanditryDesert > 0) {
      x.CR += 0.10;
    }
    if (p4(x.sets.LongevousDisciple) >= 1) {
      x.CR += 0.08 * f32(valueLongevousDisciple);
    }
    if (p4(x.sets.PioneerDiverOfDeadWaters) >= 1 && valuePioneerDiverOfDeadWaters > 2) {
      x.CR += 0.04;
    }
    if (p2(x.sets.IzumoGenseiAndTakamaDivineRealm) >= 1 && enabledIzumoGenseiAndTakamaDivineRealm == 1) {
      x.CR += 0.12;
    }

    // BE

    if (p4(x.sets.WatchmakerMasterOfDreamMachinations) >= 1 && enabledWatchmakerMasterOfDreamMachinations == 1) {
      x.BE += 0.30;
    }
    if (p2(x.sets.ForgeOfTheKalpagniLantern) >= 1 && enabledForgeOfTheKalpagniLantern == 1) {
      x.BE += 0.40;
    }

    // Buffs

    // Basic boost
    if (p4(x.sets.MusketeerOfWildWheat) >= 1) {
      buffAbilityDmg(&x, BASIC_TYPE, 0.10, 1);
    }

    // Skill boost
    if (p4(x.sets.FiresmithOfLavaForging) >= 1) {
      buffAbilityDmg(&x, SKILL_TYPE, 0.12, 1);
    }

    // Fua boost
    if (p2(x.sets.TheAshblazingGrandDuke) >= 1) {
      buffAbilityDmg(&x, FUA_TYPE, 0.20, 1);
    }
    if (p2(x.sets.DuranDynastyOfRunningWolves) >= 1) {
      buffAbilityDmg(&x, FUA_TYPE, 0.05 * f32(valueDuranDynastyOfRunningWolves), 1);
    }

    // Ult boost
    if (p4(x.sets.TheWindSoaringValorous) >= 1) {
      buffAbilityDmg(&x, ULT_TYPE, 0.36 * f32(enabledTheWindSoaringValorous), 1);
    }

    if (p4(x.sets.ScholarLostInErudition) >= 1) {
      buffAbilityDmg(&x, SKILL_TYPE | ULT_TYPE, 0.20, 1);

      if (f32(enabledScholarLostInErudition) >= 1.0) {
        buffAbilityDmg(&x, SKILL_TYPE, 0.25, 1);
      }
    }

    //

    if (p4(x.sets.GeniusOfBrilliantStars) >= 1) {
      if (enabledGeniusOfBrilliantStars == 1) {
        x.DEF_PEN += 0.20;
      } else {
        x.DEF_PEN += 0.10;
      }
    }

    if (p4(x.sets.PrisonerInDeepConfinement) >= 1) {
      x.DEF_PEN += 0.06 * f32(valuePrisonerInDeepConfinement);
    }

    if (p2(x.sets.PioneerDiverOfDeadWaters) >= 1 && valuePioneerDiverOfDeadWaters >= 0) {
      x.ELEMENTAL_DMG += 0.12;
    }

    if (p2(x.sets.FiresmithOfLavaForging) >= 1 && enabledFiresmithOfLavaForging == 1) {
      x.Fire_DMG += 0.12;
    }

    // Set effects

    // Dynamic stat conditionals

    x.ATK += x.ATK_P * baseATK;
    x.DEF += x.DEF_P * baseDEF;
    x.HP += x.HP_P * baseHP;
    x.SPD += x.SPD_P * baseSPD;

    let p_x = &x;
    let p_state = &state;

    evaluateDependenciesSPD(p_x, p_state);
    evaluateDependenciesBE(p_x, p_state);

    evaluateDependenciesHP(p_x, p_state);
    evaluateDependenciesATK(p_x, p_state);
    evaluateDependenciesDEF(p_x, p_state);
    evaluateDependenciesCR(p_x, p_state);
    evaluateDependenciesCD(p_x, p_state);
    evaluateDependenciesEHR(p_x, p_state);
    evaluateDependenciesRES(p_x, p_state);
    evaluateDependenciesOHB(p_x, p_state);
    evaluateDependenciesERR(p_x, p_state);

    evaluateDependenciesSPD(p_x, p_state);
    evaluateDependenciesBE(p_x, p_state);

    evaluateDependenciesHP(p_x, p_state);
    evaluateDependenciesATK(p_x, p_state);
    evaluateDependenciesDEF(p_x, p_state);
    evaluateDependenciesCR(p_x, p_state);
    evaluateDependenciesCD(p_x, p_state);
    evaluateDependenciesEHR(p_x, p_state);
    evaluateDependenciesRES(p_x, p_state);
    evaluateDependenciesOHB(p_x, p_state);
    evaluateDependenciesERR(p_x, p_state);


    // START LIGHT CONE CONDITIONALS
    // â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
    /* INJECT LIGHT CONE CONDITIONALS */
    // â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²
    // END LIGHT CONE CONDITIONALS




    // START CHARACTER CONDITIONALS
    // â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
    /* INJECT CHARACTER CONDITIONALS */
    // â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²
    // END CHARACTER CONDITIONALS


    // Calculate damage
    let cLevel: f32 = 80;
    let eLevel: f32 = f32(enemyLevel);
    let defReduction: f32 = x.DEF_PEN + combatBuffsDEF_PEN;
    let defIgnore: f32 = 0.0;

    addComputedElementalDmg(&x);

    let dmgBoostMultiplier: f32 = 1 + x.ELEMENTAL_DMG;
    let dmgReductionMultiplier: f32 = 1;

    let ehp: f32 = x.HP / (1 - x.DEF / (x.DEF + 200 + 10 * eLevel)) * (1 / ((1 - 0.08 * p2(x.sets.GuardOfWutheringSnow)) * x.DMG_RED_MULTI));
    x.EHP = ehp;

    let brokenMultiplier = 0.9 + x.ENEMY_WEAKNESS_BROKEN * 0.1;

    let universalMulti = dmgReductionMultiplier * brokenMultiplier;
    let baseResistance = resistance - x.RES_PEN - getElementalResPen(&x);

    let ULT_CD = select(x.CD + x.ULT_CD_BOOST, x.ULT_CD_OVERRIDE, x.ULT_CD_OVERRIDE > 0);

    let breakVulnerability = 1.0 + x.VULNERABILITY + x.BREAK_VULNERABILITY;
    let basicVulnerability = 1.0 + x.VULNERABILITY + x.BASIC_VULNERABILITY;
    let skillVulnerability = 1.0 + x.VULNERABILITY + x.SKILL_VULNERABILITY;
    let ultVulnerability = 1.0 + x.VULNERABILITY + x.ULT_VULNERABILITY * x.ULT_BOOSTS_MULTI;
    let fuaVulnerability = 1.0 + x.VULNERABILITY + x.FUA_VULNERABILITY;
    let dotVulnerability = 1.0 + x.VULNERABILITY + x.DOT_VULNERABILITY;

    let ENEMY_EFFECT_RES = enemyEffectResistance;

    // For stacking dots where the first stack has extra value
    // c = dot chance, s = stacks => avg dmg = (full dmg) * (1 + 0.05 * c * (s-1)) / (1 + 0.05 * (s-1))
    let effectiveDotChance = min(1, x.DOT_CHANCE * (1 + x.EHR) * (1 - ENEMY_EFFECT_RES + x.EFFECT_RES_PEN));
    let dotEhrMultiplier = select(effectiveDotChance, (1 + x.DOT_SPLIT * effectiveDotChance * (x.DOT_STACKS - 1)) / (1 + 0.05 * (x.DOT_STACKS - 1)), x.DOT_SPLIT > 0);

    // BREAK
    let maxToughness = enemyMaxToughness;

    x.BREAK_DMG
      = universalMulti
      * 3767.5533
      * ELEMENTAL_BREAK_SCALING
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.BREAK_DEF_PEN)
      * (0.5 + maxToughness / 120)
      * breakVulnerability
      * (1.0 - baseResistance)
      * (1.0 + x.BE);

    let SUPER_BREAK_DMG
      = universalMulti
      * 3767.5533
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.BREAK_DEF_PEN + x.SUPER_BREAK_DEF_PEN)
      * breakVulnerability
      * (1.0 - baseResistance)
      * (1.0 + x.BE)
      * (x.SUPER_BREAK_MODIFIER + x.SUPER_BREAK_HMC_MODIFIER)
      * (1.0 / 30.0)
      * (1.0 + x.BREAK_EFFICIENCY_BOOST);

    let BASIC_SUPER_BREAK_DMG
      = universalMulti
      * 3767.5533
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.BREAK_DEF_PEN + x.SUPER_BREAK_DEF_PEN)
      * breakVulnerability
      * (1.0 - baseResistance)
      * (1.0 + x.BE)
      * (x.BASIC_SUPER_BREAK_MODIFIER + x.SUPER_BREAK_HMC_MODIFIER)
      * (1.0 / 30.0)
      * (1.0 + x.BREAK_EFFICIENCY_BOOST);

    let ACTUAL_BASIC_SUPER_BREAK_DMG = select(SUPER_BREAK_DMG, BASIC_SUPER_BREAK_DMG, BASIC_SUPER_BREAK_DMG > 0);

    x.BASIC_DMG
      = x.BASIC_DMG
      * universalMulti
      * (dmgBoostMultiplier + x.BASIC_BOOST)
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.BASIC_DEF_PEN)
      * ((basicVulnerability) * min(1, x.CR + x.BASIC_CR_BOOST) * (1.0 + x.CD + x.BASIC_CD_BOOST) + basicVulnerability * (1.0 - min(1.0, x.CR + x.BASIC_CR_BOOST)))
      * (1.0 - (baseResistance - x.BASIC_RES_PEN))
      * (1.0 + x.BASIC_ORIGINAL_DMG_BOOST)
      + (x.BASIC_BREAK_DMG_MODIFIER * x.BREAK_DMG)
      + (ACTUAL_BASIC_SUPER_BREAK_DMG * x.BASIC_TOUGHNESS_DMG * (1.0 + x.BASIC_BREAK_EFFICIENCY_BOOST));

    x.SKILL_DMG
      = x.SKILL_DMG
      * universalMulti
      * (dmgBoostMultiplier + x.SKILL_BOOST)
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.SKILL_DEF_PEN)
      * ((skillVulnerability) * min(1.0, x.CR + x.SKILL_CR_BOOST) * (1.0 + x.CD + x.SKILL_CD_BOOST) + skillVulnerability * (1.0 - min(1.0, x.CR + x.SKILL_CR_BOOST)))
      * (1.0 - (baseResistance - x.SKILL_RES_PEN))
      * (1.0 + x.SKILL_ORIGINAL_DMG_BOOST)
      + (SUPER_BREAK_DMG * x.SKILL_TOUGHNESS_DMG);

    x.ULT_DMG
      = x.ULT_DMG
      * universalMulti
      * (dmgBoostMultiplier + x.ULT_BOOST * x.ULT_BOOSTS_MULTI)
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.ULT_DEF_PEN * x.ULT_BOOSTS_MULTI)
      * ((ultVulnerability) * min(1.0, x.CR + x.ULT_CR_BOOST) * (1.0 + ULT_CD) + ultVulnerability * (1.0 - min(1, x.CR + x.ULT_CR_BOOST)))
      * (1 - (baseResistance - x.ULT_RES_PEN * x.ULT_BOOSTS_MULTI))
      * (1 + x.ULT_ORIGINAL_DMG_BOOST)
      + (SUPER_BREAK_DMG * x.ULT_TOUGHNESS_DMG * (1.0 + x.ULT_BREAK_EFFICIENCY_BOOST));

    x.FUA_DMG
      = x.FUA_DMG
      * universalMulti
      * (dmgBoostMultiplier + x.FUA_BOOST)
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.FUA_DEF_PEN)
      * ((fuaVulnerability) * min(1.0, x.CR + x.FUA_CR_BOOST) * (1.0 + x.CD + x.FUA_CD_BOOST) + fuaVulnerability * (1.0 - min(1.0, x.CR + x.FUA_CR_BOOST)))
      * (1.0 - (baseResistance - x.FUA_RES_PEN))
      + (SUPER_BREAK_DMG * x.FUA_TOUGHNESS_DMG);

    x.DOT_DMG
      = x.DOT_DMG
      * universalMulti
      * (dmgBoostMultiplier + x.DOT_BOOST)
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.DOT_DEF_PEN)
      * dotVulnerability
      * (1.0 - (baseResistance - x.DOT_RES_PEN))
      * dotEhrMultiplier;

    x.COMBO_DMG
      = BASIC_COMBO * x.BASIC_DMG
      + SKILL_COMBO * x.SKILL_DMG
      + ULT_COMBO * x.ULT_DMG
      + FUA_COMBO * x.FUA_DMG
      + DOT_COMBO * x.DOT_DMG
      + BREAK_COMBO * x.BREAK_DMG;


    // START COMBAT STAT FILTERS
    // â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
    /* INJECT COMBAT STAT FILTERS */
    // â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²
    // END COMBAT STAT FILTERS



    // START BASIC STAT FILTERS
    // â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
    /* INJECT BASIC STAT FILTERS */
    // â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²
    // END BASIC STAT FILTERS



    // START RETURN VALUE
    // â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
    /* INJECT RETURN VALUE */
    // â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²
    // END RETURN VALUE
  }
}

fn p2(n: i32) -> f32 {
  return f32(min(1, n >> 1));
}
fn p4(n: i32) -> f32 {
  return f32(n >> 2);
}

fn calculateDefMultiplier(cLevel: f32, eLevel: f32, defReduction: f32, defIgnore: f32, additionalPen: f32) -> f32 {
  return (cLevel + 20.0f) / ((eLevel + 20.0f) * max(0.0f, 1.0f - defReduction - defIgnore - additionalPen) + cLevel + 20.0f);
}

fn buffAbilityDmg(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).DOT_DMG_TYPE)) != 0) {
    (*p_x).DOT_BOOST += value;
  }
}

fn buffAbilityCr(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_CR_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_CR_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_CR_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_CR_BOOST += value;
  }
}

fn buffAbilityCd(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_CD_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_CD_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_CD_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_CD_BOOST += value;
  }
}

fn buffAbilityDefShred(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if (condition == 0) {
    return;
  }
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).DOT_DMG_TYPE)) != 0) {
    (*p_x).DOT_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).BREAK_DMG_TYPE)) != 0) {
    (*p_x).BREAK_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SUPER_BREAK_DMG_TYPE)) != 0) {
    (*p_x).SUPER_BREAK_DEF_PEN += value;
  }
}

fn buffAbilityVulnerability(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if (condition == 0) {
    return;
  }
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).DOT_DMG_TYPE)) != 0) {
    (*p_x).DOT_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).BREAK_DMG_TYPE)) != 0) {
    (*p_x).BREAK_VULNERABILITY += value;
  }
}

fn addElementalDmg(
  c_x: ptr<function, BasicStats>,
  p_x: ptr<function, ComputedStats>,
) {
  switch (ELEMENT_INDEX) {
    case 0: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Physical_DMG;
    }
    case 1: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Fire_DMG;
    }
    case 2: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Ice_DMG;
    }
    case 3: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Lightning_DMG;
    }
    case 4: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Wind_DMG;
    }
    case 5: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Quantum_DMG;
    }
    case 6: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Imaginary_DMG;
    }
    default: {

    }
  }
}

fn addComputedElementalDmg(
  p_x: ptr<function, ComputedStats>,
) {
  switch (ELEMENT_INDEX) {
    case 0: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Physical_DMG;
    }
    case 1: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Fire_DMG;
    }
    case 2: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Ice_DMG;
    }
    case 3: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Lightning_DMG;
    }
    case 4: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Wind_DMG;
    }
    case 5: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Quantum_DMG;
    }
    case 6: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Imaginary_DMG;
    }
    default: {

    }
  }
}

fn getElementalResPen(
  p_x: ptr<function, ComputedStats>,
) -> f32 {
  switch (ELEMENT_INDEX) {
    case 0: {
      return (*p_x).PHYSICAL_RES_PEN;
    }
    case 1: {
      return (*p_x).FIRE_RES_PEN;
    }
    case 2: {
      return (*p_x).ICE_RES_PEN;
    }
    case 3: {
      return (*p_x).LIGHTNING_RES_PEN;
    }
    case 4: {
      return (*p_x).WIND_RES_PEN;
    }
    case 5: {
      return (*p_x).QUANTUM_RES_PEN;
    }
    case 6: {
      return (*p_x).IMAGINARY_RES_PEN;
    }
    default: {
      return 0;
    }
  }
}

fn getPioneerSetCd(
  index: i32,
) -> f32 {
  switch (index) {
    case 4: {
      return 0.24;
    }
    case 3: {
      return 0.16;
    }
    case 2: {
      return 0.12;
    }
    case 1: {
      return 0.08;
    }
    default: {
      return 0.0;
    }
  }
}

fn calculateAshblazingSet(
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>,
  hitMulti: f32,
) -> f32 {
  if (p4((*p_x).sets.TheAshblazingGrandDuke) >= 1) {
    let ashblazingAtk = 0.06 * f32(valueTheAshblazingGrandDuke) * baseATK;
    let ashblazingMulti = hitMulti * baseATK;

    return ashblazingMulti - ashblazingAtk;
  }

  return 0;
}
`;function vh(t,e,i){return t+=Ah(e),t+=xs(e.character.base,"character"),t+=xs(e.character.lightCone,"lc"),t+=xs(e.character.traces,"trace"),t+=wh(),t+=jh(e),t+=Qh(i),t+=`
`,t}function wh(){return`
const baseHP = characterHP + lcHP;
const baseATK = characterATK + lcATK;
const baseDEF = characterDEF + lcDEF;
const baseSPD = characterSPD + lcSPD;
  `}function Ah(t){let e=`
`;for(const[i,l]of Object.entries(t))i.startsWith("enabled")&&(e+=`const ${i}: i32 = ${l?1:0};
`),i.startsWith("value")&&(e+=`const ${i}: i32 = ${l};
`);return e}function Qh(t){let e=`
`;e+=`const statDisplay: i32 = ${t.statDisplay=="combat"?0:1};
`,e+=`
`,e+=`const BASIC_COMBO: f32 = ${t.combo.BASIC};
`,e+=`const SKILL_COMBO: f32 = ${t.combo.SKILL};
`,e+=`const ULT_COMBO: f32 = ${t.combo.ULT};
`,e+=`const FUA_COMBO: f32 = ${t.combo.FUA};
`,e+=`const DOT_COMBO: f32 = ${t.combo.DOT};
`,e+=`const BREAK_COMBO: f32 = ${t.combo.BREAK};
`,e+=`
`,e+=`const enemyCount: i32 = ${t.enemyCount};
`,e+=`const enemyElementalWeak: i32 = ${t.enemyElementalWeak?1:0};
`,e+=`const enemyLevel: i32 = ${t.enemyLevel};
`,e+=`const enemyMaxToughness: f32 = ${t.enemyMaxToughness};
`,e+=`const enemyResistance: f32 = ${t.enemyResistance};
`,e+=`const enemyEffectResistance: f32 = ${t.enemyEffectResistance};
`,e+=`const enemyWeaknessBroken: i32 = ${t.enemyWeaknessBroken?1:0};
`,e+=`
`,e+=`const resistance: f32 = ${(t.enemyElementalWeak?0:t.enemyResistance)-t.combatBuffs.RES_PEN};
`,e+=`
`;for(const[i,l]of Object.entries(t))(i.startsWith("min")||i.startsWith("max"))&&(e+=`const ${i}: f32 = ${l};
`);e+=`
`;for(const[i,l]of Object.entries(t.combatBuffs))e+=`const combatBuffs${i}: f32 = ${l};
`;return e+=`
`,e+=`const e: i32 = ${t.characterEidolon};
`,e+=`
`,e}function jh(t){let e=`
`;return e+=`const ELEMENT_INDEX: i32 = ${Oh[t.ELEMENTAL_DMG_TYPE]};
`,e+=`const ELEMENTAL_BREAK_SCALING: f32 = ${t.ELEMENTAL_BREAK_SCALING};
`,e}function xs(t,e){let i=`
`;for(const[l,s]of Object.entries(Jh))i+=`const ${e}${l}: f32 = ${t[s]};
`;return i}const Jh={HP_P:n.HP_P,ATK_P:n.ATK_P,DEF_P:n.DEF_P,SPD_P:n.SPD_P,HP:n.HP,ATK:n.ATK,DEF:n.DEF,SPD:n.SPD,CR:n.CR,CD:n.CD,EHR:n.EHR,RES:n.RES,BE:n.BE,ERR:n.ERR,OHB:n.OHB,Physical_DMG:n.Physical_DMG,Fire_DMG:n.Fire_DMG,Ice_DMG:n.Ice_DMG,Lightning_DMG:n.Lightning_DMG,Wind_DMG:n.Wind_DMG,Quantum_DMG:n.Quantum_DMG,Imaginary_DMG:n.Imaginary_DMG},Oh={[n.Physical_DMG]:0,[n.Fire_DMG]:1,[n.Ice_DMG]:2,[n.Lightning_DMG]:3,[n.Wind_DMG]:4,[n.Quantum_DMG]:5,[n.Imaginary_DMG]:6};function zh(t,e,i){const l=En.get(e),s=bn.get(e),o=i.conditionalRegistry;return s.gpuFinalizeCalculations&&(t=t.replace("/* INJECT LIGHT CONE CONDITIONALS */",ze(s.gpuFinalizeCalculations(e,i),2))),l.gpuFinalizeCalculations&&(t=t.replace("/* INJECT CHARACTER CONDITIONALS */",ze(l.gpuFinalizeCalculations(e,i),2))),t+=$h(o,e,i),t}function Go(t){return`evaluate${t}(p_x, p_state);`}function _h(t,e){return`
fn evaluateDependencies${t}(p_x: ptr<function, ComputedStats>, p_state: ptr<function, ConditionalState>) {
${ze(e,1)}
}
  `}function qh(t,e){return`
fn evaluateNonRatioDependencies${t}(p_x: ptr<function, ComputedStats>, p_state: ptr<function, ConditionalState>) {
${ze(e,1)}
}
  `}function qe(t,e,i,l,s){let o="",c="",r="",u="",R="";return r+=t[e].map(h=>Go(h.id)).join(`
`),u+=t[e].filter(h=>!h.ratioConversion).map(h=>Go(h.id)).join(`
`),c+=t[e].map(h=>h.gpu(l,s)).join(`
`),R+=t[e].map(h=>h.id+`: f32,
`).join(""),o+=_h(i,r),o+=qh(i,u),{conditionalEvaluators:o,conditionalDefinitionsWgsl:c,conditionalStateDefinition:R}}function $h(t,e,i){let l="",s=`
`,o=`
`,c=`
`;function r(u){s+=u.conditionalEvaluators,o+=u.conditionalDefinitionsWgsl,c+=u.conditionalStateDefinition}return r(qe(t,n.HP,"HP",e,i)),r(qe(t,n.ATK,"ATK",e,i)),r(qe(t,n.DEF,"DEF",e,i)),r(qe(t,n.SPD,"SPD",e,i)),r(qe(t,n.CR,"CR",e,i)),r(qe(t,n.CD,"CD",e,i)),r(qe(t,n.EHR,"EHR",e,i)),r(qe(t,n.RES,"RES",e,i)),r(qe(t,n.BE,"BE",e,i)),r(qe(t,n.OHB,"OHB",e,i)),r(qe(t,n.ERR,"ERR",e,i)),l+=o,l+=s,l+=`
struct ConditionalState {
${ze(c,1)}
}
  `,l}function t1(t,e){const i=e.precomputedX;i.EHP=0;const l=`
    var x: ComputedStats = ComputedStats(  
      ${i[n.HP_P]}, // Stats.HP_P
      ${i[n.ATK_P]}, // Stats.ATK_P
      ${i[n.DEF_P]}, // Stats.DEF_P
      ${i[n.SPD_P]}, // Stats.SPD_P
      ${i[n.HP]}, // Stats.HP
      ${i[n.ATK]}, // Stats.ATK
      ${i[n.DEF]}, // Stats.DEF
      ${i[n.SPD]}, // Stats.SPD
      ${i[n.CR]}, // Stats.CR
      ${i[n.CD]}, // Stats.CD
      ${i[n.EHR]}, // Stats.EHR
      ${i[n.RES]}, // Stats.RES
      ${i[n.BE]}, // Stats.BE
      ${i[n.ERR]}, // Stats.ERR
      ${i[n.OHB]}, // Stats.OHB
      ${i[n.Physical_DMG]}, // Stats.Physical_DMG
      ${i[n.Fire_DMG]}, // Stats.Fire_DMG
      ${i[n.Ice_DMG]}, // Stats.Ice_DMG
      ${i[n.Lightning_DMG]}, // Stats.Lightning_DMG
      ${i[n.Wind_DMG]}, // Stats.Wind_DMG
      ${i[n.Quantum_DMG]}, // Stats.Quantum_DMG
      ${i[n.Imaginary_DMG]}, // Stats.Imaginary_DMG
      ${i.ELEMENTAL_DMG}, // ELEMENTAL_DMG
      ${i.BASIC_SCALING}, // BASIC_SCALING
      ${i.SKILL_SCALING}, // SKILL_SCALING
      ${i.ULT_SCALING}, // ULT_SCALING
      ${i.FUA_SCALING}, // FUA_SCALING
      ${i.DOT_SCALING}, // DOT_SCALING
      ${i.BASIC_CR_BOOST}, // BASIC_CR_BOOST
      ${i.SKILL_CR_BOOST}, // SKILL_CR_BOOST
      ${i.ULT_CR_BOOST}, // ULT_CR_BOOST
      ${i.FUA_CR_BOOST}, // FUA_CR_BOOST
      ${i.BASIC_CD_BOOST}, // BASIC_CD_BOOST
      ${i.SKILL_CD_BOOST}, // SKILL_CD_BOOST
      ${i.ULT_CD_BOOST}, // ULT_CD_BOOST
      ${i.FUA_CD_BOOST}, // FUA_CD_BOOST
      ${i.BASIC_BOOST}, // BASIC_BOOST
      ${i.SKILL_BOOST}, // SKILL_BOOST
      ${i.ULT_BOOST}, // ULT_BOOST
      ${i.FUA_BOOST}, // FUA_BOOST
      ${i.DOT_BOOST}, // DOT_BOOST
      ${i.VULNERABILITY}, // VULNERABILITY
      ${i.BASIC_VULNERABILITY}, // BASIC_VULNERABILITY
      ${i.SKILL_VULNERABILITY}, // SKILL_VULNERABILITY
      ${i.ULT_VULNERABILITY}, // ULT_VULNERABILITY
      ${i.FUA_VULNERABILITY}, // FUA_VULNERABILITY
      ${i.DOT_VULNERABILITY}, // DOT_VULNERABILITY
      ${i.BREAK_VULNERABILITY}, // BREAK_VULNERABILITY
      ${i.DEF_PEN}, // DEF_PEN
      ${i.BASIC_DEF_PEN}, // BASIC_DEF_PEN
      ${i.SKILL_DEF_PEN}, // SKILL_DEF_PEN
      ${i.ULT_DEF_PEN}, // ULT_DEF_PEN
      ${i.FUA_DEF_PEN}, // FUA_DEF_PEN
      ${i.DOT_DEF_PEN}, // DOT_DEF_PEN
      ${i.BREAK_DEF_PEN}, // BREAK_DEF_PEN
      ${i.SUPER_BREAK_DEF_PEN}, // SUPER_BREAK_DEF_PEN
      ${i.RES_PEN}, // RES_PEN
      ${i.PHYSICAL_RES_PEN}, // PHYSICAL_RES_PEN
      ${i.FIRE_RES_PEN}, // FIRE_RES_PEN
      ${i.ICE_RES_PEN}, // ICE_RES_PEN
      ${i.LIGHTNING_RES_PEN}, // LIGHTNING_RES_PEN
      ${i.WIND_RES_PEN}, // WIND_RES_PEN
      ${i.QUANTUM_RES_PEN}, // QUANTUM_RES_PEN
      ${i.IMAGINARY_RES_PEN}, // IMAGINARY_RES_PEN
      ${i.BASIC_RES_PEN}, // BASIC_RES_PEN
      ${i.SKILL_RES_PEN}, // SKILL_RES_PEN
      ${i.ULT_RES_PEN}, // ULT_RES_PEN
      ${i.FUA_RES_PEN}, // FUA_RES_PEN
      ${i.DOT_RES_PEN}, // DOT_RES_PEN
      ${i.BASIC_DMG}, // BASIC_DMG
      ${i.SKILL_DMG}, // SKILL_DMG
      ${i.ULT_DMG}, // ULT_DMG
      ${i.FUA_DMG}, // FUA_DMG
      ${i.DOT_DMG}, // DOT_DMG
      ${i.BREAK_DMG}, // BREAK_DMG
      ${i.COMBO_DMG}, // COMBO_DMG
      ${i.DMG_RED_MULTI}, // DMG_RED_MULTI
      ${i.EHP}, // EHP
      ${i.DOT_CHANCE}, // DOT_CHANCE
      ${i.EFFECT_RES_PEN}, // EFFECT_RES_PEN
      ${i.DOT_SPLIT}, // DOT_SPLIT
      ${i.DOT_STACKS}, // DOT_STACKS
      ${i.ENEMY_WEAKNESS_BROKEN}, // ENEMY_WEAKNESS_BROKEN
      ${i.SUPER_BREAK_MODIFIER}, // SUPER_BREAK_MODIFIER
      ${i.BASIC_SUPER_BREAK_MODIFIER}, // BASIC_SUPER_BREAK_MODIFIER
      ${i.SUPER_BREAK_HMC_MODIFIER}, // SUPER_BREAK_HMC_MODIFIER
      ${i.BASIC_TOUGHNESS_DMG}, // BASIC_TOUGHNESS_DMG
      ${i.SKILL_TOUGHNESS_DMG}, // SKILL_TOUGHNESS_DMG
      ${i.ULT_TOUGHNESS_DMG}, // ULT_TOUGHNESS_DMG
      ${i.FUA_TOUGHNESS_DMG}, // FUA_TOUGHNESS_DMG
      ${i.BASIC_ORIGINAL_DMG_BOOST}, // BASIC_ORIGINAL_DMG_BOOST
      ${i.SKILL_ORIGINAL_DMG_BOOST}, // SKILL_ORIGINAL_DMG_BOOST
      ${i.ULT_ORIGINAL_DMG_BOOST}, // ULT_ORIGINAL_DMG_BOOST
      ${i.BASIC_BREAK_DMG_MODIFIER}, // BASIC_BREAK_DMG_MODIFIER
      ${i.ULT_CD_OVERRIDE}, // ULT_CD_OVERRIDE
      ${i.ULT_BOOSTS_MULTI}, // ULT_BOOSTS_MULTI
      ${i.RATIO_BASED_HP_BUFF}, // RATIO_BASED_HP_BUFF
      ${i.RATIO_BASED_HP_P_BUFF}, // RATIO_BASED_HP_P_BUFF
      ${i.RATIO_BASED_ATK_BUFF}, // RATIO_BASED_ATK_BUFF
      ${i.RATIO_BASED_ATK_P_BUFF}, // RATIO_BASED_ATK_P_BUFF
      ${i.RATIO_BASED_DEF_BUFF}, // RATIO_BASED_DEF_BUFF
      ${i.RATIO_BASED_DEF_P_BUFF}, // RATIO_BASED_DEF_P_BUFF
      ${i.RATIO_BASED_SPD_BUFF}, // RATIO_BASED_SPD_BUFF
      ${i.RATIO_BASED_CD_BUFF}, // RATIO_BASED_CD_BUFF
      ${i.BREAK_EFFICIENCY_BOOST}, // BREAK_EFFICIENCY_BOOST
      ${i.BASIC_BREAK_EFFICIENCY_BOOST}, // BASIC_BREAK_EFFICIENCY_BOOST
      ${i.ULT_BREAK_EFFICIENCY_BOOST}, // ULT_BREAK_EFFICIENCY_BOOST
      ${i.BASIC_DMG_TYPE}, // BASIC_DMG_TYPE
      ${i.SKILL_DMG_TYPE}, // SKILL_DMG_TYPE
      ${i.ULT_DMG_TYPE}, // ULT_DMG_TYPE
      ${i.FUA_DMG_TYPE}, // FUA_DMG_TYPE
      ${i.DOT_DMG_TYPE}, // DOT_DMG_TYPE
      ${i.BREAK_DMG_TYPE}, // BREAK_DMG_TYPE
      ${i.SUPER_BREAK_DMG_TYPE}, // SUPER_BREAK_DMG_TYPE
      ${i.WEIGHT}, // WEIGHT
      Sets(),
    );
  `;return t=t.replace("/* INJECT COMPUTED STATS */",l),t}function e1(t){for(const e of["ATK","DEF","HP","SPD","CR","CD","EHR","BE","OHB","ERR"])(e=="ATK"||e=="DEF"||e=="HP"||e=="SPD")&&(t+=`
fn buffDynamic${e}_P(
  value: f32,
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>
) {
  if (value < 0.0001) {
    return;
  }
  (*p_x).${e} += value * base${e};
  evaluateDependencies${e}(p_x, p_state);
}
      `,t+=`
fn buffNonDynamic${e}_P(
  value: f32,
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>
) {
  if (value < 0.0001) {
    return;
  }
  (*p_x).${e} += value * base${e};
}
      `),t+=`
fn buffDynamic${e}(
  value: f32,
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>
) {
  if (value < 0.0001) {
    return;
  }
  (*p_x).${e} += value;
  evaluateDependencies${e}(p_x, p_state);
}
    `,t+=`
fn buffNonDynamic${e}(
  value: f32,
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>
) {
  if (value < 0.0001) {
    return;
  }
  (*p_x).${e} += value;
}
    `,t+=`
fn buffNonRatioDynamic${e}(
  value: f32,
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>
) {
  if (value < 0.0001) {
    return;
  }
  (*p_x).${e} += value;
  evaluateNonRatioDependencies${e}(p_x, p_state);
}
    `;return t}function n1(t,e,i){is(e,t),pl(e,t),Rl(e,t);let l="";return l=vh(l,t,e),l=a1(l),l=zh(l,e,t),l=t1(l,t),l=e1(l),l=o1(l,e,i),l=s1(l,e,i),l=l1(l,e,i),l=i1(l,i),l}function a1(t){return t+=`
${Kh}

${Xh}

${Yh}
  `,t}function oc(t){return e=>{const[i,l,s]=e.split(/[><]/).flatMap(r=>r.split(".")).map(r=>r.trim()),o=s.includes("min");return s.includes("max")&&t[s]==d.MAX_INT||o&&t[s]==0?"":e}}function cc(t){return ze(t.length>0?t:"false",2)}function i1(t,e){return t.replace("/* INJECT SET FILTERS */",ze(`
if (relicSetSolutionsMatrix[relicSetIndex] < 1 || ornamentSetSolutionsMatrix[ornamentSetIndex] < 1) {
  results[index] = ${e.DEBUG?"ComputedStats()":"-failures; failures = failures + 1"};
  continue;
}
  `,2))}function s1(t,e,i){const l=v[e.resultSort].gpuProperty,s=v[e.resultSort].isComputedRating,o=oc(e),c=s?`x.${l} < threshold`:`c.${l} < threshold`,r=[o("c.SPD < minSpd"),o("c.SPD > maxSpd"),o("c.HP  < minHp"),o("c.HP  > maxHp"),o("c.ATK < minAtk"),o("c.ATK > maxAtk"),o("c.DEF < minDef"),o("c.DEF > maxDef"),o("c.CR  < minCr"),o("c.CR  > maxCr"),o("c.CD  < minCd"),o("c.CD  > maxCd"),o("c.EHR < minEhr"),o("c.EHR > maxEhr"),o("c.RES < minRes"),o("c.RES > maxRes"),o("c.BE  < minBe"),o("c.BE  > maxBe"),o("c.ERR < minErr"),o("c.ERR > maxErr"),o(c)].filter(u=>u.length>0).join(` ||
`);return t=t.replace("/* INJECT BASIC STAT FILTERS */",ze(`
if (statDisplay == 1) {
  if (
${cc(r)}
  ) {
    results[index] = ${i.DEBUG?"ComputedStats()":"-failures; failures = failures + 1"};
    continue;
  }
}
  `,2)),t}function l1(t,e,i){const l=v[e.resultSort].gpuProperty,s=oc(e),o=[s("x.SPD < minSpd"),s("x.SPD > maxSpd"),s("x.HP  < minHp"),s("x.HP  > maxHp"),s("x.ATK < minAtk"),s("x.ATK > maxAtk"),s("x.DEF < minDef"),s("x.DEF > maxDef"),s("x.CR  < minCr"),s("x.CR  > maxCr"),s("x.CD  < minCd"),s("x.CD  > maxCd"),s("x.EHR < minEhr"),s("x.EHR > maxEhr"),s("x.RES < minRes"),s("x.RES > maxRes"),s("x.BE  < minBe"),s("x.BE  > maxBe"),s("x.ERR < minErr"),s("x.ERR > maxErr"),s("x.EHP < minEhp"),s("x.EHP > maxEhp"),s("x.WEIGHT < minWeight"),s("x.WEIGHT > maxWeight"),s("x.BASIC_DMG < minBasic"),s("x.BASIC_DMG > maxBasic"),s("x.SKILL_DMG < minSkill"),s("x.SKILL_DMG > maxSkill"),s("x.ULT_DMG < minUlt"),s("x.ULT_DMG > maxUlt"),s("x.FUA_DMG < minFua"),s("x.FUA_DMG > maxFua"),s("x.DOT_DMG < minDot"),s("x.DOT_DMG > maxDot"),s("x.BREAK_DMG < minBreak"),s("x.BREAK_DMG > maxBreak"),s("x.COMBO_DMG < minCombo"),s("x.COMBO_DMG > maxCombo"),s(`x.${l} < threshold`)].filter(c=>c.length>0).join(` ||
`);return t=t.replace("/* INJECT COMBAT STAT FILTERS */",ze(`
if (statDisplay == 0) {
  if (
${cc(o)}
  ) {
    results[index] = ${i.DEBUG?"ComputedStats()":"-failures; failures = failures + 1"};
    continue;
  }
}
  `,2)),t}function o1(t,e,i){const l=i.DEBUG?1:i.CYCLES_PER_INVOCATION;t=t.replace("/* INJECT GPU PARAMS */",`
const WORKGROUP_SIZE = ${i.WORKGROUP_SIZE};
const BLOCK_SIZE = ${i.BLOCK_SIZE};
const CYCLES_PER_INVOCATION = ${l};
const DEBUG = ${i.DEBUG?1:0};
  `),i.DEBUG?t=t.replace("/* INJECT RESULTS BUFFER */",`
@group(2) @binding(0) var<storage, read_write> results : array<ComputedStats>; // DEBUG
    `):t=t.replace("/* INJECT RESULTS BUFFER */",`
@group(2) @binding(0) var<storage, read_write> results : array<f32>;
    `);const s=v[e.resultSort].gpuProperty,c=v[e.resultSort].isComputedRating?`x.${s}`:`c.${s}`;return i.DEBUG?t=t.replace("/* INJECT RETURN VALUE */",ze(`
results[index] = x; // DEBUG
    `,2)):t=t.replace("/* INJECT RETURN VALUE */",ze(`
if (statDisplay == 0) {
  results[index] = x.${s};
  failures = 1;
} else {
  results[index] = ${c};
  failures = 1;
}
    `,2)),t}const Ls={[n.HP_P]:0,[n.ATK_P]:1,[n.DEF_P]:2,[n.SPD_P]:3,[n.HP]:4,[n.ATK]:5,[n.DEF]:6,[n.SPD]:7,[n.CR]:8,[n.CD]:9,[n.EHR]:10,[n.RES]:11,[n.BE]:12,[n.ERR]:13,[n.OHB]:14,[n.Physical_DMG]:15,[n.Fire_DMG]:16,[n.Ice_DMG]:17,[n.Lightning_DMG]:18,[n.Wind_DMG]:19,[n.Quantum_DMG]:20,[n.Imaginary_DMG]:21};function c1(t,e,i,l,s){var g;const o=i.LinkRope.length,c=i.PlanarSphere.length,r=i.Feet.length,u=i.Body.length,R=i.Hands.length,h=i.Head.length,S=e%o,m=(e-S)/o%c,b=(e-m*o-S)/(o*c)%r,p=(e-b*c*o-m*o-S)/(o*c*r)%u,C=(e-p*r*c*o-b*c*o-m*o-S)/(o*c*r*u)%R,G=(e-C*u*r*c*o-p*r*c*o-b*c*o-m*o-S)/(o*c*r*u*R)%h;return l[6]=S,l[7]=m,l[8]=b,l[9]=p,l[10]=C,l[11]=G,l[12]=((g=s.resultsQueue.top())==null?void 0:g.value)??0,Ki(t,new Float32Array(l),GPUBufferUsage.STORAGE)}function r1(t,e){const i=[t.LinkRope.length,t.PlanarSphere.length,t.Feet.length,t.Body.length,t.Hands.length,t.Head.length,0,0,0,0,0,0,0,Object.keys(d.SetsRelics).length,Object.keys(d.SetsOrnaments).length];for(const l of Object.values(d.Stats))i[15+Ls[l]]=e.character.base[l];for(const l of Object.values(d.Stats))i[37+Ls[l]]=e.character.lightCone[l];for(const l of Object.values(d.Stats))i[59+Ls[l]]=e.character.traces[l];return i}function d1(t){return m1([...t.Head,...t.Hands,...t.Body,...t.Feet,...t.PlanarSphere,...t.LinkRope])}const u1=24;function m1(t){const e=[];for(let i=0;i<t.length;i++){const l=t[i],s=u1*i;let o=0;const c={},r=l.condensedStats;for(const u of r)c[u[0]]=u[1];e[s+o++]=c[n.HP_P]||0,e[s+o++]=c[n.ATK_P]||0,e[s+o++]=c[n.DEF_P]||0,e[s+o++]=c[n.SPD_P]||0,e[s+o++]=c[n.HP]||0,e[s+o++]=c[n.ATK]||0,e[s+o++]=c[n.DEF]||0,e[s+o++]=c[n.SPD]||0,e[s+o++]=c[n.CR]||0,e[s+o++]=c[n.CD]||0,e[s+o++]=c[n.EHR]||0,e[s+o++]=c[n.RES]||0,e[s+o++]=c[n.BE]||0,e[s+o++]=c[n.ERR]||0,e[s+o++]=c[n.OHB]||0,e[s+o++]=c[n.Physical_DMG]||0,e[s+o++]=c[n.Fire_DMG]||0,e[s+o++]=c[n.Ice_DMG]||0,e[s+o++]=c[n.Lightning_DMG]||0,e[s+o++]=c[n.Wind_DMG]||0,e[s+o++]=c[n.Quantum_DMG]||0,e[s+o++]=c[n.Imaginary_DMG]||0,e[s+o++]=b1(l),e[s+o++]=l.weightScore}return e}function b1(t){return Ma.includes(t.set)?nn[t.set]:ma[t.set]}const h1=`@group(0) @binding(0) var<storage, read_write> results : array<f32>;
@compute @workgroup_size(256)
fn main(
  @builtin(workgroup_id) workgroup_id : vec3<u32>,
  @builtin(local_invocation_id) local_invocation_id : vec3<u32>,
  @builtin(global_invocation_id) global_invocation_id : vec3<u32>,
  @builtin(local_invocation_index) local_invocation_index: u32,
  @builtin(num_workgroups) num_workgroups: vec3<u32>
) {
  var flag = 0;
  let offset = local_invocation_index * 256 * 512;

  for (var i: u32 = 511; i < 256 * 512; i += 512) {
    let index = offset + i;
    if (results[index] != -512) {
      flag = 1;
      break;
    }
  }

  if (flag == 0) {
    results[offset] = -1024;
  }

  workgroupBarrier();
  storageBarrier();

  if (local_invocation_index != 0) {
    return;
  }

  var skip: u32 = 256;
  for (var i: u32 = 0; i < 256; i += 1) {
    let index = i * 512 * 256;
    if (results[index] != -1024) {
      skip = i;
      break;
    }
  }

  if (skip > 0) {
    results[0] = -2048 - f32(skip);
  }
}
`;function rc(t,e,i,l,s,o,c,r,u=!1){const m=i.resultsLimit??1024,b=u,p=n1(l,i,{WORKGROUP_SIZE:256,BLOCK_SIZE:65536,CYCLES_PER_INVOCATION:512,RESULTS_LIMIT:m,DEBUG:b});b&&console.log(p);const C=p1(t,p),G=R1(t),g=r1(e,l),T=Float32Array.BYTES_PER_ELEMENT*65536*512,D=t.createBuffer({size:T,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC}),I=d1(e),F=Ki(t,new Float32Array(I),GPUBufferUsage.STORAGE),E=Ki(t,new Int32Array(c),GPUBufferUsage.STORAGE,!0,!0),P=Ki(t,new Int32Array(r),GPUBufferUsage.STORAGE,!0,!0),N=t.createBindGroup({layout:C.getBindGroupLayout(1),entries:[{binding:0,resource:{buffer:F}},{binding:1,resource:{buffer:P}},{binding:2,resource:{buffer:E}}]}),k=t.createBindGroup({layout:C.getBindGroupLayout(2),entries:[{binding:0,resource:{buffer:D}}]}),B=t.createBindGroup({layout:G.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:D}}]}),j=Math.ceil(s/65536/512),st=new lc(m,(A,z)=>A.value-z.value);return{WORKGROUP_SIZE:256,BLOCK_SIZE:65536,CYCLES_PER_INVOCATION:512,RESULTS_LIMIT:m,DEBUG:b,request:i,params:l,resultMatrixBufferSize:T,permutations:s,iterations:j,startTime:0,relics:e,resultsQueue:st,baseParamsArray:g,cancelled:!1,computeEngine:o,device:t,computePipeline:C,postComputePipeline:G,bindGroup1:N,bindGroup2:k,postComputeBindGroup0:B,resultMatrixBuffer:D,relicsMatrixBuffer:F,relicSetSolutionsMatrixBuffer:E,ornamentSetSolutionsMatrixBuffer:P}}function dc(t,e){const i=c1(t.device,e,t.relics,t.baseParamsArray,t),l=t.device,s=t.computePipeline,o=t.postComputePipeline,c=t.bindGroup1,r=t.bindGroup2,u=t.postComputeBindGroup0,R=t.resultMatrixBufferSize,h=t.resultMatrixBuffer,S=l.createBindGroup({layout:s.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:i}}]}),m=l.createCommandEncoder(),b=m.beginComputePass();b.setPipeline(s),b.setBindGroup(0,S),b.setBindGroup(1,c),b.setBindGroup(2,r),b.dispatchWorkgroups(t.WORKGROUP_SIZE),t.computeEngine==Jn&&(b.setPipeline(o),b.setBindGroup(0,u),b.dispatchWorkgroups(1)),b.end();const p=l.createBuffer({size:R,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});return m.copyBufferToBuffer(h,0,p,0,R),l.queue.submit([m.finish()]),t.startTime||(t.startTime=new Date().getTime()),p}function p1(t,e){const i=S1(t),l=t.createShaderModule({code:e});return t.createComputePipeline({layout:t.createPipelineLayout({bindGroupLayouts:i}),compute:{module:l,entryPoint:"main"}})}function R1(t){const e=[t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}}]})],i=t.createShaderModule({code:h1});return t.createComputePipeline({layout:t.createPipelineLayout({bindGroupLayouts:e}),compute:{module:i,entryPoint:"main"}})}function S1(t){return[t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}}]}),t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}},{binding:1,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}},{binding:2,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}}]}),t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}}]})]}function Ki(t,e,i,l=!0,s=!1){const o=t.createBuffer({mappedAtCreation:l,size:e.byteLength,usage:i}),c=o.getMappedRange();return s?new Int32Array(c).set(e):new Float32Array(c).set(e),o.unmap(),o}function uc(t){t.resultMatrixBuffer.unmap(),t.resultMatrixBuffer.destroy(),t.relicsMatrixBuffer.unmap(),t.relicsMatrixBuffer.destroy(),t.relicSetSolutionsMatrixBuffer.unmap(),t.relicSetSolutionsMatrixBuffer.destroy(),t.ornamentSetSolutionsMatrixBuffer.unmap(),t.ornamentSetSolutionsMatrixBuffer.destroy()}function f1(t,e){const i=new Float32Array(e);console.log(i),Z1(i),C1(i)}function G1(t){return{ED:t[22],BASIC:t[69],SKILL:t[70],ULT:t[71],FUA:t[72],DOT:t[73],BREAK:t[74],COMBO:t[75],WEIGHT:t[113],EHP:t[77],xHP:t[4],xATK:t[5],xDEF:t[6],xSPD:t[7],xCR:t[8],xCD:t[9],xEHR:t[10],xRES:t[11],xBE:t[12],xERR:t[13],xOHB:t[14],xELEMENTAL_DMG:t[22]}}function C1(t){const e=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData")??[],i=G1(t);e[1]=i,window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:e})}function el(t){return{"HP%":t[0],"ATK%":t[1],"DEF%":t[2],"SPD%":t[3],HP:t[4],ATK:t[5],DEF:t[6],SPD:t[7],"CRIT Rate":t[8],"CRIT DMG":t[9],"Effect Hit Rate":t[10],"Effect RES":t[11],"Break Effect":t[12],"Energy Regeneration Rate":t[13],"Outgoing Healing Boost":t[14],"Physical DMG Boost":t[15],"Fire DMG Boost":t[16],"Ice DMG Boost":t[17],"Lightning DMG Boost":t[18],"Wind DMG Boost":t[19],"Quantum DMG Boost":t[20],"Imaginary DMG Boost":t[21],ELEMENTAL_DMG:t[22],BASIC_SCALING:t[23],SKILL_SCALING:t[24],ULT_SCALING:t[25],FUA_SCALING:t[26],DOT_SCALING:t[27],BASIC_CR_BOOST:t[28],SKILL_CR_BOOST:t[29],ULT_CR_BOOST:t[30],FUA_CR_BOOST:t[31],BASIC_CD_BOOST:t[32],SKILL_CD_BOOST:t[33],ULT_CD_BOOST:t[34],FUA_CD_BOOST:t[35],BASIC_BOOST:t[36],SKILL_BOOST:t[37],ULT_BOOST:t[38],FUA_BOOST:t[39],DOT_BOOST:t[40],VULNERABILITY:t[41],BASIC_VULNERABILITY:t[42],SKILL_VULNERABILITY:t[43],ULT_VULNERABILITY:t[44],FUA_VULNERABILITY:t[45],DOT_VULNERABILITY:t[46],BREAK_VULNERABILITY:t[47],DEF_PEN:t[48],BASIC_DEF_PEN:t[49],SKILL_DEF_PEN:t[50],ULT_DEF_PEN:t[51],FUA_DEF_PEN:t[52],DOT_DEF_PEN:t[53],BREAK_DEF_PEN:t[54],SUPER_BREAK_DEF_PEN:t[55],RES_PEN:t[56],PHYSICAL_RES_PEN:t[57],FIRE_RES_PEN:t[58],ICE_RES_PEN:t[59],LIGHTNING_RES_PEN:t[60],WIND_RES_PEN:t[61],QUANTUM_RES_PEN:t[62],IMAGINARY_RES_PEN:t[63],BASIC_RES_PEN:t[64],SKILL_RES_PEN:t[65],ULT_RES_PEN:t[66],FUA_RES_PEN:t[67],DOT_RES_PEN:t[68],BASIC_DMG:t[69],SKILL_DMG:t[70],ULT_DMG:t[71],FUA_DMG:t[72],DOT_DMG:t[73],BREAK_DMG:t[74],COMBO_DMG:t[75],DMG_RED_MULTI:t[76],EHP:t[77],DOT_CHANCE:t[78],EFFECT_RES_PEN:t[79],DOT_SPLIT:t[80],DOT_STACKS:t[81],ENEMY_WEAKNESS_BROKEN:t[82],SUPER_BREAK_MODIFIER:t[83],BASIC_SUPER_BREAK_MODIFIER:t[84],SUPER_BREAK_HMC_MODIFIER:t[85],BASIC_TOUGHNESS_DMG:t[86],SKILL_TOUGHNESS_DMG:t[87],ULT_TOUGHNESS_DMG:t[88],FUA_TOUGHNESS_DMG:t[89],BASIC_ORIGINAL_DMG_BOOST:t[90],SKILL_ORIGINAL_DMG_BOOST:t[91],ULT_ORIGINAL_DMG_BOOST:t[92],BASIC_BREAK_DMG_MODIFIER:t[93],ULT_CD_OVERRIDE:t[94],ULT_BOOSTS_MULTI:t[95],RATIO_BASED_HP_BUFF:t[96],RATIO_BASED_HP_P_BUFF:t[97],RATIO_BASED_ATK_BUFF:t[98],RATIO_BASED_ATK_P_BUFF:t[99],RATIO_BASED_DEF_BUFF:t[100],RATIO_BASED_DEF_P_BUFF:t[101],RATIO_BASED_SPD_BUFF:t[102],RATIO_BASED_CD_BUFF:t[103],BREAK_EFFICIENCY_BOOST:t[104],BASIC_BREAK_EFFICIENCY_BOOST:t[105],ULT_BREAK_EFFICIENCY_BOOST:t[106],BASIC_DMG_TYPE:t[107],SKILL_DMG_TYPE:t[108],ULT_DMG_TYPE:t[109],FUA_DMG_TYPE:t[110],DOT_DMG_TYPE:t[111],BREAK_DMG_TYPE:t[112],SUPER_BREAK_DMG_TYPE:t[113],WEIGHT:t[114]}}function Z1(t){const e=el(t);for(const[i,l]of Object.entries(e))typeof l=="number"&&(e[i]=g1(l));console.log(el(t))}function g1(t){return x.precisionRound(t,5)||""}function Wn(t){return a.jsx(pt.Link,{target:"_blank",style:{color:"#3f8eff"},href:t.url,children:t.text})}function T1(t){try{const e=!t||o0.lt(t,Oi);if(console.log(`Is out of date? ${e}`,t,Oi),!e)return;const i=a.jsxs(br,{children:[a.jsx(w,{type:"primary",icon:a.jsx(c0,{}),onClick:()=>{window.notificationApi.destroy(),window.store.getState().setActiveKey(mt.CHANGELOG)},children:V.t("notifications:Changelog.View")}),a.jsx(w,{type:"default",onClick:()=>window.notificationApi.destroy(),children:V.t("notifications:Changelog.Dismiss")})]});window.notificationApi.success({message:V.t("notifications:Changelog.Message"),description:V.t("notifications:Changelog.Description"),btn:i,duration:30})}catch(e){console.error(e)}}function D1(){try{window.notificationApi.warning({message:"WebGPU is not supported on this browser!",description:a.jsxs(f,{vertical:!0,children:[a.jsx("div",{children:V.t("notifications:GPU.Description.l1")}),a.jsx("div",{children:a.jsxs("ul",{children:[a.jsx("li",{children:V.t("notifications:GPU.Description.l2")}),a.jsx("li",{children:a.jsx(Et,{t:V.t,i18nKey:"notifications:GPU.Description.l3",components:{CustomLink:a.jsx(Wn,{url:"https://github.com/gpuweb/gpuweb/wiki/Implementation-Status"})}})})]})}),a.jsx("div",{children:V.t("notifications:GPU.Description.l4")})]}),duration:15})}catch(t){console.error(t)}}async function cs(t){var i;const e=await((i=navigator==null?void 0:navigator.gpu)==null?void 0:i.requestAdapter());return e==null?(console.log("Webgpu not supported"),t&&D1(),null):await e.requestDevice({requiredLimits:{}})}async function mc(t){try{const e=await cs(t);return e||window.store.getState().setSavedSessionKey(ae.computeEngine,tn),e}catch(e){return console.log(e),null}}async function V1(t){const{params:e,request:i,relics:l,permutations:s,computeEngine:o,relicSetSolutions:c,ornamentSetSolutions:r}=t,u=await cs();if(u==null){console.error("Not supported");return}u.onuncapturederror=h=>{window.store.getState().optimizationInProgress&&(window.store.getState().setOptimizationInProgress(!1),Q.error("The GPU acceleration process has crashed - results may be invalid. Please try again or report a bug to the Discord server",20))},window.store.getState().setOptimizerStartTime(Date.now()),window.store.getState().setOptimizerRunningEngine(o);const R=rc(u,l,i,e,s,o,c,r);R.DEBUG&&Q.warning("Debug mode is ON",5),console.log("Raw inputs",{params:e,request:i,relics:l,permutations:s});for(let h=0;h<R.iterations;h++){const S=h*R.BLOCK_SIZE*R.CYCLES_PER_INVOCATION,m=S+R.BLOCK_SIZE*R.CYCLES_PER_INVOCATION,b=dc(R,S);if(o==Jn){await b.mapAsync(GPUMapMode.READ,0,4);const p=new Float32Array(b.getMappedRange(0,4))[0];if(b.unmap(),p!=-2304)if(p<=-2048){const G=-(p+2048)*512*256;await ys(S,b,R,G)}else await ys(S,b,R)}else await ys(S,b,R);if(window.store.getState().setOptimizerEndTime(Date.now()),window.store.getState().setPermutationsResults(R.resultsQueue.size()),window.store.getState().setPermutationsSearched(Math.min(R.permutations,m)),b.unmap(),b.destroy(),R.permutations<=m||!window.store.getState().optimizationInProgress){R.cancelled=!0;break}}W1(R),uc(R)}async function ys(t,e,i,l=0){var m;await e.mapAsync(GPUMapMode.READ,l);const s=e.getMappedRange(l*4),o=new Float32Array(s),c=i.resultsQueue;let r=((m=c.top())==null?void 0:m.value)??0,u=i.BLOCK_SIZE*i.CYCLES_PER_INVOCATION-l;const R=t+i.BLOCK_SIZE*i.CYCLES_PER_INVOCATION-l,h=i.permutations-R;h<0&&(u+=h);const S=t+l;if(c.size()>=i.RESULTS_LIMIT)for(let b=u-1;b>=0;b--){const p=o[b];if(p<0){b+=p+1;continue}p<=r||(r=c.fixedSizePushOvercapped({index:S+b,value:p}).value)}else for(let b=u-1;b>=0;b--){const p=o[b];if(p<0){b+=p+1;continue}p<=r&&c.size()>=i.RESULTS_LIMIT||(c.fixedSizePush({index:S+b,value:p}),r=c.top().value)}i.DEBUG&&f1(i,s)}function W1(t){const e=t.relics,i=e.LinkRope.length,l=e.PlanarSphere.length,s=e.Feet.length,o=e.Body.length,c=e.Hands.length,r=e.Head.length;t.cancelled||window.store.getState().setPermutationsSearched(t.permutations),window.store.getState().setOptimizationInProgress(!1),window.store.getState().setPermutationsResults(t.resultsQueue.size());const u=t.resultsQueue.toArray().sort((m,b)=>b.value-m.value),R=[];for(let m=0;m<u.length;m++){const b=u[m].index,p=b%i,C=(b-p)/i%l,G=(b-C*i-p)/(i*l)%s,g=(b-G*l*i-C*i-p)/(i*l*s)%o,T=(b-g*s*l*i-G*l*i-C*i-p)/(i*l*s*o)%c,D=(b-T*o*s*l*i-g*s*l*i-G*l*i-C*i-p)/(i*l*s*o*c)%r,I=t.params,F=Aa(t.request,{Head:e.Head[D],Hands:e.Hands[T],Body:e.Body[g],Feet:e.Feet[G],PlanarSphere:e.PlanarSphere[C],LinkRope:e.LinkRope[p]},I,!0);F.id=b,Cl(F),R.push(F)}const h=v[t.request.resultSort],S=t.request.statDisplay=="combat"?h.combatGridColumn:h.basicGridColumn;ls(S),tt.setRows(R),window.optimizerGrid.current.api.updateGridOptions({datasource:tt.getDataSource()})}let ta=!1;function bc(t){let e=x.clone(y.getRelics());ee.calculateWeightScore(t,e),e=e.filter(l=>l.equippedBy==t.characterId),e=ee.applyMainStatsFilter(t,e),e=ee.splitRelicsByPart(e),ee.condenseRelicSubstatsForOptimizer(e),Object.keys(e).map(l=>e[l]=e[l][0]);const i=Aa(t,e);Cl(i),tt.setTopRow(i,!0)}const Na={cancel:t=>{ta=!0,gn.cancel(t)},getFilteredRelics:t=>{let e=x.clone(y.getRelics());ee.calculateWeightScore(t,e),e=ee.applyEquippedFilter(t,e),e=ee.applyEnhanceFilter(t,e),e=ee.applyGradeFilter(t,e),e=ee.applyRankFilter(t,e),e=ee.applyExcludeFilter(t,e);const i=ee.splitRelicsByPart(e);return e=ee.applyMainFilter(t,e),e=ee.applyMainStatsFilter(t,e),e=ee.applySetFilter(t,e),e=ee.splitRelicsByPart(e),e=ee.applyCurrentFilter(t,e),e=ee.applyTopFilter(t,e,i),[e,i]},optimize:async function(t){ta=!1;const e=[t.teammate0,t.teammate1,t.teammate2].filter(F=>!!F.characterId);for(let F=0;F<e.length;F++){const E=e[F],P=y.getMetadata().characters[E.characterId];E.ELEMENTAL_DMG_TYPE=va[P.element]}const[i]=this.getFilteredRelics(t);ee.condenseRelicSubstatsForOptimizer(i),console.log("Optimize request",t);const l=yh(t),s=Mh(t),o={hSize:i.Head.length,gSize:i.Hands.length,bSize:i.Body.length,fSize:i.Feet.length,pSize:i.PlanarSphere.length,lSize:i.LinkRope.length},c=o.hSize*o.gSize*o.bSize*o.fSize*o.pSize*o.lSize;if(tt.setMetadata(o,i),console.log(`Optimization permutations: ${c}, blocksize: ${d.THREAD_BUFFER_LENGTH}`),c==0){window.store.getState().setOptimizationInProgress(!1),kh(t),tt.setRows([]),tt.resetDataSource();return}if(ta){window.store.getState().setOptimizationInProgress(!1);return}tt.scrollToGrid(),window.optimizerGrid.current.api.showLoadingOverlay();const r=ss(t);bc(t);let u=0,R=!1,h=[];const S=v[t.resultSort],m=t.statDisplay=="combat"?S.combatGridColumn:S.basicGridColumn,b=t.resultsLimit||1024,p=new lc(b,(F,E)=>F[m]-E[m]),C=2e4;let G=0;const g=d.THREAD_BUFFER_LENGTH,T=x.clone(r);let D=window.store.getState().savedSession[ae.computeEngine];if(await cs()==null&&D!=tn&&(Q.warning("GPU acceleration is not available on this browser - only desktop Chrome and Opera are supported. If you are on a supported browser, report a bug to the Discord server",15),window.store.getState().setSavedSessionKey(ae.computeEngine,tn),D=tn),D==tn){const F=[];for(let P=0;P<c;P+=G)G=Math.min(g,G+C),F.push({skip:P,runSize:G});let E=F.length;window.store.getState().setOptimizerStartTime(Date.now()),window.store.getState().setOptimizerRunningEngine(tn);for(const P of F){const N={input:{params:T,request:t,relics:i,WIDTH:P.runSize,skip:P.skip,permutations:c,relicSetSolutions:l,ornamentSetSolutions:s},getMinFilter:()=>p.size()&&p.size()>=t.resultsLimit?p.top()[m]:0},k=B=>{if(u+=P.runSize,E-=1,ta&&R)return;const j=new Float64Array(B.buffer);if(mi.extractArrayToResults(j,P.runSize,h,p),window.store.getState().setPermutationsResults(p.size()),window.store.getState().setPermutationsSearched(Math.min(c,u)),window.store.getState().setOptimizerEndTime(Date.now()),E==0||ta){window.store.getState().setOptimizationInProgress(!1),h=p.toArray(),tt.setRows(h),ls(m),window.optimizerGrid.current.api.updateGridOptions({datasource:tt.getDataSource()}),console.log("Done",h.length),R=!0,!h.length&&!E&&Uh(t);return}h.length>=_r&&!ta&&(ta=!0,Na.cancel(t.optimizationId),Q.error("Too many results, stopping at 2,000,000 - please narrow your filters to limit results",10))};gn.execute(N,k)}}else V1({params:r,request:t,relics:i,permutations:c,computeEngine:D,relicSetSolutions:l,ornamentSetSolutions:s})}};function Cl(t){t.ED=t.ELEMENTAL_DMG,t.BASIC=t.x.BASIC_DMG,t.SKILL=t.x.SKILL_DMG,t.ULT=t.x.ULT_DMG,t.FUA=t.x.FUA_DMG,t.DOT=t.x.DOT_DMG,t.BREAK=t.x.BREAK_DMG,t.COMBO=t.x.COMBO_DMG,t.WEIGHT=t.x.WEIGHT,t.EHP=t.x.EHP,t.xHP=t.x[n.HP],t.xATK=t.x[n.ATK],t.xDEF=t.x[n.DEF],t.xSPD=t.x[n.SPD],t.xCR=t.x[n.CR],t.xCD=t.x[n.CD],t.xEHR=t.x[n.EHR],t.xRES=t.x[n.RES],t.xBE=t.x[n.BE],t.xERR=t.x[n.ERR],t.xOHB=t.x[n.OHB],t.xELEMENTAL_DMG=t.x.ELEMENTAL_DMG}const jt={ratingFilters:()=>({title:V.t("hint:RatingFilter.Title"),content:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:V.t("hint:RatingFilter.p1")}),a.jsx("p",{children:V.t("hint:RatingFilter.p2")}),a.jsx("p",{children:V.t("hint:RatingFilter.p3")})]})}),combatBuffs:()=>({title:V.t("hint:CombatBuffs.Title"),content:a.jsx(f,{vertical:!0,gap:10,children:a.jsx("p",{children:V.t("hint:CombatBuffs.p1")})})}),statFilters:()=>({title:V.t("hint:StatFilters.Title"),content:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:V.t("hint:StatFilters.p1")}),a.jsx("p",{children:V.t("hint:StatFilters.p2")}),a.jsx("p",{children:V.t("hint:StatFilters.p3")})]})}),mainStats:()=>({title:V.t("hint:Mainstats.Title"),content:a.jsx(f,{vertical:!0,gap:10,children:a.jsx("p",{children:V.t("hint:Mainstats.p1")})})}),sets:()=>({title:V.t("hint:Sets.Title"),content:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:V.t("hint:Sets.p1")}),a.jsx("p",{children:V.t("hint:Sets.p2")})]})}),character:()=>({title:V.t("hint:Character.Title"),content:a.jsx(f,{vertical:!0,gap:10,children:a.jsx("p",{children:V.t("hint:Character.p1")})})}),characterPassives:()=>({title:V.t("hint:CharacterPassives.Title"),content:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:V.t("hint:CharacterPassives.p1")}),a.jsx("p",{children:V.t("hint:CharacterPassives.p2")})]})}),lightConePassives:()=>({title:V.t("hint:LightconePassives.Title"),content:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:V.t("hint:LightconePassives.p1")}),a.jsx("p",{children:V.t("hint:LightconePassives.p2")})]})}),lightCone:()=>({title:V.t("hint:Lightcone.Title"),content:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:V.t("hint:Lightcone.p1")}),a.jsx("p",{children:V.t("hint:Lightcone.p2")})]})}),actions:()=>({title:V.t("hint:Actions.Title"),content:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:V.t("hint:Actions.p1")}),a.jsx("p",{children:V.t("hint:Actions.p2")}),a.jsx("p",{children:V.t("hint:Actions.p3")}),a.jsx("p",{children:V.t("hint:Actions.p4")})]})}),optimizerOptions:()=>({title:V.t("hint:OptimizerOptions.Title"),content:(()=>{const{t}=et("hint",{keyPrefix:"OptimizerOptions"});return a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:a.jsxs(Et,{t,i18nKey:"p1",children:[a.jsx("strong",{children:"Character priority filter"}),"- When this option is enabled, the character may only steal relics from lower priority characters. The optimizer will ignore relics equipped by higher priority characters on the list. Change character ranks from the priority selector or by dragging them on the Characters page."]})}),a.jsx("p",{children:a.jsxs(Et,{t,i18nKey:"p2",children:[a.jsx("strong",{children:"Boost main stat"}),"- Calculates relic mains stats as if they were this level (or their max if they can't reach this level) if they are currently below it. Substats are not changed accordingly, so builds with lower level relics may be stronger once you level them."]})}),a.jsx("p",{children:a.jsxs(Et,{t,i18nKey:"p3",children:[a.jsx("strong",{children:"Keep current relics"}),"- The character must use its currently equipped items, and the optimizer will try to fill in empty slots"]})}),a.jsx("p",{children:a.jsxs(Et,{t,i18nKey:"p4",children:[a.jsx("strong",{children:"Include equipped relics"}),"- When enabled, the optimizer will allow using currently equipped by a character for the search. Otherwise equipped relics are excluded"]})}),a.jsx("p",{children:a.jsxs(Et,{t,i18nKey:"p5",children:[a.jsx("strong",{children:"Priority"}),"- See: Character priority filter. Changing this setting will change the character's priority"]})}),a.jsx("p",{children:a.jsxs(Et,{t,i18nKey:"p6",children:[a.jsx("strong",{children:"Exclude"}),"- Select specific characters' equipped relics to exclude for the search. This setting overrides the priority filter"]})}),a.jsx("p",{children:a.jsxs(Et,{t,i18nKey:"p7",children:[a.jsx("strong",{children:"Enhance / grade"}),"- Select the minimum enhance to search for and minimum stars for relics to include"]})})]})})()}),relics:()=>({title:V.t("hint:Relics.Title"),content:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:V.t("hint:Relics.p1")}),a.jsx("p",{children:V.t("hint:Relics.p2")}),a.jsx("p",{children:V.t("hint:Relics.p3")}),a.jsx("p",{children:V.t("hint:Relics.p4")}),a.jsx("p",{children:V.t("hint:Relics.p5")})]})}),optimizationDetails:()=>({title:V.t("hint:OptimizationDetails.Title"),content:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:V.t("hint:OptimizationDetails.p1")}),a.jsx("p",{children:V.t("hint:OptimizationDetails.p2")}),a.jsx("p",{children:V.t("hint:OptimizationDetails.p3")}),a.jsx("p",{children:V.t("hint:OptimizationDetails.p4")})]})}),enemyOptions:()=>({title:V.t("hint:EnemyOptions.Title"),content:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:V.t("hint:EnemyOptions.p1")}),a.jsx("p",{children:V.t("hint:EnemyOptions.p2")}),a.jsx("p",{children:V.t("hint:EnemyOptions.p3")}),a.jsx("p",{children:V.t("hint:EnemyOptions.p4")}),a.jsx("p",{children:V.t("hint:EnemyOptions.p5")}),a.jsx("p",{children:V.t("hint:EnemyOptions.p6")})]})}),substatWeightFilter:()=>({title:V.t("hint:SubstatWeightFilter.Title"),content:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:V.t("hint:SubstatWeightFilter.p1")}),a.jsx("p",{children:V.t("hint:SubstatWeightFilter.p2")}),a.jsx("p",{children:V.t("hint:SubstatWeightFilter.p3")}),a.jsx("p",{children:V.t("hint:SubstatWeightFilter.p4")})]})}),statDisplay:()=>({title:V.t("hint:StatDisplay.Title"),content:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:V.t("hint:StatDisplay.p1")}),a.jsx("p",{children:V.t("hint:StatDisplay.p2")}),a.jsx("p",{children:V.t("hint:StatDisplay.p3")})]})}),valueColumns:()=>({title:V.t("hint:ValueColumns.Title"),content:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:V.t("hint:ValueColumns.p1")}),a.jsx("p",{children:a.jsx("b",{children:V.t("hint:ValueColumns.p2")})}),a.jsx("p",{children:V.t("hint:ValueColumns.p3")}),a.jsx("p",{children:V.t("hint:ValueColumns.p4")}),a.jsx("p",{children:V.t("hint:ValueColumns.p5")}),a.jsx("p",{children:a.jsx("b",{children:V.t("hint:ValueColumns.p6")})}),a.jsx("p",{children:V.t("hint:ValueColumns.p7")}),a.jsx("p",{children:V.t("hint:ValueColumns.p8")}),a.jsx("p",{children:V.t("hint:ValueColumns.p9")}),a.jsx("p",{children:V.t("hint:ValueColumns.p10")})]})}),relicInsight:()=>({title:V.t("hint:RelicInsights.Title"),content:(()=>{const{t}=et("hint",{keyPrefix:"RelicInsights"});return a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:t("p1")}),a.jsx("p",{children:a.jsxs(Et,{t,i18nKey:"p2",children:["'Buckets' looks at how perfect this relic could be (with the best possible upgrade rolls) for each character, and buckets them into percentages.",a.jsx("br",{}),"If you hover over a character portrait you'll see the new stats and/or rolls necessary to reach the max potential of this relic.",a.jsx("br",{}),"âš ï¸ Relics with missing substats may have misleadingly high buckets, as best-case upgrade analysis assumes the best new substat per character."]})}),a.jsx("p",{children:t("p3")})]})})()}),relicLocation:()=>({title:V.t("hint:RelicLocation.Title"),content:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("p",{children:V.t("hint:RelicLocation.p1")}),a.jsx("p",{children:V.t("hint:RelicLocation.p2")}),a.jsxs(f,{vertical:!0,children:[a.jsx("div",{children:V.t("hint:RelicLocation.p3")}),a.jsxs("ul",{children:[a.jsx("li",{children:V.t("hint:RelicLocation.p4")}),a.jsx("li",{children:V.t("hint:RelicLocation.p5")}),a.jsx("li",{children:V.t("hint:RelicLocation.p6")})]})]})]})}),locatorParams:()=>({title:V.t("hint:LocatorParams.Title"),content:(()=>{const{t}=et("hint",{keyPrefix:"LocatorParams"});return a.jsxs(f,{vertical:!0,gap:8,children:[a.jsx("p",{children:a.jsxs(Et,{t,i18nKey:"p1",children:[a.jsx("strong",{children:"Inventory Width"}),"- Select the number of columns the inventory has ingame so that the relic locator can find your relic accurately"]})}),a.jsx("p",{children:a.jsxs(Et,{t,i18nKey:"p2",children:[a.jsx("strong",{children:"Auto Filter rows"}),"- Maximum number of rows before the relic locator applies a part/set filter to try and bring the searched relic closer to the top of your inventory"]})})]})})()})},Jt=t=>a.jsx(ri,{content:t.type.content,title:t.type.title,overlayStyle:{width:500},children:a.jsx("img",{src:U.getQuestion(),style:{width:16,opacity:.6}})});Jt.propTypes={type:_.object};function Zl(t){const{currentCharacters:e,excludeCharacters:i,withNobodyOption:l}={currentCharacters:[],excludeCharacters:[],withNobodyOption:!0,...t},s=e.filter(o=>!i.includes(o)).map(o=>({value:o.id,label:a.jsxs(f,{gap:5,align:"center",children:[a.jsx("img",{src:U.getCharacterAvatarById(o.id),style:{height:22,marginRight:4}}),V.t(`gameData:Characters.${o.id}.Name`)]}),title:V.t(`gameData:Characters.${o.id}.Name`)})).sort((o,c)=>o.title.localeCompare(c.title));return l&&s.unshift({value:"None",label:"None",title:"None"}),s}const{Text:Ms}=pt,I1=()=>{const{t,i18n:e}=et(["optimizerTab","common"]),i=window.store(c=>c.characters),l=window.store(c=>c.optimizerTabFocusCharacter),s=L.useMemo(()=>Zl({currentCharacters:i,excludeCharacters:[y.getCharacterById(l)],withNobodyOption:!1}),[i,l,e.resolvedLanguage]),o=L.useMemo(()=>i.map(c=>({value:c.rank,label:a.jsxs(f,{gap:5,children:[a.jsx("img",{src:U.getCharacterAvatarById(c.id),style:{height:22,marginRight:6}}),t("OptimizerOptions.Priority.Label",{rank:c.rank+1,id:c.id})]}),name:t("OptimizerOptions.Priority.Name",{rank:c.rank+1})})),[i,t]);return a.jsx(f,{vertical:!0,children:a.jsxs(f,{vertical:!0,gap:de,children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:t("OptimizerOptions.Header")}),a.jsx(Jt,{type:jt.optimizerOptions()})]}),a.jsxs(f,{align:"center",children:[a.jsx(X.Item,{name:"includeEquippedRelics",valuePropName:"checked",children:a.jsx(Kn,{checkedChildren:a.jsx(Ia,{}),unCheckedChildren:a.jsx(Yn,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),a.jsx(Ms,{children:t("OptimizerOptions.AllowEquipped")})]}),a.jsxs(f,{align:"center",children:[a.jsx(X.Item,{name:"rankFilter",valuePropName:"checked",children:a.jsx(Kn,{checkedChildren:a.jsx(Ia,{}),unCheckedChildren:a.jsx(Yn,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),a.jsx(Ms,{children:t("OptimizerOptions.PriorityFilter")})]}),a.jsxs(f,{align:"center",children:[a.jsx(X.Item,{name:"keepCurrentRelics",valuePropName:"checked",children:a.jsx(Kn,{checkedChildren:a.jsx(Ia,{}),unCheckedChildren:a.jsx(Yn,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),a.jsx(Ms,{children:t("OptimizerOptions.KeepCurrent")})]}),a.jsxs(f,{gap:de,style:{marginTop:10},children:[a.jsxs(f,{vertical:!0,gap:2,children:[a.jsx(nt,{children:t("OptimizerOptions.Priority.Header")}),a.jsx(X.Item,{name:"rank",children:a.jsx(K,{style:{width:(Xe-de)/2},options:o,popupMatchSelectWidth:225,listHeight:500,optionLabelProp:"name",placeholder:t("OptimizerOptions.Priority.Header"),showSearch:!0,filterOption:x.nameFilterOption})})]}),a.jsxs(f,{vertical:!0,gap:2,children:[a.jsx(nt,{children:t("OptimizerOptions.Exclude")}),a.jsx(X.Item,{name:"exclude",children:a.jsx(K,{style:{width:(Xe-de)/2},mode:"multiple",maxTagCount:"responsive",popupMatchSelectWidth:225,listHeight:500,allowClear:!0,showSearch:!0,optionLabelProp:"title",placeholder:t("OptimizerOptions.Exclude"),options:s,filterOption:x.titleFilterOption})})]})]}),a.jsxs(f,{justify:"space-between",children:[a.jsxs(f,{vertical:!0,gap:2,children:[a.jsx(nt,{children:t("OptimizerOptions.MinEnhance.Header")}),a.jsx(X.Item,{name:"enhance",children:a.jsx(K,{style:{width:(Xe-de)/2},options:[{value:0,label:t("OptimizerOptions.MinEnhance.Label0")},{value:3,label:t("OptimizerOptions.MinEnhance.Label3")},{value:6,label:t("OptimizerOptions.MinEnhance.Label6")},{value:9,label:t("OptimizerOptions.MinEnhance.Label9")},{value:12,label:t("OptimizerOptions.MinEnhance.Label12")},{value:15,label:t("OptimizerOptions.MinEnhance.Label15")}]})})]}),a.jsxs(f,{vertical:!0,gap:2,children:[a.jsx(nt,{children:t("OptimizerOptions.MinRarity.Header")}),a.jsx(X.Item,{name:"grade",children:a.jsx(K,{style:{width:(Xe-de)/2},options:[{value:2,label:t("OptimizerOptions.MinRarity.Label2")},{value:3,label:t("OptimizerOptions.MinRarity.Label3")},{value:4,label:t("OptimizerOptions.MinRarity.Label4")},{value:5,label:t("OptimizerOptions.MinRarity.Label5")}]})})]})]}),a.jsx(f,{justify:"space-between",align:"center",children:a.jsxs(f,{vertical:!0,gap:2,children:[a.jsx(nt,{children:t("OptimizerOptions.BoostMain.Header")}),a.jsx(X.Item,{name:"mainStatUpscaleLevel",children:a.jsx(K,{style:{width:(Xe-de)/2},options:[{value:3,label:t("OptimizerOptions.BoostMain.Label3")},{value:6,label:t("OptimizerOptions.BoostMain.Label6")},{value:9,label:t("OptimizerOptions.BoostMain.Label9")},{value:12,label:t("OptimizerOptions.BoostMain.Label12")},{value:15,label:t("OptimizerOptions.BoostMain.Label15")}]})})]})})]})})},{Text:Da}=pt,_i=40,qi=200,xi=80,Va=5;function E1(){const{t}=et("optimizerTab",{keyPrefix:"SetConditionals"}),e=window.store(S=>S.conditionalSetEffectsDrawerOpen),i=window.store(S=>S.setConditionalSetEffectsDrawerOpen),l=L.useMemo(()=>{const S=[];for(let m=0;m<=5;m++)S.push({display:t("SelectOptions.Streetwise.Display",{stackCount:m}),value:m,label:t("SelectOptions.Streetwise.Label",{stackCount:m,buffValue:5*m})});return S},[t]),s=L.useMemo(()=>[{display:t("SelectOptions.Wastelander.Off.Display"),value:0,label:t("SelectOptions.Wastelander.Off.Label")},{display:t("SelectOptions.Wastelander.Debuffed.Display"),value:1,label:t("SelectOptions.Wastelander.Debuffed.Label")},{display:t("SelectOptions.Wastelander.Imprisoned.Display"),value:2,label:t("SelectOptions.Wastelander.Imprisoned.Label")}],[t]),o=L.useMemo(()=>{const S=[];for(let m=0;m<=2;m++)S.push({display:t("SelectOptions.Longevous.Display",{stackCount:m}),value:m,label:t("SelectOptions.Longevous.Label",{stackCount:m,buffValue:8*m})});return S},[t]),c=L.useMemo(()=>{const S=[];for(let m=0;m<=8;m++)S.push({display:t("SelectOptions.Ashblazing.Display",{stackCount:m}),value:m,label:t("SelectOptions.Ashblazing.Label",{stackCount:m,buffValue:6*m})});return S},[t]),r=L.useMemo(()=>{const S=[];for(let m=0;m<=3;m++)S.push({display:t("SelectOptions.Prisoner.Display",{stackCount:m}),value:m,label:t("SelectOptions.Prisoner.Label",{stackCount:m,buffValue:6*m})});return S},[t]),u=L.useMemo(()=>[{display:t("SelectOptions.Diver.Off.Display"),value:-1,label:t("SelectOptions.Diver.Off.Label")},{display:t("SelectOptions.Diver.1Debuff.Display"),value:0,label:t("SelectOptions.Diver.1Debuff.Label")},{display:t("SelectOptions.Diver.2Debuff.Display"),value:1,label:t("SelectOptions.Diver.2Debuff.Label")},{display:t("SelectOptions.Diver.3Debuff.Display"),value:2,label:t("SelectOptions.Diver.3Debuff.Label")},{display:t("SelectOptions.Diver.2+Debuff.Display"),value:3,label:t("SelectOptions.Diver.2+Debuff.Label")},{display:t("SelectOptions.Diver.3+Debuff.Display"),value:4,label:t("SelectOptions.Diver.3+Debuff.Label")}],[t]),R=L.useMemo(()=>{const S=[];for(let m=0;m<=10;m++)S.push({display:t("SelectOptions.Sigonia.Display",{stackCount:m}),value:m,label:t("SelectOptions.Sigonia.Label",{stackCount:m,buffValue:4*m})});return S},[t]),h=L.useMemo(()=>{const S=[];for(let m=0;m<=5;m++)S.push({display:t("SelectOptions.Duran.Display",{stackCount:m}),value:m,label:t("SelectOptions.Duran.Label",{stackCount:m,buffValue:5*m})});return S[5].label=t("SelectOptions.Duran.Label5"),S},[t]);return a.jsx(ns,{title:t("Title"),placement:"right",onClose:()=>i(!1),open:e,width:750,forceRender:!0,children:a.jsxs(f,{justify:"center",children:[a.jsxs(f,{vertical:!0,gap:Va,children:[a.jsxs(f,{gap:Va,align:"center",justify:"flex-start",children:[a.jsx(Da,{style:{width:_i}}),a.jsx(Da,{style:{width:qi}})]}),a.jsx(Ct,{set:d.Sets.PasserbyOfWanderingCloud,description:t("RelicDescription",{id:101}),conditional:t("Conditionals.DefaultMessage"),p4Checked:!0}),a.jsx(Ct,{set:d.Sets.MusketeerOfWildWheat,description:t("RelicDescription",{id:102}),conditional:t("Conditionals.DefaultMessage"),p4Checked:!0}),a.jsx(Ct,{set:d.Sets.KnightOfPurityPalace,description:t("RelicDescription",{id:103}),conditional:t("Conditionals.DefaultMessage"),p4Checked:!0}),a.jsx(Ct,{set:d.Sets.HunterOfGlacialForest,description:t("RelicDescription",{id:104}),conditional:t("Conditionals.Hunter")}),a.jsx(Ct,{set:d.Sets.ChampionOfStreetwiseBoxing,selectOptions:l,description:t("RelicDescription",{id:105}),conditional:t("Conditionals.Streetwise")}),a.jsx(Ct,{set:d.Sets.GuardOfWutheringSnow,description:t("RelicDescription",{id:106}),conditional:t("Conditionals.DefaultMessage"),p4Checked:!0}),a.jsx(Ct,{set:d.Sets.FiresmithOfLavaForging,description:t("RelicDescription",{id:107}),conditional:t("Conditionals.Firesmith")}),a.jsx(Ct,{set:d.Sets.GeniusOfBrilliantStars,description:t("RelicDescription",{id:108}),conditional:t("Conditionals.Genius")}),a.jsx(Ct,{set:d.Sets.BandOfSizzlingThunder,description:t("RelicDescription",{id:109}),conditional:t("Conditionals.Thunder")}),a.jsx(Ct,{set:d.Sets.EagleOfTwilightLine,description:t("RelicDescription",{id:110}),conditional:t("Conditionals.DefaultMessage"),p4Checked:!0}),a.jsx(Ct,{set:d.Sets.ThiefOfShootingMeteor,description:t("RelicDescription",{id:111}),conditional:t("Conditionals.DefaultMessage"),p4Checked:!0}),a.jsx(Ct,{set:d.Sets.WastelanderOfBanditryDesert,selectOptions:s,description:t("RelicDescription",{id:112}),conditional:t("Conditionals.Wastelander")}),a.jsx(Ct,{set:d.Sets.LongevousDisciple,selectOptions:o,description:t("RelicDescription",{id:113}),conditional:t("Conditionals.Longevous")}),a.jsx(Ct,{set:d.Sets.MessengerTraversingHackerspace,description:t("RelicDescription",{id:114}),conditional:t("Conditionals.Messenger")}),a.jsx(Ct,{set:d.Sets.TheAshblazingGrandDuke,selectOptions:c,description:t("RelicDescription",{id:115}),conditional:t("Conditionals.Ashblazing")}),a.jsx(Ct,{set:d.Sets.PrisonerInDeepConfinement,selectOptions:r,description:t("RelicDescription",{id:116}),conditional:t("Conditionals.Prisoner")}),a.jsx(Ct,{set:d.Sets.PioneerDiverOfDeadWaters,selectOptions:u,description:t("RelicDescription",{id:117}),conditional:t("Conditionals.Diver")}),a.jsx(Ct,{set:d.Sets.WatchmakerMasterOfDreamMachinations,description:t("RelicDescription",{id:118}),conditional:t("Conditionals.Watchmaker")}),a.jsx(Ct,{set:d.Sets.IronCavalryAgainstTheScourge,description:t("RelicDescription",{id:119}),conditional:t("Conditionals.DefaultMessage"),p4Checked:!0}),a.jsx(Ct,{set:d.Sets.TheWindSoaringValorous,description:t("RelicDescription",{id:120}),conditional:t("Conditionals.Valorous")}),!jn[d.SetsRelics.SacerdosRelivedOrdeal]&&a.jsx(Ct,{set:d.Sets.SacerdosRelivedOrdeal,description:t("RelicDescription",{id:121}),conditional:V.t("BetaMessage",{ns:"conditionals",Version:je}),p4Checked:!0}),!jn[d.SetsRelics.ScholarLostInErudition]&&a.jsx(Ct,{set:d.Sets.ScholarLostInErudition,description:t("RelicDescription",{id:122}),conditional:V.t("BetaMessage",{ns:"conditionals",Version:je})})]}),a.jsx(da,{}),a.jsxs(f,{vertical:!0,gap:Va,style:{marginLeft:5},children:[a.jsxs(f,{gap:Va,align:"center",justify:"flex-start",children:[a.jsx(Da,{style:{width:_i}}),a.jsx(Da,{style:{width:qi}})]}),a.jsx(Ct,{set:d.Sets.SpaceSealingStation,description:t("PlanarDescription",{id:301}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),a.jsx(Ct,{set:d.Sets.FleetOfTheAgeless,description:t("PlanarDescription",{id:302}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),a.jsx(Ct,{set:d.Sets.PanCosmicCommercialEnterprise,description:t("PlanarDescription",{id:303}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),a.jsx(Ct,{set:d.Sets.BelobogOfTheArchitects,description:t("PlanarDescription",{id:304}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),a.jsx(Ct,{set:d.Sets.CelestialDifferentiator,description:t("PlanarDescription",{id:305}),conditional:t("Conditionals.Differentiator")}),a.jsx(Ct,{set:d.Sets.InertSalsotto,description:t("PlanarDescription",{id:306}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),a.jsx(Ct,{set:d.Sets.TaliaKingdomOfBanditry,description:t("PlanarDescription",{id:307}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),a.jsx(Ct,{set:d.Sets.SprightlyVonwacq,description:t("PlanarDescription",{id:308}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),a.jsx(Ct,{set:d.Sets.RutilantArena,description:t("PlanarDescription",{id:309}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),a.jsx(Ct,{set:d.Sets.BrokenKeel,description:t("PlanarDescription",{id:310}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),a.jsx(Ct,{set:d.Sets.FirmamentFrontlineGlamoth,description:t("PlanarDescription",{id:311}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),a.jsx(Ct,{set:d.Sets.PenaconyLandOfTheDreams,description:t("PlanarDescription",{id:312}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),a.jsx(Ct,{set:d.Sets.SigoniaTheUnclaimedDesolation,selectOptions:R,description:t("PlanarDescription",{id:313}),conditional:t("Conditionals.Sigonia")}),a.jsx(Ct,{set:d.Sets.IzumoGenseiAndTakamaDivineRealm,description:t("PlanarDescription",{id:314}),conditional:t("Conditionals.Izumo")}),a.jsx(Ct,{set:d.Sets.DuranDynastyOfRunningWolves,selectOptions:h,description:t("PlanarDescription",{id:315}),conditional:t("Conditionals.Duran")}),a.jsx(Ct,{set:d.Sets.ForgeOfTheKalpagniLantern,description:t("PlanarDescription",{id:316}),conditional:t("Conditionals.Kalpagni")}),a.jsx(Ct,{set:d.Sets.LushakaTheSunkenSeas,description:t("PlanarDescription",{id:317}),conditional:t("Conditionals.Lushaka"),p2Checked:!0}),a.jsx(Ct,{set:d.Sets.TheWondrousBananAmusementPark,description:t("PlanarDescription",{id:318}),conditional:t("Conditionals.Banana")})]})]})})}function Ct(t){const{t:e}=et("optimizerTab",{keyPrefix:"SetConditionals"}),i=a.jsxs(f,{vertical:!0,gap:10,children:[a.jsxs(f,{vertical:!0,children:[a.jsx(nt,{children:a.jsx("p",{children:e("DescriptionHeader")})}),a.jsx("p",{dangerouslySetInnerHTML:{__html:t.description}})]}),a.jsxs(f,{vertical:!0,children:[a.jsx(nt,{children:a.jsx("p",{children:e("EffectHeader")})}),a.jsx("p",{children:t.conditional})]})]});if(d.SetsRelicsNames.includes(t.set)){let l=a.jsx(Kn,{disabled:t.p4Checked});return t.selectOptions&&(l=a.jsx(K,{optionLabelProp:"display",listHeight:500,size:"small",style:{width:xi},dropdownStyle:{width:"fit-content"},options:t.selectOptions})),a.jsx(ri,{content:i,title:e("SetName",{id:Be[t.set]}),mouseEnterDelay:.5,overlayStyle:{width:600},children:a.jsxs(f,{gap:Va,align:"center",justify:"flex-start",children:[a.jsx(f,{style:{width:_i},children:a.jsx("img",{src:U.getSetImage(t.set,d.Parts.PlanarSphere),style:{width:36,height:36}})}),a.jsx(Da,{style:{width:qi,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e("SetName",{id:Be[t.set]})}),a.jsx(f,{style:{width:xi},justify:"flex-end",children:a.jsx(X.Item,{name:["setConditionals",t.set,1],valuePropName:t.selectOptions?"value":"checked",children:l})})]})})}else{let l=a.jsx(Kn,{disabled:t.p2Checked});return t.selectOptions&&(l=a.jsx(K,{optionLabelProp:"display",listHeight:500,size:"small",style:{width:xi},dropdownStyle:{width:"fit-content"},options:t.selectOptions})),a.jsx(ri,{content:i,title:e("SetName",{id:Be[t.set]}),mouseEnterDelay:.5,overlayStyle:{width:600},children:a.jsxs(f,{gap:Va,align:"center",justify:"flex-start",children:[a.jsx(f,{style:{width:_i},children:a.jsx("img",{src:U.getSetImage(t.set,d.Parts.PlanarSphere),style:{width:36,height:36}})}),a.jsx(Da,{style:{width:qi,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e("SetName",{id:Be[t.set]})}),a.jsx(f,{style:{width:xi},justify:"flex-end",children:a.jsx(X.Item,{name:["setConditionals",t.set,1],valuePropName:t.selectOptions?"value":"checked",children:l})})]})})}}Ct.propTypes={description:_.string,p2Checked:_.bool,p4Checked:_.bool,set:_.string,conditional:_.string,selectOptions:_.array};const x1=(t,e="#ebb434")=>{const i=[];let l="",s=!1,o=0;return t&&t.split("::BR::").forEach(c=>{i.length>0&&(i.push(a.jsx("br",{},o++)),i.push(a.jsx("br",{},o++)));for(let r=0;r<c.length;r++)c[r]>="0"&&c[r]<="9"||c[r]==="%"||c[r]==="A"&&c[r+1]&&/[2,4,6]/.test(c[r+1])||c[r]==="E"&&c[r+1]&&/[0-6]/.test(c[r+1])?(l+=c[r],s=!0):(s&&(i.push(a.jsx("span",{style:{color:e},children:l},o++)),l="",s=!1),i.push(a.jsx("span",{children:c[r]},o++)));s&&i.push(a.jsx("span",{style:{color:e},children:l},o++))}),a.jsx(a.Fragment,{children:i})},{Text:L1}=pt;function Ri(t){const e=i=>{const[l,s]=Te.useState(!1),o=a.jsxs(L1,{style:{width:400,display:"block"},children:[a.jsx("hr",{}),i.content]});return a.jsx(ri,{trigger:"hover",placement:"left",content:o,title:i.title,open:l,mouseEnterDelay:.4,onOpenChange:s,children:a.jsx("span",{children:a.jsx(t,{...i})})})};return e.displayName="WithPopoverWrapped",e.propTypes=Ri.propTypes,e}Ri.displayName="WithPopover";Ri.propTypes={title:Yl.string,content:Yl.object};const y1="flex-start",M1="center",F1=61,B1=55,P1=155,Co=xe(pt)`
    white-space: pre-line;
`;function k1(t){return t.lc?"lightConeConditionals":"characterConditionals"}const N1=t=>{const e=t.percent?100:1,i=t.percent?.01:1,l=t.percent?"%":"",s=L.useRef(t.min),o=L.useRef(t.max),c=[k1(t),t.name];return t.teammateIndex!=null&&c.unshift(`teammate${t.teammateIndex}`),L.useEffect(()=>{const r=window.optimizerForm.getFieldValue(c);(r>=t.max||r==o.current)&&window.optimizerForm.setFieldValue(c,t.max),(r<=t.min||r==s.current)&&window.optimizerForm.setFieldValue(c,t.min),s.current=t.min,o.current=t.max},[t.min,t.max]),a.jsxs(f,{vertical:!0,gap:5,style:{marginBottom:0},children:[a.jsxs(f,{justify:y1,align:M1,children:[a.jsx("div",{style:{minWidth:F1,display:"block"},children:a.jsx(X.Item,{name:c,children:a.jsx(mn,{min:t.min,max:t.max,controls:!1,size:"small",style:{width:B1},parser:r=>r==null||r==""?0:Ta(parseFloat(r)/e),formatter:r=>`${Ta((r??0)*e)}${l}`,disabled:t.disabled})})}),a.jsx(Co,{children:t.text})]}),a.jsxs(f,{align:"center",justify:"flex-start",gap:5,style:{height:14},children:[a.jsx(X.Item,{name:c,children:a.jsx(as,{min:t.min,max:t.max,step:i,style:{minWidth:P1,marginTop:0,marginBottom:0,marginLeft:1},tooltip:{formatter:r=>`${Ta((r??0)*e)}${l}`},disabled:t.disabled})}),a.jsx(Co,{style:{minWidth:20,marginBottom:2,textAlign:"center"},children:`${Ta(t.max*e)}${l}`})]})]})},U1=Ri(N1),H1="flex-start",X1="center",Y1=xe(pt)`
    white-space: pre-line;
`;function K1(t){return t.lc?"lightConeConditionals":"characterConditionals"}const v1=t=>{const e=[K1(t),t.name];return t.teammateIndex!=null&&e.unshift(`teammate${t.teammateIndex}`),a.jsxs(f,{justify:H1,align:X1,children:[a.jsx(X.Item,{name:e,valuePropName:"checked",children:a.jsx(Kn,{checkedChildren:a.jsx(Ia,{}),unCheckedChildren:a.jsx(Yn,{}),disabled:t.disabled,defaultChecked:!1,style:{width:45,marginRight:5}})}),a.jsx(Y1,{children:t.text})]})},w1=Ri(v1),A1={switch:w1,slider:U1},hc=({content:t,teammateIndex:e})=>{const{t:i}=et("optimizerTab"),l=[];let s=0;return t?t.length===0?e!=null?l.push(a.jsx("div",{children:i("NoTeamConditionals")},s++)):l.push(a.jsx("div",{children:i("NoConditionals")},s++)):t.forEach(o=>{const c=A1[o.formItem];o.teammateIndex=e,l.push(L.createElement(c,{...o,name:o.id,title:o.title,content:x1(o.content),text:o.text,key:s++})),s++}):e!=null?l.push(a.jsx("div",{children:i("NoTeamConditionals")},s++)):l.push(a.jsx("div",{children:i("NoConditionals")},s++)),a.jsx(f,{vertical:!0,gap:8,children:l})},gl=L.memo(({id:t,eidolon:e,teammateIndex:i})=>{const{t:l}=et("optimizerTab"),s=t;if(!t||!qs[s])return a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:l("CharacterPassives")}),a.jsx(Jt,{type:jt.characterPassives()})]});const o=qs[s],c=o(e),r=i!=null?c.teammateContent?c.teammateContent():void 0:c.content();return a.jsxs(f,{vertical:!0,gap:5,children:[i==null&&a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:l("CharacterPassives")}),a.jsx(Jt,{type:jt.characterPassives()})]}),a.jsx(hc,{content:r,teammateIndex:i})]})});gl.displayName="CharacterConditionalDisplay";const Tl=L.memo(t=>{const{t:e}=et("optimizerTab"),{id:i,superImposition:l,teammateIndex:s}=t,o=i;if(!o||!$s[o])return a.jsxs(f,{vertical:!0,gap:5,children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:e("LightconePassives")}),a.jsx(Jt,{type:jt.lightConePassives()})]}),s==null&&a.jsx(pt.Text,{italic:!0})]});const c=$s[o],r=c(l-1),u=s!=null?r.teammateContent?r.teammateContent():void 0:r.content();return a.jsxs(f,{vertical:!0,gap:5,children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:e("LightconePassives")}),a.jsx(Jt,{type:jt.lightConePassives()})]}),a.jsx(hc,{content:u,teammateIndex:s})]})});Tl.displayName="LightConeConditionalDisplay";const{useToken:Q1}=Ce,{Paragraph:j1}=pt,J1=100,O1=150,pc=t=>a.jsxs("div",{children:[a.jsx("img",{width:t.innerW,src:t.imgSrc,style:{transform:`translate(${(t.innerW-J1)/2/t.innerW*-100}%, ${(t.innerH-O1)/2/t.innerH*-100}%)`}}),a.jsx(j1,{ellipsis:{rows:t.rows},style:{position:"absolute",bottom:0,left:0,width:"110%",textAlign:"center",background:"#282B31",color:"#D0D0D2",marginLeft:"-5%",paddingLeft:10,paddingRight:10,lineHeight:"16px",height:18*t.rows,alignItems:"center",marginBottom:0,fontSize:13},children:a.jsx("div",{style:{position:"relative",top:"50%",transform:"translateY(-50%)",maxHeight:18*t.rows,textOverflow:"ellipsis",overflow:"hidden"},children:t.text})})]});function Dl(){return Object.keys(Or).map(t=>({key:t,display:a.jsx("img",{style:{width:32},src:U.getPath(t)})}))}function z1(){return[5,4,3].map(t=>{const e=[];for(let i=0;i<t;i++)e.push(a.jsx("img",{style:{width:16},src:U.getStar()},i));return{key:t,display:a.jsx(f,{flex:1,justify:"center",align:"center",style:{marginTop:1},children:e})}})}function Rc(){return Object.keys(va).map(t=>({key:t,display:a.jsx("img",{style:{width:30},src:U.getElement(t)})}))}function Ua({currentFilters:t,name:e,flexBasis:i,tags:l,setCurrentFilters:s}){const{token:o}=Q1(),c=t[e],r=(u,R)=>{const h=R?[...c,u]:c.filter(m=>m!=u),S=x.clone(t);S[e]=h,console.log("filters",e,S),s(S)};return a.jsx(f,{style:{flexWrap:"wrap",flexGrow:1,backgroundColor:o.colorBgContainer,boxShadow:`0px 0px 0px 1px ${o.colorBorder} inset`,borderRadius:6,overflow:"hidden",height:40},children:l.map(u=>a.jsx(r0,{checked:c.includes(u.key),onChange:R=>r(u.key,R),style:{flex:1,flexBasis:i,boxShadow:`1px 1px 1px 0px ${o.colorBorder}`,backgroundColor:c.includes(u.key)?o.colorPrimary:"transparent"},children:a.jsx(f,{align:"center",justify:"space-around",style:{height:"100%"},children:u.display})},u.key))})}const _1="linear-gradient(#8A6700 0px, #D6A100 63px, #D6A100 112px, #282B31 112px, #282B31 150px)",q1="linear-gradient(#5F388C 0px, #9F6CD9 63px, #9F6CD9 112px, #282B31 112px, #282B31 150px)",$1="linear-gradient(#2d4cc5 0px, #4A85C8 63px, #4A85C8 112px, #282B31 112px, #282B31 150px)",tp={5:_1,4:q1,3:$1},ep=100,np=150,ap=115,ip=150,Vl=({characterId:t,value:e,onChange:i,selectStyle:l,initialPath:s,withIcon:o,externalOpen:c,setExternalOpen:r})=>{const u=y.getMetadata(),[R,h]=L.useState(!1),{t:S}=et("modals",{keyPrefix:"LightconeSelect"}),m=L.useMemo(()=>({rarity:[],path:s??(t?[u.characters[t].path]:[]),name:""}),[t,s]),b=L.useRef(null),[p,C]=L.useState(x.clone(m)),G=L.useMemo(()=>x.generateLightConeOptions(),[S]),g=L.useMemo(()=>{const I=[];for(const F of G)I.push({value:F.value,label:a.jsxs(f,{gap:5,align:"center",children:[a.jsx("img",{src:U.getPath(u.lightCones[F.value].path),style:{height:22,marginRight:4}}),F.label]})});return I},[G]);L.useEffect(()=>{(R||c)&&setTimeout(()=>{var I;return(I=b==null?void 0:b.current)==null?void 0:I.focus()},100)},[R,c]);function T(I){return!(p.rarity.length&&!p.rarity.includes(I.rarity)||p.path.length&&!p.path.includes(I.path)||!I.name.toLowerCase().includes(p.name))}const D=I=>{h(!1),r&&r(!1),i&&i(I)};return a.jsxs(a.Fragment,{children:[a.jsx(K,{style:l,value:e,options:o?g:G,placeholder:S("Placeholder"),allowClear:!0,onClear:()=>{i&&i(null)},onDropdownVisibleChange:I=>{I&&(h(!0),C(x.clone(m)))},dropdownStyle:{display:"none"},suffixIcon:null}),a.jsx(Ve,{open:R||c,centered:!0,width:"90%",style:{height:"70%",maxWidth:1200},destroyOnClose:!0,title:S("Title"),onCancel:()=>{h(!1),r&&r(!1)},footer:null,children:a.jsxs(f,{vertical:!0,gap:12,children:[a.jsxs(f,{gap:12,wrap:"wrap",children:[a.jsx(f,{vertical:!0,wrap:"wrap",style:{minWidth:300,flexGrow:1},children:a.jsx(Oe,{size:"large",style:{height:40},placeholder:S("Placeholder"),ref:b,onChange:I=>{const F=x.clone(p);F.name=I.target.value.toLowerCase(),C(F)},onPressEnter:()=>{const I=G.filter(T)[0];I&&D(I.id)}})}),a.jsxs(f,{wrap:"wrap",style:{flexGrow:1},gap:12,children:[a.jsx(f,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:a.jsx(Ua,{name:"path",tags:Dl(),flexBasis:"14.2%",currentFilters:p,setCurrentFilters:C})}),a.jsx(f,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:a.jsx(Ua,{name:"rarity",tags:z1(),flexBasis:"14.2%",currentFilters:p,setCurrentFilters:C})})]})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(auto-fill, minmax(${ep}px, 1fr))`,gridGap:8},children:G.sort(x.sortRarityDesc).filter(T).map(I=>a.jsx(ya,{hoverable:!0,style:{background:tp[I.rarity],overflow:"hidden",height:`${np}px`},onMouseDown:()=>D(I.id),styles:{body:{padding:1}},children:a.jsx(pc,{imgSrc:U.getLightConeIconById(I.id),text:I.label,innerW:ap,innerH:ip,rows:2})},I.id))})]})})]})},sp=100,lp=150,op=150,cp=170,rp="linear-gradient(#8A6700 0px, #D6A100 63px, #D6A100 130px, #282B31 130px, #282B31 150px)",dp="linear-gradient(#5F388C 0px, #9F6CD9 63px, #9F6CD9 130px, #282B31 130px, #282B31 150px)",Zo={rarity:[],path:[],element:[],name:""},Ha=({value:t,onChange:e,selectStyle:i,multipleSelect:l,withIcon:s,externalOpen:o,setExternalOpen:c})=>{const r=L.useRef(null),{t:u}=et("modals",{keyPrefix:"CharacterSelect"}),[R,h]=L.useState(!1),[S,m]=L.useState(x.clone(Zo)),b=L.useMemo(()=>x.generateCharacterOptions(),[u]),[p,C]=L.useState(new Map),G=window.store(E=>E.excludedRelicPotentialCharacters),g=[];for(const E of b)g.push({value:E.value,label:a.jsxs(f,{gap:5,align:"center",children:[a.jsx("img",{src:U.getCharacterAvatarById(E.value),style:{height:22,marginRight:4}}),E.label]})});L.useEffect(()=>{if((R||o)&&(setTimeout(()=>{var E;return(E=r==null?void 0:r.current)==null?void 0:E.focus()},100),l)){const E=new Map(G.map(P=>[P,!0]));C(E)}},[R,o]);function T(E){return!(S.element.length&&!S.element.includes(E.element)||S.path.length&&!S.path.includes(E.path)||!E.label.toLowerCase().includes(S.name)||!E.displayName.toLowerCase().includes(S.name))}const D=E=>{l?(p.set(E,!p.get(E)),C(new Map(p))):(h(!1),c&&c(!1),e&&e(E))},I=()=>{const E=new Map(p);b.filter(T).forEach(P=>E.set(P.id,!0)),C(E)},F=()=>{const E=new Map(p);b.filter(T).forEach(P=>E.delete(P.id)),C(E)};return a.jsxs(a.Fragment,{children:[a.jsx(K,{style:i,value:t,options:s?g:b,placeholder:u(l?"MultiSelect.Placeholder":"SingleSelect.Placeholder"),allowClear:!0,maxTagCount:0,maxTagPlaceholder:()=>a.jsx("span",{children:G.length?u("MultiSelect.MaxTagPlaceholderSome",{count:G.length}):u("MultiSelect.MaxTagPlaceholderNone")}),onClear:()=>{e&&e(null)},onDropdownVisibleChange:E=>{E&&(h(!0),m(x.clone(Zo)))},dropdownStyle:{display:"none"},suffixIcon:null,mode:l?"multiple":void 0}),a.jsx(Ve,{open:R||o,centered:!0,destroyOnClose:!0,width:"90%",style:{height:"80%",maxWidth:1450},title:u(l?"MultiSelect.ModalTitle":"SingleSelect.ModalTitle"),onCancel:()=>{l&&e&&e(p),h(!1),c&&c(!1)},footer:null,children:a.jsxs(f,{vertical:!0,gap:12,style:{minWidth:350},children:[a.jsxs(f,{gap:12,wrap:"wrap",children:[a.jsxs(f,{wrap:"nowrap",style:{flexGrow:1},gap:10,children:[a.jsx(Oe,{size:"large",style:{height:40,flex:1},placeholder:u("SearchPlaceholder"),ref:r,onChange:E=>{const P=x.clone(S);P.name=E.target.value.toLowerCase(),m(P)},onPressEnter:()=>{const E=b.filter(T)[0];E&&D(E.id)}}),l&&a.jsxs(f,{gap:12,children:[a.jsx(w,{onClick:I,style:{height:"100%",width:120},children:u("ExcludeButton")}),a.jsx(w,{onClick:F,style:{height:"100%",width:120},children:u("ClearButton")})]})]}),a.jsxs(f,{wrap:"wrap",style:{minWidth:350,flexGrow:1},gap:12,children:[a.jsx(f,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:a.jsx(Ua,{name:"element",tags:Rc(),flexBasis:"14.2%",currentFilters:S,setCurrentFilters:m})}),a.jsx(f,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:a.jsx(Ua,{name:"path",tags:Dl(),flexBasis:"14.2%",currentFilters:S,setCurrentFilters:m})})]})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(auto-fill, minmax(${sp}px, 1fr))`,gridGap:8},children:b.sort(x.sortRarityDesc).filter(T).map(E=>a.jsx(ya,{hoverable:!0,style:{background:E.rarity===5?rp:dp,overflow:"hidden",height:`${lp}px`,...p.get(E.id)?{opacity:.25,background:"grey"}:{}},styles:{body:{padding:1}},onMouseDown:()=>D(E.id),children:a.jsx(pc,{imgSrc:U.getCharacterPreviewById(E.id),text:E.label,innerW:op,innerH:cp,rows:1})},E.id))})]})})]})},{Text:Sc}=pt,Wa=110,up=Wa,mp=Wa,Si=120,bp=Si,hp=Si,go=Si,To=Si,pp=480,Do=t=>t.data.value?a.jsxs(f,{gap:10,align:"center",children:[a.jsx(f,{children:a.jsx("img",{src:U.getSetImage(t.data.value,d.Parts.PlanarSphere),style:{width:26,height:26}})}),t.data.desc]}):a.jsx(Sc,{children:"None"}),kn=(t,e)=>a.jsxs(f,{align:"center",gap:3,children:[a.jsx("img",{src:U.getSetImage(t,d.Parts.PlanarSphere),style:{width:20,height:20}}),a.jsx(Sc,{style:{fontSize:12},children:e})]});function Rp(t){return`teammate${t}`}function Sp(){return{characterEidolon:0,characterConditionals:{},lightConeSuperimposition:1,lightConeConditionals:{}}}const fp=[M.MessengerTraversingHackerspace,M.WatchmakerMasterOfDreamMachinations],Gp=[M.BrokenKeel,M.FleetOfTheAgeless,M.PenaconyLandOfTheDreams,M.LushakaTheSunkenSeas];function Cp(t){const e=Object.values(t.equipped).map(l=>y.getRelicById(l)).filter(l=>l),i={};for(const l of fp)e.filter(s=>s.set==l).length==4&&l!=M.MessengerTraversingHackerspace&&(i.teamRelicSet=l);for(const l of Gp)e.filter(s=>s.set==l).length==2&&(i.teamOrnamentSet=l);return i}function Zp(){const t=window.optimizerForm.getFieldsValue();return[t.teammate0,t.teammate1,t.teammate2].filter(e=>e==null?void 0:e.characterId).length}const Fs=t=>{const{t:e}=et("optimizerTab",{keyPrefix:"TeammateCard"}),i=L.useMemo(()=>Rp(t.index),[t.index]),l=X.useWatch([i,"characterId"],window.optimizerForm),s=X.useWatch([i,"characterEidolon"],window.optimizerForm),o=X.useWatch([i,"lightCone"],window.optimizerForm),c=X.useWatch([i,"lightConeSuperimposition"],window.optimizerForm),[r,u]=L.useState(!1),[R,h]=L.useState(!1),S=l==null,m=L.useMemo(()=>[{value:M.MessengerTraversingHackerspace,desc:e("TeammateSets.Messenger.Desc"),label:kn(M.MessengerTraversingHackerspace,e("TeammateSets.Messenger.Text"))},{value:M.WatchmakerMasterOfDreamMachinations,desc:e("TeammateSets.Watchmaker.Desc"),label:kn(M.WatchmakerMasterOfDreamMachinations,e("TeammateSets.Watchmaker.Text"))},{value:ul,desc:e("TeammateSets.Sacerdos1Stack.Desc"),label:kn(M.SacerdosRelivedOrdeal,e("TeammateSets.Sacerdos1Stack.Text"))},{value:ml,desc:e("TeammateSets.Sacerdos2Stack.Desc"),label:kn(M.SacerdosRelivedOrdeal,e("TeammateSets.Sacerdos2Stack.Text"))}],[e]),b=L.useMemo(()=>[{value:M.BrokenKeel,desc:e("TeammateSets.Keel.Desc"),label:kn(M.BrokenKeel,e("TeammateSets.Keel.Text"))},{value:M.FleetOfTheAgeless,desc:e("TeammateSets.Ageless.Desc"),label:kn(M.FleetOfTheAgeless,e("TeammateSets.Ageless.Text"))},{value:M.PenaconyLandOfTheDreams,desc:e("TeammateSets.Penacony.Desc"),label:kn(M.PenaconyLandOfTheDreams,e("TeammateSets.Penacony.Text"))},{value:M.LushakaTheSunkenSeas,desc:e("TeammateSets.Lushaka.Desc"),label:kn(M.LushakaTheSunkenSeas,e("TeammateSets.Lushaka.Text"))}],[e]),p=L.useMemo(()=>{const g=[];for(let T=1;T<=5;T++)g.push({value:T,label:e("SuperimpositionN",{superimposition:T})});return g},[e]),C=L.useMemo(()=>{const g=[];for(let T=0;T<=6;T++)g.push({value:T,label:e("EidolonN",{eidolon:T})});return g},[e]);function G(){if(window.store.getState().setTeammateCount(Zp()),!l){window.optimizerForm.setFieldValue([i],Sp());return}const T=tt.getDisplayFormValues(tt.getForm())[i],D=y.getCharacterById(l);if(D){T.lightCone=D.form.lightCone,T.lightConeSuperimposition=D.form.lightConeSuperimposition||1,T.characterEidolon=D.form.characterEidolon;const F=Cp(D);T.teamRelicSet=F.teamRelicSet,T.teamOrnamentSet=F.teamOrnamentSet}else T.lightConeSuperimposition=1,T.characterEidolon=0;const I=En.get({characterId:l,characterEidolon:T.characterEidolon,characterConditionals:{},lightConeSuperimposition:T.lightConeSuperimposition,lightConeConditionals:{}});I.teammateDefaults&&(T.characterConditionals=Object.assign({},I.teammateDefaults(),T.characterConditionals),window.optimizerForm.setFieldValue([i],T))}return L.useEffect(()=>{G()},[l,t.index]),L.useEffect(()=>{if(!o)return;const g=tt.getDisplayFormValues(tt.getForm()),T=bn.get({lightCone:o,lightConeSuperimposition:c});if(!T.teammateDefaults)return;const D=Object.assign({},T.teammateDefaults(),g[i].lightConeConditionals);window.optimizerForm.setFieldValue([i,"lightConeConditionals"],D)},[o,c,t.index]),a.jsx(Ue,{size:"medium",height:pp,style:{overflow:"auto"},children:a.jsxs(f,{vertical:!0,gap:5,children:[a.jsxs(f,{gap:5,children:[a.jsx(X.Item,{name:[i,"characterId"],style:{flex:1},children:a.jsx(Ha,{value:"",selectStyle:{},externalOpen:r,setExternalOpen:u})}),a.jsx(w,{icon:a.jsx(d0,{}),style:{width:35},disabled:S,onClick:()=>{G(),Q.success(e("TeammateSyncSuccessMessage"))}}),a.jsx(X.Item,{name:[i,"characterEidolon"],children:a.jsx(K,{showSearch:!0,style:{width:110},options:C,placeholder:e("EidolonPlaceholder"),disabled:S})})]}),a.jsxs(f,{children:[a.jsx(f,{vertical:!0,style:{minWidth:258,marginLeft:5},children:a.jsx(gl,{id:l,eidolon:s,teammateIndex:t.index})}),a.jsxs(f,{vertical:!0,gap:5,children:[a.jsx("div",{style:{width:`${Wa}px`,height:`${Wa}px`,borderRadius:"10px"},children:a.jsx("img",{width:Wa,height:Wa,src:U.getCharacterAvatarById(l),onClick:()=>u(!0),style:{cursor:"pointer"}})}),a.jsx(X.Item,{name:[i,"teamRelicSet"],children:a.jsx(K,{className:"teammate-set-select",style:{width:110},options:m,placeholder:e("RelicsPlaceholder"),allowClear:!0,popupMatchSelectWidth:!1,optionLabelProp:"label",optionRender:Do,disabled:S})}),a.jsx(X.Item,{name:[i,"teamOrnamentSet"],children:a.jsx(K,{className:"teammate-set-select",style:{width:110},options:b,placeholder:e("OrnamentsPlaceholder"),allowClear:!0,popupMatchSelectWidth:!1,optionLabelProp:"label",optionRender:Do,disabled:S})})]})]}),a.jsx("div",{style:{height:1}}),a.jsxs(f,{gap:5,children:[a.jsx(X.Item,{name:[i,"lightCone"],children:a.jsx(Vl,{value:"",selectStyle:{width:258},characterId:l,externalOpen:R,setExternalOpen:h})}),a.jsx(X.Item,{name:[i,"lightConeSuperimposition"],children:a.jsx(K,{showSearch:!0,style:{width:110},options:p,placeholder:e("SuperimpositionPlaceholder"),disabled:S})})]}),a.jsxs(f,{children:[a.jsx(f,{vertical:!0,style:{minWidth:258,marginLeft:5},children:a.jsx(Tl,{id:o,superImposition:c,teammateIndex:t.index})}),a.jsx(f,{children:a.jsx("div",{style:{width:`${up}px`,height:`${mp}px`,borderRadius:"10px"},children:a.jsx("img",{width:Si,src:U.getLightConeIconById(o),style:{marginLeft:-5,transform:`translate(${(go-bp)/2/go*-100}%, ${(To-hp)/2/To*-100}%)`,cursor:"pointer"},onClick:()=>h(!0)})})})]})]})})};function gp(t){const{t:e}=et(["optimizerTab","common"]),i=window.store(b=>b.optimizerTabFocusCharacter),l=window.store(b=>b.setOptimizerTabFocusCharacter),s=window.store(b=>b.setOptimizerFormCharacterEidolon),o=window.store(b=>b.setOptimizerFormSelectedLightCone),c=window.store(b=>b.setOptimizerFormSelectedLightConeSuperimposition),r=window.store(b=>b.optimizerTabFocusCharacterSelectModalOpen),u=window.store(b=>b.setOptimizerTabFocusCharacterSelectModalOpen);L.useEffect(()=>{tt.updateCharacter(i)},[i]);const R=L.useMemo(()=>{const b=[];for(let p=0;p<=6;p++)b.push({value:p,label:e("common:EidolonNShort",{eidolon:p})});return b},[e]),h=L.useMemo(()=>{const b=[];for(let p=1;p<=5;p++)b.push({value:p,label:e("common:SuperimpositionNShort",{superimposition:p})});return b},[e]),S=L.useMemo(()=>{const b=[];for(let p=64;p<=65536;p=p*2)b.push({value:p,label:e("ResultLimitN",{limit:p})});return b},[e]),m=L.useMemo(()=>[{label:"Damage calculations",options:[{value:v.COMBO.key,label:e("SortOptions.COMBO")},{value:v.BASIC.key,label:e("SortOptions.BASIC")},{value:v.SKILL.key,label:e("SortOptions.SKILL")},{value:v.ULT.key,label:e("SortOptions.ULT")},{value:v.FUA.key,label:e("SortOptions.FUA")},{value:v.DOT.key,label:e("SortOptions.DOT")},{value:v.BREAK.key,label:e("SortOptions.BREAK")}]},{label:"Stats",options:[{value:v.HP.key,label:e("SortOptions.HP")},{value:v.ATK.key,label:e("SortOptions.ATK")},{value:v.DEF.key,label:e("SortOptions.DEF")},{value:v.SPD.key,label:e("SortOptions.SPD")},{value:v.CR.key,label:e("SortOptions.CR")},{value:v.CD.key,label:e("SortOptions.CD")},{value:v.EHR.key,label:e("SortOptions.EHR")},{value:v.RES.key,label:e("SortOptions.RES")},{value:v.BE.key,label:e("SortOptions.BE")},{value:v.OHB.key,label:e("SortOptions.OHB")},{value:v.ERR.key,label:e("SortOptions.ERR")},{value:v.ELEMENTAL_DMG.key,label:e("SortOptions.DMG")},{value:v.EHP.key,label:e("SortOptions.EHP")},{value:v.WEIGHT.key,label:e("SortOptions.WEIGHT")}]}],[e]);return a.jsxs(f,{vertical:!0,gap:de,children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:e("CharacterSelector.Character")}),a.jsx(Jt,{type:jt.character()})]}),a.jsxs(f,{gap:de,children:[a.jsx(X.Item,{name:"characterId",children:a.jsx(Ha,{value:"",selectStyle:{width:156},onChange:l,externalOpen:r,setExternalOpen:u})}),a.jsx(X.Item,{name:"characterEidolon",children:a.jsx(K,{showSearch:!0,style:{width:50},options:R,onChange:s,placeholder:e("CharacterSelector.EidolonPlaceholder"),popupMatchSelectWidth:55,suffixIcon:null})})]}),a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:e("CharacterSelector.Lightcone")}),a.jsx(Jt,{type:jt.lightCone()})]}),a.jsx(f,{vertical:!0,gap:de,children:a.jsxs(f,{gap:de,children:[a.jsx(X.Item,{name:"lightCone",children:a.jsx(Vl,{value:"",selectStyle:{width:156},characterId:i,onChange:o})}),a.jsx(X.Item,{name:"lightConeSuperimposition",children:a.jsx(K,{showSearch:!0,style:{width:50},onChange:c,options:h,placeholder:e("CharacterSelector.SuperimpositionPlaceholder"),popupMatchSelectWidth:55,suffixIcon:null})})]})}),a.jsx(f,{justify:"space-between",align:"center",style:{marginTop:16},children:a.jsx(nt,{children:e("CharacterSelector.Presets")})}),a.jsx(ah,{}),a.jsx(f,{justify:"space-between",align:"center",style:{marginTop:16},children:a.jsx(nt,{children:e("CharacterSelector.Target")})}),a.jsx(X.Item,{name:"resultsLimit",children:a.jsx(K,{showSearch:!0,style:{width:Xe},options:S,placeholder:e("CharacterSelector.ResultsPlaceholder"),listHeight:800})}),a.jsx(X.Item,{name:"resultSort",children:a.jsx(K,{showSearch:!0,style:{width:Xe},options:m,listHeight:800,popupMatchSelectWidth:250,placeholder:e("CharacterSelector.TargetPlaceholder"),filterOption:x.labelFilterOption})})]})}function fc(t){const{value:e,closable:i,onClose:l}=t;if(!e)return a.jsx(ci,{closable:i,onClose:l,children:a.jsx(f,{children:(t.label||"").replace(/[^0-9+]/g,"")})});const s=e.split("__RC_CASCADER_SPLIT__");let o;return s[0]==De.relic4Piece&&(o=a.jsxs(Te.Fragment,{children:[a.jsx("img",{title:s[1],src:U.getSetImage(s[1],d.Parts.Head),style:{width:26,height:26}}),a.jsx("img",{title:s[1],src:U.getSetImage(s[1],d.Parts.Head),style:{width:26,height:26}})]})),s[0]==De.relic2Plus2Piece&&(o=a.jsxs(Te.Fragment,{children:[a.jsx("img",{title:s[1],src:U.getSetImage(s[1],d.Parts.Head),style:{width:26,height:26}}),a.jsx("img",{title:s[2],src:U.getSetImage(s[2],d.Parts.Head),style:{width:26,height:26}})]})),s[0]==De.relic2PlusAny&&(o=a.jsx(Te.Fragment,{children:a.jsx("img",{title:s[1],src:U.getSetImage(s[1],d.Parts.Head),style:{width:26,height:26}})})),a.jsx(ci,{closable:!1,onClose:l,style:{display:"flex",flexDirection:"row",paddingInline:"1px",marginInlineEnd:"4px",height:22,alignItems:"center",overflow:"hidden"},children:a.jsx(f,{children:o})})}fc.propTypes={value:_.string,closable:_.bool,onClose:_.func};const{SHOW_CHILD:Tp}=u0;function Dp(t){const{t:e}=et(["optimizerTab","common"]),i=window.store(l=>l.setConditionalSetEffectsDrawerOpen);return a.jsxs(f,{vertical:!0,gap:de,children:[a.jsxs(f,{vertical:!0,gap:de,children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:e("MainStats")}),a.jsx(Jt,{type:jt.mainStats()})]}),a.jsx(X.Item,{name:"mainBody",children:a.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:Xe},placeholder:e("common:Parts.Body"),optionLabelProp:"label",maxTagCount:"responsive",suffixIcon:a.jsx("img",{style:{width:16},src:U.getPart(Z.Body)}),children:[a.jsx(K.Option,{value:d.Stats.HP_P,label:e("common:ShortStats.HP%"),children:e("common:Stats.HP%")}),a.jsx(K.Option,{value:d.Stats.ATK_P,label:e("common:ShortStats.ATK%"),children:e("common:Stats.ATK%")}),a.jsx(K.Option,{value:d.Stats.DEF_P,label:e("common:ShortStats.DEF%"),children:e("common:Stats.DEF%")}),a.jsx(K.Option,{value:d.Stats.CR,label:e("common:ShortStats.CRIT Rate"),children:e("common:Stats.CRIT Rate")}),a.jsx(K.Option,{value:d.Stats.CD,label:e("common:ShortStats.CRIT DMG"),children:e("common:Stats.CRIT DMG")}),a.jsx(K.Option,{value:d.Stats.EHR,label:e("common:ShortStats.Effect Hit Rate"),children:e("common:Stats.Effect Hit Rate")}),a.jsx(K.Option,{value:d.Stats.OHB,label:e("common:ShortStats.Outgoing Healing Boost"),children:e("common:Stats.Outgoing Healing Boost")})]})}),a.jsx(X.Item,{name:"mainFeet",children:a.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:Xe},placeholder:e("common:Parts.Feet"),optionLabelProp:"label",maxTagCount:"responsive",suffixIcon:a.jsx("img",{style:{width:16},src:U.getPart(Z.Feet)}),children:[a.jsx(K.Option,{value:d.Stats.HP_P,label:e("common:ShortStats.HP%"),children:e("common:Stats.HP%")}),a.jsx(K.Option,{value:d.Stats.ATK_P,label:e("common:ShortStats.ATK%"),children:e("common:Stats.ATK%")}),a.jsx(K.Option,{value:d.Stats.DEF_P,label:e("common:ShortStats.DEF%"),children:e("common:Stats.DEF%")}),a.jsx(K.Option,{value:d.Stats.SPD,label:e("common:ShortStats.SPD"),children:e("common:Stats.SPD")})]})}),a.jsx(X.Item,{name:"mainPlanarSphere",children:a.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:Xe},placeholder:e("common:Parts.PlanarSphere"),optionLabelProp:"label",listHeight:400,maxTagCount:"responsive",suffixIcon:a.jsx("img",{style:{width:16},src:U.getPart(Z.PlanarSphere)}),children:[a.jsx(K.Option,{value:d.Stats.HP_P,label:e("common:ShortStats.HP%"),children:e("common:Stats.HP%")}),a.jsx(K.Option,{value:d.Stats.ATK_P,label:e("common:ShortStats.ATK%"),children:e("common:Stats.ATK%")}),a.jsx(K.Option,{value:d.Stats.DEF_P,label:e("common:ShortStats.DEF%"),children:e("common:Stats.DEF%")}),a.jsx(K.Option,{value:d.Stats.Physical_DMG,label:e("common:ShortStats.Physical DMG Boost"),children:e("common:Stats.Physical DMG Boost")}),a.jsx(K.Option,{value:d.Stats.Fire_DMG,label:e("common:ShortStats.Fire DMG Boost"),children:e("common:Stats.Fire DMG Boost")}),a.jsx(K.Option,{value:d.Stats.Ice_DMG,label:e("common:ShortStats.Ice DMG Boost"),children:e("common:Stats.Ice DMG Boost")}),a.jsx(K.Option,{value:d.Stats.Lightning_DMG,label:e("common:ShortStats.Lightning DMG Boost"),children:e("common:Stats.Lightning DMG Boost")}),a.jsx(K.Option,{value:d.Stats.Wind_DMG,label:e("common:ShortStats.Wind DMG Boost"),children:e("common:Stats.Wind DMG Boost")}),a.jsx(K.Option,{value:d.Stats.Quantum_DMG,label:e("common:ShortStats.Quantum DMG Boost"),children:e("common:Stats.Quantum DMG Boost")}),a.jsx(K.Option,{value:d.Stats.Imaginary_DMG,label:e("common:ShortStats.Imaginary DMG Boost"),children:e("common:Stats.Imaginary DMG Boost")})]})}),a.jsx(X.Item,{name:"mainLinkRope",children:a.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:Xe},placeholder:e("common:Parts.LinkRope"),optionLabelProp:"label",maxTagCount:"responsive",suffixIcon:a.jsx("img",{style:{width:16},src:U.getPart(Z.LinkRope)}),children:[a.jsx(K.Option,{value:d.Stats.HP_P,label:e("common:ShortStats.HP%"),children:e("common:Stats.HP%")}),a.jsx(K.Option,{value:d.Stats.ATK_P,label:e("common:ShortStats.ATK%"),children:e("common:Stats.ATK%")}),a.jsx(K.Option,{value:d.Stats.DEF_P,label:e("common:ShortStats.DEF%"),children:e("common:Stats.DEF%")}),a.jsx(K.Option,{value:d.Stats.BE,label:e("common:ShortStats.Break Effect"),children:e("common:Stats.Break Effect")}),a.jsx(K.Option,{value:d.Stats.ERR,label:e("common:ShortStats.Energy Regeneration Rate"),children:e("common:Stats.Energy Regeneration Rate")})]})})]}),a.jsxs(f,{vertical:!0,gap:de,children:[a.jsxs(f,{justify:"space-between",align:"center",style:{marginTop:12},children:[a.jsx(nt,{children:e("Sets")}),a.jsx(Jt,{type:jt.sets()})]}),a.jsx(X.Item,{name:"relicSets",children:a.jsx(u0,{placeholder:"Relic set",options:L.useMemo(()=>Sh(),[e]),showCheckedStrategy:Tp,tagRender:fc,placement:"bottomLeft",maxTagCount:"responsive",multiple:!0,expandTrigger:"hover"})}),a.jsx(X.Item,{name:"ornamentSets",children:a.jsx(K,{dropdownStyle:{width:250},listHeight:800,mode:"multiple",allowClear:!0,style:{width:Xe},options:L.useMemo(()=>J0(),[e]),tagRender:si,placeholder:"Ornament set",maxTagCount:"responsive"})})]}),a.jsx(w,{onClick:()=>i(!0),icon:a.jsx(An,{}),children:e("SetConditionals.Title")})]})}const Vp=140,Wp=xe(pt)`
    white-space: pre-line;
`;function ln(t){return a.jsxs(f,{children:[a.jsx(f,{justify:"flex-start",style:{width:45,marginRight:10},children:a.jsx(Wp,{children:t.text})}),a.jsx(f,{align:"center",children:a.jsx(X.Item,{name:["weights",t.name],children:a.jsx(as,{min:0,max:1,step:.25,style:{minWidth:Vp,marginTop:0,marginBottom:0,marginLeft:0},onChangeComplete:e=>window.onOptimizerFormValuesChange(e,window.optimizerForm.getFieldsValue(),!0)})})})]})}ln.propTypes={text:_.string,name:_.string};const Ip={0:[Z.Head,Z.Hands],1:[Z.Body,Z.Feet],2:[Z.PlanarSphere,Z.LinkRope]},Ep={0:"headHands",1:"bodyFeet",2:"sphereRope"},Vo=5;function Bs(t){const{index:e}=t,i=Ip[e],l=Ep[e],[s,o]=L.useState(1),c=r=>{o(r)};return a.jsxs(f,{gap:5,style:{marginBottom:0},align:"center",children:[a.jsxs(f,{gap:5,justify:"flex-start",style:{minWidth:50},children:[a.jsx("img",{src:Assets.getPart(i[0]),style:{width:18}}),a.jsx("img",{src:Assets.getPart(i[1]),style:{width:18}})]}),a.jsx(f,{align:"center",justify:"flex-start",gap:10,children:a.jsx(X.Item,{name:["weights",l],children:a.jsx(as,{min:0,max:Vo,step:.5,style:{minWidth:105,marginTop:0,marginBottom:0,marginLeft:0,marginRight:5},keyboard:!1,tooltip:{formatter:r=>`${x.precisionRound(r)}`},value:typeof s=="number"?s:0,onChange:c,onChangeComplete:r=>window.onOptimizerFormValuesChange(r,window.optimizerForm.getFieldsValue(),!0)})})}),a.jsx(X.Item,{name:["weights",l],children:a.jsx(mn,{size:"small",className:"center-input-text",style:{width:40},controls:!1,min:0,max:Vo,variant:"borderless",onChange:r=>{c(r),window.onOptimizerFormValuesChange(r,window.optimizerForm.getFieldsValue(),!0)}})})]})}const xp=()=>{const{t}=et("optimizerTab",{keyPrefix:"WeightFilter"});return a.jsxs(f,{vertical:!0,gap:4,children:[a.jsxs(f,{vertical:!0,gap:0,children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:t("WeightFilterHeader")}),a.jsx(Jt,{type:jt.substatWeightFilter()})]}),a.jsx(ln,{text:t("HPFilterText"),name:d.Stats.HP_P}),a.jsx(ln,{text:t("ATKFilterText"),name:d.Stats.ATK_P}),a.jsx(ln,{text:t("DEFFilterText"),name:d.Stats.DEF_P}),a.jsx(ln,{text:t("SPDFilterText"),name:d.Stats.SPD}),a.jsx(ln,{text:t("CRFilterText"),name:d.Stats.CR}),a.jsx(ln,{text:t("CDFilterText"),name:d.Stats.CD}),a.jsx(ln,{text:t("EHRFilterText"),name:d.Stats.EHR}),a.jsx(ln,{text:t("RESFilterText"),name:d.Stats.RES}),a.jsx(ln,{text:t("BEFilterText"),name:d.Stats.BE})]}),a.jsxs(f,{vertical:!0,gap:3,children:[a.jsx(nt,{children:t("RollFilterHeader")}),a.jsxs(f,{vertical:!0,gap:5,children:[a.jsx(Bs,{index:0}),a.jsx(Bs,{index:1}),a.jsx(Bs,{index:2})]})]})]})},$i=xe(mn)`
    width: 60px
`,{Text:Lp}=pt,yp=xe(Lp)`
    display: block;
    text-align: center;
`,le=t=>a.jsxs(f,{justify:"space-between",style:{margin:0},children:[a.jsx(X.Item,{name:`min${t.name}`,style:{margin:0},children:a.jsx($i,{size:"small",controls:!1,style:{margin:0,width:63}})}),a.jsx(yp,{children:t.label}),a.jsx(X.Item,{name:`max${t.name}`,style:{marginRight:0},children:a.jsx($i,{size:"small",controls:!1,style:{margin:0,width:63}})})]});le.propTypes={name:_.string,label:_.string};const Mp=()=>{const{t}=et("optimizerTab",{keyPrefix:"MinMaxFilters"}),[e,i]=L.useState("Stats");return a.jsxs("div",{children:[a.jsxs(f,{vertical:!0,gap:de,style:{display:e=="Stats"?"flex":"none"},children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:t("StatHeader")}),a.jsx(Jt,{type:jt.statFilters()})]}),a.jsxs(f,{vertical:!0,gap:5,children:[a.jsx(le,{name:"Hp",label:t("HPLabel")}),a.jsx(le,{name:"Atk",label:t("ATKLabel")}),a.jsx(le,{name:"Def",label:t("DEFLabel")}),a.jsx(le,{name:"Spd",label:t("SPDLabel")}),a.jsx(le,{name:"Cr",label:t("CRLabel")}),a.jsx(le,{name:"Cd",label:t("CDLabel")}),a.jsx(le,{name:"Ehr",label:t("EHRLabel")}),a.jsx(le,{name:"Res",label:t("RESLabel")}),a.jsx(le,{name:"Be",label:t("BELabel")}),a.jsx(le,{name:"Err",label:t("ERRLabel")})]}),a.jsx(f,{style:{height:20,width:"100%",marginTop:-4,cursor:"pointer"},justify:"space-around",align:"flex-start",onClick:()=>i("Ratings"),children:a.jsx(Kl,{})})]}),a.jsxs(f,{vertical:!0,gap:de,style:{display:e=="Ratings"?"flex":"none"},children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:t("RatingHeader")}),a.jsx(Jt,{type:jt.ratingFilters()})]}),a.jsx(le,{name:"Weight",label:t("WEIGHTLabel")}),a.jsx(le,{name:"Ehp",label:t("EHPLabel")}),a.jsx(le,{name:"Basic",label:t("BASICLabel")}),a.jsx(le,{name:"Skill",label:t("SKILLLabel")}),a.jsx(le,{name:"Ult",label:t("ULTLabel")}),a.jsx(le,{name:"Fua",label:t("FUALabel")}),a.jsx(le,{name:"Dot",label:t("DOTLabel")}),a.jsx(le,{name:"Break",label:t("BREAKLabel")}),a.jsx(le,{name:"Combo",label:t("COMBOLabel")}),a.jsx(f,{style:{height:20,width:"100%",marginTop:-4,cursor:"pointer"},justify:"space-around",align:"flex-start",onClick:()=>i("Stats"),children:a.jsx(Kl,{})})]})]})},re=22,xt=8,_a=280*3+xt*2,fn=198*2+xt,Fp=1024,Bp=240,Pp=280,Gc=250,kp=1260/902*Gc,Ps=240,{Text:Np}=pt,Up=()=>{const{t}=et("optimizerTab",{keyPrefix:"CombatBuffs"}),e=window.store(s=>s.combatBuffsDrawerOpen),i=window.store(s=>s.setCombatBuffsDrawerOpen),l=L.useMemo(()=>Object.values(zi).map(s=>a.jsx(Hp,{title:t(`${s.key}`),name:s.key},s.key)),[t]);return a.jsx(ns,{title:t("Title"),placement:"right",onClose:()=>i(!1),open:e,width:300,forceRender:!0,children:a.jsx(f,{vertical:!0,gap:xt,children:a.jsx(f,{vertical:!0,gap:de,children:l})})})};function Hp(t){return a.jsxs(f,{justify:"space-between",children:[a.jsx(Np,{children:t.title}),a.jsx(X.Item,{name:["combatBuffs",t.name],children:a.jsx($i,{size:"small",controls:!1})})]})}const Wo=233,Io=350,ks=350,Eo=400,Xp=()=>{const t=window.store(e=>e.optimizerTabFocusCharacter);return a.jsx("div",{style:{width:`${Wo}px`,height:`${Io}px`,borderRadius:"10px",position:"relative"},children:a.jsx("img",{width:ks,src:U.getCharacterPreviewById(t),style:{transform:`translate(${(ks-Wo)/2/ks*-100}%, ${(Eo-Io)/2/Eo*-100}%)`,cursor:"pointer"},onClick:()=>{window.store.getState().setOptimizerTabFocusCharacterSelectModalOpen(!0)}})})};function Yp(t){return a.jsx(f,{vertical:!0,style:{overflow:"hidden",borderRadius:"10px",paddingBottom:10,background:"rgb(29 42 81 / 73%)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",outline:"1px solid rgba(255, 255, 255, 0.10)",WebkitBackdropFilter:"blur(5px)"},children:t.children})}const{Text:Kp}=pt,vp=()=>{const{t}=et("optimizerTab",{keyPrefix:"ComboFilter"});return a.jsxs(f,{vertical:!0,gap:de,children:[a.jsx(nt,{children:t("Header")}),a.jsxs(f,{vertical:!0,gap:de,children:[a.jsx(Za,{title:t("BASIC"),name:"BASIC"}),a.jsx(Za,{title:t("SKILL"),name:"SKILL"}),a.jsx(Za,{title:t("ULT"),name:"ULT"}),a.jsx(Za,{title:t("FUA"),name:"FUA"}),a.jsx(Za,{title:t("DOT"),name:"DOT"}),a.jsx(Za,{title:t("BREAK"),name:"BREAK"})]})]})};function Za(t){return a.jsxs(f,{justify:"space-between",children:[a.jsx(Kp,{children:t.title}),a.jsx(X.Item,{name:["combo",t.name],children:a.jsx($i,{addonBefore:"â¨¯",size:"small",controls:!0,style:{width:90},rootClassName:"comboInputNumber"})})]})}const{Text:xo}=pt,wp=()=>{const{t}=et("optimizerTab",{keyPrefix:"EnemyConfiguration"}),e=window.store(u=>u.enemyConfigurationsDrawerOpen),i=window.store(u=>u.setEnemyConfigurationsDrawerOpen),l=L.useMemo(()=>{const u=[];for(let R=95;R>=1;R--)u.push({value:R,label:t("LevelOptionLabel",{level:R,defense:200+10*R})});return u},[t]),s=L.useMemo(()=>{const u=[];for(let R=1;R<=5;R+=2)u.push({value:R,label:t("CountOptionLabel",{targetCount:R})});return u},[t]),o=L.useMemo(()=>{const u=[];for(let R=20;R<=60;R+=20)u.push({value:R/100,label:t("ResOptionLabel",{resistance:R})});return u},[t]),c=L.useMemo(()=>{const u=[];for(let R=0;R<=40;R+=10)u.push({value:R/100,label:t("EfresOptionLabel",{resistance:R})});return u},[t]),r=L.useMemo(()=>{const u=[];for(let R=720;R>=1;R-=30)u.push({value:R,label:t("ToughnessOptionLabel",{toughness:R})});return u},[t]);return a.jsx(ns,{title:t("Title"),placement:"right",onClose:()=>i(!1),open:e,width:300,forceRender:!0,children:a.jsxs(f,{vertical:!0,gap:5,children:[a.jsxs(f,{justify:"space-between",align:"center",style:{marginBottom:5},children:[a.jsx(nt,{children:t("StatHeader")}),a.jsx(Jt,{type:jt.enemyOptions()})]}),a.jsx(X.Item,{name:"enemyLevel",children:a.jsx(K,{showSearch:!0,filterOption:x.labelFilterOption,options:l})}),a.jsx(X.Item,{name:"enemyResistance",children:a.jsx(K,{showSearch:!0,filterOption:x.labelFilterOption,options:o})}),a.jsx(X.Item,{name:"enemyEffectResistance",children:a.jsx(K,{showSearch:!0,filterOption:x.labelFilterOption,options:c})}),a.jsx(X.Item,{name:"enemyMaxToughness",children:a.jsx(K,{showSearch:!0,filterOption:x.labelFilterOption,options:r,optionLabelProp:"number"})}),a.jsx(X.Item,{name:"enemyCount",children:a.jsx(K,{showSearch:!0,filterOption:x.labelFilterOption,options:s})}),a.jsxs(f,{align:"center",children:[a.jsx(X.Item,{name:"enemyElementalWeak",valuePropName:"checked",children:a.jsx(Kn,{checkedChildren:a.jsx(Ia,{}),unCheckedChildren:a.jsx(Yn,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),a.jsx(xo,{children:t("WeaknessLabel")})]}),a.jsxs(f,{align:"center",children:[a.jsx(X.Item,{name:"enemyWeaknessBroken",valuePropName:"checked",children:a.jsx(Kn,{checkedChildren:a.jsx(Ia,{}),unCheckedChildren:a.jsx(Yn,{}),style:{width:45,marginRight:5}})}),a.jsx(xo,{children:t("BrokenLabel")})]})]})})};const Ap=()=>{const{t}=et("optimizerTab",{keyPrefix:"AdvancedOptions"}),e=window.store(o=>o.setCombatBuffsDrawerOpen),i=window.store(o=>o.setEnemyConfigurationsDrawerOpen),l=X.useWatch(o=>o.combatBuffs,window.optimizerForm),s=L.useMemo(()=>l?Object.values(l).filter(o=>o!=null).length:0,[l]);return a.jsxs(f,{vertical:!0,gap:de,children:[a.jsx(nt,{style:{marginTop:25},children:t("Header")}),a.jsx(w,{onClick:()=>e(!0),icon:a.jsx(An,{}),children:t(s?"CombatBuffsButtonText":"CombatBuffsButtonTextNone")}),a.jsx(w,{onClick:()=>i(!0),icon:a.jsx(An,{}),children:t("EnemyConfigButtonText")})]})};function Qp(){console.log("======================================================================= RENDER OptimizerForm");const[t]=X.useForm();window.optimizerForm=t,L.useEffect(()=>{var o;const l=y.getCharacters()||[],s=window.store.getState().savedSession[ae.optimizerCharacterId];tt.updateCharacter(s||((o=l[0])==null?void 0:o.id))},[]);const e=(l,s,o)=>{if(!l||!s||!s.characterId)return;const c=Object.keys(l);if(!o){if(c.length==1&&(c[0].startsWith("min")||c[0].startsWith("max")||c[0].startsWith("buff")||c[0].startsWith("statDisplay")||c[0].startsWith("statSim")||c[0].startsWith("teammate")||c[0].startsWith("combo")||c[0].startsWith("combatBuffs")||c[0]=="characterConditionals"||c[0]=="lightConeConditionals"))return}const r=s;c[0]==="characterId"&&(window.store.getState().setSavedSessionKey(ae.optimizerCharacterId,l.characterId),setTimeout(()=>gt.save(),1e3)),!y.getCharacterById(s.characterId)&&c[0]!="characterId"&&y.addFromForm(s),l.rank!=null&&y.getCharacterById(s.characterId).rank!=s.rank&&(y.insertCharacter(s.characterId,s.rank),y.refreshCharacters());const[u,R]=Na.getFilteredRelics(r,s.characterId),h={Head:u.Head.length,Hands:u.Hands.length,Body:u.Body.length,Feet:u.Feet.length,PlanarSphere:u.PlanarSphere.length,LinkRope:u.LinkRope.length,HeadTotal:R[d.Parts.Head].length,HandsTotal:R[d.Parts.Hands].length,BodyTotal:R[d.Parts.Body].length,FeetTotal:R[d.Parts.Feet].length,PlanarSphereTotal:R[d.Parts.PlanarSphere].length,LinkRopeTotal:R[d.Parts.LinkRope].length};window.store.getState().setPermutationDetails(h),window.store.getState().setPermutations(u.Head.length*u.Hands.length*u.Body.length*u.Feet.length*u.PlanarSphere.length*u.LinkRope.length)};window.onOptimizerFormValuesChange=e;function i(){console.log("Start clicked");const l=tt.getForm();if(!tt.validateForm(l))return;window.store.getState().setPermutationsSearched(0),window.store.getState().setPermutationsResults(0),window.store.getState().setOptimizationInProgress(!0),y.addFromForm(l),gt.save();const s=x.randomId();window.store.getState().setOptimizationId(s),l.optimizationId=s,l.statDisplay=window.store.getState().statDisplay,console.log("Form finished",l),setTimeout(()=>Na.optimize(l),50)}return window.optimizerStartClicked=i,a.jsx("div",{style:{position:"relative"},children:a.jsxs(X,{form:t,layout:"vertical",onValuesChange:e,children:[a.jsx(E1,{}),a.jsxs(Yp,{children:[a.jsxs(Hi,{id:Dn.characterOptions,children:[a.jsx(Ue,{style:{overflow:"hidden"},children:a.jsx(Xp,{})}),a.jsx(Ue,{children:a.jsx(gp,{})}),a.jsx(Ue,{children:a.jsx(jp,{})}),a.jsx(Ue,{justify:"space-between",children:a.jsx(Jp,{})}),a.jsx(Ue,{children:a.jsx(I1,{})})]}),a.jsxs(Hi,{id:Dn.relicAndStatFilters,children:[a.jsx(Ue,{children:a.jsx(Dp,{})}),a.jsx(Ue,{children:a.jsx(xp,{})}),a.jsx(Ue,{children:a.jsx(Mp,{})}),a.jsx(Ue,{}),a.jsxs(Ue,{children:[a.jsx(vp,{}),a.jsx(Up,{}),a.jsx(wp,{})]})]}),a.jsxs(gh,{id:Dn.teammates,children:[a.jsx(Fs,{index:0}),a.jsx(Fs,{index:1}),a.jsx(Fs,{index:2})]}),a.jsx(Hi,{id:Dn.characterStatsSimulation,children:a.jsx(Gh,{})})]})]})})}function jp(){const t=window.store(i=>i.optimizerTabFocusCharacter),e=window.store(i=>i.optimizerFormCharacterEidolon);return a.jsx(gl,{id:t,eidolon:e})}function Jp(){const t=window.store(l=>l.optimizerTabFocusCharacter),e=window.store(l=>l.optimizerFormSelectedLightCone),i=window.store(l=>l.optimizerFormSelectedLightConeSuperimposition);return L.useEffect(()=>{var c;const s=bn.get(window.optimizerForm.getFieldsValue()).defaults(),o=((c=y.getCharacterById(t))==null?void 0:c.form.lightConeConditionals)||{};x.mergeDefinedValues(s,o),e==="21034"&&(s.maxEnergyStacks=Math.min(160,y.getMetadata().characters[t].max_sp)),window.optimizerForm.setFieldValue("lightConeConditionals",s)},[t,e,i]),a.jsxs(f,{vertical:!0,justify:"space-between",style:{height:"100%",marginBottom:8},children:[a.jsx(Tl,{id:e,superImposition:i}),a.jsx(Ap,{})]})}const Wl={onEditOk:(t,e)=>{e.id=t.id;const i={...t,...e};return window.rescoreSingleRelic(i),y.setRelic(i),window.setRelicRows(y.getRelics()),console.log("onEditOk",i),Q.success(V.t("modals:Relic.Messages.EditSuccess")),setTimeout(()=>{gt.save(),window.forceCharacterTabUpdate()},200),tt.updateFilters(),i}};function Op(t){if(console.log("Form finished",t),!t.part)return Q.error(V.t("modals:Relic.Messages.Error.PartMissing"));if(!t.mainStatType)return Q.error(V.t("modals:Relic.Messages.Error.MainstatMissing"));if(!t.mainStatValue)return Q.error(V.t("modals:Relic.Messages.Error.MainstatMissing"));if(!t.set)return Q.error(V.t("modals:Relic.Messages.Error.SetMissing"));if(t.enhance==null)return Q.error(V.t("modals:Relic.Messages.Error.EnhanceMissing"));if(t.grade==null)return Q.error(V.t("modals:Relic.Messages.Error.GradeMissing"));if(t.grade>5||t.grade<2)return Q.error(V.t("modals:Relic.Messages.Error.GradeInvalid"));if(t.enhance>15||t.enhance<0)return Q.error(V.t("modals:Relic.Messages.Error.EnhanceInvalid"));if(t.enhance>t.grade*3)return Q.error(V.t("modals:Relic.Messages.Error.EnhanceTooHigh"));if(!d.SetsRelicsNames.includes(t.set)&&!d.SetsOrnamentsNames.includes(t.set))return Q.error(V.t("modals:Relic.Messages.Error.SetInvalid"));if(d.SetsRelicsNames.includes(t.set)&&(t.part==d.Parts.PlanarSphere||t.part==d.Parts.LinkRope))return Q.error(V.t("modals:Relic.Messages.Error.SetNotOrnament"));if(d.SetsOrnamentsNames.includes(t.set)&&(t.part==d.Parts.Head||t.part==d.Parts.Hands||t.part==d.Parts.Body||t.part==d.Parts.Feet))return Q.error(V.t("modals:Relic.Messages.Error.SetNotRelic"));if(t.substatType0!=null&&t.substatValue0==null||t.substatType0==null&&t.substatValue0!=null)return Q.error(V.t("modals:Relic.Messages.Error.SubNInvalid",{number:1}));if(t.substatType1!=null&&t.substatValue1==null||t.substatType1==null&&t.substatValue1!=null)return Q.error(V.t("modals:Relic.Messages.Error.SubNInvalid",{number:2}));if(t.substatType2!=null&&t.substatValue2==null||t.substatType2==null&&t.substatValue2!=null)return Q.error(V.t("modals:Relic.Messages.Error.SubNInvalid",{number:3}));if(t.substatType3!=null&&t.substatValue3==null||t.substatType3==null&&t.substatValue3!=null)return Q.error(V.t("modals:Relic.Messages.Error.SubNInvalid",{number:4}));if(t.substatType3!=null&&(t.substatType0==null||t.substatType1==null||t.substatType2==null))return Q.error(V.t("modals:Relic.Messages.Error.SubsOutOfOrder"));if(t.substatType2!=null&&(t.substatType0==null||t.substatType1==null))return Q.error(V.t("modals:Relic.Messages.Error.SubsOutOfOrder"));if(t.substatType1!=null&&t.substatType0==null)return Q.error(V.t("modals:Relic.Messages.Error.SubsOutOfOrder"));const e=[t.substatType0,t.substatType1,t.substatType2,t.substatType3].filter(s=>s!=null);if(new Set(e).size!==e.length)return Q.error(V.t("modals:Relic.Messages.Error.DuplicateSubs"));if(e.includes(t.mainStatType))return Q.error(V.t("modals:Relic.Messages.Error.MainAsSub"));if(t.substatValue0>=1e3||t.substatValue1>=1e3||t.substatValue2>=1e3||t.substatValue3>=1e3)return Q.error(V.t("modals:Relic.Messages.Error.SubTooBig"));if(t.mainStatValue>=1e3)return Q.error(V.t("modals:Relic.Messages.Error.MainTooBig"));if(t.substatValue0<=0||t.substatValue1<=0||t.substatValue2<=0||t.substatValue3<=0)return Q.error(V.t("modals:Relic.Messages.Error.SubTooSmall"));if(t.mainStatValue<=0)return Q.error(V.t("modals:Relic.Messages.Error.MainTooSmall"));const i={equippedBy:t.equippedBy=="None"?void 0:t.equippedBy,enhance:t.enhance,grade:t.grade,part:t.part,set:t.set,main:{stat:t.mainStatType,value:t.mainStatValue}},l=[];return t.substatType0!=null&&t.substatValue0!=null&&l.push({stat:t.substatType0,value:t.substatValue0}),t.substatType1!=null&&t.substatValue1!=null&&l.push({stat:t.substatType1,value:t.substatValue1}),t.substatType2!=null&&t.substatValue2!=null&&l.push({stat:t.substatType2,value:t.substatValue2}),t.substatType3!=null&&t.substatValue3!=null&&l.push({stat:t.substatType3,value:t.substatValue3}),i.substats=l,ba.augment(i),i}function zp(t){const e=[{stat:t.substatType0,value:t.substatValue0},{stat:t.substatType1,value:t.substatValue1},{stat:t.substatType2,value:t.substatValue2},{stat:t.substatType3,value:t.substatValue3}],i=[];for(let{stat:l,value:s}of e)if(l!=null&&s!=null){if(s=="")s=0;else if(isNaN(parseFloat(s))){i.push({low:void 0,mid:void 0,high:void 0});continue}if(l==n.SPD){const u=parseFloat(s)+(t.grade==5?2:1);i.push({low:Math.floor(u),mid:void 0,high:Math.floor(u+1)});continue}const o=x.truncate10ths(x.precisionRound(parseFloat(s))),c=Ba.fixSubStatValue(l,o,5),r=x.clone(Rt[l][t.grade]);x.isFlat(l)?(r.low=Ns(c+r.low),r.mid=Ns(c+r.mid),r.high=Ns(c+r.high)):(r.low=Us(c+r.low),r.mid=Us(c+r.mid),r.high=Us(c+r.high)),i.push(r)}else i.push({low:void 0,mid:void 0,high:void 0});return i}function Ns(t){return Math.floor(x.precisionRound(t))}function Us(t){return x.truncate10ths(x.precisionRound(t)).toFixed(1)}const{useToken:_p}=Ce;function la(t){return a.jsx(pe.Button,{value:t.value,style:{height:35,width:50,paddingLeft:10},children:a.jsx(oi,{preview:!1,width:30,src:t.src})})}la.propTypes={value:_.string,src:_.string};xe(mn)`
    width: 90px
`;function Lo(t){var l,s;const e=(l=t.main)==null?void 0:l.stat,i=(s=t.main)==null?void 0:s.value;return e?Cc(e,i):{}}function Nn(t,e){const i=t.substats[e];if(!(i!=null&&i.stat))return{};const l=i.stat,s=i.value;return Cc(l,s,t)}function Cc(t,e,i){return t==n.SPD?i!=null&&i.verified?{stat:t,value:e.toFixed(1)}:{stat:t,value:e%1!==0?e.toFixed(1):Math.floor(e)}:x.isFlat(t)?{stat:t,value:Math.floor(e)}:{stat:t,value:x.precisionRound(Math.floor(e*10)/10).toFixed(1)}}function Xa(t){var I,F,E,P,N;const{t:e}=et(["modals","common","gameData"]),{token:i}=_p(),[l]=X.useForm(),[s,o]=L.useState([]),c=window.store(k=>k.characters),r=L.useMemo(()=>Zl({currentCharacters:c}),[c,V.resolvedLanguage]),u=L.useMemo(function(){const B=[];for(const j of[...Object.entries(d.SetsRelics),...Object.entries(d.SetsOrnaments)].filter(st=>!jn[st[1]]))B.push({label:a.jsxs(f,{align:"center",gap:10,children:[a.jsx("img",{style:{height:22,width:22},src:U.getSetImage(j[1])}),V.t(`gameData:RelicSets.${Be[j[1]]}.Name`)]}),value:j[1]});return B},[V.resolvedLanguage]),R=X.useWatch("equippedBy",l),[h,S]=L.useState([]);L.useEffect(()=>{let k={grade:5,enhance:15,part:d.Parts.Head,mainStatType:d.Stats.HP,mainStatValue:Math.floor(d.MainStatsValues[d.Stats.HP][5].base+d.MainStatsValues[d.Stats.HP][5].increment*15)};const B=t.selectedRelic;!B||t.type!="edit"||(k={equippedBy:B.equippedBy??"None",grade:B.grade,enhance:B.enhance,set:B.set,part:B.part,mainStatType:Lo(B).stat,mainStatValue:Lo(B).value,substatType0:Nn(B,0).stat,substatValue0:Nn(B,0).value,substatType1:Nn(B,1).stat,substatValue1:Nn(B,1).value,substatType2:Nn(B,2).stat,substatValue2:Nn(B,2).value,substatType3:Nn(B,3).stat,substatValue3:Nn(B,3).value}),p(k),l.setFieldsValue(k)},[t.selectedRelic,t.open,l,t]),L.useEffect(()=>{var B,j,st,A;let k=[];(B=t.selectedRelic)!=null&&B.part&&(k=Object.entries(d.PartsMainStats[(j=t.selectedRelic)==null?void 0:j.part]).map(z=>({label:a.jsxs(f,{align:"center",gap:10,children:[a.jsx("img",{src:U.getStatIcon(z[1],!0),style:{width:22,height:22}}),e(`common:Stats.${z[1]}`)]}),value:z[1]}))),o(k),l.setFieldValue("mainStatType",(A=(st=t.selectedRelic)==null?void 0:st.main)==null?void 0:A.stat)},[(I=t.selectedRelic)==null?void 0:I.part,(E=(F=t.selectedRelic)==null?void 0:F.main)==null?void 0:E.stat,l,e]),L.useEffect(()=>{var k,B,j,st;s.length>0&&(s.map(z=>z.value).includes((B=(k=t.selectedRelic)==null?void 0:k.main)==null?void 0:B.stat)?l.setFieldValue("mainStatType",(st=(j=t.selectedRelic)==null?void 0:j.main)==null?void 0:st.stat):l.setFieldValue("mainStatType",s[0].value)),C()},[l,s,(N=(P=t.selectedRelic)==null?void 0:P.main)==null?void 0:N.stat]);const m=k=>{const B=Op(k);B&&(qp(t.selectedRelic,B)&&(B.verified=!1),console.log(e("Relic.Messages.EditSuccess"),B),t.onOk(B),t.setOpen(!1))},b=()=>{Q.error(e("Relic.Messages.SubmitFail")),t.setOpen(!1)},p=k=>{var z,dt;let B=[];k.part&&(B=Object.entries(d.PartsMainStats[k.part]).map(Yt=>({label:a.jsxs(f,{align:"center",gap:10,children:[a.jsx("img",{src:U.getStatIcon(Yt[1],!0),style:{width:22,height:22}}),e(`common:Stats.${Yt[1]}`)]}),value:Yt[1]})),o(B),l.setFieldValue("mainStatType",(z=B[0])==null?void 0:z.value));const j=((dt=B[0])==null?void 0:dt.value)||l.getFieldValue("mainStatType"),st=l.getFieldValue("enhance"),A=l.getFieldValue("grade");if(j!=null&&st!=null&&A!=null){const Yt=[d.Stats.OHB,d.Stats.Physical_DMG,d.Stats.Physical_DMG,d.Stats.Fire_DMG,d.Stats.Ice_DMG,d.Stats.Lightning_DMG,d.Stats.Wind_DMG,d.Stats.Quantum_DMG,d.Stats.Imaginary_DMG],vt=[d.Stats.HP,d.Stats.ATK,d.Stats.SPD];let ft=W.calculateRelicMainStatValue(j,A,st);Yt.includes(j)?ft=x.truncate10ths(ft):vt.includes(j)?ft=Math.floor(ft):ft=ft.toFixed(1),l.setFieldValue("mainStatValue",ft)}};function C(){const k=zp(l.getFieldsValue());S(k)}const G=()=>{t.setOpen(!1)},g=()=>{l.submit()},T=()=>{l.setFieldValue("enhance",Math.min(l.getFieldValue("enhance")+3,15))},D=L.useMemo(()=>{const k=[];for(let B=15;B>=0;B--)k.push({value:B,label:"+"+B});return k},[]);return a.jsx(X,{form:l,layout:"vertical",preserve:!1,onFinish:m,onFinishFailed:b,onValuesChange:p,children:a.jsx(Ve,{width:560,centered:!0,destroyOnClose:!0,open:t.open,onCancel:()=>t.setOpen(!1),footer:[a.jsx(w,{onClick:G,children:e("common:Cancel",{capitalizeLength:1})},"back"),a.jsx(w,{type:"primary",onClick:g,children:e("common:Submit",{capitalizeLength:1})},"submit")],children:a.jsxs(f,{vertical:!0,gap:5,children:[a.jsxs(f,{gap:10,children:[a.jsxs(f,{vertical:!0,gap:5,children:[a.jsx(nt,{children:e("Relic.Part")}),a.jsx(X.Item,{name:"part",children:a.jsxs(pe.Group,{buttonStyle:"solid",children:[a.jsx(la,{value:d.Parts.Head,src:U.getPart(d.Parts.Head)}),a.jsx(la,{value:d.Parts.Hands,src:U.getPart(d.Parts.Hands)}),a.jsx(la,{value:d.Parts.Body,src:U.getPart(d.Parts.Body)}),a.jsx(la,{value:d.Parts.Feet,src:U.getPart(d.Parts.Feet)}),a.jsx(la,{value:d.Parts.PlanarSphere,src:U.getPart(d.Parts.PlanarSphere)}),a.jsx(la,{value:d.Parts.LinkRope,src:U.getPart(d.Parts.LinkRope)})]})}),a.jsx(nt,{children:e("Relic.Set")}),a.jsx(X.Item,{name:"set",children:a.jsx(K,{showSearch:!0,allowClear:!0,style:{width:300},placeholder:"Sets",options:u,maxTagCount:"responsive"})}),a.jsx(nt,{children:e("Relic.Enhance")}),a.jsxs(f,{gap:10,children:[a.jsx(X.Item,{name:"enhance",children:a.jsx(K,{showSearch:!0,style:{width:115},options:D})}),a.jsx(w,{style:{width:50},onClick:T,children:"+3"}),a.jsx(X.Item,{name:"grade",children:a.jsx(K,{showSearch:!0,style:{width:115},options:[{value:2,label:"2 â˜…"},{value:3,label:"3 â˜…"},{value:4,label:"4 â˜…"},{value:5,label:"5 â˜…"}],onChange:C})})]}),a.jsx(nt,{children:e("Relic.Mainstat")}),a.jsxs(f,{gap:10,children:[a.jsx(X.Item,{name:"mainStatType",children:a.jsx(K,{showSearch:!0,style:{width:210},placeholder:"Main Stat",maxTagCount:"responsive",options:s,disabled:s.length<=1})}),a.jsx(X.Item,{name:"mainStatValue",children:a.jsx(mn,{controls:!1,disabled:!0,style:{width:80}})})]})]}),a.jsx("div",{style:{display:"block",minWidth:12}}),a.jsxs(f,{vertical:!0,gap:5,style:{},children:[a.jsx(nt,{children:e("Relic.Wearer")}),a.jsx(X.Item,{name:"equippedBy",children:a.jsx(K,{showSearch:!0,filterOption:x.titleFilterOption,style:{height:35},options:r,optionLabelProp:"title"})}),a.jsx("div",{style:{height:180,overflow:"hidden",marginTop:7,borderRadius:10,boxShadow:`0px 0px 0px 1px ${i.colorBorder} inset`},children:a.jsx("img",{style:{width:"100%"},src:U.getCharacterPreviewById(R=="None"?"":R)})})]})]}),a.jsx(f,{gap:20,children:a.jsxs(f,{vertical:!0,gap:5,style:{width:"100%"},children:[a.jsxs(f,{justify:"space-between",children:[a.jsx(nt,{children:e("Relic.Substat")}),a.jsx(f,{style:{width:180},children:a.jsx(nt,{children:e("Relic.Upgrades")})})]}),a.jsx(Li,{index:0,upgrades:h,relicForm:l,resetUpgradeValues:C,plusThree:T}),a.jsx(Li,{index:1,upgrades:h,relicForm:l,resetUpgradeValues:C,plusThree:T}),a.jsx(Li,{index:2,upgrades:h,relicForm:l,resetUpgradeValues:C,plusThree:T}),a.jsx(Li,{index:3,upgrades:h,relicForm:l,resetUpgradeValues:C,plusThree:T})]})})]})})})}Xa.propTypes={selectedRelic:_.object,type:_.string,onOk:_.func,setOpen:_.func,open:_.bool};function Li(t){const e=L.useRef(null),[i,l]=Te.useState(!1),s=`substatType${t.index}`,o=`substatValue${t.index}`;t.relicForm.getFieldValue(s);const c=()=>{e.current&&e.current.select()};function r(h){console.log(t,h),t.relicForm.setFieldValue(o,t.upgrades[t.index][h]),t.resetUpgradeValues(),t.plusThree()}const u=L.useMemo(()=>{const h=[];for(const S of Object.entries(d.SubStats))h.push({label:a.jsxs(f,{align:"center",gap:10,children:[a.jsx("img",{style:{width:22,height:22},src:U.getStatIcon(S[1],!0)}),V.t(`common:Stats.${S[1]}`)]}),value:S[1]});return h},[V.resolvedLanguage]);function R(h){var m,b;const S=(b=(m=t.upgrades)==null?void 0:m[t.index])==null?void 0:b[h.quality];return a.jsx(f,{style:{width:"100%"},children:a.jsx(w,{type:i?"default":"dashed",style:{width:"100%",padding:0},onClick:()=>r(h.quality),disabled:S==null,tabIndex:-1,children:S||""})})}return a.jsxs(f,{gap:10,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[a.jsxs(f,{gap:10,children:[a.jsx(X.Item,{name:s,children:a.jsx(K,{showSearch:!0,allowClear:!0,style:{width:210},placeholder:"Substat",maxTagCount:"responsive",options:u,listHeight:750,onChange:()=>{t.relicForm.getFieldValue(s)?t.relicForm.setFieldValue(o,0):t.relicForm.setFieldValue(o,void 0),t.resetUpgradeValues()},tabIndex:0})}),a.jsx(X.Item,{name:`substatValue${t.index}`,children:a.jsx(Oe,{ref:e,onFocus:c,style:{width:80},onChange:t.resetUpgradeValues,tabIndex:0})})]}),a.jsx(hr,{style:{width:12}}),a.jsxs(f,{gap:5,style:{width:"100%"},children:[a.jsx(R,{quality:"low"}),a.jsx(R,{quality:"mid"}),a.jsx(R,{quality:"high"})]})]})}function yo(t){var e;return x.objectHash({grade:t.grade,enhance:t.enhance,part:t.part,set:t.set,mainStatType:(e=t.main)==null?void 0:e.stat,substats:t.substats})}function qp(t,e){if(!t||!e)return!0;const i=yo(t),l=yo(e);return i!=l}const{Text:$p}=pt,La=xe($p)`
    font-stretch: 95%;
    white-space: nowrap;
`,tR=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",children:a.jsx("g",{transform:"translate(24 1) scale(-1 1)",children:a.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"3",d:"M8 12L15 5M8 12L15 19"})})}),eR=t=>a.jsx(ua,{component:tR,...t}),qa=(t,e,i)=>{const{t:l}=et("common");if(!(t!=null&&t.stat)||t.value==null)return a.jsx(f,{justify:"space-between",children:a.jsx(f,{children:a.jsx("img",{src:U.getBlank(),style:{width:re,height:re,marginRight:2,marginLeft:-3}})})});let s;return e?s=O.renderMainStatNumber(t):s=O.renderSubstatNumber(t,i),s+=x.isFlat(t.stat)?"":"%",a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsxs(f,{children:[a.jsx("img",{src:U.getStatIcon(t.stat),style:{width:re,height:re,marginRight:2,marginLeft:-3}}),a.jsx(La,{children:l(`ReadableStats.${t.stat}`)})]}),e?a.jsx(La,{children:s}):a.jsxs(f,{justify:"space-between",style:{width:"41.5%"},children:[a.jsx(f,{gap:0,align:"center",children:t.addedRolls!=null&&nR(t)}),a.jsx(La,{children:s})]})]})};function nR(t){const e=[];for(let i=0;i<t.addedRolls;i++)e.push(a.jsx(eR,{style:{marginRight:-5,opacity:.75}},i));return t.addedRolls==0&&e.push(a.jsx("div",{},0)),e}const ce=({relic:t,characterId:e=void 0,score:i,source:l="",setSelectedRelic:s=()=>{},setEditModalOpen:o=()=>{},setAddModelOpen:c=()=>{}})=>{var D;t={enhance:0,part:void 0,set:void 0,grade:0,substats:[],main:void 0,equippedBy:void 0,...t};const{t:r}=et("common"),{enhance:u,part:R,set:h,substats:S,main:m,equippedBy:b,id:p}=t,C=h?U.getSetImage(h,R):U.getBlank(),G=b?U.getCharacterAvatarById(b):U.getBlank(),g=t!==void 0&&i!==void 0,T=()=>{!p&&!e||l==="scorer"||l==="builds"||(p?(s(t),o(!0)):(console.log(`Add new relic for characterId=${e}.`),t.equippedBy=e,t.enhance=15,t.grade=5,s(t),c(!0)))};return a.jsx(ya,{size:"small",hoverable:l!="scorer"&&l!="builds",onClick:T,style:{width:200,height:280},children:a.jsxs(f,{vertical:!0,justify:"space-between",style:{height:255},children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx("img",{style:{height:50,width:50},title:h,src:C}),a.jsx(f,{vertical:!0,align:"center",children:a.jsxs(f,{align:"center",gap:5,children:[O.renderGrade(t),a.jsx(f,{style:{width:30},justify:"space-around",children:a.jsx(La,{children:p!=null?`+${u}`:""})})]})}),a.jsx("img",{style:{height:50,width:50},src:G})]}),a.jsx(Ge,{style:{margin:"6px 0px 6px 0px"}}),qa(m,!0,t),a.jsx(Ge,{style:{margin:"6px 0px 6px 0px"}}),a.jsxs(f,{vertical:!0,gap:0,children:[qa(S[0],!1,t),qa(S[1],!1,t),qa(S[2],!1,t),qa(S[3],!1,t)]}),a.jsx(Ge,{style:{margin:"6px 0px 6px 0px"}}),a.jsxs(f,{justify:"space-between",children:[a.jsxs(f,{children:[a.jsx("img",{src:g?U.getStarBw():U.getBlank(),style:{width:re,height:re,marginRight:2,marginLeft:-3}}),a.jsx(La,{children:g?r("Score",{capitalizeLength:1}):""})]}),a.jsx(La,{children:g?`${i.score} (${i.rating})${(D=i.meta)!=null&&D.modified?" *":""}`:""})]})]})})};ce.propTypes={relic:_.object,source:_.string,characterId:_.string,score:_.object,setEditModalOpen:_.func,setSelectedRelic:_.func};const Mo=["F","F","F","F+","D","D+","C","C+","B","B+","A","A+","S","S+","SS","SS+","SSS","SSS+","WTF","WTF+"],Hn=1.8,Gn=.582,bi=5.1,oe={[d.Parts.Body]:{[d.Stats.HP_P]:1.3,[d.Stats.ATK_P]:1.3,[d.Stats.DEF_P]:1.3,[d.Stats.CR]:1.7,[d.Stats.CD]:1.7,[d.Stats.OHB]:1.7,[d.Stats.EHR]:1.7},[d.Parts.Feet]:{[d.Stats.HP_P]:1,[d.Stats.ATK_P]:1,[d.Stats.DEF_P]:1,[d.Stats.SPD]:1.6},[d.Parts.PlanarSphere]:{[d.Stats.HP_P]:1.6,[d.Stats.ATK_P]:1.6,[d.Stats.DEF_P]:1.6,[d.Stats.Physical_DMG]:Hn,[d.Stats.Fire_DMG]:Hn,[d.Stats.Ice_DMG]:Hn,[d.Stats.Lightning_DMG]:Hn,[d.Stats.Wind_DMG]:Hn,[d.Stats.Quantum_DMG]:Hn,[d.Stats.Imaginary_DMG]:Hn},[d.Parts.LinkRope]:{[d.Stats.HP_P]:1.1,[d.Stats.ATK_P]:1.1,[d.Stats.DEF_P]:1.1,[d.Stats.BE]:1.4,[d.Stats.ERR]:2}},Fo=new Set(d.SubStats);class ne{constructor(){Sa(this,"characterRelicScoreMetas");Sa(this,"optimalPartCharacterScore");Sa(this,"characterBaseStats");this.characterRelicScoreMetas=new Map,this.optimalPartCharacterScore=new Map,this.characterBaseStats=new Map}getBaseStats(e){let i=this.characterBaseStats.get(e);if(!i){const l=y.getMetadata().characters[e].stats;i={HP:l[d.Stats.HP],ATK:l[d.Stats.ATK],DEF:l[d.Stats.DEF]},this.characterBaseStats.set(e,i)}return i}getRelicScoreMeta(e){let i=this.characterRelicScoreMetas.get(e);if(!i){i=x.clone(y.getScoringMetadata(e));const l=this.getBaseStats(e);i.stats[d.Stats.HP]=i.stats[d.Stats.HP_P]*38/(l.HP*2*.03888),i.stats[d.Stats.ATK]=i.stats[d.Stats.ATK_P]*19/(l.ATK*2*.03888),i.stats[d.Stats.DEF]=i.stats[d.Stats.DEF_P]*19/(l.DEF*2*.0486),i.sortedSubstats=Object.entries(i.stats).filter(s=>Fo.has(s[0])).sort((s,o)=>o[1]-s[1]),i.groupedSubstats=new Map;for(const[s,o]of i.sortedSubstats)i.groupedSubstats.has(o)||i.groupedSubstats.set(o,[]),i.groupedSubstats.get(o).push(s);for(const s of i.groupedSubstats.values())s.sort();this.characterRelicScoreMetas.set(e,i)}return i}substatScore(e,i){const l=this.getRelicScoreMeta(i);if(!l||!i||!e)return console.warn("substatScore() called but missing 1 or more arguments. relic:",e,"meta:",l,"id:",i),{score:0,mainStatScore:0,scoringMetadata:l,part:e==null?void 0:e.part};const s={[d.Stats.HP_P]:64.8/43.2,[d.Stats.ATK_P]:64.8/43.2,[d.Stats.DEF_P]:64.8/54,[d.Stats.HP]:64.8/43.2*Rt[d.Stats.HP_P][5].high/Rt[d.Stats.HP][5].high,[d.Stats.ATK]:64.8/43.2*Rt[d.Stats.ATK_P][5].high/Rt[d.Stats.ATK][5].high,[d.Stats.DEF]:64.8/54*Rt[d.Stats.DEF_P][5].high/Rt[d.Stats.DEF][5].high,[d.Stats.CR]:64.8/32.4,[d.Stats.CD]:64.8/64.8,[d.Stats.OHB]:64.8/34.5606,[d.Stats.EHR]:64.8/43.2,[d.Stats.RES]:64.8/43.2,[d.Stats.SPD]:64.8/25.032,[d.Stats.BE]:64.8/64.8},o=l.stats;let c=0;for(const u of e.substats)c+=u.value*(o[u.stat]||0)*s[u.stat];const r=((u,R,h,S)=>{if([d.Parts.Head,d.Parts.Hands].includes(h))return 0;let m=0;switch(R){case 2:m=12.8562;break;case 3:m=25.8165;break;case 4:m=43.1304;break;default:m=64.8}return m*(S[h].includes(u)?1:o[u])})(e.main.stat,e.grade,e.part,l.parts);return{score:c,mainStatScore:r,part:e.part,scoringMetadata:l}}scoreOptimalRelic(e,i){var r;const l=(r=this.optimalPartCharacterScore.get(e))==null?void 0:r.get(i);if(l!=null)return l;let s=0;const o=this.getRelicScoreMeta(i),c=iR(o);switch(c){case 5:s=1/0;break;case 1:case 2:case 3:{let u=[];const R=o.sortedSubstats[0][0],h=o.sortedSubstats[1][0];e==d.Parts.Head&&c==1||e==d.Parts.Hands&&c==2?u=ea(5,{stat:R,value:Rt[R][5].high*6}):u=ea(5,{stat:R,value:Rt[R][5].high*6},{stat:h,value:Rt[h][5].high});const S=ga(5,15,e,d.Stats.HP_P,u);s=this.substatScore(S,i).score}break;case 0:{const u=o.sortedSubstats[0][0],R=ea(5,{stat:u,value:Rt[u][5].high*6});s=this.substatScore(ga(5,15,e,d.Stats.HP_P,R),i).score}break;case 4:{let u="";const R=o.parts[e]||[],h=Object.entries(o.stats).map(C=>R.includes(C[0])?[C[0],1]:[C[0],C[1]]).sort((C,G)=>G[1]-C[1]);if(x.hasMainStat(e)){const C=h.findIndex(([D,I])=>ai[e].includes(D)),G=h[C][1];u=h[C][0];let g=!1,T=!0;for(let D=C;D<h.length;D++){const[I,F]=h[D];if(F!=G)break;if(!ai[e].includes(I))continue;const E=R.includes(I),P=Fo.has(I);g&&!E||!T&&P||g===E&&T==P||(u=I,g=E,T=P)}}else u=h.find(([C,G])=>ai[e][0]===C)[0];const m=o.sortedSubstats.filter(([C,G])=>C!==u).slice(0,4),b=ea(5,{stat:m[0][0],value:Rt[m[0][0]][5].high*6},{stat:m[1][0],value:Rt[m[1][0]][5].high},{stat:m[2][0],value:Rt[m[2][0]][5].high},{stat:m[3][0],value:Rt[m[3][0]][5].high}),p=ga(5,15,e,u,b);s=this.substatScore(p,i).score}break}return this.optimalPartCharacterScore.has(e)||this.optimalPartCharacterScore.set(e,new Map),this.optimalPartCharacterScore.get(e).set(i,s),s}static scoreFutureRelic(e,i,l=!1){return new ne().scoreFutureRelic(e,i,l)}scoreFutureRelic(e,i,l=!1){if(!i||!e)return console.warn("scoreFutureRelic() called but lacking arguments"),{current:0,best:0,average:0,worst:0,meta:{bestAddedStats:[""],bestUpgradedStats:[""]},substatScore:{best:0,average:0,worst:0}};const s=this.getRelicScoreMeta(i);if(!s.sortedSubstats[0][0])return{current:0,best:0,average:0,worst:0,meta:{bestAddedStats:[""],bestUpgradedStats:[""]},substatScore:{best:0,average:0,worst:0}};const o=(()=>{switch(e.grade){case 2:return 12.8562;case 3:return 25.8165;case 4:return 43.1304;case 5:return 64.8}})(),c=x.hasMainStat(e.part)?(oR(e,s)-1)*o:0,r=s.sortedSubstats.filter(N=>N[0]!=e.main.stat&&!e.substats.map(k=>k.stat).includes(N[0])),u=Math.ceil((yi(e.grade)-e.enhance)/3)-(4-e.substats.length),R=Hs(e.part,e.main.stat,s),h=this.scoreOptimalRelic(e.part,i),S=Math.max(0,this.substatScore(e,i).score/h*100*Gn+R+c),m=[{stat:"",value:0},{stat:"",value:0},{stat:"",value:0},{stat:"",value:0}];for(let N=0;N<e.substats.length;N++)m[N].stat=e.substats[N].stat,m[N].value=e.substats[N].value;for(let N=e.substats.length;N<4;N++){const k=r[N-e.substats.length][0];m[N].stat=k,m[N].value=Rt[k][5].high}const b=sR(m,s);m[b.index].value+=u*Rt[b.stat][e.grade].high;let p=ga(e.grade,yi(e.grade),e.part,e.main.stat,ea(5,m[0],m[1],m[2],m[3]));const C=Math.max(0,(this.substatScore(p,i).score+c)/h*100*Gn+R),G=[{stat:"",value:0},{stat:"",value:0},{stat:"",value:0},{stat:"",value:0}];for(let N=0;N<e.substats.length;N++)G[N].stat=e.substats[N].stat,G[N].value=e.substats[N].value+u/4*Rt[G[N].stat][e.grade].mid;let g=0;const T={[d.Stats.HP_P]:64.8/43.2,[d.Stats.ATK_P]:64.8/43.2,[d.Stats.DEF_P]:64.8/54,[d.Stats.HP]:64.8/43.2*Rt[d.Stats.HP_P][5].high/Rt[d.Stats.HP][5].high,[d.Stats.ATK]:64.8/43.2*Rt[d.Stats.ATK_P][5].high/Rt[d.Stats.ATK][5].high,[d.Stats.DEF]:64.8/54*Rt[d.Stats.DEF_P][5].high/Rt[d.Stats.DEF][5].high,[d.Stats.CR]:64.8/32.4,[d.Stats.CD]:64.8/64.8,[d.Stats.OHB]:64.8/34.5606,[d.Stats.EHR]:64.8/43.2,[d.Stats.RES]:64.8/43.2,[d.Stats.SPD]:64.8/25.032,[d.Stats.BE]:64.8/64.8};for(const N of r){const[k,B]=N;g+=Rt[k][e.grade].mid*B*T[k]}g=g/r.length;for(let N=e.substats.length;N<4;N++)G[N].stat=s.sortedSubstats[0][0],G[N].value=g*(1+u/4)/(T[s.sortedSubstats[0][0]]*s.sortedSubstats[0][1]);p=ga(e.grade,yi(e.grade),e.part,e.main.stat,ea(5,G[0],G[1],G[2],G[3]));const D=Math.max(0,(this.substatScore(p,i).score+c)/h*100*Gn+R);r.reverse();const I=[{stat:"",value:0},{stat:"",value:0},{stat:"",value:0},{stat:"",value:0}];for(let N=0;N<e.substats.length;N++)I[N].stat=e.substats[N].stat,I[N].value=e.substats[N].value;for(let N=e.substats.length;N<4;N++){const k=r[N-e.substats.length][0];I[N].stat=k,I[N].value=Rt[k][5].high}const F=lR(I,s);I[F.index].value+=Rt[F.stat][e.grade].low*u,p=ga(e.grade,yi(e.grade),e.part,e.main.stat,ea(5,I[0],I[1],I[2],I[3]));const E=Math.max(0,(this.substatScore(p,i).score+c)/h*100*Gn+R);let P;if(l){const N=[];if(e.substats.length<4)for(const[z,dt]of r)dt>=r[r.length-1][1]&&N.push(V.t(`common:Stats.${z}`));const k=s.sortedSubstats.filter(z=>e.main.stat!==z[0]),B=[],j={...x.arrayToMap(e.substats,"stat"),...x.stringArrayToMap(N)},st=k.filter(z=>j[z[0]]),A=st[0][1];for(const[z,dt]of st)j[z]&&dt>=A&&B.push(V.t(`common:Stats.${z}`));P={bestAddedStats:N,bestUpgradedStats:B}}return{current:S,best:C,average:D,worst:E,meta:P}}static scoreCurrentRelic(e,i){return new ne().scoreCurrentRelic(e,i)}scoreCurrentRelic(e,i){if(!e)return{score:"",rating:"",mainStatScore:0};if(!i)return console.warn("scoreCurrentRelic called but lacking character",e),{score:"",rating:"",mainStatScore:0};const l=this.getRelicScoreMeta(i),s=e.part,o=Hs(e.part,e.main.stat,l),c=this.substatScore(e,i),r=this.scoreOptimalRelic(s,i),u=c.score/r*100*Gn+o,R=Bo(u),h=c.mainStatScore;return{score:u.toFixed(1),rating:R,mainStatScore:h,part:s,meta:l}}static scoreCharacterWithRelics(e,i){return new ne().scoreCharacterWithRelics(e,i)}scoreCharacterWithRelics(e,i){if(!(e!=null&&e.id))return console.warn("scoreCharacterWithRelics called but no character given"),{relics:[],totalScore:0,totalRating:"???"};const l=i.map(r=>this.scoreCurrentRelic(r,e.id));let s=0;for(const r of l)s+=Number(r.score)+Number(r.mainStatScore);const o=3-aR(i.filter(r=>r!=null).map(r=>r.set));s=Math.max(0,s-o*3*bi);const c=Bo((s-4*64.8)/6);return{relics:l,totalScore:s,totalRating:c}}static scoreCharacter(e){return new ne().scoreCharacter(e)}scoreCharacter(e){if(!e)return{};const i=window.store.getState().relicsById,l=Object.values(e.equipped).map(s=>i[s??""]);return this.scoreCharacterWithRelics(e,l)}static scoreRelicPotential(e,i,l=!1){return new ne().scoreRelicPotential(e,i,l)}scoreRelicPotential(e,i,l=!1){const s=this.getRelicScoreMeta(i),o=Hs(e.part,e.main.stat,s),c=this.scoreFutureRelic(e,i,l);return x.hasMainStat(e.part)&&(c.best=Math.max(0,c.best-o),c.average=Math.max(0,c.average-o),c.worst=Math.max(0,c.worst-o)),{bestPct:c.best/Gn,averagePct:c.average/Gn,worstPct:c.worst/Gn,meta:c.meta}}}function aR(t){let e=0;const i={};return t.forEach(l=>{i[l]?(e+=1,i[l]=0):i[l]=1}),e}function Hs(t,e,i){const l=i.stats,s=i.parts;if(t==d.Parts.Body||t==d.Parts.Feet||t==d.Parts.PlanarSphere||t==d.Parts.LinkRope){const o=s[t].includes(e)?1:l[e];return oe[t][e]*bi*o}return 0}function ga(t,e,i,l,s){return{weights:void 0,enhance:e,equippedBy:"",grade:t,id:"",set:"",part:i,main:{stat:l,value:Os[l][t].base+Os[l][t].increment*e},substats:s}}function ea(t,e,i,l,s){const o=[{stat:e.stat,value:e.value,rolls:{high:Rt[e.stat][t].high,mid:Rt[e.stat][t].mid,low:Rt[e.stat][t].low},addedRolls:0}];return i&&o.push({stat:i.stat,value:i.value,rolls:{high:Rt[i.stat][t].high,mid:Rt[i.stat][t].mid,low:Rt[i.stat][t].low},addedRolls:0}),l&&o.push({stat:l.stat,value:l.value,rolls:{high:Rt[l.stat][t].high,mid:Rt[l.stat][t].mid,low:Rt[l.stat][t].low},addedRolls:0}),s&&o.push({stat:s.stat,value:s.value,rolls:{high:Rt[s.stat][t].high,mid:Rt[s.stat][t].mid,low:Rt[s.stat][t].low},addedRolls:0}),o}function iR(t){const e=t.sortedSubstats;if(e[0][1]==0)return 5;if(e[1][1]==0)return 0;const i=[d.Stats.HP,d.Stats.HP_P],l=[d.Stats.ATK,d.Stats.ATK_P],s=[d.Stats.DEF,d.Stats.DEF_P];return i.includes(e[1][0])&&i.includes(e[0][0])&&e[2][1]==0?1:l.includes(e[1][0])&&l.includes(e[0][0])&&e[2][1]==0?2:s.includes(e[1][0])&&s.includes(e[0][0])&&e[2][1]==0?3:4}function sR(t,e){let i=0,l=0,s="";for(let o=0;o<t.length;o++){const c=e.stats[t[o].stat];(c>l||o==0)&&(l=c,i=o,s=t[o].stat)}return{index:i,weight:l,stat:s}}function lR(t,e){let i=0,l=1,s="";for(let o=0;o<t.length;o++){const c=e.stats[t[o].stat];(c<l||o==0)&&(l=c,i=o,s=t[o].stat)}return{index:i,weight:l,stat:s}}function yi(t){switch(t){case 2:return 6;case 3:return 9;case 4:return 12;default:return 15}}function Bo(t){const e=Math.min(Math.floor(t/(bi/2)),Mo.length-1);return e<0?"???":Mo[e]}function oR(t,e){return x.hasMainStat(t.part)?e.parts[t.part].includes(t.main.stat)?1:e.stats[t.main.stat]:0}function Zc(t){const[e,i]=L.useState();window.setOptimizerBuild=i;function l(G){const g=Wl.onEditOk(s,G);o(g)}const[s,o]=L.useState(),[c,r]=L.useState(!1),u=y.getRelicsById(),R=tt.getForm().characterId,h=e?ne.scoreCurrentRelic(u[e==null?void 0:e.Head],R):void 0,S=e?ne.scoreCurrentRelic(u[e==null?void 0:e.Hands],R):void 0,m=e?ne.scoreCurrentRelic(u[e==null?void 0:e.Body],R):void 0,b=e?ne.scoreCurrentRelic(u[e==null?void 0:e.Feet],R):void 0,p=e?ne.scoreCurrentRelic(u[e==null?void 0:e.PlanarSphere],R):void 0,C=e?ne.scoreCurrentRelic(u[e==null?void 0:e.LinkRope],R):void 0;return a.jsxs("div",{children:[a.jsxs(f,{gap:5,id:"optimizerBuildPreviewContainer",children:[a.jsx(ce,{setEditModalOpen:r,setSelectedRelic:o,relic:u[e==null?void 0:e.Head],score:h}),a.jsx(ce,{setEditModalOpen:r,setSelectedRelic:o,relic:u[e==null?void 0:e.Hands],score:S}),a.jsx(ce,{setEditModalOpen:r,setSelectedRelic:o,relic:u[e==null?void 0:e.Body],score:m}),a.jsx(ce,{setEditModalOpen:r,setSelectedRelic:o,relic:u[e==null?void 0:e.Feet],score:b}),a.jsx(ce,{setEditModalOpen:r,setSelectedRelic:o,relic:u[e==null?void 0:e.PlanarSphere],score:p}),a.jsx(ce,{setEditModalOpen:r,setSelectedRelic:o,relic:u[e==null?void 0:e.LinkRope],score:C})]}),a.jsx(Xa,{selectedRelic:s,type:"edit",onOk:l,setOpen:r,open:c})]})}Zc.propTypes={build:_.object};const{useToken:gc}=Ce,{useBreakpoint:cR}=pr,{Text:ts}=pt;function rR(t){return[{label:a.jsx("div",{style:{width:"100%",fontWeight:t==Jn?"bold":""},children:V.t("optimizerTab:Sidebar.GPUOptions.Experimental")}),key:Jn},{label:a.jsx("div",{style:{width:"100%",fontWeight:t==ui?"bold":""},children:V.t("optimizerTab:Sidebar.GPUOptions.Stable")}),key:ui},{label:a.jsx("div",{style:{width:"100%",fontWeight:t==tn?"bold":""},children:V.t("optimizerTab:Sidebar.GPUOptions.CPU")}),key:tn}]}function He(t){const e=t.total?`${Number(t.right).toLocaleString()} / ${Number(t.total).toLocaleString()} - (${Math.ceil(Number(t.right)/Number(t.total)*100)}%)`:`${Number(t.right).toLocaleString()}`;return a.jsxs(f,{justify:"space-between",children:[a.jsx(ts,{style:{lineHeight:"24px"},children:t.left}),a.jsx(Ge,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),a.jsx(ts,{style:{lineHeight:"24px"},children:e})]})}He.propTypes={total:_.number,right:_.number,left:_.string};const Ee=5;function dR(){const{lg:t,xl:e,xxl:i}=cR(),l=y.getState().settings[At.PermutationsSidebarBehavior.name]==At.PermutationsSidebarBehavior.NoShow,s=y.getState().settings[At.PermutationsSidebarBehavior.name]==At.PermutationsSidebarBehavior.ShowXL,o=y.getState().settings[At.PermutationsSidebarBehavior.name]==At.PermutationsSidebarBehavior.ShowXXL;function c(){return l?a.jsx(Po,{}):t&&s&&!e||t&&o&&!i?a.jsx(uR,{}):a.jsx(Po,{})}return c()}function Tc(){const{t}=et("optimizerTab",{keyPrefix:"Sidebar.GPUOptions"}),e=window.store(i=>i.savedSession[ae.computeEngine]);return a.jsx(hi,{menu:{items:rR(e),onClick:i=>{i.key==tn?(window.store.getState().setSavedSessionKey(ae.computeEngine,tn),Message.success(t("EngineSwitchSuccessMsg.CPU"))):mc(!0).then(l=>{l&&(window.store.getState().setSavedSessionKey(ae.computeEngine,i.key),Message.success(i.key==Jn?t("EngineSwitchSuccessMsg.Experimental"):t("EngineSwitchSuccessMsg.Stable")))})}},style:{width:"100%",flex:1},className:"custom-dropdown-button",trigger:["click"],children:a.jsx(w,{style:{padding:3},children:a.jsxs(f,{justify:"space-around",align:"center",style:{width:"100%"},children:[a.jsx("div",{style:{width:1}}),a.jsx(ts,{children:t(`Display.${e}`)}),a.jsx(es,{})]})})})}function Dc(){const t=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData"),e=window.optimizerGrid.current.api.getSelectedNodes();if(!e||e.length==0)Message.warning(V.t("optimizerTab:Sidebar.Pinning.Messages.NoneSelected"));else if(e[0].data.statSim)Message.warning(V.t("optimizerTab:Sidebar.Pinning.Messages.SimSelected"));else if(t.find(i=>String(i.id)==String(e[0].data.id)))Message.warning(V.t("optimizerTab:Sidebar.Pinning.Messages.AlreadyPinned"));else{const i=e[0].data;t.push(i),window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:t})}}function Vc(){const t=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData");t.length&&window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:[t[0]]})}function Po(){const{token:t}=gc(),{t:e}=et(["optimizerTab","common"]),i=window.store(P=>P.statDisplay),l=window.store(P=>P.setStatDisplay),s=window.store(P=>P.permutationDetails),o=window.store(P=>P.permutations),c=window.store(P=>P.permutationsSearched),r=window.store(P=>P.permutationsResults),u=window.store(P=>P.optimizationInProgress),R=window.store(P=>P.setOptimizationInProgress),h=window.store(P=>P.optimizerStartTime),S=window.store(P=>P.optimizerEndTime),m=window.store(P=>P.savedSession[ae.computeEngine]),b=window.store(P=>P.optimizerRunningEngine),[p,C]=L.useState(void 0),[G,g]=L.useState(!1);function T(){console.log("Cancel clicked"),R(!1),Na.cancel(window.store.getState().optimizationId)}window.optimizerCancelClicked=T;function D(){console.log("Reset clicked"),tt.resetFilters()}function I(){console.log("Filter clicked"),tt.applyRowFilters()}function F(){o<1e9||m==Jn||m==ui?E():g(!0)}function E(){C(Date.now()),window.optimizerStartClicked()}return a.jsxs(f,{children:[a.jsx(Wc,{startSearch:E,manyPermsModalOpen:G,setManyPermsModalOpen:g}),a.jsx(f,{vertical:!0,style:{overflow:"clip"},children:a.jsx(f,{style:{position:"sticky",top:"50%",transform:"translateY(-50%)",paddingLeft:10},children:a.jsxs(Ue,{height:635,children:[a.jsxs(f,{vertical:!0,gap:10,children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:e("Sidebar.Permutations")}),a.jsx(Jt,{type:jt.optimizationDetails()})]}),a.jsxs(f,{vertical:!0,children:[a.jsx(He,{left:e("common:ReadableParts.Head"),right:s.Head,total:s.HeadTotal}),a.jsx(He,{left:e("common:ReadableParts.Hands"),right:s.Hands,total:s.HandsTotal}),a.jsx(He,{left:e("common:ReadableParts.Body"),right:s.Body,total:s.BodyTotal}),a.jsx(He,{left:e("common:ReadableParts.Feet"),right:s.Feet,total:s.FeetTotal}),a.jsx(He,{left:e("common:ReadableParts.PlanarSphere"),right:s.PlanarSphere,total:s.PlanarSphereTotal}),a.jsx(He,{left:e("common:ReadableParts.LinkRope"),right:s.LinkRope,total:s.LinkRopeTotal})]}),a.jsxs(f,{vertical:!0,children:[a.jsx(He,{left:e("Sidebar.Perms"),right:o}),a.jsx(He,{left:e("Sidebar.Searched"),right:c}),a.jsx(He,{left:e("Sidebar.Results"),right:r})]}),a.jsxs(f,{vertical:!0,children:[a.jsx(nt,{children:mR(h,S,o,c,u,b)}),a.jsx(Rr,{strokeColor:t.colorPrimary,steps:17,size:[8,5],percent:Math.floor(Number(c)/Number(o)*100)})]})]}),a.jsxs(f,{vertical:!0,gap:5,children:[a.jsx(nt,{children:e("Sidebar.ControlsGroup.Header")}),a.jsxs(f,{gap:Ee,style:{marginBottom:2},vertical:!0,children:[a.jsx(f,{gap:Ee,children:a.jsx(w,{icon:a.jsx(m0,{}),type:"primary",loading:u,onClick:F,style:{flex:1},children:e("Sidebar.ControlsGroup.Start")})}),a.jsx(Tc,{}),a.jsxs(f,{gap:Ee,children:[a.jsx(w,{onClick:T,style:{flex:1},children:e("Sidebar.ControlsGroup.Cancel")}),a.jsx(On,{title:e("Sidebar.ControlsGroup.ResetConfirm.Title"),description:e("Sidebar.ControlsGroup.ResetConfirm.Description"),onConfirm:D,okText:e("Sidebar.ControlsGroup.ResetConfirm.Yes"),cancelText:e("Sidebar.ControlsGroup.ResetConfirm.No"),children:a.jsx(w,{style:{flex:1},children:e("Sidebar.ControlsGroup.Reset")})})]}),a.jsx(f,{gap:Ee})]})]}),a.jsxs(f,{vertical:!0,gap:5,children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:e("Sidebar.StatViewGroup.Header")}),a.jsx(Jt,{type:jt.statDisplay()})]}),a.jsxs(pe.Group,{onChange:P=>{const{target:{value:N}}=P;l(N)},optionType:"button",buttonStyle:"solid",value:i,style:{width:"100%",display:"flex"},children:[a.jsx(pe,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"combat",children:e("Sidebar.StatViewGroup.CombatStats")}),a.jsx(pe,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"base",defaultChecked:!0,children:e("Sidebar.StatViewGroup.BasicStats")})]})]}),a.jsxs(f,{vertical:!0,gap:5,children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:e("Sidebar.ResultsGroup.Header")}),a.jsx(Jt,{type:jt.actions()})]}),a.jsxs(f,{gap:Ee,justify:"space-around",children:[a.jsx(w,{type:"primary",onClick:tt.equipClicked,style:{width:"100px"},children:e("Sidebar.ResultsGroup.Equip")}),a.jsx(w,{onClick:I,style:{width:"100px"},children:e("Sidebar.ResultsGroup.Filter")})]}),a.jsxs(f,{gap:Ee,justify:"space-around",children:[a.jsx(w,{style:{width:"100px"},onClick:Dc,children:e("Sidebar.ResultsGroup.Pin")}),a.jsx(w,{style:{width:"100px"},onClick:Vc,children:e("Sidebar.ResultsGroup.Clear")})]})]})]})})})]})}function uR(){const{t}=et(["optimizerTab","common"]);gc();const e="rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.15) 0px 0px 0px 1px inset",i=window.store(T=>T.statDisplay),l=window.store(T=>T.setStatDisplay),s=window.store(T=>T.permutations),o=window.store(T=>T.permutationsSearched),c=window.store(T=>T.permutationsResults),r=window.store(T=>T.optimizationInProgress),u=window.store(T=>T.setOptimizationInProgress),[R,h]=L.useState(void 0);window.store(T=>T.optimizerStartTime),window.store(T=>T.optimizerEndTime);const[S,m]=L.useState(!1);function b(){console.log("Cancel clicked"),u(!1),Na.cancel(window.store.getState().optimizationId)}window.optimizerCancelClicked=b;function p(){console.log("Reset clicked"),tt.resetFilters()}function C(){console.log("Filter clicked"),tt.applyRowFilters()}function G(){const T=window.store.getState().savedSession[ae.computeEngine];s<1e9||T==Jn||T==ui?g():m(!0)}function g(){h(Date.now()),window.optimizerStartClicked()}return a.jsxs(f,{height:150,justify:"center",style:{overflow:"clip",position:"fixed",width:"100%",bottom:0,left:0,backgroundColor:"rgb(29 42 71)",boxShadow:e,borderRadius:5,padding:T0,zIndex:3},children:[a.jsx(Wc,{startSearch:g,manyPermsModalOpen:S,setManyPermsModalOpen:m}),a.jsxs(f,{gap:20,justify:"space-evenly",children:[a.jsxs(f,{vertical:!0,gap:Ee,children:[a.jsxs(f,{justify:"space-between",align:"center",style:{minWidth:211},children:[a.jsx(nt,{children:t("Sidebar.Permutations")}),a.jsx(Jt,{type:jt.optimizationDetails()})]}),a.jsxs(f,{vertical:!0,children:[a.jsx(He,{left:t("Sidebar.Perms"),right:s}),a.jsx(He,{left:t("Sidebar.Searched"),right:o}),a.jsx(He,{left:t("Sidebar.Results"),right:c})]})]}),a.jsxs(f,{vertical:!0,gap:Ee,style:{minWidth:211},children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:t("Sidebar.StatViewGroup.Header")}),a.jsx(Jt,{type:jt.statDisplay()})]}),a.jsxs(pe.Group,{onChange:T=>{const{target:{value:D}}=T;l(D)},optionType:"button",buttonStyle:"solid",value:i,style:{width:"100%",display:"flex"},children:[a.jsx(pe,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"base",defaultChecked:!0,children:t("Sidebar.StatViewGroup.BasicStats")}),a.jsx(pe,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"combat",children:t("Sidebar.StatViewGroup.CombatStats")})]}),a.jsx(f,{vertical:!0,children:a.jsx(Tc,{})})]}),a.jsxs(f,{vertical:!0,gap:5,style:{minWidth:211},children:[a.jsx(nt,{children:t("Sidebar.ControlsGroup.Header")}),a.jsxs(f,{vertical:!0,gap:Ee,style:{marginBottom:2},children:[a.jsx(f,{gap:Ee,children:a.jsx(w,{icon:a.jsx(m0,{}),type:"primary",loading:r,onClick:G,style:{flex:1},children:t("Sidebar.ControlsGroup.Start")})}),a.jsxs(f,{gap:Ee,children:[a.jsx(w,{onClick:b,style:{flex:1},children:t("Sidebar.ControlsGroup.Cancel")}),a.jsx(On,{title:t("Sidebar.ControlsGroup.ResetConfirm.Title"),description:t("Sidebar.ControlsGroup.ResetConfirm.Description"),onConfirm:p,okText:t("Sidebar.ControlsGroup.ResetConfirm.Yes"),cancelText:t("Sidebar.ControlsGroup.ResetConfirm.No"),children:a.jsx(w,{style:{flex:1},children:t("Sidebar.ControlsGroup.Reset")})})]})]})]}),a.jsx(f,{vertical:!0,gap:Ee,style:{minWidth:211}}),a.jsxs(f,{vertical:!0,gap:Ee,style:{minWidth:211},children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:t("Sidebar.ResultsGroup.Header")}),a.jsx(Jt,{type:jt.actions()})]}),a.jsxs(f,{gap:Ee,justify:"space-around",children:[a.jsx(w,{type:"primary",onClick:tt.equipClicked,style:{width:"100px"},children:t("Sidebar.ResultsGroup.Equip")}),a.jsx(w,{onClick:C,style:{width:"100px"},children:t("Sidebar.ResultsGroup.Filter")})]}),a.jsxs(f,{gap:Ee,justify:"space-around",children:[a.jsx(w,{style:{width:"100px"},onClick:Dc,children:t("Sidebar.ResultsGroup.Pin")}),a.jsx(w,{style:{width:"100px"},onClick:Vc,children:t("Sidebar.ResultsGroup.Clear")})]})]})]})]})}function mR(t,e,i,l,s,o){if(!t)return V.t("optimizerTab:Sidebar.ProgressText.Progress");let c=Date.now();e&&(c=e);const r=o==tn?l:Math.max(l,65536*512),u=c-t;if(!e&&u<5e3&&l<5e6||!l)return V.t("optimizerTab:Sidebar.ProgressText.CalculatingETA");const R=u/l*(i-l),h=r/(u/1e3);return s?V.t("optimizerTab:Sidebar.ProgressText.TimeRemaining",{rate:Math.floor(h).toLocaleString(),timeRemaining:x.msToReadable(R)}):V.t("optimizerTab:Sidebar.ProgressText.Finished",{rate:Math.floor(h).toLocaleString()})}function Wc(t){const{t:e}=et("modals",{keyPrefix:"ManyPerms"});return a.jsx(Ve,{title:e("Title"),open:t.manyPermsModalOpen,width:900,destroyOnClose:!0,centered:!0,onOk:()=>t.setManyPermsModalOpen(!1),onCancel:()=>t.setManyPermsModalOpen(!1),footer:null,children:a.jsxs(f,{justify:"space-between",align:"center",style:{height:45,marginTop:30,marginBottom:15},gap:16,children:[a.jsx(ts,{children:e("Text")}),a.jsx(w,{onClick:()=>t.setManyPermsModalOpen(!1),style:{width:250},type:"primary",children:e("Cancel")}),a.jsx(w,{onClick:()=>{t.setManyPermsModalOpen(!1),t.startSearch()},style:{width:250},type:"primary",children:e("Proceed")})]})})}const bR="ArrowLeft",hR="ArrowUp",pR="ArrowRight",RR="ArrowDown",Il=(t,e,i)=>{const l=t.previousCellPosition;let s,o,c;function r(u){return u>=o||u<=-1?null:(c=e.current.api.getDisplayedRowAtIndex(u),e.current.api.setNodesSelected({nodes:[c],newValue:!0}),i(c),{rowIndex:u,column:l.column,rowPinned:l.rowPinned})}switch(t.key){case hR:return s=l.rowIndex-1,r(s);case RR:return s=l.rowIndex+1,o=t.api.getDisplayedRowCount(),r(s);case bR:case pR:default:return null}},{useToken:SR}=Ce;function fR(){console.log("======================================================================= RENDER OptimizerGrid");const{token:t}=SR(),{t:e,i18n:i}=et("optimizerTab"),l=L.useRef();window.optimizerGrid=l;const[s,o]=L.useState(!1),c=L.useMemo(()=>tt.getDataSource(),[]),r=window.store(S=>S.statDisplay),u=L.useMemo(()=>r=="combat"?ld(e):sd(e),[r,e]);zl.datasource=c;const R=L.useCallback(S=>Il(S,l,m=>tt.cellClicked(m)),[]);L.useEffect(()=>{o(!0),setTimeout(()=>o(!1),50)},[i.resolvedLanguage]);const h=L.useCallback(S=>({to:e("Grid.To"),pageSizeSelectorLabel:e("Grid.PageSelectorLabel"),of:e("Grid.Of"),page:e("Grid.Page")})[S.key]??S.defaultValue,[e]);return a.jsx(f,{children:!s&&a.jsx("div",{id:"optimizerGridContainer",className:"ag-theme-balham-dark",style:{width:1225,minHeight:300,height:600,resize:"vertical",overflow:"hidden",...fl(t)},children:a.jsx(ol,{animateRows:!1,columnDefs:u,defaultColDef:od,gridOptions:zl,headerHeight:24,onCellClicked:tt.cellClicked,ref:l,rowSelection:"single",paginationNumberFormatter:S=>S.value.toLocaleString(i.resolvedLanguage),getLocaleText:h,navigateToNextCell:R})})})}function Ic(){return console.log("======================================================================= RENDER OptimizerTab"),a.jsxs(f,{children:[a.jsxs(f,{vertical:!0,gap:10,style:{marginBottom:100},children:[a.jsx(Qp,{}),a.jsx(fR,{}),a.jsx(Zc,{})]}),a.jsx(Nh,{}),a.jsx(Hh,{}),a.jsx(dR,{})]})}Ic.propTypes={active:_.bool};const Ec=(t,e)=>{const i=()=>{document.removeEventListener(t,e)};L.useEffect(()=>(document.addEventListener(t,e),()=>i()),[t,e])},{useToken:GR}=Ce,{Text:CR}=pt,ZR=34,gR=34,TR=U.getBlank();function xc(t){const e=window.store(B=>B.setRelicTabFilters),i=window.store(B=>B.setRelicsTabFocusCharacter),[l,s]=L.useState(),{t:o,i18n:c}=et(["relicsTab","common","gameData"]),r=L.useMemo(()=>x.generateCharacterOptions(),[]);function u(B,j,st){function A(z){const dt={[n.Physical_DMG]:"Physical",[n.Fire_DMG]:"Fire",[n.Ice_DMG]:"Ice",[n.Lightning_DMG]:"Lightning",[n.Wind_DMG]:"Wind",[n.Quantum_DMG]:"Quantum",[n.Imaginary_DMG]:"Imaginary"},Yt=dt[z]?30:gR,vt=U.getElement(dt[z]),ft=vt!=TR?vt:j(z);return st?a.jsx(s0,{title:c.exists(`common:Stats.${z}`)?o(`common:Stats.${z}`):o(`gameData:RelicSets.${Be[z]}.Name`),mouseEnterDelay:.2,children:a.jsx("img",{style:{width:Yt},src:ft})}):a.jsx("img",{style:{width:Yt},src:ft})}return B.map(z=>({key:z,display:A(z)}))}function R(B,j){return B.map(st=>({key:st[0],display:a.jsx(f,{style:{width:j,height:ZR},justify:"space-around",align:"center",children:a.jsx(CR,{style:{fontSize:18},children:st[1]})})}))}function h(B){return B.map(j=>({key:j,display:O.renderGrade({grade:j})}))}function S(B){return B.map(j=>({key:j,display:O.renderGrade({grade:-1,verified:j},!0)}))}function m(B){return B.map(j=>({key:j,display:O.renderEquippedBy({equippedBy:j})}))}const b=h([2,3,4,5]),p=S(["true","false"]),C=u(Object.values(d.SetsRelics).concat(Object.values(d.SetsOrnaments)).filter(B=>!jn[B]),B=>U.getSetImage(B,d.Parts.PlanarSphere),!0),G=u(Object.values(d.Parts),B=>U.getPart(B),!1),g=u(d.MainStats,B=>U.getStatIcon(B,!0),!0),T=u(d.SubStats,B=>U.getStatIcon(B,!0),!0),D=R([[0,"+0"],[3,"+3"],[6,"+6"],[9,"+9"],[12,"+12"],[15,"+15"]]),I=m(["true","false"]);window.refreshRelicsScore=()=>{setTimeout(()=>{F(l)},100)},Ec("refreshRelicsScore",window.refreshRelicsScore),L.useEffect(()=>{y.getState().settings[At.RelicPotentialLoadBehavior.name]==At.RelicPotentialLoadBehavior.ScoreAtStartup&&F(l)},[]);function F(B,j){var Yt,vt;const st=j?[j]:Object.values(y.getRelicsById());console.log("idChange",B),i(B),s(B);const A=r.map(ft=>ft.id),z=window.store.getState().excludedRelicPotentialCharacters,dt=new ne;for(const ft of st){ft.weights=B?dt.scoreFutureRelic(ft,B):{current:0,best:0,average:0},ft.weights.potentialSelected=B?dt.scoreRelicPotential(ft,B):{bestPct:0,averagePct:0},ft.weights.potentialAllAll={bestPct:0,averagePct:0},ft.weights.potentialAllCustom={bestPct:0,averagePct:0};for(const zt of A){const Se=dt.scoreRelicPotential(ft,zt);ft.weights.potentialAllAll={bestPct:Math.max(Se.bestPct,ft.weights.potentialAllAll.bestPct),averagePct:Math.max(Se.averagePct,ft.weights.potentialAllAll.averagePct)},z.includes(zt)||(ft.weights.potentialAllCustom={bestPct:Math.max(Se.bestPct,ft.weights.potentialAllCustom.bestPct),averagePct:Math.max(Se.averagePct,ft.weights.potentialAllCustom.averagePct)})}}j||(y.setRelics(x.clone(st)),B&&((vt=(Yt=window.relicsGrid)==null?void 0:Yt.current)!=null&&vt.api)&&(window.relicsGrid.current.api.getColumnState().filter(zt=>zt.sort!==null)||window.relicsGrid.current.api.applyColumnState({state:[{colId:"weights.current",sort:"desc"}],defaultState:{sort:null}})),y.refreshRelics())}function E(){e({set:[],part:[],enhance:[],mainStats:[],subStats:[],grade:[],verified:[],equippedBy:[]})}function P(){const B=store.getState().relicsTabFocusCharacter;B&&store.getState().setScoringAlgorithmFocusCharacter(B),window.setIsScoringModalOpen(!0)}function N(){F(l)}function k(B){F(l,B)}return window.rescoreSingleRelic=k,a.jsxs(f,{vertical:!0,gap:2,children:[a.jsxs(f,{gap:10,children:[a.jsxs(f,{vertical:!0,flex:1,children:[a.jsx(nt,{children:o("RelicFilterBar.Part")}),a.jsx(Cn,{name:"part",tags:G,flexBasis:"15%"})]}),a.jsxs(f,{vertical:!0,style:{height:"100%"},flex:1,children:[a.jsx(nt,{children:o("RelicFilterBar.Enhance")}),a.jsx(Cn,{name:"enhance",tags:D,flexBasis:"15%"})]}),a.jsxs(f,{vertical:!0,flex:.5,children:[a.jsx(nt,{children:o("RelicFilterBar.Grade")}),a.jsx(Cn,{name:"grade",tags:b,flexBasis:"15%"})]}),a.jsxs(f,{vertical:!0,flex:.25,children:[a.jsx(nt,{children:o("RelicFilterBar.Verified")}),a.jsx(Cn,{name:"verified",tags:p,flexBasis:"15%"})]}),a.jsxs(f,{vertical:!0,flex:.25,children:[a.jsx(nt,{children:o("RelicFilterBar.Equipped")}),a.jsx(Cn,{name:"equippedBy",tags:I,flexBasis:"15%"})]}),a.jsxs(f,{vertical:!0,flex:.4,children:[a.jsx(nt,{children:o("RelicFilterBar.Clear")}),a.jsx(w,{icon:a.jsx(Sr,{}),onClick:E,style:{flexGrow:1,height:"100%"},children:o("RelicFilterBar.ClearButton")})]})]}),a.jsxs(f,{vertical:!0,children:[a.jsx(nt,{children:o("RelicFilterBar.Set")}),a.jsx(Cn,{name:"set",tags:C,flexBasis:`${100/Object.values(Qn).length}%`})]}),a.jsxs(f,{vertical:!0,children:[a.jsx(nt,{children:o("RelicFilterBar.Mainstat")}),a.jsx(Cn,{name:"mainStats",tags:g})]}),a.jsxs(f,{vertical:!0,children:[a.jsx(nt,{children:o("RelicFilterBar.Substat")}),a.jsx(Cn,{name:"subStats",tags:T})]}),a.jsxs(f,{gap:10,children:[a.jsxs(f,{vertical:!0,flex:.5,children:[a.jsx(nt,{children:o("RelicFilterBar.RecommendationHeader")}),a.jsxs(f,{gap:10,children:[a.jsx(Ha,{value:l,selectStyle:{flex:1},onChange:B=>{setTimeout(()=>F(B),20)},withIcon:!0}),a.jsx(w,{onClick:N,style:{flex:1,padding:"0px"},children:o("RelicFilterBar.ReapplyButton")}),a.jsx(w,{onClick:P,style:{flex:1,padding:"0px"},children:o("RelicFilterBar.ScoringButton")})]})]}),a.jsx(f,{vertical:!0,flex:.25,gap:10,children:a.jsxs(f,{vertical:!0,children:[a.jsxs(f,{justify:"space-between",align:"center",children:[a.jsx(nt,{children:o("RelicFilterBar.Rating")}),a.jsx(Jt,{type:jt.valueColumns()})]}),a.jsx(f,{gap:10,children:a.jsx(K,{mode:"multiple",allowClear:!0,value:t.valueColumns,onChange:t.setValueColumns,options:t.valueColumnOptions,maxTagCount:"responsive",style:{flex:1},listHeight:750})})]})}),a.jsxs(f,{vertical:!0,flex:.25,children:[a.jsx(nt,{children:o("RelicFilterBar.CustomCharsHeader")}),a.jsx(Ha,{value:window.store.getState().excludedRelicPotentialCharacters,selectStyle:{flex:1},onChange:B=>{const j=Array.from(B||new Map).filter(st=>st[1]==!0).map(st=>st[0]);window.store.getState().setExcludedRelicPotentialCharacters(j),gt.save(),setTimeout(()=>N(),100)},multipleSelect:!0})]})]})]})}xc.propTypes={setValueColumns:_.func,valueColumnOptions:_.array,valueColumns:_.array};function Cn(t){const{token:e}=GR(),i=window.store(c=>c.relicTabFilters),l=window.store(c=>c.setRelicTabFilters),s=i[t.name],o=(c,r)=>{const u=r?[...s,c]:s.filter(h=>h!=c),R=x.clone(i);R[t.name]=u,console.log("Relic tab filters",t.name,R),l(R)};return a.jsx(f,{style:{flexWrap:"wrap",flexGrow:1,backgroundColor:e.colorBgContainer,boxShadow:`0px 0px 0px 1px ${e.colorBorder} inset`,borderRadius:6,overflow:"hidden"},children:t.tags.map(c=>a.jsx(r0,{checked:s.includes(c.key),onChange:r=>o(c.key,r),style:{flex:1,flexBasis:t.flexBasis,boxShadow:`1px 1px 1px 0px ${e.colorBorder}`,backgroundColor:s.includes(c.key)?e.colorPrimary:"transparent"},children:a.jsx(f,{align:"center",justify:"space-around",style:{height:"100%"},children:c.display})},c.key))})}Cn.propTypes={name:_.string,tags:_.array,flexBasis:_.string};const{useToken:DR}=Ce,VR="PLOT_ALL",Xs="PLOT_CUSTOM";function Lc(){const{token:t}=DR();console.log("======================================================================= RENDER RelicsTab");const e=L.useRef();window.relicsGrid=e;const[i,l]=L.useState(y.getRelics());window.setRelicRows=l;const[s,o]=L.useState(),[c,r]=L.useState([]),[u,R]=L.useState(!1),[h,S]=L.useState(!1),[m,b]=L.useState(!1),[p,C]=L.useState(Xs),[G,g]=L.useState("buckets"),[T,D]=L.useState(!1),I=window.store(H=>H.relicTabFilters),F=window.store(H=>H.inventoryWidth),E=window.store(H=>H.setInventoryWidth),P=window.store(H=>H.rowLimit),N=window.store(H=>H.setRowLimit),{t:k,i18n:B}=et(["relicsTab","common","gameData"]),j=[{value:"buckets",label:k("Toolbar.InsightOptions.Buckets")},{value:"top10",label:k("Toolbar.InsightOptions.Top10")}],st=[{value:VR,label:k("Toolbar.PlotOptions.PlotAll")},{value:Xs,label:k("Toolbar.PlotOptions.PlotCustom")}];L.useEffect(()=>{D(!0),setTimeout(()=>D(!1))},[B.resolvedLanguage]),L.useEffect(()=>{var It,Y;if(!((Y=(It=window.relicsGrid)==null?void 0:It.current)!=null&&Y.api))return;if(console.log("RelicTabFilters",I),Object.values(I).filter(q=>q.length>0).length==0){window.relicsGrid.current.api.setFilterModel(null);return}const H={};H.set={conditions:I.set.map(q=>({filterType:"text",type:"equals",filter:q})),operator:"OR"},H.part={conditions:I.part.map(q=>({filterType:"text",type:"equals",filter:q})),operator:"OR"},H.grade={conditions:I.grade.map(q=>({filterType:"number",type:"equals",filter:q})),operator:"OR"},H.verified={conditions:[I.verified.includes("true")&&{filterType:"text",type:"true"},I.verified.includes("false")&&{filterType:"text",type:"false"}],operator:"OR"},H.equippedBy={conditions:[I.equippedBy.includes("true")&&{filterType:"text",type:"notBlank"},I.equippedBy.includes("false")&&{filterType:"text",type:"blank"}],operator:"OR"},H["main.stat"]={conditions:I.mainStats.map(q=>({filterType:"text",type:"equals",filter:q})),operator:"OR"};for(const q of I.subStats)H[`augmentedStats.${q}`]={filterType:"number",type:"greaterThan",filter:0};H.enhance={conditions:I.enhance.flatMap(q=>[{filterType:"number",type:"equals",filter:q},{filterType:"number",type:"equals",filter:q+1},{filterType:"number",type:"equals",filter:q+2}]),operator:"OR"},console.log("FilterModel",H),window.relicsGrid.current.api.setFilterModel(H)},[I]);const[A,z]=L.useState(0),[dt,Yt]=L.useState({set:void 0,part:void 0});L.useEffect(()=>{if(!s)return;const H=Math.max(1,P)*Math.max(1,F),It=y.getRelics().filter(Tt=>Tt.ageIndex<=s.ageIndex),Y=It.filter(Tt=>s.part==Tt.part).length-1;if(Y<H){z(Y),Yt({set:void 0,part:s.part});return}const q=It.filter(Tt=>s.part==Tt.part&&s.set==Tt.set).length-1;z(q),Yt({set:s.set,part:s.part})},[s,F,P]);const vt=L.useMemo(()=>[{label:k("RelicGrid.ValueColumns.SelectedCharacter.Label"),options:[{column:k("RelicGrid.ValueColumns.SelectedCharacter.ScoreCol.Header"),value:"weights.current",label:k("RelicGrid.ValueColumns.SelectedCharacter.ScoreCol.Label")},{column:k("RelicGrid.ValueColumns.SelectedCharacter.AvgPotCol.Header"),value:"weights.potentialSelected.averagePct",label:k("RelicGrid.ValueColumns.SelectedCharacter.AvgPotCol.Label"),percent:!0},{column:k("RelicGrid.ValueColumns.SelectedCharacter.MaxPotCol.Header"),value:"weights.potentialSelected.bestPct",label:k("RelicGrid.ValueColumns.SelectedCharacter.MaxPotCol.Label"),percent:!0}]},{label:k("RelicGrid.ValueColumns.CustomCharacters.Label"),options:[{column:k("RelicGrid.ValueColumns.CustomCharacters.AvgPotCol.Header"),value:"weights.potentialAllCustom.averagePct",label:k("RelicGrid.ValueColumns.CustomCharacters.AvgPotCol.Label"),percent:!0},{column:k("RelicGrid.ValueColumns.CustomCharacters.MaxPotCol.Header"),value:"weights.potentialAllCustom.bestPct",label:k("RelicGrid.ValueColumns.CustomCharacters.MaxPotCol.Label"),percent:!0}]},{label:k("RelicGrid.ValueColumns.AllCharacters.Label"),options:[{column:k("RelicGrid.ValueColumns.AllCharacters.AvgPotCol.Header"),value:"weights.potentialAllAll.averagePct",label:k("RelicGrid.ValueColumns.AllCharacters.AvgPotCol.Label"),percent:!0},{column:k("RelicGrid.ValueColumns.AllCharacters.MaxPotCol.Header"),value:"weights.potentialAllAll.bestPct",label:k("RelicGrid.ValueColumns.AllCharacters.MaxPotCol.Label"),percent:!0}]},{label:k("RelicGrid.ValueColumns.ComingSoon.Label"),options:[{column:k("RelicGrid.ValueColumns.ComingSoon.SetsPotential.Header"),disabled:!0,value:"weights.potentialAllSets",label:k("RelicGrid.ValueColumns.ComingSoon.SetsPotential.Label"),percent:!0}]}],[k]),ft=L.useMemo(()=>vt.flatMap(H=>H.options),[vt]),[zt,Se]=L.useState(["weights.current","weights.potentialSelected.averagePct","weights.potentialSelected.bestPct","weights.potentialAllCustom.averagePct","weights.potentialAllCustom.bestPct"]),me=L.useMemo(()=>[{field:"verified",hide:!0,filter:"agTextColumnFilter",filterParams:{maxNumConditions:2}},{field:"equippedBy",headerName:k("RelicGrid.Headers.EquippedBy"),width:40,cellRenderer:O.characterIcon,filter:"agTextColumnFilter"},{field:"set",cellRenderer:O.anySet,width:40,headerName:k("RelicGrid.Headers.Set"),filter:"agTextColumnFilter"},{field:"grade",width:40,cellRenderer:O.renderGradeCell,headerName:k("RelicGrid.Headers.Grade"),filter:"agNumberColumnFilter"},{field:"part",valueFormatter:O.readablePart,width:55,headerName:k("RelicGrid.Headers.Part"),filter:"agTextColumnFilter"},{field:"enhance",width:55,headerName:k("RelicGrid.Headers.Enhance"),filter:"agNumberColumnFilter"},{field:"main.stat",valueFormatter:O.readableStat,headerName:k("RelicGrid.Headers.Mainstat"),width:70,filter:"agTextColumnFilter"},{field:"main.value",headerName:k("RelicGrid.Headers.Mainvalue"),width:50,valueFormatter:O.mainValueRenderer,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.HP_P}`,headerName:k("RelicGrid.Headers.hpP"),cellStyle:Lt.getRelicGradient,valueFormatter:O.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.ATK_P}`,headerName:k("RelicGrid.Headers.atkP"),cellStyle:Lt.getRelicGradient,valueFormatter:O.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.DEF_P}`,headerName:k("RelicGrid.Headers.defP"),cellStyle:Lt.getRelicGradient,valueFormatter:O.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.HP}`,headerName:k("RelicGrid.Headers.hp"),cellStyle:Lt.getRelicGradient,valueFormatter:O.hideZeroesFloor,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.ATK}`,headerName:k("RelicGrid.Headers.atk"),cellStyle:Lt.getRelicGradient,valueFormatter:O.hideZeroesFloor,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.DEF}`,headerName:k("RelicGrid.Headers.def"),cellStyle:Lt.getRelicGradient,valueFormatter:O.hideZeroesFloor,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.SPD}`,headerName:k("RelicGrid.Headers.spd"),cellStyle:Lt.getRelicGradient,valueFormatter:O.hideZeroes10thsRelicTabSpd,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.CR}`,headerName:k("RelicGrid.Headers.cr"),cellStyle:Lt.getRelicGradient,valueFormatter:O.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.CD}`,headerName:k("RelicGrid.Headers.cd"),cellStyle:Lt.getRelicGradient,valueFormatter:O.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.EHR}`,headerName:k("RelicGrid.Headers.ehr"),cellStyle:Lt.getRelicGradient,valueFormatter:O.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.RES}`,headerName:k("RelicGrid.Headers.res"),cellStyle:Lt.getRelicGradient,valueFormatter:O.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.BE}`,headerName:k("RelicGrid.Headers.be"),cellStyle:Lt.getRelicGradient,valueFormatter:O.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:"cv",valueGetter:WR,headerName:k("RelicGrid.Headers.cv"),cellStyle:Lt.getRelicGradient,valueFormatter:O.hideZeroesX100Tenths,filter:"agNumberColumnFilter"}].concat(zt.map(H=>{const It=ft.findIndex(Y=>Y.value===H);return[It,ft[It]]}).sort((H,It)=>H[0]-It[0]).map(([H,It])=>({field:It.value,headerName:It.column,cellStyle:Lt.getRelicGradient,valueFormatter:It.percent?O.hideNaNAndFloorPercent:O.hideNaNAndFloor,filter:"agNumberColumnFilter",width:75}))),[ft,zt,k]),ve=L.useMemo(()=>({rowHeight:33,rowSelection:"single",suppressDragLeaveHidesColumns:!0,suppressScrollOnNewData:!0,enableRangeSelection:!1,suppressMultiSort:!0,getRowId:H=>String(H.data.id)}),[]),fe=L.useMemo(()=>({sortable:!0,width:46,headerClass:"relicsTableHeader",sortingOrder:["desc","asc"],filterParams:{maxNumConditions:200},wrapHeaderText:!0,autoHeaderHeight:!0,suppressHeaderMenuButton:!0}),[]),bt=L.useCallback(H=>{console.log("selectionChanged",H),r(H.api.getSelectedRows())},[]),ht=L.useCallback(H=>{console.log("rowClicked",H),H.type||e.current.api.getRowNode(H.id).setSelected(!0,!0),o(H.data)},[]),Wt=L.useCallback(H=>{console.log("rowDblClicked",H),o(H.data),R(!0)},[]),St=L.useCallback(H=>Il(H,e,It=>ht(It)),[]),Kt=L.useCallback(H=>H.key=="to"?k("RelicGrid.To"):H.key=="of"?k("RelicGrid.Of"):H.key,[k]);function Pe(H){y.setRelic(H),window.forceCharacterTabUpdate(),l(y.getRelics()),gt.save(),o(H),Q.success(k("Messages.AddRelicSuccess")),console.log("onAddOk",H)}function ct(H){const It=Wl.onEditOk(s,H);o(It)}function ie(){if(console.log("edit clicked"),!s)return Q.error(k("Messages.NoRelicSelected"));R(!0)}function Ze(){console.log("add clicked"),S(!0)}function _e(H){if(console.log("delete clicked"),c.length===0)return b(!1),Q.error(k("Messages.NoRelicSelected"));b(H)}function pn(){if(c.length===0)return Q.error(k("Messages.NoRelicSelected"));c.forEach(H=>{y.deleteRelic(H.id)}),l(y.getRelics()),o(void 0),gt.save(),Q.success(k("Messages.DeleteRelicSuccess"))}const Gt=window.store.getState().relicsTabFocusCharacter;let Me;Gt&&s&&(Me=ne.scoreCurrentRelic(s,Gt));const Ln=10,[zn,Ra]=L.useState(null),[sn,_n]=L.useState(null),Rn=window.store(H=>H.excludedRelicPotentialCharacters);return L.useEffect(()=>{if(s){const H=y.getMetadata().characters,It=Object.keys(H).filter(q=>!(p===Xs&&Rn.includes(q))).map(q=>({cid:q,name:k(`gameData:Characters.${q}.Name`),score:ne.scoreRelicPotential(s,q,!0),color:"#000",owned:!!y.getCharacterById(q)}));It.sort((q,Tt)=>Tt.score.bestPct-q.score.bestPct),It.forEach((q,Tt)=>{q.color="hsl("+Tt*360/(Ln+1)+",50%,50%)"}),Ra(It.slice(0,Ln));const Y=[[],[],[],[],[],[],[],[],[],[]];for(const q of It){let Tt=Math.floor(q.score.bestPct/10);Tt=Math.min(9,Math.max(0,Tt)),Y[Tt].push(q)}Y.forEach(q=>q.sort((Tt,ke)=>Tt.name.localeCompare(ke.name))),_n(Y)}},[p,s,Rn,k]),a.jsxs(f,{style:{width:1350,marginBottom:100},children:[a.jsx(Xa,{selectedRelic:s,type:"add",onOk:Pe,setOpen:S,open:h}),a.jsx(Xa,{selectedRelic:s,type:"edit",onOk:ct,setOpen:R,open:u}),a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx(xc,{setValueColumns:Se,valueColumns:zt,valueColumnOptions:vt}),!T&&a.jsx("div",{id:"relicGrid",className:"ag-theme-balham-dark",style:{width:1350,height:500,resize:"vertical",overflow:"hidden",...fl(t)},children:a.jsx(ol,{ref:e,rowData:i,gridOptions:ve,columnDefs:me,defaultColDef:fe,animateRows:!0,headerHeight:24,rowSelection:"multiple",pagination:!0,paginationPageSizeSelector:!1,paginationPageSize:2100,paginationNumberFormatter:H=>H.value.toLocaleString(B.resolvedLanguage),getLocaleText:Kt,onSelectionChanged:bt,onRowClicked:ht,onRowDoubleClicked:Wt,navigateToNextCell:St})}),a.jsxs(f,{gap:10,children:[a.jsx(w,{type:"primary",onClick:ie,style:{width:170},disabled:c.length===0||c.length>1,children:k("Toolbar.EditRelic")}),a.jsx(On,{title:k("common:Confirm"),description:k("Toolbar.DeleteRelic.Warning",{count:c.length}),open:m,onOpenChange:_e,onConfirm:pn,placement:"bottom",okText:k("common:Yes"),cancelText:k("common:Cancel"),children:a.jsx(w,{type:"primary",style:{width:170},disabled:c.length===0,children:k("Toolbar.DeleteRelic.ButtonText")})}),a.jsx(w,{type:"primary",onClick:Ze,style:{width:170},children:k("Toolbar.AddRelic")}),a.jsx(ri,{trigger:"click",onOpenChange:H=>{H||gt.save()},content:a.jsxs(f,{gap:8,style:{width:260},children:[a.jsxs(f,{vertical:!0,children:[a.jsx(f,{justify:"space-between",align:"center",children:a.jsx(nt,{children:k("Toolbar.RelicLocator.Width")})}),a.jsx(mn,{defaultValue:window.store.getState().inventoryWidth,style:{width:"auto"},min:1,onChange:H=>{E(H)}})]}),a.jsxs(f,{vertical:!0,children:[a.jsxs(f,{justify:"space-between",align:"center",gap:10,children:[a.jsx(nt,{children:k("Toolbar.RelicLocator.Filter")}),a.jsx(Jt,{type:jt.locatorParams()})]}),a.jsx(mn,{defaultValue:window.store.getState().rowLimit,style:{width:"auto"},min:1,onChange:H=>{N(H)}})]})]}),children:a.jsxs(f,{justify:"space-between",align:"center",style:{cursor:"pointer",paddingLeft:8,paddingRight:10,width:285,marginTop:1,borderRadius:5,height:30,background:"rgba(36, 51, 86)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.2)",outline:"1px solid rgba(63, 90, 150)"},children:[s&&a.jsxs(f,{align:"center",justify:"space-between",style:{width:"100%"},children:[a.jsxs(f,{gap:5,style:{minWidth:10},justify:"flex-start",children:[dt.part&&a.jsx("img",{src:U.getPart(dt.part),style:{height:25}}),dt.set&&a.jsx("img",{src:U.getSetImage(dt.set,void 0,!0),style:{height:26}}),!dt.part&&!dt.set&&a.jsx("div",{style:{width:10}})]}),a.jsx(pt,{children:s?k("Toolbar.RelicLocator.Location",{columnindex:A%F+1,rowindex:Math.ceil((A+1)/F)}):""}),a.jsx(An,{})]}),!s&&a.jsxs(f,{style:{width:"100%"},justify:"space-between",children:[a.jsx("div",{style:{width:10}}),a.jsx("div",{children:k("Toolbar.RelicLocator.NoneSelected")}),a.jsx(An,{})]})]})}),a.jsx(f,{style:{display:"block"},children:a.jsx(Jt,{type:jt.relicLocation()})}),a.jsx(K,{value:p,onChange:C,options:st,style:{width:225}}),a.jsx(K,{value:G,onChange:g,options:j,style:{width:225}}),a.jsx(f,{style:{display:"block"},children:a.jsx(Jt,{type:jt.relicInsight()})})]}),a.jsxs(f,{gap:10,children:[a.jsx(ce,{relic:s,setSelectedRelic:o,setEditModalOpen:R,score:Me}),a.jsx(f,{style:{display:"block"},children:a.jsx(Jt,{type:jt.relics()})}),G==="top10"&&zn&&a.jsxs(f,{gap:10,children:[a.jsx(f,{style:{borderRadius:8,overflow:"hidden",border:`1px solid ${t.colorBorderSecondary}`},children:a.jsx(vl,{onClick:H=>{store.getState().setScoringAlgorithmFocusCharacter(H.points[0].data.cid),window.setIsScoringModalOpen(!0)},data:zn.map(H=>({x:[H.score.averagePct],y:[H.name],hoverinfo:"name",mode:"markers",type:"scatter",error_x:{type:"data",symmetric:!1,array:[H.score.bestPct-H.score.averagePct],arrayminus:[H.score.averagePct-H.score.worstPct]},marker:{color:H.color},name:H.name,cid:H.cid})).reverse(),layout:{plot_bgcolor:"rgba(0, 0, 0, 0)",paper_bgcolor:t.colorBgContainer,font:{color:"rgba(255, 255, 255, 0.85)"},autosize:!0,width:320,height:278,margin:{b:20,l:10,r:20,t:10},showlegend:!1,xaxis:{fixedrange:!0,range:[0,100],tick0:0,dtick:10,showgrid:!0,showline:!0,showticklabels:!0,type:"linear",zeroline:!0,gridcolor:"rgba(128, 128, 128, 0.15)"},yaxis:{fixedrange:!0,showticklabels:!1,gridcolor:"rgba(128, 128, 128, 0.15)"}},config:{displayModeBar:!1,editable:!1,scrollZoom:!1}})}),a.jsx("ol",{children:a.jsx(f,{vertical:!0,gap:5.5,children:zn.map(H=>{const It=a.jsx("svg",{width:10,height:10,children:a.jsx("rect",{width:10,height:10,style:{fill:H.color,strokeWidth:1,stroke:"rgb(0,0,0)"}})}),Y=Math.floor(H.score.worstPct),q=Math.floor(H.score.bestPct),Tt=Y===q?`${Y}%`:`${Y}% - ${q}%`;return a.jsx(f,{gap:4,children:a.jsx("li",{style:H.owned?{fontWeight:"bold"}:void 0,children:a.jsxs(f,{align:"center",gap:8,children:[It,a.jsxs("a",{style:{height:"19px"},children:[" ",a.jsx("img",{src:U.getCharacterAvatarById(H.cid),style:{height:"19px"},onClick:ke=>{store.getState().setScoringAlgorithmFocusCharacter(ke.target.attributes.src.nodeValue.split("avatar/")[1].split(".webp")[0]),window.setIsScoringModalOpen(!0)}})]}),H.name,": ",Tt]})})},H.cid)})})})]}),a.jsx(f,{style:{borderRadius:8,overflow:"hidden",border:`1px solid ${t.colorBorderSecondary}`},children:G==="buckets"&&sn&&a.jsx(vl,{onClick:H=>{store.getState().setScoringAlgorithmFocusCharacter(H.points[0].data.cid[H.points[0].pointIndex]),window.setIsScoringModalOpen(!0)},data:[{type:"scatter",x:[0,0,0,0,0,0,0,0,0,0],y:["0%+","10%+","20%+","30%+","40%+","50%+","60%+","70%+","80%+","90%+"],hoverinfo:"skip",mode:"markers",marker:{color:"rgba(0, 0, 0, 0)",symbol:"circle",size:16}},{type:"scatter",hoverinfo:"text",mode:"markers",x:sn.flatMap((H,It)=>H.map((Y,q)=>q+.5)),y:sn.flatMap((H,It)=>H.map((Y,q)=>It*10+"%+")),hovertext:sn.flatMap((H,It)=>H.map((Y,q)=>[Y.name,Y.score.meta.bestAddedStats.length===0?"":k("RelicInsights.NewStats")+Y.score.meta.bestAddedStats.join(" / "),Y.score.meta.bestUpgradedStats==null?"":k("RelicInsights.UpgradedStats")+Y.score.meta.bestUpgradedStats.join(" / ")].filter(Tt=>Tt!=="").join("<br>"))),cid:sn.flatMap((H,It)=>H.map((Y,q)=>Y.cid)),marker:{color:"rgba(0, 0, 0, 0)",symbol:"circle",size:16}}],layout:{plot_bgcolor:"rgba(0, 0, 0, 0)",paper_bgcolor:t.colorBgContainer,font:{color:"rgba(255, 255, 255, 0.85)"},autosize:!0,height:278,width:1112,margin:{b:5,l:50,r:20,t:0},hovermode:"closest",hoverdistance:20,showlegend:!1,images:sn.flatMap((H,It)=>H.map((Y,q)=>({source:U.getCharacterAvatarById(Y.cid),xref:"x",yref:"y",x:q+.6,y:It,sizex:1,sizey:1,xanchor:"center",yanchor:"middle"}))),xaxis:{fixedrange:!0,range:[0,Math.max(...sn.map(H=>H.length))+1],tick0:0,showgrid:!1,showticklabels:!1,type:"linear",zeroline:!1},yaxis:{fixedrange:!0,showticklabels:!0,gridcolor:"rgba(128, 128, 128, 0.15)"}},config:{displayModeBar:!1,editable:!1,scrollZoom:!1}})})]})]})]})}Lc.propTypes={active:_.bool};function WR(t){return t.data.augmentedStats[n.CR]*2+t.data.augmentedStats[n.CD]}const yc=({rarity:t=0})=>{const e=[];for(let i=0;i<t;i++)e.push(a.jsx("img",{src:U.getStar(),style:{width:20,height:20}},i));return a.jsx(f,{gap:0,align:"center",children:e})};yc.propTypes={rarity:_.number};const{Text:Mc}=pt,rn=xe(Mc)`
    font-family: Segoe UI, Frutiger, Frutiger Linotype, Dejavu Sans, Helvetica Neue, Arial, sans-serif;
    font-size: 17px;
    font-weight: 400;
    white-space: nowrap;
`,oa=xe(Mc)`
    font-family: Segoe UI, Frutiger, Frutiger Linotype, Dejavu Sans, Helvetica Neue, Arial, sans-serif;
    font-size: 16px;
    font-weight: 400;
    white-space: nowrap;
`,IR=t=>[[111.1,111.2],[114.2,114.3],[133.3,133.4],[142.8,142.9],[155.5,155.6],[171.4,171.5],[177.7,177.8]].some(([i,l])=>t>=i&&t<l),ko={"Fire DMG Boost":"Fire DMG","Ice DMG Boost":"Ice DMG","Imaginary DMG Boost":"Imaginary DMG","Lightning DMG Boost":"Lightning DMG","Physical DMG Boost":"Physical DMG","Quantum DMG Boost":"Quantum DMG","Wind DMG Boost":"Wind DMG"},ER={simScore:"Combo DMG","Fire DMG Boost":"Fire DMG","Ice DMG Boost":"Ice DMG","Imaginary DMG Boost":"Imaginary DMG","Lightning DMG Boost":"Lightning DMG","Physical DMG Boost":"Physical DMG","Quantum DMG Boost":"Quantum DMG","Wind DMG Boost":"Wind DMG","Outgoing Healing Boost":"Healing Boost","Energy Regeneration Rate":"Energy Regen",BASIC:"Basic Damage",ULT:"Ult Damage",SKILL:"Skill Damage",FUA:"FUA Damage",DOT:"DoT Damage"},Ie=t=>{const{stat:e,finalStats:i}=t,l=x.precisionRound(i[e]),{t:s,i18n:o}=et("common"),c=ER[e]||e=="CV"?o.exists(`ReadableStats.${e}`)?s(`ReadableStats.${e}`):s(`DMGTypes.${e}`):s(`Stats.${e}`);let r,u;return e=="CV"?(r=x.truncate10ths(t.value).toFixed(1),u=x.truncate1000ths(t.value).toFixed(3)):e=="simScore"?(r=`${x.truncate10ths(x.precisionRound((t.value??0)/1e3)).toFixed(1)}${s("ThousandsSuffix")}`,u=x.truncate1000ths(t.value).toFixed(3)):e==d.Stats.SPD?(r=IR(l)?x.truncate1000ths(l).toFixed(3):r=x.truncate10ths(l).toFixed(1),u=x.truncate1000ths(l).toFixed(3)):x.isFlat(e)?(r=Math.floor(l),u=x.truncate1000ths(l).toFixed(3)):(r=x.truncate10ths(x.precisionRound(l*100)).toFixed(1),u=x.truncate1000ths(x.precisionRound(l*100)).toFixed(3)),i?a.jsxs(f,{justify:"space-between",align:"center",title:u,children:[a.jsx("img",{src:U.getStatIcon(e),style:{width:re,height:re,marginRight:3}}),a.jsx(rn,{children:c}),a.jsx(Ge,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),a.jsx(rn,{children:`${r}${x.isFlat(e)||e=="CV"||e=="simScore"?"":"%"}`})]}):(console.log("No final stats"),a.jsx("div",{}))};Ie.propTypes={finalStats:_.object,stat:_.string};const xR=.001,nl=t=>a.jsxs(f,{vertical:!0,style:{paddingLeft:4,paddingRight:6},gap:3,children:[a.jsx(Ie,{finalStats:t.finalStats,stat:d.Stats.HP}),a.jsx(Ie,{finalStats:t.finalStats,stat:d.Stats.ATK}),a.jsx(Ie,{finalStats:t.finalStats,stat:d.Stats.DEF}),a.jsx(Ie,{finalStats:t.finalStats,stat:d.Stats.SPD}),a.jsx(Ie,{finalStats:t.finalStats,stat:d.Stats.CR}),a.jsx(Ie,{finalStats:t.finalStats,stat:d.Stats.CD}),a.jsx(Ie,{finalStats:t.finalStats,stat:d.Stats.EHR}),a.jsx(Ie,{finalStats:t.finalStats,stat:d.Stats.RES}),a.jsx(Ie,{finalStats:t.finalStats,stat:d.Stats.BE}),!t.simScore&&t.finalStats[n.OHB]>xR&&a.jsx(Ie,{finalStats:t.finalStats,stat:n.OHB}),(t.simScore==null||t.cv<=64.8)&&a.jsx(Ie,{finalStats:t.finalStats,stat:d.Stats.ERR}),a.jsx(Ie,{finalStats:t.finalStats,stat:t.elementalDmgValue}),t.cv!=null&&t.cv>64.8&&a.jsx(Ie,{finalStats:t.finalStats,stat:"CV",value:t.cv}),t.simScore!=null&&a.jsx(Ie,{finalStats:t.finalStats,stat:"simScore",value:t.simScore})]}),{Text:LR}=pt,No="https://api.imgur.com/3/image",Uo="b6ed18a250f2835",Ho={width:0,height:0},Xo={x:0,y:0},Yo=1,Ko={croppedArea:{x:0,y:0,width:0,height:0},croppedAreaPixels:{x:0,y:0,width:0,height:0}},Ys=1,Ks=5,yR=({existingConfig:t,aspectRatio:e,open:i,setOpen:l,onOk:s,title:o=V.t("modals:EditImage.DefaultTitle"),width:c=400,defaultImageUrl:r})=>{const[u,R]=L.useState(0),[h]=X.useForm(),{t:S}=et("modals",{keyPrefix:"EditImage"}),[m,b]=L.useState(!1),[p,C]=L.useState(""),[G,g]=L.useState(t?t.originalDimensions:Ho),[T,D]=L.useState(t?t.cropper.crop:Xo),[I,F]=L.useState(t?t.cropper.zoom:Yo),[E,P]=L.useState(t?t.customImageParams:Ko),[N,k]=L.useState("upload"),B=L.useCallback(()=>{h.resetFields(),R(0),b(!1),C(""),g(Ho),D(Xo),F(Yo),P(Ko)},[h]);L.useEffect(()=>{i?t&&(h.setFieldsValue({imageUrl:t.imageUrl,artistName:t.artistName}),k("upload"),R(1),C(t.imageUrl),g(t.originalDimensions)):B()},[r,i,t,h,B]);const j=(bt,ht)=>{u==1&&P({croppedArea:bt,croppedAreaPixels:ht})},st=()=>{const bt=h.getFieldValue("artistName"),ht={originalDimensions:G,customImageParams:E,cropper:{zoom:I,crop:T}};switch(N){case"upload":s({type:"add",imageUrl:p,...ht,artistName:bt}),R(0);break;case"url":h.validateFields().then(Wt=>{s({type:"add",imageUrl:Wt.imageUrl,...ht,artistName:bt})}).catch(Wt=>{console.error("Error:",Wt)}).finally(()=>{R(0)});break;case"default":r||console.error("defaultImageUrl does not exist, but default image was chosen."),s({type:"delete"}),l(!1),R(0);break;default:console.warn(`Unexpected radio value: ${N}`),l(!1),R(0)}};async function A(bt){if(!bt.includes("http"))return!1;b(!0);const ht=new Image;return ht.src=bt,new Promise(Wt=>{b(!1),ht.onerror=()=>Wt(!1),ht.onload=async()=>{const St=await createImageBitmap(ht);g({width:St.width,height:St.height}),Wt(!0)}})}async function z(bt){return b(!0),new Promise(ht=>{const Wt=new FileReader;Wt.onerror=()=>{b(!1),ht(!1)},Wt.onload=St=>{var Pe;const Kt=new Image;Kt.src=(Pe=St.target)==null?void 0:Pe.result,Kt.onload=async()=>{g({width:Kt.width,height:Kt.height}),b(!1),ht(!0)},Kt.onerror=()=>{b(!1),ht(!1)}},Wt.readAsDataURL(bt)})}async function dt(bt){try{return(await fetch(bt,{method:"HEAD",mode:"cors"})).ok}catch{return console.log("CORS blocked image fetch, uploading to imgur:",bt),!1}}const Yt=async bt=>{const ht=new FormData;ht.append("image",bt);try{b(!0);const Wt=await fetch(No,{method:"POST",headers:{Authorization:`Client-ID ${Uo}`},body:ht});if(!Wt.ok){const Kt=await Wt.json();throw b(!1),new Error(`Imgur API error: ${Kt.data.error}`)}const St=await Wt.json();if(St.data.width&&St.data.height&&g({width:St.data.width,height:St.data.height}),St.success){const Kt=St.data.link;C(Kt),R(u+1),b(!1)}else throw b(!1),new Error("Image url upload to Imgur failed but did not return a typical error response")}catch(Wt){return b(!1),console.error("There was an error uploading the image to Imgur:",Wt),null}},vt=async bt=>{const ht=new FormData;ht.append("image",bt);try{b(!0);const Wt=await fetch(No,{method:"POST",headers:{Authorization:`Client-ID ${Uo}`},body:ht});if(!Wt.ok){const Kt=await Wt.json();throw b(!1),new Error(`Imgur API error: ${Kt.data.error}`)}const St=await Wt.json();if(St.data.width&&St.data.height&&g({width:St.data.width,height:St.data.height}),St.success){const Kt=St.data.link;return b(!1),Kt}else throw b(!1),new Error("Image file upload to Imgur failed but did not return a typical error response")}catch(Wt){return console.error("There was an error uploading the image to Imgur:",Wt),b(!1),null}},ft=async bt=>{if(!await z(bt))return console.error("File is not a valid image file"),!1;const ht=await vt(bt);return ht?(C(ht),R(u+1),!1):(Q.error("Image upload failed"),!1)},zt=async bt=>{if(!bt){h.setFields([{name:"imageUrl",errors:["An image URL is required"]}]);return}if(b(!0),!await A(bt)){h.setFields([{name:"imageUrl",errors:["URL does not lead to an image"]}]),b(!1);return}if(await dt(bt))C(bt),R(u+1);else{const ht=await Yt(bt);ht?(C(ht),R(u+1)):h.setFields([{name:"imageUrl",errors:["Failed to process image, upload image instead."]}])}b(!1)},Se=async()=>{if(u!==0){console.error(`Stage #${u} not implemented!`);return}switch(N){case"url":await zt(h.getFieldValue("imageUrl"));break;case"default":s({type:"delete"}),l(!1);break;case null:default:console.warn("Radio select must be either 'upload' or 'url'");break}},me=()=>R(u-1),ve=bt=>k(bt.target.value),fe=[{title:"Provide image",content:a.jsxs(a.Fragment,{children:[a.jsx(f,{justify:"center",style:{marginBottom:16},children:a.jsxs(pe.Group,{onChange:ve,value:N,buttonStyle:"solid",children:[a.jsx(pe.Button,{value:"upload",children:S("Upload.Radio.Upload")}),a.jsx(pe.Button,{value:"url",children:S("Upload.Radio.Url")}),r&&a.jsx(pe.Button,{value:"default",children:S("Upload.Radio.Default")})]})}),N==="upload"&&a.jsx(a.Fragment,{children:a.jsx(fr,{name:"file",multiple:!1,accept:"image/png, image/jpeg, image/jpg, image/gif",beforeUpload:ft,disabled:m,showUploadList:!1,children:m?a.jsx(f,{style:{height:"300px"},justify:"center",align:"center",children:a.jsx(wl,{size:"large"})}):a.jsxs(f,{style:{height:"300px"},justify:"center",align:"center",vertical:!0,children:[a.jsx("p",{className:"ant-upload-drag-icon",children:a.jsx(Gr,{})}),a.jsx("p",{className:"ant-upload-text",children:S("Upload.Upload.Method")}),a.jsx("p",{className:"ant-upload-hint",children:S("Upload.Upload.Limit")})]})})}),N==="url"&&a.jsx(X.Item,{name:"imageUrl",label:S("Upload.Url.Label"),style:{margin:"0 20px"},rules:[{required:!0,message:S("Upload.Url.Rule")}],children:a.jsx(Oe,{autoComplete:"off"})}),N==="default"&&a.jsx(f,{justify:"center",style:{height:"400px"},children:a.jsx("img",{src:r})})]})},{title:"Crop image",content:a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{height:"380px",position:"relative"},children:a.jsx(Cr,{image:p,crop:T,zoom:I,aspect:e,onCropChange:D,onCropComplete:j,onMediaLoaded:()=>{t&&(D(t.cropper.crop),F(t.cropper.zoom))},onZoomChange:bt=>{navigator.maxTouchPoints===0?(bt<I&&F(Math.max(Ys,I*.95)),bt>I&&F(Math.min(Ks,I*1.05))):F(bt)},zoomSpeed:navigator.maxTouchPoints===0?1e-4:1,minZoom:Ys,maxZoom:Ks})}),a.jsxs(f,{style:{width:"100%",marginTop:4},gap:8,align:"center",children:[a.jsx("label",{children:S("Edit.Zoom")}),a.jsx(as,{style:{width:"100%"},min:Ys,max:Ks,step:.1,tooltip:{formatter:null},onChange:F,value:I})]}),a.jsxs(f,{style:{marginTop:0},children:[a.jsxs(f,{vertical:!0,style:{flex:1},children:[a.jsxs("div",{children:[a.jsx(Zr,{style:{marginRight:8}}),S("Edit.Drag")]}),a.jsxs("div",{style:{flex:1,marginTop:8},children:[a.jsx(gr,{style:{marginRight:8}}),S("Edit.Pinch")]})]}),a.jsxs(f,{vertical:!0,style:{flex:1},children:[a.jsx(LR,{style:{flex:1,marginLeft:3},children:S("Edit.ArtBy")}),a.jsx(X.Item,{name:"artistName",children:a.jsx(Oe,{style:{flex:1,marginTop:3},placeholder:S("Edit.CreditPlaceholder"),autoComplete:"off"})})]})]})]})}];return a.jsx(X,{form:h,layout:"vertical",children:a.jsx(Ve,{open:i,width:c,destroyOnClose:!0,centered:!0,maskClosable:!1,onOk:st,onCancel:()=>l(!1),footer:[a.jsx(f,{justify:"flex-end",children:a.jsxs(f,{style:{marginTop:16},justify:"center",align:"center",gap:8,children:[m&&N!=="upload"&&a.jsx(wl,{style:{textAlign:"center"},size:"large"}),a.jsx(w,{onClick:()=>l(!1),children:S("Footer.Cancel")}),u>0&&t&&a.jsx(w,{onClick:me,danger:!0,children:S("Footer.Change")}),u>0&&!t&&a.jsx(w,{onClick:me,children:S("Footer.Previous")}),u<fe.length-1&&a.jsx(w,{type:"primary",onClick:Se,disabled:N==="upload",children:S("Footer.Next")}),u===fe.length-1&&a.jsx(w,{type:"primary",onClick:st,children:S("Footer.Submit")})]})},1)],title:o,children:a.jsxs("div",{style:{height:"505px",position:"relative"},children:[!t&&a.jsx(Ji,{current:u,style:{marginBottom:12},children:fe.map(bt=>a.jsx(Ji.Step,{title:bt.title=="Provide image"?S("Upload.Title"):S("Edit.Title")},bt.title))}),fe.map((bt,ht)=>a.jsx("div",{style:{display:u===ht?"block":"none"},children:bt.content},bt.title))]})})})},vi=({src:t,style:e})=>{const[i,l]=L.useState({}),[s,o]=L.useState({}),[c,r]=L.useState(!1),[u,R]=L.useState(!0);return L.useEffect(()=>{if(t==i.src&&W.objectHash(e)==W.objectHash(i.style)||t==s.src&&W.objectHash(e)==W.objectHash(s.style))return;R(!0),o({src:t,style:e});const h=new Image;if(h.src=t,h.complete||h.naturalWidth>0){r(!0);return}h.onload=()=>{r(!0)}},[i,t,e]),L.useEffect(()=>{c&&(setTimeout(()=>{R(!1)},150),l({src:s.src,style:s.style}),r(!1))},[c]),a.jsx("img",{src:i.src,loading:"eager",style:{...i.style,filter:u?"blur(6px)":"none",transition:u?"":"filter 0.5s cubic-bezier(.41,.65,.39,.99)"}})},MR=({customPortrait:t,parentW:e})=>{const i=e/t.customImageParams.croppedAreaPixels.width;return a.jsx("div",{style:{position:"absolute"},children:a.jsx(vi,{src:t.imageUrl,style:{position:"relative",left:`-${t.customImageParams.croppedAreaPixels.x*i}px`,top:`-${t.customImageParams.croppedAreaPixels.y*i}px`,width:`${t.originalDimensions.width*i}px`,height:`${t.originalDimensions.height*i}px`,objectFit:"cover"}})})},vs={},cn={quality:.8,speedRollValue:2.3,substatGoal:48,freeRolls:2,maxPerSub:30,deductionPerMain:5,baselineFreeRolls:2,limitFlatStats:!0,enforcePossibleDistribution:!1,substatRollsModifier:BR},FR={...cn,substatRollsModifier:t=>t},Mi={quality:1,speedRollValue:2.6,substatGoal:54,freeRolls:0,maxPerSub:36,deductionPerMain:6,baselineFreeRolls:0,limitFlatStats:!1,enforcePossibleDistribution:!0,substatRollsModifier:t=>t};function BR(t,e,i){if(e==n.SPD)return t;const s=12-2*Object.values(i).filter(r=>r.augmentedStats.mainStat==e).length;if(t<=s)return t;const o=Math.max(0,t-s),c=o/Math.pow(o,.25);return s+c}function PR(t){const e=W.clone(t),i={};for(const l of Object.values(Z))i[l]=e[l]||{set:-1,substats:[],main:{stat:"NONE",value:0}};return i}function kR(t,e,i){const l=t.form,s=l.characterId,o=l.characterEidolon,c=l.lightCone,r=l.lightConeSuperimposition,u=y.getMetadata().characters[s];if(!u)return null;const R=u.scoringMetadata,h=y.getScoringMetadata(s),S=W.clone(R.simulation),m=W.clone(h.simulation);if(!S)return console.log("No scoring sim defined for this character"),null;i==ia&&(S.teammates=m.teammates);const b=S,p=PR(e),C=x.objectHash({characterId:s,characterEidolon:o,lightCone:c,lightConeSuperimposition:r,relicsByPart:p,metadata:b});if(vs[C])return vs[C];if(!s||!l||!b)return console.log("Invalid character sim setup"),null;const G=b.substats;let g=!1;b.formula.BREAK>0&&(g=!0),S.teammates.find(ct=>ct.characterId=="8005"||ct.characterId=="8006")&&(g=!0),g&&!G.includes(n.BE)&&G.push(n.BE),g&&!b.parts[Z.LinkRope].includes(n.BE)&&b.parts[Z.LinkRope].push(n.BE),g&&!b.relicSets.find(ct=>ct[0]==ct[1]&&ct[1]==M.IronCavalryAgainstTheScourge)&&b.relicSets.push([M.IronCavalryAgainstTheScourge,M.IronCavalryAgainstTheScourge]),g&&!b.relicSets.find(ct=>ct[0]==ct[1]&&ct[1]==M.IronCavalryAgainstTheScourge)&&b.relicSets.push([M.IronCavalryAgainstTheScourge,M.IronCavalryAgainstTheScourge]),g&&!b.ornamentSets.find(ct=>ct==M.TaliaKingdomOfBanditry)&&b.ornamentSets.push(M.TaliaKingdomOfBanditry),g&&!b.ornamentSets.find(ct=>ct==M.ForgeOfTheKalpagniLantern)&&b.ornamentSets.push(M.ForgeOfTheKalpagniLantern);const T=Fi(s,c,o,r,!1),D=Fi(b.teammates[0].characterId,b.teammates[0].lightCone,b.teammates[0].characterEidolon,b.teammates[0].lightConeSuperimposition,!0),I=Fi(b.teammates[1].characterId,b.teammates[1].lightCone,b.teammates[1].characterEidolon,b.teammates[1].lightConeSuperimposition,!0),F=Fi(b.teammates[2].characterId,b.teammates[2].lightCone,b.teammates[2].characterEidolon,b.teammates[2].lightConeSuperimposition,!0);T.teammate0=D,T.teammate1=I,T.teammate2=F;const E=ss(T);pl(T,E),is(T,E),Rl(T,E);const P=b.formula,N=(ct,ie=!0)=>{if(!ct)return;const Ze=ct.BASIC*P.BASIC+ct.SKILL*P.SKILL+ct.ULT*P.ULT+ct.FUA*P.FUA+ct.DOT*P.DOT+ct.BREAK*P.BREAK;ct.unpenalizedSimScore=Ze,ct.penaltyMultiplier=vR(ct,b.breakpoints,cn),ct.simScore=ct.unpenalizedSimScore*(ie?ct.penaltyMultiplier:1)},k=XR(b,p),{originalSimResult:B,originalSim:j}=kc(p,k,T,E,FR),st=B.xSPD;B.SPD,N(B);const{baselineSimResult:A,baselineSim:z}=KR(p,T,E,k,cn);N(A);const dt=YR(t,b,k),Yt=[];for(const ct of dt){const Ze=vn(T,E,[ct.simulation],cn)[0].xSPD;ct.finalSpeed=Ze,ct.speedRollsDeduction=Math.max(0,W.precisionRound((st-Ze)/cn.speedRollValue));const _e=Bc(ct,cn),pn=Pc(ct,b,cn,A);Object.values(Ye).map(Me=>ct.simulation.request.stats[Me]=pn[Me]);const Gt=Fc(ct,_e,pn,T,E,N,b,cn);N(Gt.result),Gt.key=JSON.stringify(Gt.request),Gt.name="",ct.simulation.request.stats[n.SPD]>26&&ct.simulation.request.simFeet!=n.SPD?console.log("Rejected candidate sim"):Yt.push(Gt)}Yt.sort(Uc);const vt=Yt[0],ft=vt.result;console.log("bestSims",Yt);const zt=NR(vt,b,T,E,N,A),Se=zt.result;N(Se);const me=ft.simScore,ve=B.simScore,fe=A.simScore,bt=Se.simScore,ht=ve>=me?1+(ve-me)/(bt-me):(ve-fe)/(me-fe),{substatUpgradeResults:Wt,setUpgradeResults:St,mainUpgradeResults:Kt}=UR(B,j,Yt[0],T,E,b,N,cn);for(const ct of[...Wt,...St,...Kt]){const ie=ct.simulationResult.simScore,Ze=ie>=me?1+(ie-me)/(bt-me):(ie-fe)/(me-fe);ct.percent=Ze}Wt.sort((ct,ie)=>ie.percent-ct.percent),St.sort((ct,ie)=>ie.percent-ct.percent),Kt.sort((ct,ie)=>ie.percent-ct.percent);const Pe={percent:ht,originalSim:j,baselineSim:z,benchmarkSim:vt,maximumSim:zt,originalSimResult:B,baselineSimResult:A,benchmarkSimResult:ft,maximumSimResult:Se,originalSimScore:ve,baselineSimScore:fe,benchmarkSimScore:me,maximumSimScore:bt,substatUpgrades:Wt,setUpgrades:St,mainUpgrades:Kt,simulationForm:T,simulationMetadata:b,characterMetadata:u};return vs[C]=Pe,console.log("simScoringResult",Pe),Pe}function NR(t,e,i,l,s,o){const c=t.request.stats[n.SPD]*cn.speedRollValue/Mi.speedRollValue,r=[];for(const u of e.parts[Z.PlanarSphere]){const R=W.clone(t);R.request.simPlanarSphere=u;const h={simulation:R,finalSpeed:0,speedRollsDeduction:c},S=Bc(h,Mi),m=Pc(h,e,Mi,o);Object.values(Ye).map(p=>h.simulation.request.stats[p]=m[p]);const b=Fc(h,S,m,i,l,s,e,Mi);r.push(b)}return r.sort(Uc),r[0]}function UR(t,e,i,l,s,o,c,r){const u=[];for(const p of o.substats){const C=p,G=W.clone(e);G.request.stats[C]=(G.request.stats[C]??0)+1;const g=vn(l,s,[G],{...r,substatRollsModifier:T=>T})[0];c(g),u.push({stat:C,simulation:G,simulationResult:g})}const R=[],h=W.clone(e);h.request.simRelicSet1=i.request.simRelicSet1,h.request.simRelicSet2=i.request.simRelicSet2,h.request.simOrnamentSet=i.request.simOrnamentSet;const S=vn(l,s,[h],{...r,substatRollsModifier:p=>p})[0];c(S),R.push({simulation:h,simulationResult:S});const m=[];function b(p){const C=W.clone(e);for(const G of o.parts[p]){const g={[Z.Body]:"simBody",[Z.Feet]:"simFeet",[Z.PlanarSphere]:"simPlanarSphere",[Z.LinkRope]:"simLinkRope"}[p],T=C.request[g];if(G==T||G==n.SPD||T==n.SPD)continue;C.request[g]=G;const D=vn(l,s,[C],{...r,substatRollsModifier:I=>I})[0];c(D),m.push({stat:G,part:p,simulation:C,simulationResult:D})}}return b(Z.Body),b(Z.Feet),b(Z.PlanarSphere),b(Z.LinkRope),console.log("Stat improvements",t,e,o,u),{substatUpgradeResults:u,setUpgradeResults:R,mainUpgradeResults:m}}function Fi(t,e,i,l,s=!1){if(!t)return null;const o={characterId:t,characterEidolon:i},c={lightCone:e,eidolon:l},r=pa({id:t});r.characterId=t,r.characterEidolon=i,r.lightCone=e,r.lightConeSuperimposition=l,r.characterConditionals={},r.lightConeConditionals={};const u=En.get(o),R=bn.get(c);return s?(u.teammateDefaults&&x.mergeUndefinedValues(r.characterConditionals,u.teammateDefaults()),R.teammateDefaults&&x.mergeUndefinedValues(r.lightConeConditionals,R.teammateDefaults())):(u.defaults&&x.mergeUndefinedValues(r.characterConditionals,u.defaults()),R.defaults&&x.mergeUndefinedValues(r.lightConeConditionals,R.defaults())),r}function Fc(t,e,i,l,s,o,c,r){const u=e,R=i,h=c.breakpoints,S=r.substatGoal;let m=vo(R),b=t.simulation,p,C=!0,G=!0,g=0;const T=W.sumArray(Object.values(b.request.stats)),D=W.sumArray(Object.values(u));if(T==D||T<S)return b.result=vn(l,s,[b],{...r,substatRollsModifier:r.substatRollsModifier})[0],b;const I={parts:[]};if(r.enforcePossibleDistribution){G=!1,R[n.SPD]=Math.max(6,R[n.SPD]),b.request.stats[n.SPD]=Math.max(6,R[n.SPD]),m=vo(R);const E=[...c.substats,n.SPD],P=k=>{const B={};return E.forEach(j=>{j!=k&&(B[j]=!0)}),{main:k,substats:B}},N=t.simulation.request;I.parts=[P(N.simLinkRope),P(N.simPlanarSphere),P(N.simFeet),P(N.simBody),P(n.ATK),P(n.HP)]}const F={};for(;m>S;){let E,P,N;const k=Object.entries(b.request.stats).filter(([B,j])=>j>r.freeRolls).map(([B])=>B).filter(B=>!F[B]);b.request.stats;for(const B of k){if(b.request.stats[B]<=r.freeRolls||x.sumArray(Object.values(b.request.stats))<=r.substatGoal||B==n.SPD&&b.request.stats[n.SPD]<=Math.ceil(t.speedRollsDeduction)||b.request.stats[B]<=u[B])continue;const j=W.clone(b);j.request.stats[B]-=1;const st=vn(l,s,[j],{...r,substatRollsModifier:r.substatRollsModifier})[0];g++,!(C&&h[B]&&st.x[B]<h[B])&&(o(st),o(P),(!E||st.simScore>P.simScore)&&(E=j,P=st,N=B))}if(!P){if(C){C=!1;continue}if(G){G=!1;continue}m-=1;continue}if(r.enforcePossibleDistribution&&E.request.stats[N]<6){const B=N,j=E.request.stats[B],st=I.parts.map(A=>A.substats[B]).filter(A=>A).length;if(j<st){let A=!1;for(const z of I.parts)if(z.substats[B]&&!(Object.values(z.substats).length<=4)){delete z.substats[B],A=!0;break}if(!A){F[B]=!0;continue}}}b=E,p=P,m-=1}return b.result=p,console.log("simulationRuns",g,t.simulation.request.simBody,t.simulation.request.simFeet,t.simulation.request.simLinkRope,t.simulation.request.simPlanarSphere),b}function vo(t){let e=0;for(const i of Ye)e+=t[i];return e}function Bc(t,e){return{[n.HP_P]:e.freeRolls,[n.ATK_P]:e.freeRolls,[n.DEF_P]:e.freeRolls,[n.HP]:e.freeRolls,[n.ATK]:e.freeRolls,[n.DEF]:e.freeRolls,[n.SPD]:t.speedRollsDeduction,[n.CR]:e.freeRolls,[n.CD]:e.freeRolls,[n.EHR]:e.freeRolls,[n.RES]:e.freeRolls,[n.BE]:e.freeRolls}}function Pc(t,e,i,l){var S;const s=t.simulation.request,o={[n.HP_P]:0,[n.ATK_P]:0,[n.DEF_P]:0,[n.HP]:0,[n.ATK]:0,[n.DEF]:0,[n.SPD]:0,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:0,[n.BE]:0};for(const m of e.substats)o[m]=i.maxPerSub;o[s.simBody]-=i.deductionPerMain,o[s.simFeet]-=i.deductionPerMain,o[s.simPlanarSphere]-=i.deductionPerMain,o[s.simLinkRope]-=i.deductionPerMain;for(const m of Ye)o[m]=Math.min(o[m],i.substatGoal-10*i.freeRolls-Math.ceil(t.speedRollsDeduction)),o[m]=Math.max(o[m],i.freeRolls),((S=e.maxBonusRolls)==null?void 0:S[m])!=null&&(o[m]=Math.min(o[m],e.maxBonusRolls[m]+i.freeRolls));i.limitFlatStats&&(o[n.ATK]=i.freeRolls,o[n.HP]=i.freeRolls,o[n.DEF]=i.freeRolls),o[n.ATK]=Math.min(10,o[n.ATK]),o[n.HP]=Math.min(10,o[n.HP]),o[n.DEF]=Math.min(10,o[n.DEF]),o[n.SPD]=t.speedRollsDeduction;const c=Je.getMaxedSubstatValue(n.CR,i.quality),r=Math.max(0,100-l.x[n.CR]*100);o[n.CR]=Math.max(i.baselineFreeRolls,Math.max(i.enforcePossibleDistribution?6:0,Math.min(s.simBody==n.CR?Math.ceil((r-32.4)/c):Math.ceil(r/c),o[n.CR])));const u=Je.getMaxedSubstatValue(n.EHR,i.quality),R=Math.max(0,120-l.x[n.EHR]*100);o[n.EHR]=Math.max(i.baselineFreeRolls,Math.max(i.enforcePossibleDistribution?6:0,Math.min(s.simBody==n.EHR?Math.ceil((R-43.2)/u):Math.ceil(R/u),o[n.EHR])));const h=Math.ceil(t.speedRollsDeduction)-6;for(const m of Ye)m!=n.SPD&&(o[m]=Math.min(o[m],36-h));return o}function HR(t){const e=y.getMetadata().characters[t.id];return e.stats.SPD+(e.traces.SPD||0)}function XR(t,e){const{relicSetNames:i,ornamentSetName:l}=Nc(e);let s=t.relicSets[0][0],o=t.relicSets[0][1],c=t.ornamentSets[0];const r=t.relicSets.map(R=>R.sort());for(const R of r){if(i[0]==R[0]&&i[1]==R[1]){s=R[0],o=R[1];break}if(R[0]!=R[1]&&i[0]in R&&i[1]in R){s=i[0],o=i[1];break}}const u=t.ornamentSets;for(const R of u)if(l==R){c=R;break}return{relicSet1:s,relicSet2:o,ornamentSet:c}}function YR(t,e,i,l){HR(t);const s=e.parts[Z.Feet],{relicSet1:o,relicSet2:c,ornamentSet:r}=i,u=[];for(const R of e.parts[Z.Body])for(const h of s)for(const S of e.parts[Z.PlanarSphere])for(const m of e.parts[Z.LinkRope]){const b={name:"",simRelicSet1:o,simRelicSet2:c,simOrnamentSet:r,simBody:R,simFeet:h,simPlanarSphere:S,simLinkRope:m,stats:{[n.HP_P]:0,[n.ATK_P]:0,[n.DEF_P]:0,[n.HP]:0,[n.ATK]:0,[n.DEF]:0,[n.SPD]:0,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:0,[n.BE]:0}},C={simulation:{name:"",key:"",simType:xn.SubstatRolls,request:b},finalSpeed:0,speedRollsDeduction:0};u.push(C)}return u}function KR(t,e,i,l,s){const o=W.clone(t);Object.values(Z).forEach(u=>o[u]=o[u]||Zn()),Object.values(Z).forEach(u=>o[u].part=u),Object.values(o).map(u=>{if(u.substats=[],u.part==Z.Head)for(const R of Ye)R!=n.SPD&&u.substats.push({stat:R,value:Je.getMaxedSubstatValue(R,s.quality)*0})});const{originalSimResult:c,originalSim:r}=kc(o,l,e,i,s,0,!0);return{baselineSimResult:c,baselineSim:r}}function kc(t,e,i,l,s,o=1,c=!1){const r=W.clone(t);Object.values(Z).forEach(b=>r[b].part=b);const{relicSetNames:u,ornamentSetName:R}=Nc(r),h=A0(r,u[0],u[1],R,s.quality,s.speedRollValue);if(c){const{relicSet1:b,relicSet2:p,ornamentSet:C}=e;h.simRelicSet1=b,h.simRelicSet2=p,h.simOrnamentSet=C}const S={name:"",key:"",simType:xn.SubstatRolls,request:h},m=vn(i,l,[S],{...s,substatRollsModifier:b=>b,mainStatMultiplier:o})[0];return S.result=m,{originalSimResult:m,originalSim:S}}function Nc(t){Object.values(Z).forEach(o=>t[o]=t[o]||Zn());const e=[t[Z.Head].set,t[Z.Hands].set,t[Z.Body].set,t[Z.Feet].set].filter(o=>o!=-1),i=[t[Z.PlanarSphere].set,t[Z.LinkRope].set].filter(o=>o!=-1),l=Q0(e,!0),s=j0(i,!0);return l.sort(),{relicSetNames:l,ornamentSetName:s}}function vR(t,e,i){let l=1;for(const s of Object.keys(e))x.isFlat(s)?l*=(Math.min(1,t.x[s]/e[s])+1)/2:l*=Math.min(1,1-(e[s]-t.x[s])/Je.getMaxedSubstatValue(s,i.quality));return t.penaltyMultiplier=l,l}function wR(t){let e="WTF+";const i=W.precisionRound(t*100);for(const[l,s]of Object.entries(AR))if(e=l,i>=s)return e;return"???"}function Uc(t,e){const i=t.result;return e.result.simScore-i.simScore}const AR={"WTF+":135,WTF:126,"SSS+":118,SSS:111,"SS+":105,SS:100,"S+":95,S:90,"A+":85,A:80,"B+":75,B:70,"C+":65,C:60,"D+":55,D:50,"F+":45,F:40},QR=()=>a.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"none",viewBox:"0 1 20 20",children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v13m0-13 4 4m-4-4-4 4"})}),jR=t=>a.jsx(ua,{component:QR,...t}),{Text:JR}=pt,OR=t=>{const e=W.clone(t.simScoringResult),{t:i}=et(["charactersTab","common"]);if(!e)return a.jsx("pre",{style:{height:200},children:" "});const l=e.simulationForm.characterId,s=y.getMetadata().characters[l],o=va[s.element];function c(F){return a.jsx(f,{vertical:!0,align:"center",gap:2,children:a.jsx("img",{src:U.getSetImage(F.set),style:{height:60}})})}function r(F){var P;const E=((P=F.stat)==null?void 0:P.replace("Boost",""))||"";return a.jsxs(f,{align:"center",gap:10,children:[a.jsx("img",{src:U.getPart(F.part),style:{height:30}}),a.jsx("pre",{style:{margin:0},children:E})]})}function u(F){const E=F.precision??1,P=F.number??0,N=P!=0;return a.jsxs(f,{align:"center",gap:15,children:[a.jsx("pre",{style:{margin:0},children:F.label}),a.jsx("pre",{style:{margin:0},children:N&&P.toFixed(E)})]})}function R(F){const E=F.text??"";return a.jsxs(f,{align:"center",gap:15,children:[a.jsx("pre",{style:{margin:0},children:F.label}),a.jsx("pre",{style:{margin:0},children:E})]})}function h(){const F=[],E=e.originalSimScore,P=e.percent;for(const N of e.substatUpgrades){const k=N,B=k.simulationResult.simScore,j=k.percent,st=k.stat,z=x.isFlat(k.stat)?"":"%",dt=x.precisionRound(Je.getMaxedSubstatValue(st,.8));F.push(a.jsxs(f,{align:"center",gap:10,children:[a.jsx("img",{src:U.getStatIcon(st),style:{height:30}}),a.jsx("pre",{style:{margin:0,width:200},children:`+1x ${i("CharacterPreview.SubstatUpgradeComparisons.Roll")}: ${i(`common:ShortStats.${st}`)} +${dt.toFixed(1)}${z}`}),a.jsx("pre",{style:{margin:0,width:250},children:`${i("CharacterPreview.SubstatUpgradeComparisons.Score")}: +${((j-P)*100).toFixed(2)}% -> ${(k.percent*100).toFixed(2)}%`}),a.jsx("pre",{style:{margin:0,width:300},children:`${i("CharacterPreview.SubstatUpgradeComparisons.Damage")}: +${(B-E).toFixed(1)} -> ${B.toFixed(1)}`}),a.jsx("pre",{style:{margin:0,width:150},children:`${i("CharacterPreview.SubstatUpgradeComparisons.Damage")} %: +${((B-E)/E*100).toFixed(3)}%`})]},x.randomId()))}return a.jsx(f,{vertical:!0,gap:xt,children:F})}function S(){return a.jsxs(f,{vertical:!0,style:{marginTop:80,width:1e3},children:[a.jsx("h1",{style:{margin:"auto"},children:i("CharacterPreview.ScoringDetails.Header")}),a.jsxs(JR,{style:{fontSize:18},children:[a.jsxs(Et,{t:i,i18nKey:"CharacterPreview.ScoringDetails.WhatIsDPSScore",children:[a.jsx("h2",{children:"What is DPS Score?"}),a.jsx("p",{children:"DPS Score is a damage calculation based metric for accurately scoring how optimal the character's relics are for maximizing damage in combat."}),a.jsx("p",{children:"This score is calculated by using the optimizer to simulate the character's combat stats and rates the build based on how much the relics contribute to damage, for a more accurate evaluation than scores based solely on stat weights."}),a.jsx("p",{children:"The scoring calculation takes into consideration:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Character eidolons / light cone / superimpositions"}),a.jsx("li",{children:"Teammate eidolons / light cone / superimpositions"}),a.jsx("li",{children:"Combat passives and buffs from abilities and light cones"}),a.jsx("li",{children:"Team composition and teammate buffs"}),a.jsx("li",{children:"Character ability rotations"}),a.jsx("li",{children:"Stat breakpoints"}),a.jsx("li",{children:"Stat overcapping"}),a.jsx("li",{children:"Relic set effects"}),a.jsx("li",{children:"Super break"}),a.jsx("li",{children:"...etc"})]})]}),a.jsxs(Et,{t:i,i18nKey:"CharacterPreview.ScoringDetails.HowIsCalculatedPart1",children:[a.jsx("h2",{children:"How is it calculated?"}),a.jsx("p",{children:"At its heart, this score is calculated using a Basic / Skill / Ult / FuA / DoT / Break ability damage rotation predefined per character. These simulations use the optimizer's default conditional settings for the character / teammates / light cones / relic sets, and the damage sum is then used to compare between builds."}),a.jsx("h4",{children:"Simulation benchmarks"}),a.jsx("p",{children:"The scoring algorithm generates three builds to measure the damage of the original character against."}),a.jsxs("ul",{style:{lineHeight:"32px"},children:[a.jsx("li",{children:"Baseline (0%) - No substats, no main stats"}),a.jsx("li",{children:"Benchmark (100%) - A strong build, generated following certain rules with a realistic distribution of 48x min rolls"}),a.jsx("li",{children:"Perfection (200%) - The perfect build, generated with an ideal distribution of 54x max rolled substats"})]}),a.jsx("p",{children:"The original character's build is scored based on how its Combo DMG compares to the benchmark percentages. The benchmark and perfection builds will always match the original character's SPD."})]}),a.jsxs(Et,{t:i,i18nKey:"CharacterPreview.ScoringDetails.HowIsCalculatedPart2",children:[a.jsx("h4",{children:"100% benchmark ruleset"}),a.jsx("p",{children:"The 100% benchmark character is designed to be a strong and realistic build that is difficult to reach, but attainable with some character investment into relic farming. The following ruleset defines how the build is generated and why it differs from the perfect build."}),a.jsxs("ul",{style:{lineHeight:"32px"},children:[a.jsx("li",{children:"The default damage simulation uses a common team composition and the character's BiS relic + ornament set"}),a.jsx("li",{children:"The 100% benchmark uses the same eidolon and superimposition as the original character, at level 80 and maxed traces"}),a.jsx("li",{children:"The 100% benchmark has 4 main stats and 48 total substats: 8 from each gear slot"}),a.jsx("li",{children:"Each substat is equivalent to a 5 star relic's low roll value, except for SPD which uses mid rolls"}),a.jsx("li",{children:"First, 2 substats are allocated to each substat type, except for SPD"}),a.jsx("li",{children:"Substats are then allocated to SPD to match the original character's in-combat SPD"}),a.jsx("li",{children:"The remaining substats are then distributed to the other stats options to maximize the build's damage output"}),a.jsx("li",{children:"The resulting build must be a substat distribution that is possible to make with the in-game sub and main stat restrictions (for example, relics with a main stat cannot also have the same substat, and no duplicate substat slots per piece, etc)"}),a.jsxs("li",{children:["An artificial diminishing returns penalty is applied to substats with greater than ",a.jsx("code",{children:"12 - (2 * main stats)"})," rolls, to simulate the difficulty of obtaining multiple rolls in a single stat"]})]}),a.jsx("p",{children:"This process is repeated through all the possible main stat permutations and substat distributions until the highest damage simulation is found. That build's damage is then used as the standard for a 100% DPS Score."}),a.jsx("h4",{children:"200% benchmark ruleset"}),a.jsx("p",{children:"The 200% perfection character follows a similar generation process with a few differences."}),a.jsxs("ul",{style:{lineHeight:"32px"},children:[a.jsx("li",{children:"54x max roll substats"}),a.jsx("li",{children:"No diminishing returns penalty"}),a.jsx("li",{children:"All substats are ideally distributed, but the build must still be possible to make"})]})]}),a.jsxs(Et,{t:i,i18nKey:"CharacterPreview.ScoringDetails.HowIsCalculatedPart3",shouldUnescape:!0,children:[a.jsx("h4",{children:"Score normalization"}),a.jsx("p",{children:"All simulation scores are normalized by deducting a baseline damage simulation. The baseline uses the same eidolon and light cone, but no main stats and no substats. This adjusts for the base amount of damage that a character's kit deals, so that the DPS Score can then measure the resulting damage contribution of each additional substat."}),a.jsx("h4",{children:"Relic / ornament sets"}),a.jsx("p",{children:"Each character has a defined BiS set, and a few other equivalent sets that can be considered similar in performance. If the original character's sets matches any of the acceptable sets, the character will be scored against a benchmark generated matching that set, otherwise the original character will be scored against the BiS."}),a.jsx("h4",{children:"Stat breakpoint penalty"}),a.jsx("p",{children:"Certain characters will have breakpoints that are forced. For example, 120% combat EHR on Black Swan to maximize her passive EHR to DMG conversion, and to land Arcana stacks. Failing to reach the breakpoint will penalize the DPS Score for the missing percentage. This penalty applies to both the original character and the benchmark simulations but not the baseline."}),a.jsx("h4",{children:"Formula"}),a.jsx("p",{children:"The resulting formula is:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"If DMG < 100% benchmark"}),a.jsx("ul",{style:{paddingLeft:20},children:a.jsx("li",{children:a.jsx("code",{children:"DMG Score = (character dmg - 0% baseline dmg) / (100% benchmark dmg - 0% baseline dmg)"})})})]}),a.jsxs("ul",{children:[a.jsx("li",{children:"If DMG â‰¥ 100% benchmark"}),a.jsx("ul",{style:{paddingLeft:20},children:a.jsx("li",{children:a.jsx("code",{children:"DMG Score = 1 + (character dmg - 100% benchmark dmg) / (200% perfect dmg - 100% benchmark dmg)"})})})]}),a.jsx("h3",{children:"What are the grade thresholds?"}),a.jsx("p",{children:"Grading is based on the benchmark as 100%."}),a.jsx("pre",{style:{width:500},children:a.jsxs(f,{children:[a.jsxs("ul",{style:{width:300},children:[a.jsx("li",{children:"WTF+ = 135% â†‘ 9%"}),a.jsx("li",{children:"WTF  = 126% â†‘ 8%"}),a.jsx("li",{children:"SSS+ = 118% â†‘ 7%"}),a.jsx("li",{children:"SSS  = 111% â†‘ 6%"}),a.jsx("li",{children:"SS+  = 105% â†‘ 5%"}),a.jsx("li",{children:"SS   = 100% [Benchmark]"}),a.jsx("li",{children:"S+   = 95%"}),a.jsx("li",{children:"S    = 90%"}),a.jsx("li",{children:"A+   = 85%"})]}),a.jsxs("ul",{children:[a.jsx("li",{children:"A  = 80%"}),a.jsx("li",{children:"B+ = 75%"}),a.jsx("li",{children:"B  = 70%"}),a.jsx("li",{children:"C+ = 65%"}),a.jsx("li",{children:"C  = 60%"}),a.jsx("li",{children:"D+ = 55%"}),a.jsx("li",{children:"D  = 50%"}),a.jsx("li",{children:"F+ = 45%"}),a.jsx("li",{children:"F  = 40%"})]})]})})]}),a.jsxs(Et,{t:i,i18nKey:"CharacterPreview.ScoringDetails.FAQ",children:[a.jsx("h2",{children:"FAQs"}),a.jsx("h4",{children:"Why does the sim match speed?"}),a.jsx("p",{children:"Speed is controlled separately from the other stats because damage isn't comparable between different speed thresholds. For example, higher speed can actually result in lower damage with Bronya as a teammate if the speed tuning is thrown off. To make damage comparisons fair, we equalize the speed variable by forcing the sim's substats to match the original character's combat speed."}),a.jsx("h4",{children:"Why does a build score lower even though it has higher Sim Damage?"}),a.jsx("p",{children:"The benchmark sims have to equalize speed, so if the higher damage build has lower speed, then it will be compared to benchmark builds at that same lower speed, and therefore may score lower. In general this means that the sim will reallocate every reduced speed roll into a damage stat instead."}),a.jsx("h4",{children:"What's the reasoning behind the benchmark simulation rules?"}),a.jsx("p",{children:"The simulation rules were designed to create a realistic benchmark build for 100% DPS Score, which should be difficult to achieve yet possible with character investment. After trialing many methodologies for generating simulation stats, this set of rules produced the most consistent and reasonable 100% benchmarks across all characters and builds."}),a.jsx("p",{children:"The spread of 2 substats across all stat options provides some baseline consistency, and simulates how substats are imperfectly distributed in actual player builds. The spread rolls also help to balance out characters that are more stat hungry and require multiple stats to be effective, vs characters that only need two or three stats."}),a.jsx("p",{children:"Applying diminishing returns to high stacking substats is a way to make the benchmark fair for characters that primarily scale off of a single stat, for example Boothill and break effect. The ideal distribution will want every relic roll to go into break effect, but stacking 5x rolls of a single stat on a relic is extremely rare / unrealistic in practice, so the simulation rules add diminishing returns to account for that."}),a.jsx("h4",{children:"Why are the scores different for different teams?"}),a.jsx("p",{children:"Team buffs and synergy will change the ideal benchmark simulation's score. For example, a benchmark sim with Fu Xuan on the team may invest more substats into Crit DMG instead of Crit Rate since her passive Crit Rate will change the optimal distribution of crit rolls. Teams should be customized to fit the actual teammates used for the character ingame for an accurate score."}),a.jsx("h4",{children:"Why are certain stat breakpoints forced?"}),a.jsx("p",{children:"The only forced breakpoints currently are Effect Hit Rate minimums for DoT characters. Take Black Swan for example, the purpose of forcing the sim to use her 120% breakpoint is so it can't just ignore EHR to chase more maximum DoT damage. EHR is more than just DMG conversion as it also lets her land Arcana debuffs to reach her 7th Arcana stack for DEF pen. The penalty is calculated as a 1% deduction per missing roll from the breakpoint."}),a.jsx("p",{children:a.jsx("code",{children:"dmg scale = min(1, (breakpoint - combat stat) / (min stat value))"})}),a.jsx("h4",{children:"How were the default simulation teams / sets chosen?"}),a.jsx("p",{children:"The defaults come from a combination of usage statistics and community guidance. Best in slot sets and teammates will change with new game updates, so the default parameters may also change. Please visit the Discord server for suggestions and feedback on the scoring design."}),a.jsx("h4",{children:"Why is a character scoring low?"}),a.jsx("p",{children:"The `Damage Upgrades` section will give a quick overview of the sets and stats that could be improved. Substat upgrades will show the damage increase for a single max roll. For a more detailed explanation, the full simulation is detailed below the character card, including the benchmark character's stat distribution, basic stats, combat stats, and main stats. Comparing the original character's stats to the benchmark character's stats is helpful to show the difference in builds and see where to improve."}),a.jsx("p",{children:"An often underestimated component of the build is completed BiS set effects. Set effects can play a large part in optimizing a character's potential damage output and rainbow or broken sets will often score worse than full sets."})]})]})]})}const m=W.clone(e.originalSimResult),b=W.clone(e.benchmarkSimResult),p=W.clone(e.maximumSimResult),C=m.x,G=b.x,g=p.x;m[o]=m.ELEMENTAL_DMG,b[o]=b.ELEMENTAL_DMG,p[o]=p.ELEMENTAL_DMG,C[o]=C.ELEMENTAL_DMG,G[o]=G.ELEMENTAL_DMG,g[o]=g.ELEMENTAL_DMG;const T=300,D=a.jsx(f,{vertical:!0,children:a.jsx(Ge,{type:"vertical",style:{flexGrow:1,margin:"10px 30px"}})});function I(F){const E=F.simulation.request,P=W.clone(F.simulation.result),N=P,k=N.x,B=F.type=="Character",j="rgb(225, 165, 100)";return N[o]=N.ELEMENTAL_DMG,k[o]=k.ELEMENTAL_DMG,a.jsxs(f,{vertical:!0,gap:25,children:[a.jsx(f,{vertical:!0,gap:xt,children:a.jsx(f,{justify:"space-around",children:a.jsx("pre",{style:{fontSize:20,fontWeight:"bold",color:B?j:""},children:a.jsx("u",{children:i(`CharacterPreview.ScoringColumn.${F.type}.Header`,{score:x.truncate10ths(x.precisionRound(F.percent*100))})})})})}),a.jsxs(f,{vertical:!0,gap:xt,style:{width:T},children:[a.jsx("pre",{style:{margin:"auto",color:B?j:""},children:i(`CharacterPreview.ScoringColumn.${F.type}.BasicStats`)}),a.jsx(nl,{finalStats:N,elementalDmgValue:o,simScore:P.simScore})]}),a.jsxs(f,{vertical:!0,gap:xt,style:{width:T},children:[a.jsx("pre",{style:{margin:"auto",color:B?j:""},children:a.jsxs(Et,{t:i,i18nKey:`CharacterPreview.ScoringColumn.${F.type}.CombatStats`,children:["build type ",a.jsx("u",{children:"combat stats"})]})}),a.jsx(nl,{finalStats:k,elementalDmgValue:o,simScore:P.simScore})]}),a.jsxs(f,{vertical:!0,gap:xt,children:[a.jsx("pre",{style:{margin:"10px auto",color:B?j:""},children:i(`CharacterPreview.ScoringColumn.${F.type}.Substats`)}),a.jsxs(f,{gap:5,justify:"space-around",children:[a.jsxs(f,{vertical:!0,gap:xt,style:{width:120},children:[a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.ATKP"),number:E.stats[n.ATK_P],precision:F.precision}),a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.ATK"),number:E.stats[n.ATK],precision:F.precision}),a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.HPP"),number:E.stats[n.HP_P],precision:F.precision}),a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.HP"),number:E.stats[n.HP],precision:F.precision}),a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.DEFP"),number:E.stats[n.DEF_P],precision:F.precision}),a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.DEF"),number:E.stats[n.DEF],precision:F.precision})]}),a.jsxs(f,{vertical:!0,gap:xt,style:{width:100},children:[a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.SPD"),number:E.stats[n.SPD],precision:2}),a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.CR"),number:E.stats[n.CR],precision:F.precision}),a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.CD"),number:E.stats[n.CD],precision:F.precision}),a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.EHR"),number:E.stats[n.EHR],precision:F.precision}),a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.RES"),number:E.stats[n.RES],precision:F.precision}),a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.BE"),number:E.stats[n.BE],precision:F.precision})]})]})]}),a.jsxs(f,{vertical:!0,gap:xt,children:[a.jsx("pre",{style:{margin:"0 auto",color:B?j:""},children:i(`CharacterPreview.ScoringColumn.${F.type}.Mainstats`)}),a.jsx(f,{gap:xt,justify:"space-around",children:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx(r,{stat:i(`common:ReadableStats.${E.simBody}`),part:Z.Body}),a.jsx(r,{stat:i(`common:ReadableStats.${E.simFeet}`),part:Z.Feet}),a.jsx(r,{stat:i(`common:ReadableStats.${E.simPlanarSphere}`),part:Z.PlanarSphere}),a.jsx(r,{stat:i(`common:ReadableStats.${E.simLinkRope}`),part:Z.LinkRope})]})})]}),a.jsxs(f,{vertical:!0,gap:20,children:[a.jsx("pre",{style:{margin:"0 auto",color:B?j:""},children:i(`CharacterPreview.ScoringColumn.${F.type}.Abilities`)}),a.jsx(f,{gap:xt,justify:"space-around",children:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedDMGLabels.Basic"),number:P.BASIC}),a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedDMGLabels.Skill"),number:P.SKILL}),a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedDMGLabels.Ult"),number:P.ULT}),a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedDMGLabels.Fua"),number:P.FUA}),a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedDMGLabels.Dot"),number:P.DOT}),a.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedDMGLabels.Break"),number:P.BREAK})]})})]})]})}return a.jsxs(f,{vertical:!0,gap:15,align:"center",children:[a.jsx(f,{justify:"space-around",style:{marginTop:15},children:a.jsx("pre",{style:{fontSize:28,fontWeight:"bold",margin:0},children:i("CharacterPreview.BuildAnalysis.Header")})}),a.jsxs(f,{gap:40,children:[a.jsxs(f,{vertical:!0,gap:xt,style:{marginLeft:10},children:[a.jsx("pre",{style:{margin:"5px auto"},children:i("CharacterPreview.BuildAnalysis.SimulationTeammates")}),a.jsxs(f,{gap:15,children:[a.jsx(ws,{result:e,index:0}),a.jsx(ws,{result:e,index:1}),a.jsx(ws,{result:e,index:2})]})]}),a.jsx(da,{}),a.jsxs(f,{vertical:!0,gap:xt,children:[a.jsx("pre",{style:{margin:"5px auto"},children:i("CharacterPreview.BuildAnalysis.SimulationSets")}),a.jsxs(f,{vertical:!0,gap:xt,children:[a.jsxs(f,{children:[a.jsx(c,{set:e.maximumSim.request.simRelicSet1}),a.jsx(c,{set:e.maximumSim.request.simRelicSet2})]}),a.jsx(c,{set:e.maximumSim.request.simOrnamentSet})]})]}),a.jsx(da,{}),a.jsxs(f,{vertical:!0,gap:xt,children:[a.jsx("pre",{style:{margin:"5px auto"},children:i("CharacterPreview.BuildAnalysis.Formula.Header")}),a.jsxs(f,{vertical:!0,gap:xt,children:[a.jsx(u,{label:i("CharacterPreview.BuildAnalysis.Formula.BASIC"),number:e.simulationMetadata.formula.BASIC,precision:0}),a.jsx(u,{label:i("CharacterPreview.BuildAnalysis.Formula.SKILL"),number:e.simulationMetadata.formula.SKILL,precision:0}),a.jsx(u,{label:i("CharacterPreview.BuildAnalysis.Formula.ULT"),number:e.simulationMetadata.formula.ULT,precision:0}),a.jsx(u,{label:i("CharacterPreview.BuildAnalysis.Formula.FUA"),number:e.simulationMetadata.formula.FUA,precision:0}),a.jsx(u,{label:i("CharacterPreview.BuildAnalysis.Formula.DOT"),number:e.simulationMetadata.formula.DOT,precision:0}),a.jsx(u,{label:i("CharacterPreview.BuildAnalysis.Formula.BREAK"),number:e.simulationMetadata.formula.BREAK,precision:0})]})]}),a.jsx(da,{}),a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx("pre",{style:{margin:"5px auto"},children:i("CharacterPreview.BuildAnalysis.CombatResults.Header")}),a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx(R,{label:i("CharacterPreview.BuildAnalysis.CombatResults.Primary"),text:i(`CharacterPreview.BuildAnalysis.CombatResults.Abilities.${e.characterMetadata.scoringMetadata.sortOption.key}`)}),a.jsx(u,{label:i("CharacterPreview.BuildAnalysis.CombatResults.Character"),number:e.originalSimScore}),a.jsx(u,{label:i("CharacterPreview.BuildAnalysis.CombatResults.Baseline"),number:e.baselineSimScore}),a.jsx(u,{label:i("CharacterPreview.BuildAnalysis.CombatResults.Benchmark"),number:e.benchmarkSimScore}),a.jsx(u,{label:i("CharacterPreview.BuildAnalysis.CombatResults.Maximum"),number:e.maximumSimScore}),a.jsx(u,{label:i("CharacterPreview.BuildAnalysis.CombatResults.Score"),number:e.percent*100,precision:2})]})]})]}),a.jsxs(f,{children:[a.jsx(I,{simulation:e.originalSim,percent:e.percent,precision:2,type:"Character"}),D,a.jsx(I,{simulation:e.benchmarkSim,percent:1,precision:0,type:"Benchmark"}),D,a.jsx(I,{simulation:e.maximumSim,percent:2,precision:0,type:"Perfect"})]}),a.jsx(f,{gap:xt,justify:"space-around",children:a.jsxs(f,{vertical:!0,gap:xt,children:[a.jsx("pre",{style:{marginLeft:"auto",marginRight:"auto"},children:i("CharacterPreview.SubstatUpgradeComparisons.Header")}),a.jsx(h,{})]})}),a.jsx(f,{vertical:!0,gap:xt,children:a.jsx(S,{})})]})};function ws(t){const{t:e}=et("common"),i=t.result.simulationMetadata.teammates[t.index],l=60;return a.jsxs(f,{vertical:!0,align:"center",gap:5,children:[a.jsx("img",{src:U.getCharacterAvatarById(i.characterId),style:{height:l}}),a.jsx("pre",{style:{margin:0},children:e("EidolonNShort",{eidolon:i.characterEidolon})}),a.jsx("img",{src:U.getLightConeIconById(i.lightCone),style:{height:l}}),a.jsx("pre",{style:{margin:0},children:e("SuperimpositionNShort",{superimposition:i.lightConeSuperimposition})})]})}function zR(t){const i=t.characterMetadata.scoringMetadata.sortOption.key,l=t.originalSimResult.x;l.ELEMENTAL_DMG+=l[`${i}_BOOST`],i!=v.DOT.key&&(l[n.CR]+=l[`${i}_CR_BOOST`],l[n.CD]+=l[`${i}_CD_BOOST`])}const wo={[n.ATK_P]:!0,[n.DEF_P]:!0,[n.HP_P]:!0};function _R(t){const e=W.clone(t.result);zR(e);const{t:i}=et("common"),l=e.characterMetadata.scoringMetadata.simulation,s=e.simulationMetadata,o=va[e.characterMetadata.element],c=s.nonDisplayStats||[];let r=l.substats;r=r.filter(R=>!c.includes(R)),r=x.filterUnique(r).filter(R=>!wo[R]),r.length<5&&r.push(n.SPD),r.sort((R,h)=>Ye.indexOf(R)-Ye.indexOf(h)),r.push(o);const u=[];for(const R of r){if(wo[R])continue;const h=ko[R]?e.originalSimResult.x.ELEMENTAL_DMG:e.originalSimResult.x[R],S=x.isFlat(R),m=ko[R]?x.precisionRound(e.originalSimResult.x.ELEMENTAL_DMG,2)!=x.precisionRound(e.originalSimResult.ELEMENTAL_DMG,2):x.precisionRound(e.originalSimResult.x[R],2)!=x.precisionRound(e.originalSimResult[R],2);let b=Math.floor(h);R==n.SPD?b=x.truncate10ths(h).toFixed(1):S||(b=x.truncate10ths(h*100).toFixed(1)),u.push(a.jsxs(f,{justify:"space-between",align:"center",style:{width:"100%"},children:[a.jsx("img",{src:U.getStatIcon(R),style:{width:re,height:re,marginRight:3}}),a.jsx(oa,{children:a.jsxs(f,{gap:3,align:"center",children:[i(`ReadableStats.${R}`),m&&a.jsx(qR,{})]})}),a.jsx(Ge,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),a.jsx(oa,{children:`${b}${S?"":"%"}`})]},x.randomId()))}return a.jsxs(f,{vertical:!0,gap:1,align:"center",style:{paddingLeft:4,paddingRight:6,marginBottom:1},children:[a.jsx(f,{vertical:!0,align:"center",children:a.jsx(nt,{style:{fontSize:16},children:i("CombatStats")})}),u]})}function qR(){return a.jsx(f,{style:{},align:"center",children:a.jsx(jR,{})})}function $R(t){const{t:e}=et(["common","charactersTab"]),i=t.result,l=[],s=i.originalSimResult.simScore,o=i.percent,c=i.substatUpgrades.filter(h=>h.stat!=n.SPD);for(const h of c.slice(0,4)){const S=h.stat,m=h.simulationResult.simScore/s-1;l.push(a.jsxs(f,{justify:"space-between",align:"center",style:{width:"100%"},children:[a.jsx("img",{src:U.getStatIcon(S),style:{width:re,height:re,marginRight:3}}),a.jsx(oa,{children:`+1x ${e(`ShortReadableStats.${S}`)}`}),a.jsx(Ge,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),a.jsx(oa,{children:`+ ${(m*100).toFixed(2)}%`})]},x.randomId()))}const r=[],u=i.mainUpgrades[0];if(u&&u.percent-o>0){const h=u.part,S=u.stat,m=u.simulationResult.simScore/s-1;r.push(a.jsxs(f,{gap:3,justify:"space-between",align:"center",style:{width:"100%",paddingLeft:1},children:[a.jsx("img",{src:U.getPart(h),style:{width:re,height:re,marginRight:3}}),a.jsx(oa,{children:`âž” ${e(`ShortReadableStats.${S}`)}`}),a.jsx(Ge,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),a.jsx(oa,{children:`+ ${(m*100).toFixed(2)}%`})]},x.randomId()))}const R=i.setUpgrades[0];if(R.percent-o>0){const h=R.simulationResult.simScore/s-1;r.push(a.jsxs(f,{gap:2,justify:"space-between",align:"center",style:{width:"100%",paddingLeft:1},children:[a.jsx("img",{src:U.getSetImage(R.simulation.request.simRelicSet1),style:{width:re,height:re,marginRight:3}}),a.jsx("img",{src:U.getSetImage(R.simulation.request.simRelicSet2),style:{width:re,height:re,marginRight:5}}),a.jsx("img",{src:U.getSetImage(R.simulation.request.simOrnamentSet),style:{width:re,height:re,marginRight:3}}),a.jsx(Ge,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),a.jsx(oa,{children:`+ ${(h*100).toFixed(2)}%`})]},x.randomId()))}return r.length&&(l.splice(4-r.length,r.length),r.map(h=>l.unshift(h))),a.jsxs(f,{vertical:!0,gap:1,align:"center",style:{paddingLeft:4,paddingRight:6,marginBottom:0},children:[a.jsx(f,{vertical:!0,align:"center",children:a.jsx(nt,{style:{fontSize:16},children:e("charactersTab:CharacterPreview.DMGUpgrades")})}),l]})}function rs(t){var S,m,b;const[e]=X.useForm();window.characterForm=e;const{t:i}=et("modals",{keyPrefix:"EditCharacter"}),[l,s]=L.useState(((S=t.initialCharacter)==null?void 0:S.form.characterId)||""),[o,c]=L.useState(((m=t.initialCharacter)==null?void 0:m.form.characterEidolon)||0),[r,u]=L.useState(((b=t.initialCharacter)==null?void 0:b.form.lightConeSuperimposition)||1);L.useEffect(()=>{var C,G,g,T,D;if(!t.open)return;const p={characterId:(C=t.initialCharacter)==null?void 0:C.form.characterId,characterLevel:80,characterEidolon:((G=t.initialCharacter)==null?void 0:G.form.characterEidolon)||0,lightCone:(g=t.initialCharacter)==null?void 0:g.form.lightCone,lightConeLevel:80,lightConeSuperimposition:((T=t.initialCharacter)==null?void 0:T.form.lightConeSuperimposition)||1};s((D=t.initialCharacter)==null?void 0:D.form.characterId),e.setFieldsValue(p)},[t.open]);function R(){const p=e.getFieldsValue();console.log("Character modal submitted with form:",p),t.onOk(p),t.setOpen(!1)}const h=()=>{t.setOpen(!1)};return a.jsx(Ve,{open:t.open,width:400,destroyOnClose:!0,centered:!0,onOk:R,onCancel:h,footer:[a.jsx(w,{onClick:h,children:i("Cancel")},"back"),a.jsx(w,{type:"primary",onClick:R,children:i("Save")},"submit")],children:a.jsx(X,{form:e,preserve:!1,layout:"vertical",children:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsxs(f,{vertical:!0,gap:5,children:[a.jsx(nt,{children:i("Character")}),a.jsx(X.Item,{size:"default",name:"characterId",children:a.jsx(Ha,{value:"",withIcon:!0,onChange:p=>{var G,g;s(p);const C=((g=(G=y.getCharacterById(p))==null?void 0:G.form)==null?void 0:g.characterEidolon)||0;e.setFieldValue("characterEidolon",C)}})}),a.jsx(X.Item,{size:"default",name:"characterEidolon",children:a.jsxs(pe.Group,{value:o,buttonStyle:"solid",style:{width:"100%",display:"flex"},children:[a.jsx(Qe,{text:i("EidolonButton",{eidolon:0}),value:0}),a.jsx(Qe,{text:i("EidolonButton",{eidolon:1}),value:1}),a.jsx(Qe,{text:i("EidolonButton",{eidolon:2}),value:2}),a.jsx(Qe,{text:i("EidolonButton",{eidolon:3}),value:3}),a.jsx(Qe,{text:i("EidolonButton",{eidolon:4}),value:4}),a.jsx(Qe,{text:i("EidolonButton",{eidolon:5}),value:5}),a.jsx(Qe,{text:i("EidolonButton",{eidolon:6}),value:6})]})})]}),a.jsxs(f,{vertical:!0,gap:5,children:[a.jsx(nt,{children:i("Lightcone")}),a.jsx(X.Item,{size:"default",name:"lightCone",children:a.jsx(Vl,{value:"",withIcon:!0,characterId:l,onChange:()=>{e.setFieldValue("lightConeSuperimposition",1)}})}),a.jsx(X.Item,{size:"default",name:"lightConeSuperimposition",children:a.jsxs(pe.Group,{value:r,onChange:p=>u(p.target.value),buttonStyle:"solid",style:{width:"100%",display:"flex"},children:[a.jsx(Qe,{text:i("SuperimpositionButton",{superimposition:1}),value:1}),a.jsx(Qe,{text:i("SuperimpositionButton",{superimposition:2}),value:2}),a.jsx(Qe,{text:i("SuperimpositionButton",{superimposition:3}),value:3}),a.jsx(Qe,{text:i("SuperimpositionButton",{superimposition:4}),value:4}),a.jsx(Qe,{text:i("SuperimpositionButton",{superimposition:5}),value:5})]})})]})]})})})}rs.propTypes={open:_.bool,onOk:_.func,setOpen:_.func,initialCharacter:_.object,addCharacter:_.bool};function Qe(t){return a.jsx(pe.Button,{value:t.value,style:{flex:1,textAlign:"center"},children:t.text})}const{useToken:tS}=Ce,{Text:ti}=pt,ei="rgb(255 255 255 / 40%) solid 1px",eS="rgba(0, 0, 0, 0.5) 1px 1px 1px 1px",wi="drop-shadow(rgb(0, 0, 0) 1px 1px 3px)",As={opacity:0,transition:"opacity 0.3s ease",visibility:"hidden",flex:"auto",position:"absolute",left:6,width:150};function ds(t){var Ml,Fl,Bl,Pl,kl,Nl;console.log("======================================================================= RENDER CharacterPreview");const{token:e}=tS(),{t:i}=et(["charactersTab","modals","common"]),{source:l,character:s,setOriginalCharacterModalOpen:o,setOriginalCharacterModalInitialCharacter:c,setCharacterModalAdd:r}=t,u=l=="scorer",R=l=="builds",h=e.colorBgLayout,S=window.store(ut=>ut.relicsById),[m,b]=L.useState(),[p,C]=L.useState(!1),[G,g]=L.useState(!1),[T,D]=L.useState(!1),[I,F]=L.useState(null),[E,P]=L.useState(ja),[N,k]=L.useState(Ni),[B,j]=L.useState(Gs),[st,A]=L.useState(!1),[z,dt]=L.useState(),[Yt,vt]=L.useState(),[ft,zt]=L.useState(),Se=L.useRef(null);L.useEffect(()=>{var ut;if(F(((ut=y.getCharacterById(s==null?void 0:s.id))==null?void 0:ut.portrait)||null),s!=null&&s.id){const _t=y.getMetadata().characters[s.id].scoringMetadata;if(_t!=null&&_t.simulation){const qt=y.getScoringMetadata(s.id);x.objectHash(qt.simulation.teammates)!=x.objectHash(_t.simulation.teammates)?P(ia):P(ja)}Se.current=s.id}},[s]);function me(){var qt,Mn,Sn;const ut=((qt=s==null?void 0:s.portrait)==null?void 0:qt.artistName)||((Sn=(Mn=y.getCharacterById(s==null?void 0:s.id))==null?void 0:Mn.portrait)==null?void 0:Sn.artistName);if(!ut)return null;const _t=ut.trim();return _t.length<1?null:_t}function ve(ut){const _t=Wl.onEditOk(m,ut);b(_t)}function fe(ut){y.setRelic(ut),setRelicRows(y.getRelics()),gt.save(),b(ut),Q.success(i("CharacterPreview.Messages.AddedRelic"))}function bt(ut){const{type:_t,...qt}=ut;switch(_t){case"add":F({...qt}),y.saveCharacterPortrait(s.id,qt),Q.success(i("CharacterPreview.Messages.SavedPortrait")),gt.save();break;case"delete":y.deleteCharacterPortrait(s.id),F(null),Q.success(i("CharacterPreview.Messages.RevertedPortrait")),gt.save();break;default:console.error(`Payload of type '${_t}' is not valid!`)}D(!1)}if(!s)return a.jsxs(f,{style:{display:"flex",height:_a,backgroundColor:h},gap:xt,id:t.id,children:[a.jsx("div",{style:{width:fn,overflow:"hidden",outline:`2px solid ${e.colorBgContainer}`,height:"100%",borderRadius:"8px"}}),a.jsxs(f,{gap:xt,children:[a.jsx(f,{vertical:!0,gap:xt,align:"center",style:{outline:`2px solid ${e.colorBgContainer}`,width:"100%",height:"100%",borderRadius:"8px"},children:a.jsx(f,{vertical:!0,style:{width:Ps,height:280*2+xt},justify:"space-between",children:a.jsx(f,{})})}),a.jsxs(f,{vertical:!0,gap:xt,children:[a.jsx(ce,{setSelectedRelic:b}),a.jsx(ce,{setSelectedRelic:b}),a.jsx(ce,{setSelectedRelic:b})]}),a.jsxs(f,{vertical:!0,gap:xt,children:[a.jsx(ce,{setSelectedRelic:b}),a.jsx(ce,{setSelectedRelic:b}),a.jsx(ce,{setSelectedRelic:b})]})]})]});let ht,Wt;if(u||R){const ut=Object.values(s.equipped);Wt=ne.scoreCharacterWithRelics(s,ut),ht=s.equipped}else Wt=ne.scoreCharacter(s),ht={Head:S[(Ml=s.equipped)==null?void 0:Ml.Head],Hands:S[(Fl=s.equipped)==null?void 0:Fl.Hands],Body:S[(Bl=s.equipped)==null?void 0:Bl.Body],Feet:S[(Pl=s.equipped)==null?void 0:Pl.Feet],PlanarSphere:S[(kl=s.equipped)==null?void 0:kl.PlanarSphere],LinkRope:S[(Nl=s.equipped)==null?void 0:Nl.LinkRope]};const St=s.form.characterId,Kt=y.getMetadata().characters[St],Pe=Kt.element,ct=va[Pe],ie=x.clone(ht);RelicFilters.condenseRelicSubstatsForOptimizerSingle(Object.values(ie));const Ze=Aa(tt.fixForm(tt.getDisplayFormValues(s.form)),ie);Ze.CV=StatCalculator.calculateCv(Object.values(ie)),Ze[ct]=Ze.ELEMENTAL_DMG;let _e=E;if(s!=null&&s.id){const ut=y.getMetadata().characters[s.id].scoringMetadata;if(ut!=null&&ut.simulation){const _t=y.getScoringMetadata(s.id),qt=x.objectHash(_t.simulation.teammates)!=x.objectHash(ut.simulation.teammates);Se.current==null&&(qt?_e=ia:_e=ja),Se.current!=s.id&&(qt?_e=ia:_e=E)}}let pn=kR(s,ht,_e),Gt=N==Ni&&pn;Gt!=null&&Gt.originalSim?Gt.originalSimResult[ct]=Gt.originalSimResult.ELEMENTAL_DMG:(pn=null,Gt=null);const Me=Wt.relics||[],Ln=s.form.lightCone,zn=80,Ra=s.form.lightConeSuperimposition,sn=y.getMetadata().lightCones[Ln],_n=Ln?i(`gameData:Lightcones.${Ln}.Name`):"",Rn=U.getLightConePortrait(sn)||"",H=80,It=s.form.characterEidolon,Y=St?i(`gameData:Characters.${St}.Name`):"",q=Kt.path,Tt=5,ke=125,yn=y.getMetadata().characters[s.id].imageCenter,ar=s.form.lightCone&&s.form.lightCone!="0"?y.getMetadata().lightCones[s.form.lightCone].imageCenter:0,bs=Gt?fn:Bp,hs=Gt?ke:Pp,fi=Gt?fn+16:Gc,yl=Gt?1260/902*fi:kp,Gi=Gt?_a-ke-Tt:_a,ps=Gt?950:Fp;function ir(ut){if(!ut.characterId||!ut.lightCone)return Q.error(i("CharacterPreview.Messages.NoSelectedCharacter"));const qt=x.clone(y.getScoringMetadata(St)).simulation;qt.teammates[Yt]=ut,y.updateSimulationScoreOverrides(St,qt),zt(x.randomId()),P(ia)}function sr(ut){const _t=ut.result,qt={fontSize:17,fontWeight:"600",textAlign:"center",color:"rgb(225, 165, 100)",height:23,whiteSpace:"nowrap"},Mn=a.jsxs(f,{align:"center",vertical:!0,style:{marginBottom:4,paddingTop:3,paddingBottom:3},children:[a.jsx(rn,{style:qt,children:i("CharacterPreview.ScoreHeader.Title")}),a.jsx(rn,{style:qt,children:i("CharacterPreview.ScoreHeader.Score",{score:x.truncate10ths(Math.max(0,_t.percent*100)).toFixed(1),grade:wR(_t.percent)})})]});return a.jsx(f,{vertical:!0,children:Mn})}function lr(ut){const _t=a.jsx(ki,{style:{marginLeft:10,marginRight:10,marginTop:2,marginBottom:0,alignItems:"center"},onChange:qt=>{qt==Ql?window.modalApi.info({icon:null,width:400,okText:i("common:Ok",{capitalizeLength:-1}),maskClosable:!0,content:a.jsx("div",{style:{width:"100%"},children:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx(nt,{children:i("modals:ScoreFooter.ModalTitle")}),a.jsx(w,{icon:a.jsx(d0,{}),onClick:()=>{const Sn=x.clone(y.getMetadata().characters[s.id]).scoringMetadata.simulation;y.updateSimulationScoreOverrides(s.id,Sn),P(ja),zt(Math.random()),Q.success(i("modals:ScoreFooter.ResetSuccessMsg"))},children:i("modals:ScoreFooter.ResetButtonText")}),a.jsx(w,{icon:a.jsx(Tr,{}),onClick:()=>{var Fn;const Sn=x.clone(y.getScoringMetadata(s.id)).simulation;for(const Bn of Sn.teammates){const Qa=(Fn=y.getCharacterById(Bn.characterId))==null?void 0:Fn.form;Qa!=null&&(Bn.characterEidolon=Qa.characterEidolon,Qa.lightCone&&(Bn.lightCone=Qa.lightCone,Bn.lightConeSuperimposition=Qa.lightConeSuperimposition||1))}y.updateSimulationScoreOverrides(s.id,Sn),P(ia),zt(Math.random()),Q.success(i("modals:ScoreFooter.SyncSuccessMsg"))},children:i("modals:ScoreFooter.SyncButtonText")})]})})}):P(qt)},value:E,block:!0,options:[{value:ja,label:i("modals:ScoreFooter.TeamOptions.Default")},{label:a.jsx(An,{}),value:Ql,className:"short-segmented"},{value:ia,label:i("modals:ScoreFooter.TeamOptions.Custom")}]});return a.jsxs(f,{vertical:!0,style:{},gap:2,children:[a.jsx(rs,{onOk:ir,open:st,setOpen:A,initialCharacter:z}),_t]})}function Rs(ut){const{result:_t,index:qt,setCharacterModalOpen:Mn,setSelectedTeammateIndex:Sn}=ut,Fn=_t.simulationMetadata.teammates[qt],Bn=64;return a.jsx(ya.Grid,{style:nS,hoverable:!0,onClick:()=>{dt({form:Fn}),Mn(!0),Sn(qt)},className:"custom-grid",children:a.jsxs(f,{vertical:!0,align:"center",gap:0,children:[a.jsx("img",{src:U.getCharacterAvatarById(Fn.characterId),style:{height:Bn,width:Bn,borderRadius:40,background:"rgba(255, 255, 255, 0.1)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.2)",backdropFilter:"blur(5px)",outline:"1px solid rgba(255, 255, 255, 0.3)"}}),a.jsx(Ao,{text:i("common:EidolonNShort",{eidolon:Fn.characterEidolon}),top:-12}),a.jsx("img",{src:U.getLightConeIconById(Fn.lightCone),style:{height:Bn,marginTop:-3}}),a.jsx(Ao,{text:i("common:SuperimpositionNShort",{superimposition:Fn.lightConeSuperimposition}),top:-18})]})})}return a.jsxs(f,{vertical:!0,children:[a.jsx(f,{vertical:!0,id:t.id,style:{backgroundColor:h},children:a.jsxs(f,{style:{display:s?"flex":"none",height:_a,margin:1},children:[a.jsx(Xa,{selectedRelic:m,type:"edit",onOk:ve,setOpen:C,open:p}),a.jsx(Xa,{selectedRelic:m,type:"edit",onOk:fe,setOpen:g,open:G}),a.jsxs(f,{vertical:!0,gap:12,className:"character-build-portrait",children:[!R&&a.jsxs("div",{style:{width:`${fn}px`,height:`${Gi}px`,overflow:"hidden",borderRadius:"8px",marginRight:xt,outline:ei,filter:wi},children:[a.jsxs("div",{style:{position:"relative",zIndex:1},children:[s.portrait||I?a.jsx(MR,{customPortrait:I??s.portrait,parentW:fn}):a.jsx(vi,{src:U.getCharacterPortraitById(s.id),style:{position:"absolute",left:-yn.x*yn.z/2*ps/1024+fn/2,top:-yn.y*yn.z/2*ps/1024+Gi/2,width:ps*yn.z}}),!u&&a.jsx(w,{style:{...As,top:46},className:"character-build-portrait-button",icon:a.jsx(Pi,{}),onClick:()=>{r(!1),c(s),o(!0)},type:"primary",children:i("CharacterPreview.EditCharacter")}),u&&a.jsx(w,{style:{...As,top:46},className:"character-build-portrait-button",icon:a.jsx(Pi,{}),onClick:()=>{c(s),o(!0)},type:"primary",children:i("CharacterPreview.EditCharacter")}),a.jsx(w,{style:{...As,top:7},className:"character-build-portrait-button",icon:a.jsx(Pi,{}),onClick:()=>D(!0),type:"primary",children:i("CharacterPreview.EditPortrait")}),a.jsx(yR,{title:i("CharacterPreview.EditPortrait"),aspectRatio:fn/_a,existingConfig:I??s.portrait,open:T,setOpen:D,onOk:bt,defaultImageUrl:U.getCharacterPortraitById(s.id),width:500})]}),a.jsx(f,{vertical:!0,style:{position:"relative",top:Gt?Gi-44:Gi-34,height:34,paddingLeft:4,display:me()?"flex":"none"},align:"flex-start",children:a.jsx(ti,{style:{backgroundColor:"rgb(0 0 0 / 40%)",padding:"4px 12px",borderRadius:8,fontSize:14,maxWidth:fn-150,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",zIndex:2,textShadow:"0px 0px 10px black"},children:i("CharacterPreview.ArtBy",{artistName:me()||""})})})]}),Gt&&!R&&a.jsxs(f,{vertical:!0,children:[_n&&a.jsx(f,{vertical:!0,style:{position:"relative",height:0,top:ke-35,paddingRight:12},align:"flex-end",children:a.jsx(ti,{style:{position:"absolute",height:30,backgroundColor:"rgb(0 0 0 / 70%)",padding:"4px 12px",borderRadius:8,fontSize:14,maxWidth:fn-50,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",zIndex:3,textShadow:"0px 0px 10px black",outline:ei,boxShadow:eS},children:`${i("common:SuperimpositionNShort",{superimposition:Ra})} - ${_n}`})}),a.jsx(f,{className:"lightConeCard",style:{width:`${bs}px`,height:`${hs}px`,overflow:"hidden",zIndex:2,borderRadius:"8px",outline:ei,filter:wi,position:"relative"},onClick:()=>{u?(c(s),o(!0)):(r(!1),c(s),o(!0))},children:a.jsx(vi,{src:Rn,style:{position:"absolute",width:420,top:-ar+ke/2,left:-8}})})]})]}),a.jsxs(f,{gap:xt,children:[a.jsx(f,{vertical:!0,gap:xt,align:"center",justify:"space-between",children:a.jsxs(f,{vertical:!0,style:{width:Ps,height:"100%"},justify:"space-between",children:[a.jsxs(f,{vertical:!0,children:[a.jsxs(f,{justify:"space-around",style:{height:26,marginBottom:6},align:"center",children:[a.jsx(oi,{preview:!1,width:32,src:U.getElement(Pe)}),a.jsx(yc,{rarity:Kt.rarity}),a.jsx(oi,{preview:!1,width:32,src:U.getPathFromClass(q)})]}),a.jsxs(f,{vertical:!0,children:[a.jsx(rn,{style:{fontSize:24,lineHeight:"30px",fontWeight:400,textAlign:"center"},children:Y}),a.jsx(rn,{style:{fontSize:16,fontWeight:400,textAlign:"center"},children:`${i("common:LevelShort",{level:H})} ${i("common:EidolonNShort",{eidolon:It})}`})]})]}),a.jsx(nl,{finalStats:Ze,elementalDmgValue:ct,cv:Ze.CV,simScore:Gt?Gt.originalSimResult.simScore:void 0}),Gt&&a.jsx(sr,{result:Gt}),Gt&&a.jsxs(f,{vertical:!0,children:[a.jsx(ya,{style:{backgroundColor:e.colorBgLayout,padding:"0px !important",body:{height:500}},styles:{body:{padding:0,borderRadius:10}},className:"teamSelectionCard",size:"small",bordered:!1,children:a.jsxs(f,{justify:"space-around",style:{paddingTop:0},children:[a.jsx(Rs,{result:Gt,index:0,setCharacterModalOpen:A,setSelectedTeammateIndex:vt}),a.jsx(Rs,{result:Gt,index:1,setCharacterModalOpen:A,setSelectedTeammateIndex:vt}),a.jsx(Rs,{result:Gt,index:2,setCharacterModalOpen:A,setSelectedTeammateIndex:vt})]})}),a.jsx(lr,{result:Gt})]}),Gt&&B==zs&&a.jsx(f,{vertical:!0,gap:xt,children:a.jsx($R,{result:Gt})}),Gt&&B==Gs&&a.jsx(f,{vertical:!0,gap:xt,children:a.jsx(_R,{result:Gt})}),!Gt&&a.jsx(f,{vertical:!0,children:a.jsx(rn,{style:{fontSize:17,fontWeight:600,textAlign:"center",color:"#e1a564"},children:i("CharacterPreview.CharacterScore",{score:Wt.totalScore.toFixed(0),grade:Wt.totalScore==0?"":"("+Wt.totalRating+")"})})}),!Gt&&a.jsxs(f,{vertical:!0,style:{width:Ps},children:[a.jsxs(f,{vertical:!0,children:[a.jsxs(rn,{style:{fontSize:18,fontWeight:400,marginLeft:10,marginRight:10,textAlign:"center"},ellipsis:!0,children:[`${_n}`,"Â "]}),a.jsx(rn,{style:{fontSize:18,fontWeight:400,textAlign:"center"},children:`${i("common:LevelShort",{level:zn})} ${i("common:SuperimpositionNShort",{superimposition:Ra})}`})]}),a.jsx("div",{className:"lightConeCard",style:{width:`${bs}px`,height:`${hs}px`,overflow:"hidden",borderRadius:"8px",outline:ei,filter:wi},onClick:()=>{u?(c(s),o(!0)):(r(!1),c(s),o(!0))},children:a.jsx(vi,{src:Rn,style:{width:fi,transform:`translate(${(fi-bs)/2/fi*-100}%, ${(yl-hs)/2/yl*-100+8}%)`}})})]})]})}),a.jsxs(f,{vertical:!0,gap:xt,children:[a.jsx(ce,{setEditModalOpen:C,setSelectedRelic:b,setAddModelOpen:g,relic:{...ht.Head,part:d.Parts.Head},source:t.source,characterId:St,score:Me.find(ut=>ut.part==d.Parts.Head)}),a.jsx(ce,{setEditModalOpen:C,setSelectedRelic:b,setAddModelOpen:g,relic:{...ht.Body,part:d.Parts.Body},source:t.source,characterId:St,score:Me.find(ut=>ut.part==d.Parts.Body)}),a.jsx(ce,{setEditModalOpen:C,setSelectedRelic:b,setAddModelOpen:g,relic:{...ht.PlanarSphere,part:d.Parts.PlanarSphere},source:t.source,characterId:St,score:Me.find(ut=>ut.part==d.Parts.PlanarSphere)})]}),a.jsxs(f,{vertical:!0,gap:xt,children:[a.jsx(ce,{setEditModalOpen:C,setSelectedRelic:b,setAddModelOpen:g,relic:{...ht.Hands,part:d.Parts.Hands},source:t.source,characterId:St,score:Me.find(ut=>ut.part==d.Parts.Hands)}),a.jsx(ce,{setEditModalOpen:C,setSelectedRelic:b,setAddModelOpen:g,relic:{...ht.Feet,part:d.Parts.Feet},source:t.source,characterId:St,score:Me.find(ut=>ut.part==d.Parts.Feet)}),a.jsx(ce,{setEditModalOpen:C,setSelectedRelic:b,setAddModelOpen:g,relic:{...ht.LinkRope,part:d.Parts.LinkRope},source:t.source,characterId:St,score:Me.find(ut=>ut.part==d.Parts.LinkRope)})]})]})]})}),!R&&a.jsxs(f,{vertical:!0,children:[a.jsxs(f,{justify:"center",gap:25,children:[a.jsxs(f,{justify:"center",style:{paddingLeft:20,paddingRight:5,borderRadius:7,height:40,marginTop:10,backgroundColor:e.colorBgContainer+"85"},align:"center",children:[a.jsx(ti,{style:{width:150},children:i("CharacterPreview.AlgorithmSlider.Title")}),a.jsx(ki,{style:{width:300,height:30},onChange:ut=>{k(ut),window.store.getState().setSavedSessionKey(ae.scoringType,ut),setTimeout(()=>gt.save(),1e3)},value:N,block:!0,options:[{label:Kt.scoringMetadata.simulation==null?i("CharacterPreview.AlgorithmSlider.Labels.CombatScoreTBD"):i("CharacterPreview.AlgorithmSlider.Labels.CombatScore"),value:Ni,disabled:!1},{label:i("CharacterPreview.AlgorithmSlider.Labels.StatScore"),value:fs,disabled:!1}]})]}),a.jsxs(f,{justify:"center",style:{paddingLeft:20,paddingRight:5,borderRadius:7,height:40,marginTop:10,backgroundColor:e.colorBgContainer+"85"},align:"center",children:[a.jsx(ti,{style:{width:150},children:i("CharacterPreview.DetailsSlider.Title")}),a.jsx(ki,{style:{width:300,height:30},onChange:ut=>{j(ut),window.store.getState().setSavedSessionKey(ae.combatScoreDetails,ut),setTimeout(()=>gt.save(),1e3)},value:B,block:!0,options:[{label:i("CharacterPreview.DetailsSlider.Labels.CombatStats"),value:Gs,disabled:Kt.scoringMetadata.simulation==null||N==fs},{label:i("CharacterPreview.DetailsSlider.Labels.DMGUpgrades"),value:zs,disabled:Kt.scoringMetadata.simulation==null||N==fs}]})]})]}),a.jsx(OR,{simScoringResult:Gt})]})]})}ds.propTypes={source:_.string,character:_.object,id:_.string};function Ao(t){const e=t.top;return a.jsx(f,{vertical:!0,style:{position:"relative",height:0,top:e},align:"center",children:a.jsx(ti,{style:{position:"absolute",backgroundColor:"rgb(0 0 0 / 75%)",padding:"2px 14px",borderRadius:4,fontSize:12,textOverflow:"ellipsis",whiteSpace:"nowrap",textShadow:"0px 0px 10px black",outline:ei,filter:wi,lineHeight:"12px"},children:t.text})})}const nS={width:"33.3333%",textAlign:"center",padding:1,boxShadow:"none"},aS=({open:t,setOpen:e,onOk:i})=>{const[l]=X.useForm();window.characterForm=l;const{t:s}=et("modals",{keyPrefix:"SaveBuild"});function o(){const u=l.getFieldsValue();i(u.name)}const c=()=>{e(!1)};return a.jsx(Ve,{open:t,width:350,destroyOnClose:!0,centered:!0,onOk:o,onCancel:c,footer:[a.jsx(w,{onClick:c,children:s("Cancel")},"back"),a.jsx(w,{type:"primary",onClick:o,children:s("Save")},"submit")],children:a.jsx(X,{form:l,preserve:!1,layout:"vertical",children:a.jsx(X.Item,{name:"name",label:s("Label"),rules:[{required:!0,message:s("Rule")}],style:{width:300},children:a.jsx(Oe,{})})})})},iS=({open:t,setOpen:e,selectedCharacter:i})=>{var g,T;const{t:l}=et(["modals","gameData"]),[s,o]=Ve.useModal(),[c,r]=L.useState(null),u=l(`gameData:Characters.${i==null?void 0:i.id}.Name`);L.useEffect(()=>{var D;t&&((D=i==null?void 0:i.builds)!=null&&D.length)&&(r(0),S(i.builds))},[t,i]);const R=L.useMemo(()=>{var D;if(c!=null&&((D=i==null?void 0:i.builds)!=null&&D[c].build)){const I=window.store.getState().relicsById,F=Object.values(i.builds[c].build).map(N=>I[N]),E={};F.filter(N=>!!N).map(N=>E[N.part]=N);const P=JSON.parse(JSON.stringify(i));return P.equipped=E,console.log("Previewing builds character:",P),a.jsx(ds,{character:P,source:"builds",id:"relicScorerPreview"})}return a.jsx("div",{style:{width:656,height:856,border:"1px solid #354b7d"}})},[c,i]);if(!((g=i==null?void 0:i.builds)!=null&&g.length))return a.jsxs(Ve,{open:t,width:300,destroyOnClose:!0,onOk:()=>e(!1),onCancel:()=>e(!1),centered:!0,okText:l("Builds.NoBuilds.Ok"),cancelText:l("Builds.NoBuilds.Cancel"),children:[l("Builds.NoBuilds.NoneSaved"),o]});async function h(D){return s.confirm({title:l("Builds.ConfirmModal.Title"),icon:a.jsx(b0,{}),content:D,okText:l("Builds.ConfirmModal.ConfirmButton"),cancelText:l("Builds.ConfirmModal.CancelButton"),centered:!0})}function S(D){for(const I of D){const F=window.store.getState().relicsById,E=Object.values(I.build).map(N=>F[N]),P=ne.scoreCharacterWithRelics(i,E);I.score={score:Math.round(P.totalScore??0),rating:P.totalRating??"N/A"}}}function m(){e(!1)}const b=()=>{r(null),e(!1)},p=async()=>{await h(l("Builds.ConfirmDelete.DeleteAll"))&&(r(null),y.clearCharacterBuilds(i==null?void 0:i.id),window.forceCharacterTabUpdate(),gt.save(),Q.success(l("Builds.ConfirmDelete.SuccessMessageAll",{characterName:u})),e(!1))},C=async D=>{await h(l("Builds.ConfirmDelete.DeleteSingle",{name:D}))&&(r(null),y.deleteCharacterBuild(i==null?void 0:i.id,D),window.forceCharacterTabUpdate(),gt.save(),Q.success(l("Builds.ConfirmDelete.SuccessMessageSingle",{name:D})),(i==null?void 0:i.Builds.length)==0&&e(!1))},G=async D=>{await h(l("Builds.ConfirmEquip.Content"))&&(y.equipRelicIdsToCharacter(Object.values(D.build),i==null?void 0:i.id),window.forceCharacterTabUpdate(),gt.save(),Q.success(l("Builds.ConfirmEquip.SuccessMessage",{buildName:D.name})),b())};return a.jsx(Ve,{open:t,width:1115,destroyOnClose:!0,centered:!0,onOk:m,onCancel:b,footer:[a.jsx(w,{onClick:()=>p(),children:l("Builds.DeleteAll")},"delete"),a.jsx(w,{onClick:b,children:l("Builds.Cancel")},"back")],children:a.jsxs(f,{gap:10,children:[i&&a.jsx(a.Fragment,{children:a.jsx(f,{vertical:!0,style:{overflowY:"auto",marginBottom:20,minWidth:400,maxWidth:400,height:840},gap:8,children:(T=i.builds)==null?void 0:T.map((D,I)=>a.jsx(ya,{style:{backgroundColor:c===I?"#001529":void 0,cursor:"pointer"},onClick:F=>{F.target.closest("button")!==null||r(I)},hoverable:!0,children:a.jsxs(f,{justify:"space-between",gap:8,align:"center",children:[a.jsxs(f,{vertical:!0,align:"flex-start",children:[a.jsx(nt,{style:{flex:1,fontSize:16,fontWeight:600},children:D.name}),a.jsx(rn,{style:{fontSize:14,fontWeight:400,textAlign:"center"},children:`${l("Builds.Score")}: ${D.score.score} ${D.score.score==0?"":"("+D.score.rating+")"}`})]}),a.jsxs(f,{gap:5,children:[a.jsx(w,{onClick:()=>{G(D)},children:l("Builds.Equip")}),a.jsx(w,{style:{width:35},type:"primary",icon:a.jsx(ll,{}),onClick:()=>{C(D.name)}})]})]})},I))})}),o,R]})})};function Hc({onOk:t,open:e,setOpen:i,currentCharacter:l}){const[s]=X.useForm();window.characterForm=s;const o=window.store(S=>S.characters),{t:c}=et("modals",{keyPrefix:"SwitchRelics"}),r=L.useMemo(()=>Zl({currentCharacters:o,excludeCharacters:[l],withNobodyOption:!1}),[o,l,c]);L.useEffect(()=>{e&&s.setFieldsValue({characterId:null})},[s,e]);function u(){const{selectedCharacter:S}=s.getFieldsValue();console.log("Switch relics modal submitted with:",S),t(S),i(!1)}const R=()=>{i(!1)};return a.jsx(Ve,{open:e,width:300,destroyOnClose:!0,centered:!0,onOk:u,onCancel:R,footer:[a.jsx(w,{onClick:R,children:c("Cancel")},"back"),a.jsx(w,{type:"primary",onClick:u,children:c("Save")},"submit")],children:a.jsxs(X,{form:s,preserve:!1,layout:"vertical",children:[a.jsx(f,{justify:"space-between",align:"center",children:a.jsx(nt,{children:c("Title")})}),a.jsx(f,{vertical:!0,gap:xt,children:a.jsx(f,{gap:xt,children:a.jsx(X.Item,{size:"default",name:"selectedCharacter",children:a.jsx(K,{labelInValue:!0,showSearch:!0,filterOption:x.titleFilterOption,style:{width:253},options:r})})})})]})})}Hc.propTypes={onOk:_.func,open:_.bool,setOpen:_.func,currentCharacter:_.object};const{useToken:sS}=Ce,{Text:Xc}=pt;function Qo(t){const e=t.data,i=U.getCharacterAvatarById(e.id);return a.jsx(oi,{preview:!1,width:50,src:i,style:{flex:"0 0 auto",maxWidth:"100%",minWidth:50}})}function lS(t){const e=t.data,i=y.getCharacters().find(l=>l.id==e.id);return a.jsx(Xc,{style:{height:"100%"},children:i.rank+1})}function oS(t){const e=t.data,i=V.t(`gameData:Characters.${e.id}.Name`),l=e.equipped?Object.values(e.equipped).filter(o=>o!=null).length:0;let s="#81d47e";return l<6&&(s="rgb(229, 135, 66)"),l<1&&(s="#d72f2f"),a.jsxs(f,{align:"center",justify:"flex-start",style:{height:"100%",width:"100%"},children:[a.jsx(Xc,{style:{margin:"auto",padding:"0px 5px",textAlign:"center",overflow:"hidden",whiteSpace:"break-spaces",textWrap:"wrap",fontSize:14,width:"100%",lineHeight:"18px"},children:i}),a.jsx(f,{style:{display:"block",width:3,height:"100%",backgroundColor:s,zIndex:2}})]})}const cS={path:[],element:[]};function Yc(){const{token:t}=sS(),[e,i]=Ve.useModal(),[l,s]=L.useState(!1),[o,c]=L.useState(!1),[r,u]=L.useState(!1),[R,h]=L.useState(!1),[S,m]=L.useState(!1),[b,p]=L.useState(!1),[C,G]=L.useState(!1),[g,T]=L.useState(),D=L.useRef(""),[I,F]=L.useState(cS),{t:E}=et("charactersTab");console.log("======================================================================= RENDER CharacterTab"),Ec("refreshRelicsScore",()=>{setTimeout(()=>{window.forceCharacterTabUpdate()},100)});const P=[{key:"character group",type:"group",label:E("CharacterMenu.Character.Label"),children:[{label:E("CharacterMenu.Character.Options.Add"),key:"add"},{label:E("CharacterMenu.Character.Options.Edit"),key:"edit"},{label:E("CharacterMenu.Character.Options.Switch"),key:"switchRelics"},{label:E("CharacterMenu.Character.Options.Unequip"),key:"unequip"},{label:E("CharacterMenu.Character.Options.Delete"),key:"delete"}]},{key:"builds group",type:"group",label:E("CharacterMenu.Build.Label"),children:[{label:E("CharacterMenu.Build.Options.Save"),key:"saveBuild"},{label:E("CharacterMenu.Build.Options.View"),key:"viewBuilds"}]},{key:"scoring group",type:"group",label:E("CharacterMenu.Scoring.Label"),children:[{label:E("CharacterMenu.Scoring.Options.ScoringModal"),key:"scoring"}]},{key:"priority group",type:"group",label:E("CharacterMenu.Priority.Label"),children:[{label:E("CharacterMenu.Priority.Options.SortByScore"),key:"sortByScore"},{label:E("CharacterMenu.Priority.Options.MoveToTop"),key:"moveToTop"}]}],N=L.useRef();window.characterGrid=N;const[k,B]=Te.useState(y.getCharacters());window.setCharacterRows=B;const j=window.store(Y=>Y.characterTabFocusCharacter),st=window.store(Y=>Y.setCharacterTabFocusCharacter),A=window.store(Y=>Y.setScoringAlgorithmFocusCharacter),dt=window.store(Y=>Y.charactersById)[j],[,Yt]=Te.useReducer(Y=>!Y);window.forceCharacterTabUpdate=()=>{var Y,q;console.log("__________ CharacterTab forceCharacterTabUpdate"),Yt(),(q=(Y=N==null?void 0:N.current)==null?void 0:Y.api)!=null&&q.redrawRows?N.current.api.redrawRows():console.log("@forceCharacterTabUpdate: No characterGrid.current.api")};const vt=L.useMemo(()=>[{field:"",headerName:E("GridHeaders.Icon"),cellRenderer:Qo,width:52},{field:"",headerName:E("GridHeaders.Priority"),cellRenderer:lS,width:50,rowDrag:!0},{field:"",headerName:E("GridHeaders.Character"),flex:1,cellRenderer:oS}],[E]),ft=L.useMemo(()=>({rowHeight:50,rowSelection:"single",rowDragManaged:!0,animateRows:!0,suppressDragLeaveHidesColumns:!0,suppressScrollOnNewData:!0}),[]),zt=L.useMemo(()=>({sortable:!1,cellStyle:{display:"flex"}}),[]),Se=L.useCallback(()=>{N.current.api.onFilterChanged()},[]),me=L.useCallback(Y=>{const q=y.getMetadata().characters[Y.data.id];return I.element.length&&!I.element.includes(q.element)||I.path.length&&!I.path.includes(q.path)?!1:q.name.toLowerCase().includes(D.current)||q.displayName.toLowerCase().includes(D.current)},[I]),ve=L.useCallback(()=>I.element.length+I.path.length+D.current.length>0,[I]),fe=L.useCallback(Y=>{const q=Y.data;st(q.id),console.log(`@CharacterTab::setCharacterTabFocusCharacter - [${q.id}]`,Y.data)},[st]),bt=window.store(Y=>Y.setActiveKey),ht=L.useCallback(Y=>{bt(mt.OPTIMIZER),tt.setCharacter(Y.data.id),console.log(`@CharacterTab.cellDoubleClickedListener::setOptimizerTabFocusCharacter - focus [${Y.data.id}]`,Y.data)},[]),Wt=L.useCallback(Y=>Il(Y,N,q=>fe(q)),[]);function St(Y,q){const Tt=Y.node.data;y.insertCharacter(Tt.id,q),gt.save(),N.current.api.redrawRows()}const Kt=L.useCallback(Y=>{St(Y,Y.overIndex)},[]),Pe=L.useCallback(Y=>{Y.overIndex==0?St(Y,0):Y.overIndex==-1&&Y.vDirection=="down"?St(Y,y.getCharacters().length):Y.overIndex==-1&&Y.vDirection=="up"?St(Y,0):St(Y,Y.overIndex)},[]);function ct(){var ke,yn;const Y=N.current.api.getSelectedNodes();if(!Y||Y.length==0)return;const Tt=Y[0].data.id;y.removeCharacter(Tt),B(y.getCharacters()),st(void 0),(yn=(ke=window.relicsGrid)==null?void 0:ke.current)!=null&&yn.api&&window.relicsGrid.current.api.redrawRows(),gt.save(),Q.success(E("Messages.RemoveSuccess"))}function ie(){console.log("unequipClicked",y.getCharacterById(j));const Y=N.current.api.getSelectedNodes();if(!Y||Y.length==0)return;const Tt=Y[0].data.id;y.unequipCharacter(Tt),N.current.api.redrawRows(),window.forceCharacterTabUpdate(),Q.success(E("Messages.UnequipSuccess")),window.relicsGrid.current.api.redrawRows(),gt.save()}function Ze(Y){if(!Y.characterId)return Q.error(E("Messages.NoSelectedCharacter"));const q=y.addFromForm(Y);window.characterGrid.current.api.ensureIndexVisible(q.rank)}function _e(Y){if(!Y)return Q.error(E("Messages.NoSelectedCharacter"));y.switchRelics(dt.id,Y.value),gt.save(),N.current.api.redrawRows(),window.forceCharacterTabUpdate(),Q.success(E("Messages.SwitchSuccess",{charid:Y.value})),window.relicsGrid.current.api.redrawRows()}function pn(){j&&A(j),window.setIsScoringModalOpen(!0)}function Gt(){y.insertCharacter(j,0),y.refreshCharacters(),gt.save()}async function Me(){if(!await Rn(a.jsx(a.Fragment,{children:a.jsx(Et,{t:E,i18nKey:"Messages.SortByScoreWarning",children:a.jsx("br",{})})})))return;const q=y.getCharacters().map(Tt=>({score:ne.scoreCharacter(Tt),character:Tt})).sort((Tt,ke)=>ke.score.totalScore-Tt.score.totalScore).map(Tt=>Tt.character);y.setCharacters(q),y.refreshCharacters(),gt.save()}function Ln(){s(!0),setTimeout(()=>{x.screenshotElementById("characterTabPreview","clipboard").finally(()=>{s(!1)})},100)}function zn(){c(!0),setTimeout(()=>{const Y=dt?E(`gameData:Characters.${dt.id}.Name`):null;x.screenshotElementById("characterTabPreview","download",Y).finally(()=>{c(!1)})},100)}function Ra(Y){const q=ne.scoreCharacter(dt),Tt=y.saveCharacterBuild(Y,dt.id,{score:q.totalScore.toFixed(0),rating:q.totalRating});if(Tt){Q.error(Tt.error);return}Q.success(E("charactersTab:Messages.SaveSuccess",{name:Y})),gt.save(),m(!1)}const _n={items:P,onClick:async Y=>{if(!dt&&Y.key!="add"&&Y.key!="scoring"&&Y.key!="sortByScore"){Q.error(E("Messages.NoSelectedCharacter"));return}switch(Y.key){case"add":G(!0),T(null),u(!0);break;case"edit":G(!1),T(dt),u(!0);break;case"switchRelics":h(!0);break;case"unequip":if(!await Rn(E("Messages.UnequipWarning",{charid:dt.id})))return;ie();break;case"delete":if(!await Rn(E("Messages.DeleteWarning",{charid:dt.id})))return;ct();break;case"saveBuild":m(!0);break;case"viewBuilds":p(!0);break;case"scoring":pn();break;case"moveToTop":Gt();break;case"sortByScore":Me();break;default:console.error(`Unknown key ${Y.key} in handleActionsMenuClick`)}}};async function Rn(Y){return e.confirm({title:"Confirm",icon:a.jsx(b0,{}),content:Y,okText:E("Confirm"),cancelText:E("Cancel"),centered:!0})}const H=8,It=280*3+H*2;return a.jsxs(f,{vertical:!0,style:{height:"100%",marginBottom:200},children:[a.jsxs(f,{vertical:!0,gap:H,children:[a.jsxs(f,{gap:6,style:{width:"100%",marginBottom:0,paddingRight:1},children:[a.jsx(f,{justify:"space-between",gap:8,style:{width:230,height:"100%"},children:a.jsx(hi,{placement:"topLeft",menu:_n,trigger:["hover"],children:a.jsxs(w,{style:{width:"100%",height:"100%"},icon:a.jsx(h0,{}),type:"default",children:[E("CharacterMenu.ButtonText"),a.jsx(es,{})]})})}),a.jsx(f,{style:{width:242},children:a.jsx(Oe,{allowClear:!0,size:"large",style:{height:40},placeholder:E("SearchPlaceholder"),onChange:Y=>{D.current=Y.target.value.toLowerCase(),Se()}})}),a.jsx(f,{style:{flex:1},children:a.jsx(Ua,{name:"path",tags:Dl(),flexBasis:"14.2%",currentFilters:I,setCurrentFilters:F})}),a.jsx(f,{style:{flex:1},children:a.jsx(Ua,{name:"element",tags:Rc(),flexBasis:"14.2%",currentFilters:I,setCurrentFilters:F})})]}),a.jsxs(f,{style:{height:"100%"},children:[a.jsxs(f,{vertical:!0,gap:8,style:{marginRight:dt?6:8},children:[a.jsx("div",{id:"characterGrid",className:"ag-theme-balham-dark",style:{display:"block",width:230,height:It-38,...fl(t)},children:a.jsx(ol,{ref:N,rowData:k,gridOptions:ft,getRowNodeId:Y=>Y.id,columnDefs:vt,defaultColDef:zt,deltaRowDataMode:!0,headerHeight:24,onCellClicked:fe,onCellDoubleClicked:ht,onRowDragEnd:Kt,onRowDragLeave:Pe,navigateToNextCell:Wt,isExternalFilterPresent:ve,doesExternalFilterPass:me})}),a.jsx(f,{vertical:!0,gap:8,children:a.jsxs(f,{gap:8,children:[a.jsx(w,{style:{flex:"auto"},icon:a.jsx(p0,{}),onClick:Ln,type:"primary",loading:l,children:E("CopyScreenshot")}),a.jsx(w,{style:{width:40},type:"primary",icon:a.jsx(cl,{}),onClick:zn,loading:o})]})})]}),a.jsx(f,{vertical:!0,children:a.jsx(ds,{id:"characterTabPreview",character:dt,setOriginalCharacterModalOpen:u,setOriginalCharacterModalInitialCharacter:T,setCharacterModalAdd:G})})]})]}),a.jsx(rs,{onOk:Ze,open:r,setOpen:u,initialCharacter:g,addCharacter:C}),a.jsx(Hc,{onOk:_e,open:R,setOpen:h,currentCharacter:dt}),a.jsx(aS,{open:S,setOpen:m,onOk:Ra}),a.jsx(iS,{open:b,setOpen:p,selectedCharacter:dt,imgRenderer:Qo}),i]})}Yc.propTypes={active:_.bool};const{useToken:rS}=Ce,dS="https://9di5b7zvtb.execute-api.us-west-2.amazonaws.com/prod";function uS(){const t=i=>{var l;return((l=Object.values(y.getMetadata().characters).find(s=>s.displayName==i))==null?void 0:l.id)||null},e=i=>{var l;return((l=Object.values(y.getMetadata().lightCones).find(s=>s.displayName==i))==null?void 0:l.id)||null};return[{characterId:t("Rappa"),lightConeId:e("Ninjutsu Inscription: Dazzling Evilbreaker")},{characterId:t("Feixiao"),lightConeId:e("I Venture Forth to Hunt")},{characterId:t("Lingsha"),lightConeId:e("Scent Alone Stays True")},{characterId:t("Jiaoqiu"),lightConeId:e("Those Many Springs")},{custom:!0}].filter(i=>i.characterId!=null||i.custom)}const{Text:mS}=pt,Qs=10;function Kc(){console.log("======================================================================= RENDER RelicScorerTab");const[t,e]=L.useState(!1),[i,l]=L.useState([]),[s,o]=L.useState(),c=L.useRef(null),r=window.store(p=>p.scorerId),u=window.store(p=>p.setScorerId),[R]=X.useForm();window.scorerForm=R;const{t:h}=et("relicScorerTab");L.useEffect(()=>{const p=window.location.href.split("?")[1];if(p){const C=p.split("id=")[1].split("&")[0];m({scorerId:C})}},[]);const S=window.store(p=>p.activeKey);L.useEffect(()=>{i.length&&r&&S==mt.RELIC_SCORER&&window.history.replaceState({id:r},`profile: ${r}`,Tn[mt.RELIC_SCORER]+`?id=${r}`)},[S]);function m(p){var G;if(c.current){Q.warning(h("Messages.ThrottleWarning",{seconds:Math.max(1,Math.ceil(Qs-(new Date-c.current)/1e3))})),t&&e(!1);return}else e(!0),c.current=new Date,setTimeout(()=>{c.current=null},Qs*1e3);console.log("finish",p);const C=((G=p==null?void 0:p.scorerId)==null?void 0:G.toString().trim())||"";if(!C||C.length!=9){e(!1),Q.error(h("Messages.InvalidIdWarning"));return}u(C),gt.save(),window.history.replaceState({id:C},`profile: ${C}`,Tn[mt.RELIC_SCORER]+`?id=${C}`),fetch(`${dS}/profile/${C}`,{method:"GET"}).then(g=>{if(!g.ok&&!g.source)throw new Error(`HTTP error! Status: ${g.status}`);return g.json()}).then(g=>{console.log(g);let T;if(g.source=="mana")g=x.recursiveToCamel(g),T=[g.detailInfo.assistAvatars[0],g.detailInfo.assistAvatars[1],g.detailInfo.assistAvatars[2],g.detailInfo.avatarDetailList[0],g.detailInfo.avatarDetailList[1],g.detailInfo.avatarDetailList[2],g.detailInfo.avatarDetailList[3],g.detailInfo.avatarDetailList[4]].filter(I=>!!I);else if(g.source=="mihomo"){T=g.characters.filter(I=>!!I);for(const I of T){I.relicList=I.relics||[],I.equipment=I.light_cone,I.avatarId=I.id,I.equipment&&(I.equipment.tid=I.equipment.id);for(const F of I.relicList)F.tid=F.id,F.subAffixList=F.sub_affix}}else{if(!g.detailInfo)return e(!1),Q.error(h("Messages.IdLoadError")),"ERROR";T=[...g.detailInfo.assistAvatarList||[],...g.detailInfo.avatarDetailList||[]].filter(I=>!!I).sort((I,F)=>F._assist&&I._assist?(I.pos||0)-(F.pos||0):F._assist?1:I._assist?-1:0).filter((I,F,E)=>E.findIndex(P=>P.avatarId===I.avatarId)===F)}console.log("characters",T);const D=T.map(I=>bl.convert(I)).filter((I,F,E)=>E.map(P=>P.id).indexOf(I.id)==F);for(let I=0;I<D.length;I++)D[I].index=I;l(D),D.length&&o(D[0]),e(!1),Q.success(h("Messages.SuccessMsg")),console.log(D),R.setFieldValue("scorerId",C)}).catch(g=>{setTimeout(()=>{Q.warning(h("Messages.LookupError")),console.error("Fetch error:",g),e(!1)},Math.max(0,Qs*1e3-(new Date-c.current)))})}let b;if(r)try{const p=parseInt(r);b=isNaN(p)?void 0:p}catch(p){console.error(p)}return a.jsx("div",{children:a.jsxs(f,{vertical:!0,gap:0,align:"center",children:[a.jsx(f,{gap:10,vertical:!0,align:"center",children:a.jsx(mS,{children:h("Header.WithVersion",{beta_version:je})})}),a.jsx(X,{form:R,onFinish:m,initialValues:{scorerId:b},children:a.jsxs(f,{style:{margin:10,width:1100},justify:"center",align:"center",gap:10,children:[a.jsx(X.Item,{size:"default",name:"scorerId",children:a.jsx(Oe,{style:{width:150},placeholder:h("SubmissionBar.Placeholder")})}),a.jsx(w,{type:"primary",htmlType:"submit",loading:t,style:{width:150},children:h("SubmissionBar.ButtonText")}),a.jsx(w,{style:{width:150},onClick:()=>window.setIsScoringModalOpen(!0),children:h("SubmissionBar.AlgorithmButton")})]})}),a.jsx(vc,{availableCharacters:i,setAvailableCharacters:l,setSelectedCharacter:o,selectedCharacter:s})]})})}Kc.propTypes={active:_.bool};function vc(t){var j,st;const e=window.store(A=>A.activeKey),{token:i}=rS(),l=window.store(A=>A.setScoringAlgorithmFocusCharacter),[s,o]=L.useState(!1),[c,r]=L.useState(t.selectedCharacter),[u,R]=L.useState(!1),[h,S]=L.useState(!1),{t:m}=et(["relicScorerTab","gameData"]),C={items:[{label:a.jsxs(f,{gap:10,children:[a.jsx(ni,{}),m("ImportLabels.AllCharacters")]}),key:"import characters"},{label:a.jsxs(f,{gap:10,children:[a.jsx(ni,{}),m("ImportLabels.SingleCharacter")]}),key:"import single character"}],onClick:A=>{switch(A.key){case"import characters":console.log("importing with characters"),F();break;case"import single character":console.log("importing single character"),E();break;default:Q.error(m("Messages.UnknownButtonClicked"));break}}};L.useEffect(()=>{var A;l((A=t.selectedCharacter)==null?void 0:A.id)},[(j=t.selectedCharacter)==null?void 0:j.id,l]);const G=[];for(let A=0;A<t.availableCharacters.length;A++){const z=t.availableCharacters[A];G.push({label:a.jsx(f,{align:"center",justify:"space-around",children:a.jsx("img",{style:{width:100,height:100,objectFit:"contain",borderRadius:50,border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.05)"},src:U.getCharacterAvatarById(z.id)})}),value:z.id,key:A})}function g(A){console.log("selectionChange",A),t.setSelectedCharacter(t.availableCharacters.find(z=>z.id==A)),l(A)}async function T(){console.log("Simulate",t.selectedCharacter),o(!0)}function D(A){if(!A.characterId)return Q.error(m("Messages.NoCharacterSelected"));if(t.availableCharacters.find(dt=>dt.id==A.characterId)&&t.selectedCharacter.id!=A.characterId)return Q.error(m("Messages.CharacterAlreadyExists"));const z=t.availableCharacters[t.selectedCharacter.index];z.form=A,z.id=A.characterId,t.selectedCharacter.form=A,t.selectedCharacter.id=A.characterId,Object.values(t.selectedCharacter.equipped).filter(dt=>!!dt).map(dt=>dt.equippedBy=A.characterId),t.setAvailableCharacters(JSON.parse(JSON.stringify(t.availableCharacters))),t.setSelectedCharacter(JSON.parse(JSON.stringify(t.selectedCharacter))),console.log("Modified character",t.selectedCharacter)}function I(){const A=t.availableCharacters.flatMap(z=>Object.values(z.equipped)).filter(z=>!!z);console.log("importClicked",t.availableCharacters,A),y.mergePartialRelicsWithState(A),gt.save()}function F(){for(const z of t.availableCharacters)y.addFromForm(z.form,!1);const A=t.availableCharacters.flatMap(z=>Object.values(z.equipped)).filter(z=>!!z);console.log("importCharactersClicked",t.availableCharacters,A),y.mergePartialRelicsWithState(A,t.availableCharacters),gt.save()}function E(){y.addFromForm(t.selectedCharacter.form,!1);const A=t.availableCharacters.flatMap(z=>Object.values(z.equipped)).filter(z=>!!z);console.log("importCharacterClicked",t.selectedCharacter,A),y.mergePartialRelicsWithState(A,[t.selectedCharacter]),gt.save()}async function P(){R(!0),setTimeout(()=>{x.screenshotElementById("relicScorerPreview","clipboard").finally(()=>{R(!1)})},100)}async function N(){S(!0),setTimeout(()=>{const A=t.selectedCharacter?m(`gameData:Characters.${t.selectedCharacter.id}.Name`):null;x.screenshotElementById("relicScorerPreview","download",A).finally(()=>{S(!1)})},100)}function k(A){if(A.custom)return T();D({characterId:A.characterId,lightCone:A.lightConeId,characterLevel:80,lightConeLevel:80,characterEidolon:0,lightConeSuperimposition:A.lightConeSuperimposition||1})}function B(){const A=t.selectedCharacter.form,z=A.characterId;I(),y.addFromForm(A),window.store.getState().setActiveKey(mt.OPTIMIZER),window.store.getState().setOptimizerTabFocusCharacter(z),setTimeout(()=>{const dt=x.clone(t.selectedCharacter.equipped),Yt=tt.getDisplayFormValues(A),vt={};for(const zt of Object.values(d.Parts))vt[zt]=[dt[zt]];RelicFilters.condenseRelicSubstatsForOptimizer(vt);const ft=Aa(Yt,dt);Y0(x.precisionRound(ft.SPD,3),z),setTimeout(()=>{window.optimizerStartClicked()},500)},1e3)}return a.jsx(f,{style:{width:1300,marginLeft:25},justify:"space-around",children:a.jsxs(f,{vertical:!0,align:"center",gap:5,style:{marginBottom:100,width:1068},children:[a.jsxs(f,{vertical:!0,style:{display:t.availableCharacters.length>0?"flex":"none",width:"100%"},children:[a.jsx(bS,{presetClicked:k,optimizeClicked:B,activeKey:e}),a.jsxs(f,{style:{display:t.availableCharacters.length>0?"flex":"none"},justify:"space-between",children:[a.jsx(w,{onClick:P,style:{width:225},icon:a.jsx(p0,{}),loading:u,type:"primary",children:m("CopyScreenshot")}),a.jsx(w,{style:{width:40},icon:a.jsx(cl,{}),onClick:N,loading:h}),a.jsxs(hi.Button,{onClick:I,style:{width:250},menu:C,children:[a.jsx(ni,{}),m("ImportLabels.Relics")]}),a.jsx(w,{icon:a.jsx(R0,{}),onClick:T,style:{width:280},children:m("SimulateRelics")}),a.jsx(w,{icon:a.jsx(S0,{}),onClick:B,style:{width:228},children:m("OptimizeOnCharacter")})]})]}),a.jsx(ki,{style:{width:"100%",overflow:"hidden"},options:G,block:!0,onChange:g,value:(st=t.selectedCharacter)==null?void 0:st.id}),a.jsx(f,{id:"previewWrapper",style:{padding:"5px",backgroundColor:i.colorBgBase},children:a.jsx(ds,{class:"relicScorerCharacterPreview",character:t.selectedCharacter,source:"scorer",id:"relicScorerPreview",setOriginalCharacterModalOpen:o,setOriginalCharacterModalInitialCharacter:r})}),a.jsx(rs,{onOk:D,open:s,setOpen:o,initialCharacter:c})]})})}vc.propTypes={availableCharacters:_.array,setAvailableCharacters:_.func,selectedCharacter:_.object,setSelectedCharacter:_.func};function bS(t){const[e,i]=L.useState(window.store.getState().savedSession[ae.relicScorerSidebarOpen]);L.useEffect(()=>{window.store.getState().setSavedSessionKey(ae.relicScorerSidebarOpen,e),setTimeout(()=>gt.save(),1e3)},[e]);const l=L.useMemo(()=>{let s=0;return a.jsx(f,{vertical:!0,gap:0,children:uS().map(o=>{const c=o.custom?a.jsx(ua,{component:Pi,style:{fontSize:85}}):a.jsx("img",{src:U.getCharacterAvatarById(o.characterId),style:{height:100,width:100,borderRadius:100,border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.05)"}});return a.jsx(w,{type:"text",style:{width:107,height:107,padding:5,paddingTop:2,marginLeft:-5,display:t.activeKey==mt.RELIC_SCORER?"flex":"none"},onClick:()=>t.presetClicked(o),children:c},s++)})})},[t]);return a.jsx(f,{vertical:!0,style:{position:"relative",left:-125,top:38,width:0,height:0},gap:5,children:a.jsx(hi,{dropdownRender:()=>l,open:e,children:a.jsx("a",{onClick:s=>{s.preventDefault(),i(!e)},children:a.jsx(w,{type:"primary",shape:"round",style:{height:100,width:100,borderRadius:50,marginBottom:5},children:a.jsx(ua,{component:R0,style:{fontSize:65}})})})})})}const hS=[{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"CRIT Rate",value:11.016,scoreMeta:{multiplier:1,score:22}},{stat:"CRIT DMG",value:10.367999999999999,scoreMeta:{multiplier:1,score:10.3}},{stat:"Effect RES",value:3.456,scoreMeta:{multiplier:0,score:0}},{stat:"Break Effect",value:5.183999999999999,scoreMeta:{multiplier:0,score:0}}],id:"cd85c14c-a662-4413-a149-a379e6d538d3",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"CRIT Rate":.11016,"CRIT DMG":.10367999999999998,"Effect RES":.03456,"Break Effect":.05183999999999999,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:32.3,ss:5.184,ds:5.183999999999999,cs:32.4,equippedBy:"1212",weightScore:42.767999999999994},{part:"Head",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:19.0518957},{stat:"HP%",value:12.096},{stat:"DEF%",value:14.580000000000002},{stat:"Effect RES",value:7.344}],id:"0bd7404f-3420-4bf5-9e45-f79343728685",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:19.0518957,"HP%":.12096,"DEF%":.1458,"Effect RES":.07344,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:46.656,ds:0,equippedBy:"1217",cs:0},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:35.9869141},{stat:"SPD",value:8},{stat:"CRIT Rate",value:2.916},{stat:"Effect RES",value:7.344}],id:"77ac4c85-21a7-4526-999a-6e54646dda6d",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:35.9869141,SPD:8,"CRIT Rate":.02916,"Effect RES":.07344,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:26.6,ss:31.816000000000003,ds:20.8,cs:26.632,weightScore:41.5581710950614},{part:"Head",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK%",value:4.32},{stat:"SPD",value:4},{stat:"CRIT Rate",value:10.367999999999999},{stat:"Effect RES",value:4.32}],id:"e898e418-bc4e-404d-be3f-2477dec9839a",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"ATK%":.0432,SPD:4,"CRIT Rate":.10367999999999998,"Effect RES":.0432,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:37.45,ss:16.880000000000003,ds:16.880000000000003,equippedBy:"1205",cs:31.135999999999996},{part:"Head",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:19.0518957},{stat:"CRIT Rate",value:8.424},{stat:"CRIT DMG",value:18.144},{stat:"Effect RES",value:8.208}],id:"eda5ede8-dfaa-4fa9-b2c2-17011ed0abe6",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:19.0518957,"CRIT Rate":.08424,"CRIT DMG":.18144,"Effect RES":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.900000000000006,ss:12.312000000000001,ds:0,equippedBy:"1102",cs:34.992},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:38.1037914},{stat:"DEF%",value:5.4},{stat:"CRIT Rate",value:2.916},{stat:"CRIT DMG",value:23.976}],id:"8de51c73-36b5-40ea-91a2-e566d97da2a9",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:38.1037914,"DEF%":.054000000000000006,"CRIT Rate":.02916,"CRIT DMG":.23976,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:29.7,ss:6.48,ds:0,equippedBy:"1101",cs:29.808,weightScore:41.00089936920223},{part:"Head",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK%",value:10.8},{stat:"DEF%",value:9.719999999999999},{stat:"SPD",value:2},{stat:"Break Effect",value:12.312}],id:"354bde06-a10b-4449-8365-16f0dcac7b88",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"ATK%":.10800000000000001,"DEF%":.0972,SPD:2,"Break Effect":.12312,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.400000000000002,ss:16.863999999999997,ds:33.712,equippedBy:"1005",cs:5.2},{part:"Head",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"HP%",value:3.456},{stat:"ATK%",value:7.776},{stat:"DEF%",value:10.26},{stat:"CRIT DMG",value:17.496000000000002}],id:"1e0de4ea-c1bf-4990-a0bd-739b1eea2e1d",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"HP%":.03456,"ATK%":.07776,"DEF%":.1026,"CRIT DMG":.17496000000000003,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.95,ss:17.496,ds:11.664,cs:17.496000000000002},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:40.2206687},{stat:"DEF",value:21.168773},{stat:"ATK%",value:12.096},{stat:"CRIT Rate",value:9.072}],id:"be226101-f443-4ea0-93e8-81813e48f692",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:40.2206687,DEF:21.168773,"ATK%":.12096,"CRIT Rate":.09072,"HP%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:36,ss:0,ds:18.144,cs:18.144,weightScore:43.34799806299142},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"HP%",value:12.528,scoreMeta:{multiplier:0,score:0}},{stat:"DEF%",value:9.719999999999999,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:5.832,scoreMeta:{multiplier:1,score:11.664}},{stat:"CRIT DMG",value:12.959999999999999,scoreMeta:{multiplier:1,score:12.959999999999999}}],id:"e30bce86-38ef-42db-9cea-58b18a94d4bc",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"HP%":.12528,"DEF%":.0972,"CRIT Rate":.05832,"CRIT DMG":.1296,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:30.456,ds:0,cs:24.624,weightScore:55.08},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK%",value:15.552},{stat:"DEF%",value:9.719999999999999},{stat:"SPD",value:2},{stat:"CRIT DMG",value:6.4799999999999995}],id:"01287db9-7fe8-49c9-b30e-907db3b6d0d0",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"ATK%":.15552,"DEF%":.0972,SPD:2,"CRIT DMG":.0648,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.85,ss:16.863999999999997,ds:28.528,cs:11.68,weightScore:46.655999999999985},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:19.0518957},{stat:"HP%",value:3.456},{stat:"SPD",value:6},{stat:"CRIT DMG",value:18.792}],id:"85c1d15d-a89e-4e08-ab91-29c09449eaf7",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:19.0518957,"HP%":.03456,SPD:6,"CRIT DMG":.18792,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.3,ss:20.784000000000002,ds:15.600000000000001,cs:34.392,weightScore:41.63197293267957},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"HP%",value:4.32},{stat:"DEF%",value:13.5},{stat:"CRIT Rate",value:8.748000000000001},{stat:"CRIT DMG",value:5.832}],id:"15153c3a-7c55-4f18-8b0f-5938ea3165a9",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"HP%":.0432,"DEF%":.135,"CRIT Rate":.08748000000000002,"CRIT DMG":.05832,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.2,ss:22.68,ds:0,cs:23.328000000000003,weightScore:46.008},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:38.1037914},{stat:"HP%",value:11.664},{stat:"CRIT Rate",value:6.156},{stat:"CRIT DMG",value:12.312}],id:"406b32a8-1a17-4a85-a9b2-f707bbb7d789",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:38.1037914,"HP%":.11664,"CRIT Rate":.06156,"CRIT DMG":.12312,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:17.496,ds:0,cs:24.624,weightScore:46.832899369202224},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"SPD",value:4},{stat:"CRIT DMG",value:23.976},{stat:"Effect Hit Rate",value:7.776},{stat:"Effect RES",value:3.888}],id:"32478990-1729-40f5-a85a-c6c448abf4e3",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,SPD:4,"CRIT DMG":.23976,"Effect Hit Rate":.07776,"Effect RES":.03888,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.3,ss:16.232,ds:22.064,cs:34.376,weightScore:51.839999999999996},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:16.9350184},{stat:"HP%",value:11.664},{stat:"SPD",value:4},{stat:"CRIT Rate",value:6.156}],id:"631dc239-48a5-4109-b4ad-57db6387e61a",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:16.9350184,"HP%":.11664,SPD:4,"CRIT Rate":.06156,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.6,ss:27.896,ds:10.4,cs:22.712,weightScore:42.27062194186765},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:38.1037914},{stat:"SPD",value:4},{stat:"CRIT DMG",value:11.016},{stat:"Effect RES",value:8.208}],id:"f02e66d8-7de8-4d81-97d1-3ea73fce4056",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:38.1037914,SPD:4,"CRIT DMG":.11016,"Effect RES":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.4,ss:22.712000000000003,ds:10.4,cs:21.416,weightScore:37.90394586535913},{part:"Head",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"DEF",value:33.8700368},{stat:"HP%",value:8.208},{stat:"CRIT Rate",value:5.832},{stat:"Effect Hit Rate",value:8.208}],id:"e3169778-e239-4cc6-b673-f02137df9378",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,DEF:33.8700368,"HP%":.08208,"CRIT Rate":.05832,"Effect Hit Rate":.08208,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.6,ss:12.312000000000001,ds:12.312000000000001,cs:11.664},{part:"Head",set:"Genius of Brilliant Stars",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:6.912},{stat:"ATK%",value:8.208},{stat:"CRIT Rate",value:5.183999999999999},{stat:"CRIT DMG",value:5.832}],id:"f5ca028c-ebfc-4a3f-86b9-92e8c191ca0f",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.06912,"ATK%":.08208,"CRIT Rate":.05183999999999999,"CRIT DMG":.05832,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.299999999999997,ss:10.368,ds:12.312000000000001,cs:16.2},{part:"Head",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:7.776},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect RES",value:7.776}],id:"712b4702-b22a-4e75-8921-1fe6dcca2f50",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.07776,"DEF%":.09180000000000002,"CRIT DMG":.0648,"Effect RES":.07776,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:6.4,ss:34.344,ds:0,cs:6.4799999999999995},{part:"Head",set:"Messenger Traversing Hackerspace",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:6.912},{stat:"ATK%",value:7.344},{stat:"SPD",value:2},{stat:"Break Effect",value:11.664}],id:"0ad72590-0a68-46b5-b2ba-1d7a45d77fd7",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.06912,"ATK%":.07344,SPD:2,"Break Effect":.11664,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.15,ss:15.568000000000001,ds:27.88,cs:5.2},{part:"Head",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"CRIT Rate",value:6.156},{stat:"CRIT DMG",value:16.848},{stat:"Effect RES",value:4.32},{stat:"Break Effect",value:6.4799999999999995}],id:"5e6a0316-5618-4e9e-8c7f-ae788edea454",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"CRIT Rate":.06156,"CRIT DMG":.16848,"Effect RES":.0432,"Break Effect":.0648,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:29,ss:6.48,ds:6.4799999999999995,cs:29.159999999999997},{part:"Head",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"ATK",value:40.2206687},{stat:"HP%",value:4.32},{stat:"CRIT DMG",value:12.312},{stat:"Effect Hit Rate",value:6.912}],id:"f8667a7d-7ba6-4e2f-931e-cbe2230b51bc",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,ATK:40.2206687,"HP%":.0432,"CRIT DMG":.12312,"Effect Hit Rate":.06912,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.3,ss:6.48,ds:10.368,cs:12.312},{part:"Head",set:"Band of Sizzling Thunder",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:4.32},{stat:"ATK%",value:3.456},{stat:"CRIT Rate",value:6.4799999999999995},{stat:"Effect Hit Rate",value:10.367999999999999}],id:"3a3dcda5-a6b0-4514-9aa3-5930e832aca5",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.0432,"ATK%":.03456,"CRIT Rate":.0648,"Effect Hit Rate":.10367999999999998,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.900000000000002,ss:6.48,ds:20.735999999999997,cs:12.959999999999999},{part:"Head",set:"Band of Sizzling Thunder",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"ATK",value:40.2206687},{stat:"HP%",value:3.888},{stat:"SPD",value:4},{stat:"CRIT Rate",value:9.072}],id:"75756842-66be-4ac6-bb65-70b51f222b0a",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,ATK:40.2206687,"HP%":.03888,SPD:4,"CRIT Rate":.09072,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.4,ss:16.232,ds:10.4,cs:28.543999999999997},{part:"Head",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:12.959999999999999},{stat:"Effect RES",value:7.344},{stat:"Break Effect",value:11.664}],id:"c4adf66e-d769-47be-bf6d-d22f94786308",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"CRIT Rate":.05832,"CRIT DMG":.1296,"Effect RES":.07344,"Break Effect":.11664,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:11.016,ds:11.664,cs:24.624},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.456,scoreMeta:{multiplier:0,score:0}},{stat:"SPD",value:4,scoreMeta:{multiplier:1,score:10.368}},{stat:"CRIT DMG",value:22.68,scoreMeta:{multiplier:1,score:22.6}},{stat:"Effect Hit Rate",value:3.456,scoreMeta:{multiplier:0,score:0}}],id:"798657c8-5c5c-4b44-9c5f-f5f094414289",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03456,SPD:4,"CRIT DMG":.2268,"Effect Hit Rate":.03456,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33,ss:15.584,ds:15.584,equippedBy:"1212",cs:33.08,weightScore:43.416},{part:"Hands",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:8.208},{stat:"ATK%",value:4.32},{stat:"CRIT DMG",value:17.496000000000002},{stat:"Effect RES",value:7.776}],id:"9b3f7f9b-b394-4c87-af67-0f4f7e41a6a8",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.08208,"ATK%":.0432,"CRIT DMG":.17496000000000003,"Effect RES":.07776,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.849999999999998,ss:23.976,ds:6.48,equippedBy:"1217",cs:17.496000000000002},{part:"Hands",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"SPD",value:7},{stat:"CRIT Rate",value:5.508},{stat:"CRIT DMG",value:11.664},{stat:"Effect Hit Rate",value:4.32}],id:"71b088e8-e254-4219-96d5-f56cde1702d3",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,SPD:7,"CRIT Rate":.05508,"CRIT DMG":.11664,"Effect Hit Rate":.0432,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:40.8,ss:18.2,ds:24.68,equippedBy:"1205",cs:40.879999999999995},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:38.1037941},{stat:"ATK%",value:7.776},{stat:"CRIT Rate",value:8.748000000000001},{stat:"CRIT DMG",value:12.312}],id:"d0b2b781-33dc-4029-b875-81ecbc659466",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:38.1037941,"ATK%":.07776,"CRIT Rate":.08748000000000002,"CRIT DMG":.12312,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:41.25,ss:0,ds:11.664,equippedBy:"1102",cs:29.808},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.456},{stat:"SPD",value:4},{stat:"CRIT DMG",value:17.496000000000002},{stat:"Effect RES",value:10.8}],id:"1c3f175d-c9db-4b42-aa7d-0ffb5f9f3cf4",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03456,SPD:4,"CRIT DMG":.17496000000000003,"Effect RES":.10800000000000001,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.799999999999997,ss:31.784000000000006,ds:10.4,cs:27.896,weightScore:49.248000000000005},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:38.1037941},{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:16.2},{stat:"Effect Hit Rate",value:8.208}],id:"9f2ab764-badb-4240-9b57-484fdab84ff7",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:38.1037941,"CRIT Rate":.05832,"CRIT DMG":.162,"Effect Hit Rate":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.799999999999997,ss:0,ds:12.312000000000001,cs:27.863999999999997},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:42.337549},{stat:"DEF",value:69.8569509},{stat:"ATK%",value:10.367999999999999},{stat:"CRIT Rate",value:2.5919999999999996}],id:"25966262-0749-4675-a5c3-7e701163e083",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:42.337549,DEF:69.8569509,"ATK%":.10367999999999998,"CRIT Rate":.025919999999999995,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:20.450000000000003,ss:0,ds:15.551999999999998,cs:5.183999999999999},{part:"Hands",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:42.337549},{stat:"ATK%",value:15.120000000000001},{stat:"CRIT DMG",value:11.664},{stat:"Break Effect",value:5.832}],id:"81a06240-1434-4b48-b7c4-cedbca15ff50",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:42.337549,"ATK%":.1512,"CRIT DMG":.11664,"Break Effect":.05832,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.25,ss:0,ds:28.512,equippedBy:"1005",cs:11.664},{part:"Hands",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF%",value:4.32},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:12.096},{stat:"Effect RES",value:7.776}],id:"24a8bb7d-4924-446c-8d8d-56b7d782ab70",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"DEF%":.0432,SPD:4,"Effect Hit Rate":.12096,"Effect RES":.07776,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:27.247999999999998,ds:28.543999999999997,cs:10.4},{part:"Hands",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.888},{stat:"ATK%",value:8.208},{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:9}],id:"039ac008-c1a4-453a-92d2-0aaece2fb9ca",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03888,"ATK%":.08208,"DEF%":.0486,SPD:9,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35.7,ss:35.064,ds:35.712,cs:23.400000000000002},{part:"Hands",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:42.337546},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:8.64},{stat:"Break Effect",value:12.959999999999999}],id:"0d95b359-89d2-4809-9f84-e0dc5794a367",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:42.337546,SPD:4,"Effect Hit Rate":.0864,"Break Effect":.1296,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:10.4,ds:36.32,cs:10.4},{part:"Hands",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.776},{stat:"ATK%",value:15.984000000000002},{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:5.183999999999999}],id:"19cb32c1-62e9-4a24-8b09-2e4d48056681",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07776,"ATK%":.15984,"CRIT Rate":.05832,"CRIT DMG":.05183999999999999,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:40.550000000000004,ss:11.664,ds:23.976000000000003,cs:16.848},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:38.1037914},{stat:"ATK%",value:3.888},{stat:"SPD",value:6},{stat:"CRIT Rate",value:5.508}],id:"58fd5666-2e8a-4a56-a675-5098c886ff87",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:38.1037914,"ATK%":.03888,SPD:6,"CRIT Rate":.05508,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:32.3,ss:15.600000000000001,ds:21.432000000000002,cs:26.616},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:55.0388098},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"CRIT DMG",value:11.016},{stat:"Effect RES",value:10.8}],id:"92158d7b-fd3a-462c-b4fd-2091b81286b2",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:55.0388098,"CRIT Rate":.025919999999999995,"CRIT DMG":.11016,"Effect RES":.10800000000000001,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16,ss:16.200000000000003,ds:0,cs:16.2},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.776},{stat:"CRIT Rate",value:5.183999999999999},{stat:"CRIT DMG",value:16.2},{stat:"Break Effect",value:10.367999999999999}],id:"26d1567a-3fe8-4c02-9874-80612a6fa4a7",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07776,"CRIT Rate":.05183999999999999,"CRIT DMG":.162,"Break Effect":.10367999999999998,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:26.4,ss:11.664,ds:10.367999999999999,cs:26.567999999999998,weightScore:48.599999999999994},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:40.2206687},{stat:"CRIT Rate",value:9.072},{stat:"CRIT DMG",value:5.832},{stat:"Break Effect",value:18.144}],id:"130a284c-8e10-40bf-9ba9-b3e56ac894b9",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:40.2206687,"CRIT Rate":.09072,"CRIT DMG":.05832,"Break Effect":.18144,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.8,ss:0,ds:18.144,cs:23.976,weightScore:47.09472711193568},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.344},{stat:"DEF%",value:9.719999999999999},{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:11.016}],id:"0bb9bf7e-5f26-496b-91ff-fa0087f1407b",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07344,"DEF%":.0972,"CRIT Rate":.05832,"CRIT DMG":.11016,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.6,ss:22.68,ds:0,cs:22.68,weightScore:45.35999999999999},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.776,scoreMeta:{multiplier:0,score:0}},{stat:"SPD",value:8,scoreMeta:{multiplier:1,score:20.736}},{stat:"CRIT DMG",value:6.4799999999999995,scoreMeta:{multiplier:1,score:6.4799999999999995}},{stat:"Effect Hit Rate",value:7.344,scoreMeta:{multiplier:0,score:0}}],id:"5b198c90-85fd-4baa-b44a-556f6e9d4d18",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07776,SPD:8,"CRIT DMG":.0648,"Effect Hit Rate":.07344,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.200000000000003,ss:32.464,ds:31.816000000000003,cs:27.28,weightScore:49.895999999999994},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:19.0518957},{stat:"CRIT Rate",value:5.183999999999999},{stat:"CRIT DMG",value:12.312},{stat:"Effect RES",value:10.8}],id:"85589ec4-df10-4cbc-b190-8a3fca0030b0",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:19.0518957,"CRIT Rate":.05183999999999999,"CRIT DMG":.12312,"Effect RES":.10800000000000001,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.5,ss:16.200000000000003,ds:0,cs:22.68,weightScore:41.23644968460111},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.456},{stat:"ATK%",value:7.776},{stat:"CRIT Rate",value:11.988},{stat:"Effect RES",value:3.888}],id:"467aa841-1d6b-4d13-8b7b-3f6d4c288367",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03456,"ATK%":.07776,"CRIT Rate":.11988,"Effect RES":.03888,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35.35,ss:11.016,ds:11.664,cs:23.976,weightScore:46.656},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"ATK%",value:8.64},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT DMG",value:12.312},{stat:"Break Effect",value:12.959999999999999}],id:"df9b4eda-ad97-4940-935e-a2094414414c",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"ATK%":.0864,"DEF%":.09180000000000002,"CRIT DMG":.12312,"Break Effect":.1296,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:25.2,ss:11.016000000000002,ds:25.92,cs:12.312,weightScore:49.248},{part:"Hands",set:"Guard of Wuthering Snow",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP%",value:3.888},{stat:"DEF%",value:4.32},{stat:"Effect Hit Rate",value:6.912},{stat:"Effect RES",value:10.8}],id:"605af0bc-ad64-46da-9681-e8889fa8d66d",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,"HP%":.03888,"DEF%":.0432,"Effect Hit Rate":.06912,"Effect RES":.10800000000000001,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:27.216,ds:10.368,cs:0},{part:"Hands",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP",value:71.9738333},{stat:"DEF",value:33.8700368},{stat:"HP%",value:12.959999999999999},{stat:"DEF%",value:4.32}],id:"67999399-0a5f-4a94-9267-32c42a7fbbe5",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,HP:71.9738333,DEF:33.8700368,"HP%":.1296,"DEF%":.0432,"ATK%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:24.624,ds:0,equippedBy:"1202",cs:0},{part:"Hands",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP%",value:16.416},{stat:"ATK%",value:7.776},{stat:"CRIT DMG",value:5.832},{stat:"Effect Hit Rate",value:3.456}],id:"2fa02060-e9c7-4910-bd20-c89864379aff",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,"HP%":.16416,"ATK%":.07776,"CRIT DMG":.05832,"Effect Hit Rate":.03456,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.35,ss:24.624000000000002,ds:16.848,cs:5.832},{part:"Hands",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"DEF",value:57.1556871},{stat:"ATK%",value:8.64},{stat:"CRIT Rate",value:3.2399999999999998},{stat:"CRIT DMG",value:5.183999999999999}],id:"5e67a642-be84-4d5d-b887-cc323b84e8c6",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,DEF:57.1556871,"ATK%":.0864,"CRIT Rate":.0324,"CRIT DMG":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.4,ss:0,ds:12.96,cs:11.663999999999998},{part:"Hands",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP",value:38.1037941},{stat:"SPD",value:6},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect RES",value:10.8}],id:"6f1373fd-b42f-4dc3-a562-9c44fbe8e1fb",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,HP:38.1037941,SPD:6,"CRIT DMG":.0648,"Effect RES":.10800000000000001,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22,ss:31.800000000000004,ds:15.600000000000001,cs:22.080000000000002},{part:"Hands",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP",value:42.337549},{stat:"SPD",value:2},{stat:"CRIT DMG",value:11.664},{stat:"Effect RES",value:12.096}],id:"63457d83-ec25-40dd-a1d1-04dda49a3740",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,HP:42.337549,SPD:2,"CRIT DMG":.11664,"Effect RES":.12096,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.8,ss:23.343999999999998,ds:5.2,cs:16.864},{part:"Hands",set:"Guard of Wuthering Snow",enhance:10,grade:3,main:{stat:"ATK",value:152.40960001200438},substats:[{stat:"HP",value:71},{stat:"HP%",value:8.2},{stat:"Effect Hit Rate",value:8.2},{stat:"Effect RES",value:3.8}],id:"d6aaf5a8-2351-4880-bcd6-0f7ceb011956",augmentedStats:{mainStat:"ATK",mainValue:152.40960001200438,HP:71,"HP%":.08199999999999999,"Effect Hit Rate":.08199999999999999,"Effect RES":.038,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:18,ds:12.299999999999999},{part:"Hands",set:"Musketeer of Wild Wheat",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.4},{stat:"DEF%",value:10.2},{stat:"Effect RES",value:7.3},{stat:"Break Effect",value:5.1}],id:"d61a533d-e721-4edb-99f4-787708a08132",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.034,"DEF%":.102,"Effect RES":.073,"Break Effect":.051,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:28.29,ds:5.1},{part:"Hands",set:"Passerby of Wandering Cloud",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP",value:42},{stat:"HP%",value:7.7},{stat:"CRIT Rate",value:5.5},{stat:"Effect Hit Rate",value:3.4}],id:"a75828e1-5e27-49ab-8bca-67e2e1fdd3ec",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,HP:42,"HP%":.077,"CRIT Rate":.055,"Effect Hit Rate":.034,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:11.55,ds:5.1000000000000005},{part:"Hands",set:"Guard of Wuthering Snow",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF",value:38},{stat:"DEF%",value:15.6},{stat:"CRIT Rate",value:2.9},{stat:"Effect Hit Rate",value:3.4}],id:"1c2a19ba-fb58-4ff6-9f4d-582c3db368ae",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,DEF:38,"DEF%":.156,"CRIT Rate":.028999999999999998,"Effect Hit Rate":.034,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.8,ss:18.72,ds:5.1000000000000005},{part:"Hands",set:"Band of Sizzling Thunder",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:8.6},{stat:"DEF%",value:4.3},{stat:"SPD",value:2},{stat:"Break Effect",value:11}],id:"30362d67-7152-4dd2-a57c-4408c0287b8e",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.086,"DEF%":.043,SPD:2,"Break Effect":.11,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.2,ss:23.259999999999998,ds:16.2},{part:"Hands",set:"Longevous Disciple",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.4},{stat:"DEF%",value:14.5},{stat:"CRIT DMG",value:6.4},{stat:"Effect Hit Rate",value:3.8}],id:"0a4f8d97-9ca4-452c-b872-3d19a9576b4c",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.034,"DEF%":.145,"CRIT DMG":.064,"Effect Hit Rate":.038,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:6.4,ss:22.5,ds:5.699999999999999},{part:"Hands",set:"Band of Sizzling Thunder",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.8},{stat:"ATK%",value:3.4},{stat:"Effect Hit Rate",value:12},{stat:"Break Effect",value:5.8}],id:"4e512372-e8b0-456e-a37e-8080445edfed",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.038,"ATK%":.034,"Effect Hit Rate":.12,"Break Effect":.057999999999999996,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:5.699999999999999,ds:28.900000000000002},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF",value:21.5921488},{stat:"SPD",value:2},{stat:"CRIT Rate",value:5.8},{stat:"Effect RES",value:7.3}],id:"c128854c-b34e-4a05-acdc-5179534bf55f",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,DEF:21.5921488,SPD:2,"CRIT Rate":.057999999999999996,"Effect RES":.073,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:16.8,ss:16.15,ds:5.2},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP",value:71},{stat:"ATK%",value:3.8},{stat:"DEF%",value:4.8},{stat:"CRIT Rate",value:5.5}],id:"9e27d180-01ec-4b06-86fc-cd7cb7868724",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,HP:71,"ATK%":.038,"DEF%":.048,"CRIT Rate":.055,"HP%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:5.76,ds:5.699999999999999},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF%",value:5.4},{stat:"SPD",value:4},{stat:"CRIT DMG",value:5.8},{stat:"Effect RES",value:8.2}],id:"8ed0420b-66e4-4b5e-83d0-6aa75db77e5d",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"DEF%":.054000000000000006,SPD:4,"CRIT DMG":.057999999999999996,"Effect RES":.08199999999999999,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:16.2,ss:29.18,ds:10.4},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.4},{stat:"ATK%",value:3.8},{stat:"DEF%",value:9.7},{stat:"CRIT Rate",value:5.8}],id:"0d3e87b1-c8de-4a05-a817-4e1e59f0281f",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.034,"ATK%":.038,"DEF%":.09699999999999999,"CRIT Rate":.057999999999999996,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11.6,ss:16.74,ds:5.699999999999999},{part:"Hands",set:"Passerby of Wandering Cloud",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF",value:16},{stat:"HP%",value:4.3},{stat:"DEF%",value:15.1},{stat:"Break Effect",value:6.4}],id:"98fdd38c-9f98-41b4-ba20-9b9333a4ed22",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,DEF:16,"HP%":.043,"DEF%":.151,"Break Effect":.064,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:24.569999999999997,ds:6.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:114.3113823,scoreMeta:{multiplier:0,score:0}},{stat:"ATK%",value:7.344,scoreMeta:{multiplier:.75,score:8.212499999999999}},{stat:"DEF%",value:4.32,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:8.1,scoreMeta:{multiplier:1,score:16.2}}],id:"b3376a19-62f9-489e-80e6-8f98335af158",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:114.3113823,"ATK%":.07344,"DEF%":.0432,"CRIT Rate":.081,"HP%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.15,ss:5.184,ds:11.016,equippedBy:"1212",cs:16.2,weightScore:38.37073442122549},{part:"Body",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"Outgoing Healing Boost",value:34.5606000395488},substats:[{stat:"DEF",value:21.5921488},{stat:"DEF%",value:14.04},{stat:"Effect RES",value:7.776},{stat:"Break Effect",value:11.664}],id:"0241587d-bbff-4ffb-b93c-d201728d1c0b",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.345606000395488,DEF:21.5921488,"DEF%":.1404,"Effect RES":.07776,"Break Effect":.11664,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:28.512,ds:11.664},{part:"Body",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:139.7139117},{stat:"DEF%",value:4.32},{stat:"SPD",value:4},{stat:"Break Effect",value:5.832}],id:"7cdd90c6-73fc-4a5f-9cea-6458d5e6f456",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:139.7139117,"DEF%":.0432,SPD:4,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:15.584,ds:16.232,equippedBy:"1205",cs:10.4},{part:"Body",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"CRIT Rate",value:32.399999862536205},substats:[{stat:"ATK%",value:12.096},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:6.912},{stat:"Break Effect",value:5.183999999999999}],id:"4b8dafeb-6f5a-410c-bcbc-4caaef116af2",augmentedStats:{mainStat:"CRIT Rate",mainValue:.32399999862536205,"ATK%":.12096,SPD:4,"Effect Hit Rate":.06912,"Break Effect":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.4,ss:10.4,ds:44.096,equippedBy:"1102",cs:10.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:71.9738333},{stat:"DEF",value:21.5921488},{stat:"SPD",value:5},{stat:"Break Effect",value:17.496000000000002}],id:"1717f468-9cb4-495a-b20d-57f69205b5f6",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:71.9738333,DEF:21.5921488,SPD:5,"Break Effect":.17496000000000003,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:13,ss:13,ds:30.496000000000002,weightScore:36.885994320187535},{part:"Body",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:110.0776274},{stat:"ATK%",value:8.64},{stat:"CRIT Rate",value:6.156},{stat:"Break Effect",value:5.832}],id:"3e94d21f-f47c-4dba-8470-8eaf4b8624e9",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:110.0776274,"ATK%":.0864,"CRIT Rate":.06156,"Break Effect":.05832,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:25.099999999999998,ss:0,ds:18.792,cs:12.312},{part:"Body",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:71.9738333},{stat:"DEF%",value:9.180000000000001},{stat:"SPD",value:4},{stat:"Break Effect",value:12.312}],id:"dd7d21eb-5a85-466e-a7a3-98fc6f63e546",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:71.9738333,"DEF%":.09180000000000002,SPD:4,"Break Effect":.12312,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:21.416000000000004,ds:22.712,equippedBy:"1005",cs:10.4},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP%",value:8.64},{stat:"ATK%",value:7.776},{stat:"DEF%",value:10.26},{stat:"Effect Hit Rate",value:12.528}],id:"29f91de6-5c70-4e10-90e1-cf79888932d6",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,"HP%":.0864,"ATK%":.07776,"DEF%":.1026,"Effect Hit Rate":.12528,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.55,ss:25.272,ds:30.456000000000003,cs:0},{part:"Body",set:"Eagle of Twilight Line",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP%",value:11.232000000000001},{stat:"SPD",value:2},{stat:"CRIT Rate",value:6.4799999999999995},{stat:"Effect RES",value:7.344}],id:"b41c1519-2f34-4701-9d04-2c54cbfa8a3f",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,"HP%":.11232000000000002,SPD:2,"CRIT Rate":.0648,"Effect RES":.07344,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:18.16,ss:33.06400000000001,ds:5.2},{part:"Body",set:"Eagle of Twilight Line",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"HP",value:76.2075882},{stat:"DEF%",value:4.32},{stat:"SPD",value:6},{stat:"CRIT DMG",value:12.312}],id:"834292d9-899b-42a7-84b1-82f663bc007d",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,HP:76.2075882,"DEF%":.0432,SPD:6,"CRIT DMG":.12312,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.900000000000002,ss:20.784000000000002,ds:15.600000000000001,cs:27.912},{part:"Body",set:"Guard of Wuthering Snow",enhance:15,grade:5,main:{stat:"Outgoing Healing Boost",value:34.5606000395488},substats:[{stat:"HP%",value:7.344},{stat:"DEF%",value:10.26},{stat:"Effect Hit Rate",value:3.456},{stat:"Effect RES",value:12.096}],id:"9a5915a8-e547-47aa-9ff1-fd907341a6c3",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.345606000395488,"HP%":.07344,"DEF%":.1026,"Effect Hit Rate":.03456,"Effect RES":.12096,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:41.471999999999994,ds:5.184,cs:0},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:67.7400784},{stat:"ATK%",value:7.776},{stat:"CRIT Rate",value:5.832},{stat:"Break Effect",value:16.848}],id:"b1006c27-f93f-4965-911b-4a934cd41021",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:67.7400784,"ATK%":.07776,"CRIT Rate":.05832,"Break Effect":.16848,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.15,ss:0,ds:28.512,cs:11.664,weightScore:43.71421299035585},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"ATK%",value:7.776,scoreMeta:{multiplier:.75,score:8.748}},{stat:"CRIT Rate",value:6.156,scoreMeta:{multiplier:1,score:12.312}},{stat:"Effect RES",value:7.344,scoreMeta:{multiplier:0,score:0}},{stat:"Break Effect",value:12.312,scoreMeta:{multiplier:0,score:0}}],id:"a8d2e198-7d41-4251-91ef-f7259ff39df4",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,"ATK%":.07776,"CRIT Rate":.06156,"Effect RES":.07344,"Break Effect":.12312,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.75,ss:11.016,ds:23.976,cs:12.312,weightScore:47.303999999999995},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"ATK",value:19.0518957},{stat:"DEF",value:40.2206687},{stat:"HP%",value:15.984000000000002},{stat:"CRIT Rate",value:2.916}],id:"f3177930-819d-4e84-8818-adc97455f734",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,ATK:19.0518957,DEF:40.2206687,"HP%":.15984,"CRIT Rate":.02916,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.8,ss:23.976000000000003,ds:0,cs:5.832,weightScore:36.886700044615246},{part:"Body",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"Outgoing Healing Boost",value:34.5606000395488},substats:[{stat:"HP",value:38.1037941},{stat:"SPD",value:9},{stat:"CRIT DMG",value:12.312},{stat:"Effect RES",value:3.456}],id:"725e6ee5-9465-45a2-8172-ed69241c1e54",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.345606000395488,HP:38.1037941,SPD:9,"CRIT DMG":.12312,"Effect RES":.03456,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35.7,ss:28.584000000000003,ds:23.400000000000002,equippedBy:"1217",cs:35.712},{part:"Body",set:"Guard of Wuthering Snow",enhance:14,grade:5,main:{stat:"CRIT DMG",value:61.1712006619205},substats:[{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:4},{stat:"Effect RES",value:11.232000000000001},{stat:"Break Effect",value:5.832}],id:"79f1d0f3-741b-4430-9685-87e29267e01d",augmentedStats:{mainStat:"CRIT DMG",mainValue:.611712006619205,"DEF%":.0486,SPD:4,"Effect RES":.11232000000000002,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:10.4,ss:33.08,ds:16.232},{part:"Body",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"Outgoing Healing Boost",value:28.7544000428167},substats:[{stat:"HP",value:38.1037941},{stat:"ATK",value:35.9869141},{stat:"ATK%",value:8.64},{stat:"SPD",value:4}],id:"0b4bdbc7-dac3-4648-bd6f-631d6750a5b5",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.287544000428167,HP:38.1037941,ATK:35.9869141,"ATK%":.0864,SPD:4,"HP%":0,"DEF%":0,"SPD%":0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.299999999999997,ss:10.4,ds:23.36,cs:10.4},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:12,grade:5,main:{stat:"HP%",value:35.9424005728218},substats:[{stat:"SPD",value:4},{stat:"CRIT Rate",value:5.508},{stat:"CRIT DMG",value:11.664},{stat:"Break Effect",value:6.4799999999999995}],id:"fb53d114-66ea-4014-9ef6-7dc4519cc4e1",augmentedStats:{mainStat:"HP%",mainValue:.35942400572821803,SPD:4,"CRIT Rate":.05508,"CRIT DMG":.11664,"Break Effect":.0648,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33,ss:10.4,ds:16.88,cs:33.08},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:12,grade:5,main:{stat:"HP%",value:35.9424005728218},substats:[{stat:"HP",value:105.8438725},{stat:"SPD",value:4},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect Hit Rate",value:4.32}],id:"45ad26f9-f51b-4ca6-960b-b0db7edb5087",augmentedStats:{mainStat:"HP%",mainValue:.35942400572821803,HP:105.8438725,SPD:4,"CRIT DMG":.0648,"Effect Hit Rate":.0432,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.8,ss:10.4,ds:16.880000000000003,cs:16.88},{part:"Body",set:"Champion of Streetwise Boxing",enhance:12,grade:5,main:{stat:"CRIT DMG",value:53.913600579835894},substats:[{stat:"HP%",value:4.32},{stat:"ATK%",value:8.208},{stat:"CRIT Rate",value:5.508},{stat:"Break Effect",value:10.367999999999999}],id:"3f8b30aa-4c91-4677-af83-8906d7d968d9",augmentedStats:{mainStat:"CRIT DMG",mainValue:.539136005798359,"HP%":.0432,"ATK%":.08208,"CRIT Rate":.05508,"Break Effect":.10367999999999998,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.299999999999997,ss:6.48,ds:22.68,cs:11.016},{part:"Body",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"CRIT DMG",value:53.913600579835894},substats:[{stat:"HP",value:110.0776274},{stat:"DEF",value:38.1037914},{stat:"ATK%",value:3.456},{stat:"CRIT Rate",value:3.2399999999999998}],id:"c23bb26b-ccb0-4318-ae7b-a8aec9ef0db1",augmentedStats:{mainStat:"CRIT DMG",mainValue:.539136005798359,HP:110.0776274,DEF:38.1037914,"ATK%":.03456,"CRIT Rate":.0324,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.5,ss:0,ds:5.184,cs:6.4799999999999995},{part:"Body",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"DEF%",value:44.9280005414036},substats:[{stat:"ATK%",value:3.888},{stat:"SPD",value:6},{stat:"Effect Hit Rate",value:7.344},{stat:"Break Effect",value:12.959999999999999}],id:"3147142d-dd65-4524-85ff-2535a61bd342",augmentedStats:{mainStat:"DEF%",mainValue:.449280005414036,"ATK%":.03888,SPD:6,"Effect Hit Rate":.07344,"Break Effect":.1296,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.3,ss:15.600000000000001,ds:45.408,cs:15.600000000000001},{part:"Body",set:"Knight of Purity Palace",enhance:12,grade:4,main:{stat:"DEF%",value:35.9424005728218},substats:[{stat:"DEF",value:28.789534},{stat:"ATK%",value:6.5664},{stat:"SPD",value:1},{stat:"Effect Hit Rate",value:6.912}],id:"c85f95b4-28af-4519-8992-bd274ed268f1",augmentedStats:{mainStat:"DEF%",mainValue:.35942400572821803,DEF:28.789534,"ATK%":.065664,SPD:1,"Effect Hit Rate":.06912,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.35,ss:2.6,ds:22.8176,cs:2.6},{part:"Body",set:"Musketeer of Wild Wheat",enhance:12,grade:4,main:{stat:"HP%",value:28.7544000428167},substats:[{stat:"HP",value:30.4830351},{stat:"DEF%",value:12.096},{stat:"SPD",value:3},{stat:"Break Effect",value:4.1472}],id:"cd8b362d-24e4-4427-b09e-2666c1fb97b4",augmentedStats:{mainStat:"HP%",mainValue:.287544000428167,HP:30.4830351,"DEF%":.12096,SPD:3,"Break Effect":.041471999999999995,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:7.800000000000001,ss:22.3152,ds:11.9472,equippedBy:"1202",cs:7.800000000000001},{part:"Body",set:"Passerby of Wandering Cloud",enhance:12,grade:4,main:{stat:"Outgoing Healing Boost",value:23.003300675190395},substats:[{stat:"HP%",value:2.7647999999999997},{stat:"ATK%",value:3.1104},{stat:"SPD",value:3},{stat:"CRIT DMG",value:14.5152}],id:"05045a76-0f4c-4ad8-8997-878b60b2d226",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.23003300675190397,"HP%":.027647999999999995,"ATK%":.031104,SPD:3,"CRIT DMG":.145152,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:26.95,ss:11.9472,ds:12.4656,cs:22.3152},{part:"Body",set:"Guard of Wuthering Snow",enhance:9,grade:3,main:{stat:"DEF%",value:21.5135999489572},substats:[{stat:"DEF",value:40},{stat:"HP%",value:3.4},{stat:"ATK%",value:4.3},{stat:"CRIT Rate",value:5.8}],id:"6be4a25d-b557-44a5-9176-12499975ba72",augmentedStats:{mainStat:"DEF%",mainValue:.215135999489572,DEF:40,"HP%":.034,"ATK%":.043,"CRIT Rate":.057999999999999996,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11.6,ss:5.1000000000000005,ds:6.449999999999999},{part:"Body",set:"Genius of Brilliant Stars",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"ATK",value:35},{stat:"HP%",value:7.7},{stat:"SPD",value:2},{stat:"Effect Hit Rate",value:3.4}],id:"c1257f42-d466-4cc6-ac37-a164be4efd1b",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,ATK:35,"HP%":.077,SPD:2,"Effect Hit Rate":.034,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.2,ss:16.75,ds:10.3},{part:"Body",set:"Genius of Brilliant Stars",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"ATK",value:38},{stat:"DEF",value:21.5921488},{stat:"DEF%",value:5.4},{stat:"SPD",value:6}],id:"5629890a-6aec-4990-851c-74532f2f37af",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,ATK:38,DEF:21.5921488,"DEF%":.054000000000000006,SPD:6,"HP%":0,"ATK%":0,"SPD%":0,HP:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:15.600000000000001,ss:22.080000000000002,ds:15.600000000000001},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:9,grade:3,main:{stat:"CRIT DMG",value:25.8165008621286},substats:[{stat:"HP%",value:3.8},{stat:"DEF%",value:9.1},{stat:"SPD",value:4},{stat:"CRIT Rate",value:2.9}],id:"8b8127ed-1513-4b8e-bfc5-e2f6ae07f501",augmentedStats:{mainStat:"CRIT DMG",mainValue:.258165008621286,"HP%":.038,"DEF%":.091,SPD:4,"CRIT Rate":.028999999999999998,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:16.2,ss:27.019999999999996,ds:10.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"CRIT Rate",value:12.9078010562808},substats:[{stat:"ATK",value:35},{stat:"DEF",value:42},{stat:"CRIT DMG",value:6.4},{stat:"Break Effect",value:6.4}],id:"ca9148ab-988c-4e5f-b24d-36336521b584",augmentedStats:{mainStat:"CRIT Rate",mainValue:.129078010562808,ATK:35,DEF:42,"CRIT DMG":.064,"Break Effect":.064,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:6.4,ss:0,ds:6.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"CRIT DMG",value:25.8165008621286},substats:[{stat:"HP",value:33},{stat:"ATK",value:33},{stat:"ATK%",value:3.4},{stat:"Break Effect",value:12.3}],id:"9bc3914c-ef10-492c-b9dc-20b9bbb53678",augmentedStats:{mainStat:"CRIT DMG",mainValue:.258165008621286,HP:33,ATK:33,"ATK%":.034,"Break Effect":.12300000000000001,"HP%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:0,ds:17.400000000000002},{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:21.168773,scoreMeta:{multiplier:.75,score:1.7533107772329706}},{stat:"ATK%",value:11.664,scoreMeta:{multiplier:.75,score:13.121999999999996}},{stat:"DEF%",value:4.859999999999999,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT DMG",value:17.496000000000002,scoreMeta:{multiplier:1,score:17.496000000000002}}],id:"92c53d06-80d0-43a8-b896-2feeda419674",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:21.168773,"ATK%":.11664,"DEF%":.0486,"CRIT DMG":.17496000000000003,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.8,ss:5.831999999999999,ds:17.496,equippedBy:"1212",cs:17.496000000000002,weightScore:43.161747702977294},{part:"Feet",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:148.1814215},{stat:"ATK%",value:6.912},{stat:"Effect Hit Rate",value:3.888},{stat:"Break Effect",value:5.183999999999999}],id:"f8d42acd-c848-484a-9eee-d03a7b88f030",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:148.1814215,"ATK%":.06912,"Effect Hit Rate":.03888,"Break Effect":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.350000000000001,ss:0,ds:21.384,equippedBy:"1217",cs:0},{part:"Feet",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:38.1037914},{stat:"DEF",value:21.168773},{stat:"HP%",value:16.848},{stat:"CRIT DMG",value:5.183999999999999}],id:"726e7b1f-f630-4182-ac11-1e8523a33fc1",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:38.1037914,DEF:21.168773,"HP%":.16848,"CRIT DMG":.05183999999999999,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1,ss:25.272,ds:0,equippedBy:"1205",cs:5.183999999999999},{part:"Feet",set:"Musketeer of Wild Wheat",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:38.1037941},{stat:"HP%",value:8.208},{stat:"ATK%",value:11.664},{stat:"Effect Hit Rate",value:11.232000000000001}],id:"ac206198-c5b1-4be7-8dda-0d7b85e1aabf",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:38.1037941,"HP%":.08208,"ATK%":.11664,"Effect Hit Rate":.11232000000000002,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.4,ss:12.312000000000001,ds:34.344,equippedBy:"1202",cs:0},{part:"Feet",set:"Musketeer of Wild Wheat",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:76.2075882},{stat:"ATK",value:38.1037914},{stat:"Effect RES",value:7.776},{stat:"Break Effect",value:12.312}],id:"ad67f0ac-1c0e-4869-8855-3718b601447b",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:76.2075882,ATK:38.1037914,"Effect RES":.07776,"Break Effect":.12312,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.664,ds:12.312,cs:0},{part:"Feet",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF",value:38.1037914},{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:9},{stat:"CRIT DMG",value:11.664}],id:"9d68a932-b623-4ac7-bd0a-7c54779b64fb",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,DEF:38.1037914,"DEF%":.0486,SPD:9,"CRIT DMG":.11664,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35,ss:29.232,ds:23.400000000000002,equippedBy:"1102",cs:35.064},{part:"Feet",set:"Eagle of Twilight Line",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:84.675098},{stat:"HP%",value:4.32},{stat:"DEF%",value:5.4},{stat:"Effect RES",value:16.416}],id:"dd1bb72d-80f3-432c-b8d9-0b62c7790b9a",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:84.675098,"HP%":.0432,"DEF%":.054000000000000006,"Effect RES":.16416,"ATK%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:37.584,ds:0,equippedBy:"1101",cs:0},{part:"Feet",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF%",value:9.180000000000001},{stat:"SPD",value:2},{stat:"CRIT Rate",value:11.016},{stat:"CRIT DMG",value:12.312}],id:"a615dc2f-c26d-4f13-8c92-0b2c746e0f3f",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,"DEF%":.09180000000000002,SPD:2,"CRIT Rate":.11016,"CRIT DMG":.12312,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:39.5,ss:16.216,ds:5.2,cs:39.544000000000004},{part:"Feet",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"DEF",value:16.9350184},{stat:"ATK%",value:4.32},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"Effect RES",value:19.872}],id:"53a00fa5-22a9-40bc-948b-8469d6e248ec",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,DEF:16.9350184,"ATK%":.0432,"CRIT Rate":.025919999999999995,"Effect RES":.19872,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.45,ss:29.808,ds:6.48,equippedBy:"1005",cs:5.183999999999999},{part:"Feet",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:33.8700368},{stat:"ATK%",value:7.344},{stat:"DEF%",value:19.439999999999998},{stat:"CRIT Rate",value:2.916}],id:"76603793-39c6-477f-9874-194d66f8ae88",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:33.8700368,"ATK%":.07344,"DEF%":.1944,"CRIT Rate":.02916,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.75,ss:23.327999999999996,ds:11.016,cs:5.832},{part:"Feet",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:156.6489313},{stat:"DEF%",value:5.4},{stat:"SPD",value:7},{stat:"Break Effect",value:5.832}],id:"5ba46dc3-191b-4a37-9781-bcaa1adf7f0d",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:156.6489313,"DEF%":.054000000000000006,SPD:7,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18.2,ss:24.68,ds:24.032,cs:18.2},{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"ATK",value:16.9350184},{stat:"DEF",value:19.0518957},{stat:"SPD",value:4},{stat:"CRIT DMG",value:22.68}],id:"af5b9fae-fdcc-4b11-bf4a-0ce3bd832648",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,ATK:16.9350184,DEF:19.0518957,SPD:4,"CRIT DMG":.2268,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33,ss:10.4,ds:10.4,cs:33.08},{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:40.2206687},{stat:"ATK%",value:3.888},{stat:"CRIT Rate",value:8.424},{stat:"Break Effect",value:11.016}],id:"01eca278-3dec-4b6a-bb39-e199603423f3",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:40.2206687,"ATK%":.03888,"CRIT Rate":.08424,"Break Effect":.11016,"HP%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.5,ss:0,ds:16.848,cs:16.848,weightScore:38.137720635656855},{part:"Feet",set:"Genius of Brilliant Stars",enhance:12,grade:5,main:{stat:"SPD",value:20.832000004360452},substats:[{stat:"ATK%",value:3.456},{stat:"DEF%",value:10.8},{stat:"Effect Hit Rate",value:7.776},{stat:"Break Effect",value:11.664}],id:"d348e2e3-87f5-4782-81db-1478c1ab2901",augmentedStats:{mainStat:"SPD",mainValue:20.832000004360452,"ATK%":.03456,"DEF%":.10800000000000001,"Effect Hit Rate":.07776,"Break Effect":.11664,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1000000000000005,ss:12.96,ds:28.512,cs:0},{part:"Feet",set:"Guard of Wuthering Snow",enhance:12,grade:4,main:{stat:"SPD",value:16.42560000135563},substats:[{stat:"ATK",value:28.789534},{stat:"DEF%",value:7.344},{stat:"Effect Hit Rate",value:3.456},{stat:"Effect RES",value:2.7647999999999997}],id:"4fa7cb12-80ac-43af-ae67-cec01b31208d",augmentedStats:{mainStat:"SPD",mainValue:16.42560000135563,ATK:28.789534,"DEF%":.07344,"Effect Hit Rate":.03456,"Effect RES":.027647999999999995,"HP%":0,"ATK%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:12.959999999999999,ds:5.184,cs:0},{part:"Feet",set:"Passerby of Wandering Cloud",enhance:12,grade:4,main:{stat:"SPD",value:16.42560000135563},substats:[{stat:"ATK%",value:9.6768},{stat:"Effect Hit Rate",value:2.7647999999999997},{stat:"Effect RES",value:3.456},{stat:"Break Effect",value:5.183999999999999}],id:"120c957e-4880-4fd7-a1a9-33fd9e5b5b74",augmentedStats:{mainStat:"SPD",mainValue:16.42560000135563,"ATK%":.096768,"Effect Hit Rate":.027647999999999995,"Effect RES":.03456,"Break Effect":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:14.399999999999999,ss:5.184,ds:23.846399999999996,cs:0},{part:"Feet",set:"Guard of Wuthering Snow",enhance:9,grade:3,main:{stat:"DEF%",value:21.5135999489572},substats:[{stat:"HP",value:38},{stat:"DEF",value:57},{stat:"HP%",value:4.3},{stat:"CRIT Rate",value:3.2}],id:"685b8eec-9f29-4213-b26e-7fc46ce17f43",augmentedStats:{mainStat:"DEF%",mainValue:.215135999489572,HP:38,DEF:57,"HP%":.043,"CRIT Rate":.032,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:6.4,ss:6.449999999999999,ds:0},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"SPD",value:11.419199999887496},substats:[{stat:"HP%",value:8.6},{stat:"ATK%",value:3.4},{stat:"CRIT Rate",value:6.1},{stat:"Effect Hit Rate",value:7.7}],id:"a616f8ad-8b70-43f9-a877-ec33ba60d6e8",augmentedStats:{mainStat:"SPD",mainValue:11.419199999887496,"HP%":.086,"ATK%":.034,"CRIT Rate":.061,"Effect Hit Rate":.077,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:12.2,ss:12.899999999999999,ds:16.650000000000002},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"DEF%",value:4.8},{stat:"CRIT Rate",value:5.5},{stat:"Effect Hit Rate",value:3.4},{stat:"Effect RES",value:7.3}],id:"578c0fdb-8976-4408-9271-fe43ce0afc5d",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,"DEF%":.048,"CRIT Rate":.055,"Effect Hit Rate":.034,"Effect RES":.073,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:16.71,ds:5.1000000000000005},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"SPD",value:11.419199999887496},substats:[{stat:"HP",value:33},{stat:"ATK",value:21.5921488},{stat:"CRIT Rate",value:6.1},{stat:"Effect RES",value:8.2}],id:"620a1f8e-ba95-47d9-99c1-8fd7713c7b10",augmentedStats:{mainStat:"SPD",mainValue:11.419199999887496,HP:33,ATK:21.5921488,"CRIT Rate":.061,"Effect RES":.08199999999999999,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:12.2,ss:12.299999999999999,ds:0},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"HP",value:38},{stat:"HP%",value:12.5},{stat:"SPD",value:5},{stat:"CRIT Rate",value:3.2}],id:"fe8aca62-7935-4897-ad02-fae126b720b1",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,HP:38,"HP%":.125,SPD:5,"CRIT Rate":.032,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:19.4,ss:31.75,ds:13},{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Ice DMG Boost",value:38.8803014298894},substats:[{stat:"DEF",value:74.0907055,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:5.508,scoreMeta:{multiplier:1,score:11.016}},{stat:"CRIT DMG",value:12.312,scoreMeta:{multiplier:1,score:12.312}},{stat:"Effect Hit Rate",value:4.32,scoreMeta:{multiplier:0,score:0}}],id:"80abbd56-b1a0-4587-a349-754c33627217",augmentedStats:{mainStat:"Ice DMG Boost",mainValue:.388803014298894,DEF:74.0907055,"CRIT Rate":.05508,"CRIT DMG":.12312,"Effect Hit Rate":.0432,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.3,ss:0,ds:6.48,equippedBy:"1212",cs:23.328,weightScore:38.97197099567099},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"ATK%",value:12.096},{stat:"DEF%",value:4.32},{stat:"Effect Hit Rate",value:4.32},{stat:"Break Effect",value:17.496000000000002}],id:"f89266f4-241e-43bc-b04a-a864eea60e49",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,"ATK%":.12096,"DEF%":.0432,"Effect Hit Rate":.0432,"Break Effect":.17496000000000003,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18,ss:5.184,ds:42.120000000000005,equippedBy:"1217",cs:0},{part:"PlanarSphere",set:"Broken Keel",enhance:15,grade:5,main:{stat:"DEF%",value:54.0000006789338},substats:[{stat:"HP%",value:8.208},{stat:"ATK%",value:3.888},{stat:"SPD",value:4},{stat:"Effect RES",value:11.664}],id:"16f7f4d9-5734-401f-b14f-2a74eaec9dcc",augmentedStats:{mainStat:"DEF%",mainValue:.540000006789338,"HP%":.08208,"ATK%":.03888,SPD:4,"Effect RES":.11664,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.1,ss:40.208,ds:16.232,cs:10.4},{part:"PlanarSphere",set:"Inert Salsotto",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"ATK",value:19.0518957},{stat:"CRIT Rate",value:6.4799999999999995},{stat:"CRIT DMG",value:17.496000000000002},{stat:"Effect RES",value:7.776}],id:"9714ef68-45e7-4f62-81f2-b437649d3a49",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,ATK:19.0518957,"CRIT Rate":.0648,"CRIT DMG":.17496000000000003,"Effect RES":.07776,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:30.2,ss:11.664,ds:0,equippedBy:"1205",cs:30.456000000000003},{part:"PlanarSphere",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"Physical DMG Boost",value:38.8803014298894},substats:[{stat:"SPD",value:2},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"CRIT DMG",value:23.328},{stat:"Effect RES",value:7.776}],id:"2340f351-b46e-4e11-87a2-732c5c887941",augmentedStats:{mainStat:"Physical DMG Boost",mainValue:.388803014298894,SPD:2,"CRIT Rate":.025919999999999995,"CRIT DMG":.23328,"Effect RES":.07776,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33.5,ss:16.864,ds:5.2,cs:33.712},{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Quantum DMG Boost",value:38.8803014298894},substats:[{stat:"ATK%",value:7.776},{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:4},{stat:"CRIT DMG",value:18.144}],id:"4806d951-5a01-48bb-876f-5368059a674d",augmentedStats:{mainStat:"Quantum DMG Boost",mainValue:.388803014298894,"ATK%":.07776,"DEF%":.0486,SPD:4,"CRIT DMG":.18144,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:40.050000000000004,ss:16.232,ds:22.064,equippedBy:"1102",cs:28.543999999999997},{part:"PlanarSphere",set:"Broken Keel",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"DEF",value:59.2725644},{stat:"DEF%",value:5.4},{stat:"CRIT DMG",value:5.183999999999999},{stat:"Effect Hit Rate",value:11.232000000000001}],id:"1735bd09-55f7-4023-866f-509dc716badf",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,DEF:59.2725644,"DEF%":.054000000000000006,"CRIT DMG":.05183999999999999,"Effect Hit Rate":.11232000000000002,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.183999999999999,ss:6.48,ds:16.848000000000003},{part:"PlanarSphere",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"Lightning DMG Boost",value:38.8803014298894},substats:[{stat:"ATK",value:59.2725644},{stat:"ATK%",value:8.208},{stat:"DEF%",value:5.4},{stat:"Effect Hit Rate",value:6.912}],id:"15d53aff-64cc-421f-837f-5ccfd55240b6",augmentedStats:{mainStat:"Lightning DMG Boost",mainValue:.388803014298894,ATK:59.2725644,"ATK%":.08208,"DEF%":.054000000000000006,"Effect Hit Rate":.06912,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.299999999999999,ss:6.48,ds:22.68,equippedBy:"1005",cs:0},{part:"PlanarSphere",set:"Broken Keel",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"HP",value:67.7400784},{stat:"ATK",value:38.1037914},{stat:"DEF%",value:9.719999999999999},{stat:"Effect Hit Rate",value:6.912}],id:"86816eed-af3c-441e-9379-22aca07bc15f",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,HP:67.7400784,ATK:38.1037914,"DEF%":.0972,"Effect Hit Rate":.06912,"HP%":0,"ATK%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.663999999999998,ds:10.368,equippedBy:"1101",cs:0},{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Ice DMG Boost",value:38.8803014298894},substats:[{stat:"DEF",value:40.2206687},{stat:"SPD",value:9},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"Effect Hit Rate",value:3.456}],id:"1e00ea87-98be-4601-a1b6-90eed8929758",augmentedStats:{mainStat:"Ice DMG Boost",mainValue:.388803014298894,DEF:40.2206687,SPD:9,"CRIT Rate":.025919999999999995,"Effect Hit Rate":.03456,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.400000000000002,ss:23.400000000000002,ds:28.584000000000003,cs:28.584000000000003,weightScore:38.670727111935676},{part:"PlanarSphere",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"Quantum DMG Boost",value:38.8803014298894},substats:[{stat:"HP%",value:7.344},{stat:"ATK%",value:6.912},{stat:"CRIT Rate",value:9.072},{stat:"CRIT DMG",value:5.832}],id:"030acc28-213c-4913-b527-fd5e4242ade5",augmentedStats:{mainStat:"Quantum DMG Boost",mainValue:.388803014298894,"HP%":.07344,"ATK%":.06912,"CRIT Rate":.09072,"CRIT DMG":.05832,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.150000000000006,ss:11.016,ds:10.368,cs:23.976},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"DEF%",value:44.9280005414036},substats:[{stat:"DEF",value:61.3894417},{stat:"HP%",value:3.888},{stat:"ATK%",value:8.64},{stat:"SPD",value:2}],id:"687f3295-1bfa-4349-b529-68145a681f3d",augmentedStats:{mainStat:"DEF%",mainValue:.449280005414036,DEF:61.3894417,"HP%":.03888,"ATK%":.0864,SPD:2,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18.099999999999998,ss:11.032,ds:18.16,cs:5.2},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"HP",value:33.8700392},{stat:"HP%",value:7.344},{stat:"Effect Hit Rate",value:8.208},{stat:"Break Effect",value:12.959999999999999}],id:"f838c821-addf-477a-97e7-605a00417a80",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,HP:33.8700392,"HP%":.07344,"Effect Hit Rate":.08208,"Break Effect":.1296,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.016,ds:25.272,cs:0},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"HP",value:122.7788921},{stat:"ATK",value:38.1037914},{stat:"HP%",value:4.32},{stat:"CRIT DMG",value:6.4799999999999995}],id:"2576e256-b473-481b-9e69-5e5ce2641f1a",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,HP:122.7788921,ATK:38.1037914,"HP%":.0432,"CRIT DMG":.0648,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:6.4,ss:6.48,ds:0,equippedBy:"1202",cs:6.4799999999999995},{part:"PlanarSphere",set:"Sprightly Vonwacq",enhance:12,grade:5,main:{stat:"HP%",value:35.9424005728218},substats:[{stat:"DEF",value:21.168773},{stat:"ATK%",value:8.64},{stat:"CRIT Rate",value:5.832},{stat:"Effect RES",value:8.208}],id:"29ec4a4e-a2d1-470b-8898-4271e5d58801",augmentedStats:{mainStat:"HP%",mainValue:.35942400572821803,DEF:21.168773,"ATK%":.0864,"CRIT Rate":.05832,"Effect RES":.08208,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:12.312000000000001,ds:12.96,cs:11.664},{part:"PlanarSphere",set:"Rutilant Arena",enhance:12,grade:5,main:{stat:"Ice DMG Boost",value:32.348401146008996},substats:[{stat:"ATK",value:38.1037914},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT Rate",value:6.156},{stat:"Break Effect",value:5.832}],id:"6ea90a16-c508-400a-84e5-956be061dd81",augmentedStats:{mainStat:"Ice DMG Boost",mainValue:.32348401146009,ATK:38.1037914,"DEF%":.09180000000000002,"CRIT Rate":.06156,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.2,ss:11.016000000000002,ds:5.832,cs:12.312},{part:"PlanarSphere",set:"Rutilant Arena",enhance:12,grade:5,main:{stat:"Quantum DMG Boost",value:32.348401146008996},substats:[{stat:"ATK",value:21.168773},{stat:"ATK%",value:7.344},{stat:"DEF%",value:10.26},{stat:"CRIT Rate",value:6.156}],id:"f6f59c42-c75d-4b13-8630-cf4030317fb6",augmentedStats:{mainStat:"Quantum DMG Boost",mainValue:.32348401146009,ATK:21.168773,"ATK%":.07344,"DEF%":.1026,"CRIT Rate":.06156,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.15,ss:12.312,ds:11.016,cs:12.312},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"HP",value:42},{stat:"ATK%",value:11.2},{stat:"DEF%",value:5.4},{stat:"Effect Hit Rate",value:3.4}],id:"bc8d6ec2-f7ce-46b5-99bd-f9abcb5cd7d3",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,HP:42,"ATK%":.11199999999999999,"DEF%":.054000000000000006,"Effect Hit Rate":.034,"HP%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:6.48,ds:21.9},{part:"PlanarSphere",set:"Belobog of the Architects",enhance:9,grade:3,main:{stat:"DEF%",value:21.5135999489572},substats:[{stat:"DEF",value:52},{stat:"HP%",value:7.7},{stat:"Effect RES",value:3.4},{stat:"Break Effect",value:6.4}],id:"1d4bfa56-f16b-4380-8124-481ef3c284f2",augmentedStats:{mainStat:"DEF%",mainValue:.215135999489572,DEF:52,"HP%":.077,"Effect RES":.034,"Break Effect":.064,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:16.650000000000002,ds:6.4},{part:"PlanarSphere",set:"Broken Keel",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"HP",value:33},{stat:"ATK",value:19},{stat:"Effect Hit Rate",value:7.3},{stat:"Effect RES",value:6.9}],id:"5968a21b-6035-45f7-8347-3445cb23dd48",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,HP:33,ATK:19,"Effect Hit Rate":.073,"Effect RES":.069,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:10.350000000000001,ds:10.95},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:80.4413431,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:8.424,scoreMeta:{multiplier:1,score:16.8}},{stat:"CRIT DMG",value:10.367999999999999,scoreMeta:{multiplier:1,score:10.3}},{stat:"Break Effect",value:5.832,scoreMeta:{multiplier:0,score:0}}],id:"c521dc03-6c6e-45ef-9933-811367312441",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:80.4413431,"CRIT Rate":.08424,"CRIT DMG":.10367999999999998,"Break Effect":.05832,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.1,ss:0,ds:5.832,equippedBy:"1212",cs:27.215999999999998,weightScore:37.249627926047566},{part:"LinkRope",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"ATK",value:38.1037914},{stat:"DEF",value:21.168773},{stat:"DEF%",value:15.659999999999998},{stat:"Break Effect",value:12.312}],id:"e1650ead-9ec8-4e2a-9ab9-c4199e1b609c",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,ATK:38.1037914,DEF:21.168773,"DEF%":.1566,"Break Effect":.12312,"HP%":0,"ATK%":0,"SPD%":0,HP:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:18.791999999999998,ds:12.312,equippedBy:"1217",cs:0},{part:"LinkRope",set:"Inert Salsotto",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"CRIT Rate",value:6.156},{stat:"Effect Hit Rate",value:7.344},{stat:"Effect RES",value:8.208},{stat:"Break Effect",value:12.312}],id:"426a1d2d-c361-42d0-a7d6-5001755c220d",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,"CRIT Rate":.06156,"Effect Hit Rate":.07344,"Effect RES":.08208,"Break Effect":.12312,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.2,ss:12.312000000000001,ds:23.328,equippedBy:"1205",cs:12.312},{part:"LinkRope",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"DEF",value:35.9869141},{stat:"ATK%",value:7.776},{stat:"DEF%",value:14.04},{stat:"SPD",value:2}],id:"9c66993a-07b4-4994-8bb5-86507e6ba49b",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,DEF:35.9869141,"ATK%":.07776,"DEF%":.1404,SPD:2,"HP%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.75,ss:22.048,ds:16.864,equippedBy:"1202",cs:5.2},{part:"LinkRope",set:"Belobog of the Architects",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"ATK%",value:14.688},{stat:"DEF%",value:5.4},{stat:"Effect Hit Rate",value:7.776},{stat:"Break Effect",value:5.183999999999999}],id:"f751b41e-8099-4b80-94c1-a86d264ca8bd",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,"ATK%":.14688,"DEF%":.054000000000000006,"Effect Hit Rate":.07776,"Break Effect":.05183999999999999,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.9,ss:6.48,ds:38.879999999999995,cs:0},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"SPD",value:2},{stat:"CRIT DMG",value:18.144},{stat:"Effect Hit Rate",value:7.344},{stat:"Effect RES",value:7.776}],id:"c32194b9-dddc-47de-853e-17ac8b8f61a4",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,SPD:2,"CRIT DMG":.18144,"Effect Hit Rate":.07344,"Effect RES":.07776,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.3,ss:16.864,ds:16.216,equippedBy:"1102",cs:23.343999999999998,weightScore:46.007999999999996},{part:"LinkRope",set:"Broken Keel",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"HP%",value:15.984000000000002},{stat:"ATK%",value:3.888},{stat:"CRIT Rate",value:3.2399999999999998},{stat:"CRIT DMG",value:17.496000000000002}],id:"5788b45d-6d75-4189-9689-872fd84280f7",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,"HP%":.15984,"ATK%":.03888,"CRIT Rate":.0324,"CRIT DMG":.17496000000000003,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:29.5,ss:23.976000000000003,ds:5.832,equippedBy:"1101",cs:23.976000000000003},{part:"LinkRope",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:38.1037941},{stat:"ATK",value:63.506319},{stat:"SPD",value:5},{stat:"Effect Hit Rate",value:8.208}],id:"c46c97d3-0cc6-4ac9-8b0d-2d5ad0f0a0e7",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:38.1037941,ATK:63.506319,SPD:5,"Effect Hit Rate":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:13,ss:13,ds:25.312,equippedBy:"1005",cs:13},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF%",value:10.8},{stat:"CRIT Rate",value:9.072},{stat:"Effect Hit Rate",value:6.912},{stat:"Break Effect",value:6.4799999999999995}],id:"9dc0a37b-9c62-4c1a-80f9-3edd769b0e68",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,"DEF%":.10800000000000001,"CRIT Rate":.09072,"Effect Hit Rate":.06912,"Break Effect":.0648,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18,ss:12.96,ds:16.848,cs:18.144,weightScore:47.95199999999999},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:38.1037941},{stat:"DEF%",value:10.8},{stat:"CRIT DMG",value:18.792},{stat:"Effect RES",value:7.776}],id:"b63d8cc1-3b84-476f-b8f7-ea31e0a83dbc",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:38.1037941,"DEF%":.10800000000000001,"CRIT DMG":.18792,"Effect RES":.07776,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18.7,ss:24.624000000000002,ds:0,cs:18.792,weightScore:45.40624480707517},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"ATK",value:35.9869141,scoreMeta:{multiplier:.75,score:2.9806283212960496}},{stat:"HP%",value:3.456,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT DMG",value:5.183999999999999,scoreMeta:{multiplier:1,score:5.183999999999999}},{stat:"Effect RES",value:15.984000000000002,scoreMeta:{multiplier:0,score:0}}],id:"7d1bb971-e351-47ee-9ab9-3c605386b6f8",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,ATK:35.9869141,"HP%":.03456,"CRIT DMG":.05183999999999999,"Effect RES":.15984,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1,ss:29.160000000000004,ds:0,cs:5.183999999999999,weightScore:38.318171095061395},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"HP",value:38.1037941},{stat:"ATK",value:78.3244601},{stat:"ATK%",value:7.776},{stat:"CRIT DMG",value:11.664}],id:"fce0a251-7922-469e-a3e6-b63783177cbf",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,HP:38.1037941,ATK:78.3244601,"ATK%":.07776,"CRIT DMG":.11664,"HP%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.15,ss:0,ds:11.664,cs:11.664},{part:"LinkRope",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"HP",value:33.8700392},{stat:"ATK",value:57.1556871},{stat:"DEF%",value:5.4},{stat:"CRIT DMG",value:17.496000000000002}],id:"4de09d13-9ab5-48c0-8552-c99e0961c6d7",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,HP:33.8700392,ATK:57.1556871,"DEF%":.054000000000000006,"CRIT DMG":.17496000000000003,"HP%":0,"ATK%":0,"SPD%":0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.4,ss:6.48,ds:0,cs:17.496000000000002},{part:"LinkRope",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"SPD",value:4},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect RES",value:7.344},{stat:"Break Effect",value:18.144}],id:"5336ce8e-c6be-426f-9e6b-cbdf058d7eb8",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,SPD:4,"CRIT DMG":.0648,"Effect RES":.07344,"Break Effect":.18144,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.8,ss:21.416,ds:28.543999999999997,cs:16.88},{part:"LinkRope",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF",value:38.1037914},{stat:"DEF%",value:17.82},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"Effect RES",value:3.456}],id:"507b39d1-d464-4b88-a968-074059a16326",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,DEF:38.1037914,"DEF%":.1782,"CRIT Rate":.025919999999999995,"Effect RES":.03456,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5,ss:26.568,ds:0,cs:5.183999999999999},{part:"LinkRope",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"DEF%",value:44.9280005414036},substats:[{stat:"DEF",value:38.1037914},{stat:"HP%",value:4.32},{stat:"ATK%",value:3.888},{stat:"Effect Hit Rate",value:15.552}],id:"13562a04-2e82-44a6-acee-42500b505634",augmentedStats:{mainStat:"DEF%",mainValue:.449280005414036,DEF:38.1037914,"HP%":.0432,"ATK%":.03888,"Effect Hit Rate":.15552,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.699999999999999,ss:6.48,ds:29.16,cs:0},{part:"LinkRope",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"Energy Regeneration Rate",value:16.1736014066265},substats:[{stat:"DEF",value:16.9350184},{stat:"DEF%",value:9.719999999999999},{stat:"CRIT Rate",value:3.2399999999999998},{stat:"Effect RES",value:12.096}],id:"1364b4d9-1dc2-4ea9-973c-5508c5676a78",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.161736014066265,DEF:16.9350184,"DEF%":.0972,"CRIT Rate":.0324,"Effect RES":.12096,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:6.4,ss:29.807999999999996,ds:0,cs:6.4799999999999995},{part:"LinkRope",set:"Space Sealing Station",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"HP%",value:15.552},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT DMG",value:5.183999999999999},{stat:"Break Effect",value:6.4799999999999995}],id:"439c6e66-9371-4872-a5dc-916756a46a99",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,"HP%":.15552,"DEF%":.09180000000000002,"CRIT DMG":.05183999999999999,"Break Effect":.0648,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1,ss:34.344,ds:6.4799999999999995,cs:5.183999999999999},{part:"LinkRope",set:"Space Sealing Station",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"ATK",value:19.0518957},{stat:"HP%",value:7.776},{stat:"Effect Hit Rate",value:11.664},{stat:"Break Effect",value:5.183999999999999}],id:"24e5659e-51f5-428d-83b7-0daa994ecf97",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,ATK:19.0518957,"HP%":.07776,"Effect Hit Rate":.11664,"Break Effect":.05183999999999999,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.664,ds:22.68,cs:0},{part:"LinkRope",set:"Rutilant Arena",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"ATK",value:40.2206687},{stat:"DEF",value:40.2206687},{stat:"CRIT DMG",value:11.664},{stat:"Effect Hit Rate",value:3.888}],id:"3aac125b-f436-4a66-bc76-124bccee2190",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,ATK:40.2206687,DEF:40.2206687,"CRIT DMG":.11664,"Effect Hit Rate":.03888,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.6,ss:0,ds:5.832,cs:11.664},{part:"LinkRope",set:"Broken Keel",enhance:9,grade:3,main:{stat:"Energy Regeneration Rate",value:7.7450001612309},substats:[{stat:"DEF",value:19},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:7.7},{stat:"Effect RES",value:4.3}],id:"563780c9-ac0a-4c54-98fa-2c24883f633b",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.077450001612309,DEF:19,SPD:4,"Effect Hit Rate":.077,"Effect RES":.043,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:10.4,ss:16.85,ds:21.950000000000003},{part:"LinkRope",set:"Broken Keel",enhance:9,grade:3,main:{stat:"Energy Regeneration Rate",value:7.7450001612309},substats:[{stat:"HP",value:38},{stat:"ATK%",value:12.5},{stat:"CRIT DMG",value:10.3},{stat:"Effect RES",value:4.3}],id:"bc344db6-5740-44ed-9858-46f15000d4a8",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.077450001612309,HP:38,"ATK%":.125,"CRIT DMG":.10300000000000001,"Effect RES":.043,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:10.3,ss:6.449999999999999,ds:18.75},{part:"LinkRope",set:"Rutilant Arena",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"DEF",value:40},{stat:"CRIT Rate",value:5.5},{stat:"Effect Hit Rate",value:3.8},{stat:"Effect RES",value:3.4}],id:"802a690c-b6be-4c91-8551-c79c4fe019d1",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,DEF:40,"CRIT Rate":.055,"Effect Hit Rate":.038,"Effect RES":.034,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:5.1000000000000005,ds:5.699999999999999},{part:"LinkRope",set:"Rutilant Arena",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"ATK%",value:7.7},{stat:"CRIT Rate",value:5.8},{stat:"CRIT DMG",value:6.4},{stat:"Break Effect",value:11}],id:"13ec2e5b-6f28-40b2-b85a-72a862499671",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,"ATK%":.077,"CRIT Rate":.057999999999999996,"CRIT DMG":.064,"Break Effect":.11,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:18,ss:0,ds:22.55},{part:"LinkRope",set:"Inert Salsotto",enhance:9,grade:3,main:{stat:"Energy Regeneration Rate",value:7.7450001612309},substats:[{stat:"DEF",value:16},{stat:"DEF%",value:10.2},{stat:"Effect Hit Rate",value:8.6},{stat:"Effect RES",value:7.7}],id:"6a81c65c-861d-4568-8373-d0a4ffe52989",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.077450001612309,DEF:16,"DEF%":.102,"Effect Hit Rate":.086,"Effect RES":.077,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:23.79,ds:12.899999999999999}],pS=[{id:"1212",form:{characterId:"1212",characterLevel:80,characterEidolon:1,lightCone:"23014",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["CRIT DMG"],mainFeet:["SPD"],mainPlanarSphere:["Ice DMG Boost"],mainLinkRope:["ATK%"],ornamentSets:["Rutilant Arena"],relicSets:[["4 Piece","Hunter of Glacial Forest"]],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:134,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minCv:0,maxCv:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:3.12,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,mainStatUpscaleLevel:12,keepCurrentRelics:!1,enhance:15,grade:5,mainHead:[],mainHands:[],setConditionals:{"Passerby of Wandering Cloud":[null,!0],"Musketeer of Wild Wheat":[null,!0],"Knight of Purity Palace":[null,!0],"Hunter of Glacial Forest":[null,!0],"Champion of Streetwise Boxing":[null,5],"Guard of Wuthering Snow":[null,!0],"Firesmith of Lava-Forging":[null,!0],"Genius of Brilliant Stars":[null,!0],"Band of Sizzling Thunder":[null,!0],"Eagle of Twilight Line":[null,!0],"Thief of Shooting Meteor":[null,!0],"Wastelander of Banditry Desert":[null,0],"Longevous Disciple":[null,2],"Messenger Traversing Hackerspace":[null,!0],"The Ashblazing Grand Duke":[null,0],"Prisoner in Deep Confinement":[null,0],"Space Sealing Station":[null,!0],"Fleet of the Ageless":[null,!0],"Pan-Cosmic Commercial Enterprise":[null,!0],"Belobog of the Architects":[null,!0],"Celestial Differentiator":[null,!1],"Inert Salsotto":[null,!0],"Talia: Kingdom of Banditry":[null,!0],"Sprightly Vonwacq":[null,!0],"Rutilant Arena":[null,!0],"Broken Keel":[null,!0],"Firmament Frontline: Glamoth":[null,!0],"Penacony, Land of the Dreams":[null,!0]},characterConditionals:{talentEnhancedState:!0,talentHpDrainAtkBuff:1.8,e1CdBuff:!0,e2SkillDmgBuff:!0},lightConeConditionals:{eclipseStacks:3,maxStackDefPen:!0},enemyLevel:95,enemyCount:1,enemyResistance:.2,enemyMaxToughness:360,enemyElementalWeak:!0,enemyWeaknessBroken:!1,statDisplay:"base",weights:{"ATK%":1,"DEF%":1,"HP%":1,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":1,"Effect RES":1,"Break Effect":1,topPercent:100,ATK:1,DEF:1,HP:1},minWeight:0,maxWeight:2147483647,minBasic:0,maxBasic:2147483647,minSkill:0,maxSkill:2147483647,minUlt:0,maxUlt:2147483647,minFua:0,maxFua:2147483647,minDot:0,maxDot:2147483647,buffSpd:0,buffSpdP:0,buffBe:0,buffDmgBoost:0,buffDefShred:0,buffResPen:0},equipped:{Head:"cd85c14c-a662-4413-a149-a379e6d538d3",Hands:"798657c8-5c5c-4b44-9c5f-f5f094414289",Body:"b3376a19-62f9-489e-80e6-8f98335af158",Feet:"92c53d06-80d0-43a8-b896-2feeda419674",PlanarSphere:"80abbd56-b1a0-4587-a349-754c33627217",LinkRope:"c521dc03-6c6e-45ef-9933-811367312441"},rank:0},{id:"1005",form:{characterId:"1005",characterLevel:80,characterEidolon:0,lightCone:"21022",lightConeLevel:80,lightConeSuperimposition:5,mainBody:["ATK%"],mainFeet:["SPD"],mainPlanarSphere:["Lightning DMG Boost"],mainLinkRope:["ATK%"],relicSets:[["4 Piece","Band of Sizzling Thunder"]],ornamentSets:["Space Sealing Station"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:130,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"354bde06-a10b-4449-8365-16f0dcac7b88",Hands:"81a06240-1434-4b48-b7c4-cedbca15ff50",Body:"dd7d21eb-5a85-466e-a7a3-98fc6f63e546",Feet:"53a00fa5-22a9-40bc-948b-8469d6e248ec",PlanarSphere:"15d53aff-64cc-421f-837f-5ccfd55240b6",LinkRope:"c46c97d3-0cc6-4ac9-8b0d-2d5ad0f0a0e7"},rank:1},{id:"1102",form:{characterId:"1102",characterLevel:80,characterEidolon:0,lightCone:"24001",lightConeLevel:80,lightConeSuperimposition:5,mainBody:["CRIT DMG","CRIT Rate"],mainFeet:["ATK%"],mainPlanarSphere:["Quantum DMG Boost"],mainLinkRope:["ATK%"],relicSets:[["4 Piece","Genius of Brilliant Stars"]],ornamentSets:["Rutilant Arena"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:130,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"eda5ede8-dfaa-4fa9-b2c2-17011ed0abe6",Hands:"d0b2b781-33dc-4029-b875-81ecbc659466",Body:"4b8dafeb-6f5a-410c-bcbc-4caaef116af2",Feet:"9d68a932-b623-4ac7-bd0a-7c54779b64fb",PlanarSphere:"4806d951-5a01-48bb-876f-5368059a674d",LinkRope:"c32194b9-dddc-47de-853e-17ac8b8f61a4"},rank:2},{id:"1217",form:{characterId:"1217",characterLevel:80,characterEidolon:0,lightCone:"21000",lightConeLevel:80,lightConeSuperimposition:4,mainBody:["Outgoing Healing Boost"],mainFeet:["SPD"],mainPlanarSphere:["HP%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[["4 Piece","Passerby of Wandering Cloud"]],ornamentSets:["Fleet of the Ageless"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:130,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"0bd7404f-3420-4bf5-9e45-f79343728685",Hands:"9b3f7f9b-b394-4c87-af67-0f4f7e41a6a8",Body:"725e6ee5-9465-45a2-8172-ed69241c1e54",Feet:"f8d42acd-c848-484a-9eee-d03a7b88f030",PlanarSphere:"f89266f4-241e-43bc-b04a-a864eea60e49",LinkRope:"e1650ead-9ec8-4e2a-9ab9-c4199e1b609c"},rank:3},{id:"1205",form:{characterId:"1205",characterLevel:80,characterEidolon:0,lightCone:"21012",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["CRIT Rate","CRIT DMG"],mainFeet:["SPD"],mainPlanarSphere:["Wind DMG Boost","HP%"],mainLinkRope:["HP%"],relicSets:[["4 Piece","Longevous Disciple"]],ornamentSets:["Inert Salsotto"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:134,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"e898e418-bc4e-404d-be3f-2477dec9839a",Hands:"71b088e8-e254-4219-96d5-f56cde1702d3",Body:"7cdd90c6-73fc-4a5f-9cea-6458d5e6f456",Feet:"726e7b1f-f630-4182-ac11-1e8523a33fc1",PlanarSphere:"9714ef68-45e7-4f62-81f2-b437649d3a49",LinkRope:"426a1d2d-c361-42d0-a7d6-5001755c220d"},rank:4},{id:"1202",form:{characterId:"1202",characterLevel:80,characterEidolon:6,lightCone:"21032",lightConeLevel:80,lightConeSuperimposition:4,mainBody:["HP%","ATK%"],mainFeet:["SPD"],mainPlanarSphere:["HP%","ATK%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[["4 Piece","Musketeer of Wild Wheat"]],ornamentSets:["Fleet of the Ageless"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:140,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Hands:"67999399-0a5f-4a94-9267-32c42a7fbbe5",Body:"cd8b362d-24e4-4427-b09e-2666c1fb97b4",Feet:"ac206198-c5b1-4be7-8dda-0d7b85e1aabf",PlanarSphere:"2576e256-b473-481b-9e69-5e5ce2641f1a",LinkRope:"9c66993a-07b4-4994-8bb5-86507e6ba49b"},rank:5},{id:"1101",form:{characterId:"1101",characterLevel:80,characterEidolon:1,lightCone:"23003",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["CRIT DMG","HP%"],mainFeet:["SPD"],mainPlanarSphere:["HP%","DEF%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[["2 Piece","Eagle of Twilight Line"]],ornamentSets:["Fleet of the Ageless","Broken Keel"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:134,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"8de51c73-36b5-40ea-91a2-e566d97da2a9",Feet:"dd1bb72d-80f3-432c-b8d9-0b62c7790b9a",PlanarSphere:"86816eed-af3c-441e-9379-22aca07bc15f",LinkRope:"5788b45d-6d75-4189-9689-872fd84280f7"},rank:6},{id:"1105",form:{characterId:"1105",characterLevel:80,characterEidolon:6,lightCone:"21007",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["Outgoing Healing Boost"],mainFeet:["SPD"],mainPlanarSphere:["HP%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[],ornamentSets:[],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:0,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{},rank:7}],RS={relics:hS,characters:pS},{Text:jo}=pt,El=Object.values(Ka.characters),SS=Object.values(Ka.lightCones),al=Object.entries(M);for(const t of al)t[2]=t[1],t[1]=Ac(t[1]);const fS=Ka.relics.reduce((t,e)=>(t[e.id]=e,t),{});class xl{constructor(e){this.config=e}parse(e){const i={metadata:{trailblazer:"Stelle",current_trailblazer_path:"Destruction"},characters:[],relics:[]};if(e.source!=this.config.sourceString)throw new Error(`Incorrect source string, was '${e.source}', expected '${this.config.sourceString}'`);if(e.version!=this.config.latestOutputVersion&&Q.warning(a.jsxs(jo,{children:["Your scanner version is out of date and may result in incorrect imports! Please update to the latest version from Github:"," ",a.jsx("a",{target:"_blank",style:{color:"#3f8eff"},href:this.config.releases,rel:"noreferrer",children:this.config.releases})]}),15),e.version!=3&&e.version!=4)throw new Error(`Incorrect json version, was '${e.version}', expected '${this.config.latestOutputVersion}'`);const l=e.build||"v0.0.0";o0.lt(l,this.config.latestBuildVersion)&&(console.log(`Current: ${l}, Latest: ${this.config.latestBuildVersion}`),Q.warning(a.jsxs(jo,{children:[`Your scanner version ${l} is out of date and may result in incorrect imports! Please update to the latest version from Github:`," ",a.jsx("a",{target:"_blank",style:{color:"#3f8eff"},href:this.config.releases,rel:"noreferrer",children:this.config.releases})]}),15));let o,c;return e.version==3&&(c=CS,o=GS),e.version==4&&(c=gS,o=ZS),i.metadata.trailblazer=e.metadata.trailblazer||"Stelle",i.metadata.current_trailblazer_path=e.metadata.current_trailblazer_path||"Stelle",e.relics&&(i.relics=e.relics.map(r=>c(r,i.metadata.trailblazer,i.metadata.current_trailblazer_path,this.config)).map(r=>ba.augment(r)).filter(r=>(r||console.warn("Could not parse relic"),r))),e.characters&&(i.characters=e.characters.map(r=>o(r,e.light_cones,i.metadata.trailblazer,i.metadata.current_trailblazer_path)).filter(r=>(r||console.warn("Could not parse character"),r))),i}}function GS(t,e,i,l){var u,R;let s;e&&(t.key.startsWith("Trailblazer")?s=e.find(h=>h.location===t.key)||e.find(h=>h.location.startsWith("Trailblazer")):s=e.find(h=>h.location===t.key));let o;t.key.startsWith("Trailblazer")?o=Qc(t.key,i,l):o=(u=El.find(h=>h.name===t.key))==null?void 0:u.id;const c=s==null?void 0:s.key,r=(R=SS.find(h=>h.name===c))==null?void 0:R.id;return o?{characterId:o,characterLevel:t.level||80,characterEidolon:t.eidolon||0,lightCone:r||null,lightConeLevel:(s==null?void 0:s.level)||80,lightConeSuperimposition:(s==null?void 0:s.superimposition)||1}:null}function CS(t,e,i,l){var b;const o=Js.findBestMatch(t.slot,Object.values(Z)).bestMatch.target,c=Js.findBestMatch(Ac(t.set),al.map(p=>p[1])),r=al[c.bestMatchIndex][2],u=Math.min(Math.max(parseInt(t.level),0),15),R=Math.min(Math.max(parseInt(t.rarity),2),5),{main:h,substats:S}=wc(t,o,R,u);let m;if(t.location!==""){const p=(b=El.find(C=>C.name==t.location))==null?void 0:b.id;p?m=p:t.location.startsWith("Trailblazer")&&(m=Qc(t.location,e,i))}return{part:o,set:r,enhance:u,grade:R,main:h,substats:S,equippedBy:m,verified:l.speedVerified}}function ZS(t,e,i,l){let s;e&&(s=e.find(u=>u.location===t.id));const o=t.id,r=s==null?void 0:s.id;return o?{characterId:o,characterLevel:t.level||80,characterEidolon:t.eidolon||0,lightCone:r||null,lightConeLevel:(s==null?void 0:s.level)||80,lightConeSuperimposition:(s==null?void 0:s.superimposition)||1}:null}function gS(t,e,i,l){var b;const o=Js.findBestMatch(t.slot,Object.values(Z)).bestMatch.target,c=t.set_id,r=fS[c].name,u=Math.min(Math.max(parseInt(t.level),0),15),R=Math.min(Math.max(parseInt(t.rarity),2),5),{main:h,substats:S}=wc(t,o,R,u);let m;if(t.location!==""){const p=(b=El.find(C=>C.id==t.location))==null?void 0:b.id;p&&(m=p)}return{part:o,set:r,enhance:u,grade:R,main:h,substats:S,equippedBy:m,verified:l.speedVerified}}function wc(t,e,i,l){let s;e==="Hands"?s=d.Stats.ATK:e==="Head"?s=d.Stats.HP:s=DS(t.mainstat);const o=WS(e),c=`${i}${o}`,r=Object.values(y.getMetadata().relics.relicMainAffixes[c].affixes),u=VS(s),R=r.find(m=>m.property===u),h=R.base+R.step*l,S=t.substats.map(m=>({stat:TS(m.key),value:m.value}));return{main:{stat:s,value:x.truncate10000ths(h*(x.isFlat(s)?1:100))},substats:S}}function TS(t){switch(t){case"ATK":return d.Stats.ATK;case"HP":return d.Stats.HP;case"DEF":return d.Stats.DEF;case"ATK_":return d.Stats.ATK_P;case"HP_":return d.Stats.HP_P;case"DEF_":return d.Stats.DEF_P;case"SPD":return d.Stats.SPD;case"CRIT Rate_":return d.Stats.CR;case"CRIT DMG_":return d.Stats.CD;case"Effect Hit Rate_":return d.Stats.EHR;case"Effect RES_":return d.Stats.RES;case"Break Effect_":return d.Stats.BE;default:return null}}function DS(t){switch(t){case"ATK":return d.Stats.ATK_P;case"HP":return d.Stats.HP_P;case"DEF":return d.Stats.DEF_P;case"SPD":return d.Stats.SPD;case"CRIT Rate":return d.Stats.CR;case"CRIT DMG":return d.Stats.CD;case"Effect Hit Rate":return d.Stats.EHR;case"Break Effect":return d.Stats.BE;case"Energy Regeneration Rate":return d.Stats.ERR;case"Outgoing Healing Boost":return d.Stats.OHB;case"Physical DMG Boost":return d.Stats.Physical_DMG;case"Fire DMG Boost":return d.Stats.Fire_DMG;case"Ice DMG Boost":return d.Stats.Ice_DMG;case"Lightning DMG Boost":return d.Stats.Lightning_DMG;case"Wind DMG Boost":return d.Stats.Wind_DMG;case"Quantum DMG Boost":return d.Stats.Quantum_DMG;case"Imaginary DMG Boost":return d.Stats.Imaginary_DMG;default:return null}}function VS(t){switch(t){case d.Stats.HP_P:return"HPAddedRatio";case d.Stats.ATK_P:return"AttackAddedRatio";case d.Stats.DEF_P:return"DefenceAddedRatio";case d.Stats.HP:return"HPDelta";case d.Stats.ATK:return"AttackDelta";case d.Stats.DEF:return"DefenceDelta";case d.Stats.SPD:return"SpeedDelta";case d.Stats.CD:return"CriticalDamageBase";case d.Stats.CR:return"CriticalChanceBase";case d.Stats.EHR:return"StatusProbabilityBase";case d.Stats.RES:return"StatusResistanceBase";case d.Stats.BE:return"BreakDamageAddedRatioBase";case d.Stats.ERR:return"SPRatioBase";case d.Stats.OHB:return"HealRatioBase";case d.Stats.Physical_DMG:return"PhysicalAddedRatio";case d.Stats.Fire_DMG:return"FireAddedRatio";case d.Stats.Ice_DMG:return"IceAddedRatio";case d.Stats.Lightning_DMG:return"ThunderAddedRatio";case d.Stats.Wind_DMG:return"WindAddedRatio";case d.Stats.Quantum_DMG:return"QuantumAddedRatio";case d.Stats.Imaginary_DMG:return"ImaginaryAddedRatio";default:return null}}function WS(t){switch(t){case d.Parts.Head:return 1;case d.Parts.Hands:return 2;case d.Parts.Body:return 3;case d.Parts.Feet:return 4;case d.Parts.PlanarSphere:return 5;case d.Parts.LinkRope:return 6;default:return null}}function Ac(t){return t.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")}function Qc(t,e,i){return t==="TrailblazerDestruction"?e==="Stelle"?"8002":"8001":t==="TrailblazerPreservation"?e==="Stelle"?"8004":"8003":t==="TrailblazerHarmony"?e==="Stelle"?"8006":"8005":i==="Destruction"?e==="Stelle"?"8002":"8001":i==="Preservation"?e==="Stelle"?"8004":"8003":i==="Harmony"?e==="Stelle"?"8006":"8005":"8002"}const us={name:"HSR-Scanner",author:"Kel-z",homepage:"https://github.com/kel-z/HSR-Scanner",releases:"https://github.com/kel-z/HSR-Scanner/releases/latest",defaultFileName:"HSRScanData.json",sourceString:"HSR-Scanner",latestBuildVersion:"v1.2.0",latestOutputVersion:4,speedVerified:!1},Ll={name:"Reliquary Archiver",author:"IceDynamix",homepage:"https://github.com/IceDynamix/reliquary-archiver",releases:"https://github.com/IceDynamix/reliquary-archiver/releases/latest",defaultFileName:"archiver_output.json",sourceString:"reliquary_archiver",latestBuildVersion:"v0.1.11",latestOutputVersion:4,speedVerified:!0},jc={name:"Yas Scanner",author:"wormtql, YCR160",homepage:"https://github.com/wormtql/yas",releases:"",defaultFileName:"hsr.json",sourceString:"yas-scanner",latestBuildVersion:"v0.0.0",latestOutputVersion:3},IS=new xl(us),ES=new xl(Ll),xS=new xl(jc),Jc={[us.sourceString]:IS,[Ll.sourceString]:ES,[jc.sourceString]:xS},LS=Object.keys(Jc);function Oc(){const{t}=et("importSaveTab",{keyPrefix:"Import.Stage1.ReliquaryDesc"});return a.jsx(a.Fragment,{children:a.jsxs("li",{children:[a.jsx("b",{children:t("Title")})," (",a.jsx(Wn,{text:t("Link"),url:Ll.releases}),")",a.jsxs("ul",{children:[a.jsx("li",{children:a.jsx("b",{style:{color:"#82e192"},children:t("OnlineMsg",{version:2.5})})}),a.jsx("li",{children:t("l1")}),a.jsx("li",{children:t("l2")})]})]})})}const{useToken:yS}=Ce,{Text:MS}=pt;function zc(){const{t,i18n:e}=et("getStartedTab"),{token:i}=yS(),l=L.useMemo(()=>({quickstart:U.getLocaleGuideImage("quickstart",e.resolvedLanguage),characterOptions:U.getLocaleGuideImage("characterOptions",e.resolvedLanguage),relicFilters:U.getLocaleGuideImage("relicFilters",e.resolvedLanguage),sets:U.getLocaleGuideImage("sets",e.resolvedLanguage),teammateOptions:U.getLocaleGuideImage("teammateOptions",e.resolvedLanguage),resultsGrid:U.getLocaleGuideImage("resultsGrid",e.resolvedLanguage),characterTab:U.getLocaleGuideImage("characterTab",e.resolvedLanguage),relicsGrid:U.getLocaleGuideImage("relicsGrid",e.resolvedLanguage)}),[e.resolvedLanguage]);console.log("======================================================================= RENDER GettingStartedTab");function s(){y.setStore(JSON.parse(JSON.stringify(RS))),Q.success(t("TryOut.SuccessMessage"))}const[o,c]=L.useState(!1);L.useEffect(()=>{c(!1)},[e.resolvedLanguage]);const r={border:`2px solid ${i.colorBgContainer}`},u={marginTop:40},R={textDecoration:"underline"};return a.jsx("div",{children:a.jsx(MS,{children:a.jsxs(f,{vertical:!0,gap:5,style:{marginLeft:20,marginBottom:50,width:1e3},children:[a.jsx("h1",{children:a.jsx("u",{children:t("TryOut.Header")})}),a.jsxs(Et,{t,i18nKey:"TryOut.Option 1",children:[a.jsx("h3",{children:"Option 1: Load a sample save"}),a.jsx("p",{children:"If you would like to give the optimizer a try before doing any relic importing, use this to load a sample save file and check out the features."})]}),a.jsx(On,{title:t("TryOut.title"),description:t("TryOut.description"),onConfirm:s,placement:"bottom",okText:t("TryOut.okText"),cancelText:t("TryOut.cancelText"),children:a.jsx(w,{type:"primary",icon:a.jsx(ni,{}),style:{width:200},children:t("TryOut.ButtonText")})}),a.jsxs(Et,{t,i18nKey:"TryOut.Option 2",children:[a.jsx("h3",{children:"Option 2: One-click-optimize from the Relic Scorer"}),a.jsx("img",{src:l.quickstart,style:r,onError:h=>{c(!0),h.target.src=U.getGuideImage("quickstart")},onLoad:h=>{h.target.src==l.quickstart||o||(h.target.src=l.quickstart)}}),a.jsxs("p",{children:["From the ",a.jsx("span",{onClick:()=>window.store.getState().setActiveKey(mt.RELIC_SCORER),children:a.jsx(Wn,{})})," tab, clicking on the Optimize Character Stats button will automatically import and run the optimizer on your selected character. This option will only be able to use the relics from your profile's showcase characters, so it is still recommended to use a scanner to import your full inventory of relics, but this allows for a quick calculation of character stats in combat."]})]}),a.jsx(Ge,{style:u}),a.jsx("h1",{children:a.jsx("u",{children:t("HowTo.Header")})}),a.jsxs(Et,{t,i18nKey:"HowTo.Step 1",children:[a.jsx("h2",{children:"Step 1: Import relics"}),a.jsx("p",{children:"The optimizer needs a database of relics to run against. Install and run one of the relic scanner options:"}),a.jsxs("ul",{children:[a.jsx(Oc,{}),a.jsxs("li",{children:["Kel-Z HSR Scanner (",a.jsx(Wn,{url:us.releases}),")",a.jsxs("ul",{children:[a.jsx("li",{children:"OCR scanner"}),a.jsx("li",{children:"Supports all 16:9 screen resolutions"})]})]}),a.jsxs("li",{children:["Relic Scorer Import (",a.jsx("span",{onClick:()=>window.store.getState().setActiveKey(mt.RELIC_SCORER),children:a.jsx(Wn,{})}),")",a.jsxs("ul",{children:[a.jsx("li",{children:"No download needed, but limited to relics from the 8 characters on profile showcase"}),a.jsx("li",{children:"Imports accurate speed decimals"})]})]})]})]}),a.jsxs(Et,{t,i18nKey:"HowTo.Step 2",children:[a.jsx("h2",{children:"Step 2: Select a character"}),a.jsx("img",{src:l.characterOptions,style:r,onError:h=>{c(!0),h.target.src=U.getGuideImage("characterOptions")},onLoad:h=>{h.target.src==l.characterOptions||o||(h.target.src=l.characterOptions)}}),a.jsx("p",{children:"Select a character and light cone from the Character Options menu. Next, use the Recommended Presets button to select a preset speed target to optimize for. For most characters, the 133 speed breakpoint is recommended, and this will set a minimum speed for your optimization resukts. This preset will also automatically fill out the ideal main stats and relic set conditionals for the optimizer."}),a.jsx("p",{children:"Once a character is chosen, their ability passives and light cone passives can be customized. These selectors will affect the final combat stats and damage calculations for the character. For the first run these can be left as default."}),a.jsx("p",{children:"Most of the Enemy Options and Optimizer Options can be left as default to get started. One important option is the Character Priority filter setting, which defines which relics the character may steal from other characters. Characters can only take relics from lower priority characters, so for the first run set this priority to #1, but later on your characters list should be ordered by which characters have the highest priority for taking gear."})]}),a.jsxs(Et,{t,i18nKey:"HowTo.Step 3",children:[a.jsx("h2",{children:"Step 3: Apply filters"}),a.jsx("img",{src:l.relicFilters,style:r,onError:h=>{c(!0),h.target.src=U.getGuideImage("relicFilters")},onLoad:h=>{h.target.src==l.relicFilters||o||(h.target.src=l.relicFilters)}}),a.jsx("h4",{style:R,children:"Main Stats"}),a.jsx("p",{children:"The main stat filters limits optimizer to using preferred body, feet, planar sphere, and link rope main stats. Multiple options can be chosen for each slot. The Recommended Presets button will fill these out with each character's ideal stats, but these can be customized for other builds."}),a.jsx("h4",{style:R,children:"Set filters"}),a.jsx("img",{src:l.sets,style:r,onError:h=>{c(!0),h.target.src=U.getGuideImage("sets")},onLoad:h=>{h.target.src==l.sets||o||(h.target.src=l.sets)}}),a.jsx("p",{children:"The relic set filter allows for a combination of 2-piece sets, 4-piece sets, or can be left empty. When multiple options are chosen, the search results will only show builds with least one of the selected filters active. Conditional set effects can be customized from the menu."}),a.jsx("h4",{style:R,children:"Stat min / max filters"}),a.jsx("p",{children:"This section defines the minimum / maximum stats to filter the results by. Left side is minimum and right side is maximum, both inclusive. In this above example, only results with â‰¥ 134 speed AND â‰¥ 35% Crit Rate are shown. Stat abbreviations are ATK / HP / DEF / SPD / Crit Rate / Crit Damage / Effect Hit Rate / Effect RES / Break Effect."}),a.jsx("p",{children:"Important note: relics typed in manually or imported with the OCR tool may be affected by hidden decimal points for speed that aren't shown by ingame stats. For example, 5 star relics can have speed substats of values between 2.0 - 2.6, which would all show ingame as 2. This means that speed results should be treated as minimum values, as the real value may be slightly higher ingame. This also means that maximum filters on speed should be used carefully since they may be too restrictive."})]}),a.jsxs(Et,{t,i18nKey:"HowTo.Step 4",children:[a.jsx("h2",{children:"Step 4: Select teammates"}),a.jsx("img",{src:l.teammateOptions,style:r,onError:h=>{c(!0),h.target.src=U.getGuideImage("teammateOptions")},onLoad:h=>{h.target.src==l.teammateOptions||o||(h.target.src=l.teammateOptions)}}),a.jsx("p",{children:"In this menu, select the 3 teammates that you're using with the main character. These teammates will apply their buffs and passive effects to the calculations. The relic/ornament sets and conditionals can be customized to fit the combat scenario."})]}),a.jsxs(Et,{t,i18nKey:"HowTo.Step 5",children:[a.jsx("h2",{children:"Step 5: Save results"}),a.jsx("img",{src:l.resultsGrid,style:r,onError:h=>{c(!0),h.target.src=U.getGuideImage("resultsGrid")},onLoad:h=>{h.target.src==l.resultsGrid||o||(h.target.src=l.resultsGrid)}}),a.jsx("h4",{style:R,children:"Result rows"}),a.jsx("p",{children:"This section displays all the results found that match the filters. Every row represents one build that was found. The pinned top row shows the character's currently equipped build. Clicking on each row will show the relics used in the selected build. There may be multiple pages of results, so clicking a column header to sort the results by a stat or rating can make it easier to find desired builds."}),a.jsx("h4",{style:R,children:"Permutations"}),a.jsx("p",{children:"This section shows the number of permutations the optimizer has to search and details on the number of matching relics per slot. If any of the numbers are zero, that indicates that no relics were found that would satisfy the constraints."}),a.jsxs("ul",{children:[a.jsx("li",{children:"Perms - Number of permutations that need to be searched. Stricter filters will reduce permutations and search time"}),a.jsx("li",{children:"Searched - Number of permutations completed in an in-progress search"}),a.jsx("li",{children:"Results - Number of displayed results that satisfy the stat filters"})]}),a.jsx("h4",{style:R,children:"Selected build"}),a.jsx("p",{children:"This section displays the selected build from the grid, and which relics are used & who they are currently equipped on. Pressing the 'Equip' button will assign the relics to the selected character in the optimizer, though the ingame character build is not affected."})]}),a.jsx(Ge,{style:u}),a.jsxs(Et,{t,i18nKey:"CharacterTab",children:[a.jsx("h2",{children:"Character tab"}),a.jsx("img",{src:l.characterTab,style:r,onError:h=>{c(!0),h.target.src=U.getGuideImage("characterTab")},onLoad:h=>{h.target.src==l.characterTab||o||(h.target.src=l.characterTab)}}),a.jsx("h4",{style:R,children:"Character priority"}),a.jsx("p",{children:"This section displays all the optimized characters and their priority order. Characters are added to this list from the Optimizer tab, when their filters are applied and 'Start' is pressed."}),a.jsx("p",{children:"The ranking is important when used with the 'Priority filter' on the Optimizer tab. When enabled, characters may only take relics from lower priority characters. For example, the priority #2 character may take relics from priority #3, but cannot take from priority #2. Priority #1 can take from any other character. Rows can be dragged to re-order characters."}),a.jsx("p",{children:"The colored highlight on the right of the grid shows the equipped item status of the character. In the above example, Jingliu's green indicator means she has all 6 relics equipped, Bronya's yellow indicator means she is missing at least one relic from her build, and Natasha's red indicator means she has no relics equipped."}),a.jsx("h4",{style:R,children:"Stats summary"}),a.jsx("p",{children:"This section displays the character's stats with their base stats / light cone / maxed traces / and relics equipped in the optimizer. Note that similar to the optimizer results, the actual values ingame may be slightly higher than displayed here due to hidden decimal values on relic stats."})]}),a.jsx(Ge,{style:u}),a.jsxs(Et,{t,i18nKey:"RelicsTab",children:[a.jsx("h2",{children:"Relics tab"}),a.jsx("img",{src:l.relicsGrid,style:r,onError:h=>{c(!0),h.target.src=U.getGuideImage("relicsGrid")},onLoad:h=>{h.target.src==l.relicsGrid||o||(h.target.src=l.relicsGrid)}}),a.jsx("h4",{style:R,children:"Relics table"}),a.jsx("p",{children:"This section displays all the relics that were added / imported into the optimizer. Relics should be updated occasionally with the importer to add in newly acquired relics. Clicking columns will sort the relics table."})]})]})})})}zc.propTypes={active:_.bool};const FS=()=>(t,e)=>{console.log(`++++++++++ Publishing [${t}] with data: ${e}`),document.dispatchEvent(new CustomEvent(t,{detail:e}))},{Text:na}=pt,Bi=xe(Ge)`
    margin-top: 10px !important;
    margin-bottom: 10px !important;
`,BS=xe(mn)`
    width: 62px
`,$e=xe.p`
`;function PS(){const{t}=et(["modals","common"]),e=FS(),[i]=X.useForm();window.scoringAlgorithmForm=i;const l=window.store(E=>E.scoringAlgorithmFocusCharacter),s=window.store(E=>E.setScoringAlgorithmFocusCharacter),o=window.store(E=>E.charactersById),[c,r]=L.useState(!1);window.setIsScoringModalOpen=r;function u(E){s(E)}function R(E){for(const P of Object.entries(E.stats))P[1]==0&&(E.stats[P[0]]=null);return E}L.useEffect(()=>{const E=l;if(E){let P=x.clone(y.getScoringMetadata(E));P=R(P),i.setFieldsValue(P),console.log("Scoring modal opening set as:",P)}},[l,c,i]);const h=225,S=5,m=360;function b(E){return a.jsxs(f,{justify:"flex-start",style:{width:h},align:"center",gap:5,children:[a.jsx(X.Item,{size:"default",name:["stats",E.stat],children:a.jsx(BS,{controls:!1,size:"small"})}),a.jsxs(f,{children:[a.jsx("img",{src:U.getStatIcon(E.stat),style:{width:25,height:25,marginRight:3}}),a.jsx(na,{style:{lineHeight:1.8},children:t(`common:ReadableStats.${E.stat}`)})]})]})}b.propTypes={stat:_.string};function p(){console.log("onModalOk OK");const E=i.getFieldsValue();C(E),r(!1),e("refreshRelicsScore","null")}const C=E=>{if(!l)return;console.log("Form finished",E),E.stats[d.Stats.ATK_P]=E.stats[d.Stats.ATK],E.stats[d.Stats.DEF_P]=E.stats[d.Stats.DEF],E.stats[d.Stats.HP_P]=E.stats[d.Stats.HP];const P=x.clone(y.getMetadata().characters[l].scoringMetadata),N=y.getScoringMetadata(l);P.simulation=N.simulation;function k(B){return B??0}E.modified=!1;for(const B of Object.values(d.Stats))k(E.stats[B])!=k(P.stats[B])&&(E.modified=!0);y.updateCharacterScoreOverrides(l,E)},G=()=>{if(!l)return;const E=y.getMetadata().characters[l].scoringMetadata,P=R(E);y.updateCharacterScoreOverrides(l,E),i.setFieldsValue(P)};function g(){const E=()=>{console.log("Reset the scoring algorithm for all characters");for(const k of Object.keys(o)){const B=y.getMetadata().characters[k].scoringMetadata;y.updateCharacterScoreOverrides(k,B)}const P=y.getMetadata().characters[l].scoringMetadata,N=R(P);i.setFieldsValue(N)};return a.jsx(On,{title:t("Scoring.ResetAllConfirm.Title"),description:t("Scoring.ResetAllConfirm.Description"),onConfirm:E,okText:t("Scoring.ResetAllConfirm.Yes"),cancelText:t("Scoring.ResetAllConfirm.No"),children:a.jsx(w,{danger:!0,children:t("Scoring.Footer.ResetAll")})})}const T=()=>{r(!1)},D=l?U.getCharacterPreviewById(l):U.getBlank(),I=a.jsxs(na,{children:[a.jsx($e,{style:{margin:"7px 0px"},children:t("Scoring.WeightMethodology.Paragraph1")}),a.jsx(f,{justify:"space-between",style:{marginRight:30},children:a.jsx("ul",{children:a.jsxs(Et,{t,i18nKey:"Scoring.WeightMethodology.Paragraph2",children:[a.jsx("li",{children:a.jsx("u",{children:"Speed weight:"})}),a.jsx("li",{children:"â€” SPD is given a value of 1.0 for every character. This is due to the importance of speed tuning in team compositions, and the optimizer should be used to maximize each character's stats at a certain speed breakpoint."}),a.jsx("br",{}),a.jsx("li",{children:a.jsx("u",{children:"CRIT Rate / CRIT Damage weight:"})}),a.jsx("li",{children:"â€” Crit DPS in general are given the weights 0.75 ATK | 1.0 SPD | 1.0 CR | 1.0 CD, unless they have any other special scaling."}),a.jsx("li",{children:"â€” ATK is weighted slightly than CR and CD rolls because in general crit substats will provide a higher boost to damage."}),a.jsx("br",{}),a.jsx("li",{children:a.jsx("u",{children:"HP / DEF weight:"})}),a.jsx("li",{children:"â€” Defensive supports are given 2.0 weight to distribute between HP and DEF."}),a.jsx("li",{children:"â€” For each additional (0.75 | 1.0) stat weight that they scale with, deduct 0.5 down to a minimum of 1.0."}),a.jsx("li",{children:"â€” If 2.0 still remains and one of the stats is worth more than the other (Huohuo and HP% for example), assign a 1.0 / 0.75 split."}),a.jsx("li",{children:"â€” Offensive supports follow the same ruleset, except they start with 1.5 weight to distribute between HP and DEF."}),a.jsx("br",{}),a.jsx("li",{children:a.jsx("u",{children:"RES weight:"})}),a.jsx("li",{children:"â€” Support characters are granted 0.5 RES weight by default, with an additional 0.25 weight if they have synergy with RES or have critical team-saving abilities."})]})})}),a.jsx($e,{style:{margin:"7px 0px"},children:t("Scoring.WeightMethodology.Paragraph3")})]}),F=a.jsxs(na,{children:[a.jsx($e,{style:{margin:"7px 0px"},children:a.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph1",children:["Relic scores are calculated by"," ",a.jsxs("code",{children:["Score = substatScore / idealScore * ",{percentToScore:Gn}]}),". This allows for characters with fewer desired stats to achieve scores comparable to characters with many desired stats."]})}),a.jsx($e,{style:{margin:"7px 0px"},children:t("Scoring.CalculationMethodology.Paragraph2")}),a.jsx($e,{style:{margin:"7px 0px"},children:a.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph3",children:["The substatScore is calculated by"," ",a.jsx("code",{children:"SubstatScore = weight * normalization * value"}),". The weight of each stat is defined above, on a scale of 0 to 1. The normalization of each stat is calculated based on the ratio of their main stat values to Crit DMG with max value"," ",a.jsx("code",{children:"64.8"}),":"]})}),a.jsx(f,{justify:"space-between",style:{marginRight:120},children:a.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph4",children:[a.jsxs("ul",{children:[a.jsx("li",{children:a.jsx("code",{children:"CD BE = 64.8 / 64.8 == 1.0"})}),a.jsx("li",{children:a.jsx("code",{children:"DEF% = 64.8 / 54.0 == 1.2"})}),a.jsx("li",{children:a.jsx("code",{children:"HP% ATK% EHR RES = 64.8 / 43.2 == 1.5"})}),a.jsx("li",{children:a.jsx("code",{children:"CR = 64.8 / 32.4 == 2"})})]}),a.jsxs("ul",{children:[a.jsx("li",{children:a.jsx("code",{children:"SPD = 64.8 / 25.032 == 2.59"})}),a.jsx("li",{children:a.jsx("code",{children:"OHB = 64.8 / 34.561 == 1.87"})}),a.jsx("li",{children:a.jsx("code",{children:"ERR = 64.8 / 19.439 == 3.33"})}),a.jsx("li",{children:a.jsx("code",{children:"ELEMENTAL DMG = 64.8 / 38.88 == 1.67"})})]})]})}),a.jsx($e,{style:{margin:"7px 0px"},children:a.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph5",children:["Flat ATK/HP/DEF have a separate calculation:"," ","Their weights are automatically calculated based on the weights given to their respective % counterparts",a.jsx("code",{children:" % stat weight * flat stat low roll / (baseStats[stat] * 2 * % stat low roll)"}),"the weight calculation for flat atk for Seele for example would be:",a.jsx("code",{children:" 0.75 * 19 / (640 * 2 * 0.03888) = 0.75 * 19 / (640.33 * 2 * 0.03888) = 0.28619"}),"."]})}),a.jsx($e,{style:{margin:"7px 0px"},children:a.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph6",children:["The normalization is calculated based on the normalization for the respective % counterparts:",a.jsxs("li",{children:[a.jsx("code",{children:"64.8 / % main stat value * % stat high roll value / flat stat high roll value"}),". in combination with the adjusted weights, this allows for flat stats to be accurately scored when compared against their % counterparts."]})]})}),a.jsx($e,{style:{margin:"7px 0px"},children:a.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph7",children:["A letter grade is assigned based on the number of normalized min rolls of each substat. The score for each min roll is equivalent to"," ",a.jsx("code",{children:{minRollValue:bi}}),`
`,"The general scale for grade by rolls is",a.jsx("code",{children:"F=1, D=2, C=3, B=4, A=5, S=6, SS=7, SSS=8, WTF=9"})," ","with a"," ",a.jsx("code",{children:"+"})," ","assigned for an additional half roll."]})}),a.jsx($e,{style:{margin:"7px 0px"},children:a.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph8",children:["Character scores are calculated by"," ",a.jsx("code",{children:"Score = sum(relic scores) + sum(main stat scores)"}),". Only the feet/body/sphere/rope relics have main stat scores. The main stat score for a 5 star maxed relic is"," ",a.jsx("code",{children:"64.8"})," ","if the main stat is optimal, otherwise scaled down by the stat weight. Non 5 star relic scores are also scaled down by their maximum enhance. Characters are expected to have 3 full sets, so 3 rolls worth of score is deducted for each missing set."]})}),a.jsx($e,{style:{margin:"7px 0px"},children:a.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph9",children:["Relics with main stats (body/feet/sphere/rope) are granted extra rolls to compensate for the difficulty of obtaining optimal main stats with desired substats. These numbers were calculated by a simulation of relic rolls accounting for main stat drop rate and expected substat value. These rolls are first multiplied by the min roll value of"," ",a.jsx("code",{children:{minRollValue:bi}})," ","and then, if the main stat is not optimal, scaled down by the stat weight to obtain the bonus score value."]})}),a.jsx(f,{justify:"space-between",style:{marginRight:30},children:a.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph10",children:[a.jsxs("ul",{children:[a.jsx("li",{children:a.jsxs("code",{children:["Body â€” HP %: ",{mainStatBonusBodyHPP:oe[d.Parts.Body][d.Stats.HP_P].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Body â€” ATK %: ",{mainStatBonusBodyATKP:oe[d.Parts.Body][d.Stats.ATK_P].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Body â€” DEF %: ",{mainStatBonusBodyDEFP:oe[d.Parts.Body][d.Stats.DEF_P].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Body â€” CR: ",{mainStatBonusBodyCR:oe[d.Parts.Body][d.Stats.CR].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Body â€” CD: ",{mainStatBonusBodyCD:oe[d.Parts.Body][d.Stats.CD].toFixed(1)}]})})]}),a.jsxs("ul",{children:[a.jsx("li",{children:a.jsxs("code",{children:["Body â€” OHB: ",{mainStatBonusBodyOHB:oe[d.Parts.Body][d.Stats.OHB].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Body â€” EHR: ",{mainStatBonusBodyEHR:oe[d.Parts.Body][d.Stats.EHR].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Feet â€” HP %: ",{mainStatBonusFeetHPP:oe[d.Parts.Feet][d.Stats.HP_P].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Feet â€” ATK %: ",{mainStatBonusFeetATKP:oe[d.Parts.Feet][d.Stats.ATK_P].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Feet â€” DEF %: ",{mainStatBonusFeetDEFP:oe[d.Parts.Feet][d.Stats.DEF_P].toFixed(1)}]})})]}),a.jsxs("ul",{children:[a.jsx("li",{children:a.jsxs("code",{children:["Feet â€” SPD: ",{mainStatBonusFeetSPD:oe[d.Parts.Feet][d.Stats.SPD].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Sphere â€” HP %: ",{mainStatBonusSphereHPP:oe[d.Parts.PlanarSphere][d.Stats.HP_P].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Sphere â€” ATK %: ",{mainStatBonusSphereATKP:oe[d.Parts.PlanarSphere][d.Stats.ATK_P].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Sphere â€” DEF %: ",{mainStatBonusSphereDEFP:oe[d.Parts.PlanarSphere][d.Stats.DEF_P].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Sphere â€” Elemental DMG %: ",{mainStatBonusSphereElem:Hn.toFixed(1)}]})})]}),a.jsxs("ul",{children:[a.jsx("li",{children:a.jsxs("code",{children:["Rope â€” HP %: ",{mainStatBonusRopeHPP:oe[d.Parts.LinkRope][d.Stats.HP_P].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Rope â€” ATK %: ",{mainStatBonusRopeATKP:oe[d.Parts.LinkRope][d.Stats.ATK_P].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Rope â€” DEF %: ",{mainStatBonusRopeDEFP:oe[d.Parts.LinkRope][d.Stats.DEF_P].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Rope â€” BE: ",{mainStatBonusRopeBE:oe[d.Parts.LinkRope][d.Stats.BE].toFixed(1)}]})}),a.jsx("li",{children:a.jsxs("code",{children:["Rope â€” ERR: ",{mainStatBonusRopeERR:oe[d.Parts.LinkRope][d.Stats.ERR].toFixed(1)}]})})]})]})}),a.jsx($e,{style:{margin:"7px 0px"},children:t("Scoring.CalculationMethodology.Paragraph11")})]});return a.jsx(Ve,{open:c,width:900,destroyOnClose:!0,centered:!0,onOk:p,onCancel:T,forceRender:!0,footer:[a.jsx(w,{onClick:T,children:t("Scoring.Footer.Cancel")},"back"),a.jsx(w,{onClick:G,children:t("Scoring.Footer.Reset")},"default"),a.jsx(g,{},"resetAll"),a.jsx(w,{type:"primary",onClick:p,children:t("Scoring.Footer.Save")},"submit")],children:a.jsxs(X,{form:i,preserve:!1,layout:"vertical",onFinish:C,children:[a.jsx(Bi,{children:t("Scoring.StatWeightsHeader")}),a.jsx(f,{gap:10,vertical:!0,children:a.jsxs(f,{gap:20,justify:"space-between",children:[a.jsxs(f,{vertical:!0,gap:5,children:[a.jsx(X.Item,{size:"default",name:"characterId",children:a.jsx(Ha,{value:"",selectStyle:{},onChange:u})}),a.jsx("div",{style:{height:230,width:h,overflow:"hidden"},children:a.jsx("img",{src:D,style:{width:h}})})]}),a.jsxs(f,{vertical:!0,gap:3,children:[a.jsx(b,{stat:d.Stats.ATK}),a.jsx(b,{stat:d.Stats.HP}),a.jsx(b,{stat:d.Stats.DEF}),a.jsx(b,{stat:d.Stats.SPD}),a.jsx(b,{stat:d.Stats.CR}),a.jsx(b,{stat:d.Stats.CD}),a.jsx(b,{stat:d.Stats.EHR}),a.jsx(b,{stat:d.Stats.RES}),a.jsx(b,{stat:d.Stats.BE})]}),a.jsxs(f,{vertical:!0,gap:3,children:[a.jsx(b,{stat:d.Stats.ERR}),a.jsx(b,{stat:d.Stats.OHB}),a.jsx(b,{stat:d.Stats.Physical_DMG}),a.jsx(b,{stat:d.Stats.Fire_DMG}),a.jsx(b,{stat:d.Stats.Ice_DMG}),a.jsx(b,{stat:d.Stats.Lightning_DMG}),a.jsx(b,{stat:d.Stats.Wind_DMG}),a.jsx(b,{stat:d.Stats.Quantum_DMG}),a.jsx(b,{stat:d.Stats.Imaginary_DMG})]})]})}),a.jsx(Bi,{children:t("Scoring.MainstatsHeader")}),a.jsxs(f,{justify:"space-between",children:[a.jsxs(f,{vertical:!0,gap:S*2,children:[a.jsxs(f,{vertical:!0,gap:1,justify:"flex-start",children:[a.jsx(na,{style:{marginLeft:5},children:t("common:Parts.Body")}),a.jsx(X.Item,{size:"default",name:["parts",d.Parts.Body],children:a.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:m},placeholder:t("common:Parts.Body"),maxTagCount:"responsive",children:[a.jsx(K.Option,{value:d.Stats.HP_P,children:t(`common:Stats.${d.Stats.HP_P}`)}),a.jsx(K.Option,{value:d.Stats.ATK_P,children:t(`common:Stats.${d.Stats.ATK_P}`)}),a.jsx(K.Option,{value:d.Stats.DEF_P,children:t(`common:Stats.${d.Stats.DEF_P}`)}),a.jsx(K.Option,{value:d.Stats.CR,children:t(`common:Stats.${d.Stats.CR}`)}),a.jsx(K.Option,{value:d.Stats.CD,children:t(`common:Stats.${d.Stats.CD}`)}),a.jsx(K.Option,{value:d.Stats.OHB,children:t(`common:Stats.${d.Stats.OHB}`)}),a.jsx(K.Option,{value:d.Stats.EHR,children:t(`common:Stats.${d.Stats.EHR}`)})]})})]}),a.jsxs(f,{vertical:!0,gap:1,justify:"flex-start",children:[a.jsx(na,{style:{marginLeft:5},children:t("common:Parts.Feet")}),a.jsx(X.Item,{size:"default",name:["parts",d.Parts.Feet],children:a.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:m},placeholder:t("common:Parts.Feet"),maxTagCount:"responsive",children:[a.jsx(K.Option,{value:d.Stats.HP_P,children:t(`common:Stats.${d.Stats.HP_P}`)}),a.jsx(K.Option,{value:d.Stats.ATK_P,children:t(`common:Stats.${d.Stats.ATK_P}`)}),a.jsx(K.Option,{value:d.Stats.DEF_P,children:t(`common:Stats.${d.Stats.DEF_P}`)}),a.jsx(K.Option,{value:d.Stats.SPD,children:t(`common:Stats.${d.Stats.SPD}`)})]})})]})]}),a.jsxs(f,{vertical:!0,gap:S*2,children:[a.jsxs(f,{vertical:!0,gap:1,justify:"flex-start",children:[a.jsx(na,{style:{marginLeft:5},children:t("common:Parts.PlanarSphere")}),a.jsx(X.Item,{size:"default",name:["parts",d.Parts.PlanarSphere],children:a.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:m},placeholder:t("common:Parts.PlanarSphere"),listHeight:400,maxTagCount:"responsive",children:[a.jsx(K.Option,{value:d.Stats.HP_P,children:t(`common:Stats.${d.Stats.HP_P}`)}),a.jsx(K.Option,{value:d.Stats.ATK_P,children:t(`common:Stats.${d.Stats.ATK_P}`)}),a.jsx(K.Option,{value:d.Stats.DEF_P,children:t(`common:Stats.${d.Stats.DEF_P}`)}),a.jsx(K.Option,{value:d.Stats.Physical_DMG,children:t(`common:Stats.${d.Stats.Physical_DMG}`)}),a.jsx(K.Option,{value:d.Stats.Fire_DMG,children:t(`common:Stats.${d.Stats.Fire_DMG}`)}),a.jsx(K.Option,{value:d.Stats.Ice_DMG,children:t(`common:Stats.${d.Stats.Ice_DMG}`)}),a.jsx(K.Option,{value:d.Stats.Lightning_DMG,children:t(`common:Stats.${d.Stats.Lightning_DMG}`)}),a.jsx(K.Option,{value:d.Stats.Wind_DMG,children:t(`common:Stats.${d.Stats.Wind_DMG}`)}),a.jsx(K.Option,{value:d.Stats.Quantum_DMG,children:t(`common:Stats.${d.Stats.Quantum_DMG}`)}),a.jsx(K.Option,{value:d.Stats.Imaginary_DMG,children:t(`common:Stats.${d.Stats.Imaginary_DMG}`)})]})})]}),a.jsxs(f,{vertical:!0,gap:1,justify:"flex-start",children:[a.jsx(na,{style:{marginLeft:5},children:t("common:Parts.LinkRope")}),a.jsx(X.Item,{size:"default",name:["parts",d.Parts.LinkRope],children:a.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:m},placeholder:t("common:Parts.LinkRope"),maxTagCount:"responsive",children:[a.jsx(K.Option,{value:d.Stats.HP_P,children:t(`common:Stats.${d.Stats.HP_P}`)}),a.jsx(K.Option,{value:d.Stats.ATK_P,children:t(`common:Stats.${d.Stats.ATK_P}`)}),a.jsx(K.Option,{value:d.Stats.DEF_P,children:t(`common:Stats.${d.Stats.DEF_P}`)}),a.jsx(K.Option,{value:d.Stats.BE,children:t(`common:Stats.${d.Stats.BE}`)}),a.jsx(K.Option,{value:d.Stats.ERR,children:t(`common:Stats.${d.Stats.ERR}`)})]})})]})]})]}),a.jsx(Bi,{children:t("Scoring.WeightMethodology.Header")}),a.jsx(ji,{ghost:!0,items:[{key:"1",label:t("Scoring.WeightMethodology.RevealText"),children:I}]}),a.jsx(Bi,{children:t("Scoring.CalculationMethodology.Header")}),a.jsx(ji,{ghost:!0,items:[{key:"1",label:t("modals:Scoring.CalculationMethodology.RevealText"),children:F}]})]})})}const{useToken:kS}=Ce,{Text:NS}=pt;function US(){const{token:t}=kS(),e=window.store(s=>s.activeKey),i=L.useMemo(()=>HS(),[]);if(e!=mt.CHANGELOG)return a.jsx(a.Fragment,{});function l(s,o){const c=[];let r=0;for(const u of s)u.endsWith(".webp")?c.push(a.jsx("img",{src:U.getChangelog(`${o.date}/${u}`),loading:"lazy",style:{border:`2px solid ${t.colorBgContainer}`,margin:5,maxWidth:1200}},r++)):u.startsWith("https")?c.push(a.jsx("li",{children:a.jsx(Wn,{text:u,url:u},r++)},r++)):c.push(a.jsx("li",{children:a.jsx(NS,{style:{fontSize:16},children:u})},r++));return a.jsxs(f,{vertical:!0,children:[a.jsx(pt.Title,{style:{marginLeft:20},children:a.jsx("u",{children:`Update ${o.date}`})}),a.jsx("ul",{children:c})]})}return a.jsx(Al,{itemLayout:"vertical",size:"large",pagination:{onChange:s=>{console.log(s)},position:"bottom",align:"start",pageSize:4},dataSource:i,renderItem:s=>a.jsx(Al.Item,{children:l(s.content,s)},s.title)})}function HS(){const t=[{title:"",date:"09-20-2024",content:["Added a Relic Locator tool to the Relics tab for finding the relic's row / column in the inventory","locator.webp","Updated all assets files to high quality images for character portraits, light cones, icons","Readjusted the crop and zoom for the new portrait assets","Reduced the light cone portrait height for Combat scoring view","Moved the Character Menu button to the top of the Characters tab for better findability","characterTab.webp","Reliquary is now updated for 2.5","reliquary.webp","Updated Rappa's default scoring team","rappaTeam.webp","Added pointer cursors to clickable icons","Optimizer tab character and teammate menus are now open upon clicking their icons","Fix: Save file now correctly loads previous scoring algorithm changes","Fix: Pioneer Diver of Dead Waters 0x conditional now correctly applies","Balance: Lowered the scoring penalty for missing flat stat breakpoints for combat scoring","Balance: Updated Pioneer Diver of Dead Waters default conditional to 3x+ for characters with debuffs","Balance: Changed Rappa's scoring weights from 1 ATK / 1 SPD / 1 BE to 0.5 ATK / 1 SPD / 1 BE"]},{title:"",date:"09-08-2024",content:["Added GPU acceleration to perform calculations on the graphics card for a significant improvement in optimizer search speed","Enabling GPU acceleration will improve the optimizer's search speed to hundreds of millions of permutations per second, up to billions on high end devices","3 compute engine options are now available","â€” GPU Experimental: Fastest search speed but potentially unsupported on some devices","â€” GPU Stable: Fast search speed for general device compatability (default)","â€” CPU Only","GPU acceleration only supported on Windows & Mac: Chrome, Opera, Edge browsers, Linux: Chromium browsers with a cli flag","gpu.webp","Updated the substat scoring algorithm to score relics stats relative to the maximum possible score on the relic","This means that when a weighted substat is occupied by the main stat, the score value of the remaining substat weights increases","Default character weights were rebalanced to account for this, and now more accurately reflect the true value of substats, for example:","Firefly's previous weight of 1.0 ATK / 1.0 SPD / 1.0 BE has been updated to 0.5 ATK / 1.0 SPD / 1.0 BE since her passive converts ATK at roughly half the value of BE","While the ATK weight was reduced, this actually makes the score value of SPD and BE higher since the new system scores stats relative to the other weights","The updated substat weight methodology can be viewed from the Scoring Algorithm menu","scoring.webp","Updated the copy screenshot button to work for all browsers. Also works on mobile devices now","screenshot.webp","Updated the Edit Portrait workflow to be smoother. Added an 'Upload new image' button to change the portrait","portrait.webp","Multiple relics can now be selected and deleted simultaneously on the Relics tab with Shift + Click and Ctrl + Click","multiselect.webp","Added a new setting for enabling / disabling a full inventory rescore on page load. Disable for faster load times on large inventories","scoreSetting.webp","Results limits for the optimization target have been changed to be compatible with GPU optimizer - now defaults to 1024 results","resultCount.webp","The Relic Insights tool now opens the character scoring panel on click, and now updates correctly when the selected character is changed","insights.webp","Updated with version 2.6v1 content","rappa.webp","Clicking the light cone portrait on character cards now bring up the Edit Character / Light Cone menu","Added a confirmation popup for resetting optimizer filters","Added on-hit buffs for the character's primary ability to the Combat stats section of scoring cards","Relic scorer URL can now be shared with user IDs included","Relic cards now show a border on hover","Performance: Improved relic scorer stability","Performance: Improved portrait image loading times, fixed images jumping around when loading","Performance: Improved character card loading time for Combat score cards","Performance: Improved relic import responsiveness","Performance: Improved editing and saving relics responsiveness","Fix: Some custom portrait dimensions were not cropping correctly","Fix: On the Relics tab, relics will remain selected after editing it","Fix: Prevent Combat stats panel from overflowing on scoring cards","Fix: Firesmith of Lava-Forging 4p was incorrectly adding combat buffs","Fix: Relic / ornament set selector on Optimizer tab was incorrectly rendering overflowing tags","Fix: But the Battle Isn't Over was not showing the Energy Regeneration Rate passive","Balance: Allow ATK % rope on Lingsha default scoring","Balance: Fixed a bug where the 200% benchmark used an extra substat roll in some cases, resulting in an impossible build. Minor DPS Score buff to affected characters","Balance: The Wind-Soaring Valorous 4p is now disabled by default, but activated by default only for specific characters who can benefit from it","Balance: Updated Jiaoqiu to have 3x stacks of Prisoner in Deep Confinement 4p by default","Balance: Updated Moze to have 3x+ stacks of Pioneer Diver of Dead Waters 4p by default","Balance: Updated Jade to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Updated Herta to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Updated Yunli to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Updated Himeko to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Revisited all characters weights and adjusted values for maximum-potential based relic scoring","Balance: Kafka weights","â€” Prev: 1.0 ATK / 1.0 SPD / 0.5 CR / 0.5 CD / 0.5 EHR / 0.75 BE","â€” Now: 1.0 ATK, 1.0 SPD, 0.5 EHR","Balance: Silver Wolf weights","â€” Prev: 0.5 ATK / 0.25 DEF / 0.25 HP / 1.0 SPD / 0.75 CR / 0.75 CD / 1.0 EHR / 0.75 BE","â€” Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Asta weights","â€” Prev: 0.75 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES / 0.5 BE","â€” Now: 0.5 ATK / 0.5 DEF / 1.0 HP / 1.0 SPD / 0.5 RES / 0.5 BE","Balance: Bronya weights","â€” Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 CD / 0.75 RES","â€” Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 CD / 0.75 RES","Balance: Pela weights","â€” Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 EHR / 0.75 RES","â€” Now: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Tingyun weights","â€” Prev: 1.0 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES","â€” Now: 1.0 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.5 RES","Balance: Fu Xuan weights","â€” Prev: 0.75 DEF / 1.0 HP / 1.0 SPD / 0.75 RES","â€” Now: 1.0 DEF / 1.0 HP / 1.0 SPD / 0.5 RES","Balance: Guinaifen weights","â€” Prev: 1.0 ATK / 1.0 SPD / 1.0 EHR / 0.75 BE","â€” Now: 1.0 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Hanya weights","â€” Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES","â€” Now: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.5 RES","Balance: Jiaoqiu weights","â€” Prev: 0.5 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR","â€” Now: 0.5 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Ruan Mei weights","â€” Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES / 1.0 BE","â€” Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 0.5 RES / 1.0 BE","Balance: Aventurine weights","â€” Prev: 1.0 DEF / 0.5 HP / 1.0 SPD / 1.0 CR / 1.0 CD","â€” Now: 1.0 DEF / 1.0 SPD / 1.0 CR / 1.0 CD","Balance: Sparkle weights","â€” Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 CD / 0.75 RES","â€” Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 CD / 0.5 RES","Balance: Black Swan weights","â€” Prev: 1.0 ATK / 1.0 SPD / 1.0 EHR / 0.5 BE","â€” Now: 1.0 ATK / 1.0 SPD / 1.0 EHR","Balance: Robin weights","â€” Prev: 1.0 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES","â€” Now: 1.0 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 0.5 RES","Balance: Firefly weights","â€” Prev: 1.0 ATK / 1.0 SPD / 1.0 BE","â€” Now: 0.5 ATK / 1.0 SPD / 1.0 BE","Balance: Boothill weights","â€” Prev: 0.5 ATK / 1.0 SPD / 0.75 CR / 0.75 CD / 1.0 BE","â€” Now: 0.25 ATK / 1.0 SPD / 0.25 CR / 0.25 CD / 1.0 BE","Balance: Trailblazer Harmony weights","â€” Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES / 1.0 BE","â€” New: 0.5 DEF / 0.5 HP / 1.0 SPD / 0.5 RES / 1.0 BE","Keep in mind with the new substat scoring system, a reduction in one stat's weight now actually makes the other substats worth more","Meaning in most cases these weight reductions actually are buffs to the scores of good relics"]},{title:"",date:"08-19-2024",content:["Added a new Combat Stats view for the score card, showing the character's fully buffed in-combat details","combat.webp","Added a new toggle to switch between Combat Stats and Damage Upgrades card view","upgrades.webp","Added a new panel to suggest filter changes when optimizer searches produce zero results","popup.webp","Updated scoring card with better rules for showing relevant stats","Renamed Sim Damage to Combo DMG for clarity","stats.webp","Updated Edit Character menu to auto-populate the light cone path, added path icons","Switching light cones will now reset its superimposition to S1","modal.webp","Relic scorer card now has an Edit character button","edit.webp","Moved Relic Scorer tab to a new Showcase menu at the top of the sidebar for visibility","showcase.webp","Updated content to version 2.5v4","Editing a relic now re-scores it automatically and updates the Relics tab grid","Updated Kel-Z and Reliquary Archiver imports to support the new v4 format","Fix: Some relic set text descriptions were out of date","Fix: Importing relics no longer overwrites the optimizer's equipped owner","Balance: Kafka / Black Swan's sim scoring updated to lean more towards DoT","Balance: Moze's default sim updated to to 4p Pioneer, allow Ashblazing and Izumo","Balance: Feixiao's damage combo updated to remove Break, updated combo with her ult changes"]},{title:"",date:"08-10-2024",content:["Added Healing Boost and Energy Regen on the character score card","Removed CV from the stat card","card.webp","Optimizer builds can now be pinned to the top of the grid for easier comparisons","pin.webp","The Relic scorer can now import characters along with relics","import.webp","Updated the Edit character menu with more convenient selectors","edit.webp","Added estimated time remaining to optimizer searches","eta.webp","Added an Equipped state filter to the Relics tab","equipped.webp","Added Lushaka set to teammate effects","lushaka.webp","Updated with 2.5 beta data","Fix: Conditional sliders max/min selections will now update properly when eidolons change","Fix: The baseline simulation will now use the best default set when the user's character isn't using an equivalent set","Fix: Lingsha calculations now correctly take into account teammate super break triggers","Balance: Himeko's default ornament set is now Duran","Balance: Dr Ratio's default ornament set is now Duran","Balance: Feixiao secondary ult now forces weakness break to enabled","Balance: Removed break damage from Feixiao's rotation","Balance: Adjusted logic for simulation scoring using speed boots vs atk boots"]},{title:"",date:"07-08-2024",content:["Buffed DPS scores across all characters, making the 100% benchmark slightly easier to reach","benchmark.webp","The Characters tab now has a search bar, and filters for element / path","search.webp","The Relics tab custom characters menu now has buttons to Exclude all / Clear","Custom view is now the default","exclude.webp","Reliquary archiver is back online and been updated for v2.3, new download required","reliquary.webp","Re-formatted optimizer grid headers for readability","grid.webp","Characters' default scoring combo is now automatically filled in on the optimizer","combo.webp","Updated Yunli's default scoring team","yunli.webp","Updated Yunli and March 8th's Ashblazing set calcs","Updated v2.3 characters conditional tooltips","Re-centered all light cones for simulation scoring view","Fix: Updated ability-type buff logic to correctly apply DMG buffs on characters that can change ability types","Fix: Aventurine now correctly applies CD buff on Unnerved","Fix: Certain relics weren't showing correctly in Hoyolab import","Fix: Duran and Lantern set stats are now applied correctly for scoring","Fix: Manual relic creation was broken in certain cases","Balance: Allow the scoring simulation to use Lantern/Talia sets as well as Cavalry on Harmony MC teams","Balance: Seele E1 CR buff is now disabled by default","Balance: March 8th now uses S5 Cruising in the Stellar Sea for scoring"]},{title:"",date:"06-18-2024",content:["Added 2.4 characters and light cones","beta.webp","Changed DPS Score Improvements -> Damage improvements and updated the percentage to use damage","damageImprovements.webp","Added relic counter on the relics tab grid","relicCount.webp","The sorted optimizer column is now highlighted","highlightColumn.webp","Moved enemy options to an Enemy configurations menu under Advanced options","advancedOptions.webp","Added Effect RES as a customizable enemy option for DoT calcs","enemyConfigurations.webp","Added options to toggle seeing all / custom characters on the potential graph","customCharacters.webp","Expanded the Extra combat stats menu with more buff options","combatBuffs.webp","Added a new Boost main stat option to select the desired main stat upgrade level","optimizerOptions.webp","Added character icons to various places","Character cards now zoom out properly for the smaller sim scoring portrait","Fix: Herta's technique now disabled by default","Fix: Manually editing verified relics will now remove their verified status","Fix: Elemental damage now shows correctly on the character card","Fix: Corrected display bug on relics tab potential upgrades suggesting invalid stats","Fix: Ruan Mei's E2 is now correctly calculated for Firefly","Fix: Harmony Trailblazer is now imported correctly from the scanners","Balance: Increased DoT scoring for Luka / Sampo","Balance: Adding Break Effect and Cavalry set as valid BiS scoring options when HMC is on the simulation team","Balance: Adjusted multiple support characters main stats to be more flexible","Balance: Firefly's scoring stats have been adjusted","Balance: Firefly's default sim now uses Cavalry / Lantern sets"]},{title:"",date:"06-06-2024",content:["Improved relic edit menu UI, with automatic substat upgrade calculations","relicModal.webp","DPS Score upgrades section now shows the score improvement of switching main stats, and switching to BiS relic set","scoreUpgrades.webp","Adding option to switch between scoring types","switchScoring.webp","Added a settings menu for combat sim options","scoringSettings.webp","Added new Edit character button to the Characters tab for changing eidolons / lcs","editCharacter.webp","Added new Sim Damage stat for showing the simulated combo damage used for scoring","simDamage.webp","Added new version of the substat weight filter, to filter relics by minimum weighted rolls per gear slot","substatWeight.webp","Changed the scoring grade scale to balance DPS score changes","newGrades.webp","Updated build analysis section with more details about the benchmark builds","buildAnalysis.webp","Added HoyoLab import to the scanner options","importer.webp","Various other DPS score balance changes, detailed out in the methodology section. New benchmark ruleset measures against 0% / 100% / 200% builds","Fix: Sets were not activating correctly in some cases for Aventurine","Fix: Jade now correctly applies Ashblazing set buffs","Fix: Boothill's Standoff conditional now correctly applies as a vulnerability instead of DMG increase","Fix: Sleep Like the Dead's Crit Rate buff is now deactivated by default","Fix: Cruising in the Stellar Sea's Crit Rate buff is now deactivated by default","Fix: Adjusted Firefly and Boothill scoring main stats","Fix: Ruan Mei scoring can now use all main stats for body / sphere"]},{title:"",date:"05-22-2024",content:["Updated with new character card layout","Added damage simulation based character scoring","newScore.webp","Add custom teammates display","customTeam.webp","Added a substat upgrade calculation for damage scoring","scoreUpgrades.webp","More details about the simulation scoring can be found below the character card","scoreSummary.webp","Added EHR considerations for DoT damage calculation, assumes 20% enemy RES","Adding customizable Rotation Combo damage formula","comboMenu.webp","The combo results can be filtered and sorted in the optimizer","comboGrid.webp","Added responsive handling to optimizer permutations sidebar, which now collapses into a footer for smaller screens","footer.webp","Moved Combat Buffs menu into a drawer","combatBuffs.webp","Added a +3 enhance button to the Relic Edit modal for easy enhancing","plusThree.webp","Added bar search to damage sim selectors","Raised Robinâ€™s ATK cap to 8000","Raised Robinâ€™s ATK default to 5000","Reliquary version bumped to 0.1.6","Character / light cone images are now blurred while loading","Updated with beta 5.3v3 changes","Fix: Fixed Firefly Break Effect conversion interaction with ratio converted ATK buffs (Robin/Lynx)","Fix: Ruan Meiâ€™s default sort is now Break Effect","Fix: Robinâ€™s default sort is now ATK","Fix: Prevent Ult DMG buffs from applying to Robinâ€™s ult (Salsotto)","Fix: Removed Jade skill damage","Fix: Sparkle now correctly applies her skill CD","Fix: Custom character weights are now applied to the optimizer page","Fix: Allow all main stats for Harmony MC on body and sphere","Fix: Super break override now applies correctly to HMC","Fix: Prevent teammate sync from adding messenger set to calculations","Fix: Various relics tab potential optimality bugs have been fixed","Fix: Characters with not enough desired stats now score correctly on relics tab","Fix: Renamed Base stats to Basic stats"]},{title:"",date:"05-07-2024",content:['Added a new "Character custom stats simulation" feature',"This allows for simulating and comparing multiple character builds with custom main stats / teammates / sets / substats without having to edit relics","The substat rolls view calculates builds based on the number of max rolls in each substat","Optimizer builds can be imported as substat roll simulations","rollSim.webp","The substat totals view simulates the sum of the substat values","totalsSim.webp","Jade and Firefly have been added with damage calculations, and to the Relic Scorer experiment options","jade.webp","Custom character portraits can now be saved from the Relic Scorer","scorer.webp","Updated Harmony Trailblazer with Super Break DMG calculations","When the Super Break conditional is enabled, each ability's toughness DMG will be used to calculate Super Break DMG, which is added to the respective ability's damage column","superBreak.webp","Added new 2.3 relic sets","relics.webp","Added new 2.3 ornament sets","ornaments.webp","Reliquary Archiver is now the recommended scanner","Note: It may have a few hours of downtime following new ingame patches","import.webp","New updates will now show a notification linking to the changelog","update.webp","Added a new settings panel","The first setting is toggle the behavior when equipping relics with another owner, which now defaults to replacing without swapping","settings.webp","Using the Recommended Presets button now takes into account custom scoring overrides","Newly added characters will have their recommended presets applied by default","Harmony Trailblazer's default teammate Break Effect conditional is now 200%, and the cap is increased to 400%","The Genius set's conditional effects are now only active by default on Quantum characters, and disabled by default otherwise","Fix: Tingyun SPD buff is now disabled by default due to having inconsistent uptime","Fix: Himeko's SPD buff is now disabled by default due to having inconsistent uptime","Fix: Qingque's SPD buff is now disabled by default due to having inconsistent uptime","Fix: Sparkle's self-skill buff is now disabled on herself by default","Fix: Bronya's battle-start buffs are now disabled by default","Fix: Asta's skill now correctly calculates the sum of the bounces for damage instead of an individual hit","Fix: Remove ATK% rope from Robin's presets","Fix: Main stat free rolls are now applied correctly to non-full-weight main stats. This results in a minor score buff for certain main stats","Fix: Various visual overflow issues on small screens"]},{title:"",date:"04-18-2024",content:["Launched a new leak-free version of the optimizer which has no leaks and only contains officially released content","https://starrailoptimizer.github.io","noLeaks.webp","Added a one-click-optimize button to the Relic Scorer page, accessed by clicking the graph icon or the Optimize Character Stats button","This automatically imports the scored profile relics, adds the character and light cone, applies recommended filters and conditionals, and starts an optimizer search","This is meant to be an easy way for new users to get started using the optimizer","oneClick.webp","Updated the Get Started tab with up to date instructions and a step-by-step guide to using the optimizer for the first time","getStarted.webp","Added new Average potential view as an option alongside Max potential on Relics tab","potentialUpdates.webp","Relic potential ratings menu now has a Custom characters view enabled by default, where only a subset of characters are considered for the potential calculations","relicRatings.webp","All characters are included initially, then specific characters can be selected to excluded from the relic potential view","customCharacters.webp","Clicking empty relic slots now brings up the Add New Relic menu","clickEmpty.webp","Added icons to sidebar menu tabs","Added a button to hide the menu sidebar for easier viewing on smaller screens","hideSidebar.webp","Updated the Recommended Presets speed breakpoints to 1000ths precision","breakpoints.webp","Ambiguous speed values near specific breakpoints (such as 133.333..) are now displayed to 1000ths precision for checking if the breakpoint is met","spdValues.webp","Added a Reset All Characters button to the scoring algorithm menu","resetAll.webp","Rephrased pioneer conditional to specify between basic and combat stat buffs","The last optimized character will now be open by default on the next session","The Simulate Relics On Another Character menu is now open by default on the Relic Scorer tab","Updated Boothill damage calcs","Updated Robin damage calcs","Fix: Herta now correctly defaults to FUA sort","Fix: Removed leftover unused character level selectors, all characters now default to level 80","Fix: Black Swan E1 now correctly only applies res shred on DOT elements","Fix: Scores for saved builds will now update with scoring changes","Fix: Creating new relics with an owner now equips the relic"]},{title:"",date:"04-04-2024",content:["Added Break DMG calculations for all characters and a sortable BREAK column in the optimizer grid","breakDmg.webp","Updated Boothill's Enhanced basic attack calculation to include his Talent's additional break damage",`Updated Boothill's conditional toggle to be "Talent break DMG (forces weakness break)" which overrides the weakness break option when enabled`,"Updated Boothill's default sort option to Basic DMG","boothill.webp","Updated Boothill's scoring algorithm to prioritize SPD and Break Effect","boothillScore.webp","Added a display for the artist's name on custom character portraits","artist.webp","The artist name can be updated along with the image on the crop menu","Enabled gif uploads for custom character portraits","artistInput.webp","Updated Reliquary Archiver import for 2.1 patch, which imports accurate speed decimals for the entire inventory","archiver.webp",'Added new character action menu entry to "Sort by score" which rearranges the character priority by their character scores',"sortByScore.webp","Updated conditional set effects for Pioneer Diver of Dead Waters set with a 0x debuffs option which disables the 2p effect","pioneer.webp","Removed the Enemy HP% selector from the enemy options panel, and replaced it with Enemy Toughness, which affects the Break DMG calculations in the optimizer","tough.webp","Since the Enemy HP% selector was removed, updated character conditionals that depended on it to have their own toggle","Dan Heng now has an enemy HP% threshold toggle","Himeko now has an enemy HP% threshold toggle","Herta now has an enemy HP% threshold toggle","Argenti now has an enemy HP% threshold toggle","Reduced the filesize of assets for faster image loading","Optimizer search speed improvements for unfiltered searches","Added warning popup for optimizer searches with mismatching character and light cone paths",`Ruan Mei's teammate buff renamed to "Overtone buff" and now also applies her weakness break efficiency buff`,"Gallagher's Besotted buff added with Break DMG vulnerability","Fix: Argenti A6 trace now correctly applies to all his abilities instead of just ult DMG","Fix: Updated tooltips for 2.1 light cones","Fix: Updated Along the Passing Shore light cone's passive effect to Mirage Fizzle","Fix: Planetary Rendezvous now shows correctly on the teammate buffs panel","Fix: Bug with unselectable main stats being available in the Edit Relic view in certain cases","Fix: Stat filters are now saved to 1000ths precision"]},{title:"",date:"03-26-2024",content:['Added custom character portrait images, through the "Edit portrait" menu button on the character preview/relic scorer',"sparkle.webp","Portrait images can be selected by url or uploaded from file","crop.webp","Added substat roll count indicators to relics, showing the number of additional rolls per stat","rollQuality.webp","Added new relic rating tools to the Relics tab: for evaluating relic potential for the selected character or all characters","When selecting a character on the Relics grid, all selected relics will show their score according to the selected character's weights","relicsGrid.webp","Added new Relic Insights: Buckets graphs to display the potential of a relic and which characters are the best fit for the stats","relicBuckets.webp","The Relic Insights: Top 10 view shows the min/max range of potential for the top 10 best fit characters","relicTop10.webp","Added new 2.1 sets: Sigonia, the Unclaimed Desolation & Izumo Gensei and Takama Divine Realm","21sets.webp","Added new importer option for the Reliquary Archiver (beta) which can import accurate speed decimals for the entire inventory","importer.webp","Added new Optimization Target options to the optimizer page.","optimimationTarget.webp","This removes the 2 million results hard cap from before.","resultsLimit.webp","Choose the desired optimization goal for damage/stats/rating, and select a results limit, to find the top search results sorted by the target","sortBy.webp","Stat decimals are now shown to 1000ths precision on the Character preview when hovered","spdHover.webp","Added new Character action to switch relics with another character","switchRelics.webp","Added new 2.2 characters: Robin / Boothill / Harmony Trailblazer","Added new 2.2 light cones: Boundless Choreo / For Tomorrow's Journey / Flowing Nightglow / Sailing Towards A Second Life","22chars.webp","Adjusted character optimal main stats, allowing more lenient options such as ATK% spheres for DPS and any sphere stats for Bronya/Sparkle","Removed level selectors on Optimizer tab - all optimizations now assume level 80 character and light cone","Made the sidebar menu always stay on screen when scrolling","Fix: Relic imports from scanning newly rolled relics before logout no longer causes duplicate relics","Fix: Download screenshot button on mobile devices and Safari browsers now generates the image correctly","Fix: Pela E2 skill conditional SPD buff is now off by default","Fix: Bronya technique conditional ATK buff is now off by default","Fix: Silver Wolf skill conditional weakness implanted RES shred is now off by default","Fix: Sparkle talent conditional Quantum allies ATK buff now only applies to Quantum elemental main characters","Fix: Acheron trace Stygian Resurge now has its own slider instead of assuming all hits on target","Fix: Seele E1 conditional CR buff now has its own toggle instead of being linked to the enemy HP selector"]},{title:"",date:"03-12-2024",content:["Added a new visual character selector menu with search and filters","charSelect.webp","Light cone selectors are also updated and now default to the selected character's path","lcSelect.webp","Added a new menu that automatically shows suggestions to fix common misconfigurations in setting up optimizer searches that result in 0 permutations","zeroPerm.webp","Presets speed breakpoints are now defined to 100ths precision","presets.webp","Added def values to enemy level selector","enemyDef.webp","Updated calculations with the latest beta character abilities","Reorganized some stat orderings for consistency",`Fix: Light cone "Today is Another Peaceful Day" now defaults to the character's max energy`,"Fix: E2/E5 eidolon calculations for some characters","Fix: EHP filter works again","Fix: Linking to #scorer and other pages works again","Fix: Permutations now refresh when navigating to Optimizer tab","Fix: Alerts can now be closed when clicking on them"]},{title:"",date:"02-28-2024",content:["Enabled up/down arrow key navigation for grids","Updated the selected row overlay to be more visible","gridRow.webp","Added new priority and exclusion selectors in optimizer options","Priority can now be changed from the optimizer tab now instead of dragging. Exclude will additionally filter out specific characters relics","priorityExclude.webp","Added a notice to update when the scanner version is out of date","outOfDate.webp","Relic scorer Simulate button has been move to a sidebar, and now has preset characters for current/upcoming banners","simulate.webp","Added a sortable CV column for crit value to the Relics tab","cvColumn.webp",'Added a "Move to top" action button to the Characters tab',"moveToTop.webp","Started adding more icons to selectors for readability, more to come","icons.webp","Removed CV column & filter from optimizer tab - damage calculations are a better option to sort by now",'Stats display is set to "Combat Stats" by default now, also the setting now saves correctly per character',"Changed relic scorer API in preparation for upcoming leaderboards update"]},{title:"",date:"02-20-2024",content:["Added: Acheron / Aventurine / Gallagher","newChars.webp",'Added: "Simulate relics on another character" button on the Relic scorer.',"Now the profile characters' builds can be simulated as unowned or unreleased characters & light cones to preview their gear with accurate base stats","simulate.webp","Added: Teammates menu for the optimizer. This automatically adds the teammate's character passives/eidolons/light cone/relic sets to the calculations for more accurate results","teammates.webp","Added: Character builds can now be saved as loadouts, keeping a history of saved builds that can be easily swapped between","savedBuilds.webp","Added: Changelog page to track new optimizer changes","changelog.webp","Moved stat display to the sidebar for easier access","statDisplay.webp",'Clicking "Start optimizing" now scrolls the page down to the results grid',"Deprecated the Fribbels scanner option in favor of the Kel-Z scanner","Energy Regeneration Rate column can be filtered on now","Imports now work with scanner files that only contain characters/light cones without relics","Minor scoring changes for: Sushang, Luka, Physical Trailblazer, Blade, Silver Wolf, Kafka, and Preservation characters"]},{title:"",date:"02-05-2024",content:["Added 'Recommended Presets' button to fill out the optimizer with some suggested values","presets.webp","Added the new Pioneer & Watchmaker relic sets","newSets.webp","Added support for 8 relic scorer slots","scorer8Characters.webp","All character and light cone passives now have descriptions on hover","skillDescriptions.webp","Reorganized Character tab buttons with new Add / Edit character actions","characterActions.webp","Added a Screenshot button for copying the character preview to clipboard / downloads","screenshot.webp","Added a progress bar for the search","progress.webp","Updated damage calcs with all 2.0 light cones","Relic set filters now have a 2 piece + Any option","Improved optimizer search performance, should run 3-6x faster now"]},{title:"",date:"01-22-2024",content:["Black Swan / Sparkle / Misha added with dmg calcs and their signature light cones","newChars.webp","New 'Use equipped relics' optimizer filter toggle","useEquipped.webp","Optimizer grid now shows speed decimals","spd.webp","QOLs for relic editing for autofilled main stats","Double clicking on the characters list now will navigate to the optimizer"]},{title:"",date:"01-13-2024",content:["Big update to the relics tab, including filters and a relic recommendation tool","The recommendation tool scores each relic by its potential at +15 to help with picking which unenhanced relics to roll while building characters","relicsTab.webp","Also updated the Relic Scorer with an import option - now you can import relics directly from your ingame profile characters, with accurate speed values","import.webp"]},{title:"",date:"01-06-2024",content:["Accurate damage calculations for every character, and new optimization columns for average Basic / Skill / Ult / Follow-up / DoT damage","calcs.webp","Character abilities + Light cone passive selectors to customize the damage simulation","passives.webp","Relic set effects menu for customizing which sets to activate","setEffects.webp","New filtering tools including the substat weight filter to reduce permutations & improve search time","weightFilter.webp","Enemy count / DEF / RES / HP / and weakness selectors for optimizing specific combat scenarios","enemyOptions.webp","Integrated with the Kel-Z HSR Scanner for faster & more accurate scans","importer.webp","Expanded combat buffs options for adding more team effects like SPD / DMG% / DEF & RES shred / etc","Relic stat editor and better handling for hidden decimals","New character importer option - Import all your character builds and light cones directly from the game"]}];return t.map(e=>e.content=e.content.filter(i=>i.length>0)),t}const ra=250,un=100,{Text:XS}=pt;function YS(){const[t,e]=L.useState(!1),{t:i}=et(["importSaveTab","common"]);function l(){console.log("Clear data"),e(!0),setTimeout(()=>{e(!1),y.resetStore(),Q.success(i("ClearData.SuccessMessage"))},un)}return a.jsxs(f,{vertical:!0,gap:5,children:[a.jsx(XS,{children:i("ClearData.Label")}),a.jsx(On,{title:i("ClearData.WarningTitle"),description:i("ClearData.WarningDescription"),onConfirm:l,placement:"bottom",okText:i("common:Yes"),cancelText:i("common:Cancel"),children:a.jsx(w,{type:"primary",icon:a.jsx(ll,{}),loading:t,style:{width:ra},children:i("ClearData.ButtonText")})})]})}const{Text:js}=pt;function KS(){const[t,e]=L.useState(0),[i,l]=L.useState(void 0),[s,o]=L.useState(!1),[c,r]=L.useState(!1),{t:u}=et("importSaveTab",{keyPrefix:"LoadData"});function R(p){return new Promise(()=>{const C=new FileReader;return C.readAsText(p),C.onload=()=>{const G=String(C.result),g=JSON.parse(G);if(g.fileType||g.source){o(!0),setTimeout(()=>{o(!1),l(void 0),e(1)},un);return}o(!0),setTimeout(()=>{o(!1),l(g),e(1)},un)},!1})}function h(){r(!0),setTimeout(()=>{y.setStore(i),window.refreshRelicsScore(),setTimeout(()=>{e(2),r(!1)},un)},un)}function S(){return a.jsx(f,{style:{minHeight:100},children:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx(js,{children:u("Stage1.Label")}),a.jsx(f0,{accept:".json",name:"file",beforeUpload:R,children:a.jsx(w,{style:{width:ra},icon:a.jsx(rl,{}),loading:s,onClick:()=>e(0),children:u("Stage1.ButtonText")})})]})})}function m(){return!(i!=null&&i.relics)||!i.characters?a.jsx(f,{style:{minHeight:100},children:a.jsx(f,{vertical:!0,gap:10,style:{display:t>=1?"flex":"none"},children:u("Stage2.ErrorMsg")})}):a.jsx(f,{style:{minHeight:100},children:a.jsxs(f,{vertical:!0,gap:10,style:{display:t>=1?"flex":"none"},children:[a.jsx(js,{children:u("Stage2.Label",{reliccount:i.relics.length,charactercount:i.characters.length})}),a.jsx(w,{style:{width:ra},icon:a.jsx(ni,{}),type:"primary",onClick:h,loading:c,children:u("Stage2.ButtonText")})]})})}function b(){return a.jsx(f,{style:{minHeight:100},children:a.jsx(f,{vertical:!0,gap:10,style:{display:t>=2?"flex":"none"},children:a.jsx(js,{children:u("Stage3.SuccessMessage")})})})}return a.jsx(f,{gap:5,children:a.jsx(Ji,{direction:"vertical",current:t,items:[{title:"",description:S()},{title:"",description:m()},{title:"",description:b()}]})})}function vS(t){const e=y.getMetadata().relics.relicSets,i={metadata:{trailblazer:"Stelle",current_trailblazer_path:"Destruction"},characters:[],relics:[]};for(const l of t.data.avatar_list){const s={characterEidolon:l.rank,characterId:l.id.toString(),characterLevel:l.level,lightCone:null,lightConeLevel:80,lightConeSuperimposition:1};l.equip!=null&&(s.lightCone=l.equip.id.toString(),s.lightConeSuperimposition=l.equip.rank),i.characters.push(s);const o=[...l.relics,...l.ornaments];for(const r of o){const u=[];for(const R of r.properties){const h={stat:Oo(R.property_type),value:Jo(R.value)};u.push(h)}i.relics.push({enhance:r.level,equippedBy:l.id.toString(),grade:r.rarity,id:x.randomId(),part:JS(r.pos),set:OS(r.id,e),main:{stat:Oo(r.main_property.property_type),value:Jo(r.main_property.value)},substats:u,verified:!1})}const c=AS(l.id);c&&(i.metadata=c)}return i.relics.map(l=>ba.augment(l)),i}function Jo(t){return t.endsWith("%")?x.precisionRound(parseFloat(t.slice(0,t.length-1))):x.precisionRound(parseFloat(t))}const wS={8001:{trailblazer:"Caelus",current_trailblazer_path:"Destruction"},8002:{trailblazer:"Stelle",current_trailblazer_path:"Destruction"},8003:{trailblazer:"Caelus",current_trailblazer_path:"Preservation"},8004:{trailblazer:"Stelle",current_trailblazer_path:"Preservation"},8006:{trailblazer:"Stelle",current_trailblazer_path:"Harmony"},8005:{trailblazer:"Caelus",current_trailblazer_path:"Harmony"}};function AS(t){return wS[t]}const QS={27:d.Stats.HP,32:d.Stats.HP_P,29:d.Stats.ATK,33:d.Stats.ATK_P,31:d.Stats.DEF,34:d.Stats.DEF_P,51:d.Stats.SPD,52:d.Stats.CR,53:d.Stats.CD,56:d.Stats.EHR,57:d.Stats.RES,59:d.Stats.BE,54:d.Stats.ERR,55:d.Stats.OHB,12:d.Stats.Physical_DMG,14:d.Stats.Fire_DMG,16:d.Stats.Ice_DMG,18:d.Stats.Lightning_DMG,20:d.Stats.Wind_DMG,22:d.Stats.Quantum_DMG,24:d.Stats.Imaginary_DMG};function Oo(t){return QS[t]||""}const jS={1:Z.Head,2:Z.Hands,3:Z.Body,4:Z.Feet,5:Z.PlanarSphere,6:Z.LinkRope};function JS(t){return jS[t]||""}function OS(t,e){const i=t.toString().substring(1,4);return zo[t]?e[zo[t].set].name:e[i].name}const zo={55001:{set:"101",part:"3",main:"436"},55002:{set:"101",part:"4",main:"441"},55003:{set:"102",part:"3",main:"434"},55004:{set:"103",part:"3",main:"433"},55005:{set:"103",part:"4",main:"443"},55006:{set:"105",part:"3",main:"434"}},{Text:aa}=pt;function zS(){const[t,e]=L.useState(0),[i,l]=L.useState([]),[s,o]=L.useState([]),[c,r]=L.useState(!1),[u,R]=L.useState(!1),{t:h}=et(["importSaveTab","common"]);function S(T){return new Promise(()=>{const D=new FileReader;return D.readAsText(T),D.onload=()=>{const I=String(D.result);m(I)},!1})}function m(T){try{const D=JSON.parse(T);if(console.log("JSON",D),r(!0),!D)throw new Error(h("Import.ErrorMsg.InvalidJson"));if(D.data){const N=vS(D),k=N.relics;let B=N.characters;B=B.sort((j,st)=>st.characterLevel-j.characterLevel),B.map(j=>{j.characterLevel=80,j.lightConeLevel=80}),setTimeout(()=>{o(B),l(k),e(1),r(!1)},un);return}if(!LS.includes(D.source))throw new Error(h("Import.ErrorMsg.InvalidFile"));const F=Jc[D.source].parse(D);let E=F.characters;const P=F.relics;E=E.sort((N,k)=>k.characterLevel-N.characterLevel),E.map(N=>{N.characterLevel=80,N.lightConeLevel=80}),setTimeout(()=>{r(!1),l(P),o(E),e(1)},un)}catch(D){let I=h("Import.ErrorMsg.Unknown");D instanceof Error&&(I=D.message),console.error(D),Q.error(h("Import.ErrorMsg.Fragment")+I,10),setTimeout(()=>{r(!1),l(void 0),o(void 0),e(1)},un)}}function b(){R(!0),setTimeout(()=>{y.mergeRelicsWithState(i),gt.save(),setTimeout(()=>{R(!1),e(2)},100)},un)}function p(){R(!0),setTimeout(()=>{y.mergeRelicsWithState(i,s),gt.save(),setTimeout(()=>{R(!1),e(2)},100)},un)}function C(){return a.jsx(f,{style:{minHeight:100,marginBottom:30},gap:30,children:a.jsxs(f,{vertical:!0,gap:10,children:[a.jsx(aa,{children:h("Import.Stage1.Header")}),a.jsx(aa,{children:a.jsxs("ul",{children:[a.jsx(Oc,{}),a.jsxs("li",{children:[h("Import.Stage1.KelzDesc.Title")," (",a.jsx(Wn,{text:h("Import.Stage1.KelzDesc.Link"),url:us.releases}),")",a.jsxs("ul",{children:[a.jsx("li",{children:h("Import.Stage1.KelzDesc.l1")}),a.jsx("li",{children:h("Import.Stage1.KelzDesc.l2")})]})]}),a.jsxs("li",{children:[h("Import.Stage1.ScorerDesc.Title")," (",a.jsx("span",{onClick:()=>window.store.getState().setActiveKey(mt.RELIC_SCORER),children:a.jsx(Wn,{text:h("Import.Stage1.ScorerDesc.Link")})}),")",a.jsxs("ul",{children:[a.jsx("li",{children:h("Import.Stage1.ScorerDesc.l1")}),a.jsx("li",{children:h("Import.Stage1.ScorerDesc.l2")})]})]}),a.jsxs("li",{children:[h("Import.Stage1.HoyolabDesc.Title")," (",a.jsx(Wn,{text:h("Import.Stage1.HoyolabDesc.Link"),url:"https://github.com/fribbels/hsr-optimizer/discussions/403"}),")",a.jsxs("ul",{children:[a.jsx("li",{children:h("Import.Stage1.HoyolabDesc.l1")}),a.jsx("li",{children:h("Import.Stage1.HoyolabDesc.l2")})]})]})]})}),a.jsx(f,{vertical:!0,align:"flex-start",children:a.jsxs(f,{gap:10,align:"center",children:[a.jsx(f0,{accept:".json",name:"file",beforeUpload:S,children:a.jsx(w,{style:{width:ra},icon:a.jsx(rl,{}),loading:c,onClick:()=>e(0),children:h("Import.Stage1.ButtonText")})}),h("Import.Stage1.Or"),a.jsx(Oe,{style:{width:ra},className:"centered-placeholder",placeholder:"Paste json file contents",value:"",disabled:c,onChange:T=>{const D=T.target.value;try{const I=JSON.parse(D);m(D)}catch{}}})]})})]})})}function G(){return i?a.jsx(f,{style:{minHeight:250},children:a.jsxs(f,{vertical:!0,gap:10,style:{display:t>=1?"flex":"none"},children:[a.jsx(aa,{children:h("Import.Stage2.FileInfo",{reliccount:i.length||0,charactercount:(s==null?void 0:s.length)||0})}),a.jsx(aa,{children:h("Import.Stage2.RelicsImport.Label")}),a.jsx(w,{style:{width:ra},type:"primary",onClick:b,loading:u,children:h("Import.Stage2.RelicsImport.ButtonText")}),a.jsx(Ge,{children:a.jsx(aa,{style:{fontSize:12},children:h("Import.Stage2.Or")})}),a.jsx(aa,{children:h("Import.Stage2.CharactersImport.Label")}),a.jsx(On,{title:h("Import.Stage2.CharactersImport.WarningTitle"),description:h("Import.Stage2.CharactersImport.WarningDescription"),onConfirm:p,placement:"bottom",okText:h("common:Yes",{capitalizeLength:1}),cancelText:h("common:Cancel",{capitalizeLength:1}),children:a.jsx(w,{style:{width:ra},type:"primary",loading:u,children:h("Import.Stage2.CharactersImport.ButtonText")})})]})}):a.jsx(f,{style:{minHeight:100},children:a.jsx(f,{vertical:!0,gap:10,style:{display:t>=1?"flex":"none"},children:h("Import.Stage2.NoRelics")})})}function g(){return a.jsx(f,{style:{minHeight:100},children:a.jsx(f,{vertical:!0,gap:10,style:{display:t>=2?"flex":"none"},children:a.jsx(aa,{children:h("Import.Stage3.SuccessMessage")})})})}return a.jsx(f,{gap:5,children:a.jsx(Ji,{direction:"vertical",current:t,items:[{title:"",description:C()},{title:"",description:G()},{title:"",description:g()}]})})}const{Text:_S}=pt,qS=250,$S=async(t,e)=>{if("showSaveFilePicker"in window&&(()=>{try{return window.self===window.top}catch{return!1}})())try{const s=await(await window.showSaveFilePicker({suggestedName:e,types:[{description:"JSON",accept:{"text/json":[".json"]}}]})).createWritable();await s.write(t),await s.close()}catch(l){console.warn(l.name,l.message)}else{const l=URL.createObjectURL(t),s=document.createElement("a");s.href=l,s.download=e,s.style.display="none",document.body.append(s),s.click(),setTimeout(()=>{URL.revokeObjectURL(l),s.remove()},1e3)}};function tf(){const{t}=et("importSaveTab",{keyPrefix:"SaveData"});async function e(){try{const i=gt.save(),l=new Blob([i],{type:"text/json;charset=utf-8"});await $S(l,"fribbels-optimizer-save.json"),Q.success(t("SuccessMessage"))}catch(i){console.warn(i)}}return a.jsxs(f,{vertical:!0,gap:5,children:[a.jsx(_S,{children:t("label")}),a.jsx(w,{type:"primary",onClick:e,icon:a.jsx(cl,{}),style:{width:qS},children:t("ButtonText")})]})}function _c(){const t="large",{t:e}=et("importSaveTab",{keyPrefix:"TabLabels"});return a.jsx("div",{children:a.jsx(f,{vertical:!0,gap:5,style:{marginLeft:20,width:1200},children:a.jsx(Dr,{defaultActiveKey:"1",size:t,style:{marginBottom:32},items:[{label:e("Import"),key:0,children:a.jsx(zS,{})},{label:e("Load"),key:1,children:a.jsx(KS,{})},{label:e("Save"),key:2,children:a.jsx(tf,{})},{label:e("Clear"),key:3,children:a.jsx(YS,{})}]})})})}_c.propTypes={active:_.bool};const{useToken:ef}=Ce;function nf(){return ef(),a.jsx("div",{})}async function af(t,e,i){const l=ss(t),s=new Array(Math.pow(Object.keys(Qn).length,4)).fill(1),o=new Array(Math.pow(Object.keys(pi).length,2)).fill(1),r=rc(i,e,t,l,1,Jn,s,o,!0),u=dc(r,0);await u.mapAsync(GPUMapMode.READ);const R=u.getMappedRange(),h=new Float32Array(R),S=el(h),m=Aa(t,{Head:e.Head[0],Hands:e.Hands[0],Body:e.Body[0],Feet:e.Feet[0],PlanarSphere:e.PlanarSphere[0],LinkRope:e.LinkRope[0]}).x,b=sf(m,S);return u.unmap(),u.destroy(),uc(r),b}function sf(t,e){const i={};let l=!0;function s(R,h){const S=t[R]-e[R],m=Math.abs(S)<=h;m||(l=!1),i[R]={key:R,cpu:t[R].toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20}),gpu:e[R].toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20}),deltaValue:S,deltaString:S.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20}),precision:h,pass:m}}const o=0,c=.1,r=.01,u=1e-4;return s("HP",r),s("ATK",r),s("DEF",r),s("SPD",u),s("CRIT Rate",u),s("CRIT DMG",u),s("Effect Hit Rate",u),s("Effect RES",u),s("Break Effect",u),s("Energy Regeneration Rate",u),s("Outgoing Healing Boost",u),s("ELEMENTAL_DMG",u),s("BASIC_SCALING",r),s("SKILL_SCALING",r),s("ULT_SCALING",r),s("FUA_SCALING",r),s("DOT_SCALING",r),s("BASIC_CR_BOOST",r),s("SKILL_CR_BOOST",r),s("ULT_CR_BOOST",r),s("FUA_CR_BOOST",r),s("BASIC_CD_BOOST",r),s("SKILL_CD_BOOST",r),s("ULT_CD_BOOST",r),s("FUA_CD_BOOST",r),s("BASIC_BOOST",r),s("SKILL_BOOST",r),s("ULT_BOOST",r),s("FUA_BOOST",r),s("DOT_BOOST",r),s("VULNERABILITY",r),s("BASIC_VULNERABILITY",r),s("SKILL_VULNERABILITY",r),s("ULT_VULNERABILITY",r),s("FUA_VULNERABILITY",r),s("DOT_VULNERABILITY",r),s("BREAK_VULNERABILITY",r),s("DEF_PEN",r),s("BASIC_DEF_PEN",r),s("SKILL_DEF_PEN",r),s("ULT_DEF_PEN",r),s("FUA_DEF_PEN",r),s("DOT_DEF_PEN",r),s("BREAK_DEF_PEN",r),s("SUPER_BREAK_DEF_PEN",r),s("RES_PEN",r),s("PHYSICAL_RES_PEN",r),s("FIRE_RES_PEN",r),s("ICE_RES_PEN",r),s("LIGHTNING_RES_PEN",r),s("WIND_RES_PEN",r),s("QUANTUM_RES_PEN",r),s("IMAGINARY_RES_PEN",r),s("BASIC_RES_PEN",r),s("SKILL_RES_PEN",r),s("ULT_RES_PEN",r),s("FUA_RES_PEN",r),s("DOT_RES_PEN",r),s("BASIC_DMG",c),s("SKILL_DMG",c),s("ULT_DMG",c),s("FUA_DMG",c),s("DOT_DMG",c),s("BREAK_DMG",c),s("COMBO_DMG",c),s("DMG_RED_MULTI",r),s("EHP",r),s("DOT_CHANCE",r),s("EFFECT_RES_PEN",r),s("DOT_SPLIT",r),s("DOT_STACKS",r),s("ENEMY_WEAKNESS_BROKEN",r),s("SUPER_BREAK_MODIFIER",r),s("BASIC_SUPER_BREAK_MODIFIER",r),s("SUPER_BREAK_HMC_MODIFIER",r),s("BASIC_TOUGHNESS_DMG",r),s("SKILL_TOUGHNESS_DMG",r),s("ULT_TOUGHNESS_DMG",r),s("FUA_TOUGHNESS_DMG",r),s("BASIC_ORIGINAL_DMG_BOOST",r),s("SKILL_ORIGINAL_DMG_BOOST",r),s("ULT_ORIGINAL_DMG_BOOST",r),s("BASIC_BREAK_DMG_MODIFIER",r),s("ULT_CD_OVERRIDE",r),s("ULT_BOOSTS_MULTI",r),s("RATIO_BASED_HP_BUFF",r),s("RATIO_BASED_HP_P_BUFF",r),s("RATIO_BASED_ATK_BUFF",r),s("RATIO_BASED_ATK_P_BUFF",r),s("RATIO_BASED_DEF_BUFF",r),s("RATIO_BASED_DEF_P_BUFF",r),s("RATIO_BASED_SPD_BUFF",r),s("RATIO_BASED_CD_BUFF",r),s("BREAK_EFFICIENCY_BOOST",r),s("BASIC_BREAK_EFFICIENCY_BOOST",r),s("ULT_BREAK_EFFICIENCY_BOOST",r),s("HP%",r),s("ATK%",r),s("DEF%",r),s("SPD%",r),s("BASIC_DMG_TYPE",o),s("SKILL_DMG_TYPE",o),s("ULT_DMG_TYPE",o),s("FUA_DMG_TYPE",o),s("DOT_DMG_TYPE",o),s("BREAK_DMG_TYPE",o),s("SUPER_BREAK_DMG_TYPE",o),{allPass:l,statDeltas:i}}function qc(t,e,i,l){const s={name:t,request:e,relics:i,done:!1};return s.execute=()=>{const o=af(e,i,l);return o.then(c=>{s.done=!0,s.result=c}),o},s}function lf(t){for(const[e,i]of Object.entries(t))i.map(l=>{const s=l.condensedStats;l.substats=[],s.map(([o,c])=>{l.substats.push({stat:o,value:c})})});return t}function $c(){return lf({Head:[{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6},id:"cd85c14c-a662-4413-a149-a379e6d538d3",equippedBy:"1212",weightScore:42.767999999999994,condensedStats:[["CRIT Rate",.36016],["CRIT DMG",.10368],["Effect RES",.03456],["Break Effect",.05184],["HP",705.6]]}],Hands:[{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8},id:"798657c8-5c5c-4b44-9c5f-f5f094414289",equippedBy:"1212",weightScore:43.416,condensedStats:[["HP%",.03456],["SPD",4],["CRIT DMG",.2268],["Effect Hit Rate",.03456],["ATK",352.8]]}],Body:[{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8},id:"b3376a19-62f9-489e-80e6-8f98335af158",equippedBy:"1212",weightScore:38.370734301091446,condensedStats:[["HP",114.31138],["ATK%",.07344],["DEF%",.0432],["CRIT Rate",.081],["CRIT DMG",.648]]}],Feet:[{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"SPD",value:25.032},id:"92c53d06-80d0-43a8-b896-2feeda419674",equippedBy:"1212",weightScore:43.16174737167594,condensedStats:[["ATK",21.16877],["ATK%",.11664],["DEF%",.0486],["CRIT DMG",.17496],["SPD",25.032]]}],PlanarSphere:[{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Ice DMG Boost",value:38.8803},id:"80abbd56-b1a0-4587-a349-754c33627217",equippedBy:"1212",weightScore:38.971971552257266,condensedStats:[["DEF",74.09071],["CRIT Rate",.05508],["CRIT DMG",.12312],["Effect Hit Rate",.0432],["Ice DMG Boost",.388803]]}],LinkRope:[{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.2},id:"c521dc03-6c6e-45ef-9933-811367312441",equippedBy:"1212",weightScore:37.249627764127766,condensedStats:[["HP",80.44134],["CRIT Rate",.08424],["CRIT DMG",.10368],["Break Effect",.05832],["ATK%",.43200000000000005]]}]})}const Ya={},Nt="23001",tr=[{characterId:"1001",lightConeId:Nt},{characterId:"1002",lightConeId:Nt},{characterId:"1003",lightConeId:"23000"},{characterId:"1004",lightConeId:"23004"},{characterId:"1005",lightConeId:"23006"},{characterId:"1006",lightConeId:"23007"},{characterId:"1008",lightConeId:Nt},{characterId:"1009",lightConeId:Nt},{characterId:"1013",lightConeId:Nt},{characterId:"1101",lightConeId:"23003"},{characterId:"1102",lightConeId:"23001"},{characterId:"1103",lightConeId:Nt},{characterId:"1104",lightConeId:"23005"},{characterId:"1105",lightConeId:Nt},{characterId:"1106",lightConeId:Nt},{characterId:"1107",lightConeId:"23002"},{characterId:"1108",lightConeId:Nt},{characterId:"1109",lightConeId:Nt},{characterId:"1110",lightConeId:Nt},{characterId:"1111",lightConeId:Nt},{characterId:"1112",lightConeId:"23016"},{characterId:"1201",lightConeId:Nt},{characterId:"1202",lightConeId:Nt},{characterId:"1203",lightConeId:"23008"},{characterId:"1204",lightConeId:"23010"},{characterId:"1205",lightConeId:"23009"},{characterId:"1206",lightConeId:Nt},{characterId:"1207",lightConeId:Nt},{characterId:"1208",lightConeId:"23011"},{characterId:"1209",lightConeId:"23012"},{characterId:"1210",lightConeId:Nt},{characterId:"1211",lightConeId:"23013"},{characterId:"1212",lightConeId:"23014"},{characterId:"1213",lightConeId:"23015"},{characterId:"1214",lightConeId:Nt},{characterId:"1215",lightConeId:Nt},{characterId:"1217",lightConeId:"23017"},{characterId:"1218",lightConeId:"23029"},{characterId:"1220",lightConeId:"23031"},{characterId:"1221",lightConeId:"23030"},{characterId:"1222",lightConeId:"23032"},{characterId:"1223",lightConeId:Nt},{characterId:"1224",lightConeId:Nt},{characterId:"1301",lightConeId:Nt},{characterId:"1302",lightConeId:"23018"},{characterId:"1303",lightConeId:"23019"},{characterId:"1304",lightConeId:"23023"},{characterId:"1305",lightConeId:"23020"},{characterId:"1306",lightConeId:"23021"},{characterId:"1307",lightConeId:"23022"},{characterId:"1308",lightConeId:"23024"},{characterId:"1309",lightConeId:"23026"},{characterId:"1310",lightConeId:"23025"},{characterId:"1312",lightConeId:Nt},{characterId:"1314",lightConeId:"23028"},{characterId:"1315",lightConeId:"23027"},{characterId:"1317",lightConeId:"23033"},{characterId:"8001",lightConeId:Nt},{characterId:"8002",lightConeId:Nt},{characterId:"8003",lightConeId:Nt},{characterId:"8004",lightConeId:Nt},{characterId:"8005",lightConeId:Nt},{characterId:"8006",lightConeId:Nt}];async function of(){const t=await cs();return t?(Ya.metadata=y.getMetadata(),[...df(t),...uf(t),..._o(t,4),..._o(t,3),...cf(t),...rf(t)]):[]}function cf(t){return tr.map(e=>mf(e.characterId,e.lightConeId,t))}function rf(t){return tr.map(e=>ms(e.characterId,e.lightConeId,t))}function _o(t,e){const i="1005",l=Object.values(Ya.metadata.lightCones).filter(o=>o.rarity==e),s=[];for(const o of l){const c=ms(i,o.id,t);s.push(c)}return s}function df(t){const e="1005",i=Nt,l=[];for(const s of Fa){const o=ms(e,i,t);o.name+=` â€” Ornament Sets  â€” ${s}`,o.relics.LinkRope[0].set=s,o.relics.PlanarSphere[0].set=s,l.push(o)}return l}function uf(t){const e="1005",i=Nt,l=[];for(const s of Ma){const o=ms(e,i,t);o.name+=` â€” Relic Sets  â€” ${s}`,o.relics.Head[0].set=s,o.relics.Hands[0].set=s,o.relics.Body[0].set=s,o.relics.Feet[0].set=s,l.push(o)}return l}function mf(t,e,i){const l=tt.fixForm(pa({id:t}));l.lightCone=e;const s=$c();return qc(`E0S1 ${Ya.metadata.characters[t].displayName} â€” ${Ya.metadata.lightCones[e].displayName}`,l,s,i)}function ms(t,e,i){const l=tt.fixForm(pa({id:t}));l.characterEidolon=6,l.lightCone=e,l.lightConeSuperimposition=5;const s=$c();return qc(`E6S5 ${Ya.metadata.characters[t].displayName} â€” ${Ya.metadata.lightCones[e].displayName}`,l,s,i)}function bf(){return window.store(e=>e.activeKey)!=mt.WEBGPU_TEST?a.jsx(a.Fragment,{}):a.jsx(hf,{})}function hf(){const[t,e]=L.useState([]),[i,l]=L.useState(!1);async function s(){l(!1);const o=await of(),c=o.length;let r=0,u=0;e(o),o.map(R=>R.name=`#${++r} â€” ${R.name}`);for(const R of o){await R.execute();const h=[...o].sort(pf);e(h),u++,u==c&&l(!0)}}return a.jsxs(f,{vertical:!0,style:{width:1200,minHeight:2e3},children:[a.jsx(w,{type:"primary",onClick:s,style:{height:50,background:i?"#248453":void 0},disabled:!i&&t.length>0,children:i?"Tests complete":"Run all WebGPU tests"}),a.jsx(ji,{items:t.map(Rf),expandIconPosition:"end",size:"small"})]})}function pf(t,e){return t.done!==e.done?t.done?-1:1:t.done&&e.done?t.result.allPass===e.result.allPass?0:t.result.allPass?1:-1:0}function Rf(t){return{key:t.name,label:a.jsx(Gf,{test:t}),children:a.jsx(ff,{test:t})}}const Sf=[{title:"",dataIndex:"pass",render:t=>a.jsx(f,{style:{color:t?"#83ec66":"#ef7979",width:"100%"},justify:"space-around",children:t?a.jsx(Qi,{}):a.jsx(sl,{})}),width:20},{title:"Stat",dataIndex:"key",render:t=>a.jsx($a,{text:t}),width:80},{title:"CPU",dataIndex:"cpu",render:t=>a.jsx($a,{text:t}),width:120},{title:"GPU",dataIndex:"gpu",render:t=>a.jsx($a,{text:t}),width:120},{title:"Delta",dataIndex:"deltaString",render:t=>a.jsx($a,{text:t}),width:120},{title:"Precision",dataIndex:"precision",render:t=>a.jsx($a,{text:t}),width:120}];function ff(t){const{test:e}=t;if(!e.result)return a.jsx(a.Fragment,{});const i=e.result.statDeltas,l=Object.values(i);return l.sort((s,o)=>Number(s.pass)-Number(o.pass)),a.jsx(l0,{columns:Sf,dataSource:l,size:"small",pagination:!1})}function Gf(t){const{test:e}=t;return e.done?a.jsxs(f,{gap:8,style:{color:e.result.allPass?"#83ec66":"#ef7979"},children:[e.result.allPass?a.jsx(Qi,{}):a.jsx(sl,{}),e.name]}):a.jsxs(f,{gap:8,style:{color:"e6e6e6"},children:[a.jsx(Vr,{}),e.name]})}function $a(t){return a.jsx("div",{style:{margin:"0",fontFamily:"Segoe UI, Frutiger, Frutiger Linotype, Dejavu Sans, Helvetica Neue, Arial, sans-serif"},children:t.text})}const er=({error:t})=>a.jsxs(pt,{children:["Something went wrong: ",t.message]});let qo=!1;const Cf=()=>{const t=window.store(h=>h.activeKey).split("?")[0],e=Te.useMemo(()=>a.jsx(Ic,{}),[]),i=Te.useMemo(()=>a.jsx(Yc,{}),[]),l=Te.useMemo(()=>a.jsx(Lc,{}),[]),s=Te.useMemo(()=>a.jsx(_c,{}),[]),o=Te.useMemo(()=>a.jsx(zc,{}),[]),c=Te.useMemo(()=>a.jsx(Kc,{}),[]),r=Te.useMemo(()=>a.jsx(US,{}),[]),u=Te.useMemo(()=>a.jsx(nf,{}),[]),R=Te.useMemo(()=>a.jsx(bf,{}),[]);return L.useEffect(()=>{var S,m;let h=Tn[t]||Tn[mt.OPTIMIZER];if(t==mt.RELIC_SCORER){const b=(m=(S=window.location.hash.split("?")[1])==null?void 0:S.split("id=")[1])==null?void 0:m.split("&")[0];b&&(h+=`?id=${b}`)}console.log("Navigating activekey to route",t,h),window.history.pushState({},window.title,h),t==mt.OPTIMIZER?(window.onOptimizerFormValuesChange({},tt.getForm()),qo||(qo=!0,WorkerPool.initializeAllWorkers())):window.scrollTo(0,0)},[t]),a.jsxs(f,{justify:"space-around",children:[a.jsx(on,{activeKey:t,tabKey:mt.OPTIMIZER,content:e}),a.jsx(on,{activeKey:t,tabKey:mt.CHARACTERS,content:i}),a.jsx(on,{activeKey:t,tabKey:mt.RELICS,content:l}),a.jsx(on,{activeKey:t,tabKey:mt.IMPORT,content:s}),a.jsx(on,{activeKey:t,tabKey:mt.GETTING_STARTED,content:o}),a.jsx(on,{activeKey:t,tabKey:mt.RELIC_SCORER,content:c}),a.jsx(on,{activeKey:t,tabKey:mt.CHANGELOG,content:r}),a.jsx(on,{activeKey:t,tabKey:mt.SETTINGS,content:u}),a.jsx(on,{activeKey:t,tabKey:mt.WEBGPU_TEST,content:R}),a.jsx(dl,{fallbackRender:er,children:a.jsx(PS,{})})]})};function on(t){return a.jsx(dl,{fallbackRender:er,children:a.jsx("div",{style:{display:t.activeKey===t.tabKey?"contents":"none"},id:t.tabKey,children:t.content})})}on.propTypes={activeKey:_.string,tabKey:_.string,content:_.element};const il={zh:{locale:"zh",nativeName:"ä¸­æ–‡"},en:{locale:"en",nativeName:"English"}},Zf=Object.keys(il);V.use(Wr).use(Ir).use(Er).init({ns:["charactersTab","common","gameData","getStartedTab","importSaveTab","relicScorerTab","relicsTab","sidebar","modals","hint","settings","optimizerTab","notifications","conditionals"],defaultNS:"common",fallbackNS:["common","gameData"],debug:!0,supportedLngs:Zf,load:"languageOnly",fallbackLng:"en",interpolation:{escapeValue:!1},backend:{loadPath:Xn+"/locales/{{lng}}/{{ns}}.json"}});var n0;(n0=V.services.formatter)==null||n0.add("capitalize",(t,e,i)=>{const l=t??i.interpolationkey??"";let s=i.capitalizeLength||0;s<0&&(s=l.length);let o="";for(let c=0;c<s;c++)o=o+l.charAt(c).toUpperCase();return o+l.slice(s)});const gf=["en"];function Tf(t){const{t:e,i18n:i}=et(),l=(s=>{const o=[];for(const c in s)o.push({value:s[c].locale,label:a.jsxs(f,{gap:8,children:[a.jsx("img",{style:{height:15,marginTop:4},src:U.getFlag(s[c].locale)}),s[c].nativeName,gf.includes(s[c].locale)?"":" (WIP)"]})});return o})(il);return a.jsx(K,{options:l,optionRender:s=>s.data.label,labelRender:({label:s,value:o})=>t.flagOnly?a.jsx("img",{style:{height:15,marginTop:8},src:U.getFlag(o)}):a.jsxs(f,{gap:8,children:[a.jsx("img",{style:{height:15,marginTop:8},src:U.getFlag(o)}),il[o].nativeName]}),onChange:s=>{i.changeLanguage(s)},style:t.style,dropdownStyle:t.dropdownStyle,defaultValue:i.resolvedLanguage,placement:t.placement,dropdownRender:s=>a.jsxs(f,{gap:4,vertical:!0,children:[s,a.jsx(w,{type:"primary",style:{borderRadius:5,height:40},onClick:()=>window.open("https://discord.gg/rDmB4Un7qg"),children:"Help translate the website!"})]})})}const{useToken:Df}=Ce,{Header:Vf}=di;function Wf(){const t=window.store(l=>l.menuSidebarOpen),e=window.store(l=>l.setMenuSidebarOpen),{token:i}=Df();return a.jsx(Vf,{style:{display:"flex",alignItems:"center",paddingLeft:"30px",paddingRight:"0px",height:48,width:"100%",backgroundColor:i.colorBgLayout,backgroundImage:"linear-gradient(rgb(0 0 0/60%) 0 0)"},children:a.jsxs(f,{align:"center",justify:"space-between",style:{width:"100%"},children:[a.jsxs(f,{children:[a.jsx(w,{type:"text",icon:t?a.jsx(Yn,{}):a.jsx(xr,{}),onClick:()=>e(!t),style:{fontSize:"16px",position:"relative",left:"-20px"}}),a.jsx("a",{href:Xn,children:a.jsxs(f,{align:"center",children:[a.jsx("img",{src:U.getLogo(),style:{width:30,height:30,marginRight:35}}),a.jsx(pt,{style:{fontWeight:600,fontSize:22},color:"inherit",children:"Fribbels Honkai Star Rail Optimizer (Beta)"})]})})]}),a.jsxs(f,{children:[a.jsx(Tf,{style:{width:60,marginRight:6,height:36},dropdownStyle:{width:210},flagOnly:!0,placement:"bottomRight"}),a.jsx("a",{href:"https://ko-fi.com/fribbels",target:"_blank",rel:"noreferrer",children:a.jsx(f,{children:a.jsx("img",{src:U.getKofi(),style:{height:36,marginRight:6,borderRadius:5}})})}),a.jsx("a",{href:"https://discord.gg/rDmB4Un7qg",target:"_blank",rel:"noreferrer",children:a.jsx(f,{children:a.jsx("img",{src:U.getDiscord(),style:{height:36,marginRight:6,borderRadius:5}})})})]})]})})}const If=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 -1 16 16",children:a.jsx("path",{d:"M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612m5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612"})}),Ef=t=>a.jsx(ua,{component:If,...t}),xf=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:a.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8"})}),Lf=t=>a.jsx(ua,{component:xf,...t}),yf=()=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:[a.jsx("path",{fillRule:"evenodd",d:"M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6zM13 12.5a2.01 2.01 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5"}),a.jsx("path",{d:"m4.4.8-.003.004-.014.019a4.167 4.167 0 0 0-.204.31 2.327 2.327 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.31 3.31 0 0 1-.202.388 5.444 5.444 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 3.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8m3 0-.003.004-.014.019a4.167 4.167 0 0 0-.204.31 2.327 2.327 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.31 3.31 0 0 1-.202.388 5.444 5.444 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 6.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8m3 0-.003.004-.014.019a4.077 4.077 0 0 0-.204.31 2.337 2.337 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.198 3.198 0 0 1-.202.388 5.385 5.385 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 9.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8"})]}),Mf=t=>a.jsx(ua,{component:yf,...t});function We(t,e,i,l,s){return{key:e,icon:i,children:l,label:t,type:s}}const Ff=()=>{const{t}=et("sidebar"),e=window.store(o=>o.activeKey),i=window.store(o=>o.setActiveKey),l=L.useMemo(()=>[We(t("Showcase.Title"),"subTools",a.jsx(yr,{}),[We(a.jsxs(f,{children:[a.jsx(Lr,{style:{marginRight:5,width:16}})," ",t("Showcase.Scorer")]}),mt.RELIC_SCORER)]),We(t("Optimization.Title"),"subOptimizer",a.jsx(S0,{}),[We(a.jsxs(f,{children:[a.jsx(Mr,{style:{marginRight:5,width:16}})," ",t("Optimization.Optimizer")]}),mt.OPTIMIZER),We(a.jsxs(f,{children:[a.jsx(h0,{style:{marginRight:5,width:16}})," ",t("Optimization.Characters")]}),mt.CHARACTERS),We(a.jsxs(f,{children:[a.jsx(Fr,{style:{marginRight:5,width:16}})," ",t("Optimization.Relics")]}),mt.RELICS),We(a.jsxs(f,{children:[a.jsx(rl,{style:{marginRight:5,width:16}})," ",t("Optimization.Import")]}),mt.IMPORT),We(a.jsxs(f,{onClick:()=>window.store.getState().setSettingsDrawerOpen(!0),children:[a.jsx(An,{style:{marginRight:5,width:16}})," ",t("Optimization.Settings")]}),"link settings"),We(a.jsxs(f,{children:[a.jsx(Br,{style:{marginRight:5,width:16}})," ",t("Optimization.Start")]}),mt.GETTING_STARTED)]),We(t("Links.Title"),"subLinks",a.jsx(kr,{}),[We(a.jsxs(pt.Link,{children:[a.jsx(c0,{style:{marginRight:2,width:16}})," ",t("Links.Changelog")]}),mt.CHANGELOG),We(a.jsxs(pt.Link,{href:"https://ko-fi.com/fribbels",target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Mf,{style:{marginRight:5}})," ",t("Links.Kofi")]}),"link donate"),We(a.jsxs(pt.Link,{href:"https://discord.gg/rDmB4Un7qg",target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Ef,{style:{marginRight:5}})," ",t("Links.Discord")]}),"link discord"),We(a.jsxs(pt.Link,{href:"https://github.com/fribbels/hsr-optimizer",target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Lf,{style:{marginRight:5}})," ",t("Links.Github")]}),"link github"),We(a.jsxs(pt.Link,{href:"https://starrailoptimizer.github.io/",target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Pr,{style:{marginRight:5}})," ",t("Links.Unleak")]}),"link leaks free")])],[t]),s=o=>{o.key&&o.key.includes("link")||i(o.key)};return a.jsx(Nr,{onClick:s,inlineIndent:12,defaultSelectedKeys:["1"],defaultOpenKeys:["subOptimizer","subTools","subLinks"],selectedKeys:e,mode:"inline",items:l})},{useToken:Bf}=Ce,{Sider:Pf}=di;function kf(){const{token:t}=Bf(),e=window.store(i=>i.menuSidebarOpen);return a.jsx(Pf,{width:170,style:{background:t.colorBgContainer},collapsible:!0,collapsedWidth:48,collapsed:!e,trigger:null,children:a.jsx("div",{style:{position:"sticky",top:0},children:a.jsx(Ff,{})})})}const{useToken:qf,getDesignToken:Nf}=Ce,{Content:Uf}=di,Hf=()=>{const[t,e]=Ur.useMessage(),[i,l]=Hr.useNotification(),[s,o]=Ve.useModal(),{t:c,i18n:r}=et();window.messageApi=t,window.notificationApi=i,window.modalApi=s;const u=store(R=>R.colorTheme);return L.useEffect(()=>{Gradient.setToken(Nf({token:u}))},[u]),L.useEffect(()=>{T1(DB.getState().version)},[]),L.useEffect(()=>{console.log("setting language to:",r.resolvedLanguage)},[r.resolvedLanguage]),a.jsxs(Xr,{theme:{token:{motionUnit:.1,opacityLoading:.2,colorBgBase:u.colorBgBase,colorTextBase:u.colorTextBase,colorPrimary:u.colorPrimary,colorPrimaryBorderHover:u.colorPrimary,screenXL:1530,screenXLMin:1530,screenXXL:1660,screenXXLMin:1660},components:{Cascader:{dropdownHeight:800,controlItemWidth:100,controlWidth:100},Collapse:{contentPadding:"0px 0px"},Menu:{margin:2,itemPaddingInline:0,subMenuItemBg:"rgba(255, 255, 255, 0.05)"},Table:{headerBg:"#00000036",cellPaddingInlineSM:5,cellPaddingBlockSM:6},Slider:{dotBorderColor:u.colorPrimary,dotActiveBorderColor:u.colorPrimary,handleActiveColor:u.colorPrimary,handleColor:u.colorPrimary,handleColorDisabled:u.colorPrimary,trackBg:u.colorPrimary,trackHoverBg:u.colorPrimary,railHoverBg:"#ffffff80",railBg:"#ffffff12",handleSize:5,handleSizeHover:5,handleLineWidth:3,handleLineWidthHover:3,railSize:3},InputNumber:{paddingInlineSM:6},Tag:{defaultColor:"#ffffff"},Notification:{width:450}},algorithm:Ce.darkAlgorithm},children:[e,l,o,a.jsxs(di,{style:{minHeight:"100%"},children:[a.jsx(Wf,{}),a.jsxs(di,{hasSider:!0,children:[a.jsx(kf,{}),a.jsx(Uf,{style:{padding:10,margin:0,minHeight:280,marginLeft:"auto",marginRight:"auto",overflow:"initial",display:"flex",justifyContent:"space-around",width:"100%"},children:a.jsx(Cf,{})}),a.jsx(Dh,{})]})]})]})};function Xf(){return a.jsx(Hf,{})}const Yf={21:{id:"21",affixes:{1:{affix_id:"1",property:"HPDelta",base:45.1584,step:15.80544}}},22:{id:"22",affixes:{1:{affix_id:"1",property:"AttackDelta",base:22.5792,step:7.90272}}},23:{id:"23",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.027648,step:.009677},2:{affix_id:"2",property:"AttackAddedRatio",base:.027648,step:.009677},3:{affix_id:"3",property:"DefenceAddedRatio",base:.034560002,step:.012096001},4:{affix_id:"4",property:"CriticalChanceBase",base:.020736001,step:.007258},5:{affix_id:"5",property:"CriticalDamageBase",base:.041472,step:.014515},6:{affix_id:"6",property:"HealRatioBase",base:.022118,step:.0077410005},7:{affix_id:"7",property:"StatusProbabilityBase",base:.027648,step:.009677}}},24:{id:"24",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.027648,step:.009677},2:{affix_id:"2",property:"AttackAddedRatio",base:.027648,step:.009677},3:{affix_id:"3",property:"DefenceAddedRatio",base:.034560002,step:.012096001},4:{affix_id:"4",property:"SpeedDelta",base:1.6128,step:1}}},25:{id:"25",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.027648,step:.009677},2:{affix_id:"2",property:"AttackAddedRatio",base:.027648,step:.009677},3:{affix_id:"3",property:"DefenceAddedRatio",base:.034560002,step:.012096001},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.024883,step:.008709},5:{affix_id:"5",property:"FireAddedRatio",base:.024883,step:.008709},6:{affix_id:"6",property:"IceAddedRatio",base:.024883,step:.008709},7:{affix_id:"7",property:"ThunderAddedRatio",base:.024883,step:.008709},8:{affix_id:"8",property:"WindAddedRatio",base:.024883,step:.008709},9:{affix_id:"9",property:"QuantumAddedRatio",base:.024883,step:.008709},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.024883,step:.008709}}},26:{id:"26",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.041472,step:.014515},2:{affix_id:"2",property:"SPRatioBase",base:.012442,step:.0043550003},3:{affix_id:"3",property:"HPAddedRatio",base:.027648,step:.009677},4:{affix_id:"4",property:"AttackAddedRatio",base:.027648,step:.009677},5:{affix_id:"5",property:"DefenceAddedRatio",base:.034560002,step:.012096001}}},31:{id:"31",affixes:{1:{affix_id:"1",property:"HPDelta",base:67.7376,step:23.70816}}},32:{id:"32",affixes:{1:{affix_id:"1",property:"AttackDelta",base:33.8688,step:11.85408}}},33:{id:"33",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.041472,step:.014515},2:{affix_id:"2",property:"AttackAddedRatio",base:.041472,step:.014515},3:{affix_id:"3",property:"DefenceAddedRatio",base:.05184,step:.018144},4:{affix_id:"4",property:"CriticalChanceBase",base:.031104,step:.010886001},5:{affix_id:"5",property:"CriticalDamageBase",base:.062208,step:.021773001},6:{affix_id:"6",property:"HealRatioBase",base:.033178,step:.011612},7:{affix_id:"7",property:"StatusProbabilityBase",base:.041472,step:.014515}}},34:{id:"34",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.041472,step:.014515},2:{affix_id:"2",property:"AttackAddedRatio",base:.041472,step:.014515},3:{affix_id:"3",property:"DefenceAddedRatio",base:.05184,step:.018144},4:{affix_id:"4",property:"SpeedDelta",base:2.4192,step:1}}},35:{id:"35",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.041472,step:.014515},2:{affix_id:"2",property:"AttackAddedRatio",base:.041472,step:.014515},3:{affix_id:"3",property:"DefenceAddedRatio",base:.05184,step:.018144},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.037325,step:.013064001},5:{affix_id:"5",property:"FireAddedRatio",base:.037325,step:.013064001},6:{affix_id:"6",property:"IceAddedRatio",base:.037325,step:.013064001},7:{affix_id:"7",property:"ThunderAddedRatio",base:.037325,step:.013064001},8:{affix_id:"8",property:"WindAddedRatio",base:.037325,step:.013064001},9:{affix_id:"9",property:"QuantumAddedRatio",base:.037325,step:.013064001},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.037325,step:.013064001}}},36:{id:"36",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.062208,step:.021773001},2:{affix_id:"2",property:"SPRatioBase",base:.018662,step:.0065320004},3:{affix_id:"3",property:"HPAddedRatio",base:.041472,step:.014515},4:{affix_id:"4",property:"AttackAddedRatio",base:.041472,step:.014515},5:{affix_id:"5",property:"DefenceAddedRatio",base:.05184,step:.018144}}},41:{id:"41",affixes:{1:{affix_id:"1",property:"HPDelta",base:90.3168,step:31.61088}}},42:{id:"42",affixes:{1:{affix_id:"1",property:"AttackDelta",base:45.1584,step:15.80544}}},43:{id:"43",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354},2:{affix_id:"2",property:"AttackAddedRatio",base:.055296,step:.019354},3:{affix_id:"3",property:"DefenceAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"CriticalChanceBase",base:.041472,step:.014515},5:{affix_id:"5",property:"CriticalDamageBase",base:.082944,step:.029029999},6:{affix_id:"6",property:"HealRatioBase",base:.044237,step:.015483},7:{affix_id:"7",property:"StatusProbabilityBase",base:.055296,step:.019354}}},44:{id:"44",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354},2:{affix_id:"2",property:"AttackAddedRatio",base:.055296,step:.019354},3:{affix_id:"3",property:"DefenceAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"SpeedDelta",base:3.2256,step:1.1}}},45:{id:"45",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354},2:{affix_id:"2",property:"AttackAddedRatio",base:.055296,step:.019354},3:{affix_id:"3",property:"DefenceAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.049766,step:.017418},5:{affix_id:"5",property:"FireAddedRatio",base:.049766,step:.017418},6:{affix_id:"6",property:"IceAddedRatio",base:.049766,step:.017418},7:{affix_id:"7",property:"ThunderAddedRatio",base:.049766,step:.017418},8:{affix_id:"8",property:"WindAddedRatio",base:.049766,step:.017418},9:{affix_id:"9",property:"QuantumAddedRatio",base:.049766,step:.017418},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.049766,step:.017418}}},46:{id:"46",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.082944,step:.029029999},2:{affix_id:"2",property:"SPRatioBase",base:.024883,step:.008709},3:{affix_id:"3",property:"HPAddedRatio",base:.055296,step:.019354},4:{affix_id:"4",property:"AttackAddedRatio",base:.055296,step:.019354},5:{affix_id:"5",property:"DefenceAddedRatio",base:.06912,step:.024192}}},51:{id:"51",affixes:{1:{affix_id:"1",property:"HPDelta",base:112.896,step:39.5136}}},52:{id:"52",affixes:{1:{affix_id:"1",property:"AttackDelta",base:56.448,step:19.7568}}},53:{id:"53",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.06912,step:.024192},2:{affix_id:"2",property:"AttackAddedRatio",base:.06912,step:.024192},3:{affix_id:"3",property:"DefenceAddedRatio",base:.0864,step:.030240001},4:{affix_id:"4",property:"CriticalChanceBase",base:.05184,step:.018144},5:{affix_id:"5",property:"CriticalDamageBase",base:.10368,step:.036288},6:{affix_id:"6",property:"HealRatioBase",base:.055296,step:.019354},7:{affix_id:"7",property:"StatusProbabilityBase",base:.06912,step:.024192}}},54:{id:"54",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.06912,step:.024192},2:{affix_id:"2",property:"AttackAddedRatio",base:.06912,step:.024192},3:{affix_id:"3",property:"DefenceAddedRatio",base:.0864,step:.030240001},4:{affix_id:"4",property:"SpeedDelta",base:4.032,step:1.4}}},55:{id:"55",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.06912,step:.024192},2:{affix_id:"2",property:"AttackAddedRatio",base:.06912,step:.024192},3:{affix_id:"3",property:"DefenceAddedRatio",base:.0864,step:.030240001},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.062208,step:.021773001},5:{affix_id:"5",property:"FireAddedRatio",base:.062208,step:.021773001},6:{affix_id:"6",property:"IceAddedRatio",base:.062208,step:.021773001},7:{affix_id:"7",property:"ThunderAddedRatio",base:.062208,step:.021773001},8:{affix_id:"8",property:"WindAddedRatio",base:.062208,step:.021773001},9:{affix_id:"9",property:"QuantumAddedRatio",base:.062208,step:.021773001},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.062208,step:.021773001}}},56:{id:"56",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.10368,step:.036288},2:{affix_id:"2",property:"SPRatioBase",base:.031104,step:.010886001},3:{affix_id:"3",property:"HPAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"AttackAddedRatio",base:.06912,step:.024192},5:{affix_id:"5",property:"DefenceAddedRatio",base:.0864,step:.030240001}}},433:{id:"433",affixes:{1:{affix_id:"1",property:"DefenceAddedRatio",base:.06912,step:.024192}}},434:{id:"434",affixes:{1:{affix_id:"1",property:"CriticalChanceBase",base:.041472,step:.014515}}},436:{id:"436",affixes:{1:{affix_id:"1",property:"HealRatioBase",base:.044237,step:.015483}}},441:{id:"441",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354}}},443:{id:"443",affixes:{1:{affix_id:"1",property:"DefenceAddedRatio",base:.06912,step:.024192}}}},Kf={2:{id:"2",affixes:{1:{affix_id:"1",property:"HPDelta",base:13.548016,step:1.693502,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:6.774008,step:.846751,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:6.774008,step:.846751,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.013824001,step:.0017280006,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.013824001,step:.0017280006,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.017280001,step:.0021600004,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:1,step:.1,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.010368001,step:.0012960008,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.020736001,step:.0025920009,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.013824001,step:.0017280006,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.013824001,step:.0017280006,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.020736001,step:.0025920009,step_num:2}}},3:{id:"3",affixes:{1:{affix_id:"1",property:"HPDelta",base:20.322023,step:2.540253,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:10.161012,step:1.270126,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:10.161012,step:1.270126,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.020736001,step:.0025920009,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.020736001,step:.0025920009,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.02592,step:.0032400002,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:1.2,step:.1,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.015552,step:.0019440008,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.031104,step:.003888001,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.020736001,step:.0025920009,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.020736001,step:.0025920009,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.031104,step:.003888001,step_num:2}}},4:{id:"4",affixes:{1:{affix_id:"1",property:"HPDelta",base:27.096031,step:3.387004,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:13.548016,step:1.693502,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:13.548016,step:1.693502,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.027648,step:.0034560005,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.027648,step:.0034560005,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.034560002,step:.0043200003,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:1.6,step:.2,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.020736001,step:.0025920009,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.041472,step:.0051840004,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.027648,step:.0034560005,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.027648,step:.0034560005,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.041472,step:.0051840004,step_num:2}}},5:{id:"5",affixes:{1:{affix_id:"1",property:"HPDelta",base:33.87004,step:4.233755,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:16.935019,step:2.116877,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:16.935019,step:2.116877,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.034560002,step:.0043200003,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.034560002,step:.0043200003,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.0432,step:.0054,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:2,step:.3,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.02592,step:.0032400002,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.05184,step:.0064800004,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.034560002,step:.0043200003,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.034560002,step:.0043200003,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.05184,step:.0064800004,step_num:2}}}},Un=Ka.characters,$o=Ka.lightCones,t0=[M.MessengerTraversingHackerspace,M.ThiefOfShootingMeteor,M.WatchmakerMasterOfDreamMachinations,M.IronCavalryAgainstTheScourge],kt=[[M.GeniusOfBrilliantStars,M.GeniusOfBrilliantStars],[M.PioneerDiverOfDeadWaters,M.PioneerDiverOfDeadWaters]],Ne=[M.DuranDynastyOfRunningWolves,M.SigoniaTheUnclaimedDesolation,M.InertSalsotto],Ut=[M.FirmamentFrontlineGlamoth,M.SigoniaTheUnclaimedDesolation],nr={parse:()=>{const t=wf(),e=Af();for(const u of Object.values($o)){const R=u.id;t[R]?u.superimpositions=t[R]:u.superimpositions={};let h=200;e[R]!=null&&e[R]!={}&&(h=e[R]),u.displayName=u.name,u.imageCenter=h}const i=Qf(),l=jf(),s=Jf();for(const u of Object.values(s))for(const R of[Z.Body,Z.Feet,Z.PlanarSphere,Z.LinkRope])u.parts[R].length===0&&(u.parts[R]=ai[R]);for(const[u,R]of Object.entries(i)){if(!Un[u])continue;let h={x:1024,y:1024};l[u]!=null&&(h=l[u]),Un[u].traces=R,Un[u].imageCenter=h,Un[u].displayName=vf(Un[u]),Un[u].scoringMetadata=s[u],Un[u].scoringMetadata.characterId=u}const o=Ka.relics.reduce((u,R)=>(u[R.id]=R,u),{}),r={characters:Un,lightCones:$o,relics:{relicMainAffixes:Yf,relicSubAffixes:Kf,relicSets:o}};return y.setMetadata(r),r}},e0={8001:"Caelus (Destruction)",8002:"Stelle (Destruction)",8003:"Caelus (Preservation)",8004:"Stelle (Preservation)",8005:"Caelus (Harmony)",8006:"Stelle (Harmony)",1213:"Imbibitor Lunae",1224:"March 7th (Hunt)"};function vf(t){return t.id in e0?e0[t.id]:t.name}function wf(){return{2e4:{},20001:{},20002:{},20003:{1:{[n.DEF_P]:.16},2:{[n.DEF_P]:.2},3:{[n.DEF_P]:.24},4:{[n.DEF_P]:.28},5:{[n.DEF_P]:.32}},20004:{},20005:{},20006:{},20007:{},20008:{},20009:{},20010:{},20011:{},20012:{},20013:{},20014:{},20015:{},20016:{},20017:{},20018:{},20019:{},20020:{},21e3:{1:{[n.ERR]:.08},2:{[n.ERR]:.1},3:{[n.ERR]:.12},4:{[n.ERR]:.14},5:{[n.ERR]:.16}},21001:{},21002:{1:{[n.DEF_P]:.16},2:{[n.DEF_P]:.18},3:{[n.DEF_P]:.2},4:{[n.DEF_P]:.22},5:{[n.DEF_P]:.24}},21003:{1:{[n.ATK_P]:.16},2:{[n.ATK_P]:.2},3:{[n.ATK_P]:.24},4:{[n.ATK_P]:.28},5:{[n.ATK_P]:.32}},21004:{1:{[n.BE]:.28},2:{[n.BE]:.35},3:{[n.BE]:.42},4:{[n.BE]:.49},5:{[n.BE]:.56}},21005:{},21006:{},21007:{},21008:{1:{[n.EHR]:.2},2:{[n.EHR]:.25},3:{[n.EHR]:.3},4:{[n.EHR]:.35},5:{[n.EHR]:.4}},21009:{},21010:{},21011:{},21012:{},21013:{},21014:{1:{[n.RES]:.16},2:{[n.RES]:.2},3:{[n.RES]:.24},4:{[n.RES]:.28},5:{[n.RES]:.32}},21015:{},21016:{1:{[n.DEF_P]:.16},2:{[n.DEF_P]:.2},3:{[n.DEF_P]:.24},4:{[n.DEF_P]:.28},5:{[n.DEF_P]:.32}},21017:{},21018:{},21019:{1:{[n.ATK_P]:.16},2:{[n.ATK_P]:.2},3:{[n.ATK_P]:.24},4:{[n.ATK_P]:.28},5:{[n.ATK_P]:.32}},21020:{1:{[n.ATK_P]:.16},2:{[n.ATK_P]:.2},3:{[n.ATK_P]:.24},4:{[n.ATK_P]:.28},5:{[n.ATK_P]:.32}},21021:{},21022:{1:{[n.BE]:.16},2:{[n.BE]:.2},3:{[n.BE]:.24},4:{[n.BE]:.28},5:{[n.BE]:.32}},21023:{},21024:{},21025:{},21026:{1:{[n.ATK_P]:.1},2:{[n.ATK_P]:.125},3:{[n.ATK_P]:.15},4:{[n.ATK_P]:.175},5:{[n.ATK_P]:.2}},21027:{},21028:{1:{[n.HP_P]:.16},2:{[n.HP_P]:.2},3:{[n.HP_P]:.24},4:{[n.HP_P]:.28},5:{[n.HP_P]:.32}},21029:{},21030:{1:{[n.DEF_P]:.16},2:{[n.DEF_P]:.2},3:{[n.DEF_P]:.24},4:{[n.DEF_P]:.28},5:{[n.DEF_P]:.32}},21031:{1:{[n.CR]:.12},2:{[n.CR]:.15},3:{[n.CR]:.18},4:{[n.CR]:.21},5:{[n.CR]:.24}},21032:{},21033:{1:{[n.ATK_P]:.24},2:{[n.ATK_P]:.3},3:{[n.ATK_P]:.36},4:{[n.ATK_P]:.42},5:{[n.ATK_P]:.48}},21034:{},21035:{1:{[n.BE]:.24},2:{[n.BE]:.3},3:{[n.BE]:.36},4:{[n.BE]:.42},5:{[n.BE]:.48}},21036:{},21037:{1:{[n.ATK_P]:.12},2:{[n.ATK_P]:.14},3:{[n.ATK_P]:.16},4:{[n.ATK_P]:.18},5:{[n.ATK_P]:.2}},21038:{},21039:{1:{[n.RES]:.12},2:{[n.RES]:.14},3:{[n.RES]:.16},4:{[n.RES]:.18},5:{[n.RES]:.2}},21040:{1:{[n.ATK_P]:.16},2:{[n.ATK_P]:.18},3:{[n.ATK_P]:.2},4:{[n.ATK_P]:.22},5:{[n.ATK_P]:.24}},21041:{},21042:{1:{[n.BE]:.28},2:{[n.BE]:.35},3:{[n.BE]:.42},4:{[n.BE]:.49},5:{[n.BE]:.56}},21043:{1:{[n.DEF_P]:.16},2:{[n.DEF_P]:.2},3:{[n.DEF_P]:.24},4:{[n.DEF_P]:.28},5:{[n.DEF_P]:.32}},21044:{1:{[n.CR]:.08},2:{[n.CR]:.1},3:{[n.CR]:.12},4:{[n.CR]:.14},5:{[n.CR]:.16}},21045:{1:{[Constants.Stats.BE]:.28},2:{[Constants.Stats.BE]:.35},3:{[Constants.Stats.BE]:.42},4:{[Constants.Stats.BE]:.49},5:{[Constants.Stats.BE]:.56}},21046:{1:{[Constants.Stats.ATK_P]:.16},2:{[Constants.Stats.ATK_P]:.2},3:{[Constants.Stats.ATK_P]:.24},4:{[Constants.Stats.ATK_P]:.28},5:{[Constants.Stats.ATK_P]:.32}},21047:{1:{[Constants.Stats.BE]:.28},2:{[Constants.Stats.BE]:.35},3:{[Constants.Stats.BE]:.42},4:{[Constants.Stats.BE]:.49},5:{[Constants.Stats.BE]:.56}},21048:{1:{[Constants.Stats.SPD_P]:.08},2:{[Constants.Stats.SPD_P]:.09},3:{[Constants.Stats.SPD_P]:.1},4:{[Constants.Stats.SPD_P]:.11},5:{[Constants.Stats.SPD_P]:.12}},22e3:{1:{[n.EHR]:.2},2:{[n.EHR]:.25},3:{[n.EHR]:.3},4:{[n.EHR]:.35},5:{[n.EHR]:.4}},22001:{1:{[n.HP_P]:.08},2:{[n.HP_P]:.09},3:{[n.HP_P]:.1},4:{[n.HP_P]:.11},5:{[n.HP_P]:.12}},22002:{1:{[n.ATK_P]:.16},2:{[n.ATK_P]:.2},3:{[n.ATK_P]:.24},4:{[n.ATK_P]:.28},5:{[n.ATK_P]:.32}},22003:{1:{[n.HP_P]:.12},2:{[n.HP_P]:.15},3:{[n.HP_P]:.18},4:{[n.HP_P]:.21},5:{[n.HP_P]:.24}},23e3:{},23001:{1:{[n.CR]:.18},2:{[n.CR]:.21},3:{[n.CR]:.24},4:{[n.CR]:.27},5:{[n.CR]:.3}},23002:{1:{[n.ATK_P]:.24},2:{[n.ATK_P]:.28},3:{[n.ATK_P]:.32},4:{[n.ATK_P]:.36},5:{[n.ATK_P]:.4}},23003:{1:{[n.ERR]:.1},2:{[n.ERR]:.12},3:{[n.ERR]:.14},4:{[n.ERR]:.16},5:{[n.ERR]:.18}},23004:{},23005:{1:{[n.DEF_P]:.24,[n.EHR]:.24},2:{[n.DEF_P]:.28,[n.EHR]:.28},3:{[n.DEF_P]:.32,[n.EHR]:.32},4:{[n.DEF_P]:.36,[n.EHR]:.36},5:{[n.DEF_P]:.4,[n.EHR]:.4}},23006:{},23007:{1:{[n.EHR]:.24},2:{[n.EHR]:.28},3:{[n.EHR]:.32},4:{[n.EHR]:.36},5:{[n.EHR]:.4}},23008:{1:{[n.ATK_P]:.24},2:{[n.ATK_P]:.28},3:{[n.ATK_P]:.32},4:{[n.ATK_P]:.36},5:{[n.ATK_P]:.4}},23009:{1:{[n.CR]:.18,[n.HP_P]:.18},2:{[n.CR]:.21,[n.HP_P]:.21},3:{[n.CR]:.24,[n.HP_P]:.24},4:{[n.CR]:.27,[n.HP_P]:.27},5:{[n.CR]:.3,[n.HP_P]:.3}},23010:{1:{[n.CD]:.36},2:{[n.CD]:.42},3:{[n.CD]:.48},4:{[n.CD]:.54},5:{[n.CD]:.6}},23011:{1:{[n.HP_P]:.24,[n.ERR]:.12},2:{[n.HP_P]:.28,[n.ERR]:.14},3:{[n.HP_P]:.32,[n.ERR]:.16},4:{[n.HP_P]:.36,[n.ERR]:.18},5:{[n.HP_P]:.4,[n.ERR]:.2}},23012:{1:{[n.CD]:.3},2:{[n.CD]:.35},3:{[n.CD]:.4},4:{[n.CD]:.45},5:{[n.CD]:.5}},23013:{1:{[n.HP_P]:.18,[n.OHB]:.12},2:{[n.HP_P]:.21,[n.OHB]:.14},3:{[n.HP_P]:.24,[n.OHB]:.16},4:{[n.HP_P]:.27,[n.OHB]:.18},5:{[n.HP_P]:.3,[n.OHB]:.2}},23014:{1:{[n.CD]:.2},2:{[n.CD]:.23},3:{[n.CD]:.26},4:{[n.CD]:.29},5:{[n.CD]:.32}},23015:{1:{[n.CR]:.18},2:{[n.CR]:.21},3:{[n.CR]:.24},4:{[n.CR]:.27},5:{[n.CR]:.3}},23016:{1:{[n.CR]:.18},2:{[n.CR]:.21},3:{[n.CR]:.24},4:{[n.CR]:.27},5:{[n.CR]:.3}},23017:{1:{[n.ERR]:.12},2:{[n.ERR]:.14},3:{[n.ERR]:.16},4:{[n.ERR]:.18},5:{[n.ERR]:.2}},23018:{1:{[n.CD]:.36},2:{[n.CD]:.42},3:{[n.CD]:.48},4:{[n.CD]:.54},5:{[n.CD]:.6}},23019:{1:{[n.BE]:.6},2:{[n.BE]:.7},3:{[n.BE]:.8},4:{[n.BE]:.9},5:{[n.BE]:1}},23020:{1:{[n.CD]:.2},2:{[n.CD]:.23},3:{[n.CD]:.26},4:{[n.CD]:.29},5:{[n.CD]:.32}},23021:{1:{[n.CD]:.32},2:{[n.CD]:.39},3:{[n.CD]:.46},4:{[n.CD]:.53},5:{[n.CD]:.6}},23022:{1:{[n.EHR]:.4},2:{[n.EHR]:.45},3:{[n.EHR]:.5},4:{[n.EHR]:.55},5:{[n.EHR]:.6}},23023:{1:{[n.DEF_P]:.4},2:{[n.DEF_P]:.46},3:{[n.DEF_P]:.52},4:{[n.DEF_P]:.58},5:{[n.DEF_P]:.64}},23024:{1:{[n.CD]:.36},2:{[n.CD]:.42},3:{[n.CD]:.48},4:{[n.CD]:.54},5:{[n.CD]:.6}},23025:{1:{[Constants.Stats.BE]:.6},2:{[Constants.Stats.BE]:.7},3:{[Constants.Stats.BE]:.8},4:{[Constants.Stats.BE]:.9},5:{[Constants.Stats.BE]:1}},23026:{},23027:{1:{[n.BE]:.6},2:{[n.BE]:.7},3:{[n.BE]:.8},4:{[n.BE]:.9},5:{[n.BE]:1}},23028:{1:{[Constants.Stats.CR]:.16},2:{[Constants.Stats.CR]:.19},3:{[Constants.Stats.CR]:.22},4:{[Constants.Stats.CR]:.25},5:{[Constants.Stats.CR]:.28}},23029:{1:{[Constants.Stats.EHR]:.6},2:{[Constants.Stats.EHR]:.7},3:{[Constants.Stats.EHR]:.8},4:{[Constants.Stats.EHR]:.9},5:{[Constants.Stats.EHR]:1}},23030:{1:{[Constants.Stats.CD]:.36},2:{[Constants.Stats.CD]:.42},3:{[Constants.Stats.CD]:.48},4:{[Constants.Stats.CD]:.54},5:{[Constants.Stats.CD]:.6}},23031:{1:{[Constants.Stats.CR]:.15},2:{[Constants.Stats.CR]:.175},3:{[Constants.Stats.CR]:.2},4:{[Constants.Stats.CR]:.225},5:{[Constants.Stats.CR]:.25}},23032:{1:{[Constants.Stats.BE]:.6},2:{[Constants.Stats.BE]:.7},3:{[Constants.Stats.BE]:.8},4:{[Constants.Stats.BE]:.9},5:{[Constants.Stats.BE]:1}},23033:{1:{[Constants.Stats.BE]:.6},2:{[Constants.Stats.BE]:.7},3:{[Constants.Stats.BE]:.8},4:{[Constants.Stats.BE]:.9},5:{[Constants.Stats.BE]:1}},24e3:{},24001:{1:{[n.CR]:.08},2:{[n.CR]:.1},3:{[n.CR]:.12},4:{[n.CR]:.14},5:{[n.CR]:.16}},24002:{1:{[n.RES]:.08},2:{[n.RES]:.1},3:{[n.RES]:.12},4:{[n.RES]:.14},5:{[n.RES]:.16}},24003:{1:{[n.BE]:.2},2:{[n.BE]:.25},3:{[n.BE]:.3},4:{[n.BE]:.35},5:{[n.BE]:.4}},24004:{1:{[Constants.Stats.ATK_P]:.08},2:{[Constants.Stats.ATK_P]:.09},3:{[Constants.Stats.ATK_P]:.1},4:{[Constants.Stats.ATK_P]:.11},5:{[Constants.Stats.ATK_P]:.12}}}}function Af(){return{2e4:270,20001:220,20002:160,20003:310,20004:180,20005:210,20006:390,20007:180,20008:220,20009:230,20010:250,20011:390,20012:300,20013:220,20014:210,20015:270,20016:270,20017:410,20018:190,20019:230,20020:250,21e3:150,21001:290,21002:160,21003:195,21004:150,21005:250,21006:170,21007:240,21008:140,21009:140,21010:160,21011:115,21012:160,21013:200,21014:140,21015:125,21016:180,21017:140,21018:210,21019:180,21020:230,21021:180,21022:300,21023:240,21024:140,21025:125,21026:160,21027:200,21028:250,21029:160,21030:305,21031:190,21032:245,21033:140,21034:220,21035:300,21036:220,21037:210,21038:130,21039:220,21040:150,21041:160,21042:200,21043:220,21044:150,21045:160,21046:145,21047:145,21048:250,22e3:275,22001:220,22002:160,22003:185,23e3:140,23001:150,23002:160,23003:250,23004:140,23005:150,23006:200,23007:210,23008:160,23009:130,23010:180,23011:180,23012:300,23013:180,23014:120,23015:190,23016:130,23017:190,23018:170,23019:270,23020:220,23021:150,23022:190,23023:140,23024:80,23025:125,23026:180,23027:140,23028:150,23029:140,23031:145,23032:180,23033:175,24e3:170,24001:270,24002:170,24003:250,24004:270}}function Qf(){return{1001:{[n.Ice_DMG]:.224,[n.DEF_P]:.225,[n.RES]:.1},1002:{[n.Wind_DMG]:.224,[n.ATK_P]:.18,[n.DEF_P]:.125},1003:{[n.Fire_DMG]:.224,[n.ATK_P]:.18,[n.RES]:.1},1004:{[n.ATK_P]:.28,[n.Imaginary_DMG]:.144,[n.RES]:.1},1005:{[n.ATK_P]:.28,[n.EHR]:.18,[n.HP_P]:.1},1006:{[n.ATK_P]:.28,[n.EHR]:.18,[n.Quantum_DMG]:.08},1008:{[n.ATK_P]:.28,[n.RES]:.12,[n.HP_P]:.1},1009:{[n.Fire_DMG]:.224,[n.DEF_P]:.225,[n.CR]:.067},1013:{[n.Ice_DMG]:.224,[n.DEF_P]:.225,[n.CR]:.067},1101:{[n.Wind_DMG]:.224,[n.CD]:.24,[n.RES]:.1},1102:{[n.ATK_P]:.28,[n.CD]:.24,[n.DEF_P]:.125},1103:{[n.CR]:.187,[n.EHR]:.18,[n.RES]:.1},1104:{[n.Ice_DMG]:.224,[n.RES]:.18,[n.DEF_P]:.125},1105:{[n.HP_P]:.28,[n.DEF_P]:.125,[n.RES]:.18},1106:{[n.Ice_DMG]:.224,[n.ATK_P]:.18,[n.EHR]:.1},1107:{[n.ATK_P]:.28,[n.Physical_DMG]:.144,[n.HP_P]:.1},1108:{[n.ATK_P]:.28,[n.EHR]:.18,[n.RES]:.1},1109:{[n.ATK_P]:.28,[n.HP_P]:.18,[n.CD]:.133},1110:{[n.HP_P]:.28,[n.DEF_P]:.225,[n.RES]:.1},1111:{[n.ATK_P]:.28,[n.EHR]:.18,[n.DEF_P]:.125},1112:{[n.Fire_DMG]:.224,[n.CR]:.12,[n.HP_P]:.1},1201:{[n.ATK_P]:.28,[n.Quantum_DMG]:.144,[n.DEF_P]:.125},1202:{[n.ATK_P]:.28,[n.DEF_P]:.225,[n.Lightning_DMG]:.08},1203:{[n.ATK_P]:.28,[n.HP_P]:.18,[n.DEF_P]:.125},1204:{[n.ATK_P]:.28,[n.DEF_P]:.125,[n.CR]:.12},1205:{[n.HP_P]:.28,[n.CR]:.12,[n.RES]:.1},1206:{[n.ATK_P]:.28,[n.HP_P]:.18,[n.DEF_P]:.125},1207:{[n.Imaginary_DMG]:.224,[n.HP_P]:.18,[n.ATK_P]:.1},1208:{[n.CR]:.187,[n.HP_P]:.18,[n.RES]:.1},1209:{[n.ATK_P]:.28,[n.Ice_DMG]:.144,[n.HP_P]:.1},1210:{[n.Fire_DMG]:.224,[n.EHR]:.1,[n.BE]:.24},1211:{[n.HP_P]:.28,[n.DEF_P]:.225,[n.RES]:.1},1212:{[n.HP_P]:.1,[n.SPD]:9,[n.CD]:.373},1213:{[n.Imaginary_DMG]:.224,[n.CR]:.12,[n.HP_P]:.1},1214:{[n.Quantum_DMG]:.08,[n.HP_P]:.18,[n.BE]:.373},1215:{[n.ATK_P]:.28,[n.HP_P]:.1,[n.SPD]:9},1217:{[n.HP_P]:.28,[n.RES]:.18,[n.SPD]:5},1218:{[n.EHR]:.28,[n.Fire_DMG]:.144,[n.SPD]:5},1220:{[n.ATK_P]:.28,[n.CR]:.12,[n.DEF_P]:.125},1221:{[n.ATK_P]:.28,[n.HP_P]:.18,[n.CR]:.067},1222:{[n.BE]:.373,[n.HP_P]:.18,[n.ATK_P]:.1},1223:{[n.CD]:.373,[n.ATK_P]:.18,[n.HP_P]:.1},1224:{[n.ATK_P]:.28,[n.CD]:.24,[n.DEF_P]:.125},1301:{[n.BE]:.133,[n.HP_P]:.18,[n.RES]:.28},1302:{[n.ATK_P]:.28,[n.Physical_DMG]:.144,[n.HP_P]:.1},1303:{[n.BE]:.373,[n.DEF_P]:.225,[n.SPD]:5},1304:{[n.DEF_P]:.35,[n.Imaginary_DMG]:.144,[n.RES]:.1},1305:{[n.ATK_P]:.28,[n.CR]:.12,[n.DEF_P]:.125},1306:{[n.HP_P]:.28,[n.CD]:.24,[n.RES]:.1},1307:{[n.ATK_P]:.28,[n.Wind_DMG]:.144,[n.EHR]:.1},1308:{[n.ATK_P]:.28,[n.Lightning_DMG]:.08,[n.CD]:.24},1309:{[n.ATK_P]:.28,[n.HP_P]:.18,[n.SPD]:5},1310:{[Constants.Stats.BE]:.373,[Constants.Stats.RES]:.18,[Constants.Stats.SPD]:5},1312:{[n.Ice_DMG]:.224,[n.DEF_P]:.225,[n.CR]:.067},1314:{[Constants.Stats.Quantum_DMG]:.224,[Constants.Stats.ATK_P]:.18,[Constants.Stats.RES]:.1},1315:{[n.BE]:.373,[n.ATK_P]:.18,[n.HP_P]:.1},1317:{[n.ATK_P]:.28,[n.SPD]:9,[n.BE]:.133},8001:{[n.ATK_P]:.28,[n.HP_P]:.18,[n.DEF_P]:.125},8002:{[n.ATK_P]:.28,[n.HP_P]:.18,[n.DEF_P]:.125},8003:{[n.DEF_P]:.35,[n.ATK_P]:.18,[n.HP_P]:.1},8004:{[n.DEF_P]:.35,[n.ATK_P]:.18,[n.HP_P]:.1},8005:{[n.BE]:.373,[n.Imaginary_DMG]:.144,[n.RES]:.1},8006:{[n.BE]:.373,[n.Imaginary_DMG]:.144,[n.RES]:.1}}}function jf(){return{1001:{x:985,y:1075,z:1.05},1002:{x:1024,y:1e3,z:1},1003:{x:1015,y:1215,z:1.05},1004:{x:885,y:950,z:1},1005:{x:1e3,y:950,z:1.1},1006:{x:1050,y:950,z:1},1008:{x:1240,y:1e3,z:1},1009:{x:1024,y:975,z:1},1013:{x:970,y:910,z:1.1},1101:{x:950,y:1200,z:1.1},1102:{x:820,y:1075,z:1.1},1103:{x:1060,y:1030,z:1.3},1104:{x:1150,y:1110,z:1},1105:{x:1040,y:1024,z:1},1106:{x:780,y:1100,z:1},1107:{x:880,y:900,z:1.15},1108:{x:1e3,y:950,z:1},1109:{x:975,y:1025,z:1.1},1110:{x:1180,y:1050,z:1.05},1111:{x:930,y:1e3,z:1},1112:{x:1120,y:875,z:1},1201:{x:1e3,y:1024,z:1},1202:{x:1024,y:950,z:1},1203:{x:1024,y:975,z:1.05},1204:{x:1024,y:1024,z:1.1},1205:{x:990,y:800,z:1},1206:{x:1075,y:1015,z:1.2},1207:{x:900,y:1055,z:1.1},1208:{x:920,y:950,z:1},1209:{x:1e3,y:1e3,z:1},1210:{x:1e3,y:1024,z:1},1211:{x:1e3,y:950,z:1},1212:{x:1024,y:930,z:1},1213:{x:1050,y:1e3,z:1.05},1214:{x:1e3,y:900,z:1},1215:{x:1e3,y:1024,z:1.1},1217:{x:950,y:975,z:1.075},1218:{x:950,y:900,z:1.1},1220:{x:1024,y:1050,z:1},1221:{x:1024,y:1075,z:1.1},1222:{x:1110,y:1e3,z:1.1},1223:{x:960,y:1024,z:1.05},1224:{x:825,y:950,z:1.1},1301:{x:1200,y:975,z:1},1302:{x:680,y:1e3,z:1.15},1303:{x:1060,y:1050,z:1},1304:{x:1150,y:1e3,z:1.05},1305:{x:965,y:840,z:1.15},1306:{x:1050,y:1050,z:1},1307:{x:950,y:925,z:1.25},1308:{x:1e3,y:900,z:1},1309:{x:1024,y:925,z:1},1310:{x:930,y:1075,z:1.25},1312:{x:1050,y:1075,z:1},1314:{x:1024,y:850,z:1.15},1315:{x:1e3,y:1100,z:1},1317:{x:1125,y:1175,z:1},8001:{x:1024,y:1100,z:1},8002:{x:1024,y:1024,z:1},8003:{x:980,y:1024,z:1.05},8004:{x:1050,y:1024,z:1.05},8005:{x:1040,y:1e3,z:1.1},8006:{x:1040,y:1e3,z:1.1}}}function Jf(){return{1001:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:1,[n.DEF_P]:1,[n.HP]:.5,[n.HP_P]:.5,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:1,[n.RES]:.75,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.DEF_P,n.EHR],[Z.Feet]:[n.DEF_P,n.SPD],[Z.PlanarSphere]:[n.DEF_P],[Z.LinkRope]:[n.DEF_P,n.ERR]},presets:[at.VALOROUS_SET],sortOption:v.DEF},1002:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:1,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Wind_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[at.fnPioneerSet(4)],sortOption:v.ULT,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Wind_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[M.PioneerDiverOfDeadWaters,M.PioneerDiverOfDeadWaters],...kt],ornamentSets:[M.RutilantArena,...Ut],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1003:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:.5,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:1,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CD,n.CR],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Fire_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[at.fnAshblazingSet(8),at.fnPioneerSet(4),at.VALOROUS_SET],sortOption:v.FUA,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Fire_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:2,ULT:1,FUA:3,DOT:0,BREAK:0},relicSets:[[M.TheAshblazingGrandDuke,M.TheAshblazingGrandDuke],...kt],ornamentSets:[M.DuranDynastyOfRunningWolves,...Ne,...Ut],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1004:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:1,[n.RES]:0,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:1},parts:{[Z.Body]:[n.CD,n.CR,n.EHR],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Imaginary_DMG],[Z.LinkRope]:[n.ATK_P,n.ERR]},presets:[at.WASTELANDER_SET,at.fnPioneerSet(4)],sortOption:v.SKILL,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Imaginary_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[M.PioneerDiverOfDeadWaters,M.PioneerDiverOfDeadWaters],...kt],ornamentSets:[M.RutilantArena,...Ut],teammates:[{characterId:"1308",lightCone:"23024",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1005:{stats:{[n.ATK]:1,[n.ATK_P]:1,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:.5,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:1,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.ATK_P],[Z.Feet]:[n.SPD,n.ATK_P],[Z.PlanarSphere]:[n.ATK_P,n.Lightning_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[at.PRISONER_SET,at.fnAshblazingSet(6),at.VALOROUS_SET],sortOption:v.DOT,simulation:{parts:{[Z.Body]:[n.ATK_P],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Lightning_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.ATK_P,n.ATK,n.EHR,n.CR,n.CD],breakpoints:{[n.EHR]:.282},formula:{BASIC:0,SKILL:2,ULT:1,FUA:2,DOT:16,BREAK:0},relicSets:[[M.PrisonerInDeepConfinement,M.PrisonerInDeepConfinement]],ornamentSets:[M.FirmamentFrontlineGlamoth],teammates:[{characterId:"1307",lightCone:"23022",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1006:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:.5,[n.DEF_P]:.5,[n.HP]:.5,[n.HP_P]:.5,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:1,[n.RES]:.5,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:1,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CD,n.CR,n.EHR],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[n.Quantum_DMG,n.ATK_P,n.HP_P,n.DEF_P],[Z.LinkRope]:[n.ERR,n.ATK_P,n.BE]},presets:[at.fnPioneerSet(4)],sortOption:v.ULT},1008:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:1,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Lightning_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[],sortOption:v.SKILL,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Lightning_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[M.BandOfSizzlingThunder,M.BandOfSizzlingThunder],...kt],ornamentSets:[M.RutilantArena,...Ut],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1009:{stats:{[n.ATK]:.5,[n.ATK_P]:.5,[n.DEF]:.5,[n.DEF_P]:.5,[n.HP]:1,[n.HP_P]:1,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:.5,[n.BE]:.5,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:1,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[],[Z.LinkRope]:[n.ATK_P,n.ERR]},presets:[],sortOption:v.SPD},1013:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:1,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Ice_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[at.fnAshblazingSet(8),at.VALOROUS_SET],sortOption:v.FUA,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Ice_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:2,ULT:1,FUA:3,DOT:0,BREAK:0},relicSets:[[M.TheAshblazingGrandDuke,M.TheAshblazingGrandDuke],[M.HunterOfGlacialForest,M.HunterOfGlacialForest],...kt],ornamentSets:[M.InertSalsotto,...Ne,...Ut],teammates:[{characterId:"1003",lightCone:"23000",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1101:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:.5,[n.DEF_P]:.5,[n.HP]:.5,[n.HP_P]:.5,[n.SPD]:1,[n.CR]:0,[n.CD]:1,[n.EHR]:0,[n.RES]:.75,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:1,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CD],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[],[Z.LinkRope]:[n.ERR]},presets:[],sortOption:v.CD},1102:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:1,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Quantum_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[],sortOption:v.SKILL,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Quantum_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[Qn.GeniusOfBrilliantStars,Qn.GeniusOfBrilliantStars],...kt],ornamentSets:[M.FirmamentFrontlineGlamoth,M.RutilantArena,...Ut],teammates:[{characterId:"1006",lightCone:"23007",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1103:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:1,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CD,n.CR],[Z.Feet]:[n.SPD,n.ATK_P],[Z.PlanarSphere]:[n.ATK_P,n.Lightning_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[at.fnPioneerSet(4)],sortOption:v.ULT,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Lightning_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[M.BandOfSizzlingThunder,M.BandOfSizzlingThunder],...kt],ornamentSets:[M.FirmamentFrontlineGlamoth,M.RutilantArena,...Ut],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1104:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:1,[n.DEF_P]:1,[n.HP]:.5,[n.HP_P]:.5,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:.75,[n.RES]:.75,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.DEF_P],[Z.Feet]:[n.DEF_P,n.SPD],[Z.PlanarSphere]:[n.DEF_P],[Z.LinkRope]:[n.DEF_P,n.ERR]},presets:[],sortOption:v.DEF},1105:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:.75,[n.DEF_P]:.75,[n.HP]:1,[n.HP_P]:1,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:.75,[n.BE]:0,[n.ERR]:1,[n.OHB]:1,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.HP_P,n.OHB],[Z.Feet]:[n.HP_P,n.SPD],[Z.PlanarSphere]:[n.HP_P],[Z.LinkRope]:[n.HP_P,n.ERR]},presets:[],sortOption:v.EHP},1106:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:.75,[n.DEF_P]:.75,[n.HP]:.75,[n.HP_P]:.75,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:1,[n.RES]:.5,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:1,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.EHR,n.HP_P,n.DEF_P],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[n.HP_P,n.DEF_P,n.Ice_DMG],[Z.LinkRope]:[n.ERR]},presets:[at.fnPioneerSet(4)],sortOption:v.SPD},1107:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:1,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Physical_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[at.fnAshblazingSet(2)],sortOption:v.FUA,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Physical_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:1,ULT:0,FUA:3,DOT:0,BREAK:0},relicSets:[[M.ChampionOfStreetwiseBoxing,M.ChampionOfStreetwiseBoxing],...kt],ornamentSets:[M.InertSalsotto,...Ne,...Ut],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"21016",characterEidolon:0,lightConeSuperimposition:5}]}},1108:{stats:{[n.ATK]:1,[n.ATK_P]:1,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:1,[n.RES]:0,[n.BE]:1,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:1,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.ATK_P,n.EHR],[Z.Feet]:[n.SPD,n.ATK_P],[Z.PlanarSphere]:[n.ATK_P,n.Wind_DMG],[Z.LinkRope]:[n.ERR,n.ATK_P,n.BE]},presets:[at.PRISONER_SET],sortOption:v.DOT,simulation:{parts:{[Z.Body]:[n.ATK_P],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Wind_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.ATK_P,n.EHR,n.ATK,n.CR,n.CD],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:60,BREAK:0},relicSets:[[M.PrisonerInDeepConfinement,M.PrisonerInDeepConfinement]],ornamentSets:[M.FirmamentFrontlineGlamoth],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1109:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:1,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Fire_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[at.fnPioneerSet(4)],sortOption:v.SKILL,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Fire_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[M.PioneerDiverOfDeadWaters,M.PioneerDiverOfDeadWaters],...kt],ornamentSets:[M.RutilantArena,...Ut],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1110:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:.75,[n.DEF_P]:.75,[n.HP]:1,[n.HP_P]:1,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:.75,[n.BE]:0,[n.ERR]:1,[n.OHB]:1,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.HP_P,n.OHB],[Z.Feet]:[n.HP_P,n.SPD],[Z.PlanarSphere]:[n.HP_P],[Z.LinkRope]:[n.HP_P,n.ERR]},presets:[],sortOption:v.EHP},1111:{stats:{[n.ATK]:1,[n.ATK_P]:1,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:1,[n.RES]:0,[n.BE]:.75,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:1,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.ATK_P,n.EHR],[Z.Feet]:[n.SPD,n.ATK_P],[Z.PlanarSphere]:[n.ATK_P,n.Physical_DMG],[Z.LinkRope]:[n.ATK_P,n.BE]},presets:[at.PRISONER_SET],sortOption:v.DOT,simulation:{parts:{[Z.Body]:[n.ATK_P],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Physical_DMG],[Z.LinkRope]:[n.ATK_P,n.BE]},substats:[n.BE,n.ATK_P,n.ATK,n.EHR,n.CR],breakpoints:{},formula:{BASIC:2,SKILL:1,ULT:1,FUA:0,DOT:5,BREAK:1},relicSets:[[M.PrisonerInDeepConfinement,M.PrisonerInDeepConfinement],...kt,t0],ornamentSets:[M.TaliaKingdomOfBanditry,M.FirmamentFrontlineGlamoth],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1112:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:1,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.Fire_DMG,n.ATK_P],[Z.LinkRope]:[n.ATK_P]},presets:[at.fnAshblazingSet(0),at.BANANA_SET,at.fnPioneerSet(4)],sortOption:v.FUA,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Fire_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:1,ULT:0,FUA:2,DOT:0,BREAK:0},relicSets:[[M.TheAshblazingGrandDuke,M.TheAshblazingGrandDuke],...kt],ornamentSets:[M.InertSalsotto,...Ne,...Ut],teammates:[{characterId:"1305",lightCone:"23020",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1201:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:1,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Quantum_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[at.VALOROUS_SET],sortOption:v.BASIC,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Quantum_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:2,SKILL:0,ULT:1,FUA:2,DOT:0,BREAK:0},relicSets:[[M.GeniusOfBrilliantStars,M.GeniusOfBrilliantStars],...kt],ornamentSets:[M.RutilantArena,...Ne,...Ut],teammates:[{characterId:"1006",lightCone:"23007",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1202:{stats:{[n.ATK]:1,[n.ATK_P]:1,[n.DEF]:.75,[n.DEF_P]:.75,[n.HP]:.75,[n.HP_P]:.75,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:.5,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.ATK_P,n.HP_P,n.DEF_P],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[n.HP_P,n.DEF_P,n.ATK_P],[Z.LinkRope]:[n.ERR]},presets:[],sortOption:v.SPD},1203:{stats:{[n.ATK]:1,[n.ATK_P]:1,[n.DEF]:.75,[n.DEF_P]:.75,[n.HP]:.75,[n.HP_P]:.75,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:.75,[n.BE]:0,[n.ERR]:1,[n.OHB]:1,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.OHB,n.HP_P,n.DEF_P,n.ATK_P],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.HP_P,n.DEF_P],[Z.LinkRope]:[n.ERR]},presets:[at.WASTELANDER_SET],sortOption:v.SPD},1204:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:1,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Lightning_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[at.fnAshblazingSet(8),at.VALOROUS_SET,at.BANANA_SET],sortOption:v.FUA,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Lightning_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:1,DOT:0,BREAK:0},relicSets:[[M.TheAshblazingGrandDuke,M.TheAshblazingGrandDuke],...kt],ornamentSets:[M.InertSalsotto,...Ne,...Ut,M.RutilantArena],teammates:[{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1205:{stats:{[n.ATK]:.25,[n.ATK_P]:.25,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:1,[n.HP_P]:1,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:1,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CD,n.CR],[Z.Feet]:[n.SPD,n.HP_P],[Z.PlanarSphere]:[n.Wind_DMG,n.HP_P],[Z.LinkRope]:[n.HP_P]},presets:[at.VALOROUS_SET],sortOption:v.BASIC,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.HP_P,n.SPD],[Z.PlanarSphere]:[n.HP_P,n.Wind_DMG],[Z.LinkRope]:[n.HP_P]},substats:[n.CD,n.CR,n.HP_P,n.HP,n.ATK_P],breakpoints:{},formula:{BASIC:2,SKILL:0,ULT:1,FUA:1,DOT:0,BREAK:0},relicSets:[[M.LongevousDisciple,M.LongevousDisciple]],ornamentSets:[M.RutilantArena,M.InertSalsotto,...Ut],teammates:[{characterId:"1212",lightCone:"23014",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1203",lightCone:"20015",characterEidolon:0,lightConeSuperimposition:5}]}},1206:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:.5,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:1,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Physical_DMG],[Z.LinkRope]:[n.ATK_P,n.BE]},presets:[],sortOption:v.SKILL,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Physical_DMG],[Z.LinkRope]:[n.ATK_P,n.BE]},substats:[n.CR,n.CD,n.ATK_P,n.BE],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:1},relicSets:[[M.ChampionOfStreetwiseBoxing,M.ChampionOfStreetwiseBoxing],[M.IronCavalryAgainstTheScourge,M.IronCavalryAgainstTheScourge],...kt],ornamentSets:[M.FirmamentFrontlineGlamoth,...Ut,M.RutilantArena],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1207:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:1},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Imaginary_DMG],[Z.LinkRope]:[n.ERR,n.ATK_P]},presets:[at.WASTELANDER_SET],sortOption:v.ULT},1208:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:1,[n.DEF_P]:1,[n.HP]:1,[n.HP_P]:1,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:.5,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.HP_P,n.DEF_P],[Z.Feet]:[n.HP_P,n.DEF_P,n.SPD],[Z.PlanarSphere]:[n.HP_P,n.DEF_P],[Z.LinkRope]:[n.HP_P,n.DEF_P,n.ERR]},presets:[],sortOption:v.EHP},1209:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:1,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Ice_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[at.VALOROUS_SET,at.fnAshblazingSet(2)],sortOption:v.ULT,simulation:{parts:{[Z.Body]:[n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Ice_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CR,n.CD,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:2,DOT:0,BREAK:0},relicSets:[[M.PioneerDiverOfDeadWaters,M.PioneerDiverOfDeadWaters],[M.HunterOfGlacialForest,M.HunterOfGlacialForest],...kt],ornamentSets:[M.RutilantArena,...Ut],teammates:[{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1210:{stats:{[n.ATK]:1,[n.ATK_P]:1,[n.DEF]:.5,[n.DEF_P]:.5,[n.HP]:.5,[n.HP_P]:.5,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:1,[n.RES]:.5,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:1,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.ATK_P,n.EHR],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Fire_DMG],[Z.LinkRope]:[n.ERR,n.ATK_P]},presets:[at.PRISONER_SET],sortOption:v.DOT},1211:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:.75,[n.DEF_P]:.75,[n.HP]:1,[n.HP_P]:1,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:.75,[n.BE]:0,[n.ERR]:1,[n.OHB]:1,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.OHB],[Z.Feet]:[n.SPD,n.HP_P],[Z.PlanarSphere]:[n.HP_P],[Z.LinkRope]:[n.HP_P,n.ERR]},presets:[],sortOption:v.EHP},1212:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:1,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Ice_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[],sortOption:v.SKILL,simulation:{parts:{[Z.Body]:[n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Ice_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[M.HunterOfGlacialForest,M.HunterOfGlacialForest],...kt],ornamentSets:[M.RutilantArena,...Ut],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1213:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:1},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Imaginary_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[at.WASTELANDER_SET],sortOption:v.BASIC,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Imaginary_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:2,SKILL:0,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[M.MusketeerOfWildWheat,M.MusketeerOfWildWheat],[M.WastelanderOfBanditryDesert,M.WastelanderOfBanditryDesert],...kt],ornamentSets:[M.RutilantArena,...Ut],teammates:[{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1202",lightCone:"21018",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1214:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:1,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:1,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.Quantum_DMG,n.ATK_P],[Z.LinkRope]:[n.ATK_P,n.BE]},presets:[at.fnAshblazingSet(3),at.VALOROUS_SET],sortOption:v.SKILL,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Quantum_DMG],[Z.LinkRope]:[n.ATK_P,n.BE]},substats:[n.BE,n.ATK_P,n.CR,n.CD,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:2,ULT:1,FUA:3,DOT:0,BREAK:1},relicSets:[[M.GeniusOfBrilliantStars,M.GeniusOfBrilliantStars],...kt],ornamentSets:[M.TaliaKingdomOfBanditry,M.InertSalsotto,...Ne,...Ut],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1215:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:.75,[n.DEF_P]:.75,[n.HP]:.75,[n.HP_P]:.75,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:.5,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[],[Z.LinkRope]:[n.ERR]},presets:[],sortOption:v.SPD},1217:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:.75,[n.DEF_P]:.75,[n.HP]:1,[n.HP_P]:1,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:.75,[n.BE]:0,[n.ERR]:1,[n.OHB]:1,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.HP_P,n.OHB],[Z.Feet]:[n.SPD,n.HP_P],[Z.PlanarSphere]:[n.HP_P],[Z.LinkRope]:[n.HP_P,n.ERR]},presets:[],sortOption:v.EHP},1218:{stats:{[Constants.Stats.ATK]:.5,[Constants.Stats.ATK_P]:.5,[Constants.Stats.DEF]:.5,[Constants.Stats.DEF_P]:.5,[Constants.Stats.HP]:.5,[Constants.Stats.HP_P]:.5,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:0,[Constants.Stats.CD]:0,[Constants.Stats.EHR]:1,[Constants.Stats.RES]:.5,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:1,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.EHR],[Constants.Parts.Feet]:[Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[],[Constants.Parts.LinkRope]:[]},presets:[at.PRISONER_SET],sortOption:v.EHR},1220:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:1,[Constants.Stats.CD]:1,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:1,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.CR,Constants.Stats.CD],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.Wind_DMG],[Constants.Parts.LinkRope]:[Constants.Stats.ATK_P]},presets:[at.fnAshblazingSet(1),at.VALOROUS_SET],sortOption:v.ULT,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Wind_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.ATK_P,n.CR,n.CD,n.ATK],breakpoints:{},maxBonusRolls:{},formula:{BASIC:0,SKILL:2,ULT:2,FUA:4,DOT:0,BREAK:0},relicSets:[[M.TheWindSoaringValorous,M.TheWindSoaringValorous],...kt],ornamentSets:[M.DuranDynastyOfRunningWolves,...Ne,...Ut],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1221:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:1,[Constants.Stats.CD]:1,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:1,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.CR,Constants.Stats.CD],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.Physical_DMG],[Constants.Parts.LinkRope]:[Constants.Stats.ATK_P]},presets:[at.VALOROUS_SET,at.fnPioneerSet(4),at.fnAshblazingSet(8)],sortOption:v.FUA,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Physical_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:1,ULT:0,FUA:1,DOT:0,BREAK:0},relicSets:[[M.TheWindSoaringValorous,M.TheWindSoaringValorous],[M.ChampionOfStreetwiseBoxing,M.ChampionOfStreetwiseBoxing],...kt],ornamentSets:[M.DuranDynastyOfRunningWolves,...Ne,...Ut],teammates:[{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1202",lightCone:"21018",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1222:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:.5,[Constants.Stats.DEF_P]:.5,[Constants.Stats.HP]:.5,[Constants.Stats.HP_P]:.5,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:0,[Constants.Stats.CD]:0,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:.75,[Constants.Stats.BE]:1,[Constants.Stats.ERR]:1,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:1,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.ATK_P,Constants.Stats.OHB,Constants.Stats.DEF_P,Constants.Stats.HP_P],[Constants.Parts.Feet]:[Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.DEF_P,Constants.Stats.HP_P],[Constants.Parts.LinkRope]:[Constants.Stats.BE,Constants.Stats.ERR,Constants.Stats.ATK_P]},presets:[at.BANANA_SET,at.fnAshblazingSet(6),at.VALOROUS_SET],sortOption:v.BE},1223:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:1,[Constants.Stats.CD]:1,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:1,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.CR,Constants.Stats.CD],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.Lightning_DMG],[Constants.Parts.LinkRope]:[Constants.Stats.ATK_P]},presets:[at.fnPioneerSet(4),at.fnAshblazingSet(6),at.VALOROUS_SET],sortOption:v.FUA,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Lightning_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.ATK_P,n.CR,n.CD,n.ATK],breakpoints:{},maxBonusRolls:{},formula:{BASIC:0,SKILL:1,ULT:1,FUA:2,DOT:0,BREAK:0},relicSets:[[M.PioneerDiverOfDeadWaters,M.PioneerDiverOfDeadWaters],[M.TheAshblazingGrandDuke,M.TheAshblazingGrandDuke],...kt],ornamentSets:[M.DuranDynastyOfRunningWolves,M.IzumoGenseiAndTakamaDivineRealm,...Ne,...Ut],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1224:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:1,[Constants.Stats.CD]:1,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:1},parts:{[Constants.Parts.Body]:[Constants.Stats.CR,Constants.Stats.CD],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.Imaginary_DMG],[Constants.Parts.LinkRope]:[Constants.Stats.ATK_P]},presets:[at.fnAshblazingSet(2),at.VALOROUS_SET],sortOption:v.BASIC,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Imaginary_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.ATK_P,n.CR,n.CD,n.ATK],breakpoints:{},maxBonusRolls:{},formula:{BASIC:1,SKILL:0,ULT:1,FUA:1,DOT:0,BREAK:0},relicSets:[[M.MusketeerOfWildWheat,M.MusketeerOfWildWheat],[M.WastelanderOfBanditryDesert,M.WastelanderOfBanditryDesert],...kt],ornamentSets:[M.RutilantArena,...Ut],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1301:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:.75,[n.DEF_P]:.75,[n.HP]:.75,[n.HP_P]:.75,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:.75,[n.BE]:1,[n.ERR]:1,[n.OHB]:1,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.OHB],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[],[Z.LinkRope]:[n.ERR,n.BE]},presets:[],sortOption:v.BE},1302:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:1,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.Physical_DMG,n.ATK_P],[Z.LinkRope]:[n.ATK_P]},presets:[],sortOption:v.ULT,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Physical_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[M.ChampionOfStreetwiseBoxing,M.ChampionOfStreetwiseBoxing],...kt],ornamentSets:[M.InertSalsotto,...Ut,M.RutilantArena],teammates:[{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1202",lightCone:"21018",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1303:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:.5,[n.DEF_P]:.5,[n.HP]:.5,[n.HP_P]:.5,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:.5,[n.BE]:1,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[],[Z.LinkRope]:[n.ERR,n.BE]},presets:[],sortOption:v.BE},1304:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:1,[n.DEF_P]:1,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:1},parts:{[Z.Body]:[n.DEF_P,n.CR,n.CD],[Z.Feet]:[n.DEF_P,n.SPD],[Z.PlanarSphere]:[n.Imaginary_DMG,n.DEF_P],[Z.LinkRope]:[n.DEF_P,n.ERR]},presets:[at.VALOROUS_SET,at.fnPioneerSet(4)],sortOption:v.FUA,simulation:{parts:{[Z.Body]:[n.CR,n.CD,n.DEF_P],[Z.Feet]:[n.DEF_P,n.SPD],[Z.PlanarSphere]:[n.DEF_P,n.Imaginary_DMG],[Z.LinkRope]:[n.DEF_P]},substats:[n.CD,n.CR,n.DEF_P,n.DEF],breakpoints:{[n.DEF]:4e3},formula:{BASIC:2,SKILL:0,ULT:1,FUA:2,DOT:0,BREAK:0},relicSets:[[M.PioneerDiverOfDeadWaters,M.PioneerDiverOfDeadWaters],[M.KnightOfPurityPalace,M.KnightOfPurityPalace],[M.TheAshblazingGrandDuke,M.KnightOfPurityPalace,M.PioneerDiverOfDeadWaters],...kt],ornamentSets:[M.InertSalsotto,...Ne,...Ut,M.BrokenKeel,M.PenaconyLandOfTheDreams,M.FleetOfTheAgeless],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1305",lightCone:"23020",characterEidolon:0,lightConeSuperimposition:1}]}},1305:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:1},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Imaginary_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[at.fnAshblazingSet(1),at.fnPioneerSet(4),at.VALOROUS_SET,at.WASTELANDER_SET],sortOption:v.FUA,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Imaginary_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:2,ULT:1,FUA:4,DOT:0,BREAK:0},relicSets:[[M.PioneerDiverOfDeadWaters,M.PioneerDiverOfDeadWaters],...kt],ornamentSets:[M.DuranDynastyOfRunningWolves,...Ne,...Ut],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1306:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:.5,[n.DEF_P]:.5,[n.HP]:.5,[n.HP_P]:.5,[n.SPD]:1,[n.CR]:0,[n.CD]:1,[n.EHR]:0,[n.RES]:.5,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CD],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[],[Z.LinkRope]:[n.ERR]},presets:[],sortOption:v.CD},1307:{stats:{[n.ATK]:1,[n.ATK_P]:1,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:1,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:1,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.ATK_P,n.EHR],[Z.Feet]:[n.SPD,n.ATK_P],[Z.PlanarSphere]:[n.Wind_DMG,n.ATK_P],[Z.LinkRope]:[n.ATK_P]},presets:[at.PRISONER_SET],sortOption:v.DOT,simulation:{parts:{[Z.Body]:[n.EHR,n.ATK_P],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Wind_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.ATK_P,n.EHR,n.ATK,n.CR,n.CD],breakpoints:{[n.EHR]:1.2},formula:{BASIC:2,SKILL:1,ULT:1,FUA:0,DOT:16,BREAK:0},relicSets:[[M.PrisonerInDeepConfinement,M.PrisonerInDeepConfinement]],ornamentSets:[M.FirmamentFrontlineGlamoth,M.PanCosmicCommercialEnterprise],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1308:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:1,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.Lightning_DMG,n.ATK_P],[Z.LinkRope]:[n.ATK_P]},presets:[at.fnPioneerSet(4)],sortOption:v.ULT,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Lightning_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:2,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[M.PioneerDiverOfDeadWaters,M.PioneerDiverOfDeadWaters],...kt],ornamentSets:[M.IzumoGenseiAndTakamaDivineRealm,...Ut],teammates:[{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1006",lightCone:"23007",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"21016",characterEidolon:0,lightConeSuperimposition:5}]}},1309:{stats:{[n.ATK]:1,[n.ATK_P]:1,[n.DEF]:.5,[n.DEF_P]:.5,[n.HP]:.5,[n.HP_P]:.5,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:.5,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:1,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.ATK_P],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Physical_DMG],[Constants.Parts.LinkRope]:[n.ERR]},presets:[],sortOption:v.ATK},1310:{stats:{[Constants.Stats.ATK]:.5,[Constants.Stats.ATK_P]:.5,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:0,[Constants.Stats.CD]:0,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:1,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.ATK_P],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P],[Constants.Parts.LinkRope]:[Constants.Stats.BE]},presets:[],sortOption:v.SKILL,simulation:{parts:{[Z.Body]:[n.ATK_P],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P],[Z.LinkRope]:[n.BE]},substats:[n.BE,n.ATK_P,n.ATK,n.CR,n.CD],breakpoints:{},maxBonusRolls:{},formula:{BASIC:0,SKILL:3,ULT:0,FUA:0,DOT:0,BREAK:1},relicSets:[[M.IronCavalryAgainstTheScourge,M.IronCavalryAgainstTheScourge]],ornamentSets:[M.ForgeOfTheKalpagniLantern],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1312:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:0,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:1,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Ice_DMG],[Z.LinkRope]:[n.ATK_P]},presets:[at.fnPioneerSet(4)],sortOption:v.ULT,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Ice_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[M.PioneerDiverOfDeadWaters,M.PioneerDiverOfDeadWaters],[M.HunterOfGlacialForest,M.HunterOfGlacialForest],...kt],ornamentSets:[M.InertSalsotto,M.RutilantArena,...Ut],teammates:[{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1314:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:1,[Constants.Stats.CD]:1,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:1,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.CR,Constants.Stats.CD],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.Quantum_DMG],[Constants.Parts.LinkRope]:[Constants.Stats.ATK_P]},presets:[at.VALOROUS_SET,at.fnAshblazingSet(8)],sortOption:v.FUA,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Quantum_DMG],[Z.LinkRope]:[n.ATK_P]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:2,SKILL:0,ULT:1,FUA:2,DOT:0,BREAK:0},relicSets:[[M.GeniusOfBrilliantStars,M.GeniusOfBrilliantStars],...kt],ornamentSets:[M.InertSalsotto,...Ne,...Ut,M.RutilantArena],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1315:{stats:{[n.ATK]:.25,[n.ATK_P]:.25,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:.25,[n.CD]:.25,[n.EHR]:0,[n.RES]:0,[n.BE]:1,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:1,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[],[Z.LinkRope]:[n.BE]},presets:[],sortOption:v.BASIC,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[n.Physical_DMG,n.ATK_P],[Z.LinkRope]:[n.BE]},substats:[n.BE,n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:3,SKILL:0,ULT:1,FUA:0,DOT:0,BREAK:1},relicSets:[[M.ThiefOfShootingMeteor,M.WatchmakerMasterOfDreamMachinations],t0,[M.IronCavalryAgainstTheScourge,M.IronCavalryAgainstTheScourge],...kt],ornamentSets:[M.TaliaKingdomOfBanditry],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1317:{stats:{[n.ATK]:.5,[n.ATK_P]:.5,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:0,[n.BE]:1,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:1},parts:{[Z.Body]:[],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[],[Z.LinkRope]:[n.BE]},presets:[at.WASTELANDER_SET],sortOption:v.BASIC,simulation:{parts:{[Z.Body]:[n.ATK_P],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[n.Imaginary_DMG,n.ATK_P],[Z.LinkRope]:[n.BE]},substats:[n.BE,n.ATK_P,n.ATK,n.CD,n.CR],breakpoints:{[n.ATK]:3200},formula:{BASIC:3,SKILL:1,ULT:0,FUA:0,DOT:0,BREAK:1},relicSets:[[M.IronCavalryAgainstTheScourge,M.IronCavalryAgainstTheScourge]],ornamentSets:[M.TaliaKingdomOfBanditry],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1222",lightCone:"23032",characterEidolon:0,lightConeSuperimposition:1}]}},8001:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:.5,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:1,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Physical_DMG],[Z.LinkRope]:[n.ATK_P,n.BE]},presets:[],sortOption:v.SKILL,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Physical_DMG],[Z.LinkRope]:[n.ATK_P,n.BE]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:1},relicSets:[[M.ChampionOfStreetwiseBoxing,M.ChampionOfStreetwiseBoxing],...kt],ornamentSets:[M.RutilantArena,...Ut],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},8002:{stats:{[n.ATK]:.75,[n.ATK_P]:.75,[n.DEF]:0,[n.DEF_P]:0,[n.HP]:0,[n.HP_P]:0,[n.SPD]:1,[n.CR]:1,[n.CD]:1,[n.EHR]:0,[n.RES]:0,[n.BE]:.5,[n.ERR]:0,[n.OHB]:0,[n.Physical_DMG]:1,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Physical_DMG],[Z.LinkRope]:[n.ATK_P,n.BE]},presets:[],sortOption:v.SKILL,simulation:{parts:{[Z.Body]:[n.CR,n.CD],[Z.Feet]:[n.ATK_P,n.SPD],[Z.PlanarSphere]:[n.ATK_P,n.Physical_DMG],[Z.LinkRope]:[n.ATK_P,n.BE]},substats:[n.CD,n.CR,n.ATK_P,n.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:1},relicSets:[[M.ChampionOfStreetwiseBoxing,M.ChampionOfStreetwiseBoxing],...kt],ornamentSets:[M.RutilantArena,...Ut],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},8003:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:1,[n.DEF_P]:1,[n.HP]:.5,[n.HP_P]:.5,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:.75,[n.RES]:.75,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.DEF_P],[Z.Feet]:[n.DEF_P,n.SPD],[Z.PlanarSphere]:[n.DEF_P],[Z.LinkRope]:[n.DEF_P,n.ERR]},presets:[],sortOption:v.DEF},8004:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:1,[n.DEF_P]:1,[n.HP]:.5,[n.HP_P]:.5,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:.75,[n.RES]:.75,[n.BE]:0,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[n.DEF_P],[Z.Feet]:[n.DEF_P,n.SPD],[Z.PlanarSphere]:[n.DEF_P],[Z.LinkRope]:[n.DEF_P,n.ERR]},presets:[],sortOption:v.DEF},8005:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:.5,[n.DEF_P]:.5,[n.HP]:.5,[n.HP_P]:.5,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:.5,[n.BE]:1,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[],[Z.LinkRope]:[n.BE,n.ERR]},presets:[],sortOption:v.BE},8006:{stats:{[n.ATK]:0,[n.ATK_P]:0,[n.DEF]:.5,[n.DEF_P]:.5,[n.HP]:.5,[n.HP_P]:.5,[n.SPD]:1,[n.CR]:0,[n.CD]:0,[n.EHR]:0,[n.RES]:.5,[n.BE]:1,[n.ERR]:1,[n.OHB]:0,[n.Physical_DMG]:0,[n.Fire_DMG]:0,[n.Ice_DMG]:0,[n.Lightning_DMG]:0,[n.Wind_DMG]:0,[n.Quantum_DMG]:0,[n.Imaginary_DMG]:0},parts:{[Z.Body]:[],[Z.Feet]:[n.SPD],[Z.PlanarSphere]:[],[Z.LinkRope]:[n.BE,n.ERR]},presets:[],sortOption:v.BE}}}window.WorkerPool=gn;window.Constants=d;window.DataParser=nr;window.DB=y;window.CharacterStats=xa;window.Assets=U;window.RelicAugmenter=ba;window.StatCalculator=Je;window.Gradient=Lt;window.SaveState=gt;window.RelicFilters=ee;window.Renderer=O;window.Message=Q;window.Hint=jt;window.CharacterConverter=bl;window.RelicScorer=ne;window.BufferPacker=mi;window.RelicRollFixer=Ba;window.colorTheme=tc.BLUE;nr.parse();gt.load(!1);mc(!1);const Of=({error:t})=>a.jsxs(pt,{children:["Something went wrong: ",t.message]});document.addEventListener("DOMContentLoaded",function(){Yr.createRoot(document.getElementById("root")).render(a.jsx(dl,{fallbackRender:Of,children:a.jsx(Xf,{})}))});
