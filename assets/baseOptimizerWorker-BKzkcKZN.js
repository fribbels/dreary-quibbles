var Zo=Object.defineProperty;var Jo=(t,n,e)=>n in t?Zo(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var lt=(t,n,e)=>Jo(t,typeof n!="symbol"?n+"":n,e);var G=(t=>(t[t.BASIC=1]="BASIC",t[t.SKILL=2]="SKILL",t[t.ULT=4]="ULT",t[t.FUA=8]="FUA",t[t.DOT=16]="DOT",t[t.BREAK=32]="BREAK",t[t.MEMO_SKILL=64]="MEMO_SKILL",t[t.MEMO_TALENT=128]="MEMO_TALENT",t))(G||{});const st=1,Y=2,$=4,Z=8,It=16,Dt=32,uo=64,hn=128,Le=256,ht=0,vt=1,qt=(t,n,e,a)=>{if(t.c.sets.TheAshblazingGrandDuke>>2){const i=.06*n.setConditionals.valueTheAshblazingGrandDuke;return a-i}else return 0},Q=t=>function(n,e,a){return n>=t?a:e},V={SKILL_TALENT_3_ULT_BASIC_5:{basic:Q(5),skill:Q(3),ult:Q(5),talent:Q(3)},SKILL_BASIC_3_ULT_TALENT_5:{basic:Q(3),skill:Q(3),ult:Q(5),talent:Q(5)},ULT_TALENT_3_SKILL_BASIC_5:{basic:Q(5),skill:Q(5),ult:Q(3),talent:Q(3)},ULT_BASIC_3_SKILL_TALENT_5:{basic:Q(3),skill:Q(5),ult:Q(3),talent:Q(5)},SKILL_ULT_3_BASIC_TALENT_5:{basic:Q(5),skill:Q(3),ult:Q(3),talent:Q(5)},SKILL_BASIC_MEMO_TALENT_3_ULT_TALENT_MEMO_SKILL_5:{basic:Q(3),skill:Q(3),ult:Q(5),talent:Q(5),memoTalent:Q(3),memoSkill:Q(5)},SKILL_TALENT_MEMO_TALENT_3_ULT_BASIC_MEMO_SKILL_5:{basic:Q(5),skill:Q(3),ult:Q(5),talent:Q(3),memoTalent:Q(3),memoSkill:Q(5)},ULT_BASIC_MEMO_TALENT_3_SKILL_TALENT_MEMO_SKILL_5:{basic:Q(3),skill:Q(5),ult:Q(3),talent:Q(5),memoTalent:Q(3),memoSkill:Q(5)}};function te(t,n){var e,a,o;return(t.path==n?1:0)+(((e=t.teammate0Metadata)==null?void 0:e.path)==n?1:0)+(((a=t.teammate1Metadata)==null?void 0:a.path)==n?1:0)+(((o=t.teammate2Metadata)==null?void 0:o.path)==n?1:0)}function Xo(t,n){var e,a,o;return(t.element==n?1:0)+(((e=t.teammate0Metadata)==null?void 0:e.element)==n?1:0)+(((a=t.teammate1Metadata)==null?void 0:a.element)==n?1:0)+(((o=t.teammate2Metadata)==null?void 0:o.element)==n?1:0)}function qo(t,n){return t.path==n}const it="3.2v5",g={ATK_P:"ATK%",ATK:"ATK",BE:"Break Effect",CD:"CRIT DMG",CR:"CRIT Rate",DEF_P:"DEF%",DEF:"DEF",EHR:"Effect Hit Rate",ERR:"Energy Regeneration Rate",Fire_DMG:"Fire DMG Boost",HP_P:"HP%",HP:"HP",Ice_DMG:"Ice DMG Boost",Imaginary_DMG:"Imaginary DMG Boost",Lightning_DMG:"Lightning DMG Boost",OHB:"Outgoing Healing Boost",Physical_DMG:"Physical DMG Boost",Quantum_DMG:"Quantum DMG Boost",RES:"Effect RES",SPD_P:"SPD%",SPD:"SPD",Wind_DMG:"Wind DMG Boost"},ta=[g.HP_P,g.ATK_P,g.DEF_P,g.HP,g.ATK,g.SPD,g.CR,g.CD,g.EHR,g.BE,g.OHB,g.ERR,g.Physical_DMG,g.Fire_DMG,g.Ice_DMG,g.Lightning_DMG,g.Wind_DMG,g.Quantum_DMG,g.Imaginary_DMG],ea={[g.HP_P]:{5:{base:6.912,increment:2.4192},4:{base:5.5296,increment:1.9354},3:{base:4.1472,increment:1.4515},2:{base:2.7648,increment:.9677}},[g.ATK_P]:{5:{base:6.912,increment:2.4192},4:{base:5.5296,increment:1.9354},3:{base:4.1472,increment:1.4515},2:{base:2.7648,increment:.9677}},[g.DEF_P]:{5:{base:8.64,increment:3.024},4:{base:6.912,increment:2.4192},3:{base:5.184,increment:1.8144},2:{base:3.456,increment:1.2096}},[g.HP]:{5:{base:112.896,increment:39.5136},4:{base:90.3168,increment:31.61088},3:{base:67.7376,increment:23.70816},2:{base:45.1584,increment:15.80544}},[g.ATK]:{5:{base:56.448,increment:19.7568},4:{base:45.1584,increment:15.80544},3:{base:33.8688,increment:11.85408},2:{base:22.5792,increment:7.90272}},[g.SPD]:{5:{base:4.032,increment:1.4},4:{base:3.226,increment:1.1},3:{base:2.419,increment:1},2:{base:1.613,increment:1}},[g.CR]:{5:{base:5.184,increment:1.8144},4:{base:4.1472,increment:1.4515},3:{base:3.1104,increment:1.0886},2:{base:2.0736,increment:.7258}},[g.CD]:{5:{base:10.368,increment:3.6288},4:{base:8.2944,increment:2.903},3:{base:6.2208,increment:2.1773},2:{base:4.1472,increment:1.4515}},[g.EHR]:{5:{base:6.912,increment:2.4192},4:{base:5.5296,increment:1.9354},3:{base:4.1472,increment:1.4515},2:{base:2.7648,increment:.9677}},[g.BE]:{5:{base:10.368,increment:3.6288},4:{base:8.2944,increment:2.903},3:{base:6.2208,increment:2.1773},2:{base:4.1472,increment:1.4515}},[g.ERR]:{5:{base:3.1104,increment:1.0886},4:{base:2.4883,increment:.8709},3:{base:1.8662,increment:.6532},2:{base:1.2442,increment:.4355}},[g.OHB]:{5:{base:5.5296,increment:1.9354},4:{base:4.4237,increment:1.5483},3:{base:3.3178,increment:1.1612},2:{base:2.2118,increment:.7741}},[g.Physical_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[g.Fire_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[g.Ice_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[g.Lightning_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[g.Wind_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[g.Quantum_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[g.Imaginary_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}}},na=[g.HP_P,g.ATK_P,g.DEF_P,g.HP,g.ATK,g.DEF,g.SPD,g.CR,g.CD,g.EHR,g.RES,g.BE],oa={[g.HP_P]:"HP %",[g.ATK_P]:"ATK %",[g.DEF_P]:"DEF %",[g.SPD_P]:"SPD %",[g.HP]:"HP",[g.ATK]:"ATK",[g.DEF]:"DEF",[g.SPD]:"SPD",[g.CR]:"CRIT Rate",[g.CD]:"CRIT DMG",[g.EHR]:"Effect HIT",[g.RES]:"Effect RES",[g.BE]:"Break Effect",[g.ERR]:"Energy Regen",[g.OHB]:"Healing Boost",[g.Physical_DMG]:"Physical DMG",[g.Fire_DMG]:"Fire DMG",[g.Ice_DMG]:"Ice DMG",[g.Lightning_DMG]:"Lightning DMG",[g.Wind_DMG]:"Wind DMG",[g.Quantum_DMG]:"Quantum DMG",[g.Imaginary_DMG]:"Imaginary DMG"},Tt={Head:"Head",Hands:"Hands",Body:"Body",Feet:"Feet",PlanarSphere:"PlanarSphere",LinkRope:"LinkRope"},aa={[Tt.Head]:"Head",[Tt.Hands]:"Hands",[Tt.Body]:"Body",[Tt.Feet]:"Feet",[Tt.PlanarSphere]:"Sphere",[Tt.LinkRope]:"Rope"},ia={[Tt.Head]:[g.HP],[Tt.Hands]:[g.ATK],[Tt.Body]:[g.HP_P,g.ATK_P,g.DEF_P,g.CR,g.CD,g.OHB,g.EHR],[Tt.Feet]:[g.HP_P,g.ATK_P,g.DEF_P,g.SPD],[Tt.PlanarSphere]:[g.HP_P,g.ATK_P,g.DEF_P,g.Physical_DMG,g.Fire_DMG,g.Ice_DMG,g.Lightning_DMG,g.Wind_DMG,g.Quantum_DMG,g.Imaginary_DMG],[Tt.LinkRope]:[g.HP_P,g.ATK_P,g.DEF_P,g.BE,g.ERR]},re={PasserbyOfWanderingCloud:"Passerby of Wandering Cloud",MusketeerOfWildWheat:"Musketeer of Wild Wheat",KnightOfPurityPalace:"Knight of Purity Palace",HunterOfGlacialForest:"Hunter of Glacial Forest",ChampionOfStreetwiseBoxing:"Champion of Streetwise Boxing",GuardOfWutheringSnow:"Guard of Wuthering Snow",FiresmithOfLavaForging:"Firesmith of Lava-Forging",GeniusOfBrilliantStars:"Genius of Brilliant Stars",BandOfSizzlingThunder:"Band of Sizzling Thunder",EagleOfTwilightLine:"Eagle of Twilight Line",ThiefOfShootingMeteor:"Thief of Shooting Meteor",WastelanderOfBanditryDesert:"Wastelander of Banditry Desert",LongevousDisciple:"Longevous Disciple",MessengerTraversingHackerspace:"Messenger Traversing Hackerspace",TheAshblazingGrandDuke:"The Ashblazing Grand Duke",PrisonerInDeepConfinement:"Prisoner in Deep Confinement",PioneerDiverOfDeadWaters:"Pioneer Diver of Dead Waters",WatchmakerMasterOfDreamMachinations:"Watchmaker, Master of Dream Machinations",IronCavalryAgainstTheScourge:"Iron Cavalry Against the Scourge",TheWindSoaringValorous:"The Wind-Soaring Valorous",SacerdosRelivedOrdeal:"Sacerdos' Relived Ordeal",ScholarLostInErudition:"Scholar Lost in Erudition",HeroOfTriumphantSong:"Hero of Triumphant Song",PoetOfMourningCollapse:"Poet of Mourning Collapse"},le={SpaceSealingStation:"Space Sealing Station",FleetOfTheAgeless:"Fleet of the Ageless",PanCosmicCommercialEnterprise:"Pan-Cosmic Commercial Enterprise",BelobogOfTheArchitects:"Belobog of the Architects",CelestialDifferentiator:"Celestial Differentiator",InertSalsotto:"Inert Salsotto",TaliaKingdomOfBanditry:"Talia: Kingdom of Banditry",SprightlyVonwacq:"Sprightly Vonwacq",RutilantArena:"Rutilant Arena",BrokenKeel:"Broken Keel",FirmamentFrontlineGlamoth:"Firmament Frontline: Glamoth",PenaconyLandOfTheDreams:"Penacony, Land of the Dreams",SigoniaTheUnclaimedDesolation:"Sigonia, the Unclaimed Desolation",IzumoGenseiAndTakamaDivineRealm:"Izumo Gensei and Takama Divine Realm",DuranDynastyOfRunningWolves:"Duran, Dynasty of Running Wolves",ForgeOfTheKalpagniLantern:"Forge of the Kalpagni Lantern",LushakaTheSunkenSeas:"Lushaka, the Sunken Seas",TheWondrousBananAmusementPark:"The Wondrous BananAmusement Park",BoneCollectionsSereneDemesne:"Bone Collection's Serene Demesne",GiantTreeOfRaptBrooding:"Giant Tree of Rapt Brooding"},mo={...re,...le},tn=Object.values(re),en=Object.values(le),Oe={};for(let t=0;t<en.length;t++)Oe[en[t]]=t;const Qt={};for(let t=0;t<tn.length;t++)Qt[tn[t]]=t;Object.values(re).length;Object.values(le).length;const Jt={Abundance:"Abundance",Destruction:"Destruction",Erudition:"Erudition",Harmony:"Harmony",Hunt:"Hunt",Nihility:"Nihility",Preservation:"Preservation",Remembrance:"Remembrance"},Dn={Physical:"Physical",Quantum:"Quantum",Imaginary:"Imaginary",Ice:"Ice",Wind:"Wind",Fire:"Fire",Lightning:"Lightning"},Gt={Physical:"PHYSICAL_RES_PEN",Fire:"FIRE_RES_PEN",Ice:"ICE_RES_PEN",Lightning:"LIGHTNING_RES_PEN",Wind:"WIND_RES_PEN",Quantum:"QUANTUM_RES_PEN",Imaginary:"IMAGINARY_RES_PEN"},nn={Sets:mo,Parts:Tt,Stats:g,MainStats:ta,MainStatsValues:ea,SubStats:na,SetsOrnaments:le,SetsRelics:re,SetsRelicsNames:tn,SetsOrnamentsNames:en,StatsToReadable:oa,PartsToReadable:aa,PartsMainStats:ia,RelicSetToIndex:Qt,OrnamentSetToIndex:Oe,MAX_INT:2147483647,THREAD_BUFFER_LENGTH:15e4},tt={SET:0,ABILITY:1},q={SINGLE:0,CONTINUOUS:1},sa=Object.fromEntries(Object.entries(mo).map(([t,n])=>[t,{id:t,label:n,buffType:"SETS",ability:"SETS"}])),A={character(t){function n(e){return{id:t,label:`${t}_${e}`,ability:e,buffType:"CHARACTER"}}return{SOURCE_BASIC:n("Basic"),SOURCE_SKILL:n("Skill"),SOURCE_ULT:n("Ult"),SOURCE_TALENT:n("Talent"),SOURCE_TECHNIQUE:n("Technique"),SOURCE_TRACE:n("Trace"),SOURCE_MEMO:n("Memo"),SOURCE_E1:n("E1"),SOURCE_E2:n("E2"),SOURCE_E4:n("E4"),SOURCE_E6:n("E6")}},lightCone(t){return{SOURCE_LC:{id:t,label:`${t}_LC`,ability:"LC",buffType:"LIGHTCONE"}}},NONE:{id:"NONE",label:"NONE",buffType:"NONE",ability:"NONE"},...sa};function ca(t,n){const e=" ".repeat(n*2);return t.split(`
`).map(a=>e+a).join(`
`)}function nt(t){return t?"true":"false"}function ee(t){return t?"false":"true"}function ra(t,n){return t.teammateIndex===0?n.teammate0:t.teammateIndex===1?n.teammate1:n.teammate2}function _t(t,n,e,a){let o;if(t.teammateIndex!=null){const i=ra(t,e);o={...e,teammateCharacterConditionals:i.characterConditionals,teammateLightConeConditionals:i.lightConeConditionals}}else o=e;t.activation==q.SINGLE?!e.conditionalState[t.id]&&t.condition(n,o,a)&&(e.conditionalState[t.id]=1,t.effect(n,o,a)):t.activation==q.CONTINUOUS&&t.condition(n,o,a)&&t.effect(n,o,a)}function ut(t,n){return`
fn evaluate${t.id}(p_x: ptr<function, ComputedStats>, p_m: ptr<function, ComputedStats>, p_sets: ptr<function, Sets>, p_state: ptr<function, ConditionalState>) {
  let x = *p_x;
${ca(n.trim(),1)}
}
  `}const So={HP_P:0,ATK_P:0,DEF_P:0,SPD_P:0,HP:1e-8,ATK:1e-8,DEF:1e-8,SPD:1e-8,CR:1e-8,CD:1e-8,EHR:1e-8,RES:1e-8,BE:1e-8,ERR:1e-8,OHB:1e-8,PHYSICAL_DMG_BOOST:1e-8,FIRE_DMG_BOOST:1e-8,ICE_DMG_BOOST:1e-8,LIGHTNING_DMG_BOOST:1e-8,WIND_DMG_BOOST:1e-8,QUANTUM_DMG_BOOST:1e-8,IMAGINARY_DMG_BOOST:1e-8,ELEMENTAL_DMG:1e-8};function Co(){return Float32Array.from(Object.values(So))}const la=Co();class Pe{constructor(n=!1,e=!1){lt(this,"a",Co());lt(this,"m");lt(this,"buffs");lt(this,"buffsMemo");lt(this,"trace");lt(this,"relicSetIndex");lt(this,"ornamentSetIndex");lt(this,"sets");lt(this,"setsArray");lt(this,"id");lt(this,"weight");this.m=e?null:new Pe(n,!0,()=>this),this.buffs=[],this.buffsMemo=[],this.trace=n,this.relicSetIndex=0,this.ornamentSetIndex=0,this.sets={},this.setsArray=[],this.id=-1,this.weight=0,Object.keys(So).forEach((a,o)=>{const i=(r,c)=>this.trace&&this.buffs.push({stat:a,key:o,value:r,source:c});Object.defineProperty(this,a,{value:{buff:(r,c)=>{r!=0&&(this.a[o]+=r,i(r,c))},set:(r,c)=>{this.a[o]=r,i(r,c)},get:()=>this.a[o]},writable:!1,enumerable:!0,configurable:!0}),Object.defineProperty(this,`$${a}`,{get:()=>this.a[o],enumerable:!0,configurable:!0})}),Object.defineProperty(this,"#show",{get:()=>this.toBasicStatsObject(),enumerable:!0,configurable:!0})}init(n,e,a,o,i){this.relicSetIndex=n,this.ornamentSetIndex=e,this.sets=a,this.setsArray=o,this.id=i,this.a.set(la),this.trace&&(this.buffs=[],this.buffsMemo=[])}initMemo(){this.m.a.set(this.a),this.trace&&(this.m.buffs=[],this.m.buffsMemo=[])}setWeight(n){this.weight=n}set(n,e,a){this.a[n]=e}get(n){return this.a[n]}toBasicStatsObject(){return fa(this.a,this.weight,this.relicSetIndex,this.ornamentSetIndex)}}function fa(t,n=0,e=0,a=0){return{"HP%":t[l.HP_P],"ATK%":t[l.ATK_P],"DEF%":t[l.DEF_P],"SPD%":t[l.SPD_P],HP:t[l.HP],ATK:t[l.ATK],DEF:t[l.DEF],SPD:t[l.SPD],"CRIT Rate":t[l.CR],"CRIT DMG":t[l.CD],"Effect Hit Rate":t[l.EHR],"Effect RES":t[l.RES],"Break Effect":t[l.BE],"Energy Regeneration Rate":t[l.ERR],"Outgoing Healing Boost":t[l.OHB],"Physical DMG Boost":t[l.PHYSICAL_DMG_BOOST],"Fire DMG Boost":t[l.FIRE_DMG_BOOST],"Ice DMG Boost":t[l.ICE_DMG_BOOST],"Lightning DMG Boost":t[l.LIGHTNING_DMG_BOOST],"Wind DMG Boost":t[l.WIND_DMG_BOOST],"Quantum DMG Boost":t[l.QUANTUM_DMG_BOOST],"Imaginary DMG Boost":t[l.IMAGINARY_DMG_BOOST],ELEMENTAL_DMG:t[l.ELEMENTAL_DMG],WEIGHT:n,relicSetIndex:e,ornamentSetIndex:a}}const ua={HP_P:{label:"HP %"},ATK_P:{label:"ATK %"},DEF_P:{label:"DEF %"},SPD_P:{label:"SPD %"},HP:{flat:!0,label:"HP"},ATK:{flat:!0,label:"ATK"},DEF:{flat:!0,label:"DEF"},SPD:{flat:!0,default:1e-4,label:"SPD"},CR:{label:"Crit Rate"},CD:{label:"Crit DMG"},EHR:{label:"Effect Hit Rate"},RES:{label:"Effect RES"},BE:{label:"Break Effect"},ERR:{label:"Energy Regeneration Rate"},OHB:{label:"Outgoing Healing Boost"},PHYSICAL_DMG_BOOST:{label:"Physical DMG Boost"},FIRE_DMG_BOOST:{label:"Fire DMG Boost"},ICE_DMG_BOOST:{label:"Ice DMG Boost"},LIGHTNING_DMG_BOOST:{label:"Thunder DMG Boost"},WIND_DMG_BOOST:{label:"Wind DMG Boost"},QUANTUM_DMG_BOOST:{label:"Quantum DMG Boost"},IMAGINARY_DMG_BOOST:{label:"Imaginary DMG Boost"},ELEMENTAL_DMG:{label:"Elemental DMG"},BASE_HP:{flat:!0,label:"Base HP"},BASE_ATK:{flat:!0,label:"Base ATK"},BASE_DEF:{flat:!0,label:"Base DEF"},BASE_SPD:{flat:!0,label:"Base SPD"},MEMO_BASE_HP_SCALING:{label:"Memosprite base HP scaling"},MEMO_BASE_DEF_SCALING:{label:"Memosprite base DEF scaling"},MEMO_BASE_ATK_SCALING:{label:"Memosprite base ATK scaling"},MEMO_BASE_SPD_SCALING:{label:"Memosprite base SPD scaling"},MEMO_BASE_HP_FLAT:{flat:!0,label:"Memosprite base HP flat"},MEMO_BASE_DEF_FLAT:{flat:!0,label:"Memosprite base DEF flat"},MEMO_BASE_ATK_FLAT:{flat:!0,label:"Memosprite base ATK flat"},MEMO_BASE_SPD_FLAT:{flat:!0,label:"Memosprite base SPD flat"},UNCONVERTIBLE_HP_BUFF:{flat:!0,label:"Unconvertible HP"},UNCONVERTIBLE_ATK_BUFF:{flat:!0,label:"Unconvertible ATK"},UNCONVERTIBLE_DEF_BUFF:{flat:!0,label:"Unconvertible DEF"},UNCONVERTIBLE_SPD_BUFF:{flat:!0,label:"Unconvertible SPD"},UNCONVERTIBLE_CR_BUFF:{label:"Unconvertible Crit Rate"},UNCONVERTIBLE_CD_BUFF:{label:"Unconvertible Crit DMG"},UNCONVERTIBLE_EHR_BUFF:{label:"Unconvertible Effect Hit Rate"},UNCONVERTIBLE_BE_BUFF:{label:"Unconvertible Break Effect"},UNCONVERTIBLE_OHB_BUFF:{label:"Unconvertible Outgoing Healing Boost"},UNCONVERTIBLE_RES_BUFF:{label:"Unconvertible Effect RES"},UNCONVERTIBLE_ERR_BUFF:{label:"Unconvertible Energy Regeneration Rate"},DMG_RED_MULTI:{default:1,label:"DMG reduction"},EHP:{flat:!0,label:"Effective HP"},SUMMONS:{flat:!0,label:"Summons"},MEMOSPRITE:{bool:!0,label:"Memosprite"},ENEMY_WEAKNESS_BROKEN:{bool:!0,label:"Enemy weakness broken"},MEMO_BUFF_PRIORITY:{bool:!0,label:"Prioritize memosprite buffs"},DEPRIORITIZE_BUFFS:{bool:!0,label:"Deprioritize buffs"},COMBO_DMG:{flat:!0,label:"Combo DMG"},DOT_CHANCE:{label:"Dot base chance"},EFFECT_RES_PEN:{label:"Effect RES PEN"},DOT_SPLIT:{label:"Dot DMG split"},DOT_STACKS:{flat:!0,label:"Dot stacks"},HEAL_TYPE:{flat:!0,label:"Heal ability type"},HEAL_FLAT:{flat:!0,label:"Heal flat"},HEAL_SCALING:{label:"Heal scaling"},HEAL_VALUE:{flat:!0,label:"Heal value"},SHIELD_FLAT:{flat:!0,label:"Shield flat"},SHIELD_SCALING:{label:"Shield scaling"},SHIELD_VALUE:{flat:!0,label:"Shield value"},SHIELD_BOOST:{label:"Shield boost"},SKILL_OHB:{label:"Skill Outgoing Healing Boost"},ULT_OHB:{label:"Ult Outgoing Healing Boost"},PHYSICAL_RES_PEN:{label:"Physical RES PEN"},FIRE_RES_PEN:{label:"Fire RES PEN"},ICE_RES_PEN:{label:"Ice RES PEN"},LIGHTNING_RES_PEN:{label:"Lightning RES PEN"},WIND_RES_PEN:{label:"Wind RES PEN"},QUANTUM_RES_PEN:{label:"Quantum RES PEN"},IMAGINARY_RES_PEN:{label:"Imaginary RES PEN"},SUPER_BREAK_DEF_PEN:{label:"Super Break DEF PEN"},SUPER_BREAK_DMG_BOOST:{label:"Super Break DMG Boost"},SUPER_BREAK_VULNERABILITY:{label:"Super Break Vulnerability"},ADDITIONAL_DMG_BOOST:{label:"Additional DMG boost"},ULT_ADDITIONAL_DMG_CR_OVERRIDE:{label:"Ult Additional DMG CR override"},ULT_ADDITIONAL_DMG_CD_OVERRIDE:{label:"Ult Additional DMG CD override"},BASIC_DMG_TYPE:{flat:!0,default:st,label:"Basic DMG type"},SKILL_DMG_TYPE:{flat:!0,default:Y,label:"Skill DMG type"},ULT_DMG_TYPE:{flat:!0,default:$,label:"Ult DMG type"},FUA_DMG_TYPE:{flat:!0,default:Z,label:"Fua DMG type"},DOT_DMG_TYPE:{flat:!0,default:It,label:"Dot DMG type"},BREAK_DMG_TYPE:{flat:!0,default:Dt,label:"Break DMG type"},MEMO_SKILL_DMG_TYPE:{flat:!0,default:hn,label:"Memo Skill DMG type"},MEMO_TALENT_DMG_TYPE:{flat:!0,default:hn,label:"Memo Talent DMG type"},ADDITIONAL_DMG_TYPE:{flat:!0,default:Le,label:"Additional DMG type"},SUPER_BREAK_DMG_TYPE:{flat:!0,default:Dt|uo,label:"Super Break DMG type"}},bn={ATK_SCALING:{separated:!0,label:"ATK scaling"},DEF_SCALING:{separated:!0,label:"DEF scaling"},HP_SCALING:{separated:!0,label:"HP scaling"},SPECIAL_SCALING:{separated:!0,label:"Special scaling"},ATK_P_BOOST:{label:"ATK % boost"},CR_BOOST:{label:"Crit Rate boost"},CD_BOOST:{label:"Crit DMG boost"},DMG_BOOST:{separated:!0,label:"DMG boost"},VULNERABILITY:{label:"Vulnerability"},RES_PEN:{label:"RES PEN"},DEF_PEN:{label:"DEF PEN"},BREAK_DEF_PEN:{label:"Break DEF PEN"},TOUGHNESS_DMG:{flat:!0,separated:!0,label:"Toughness DMG"},SUPER_BREAK_MODIFIER:{label:"Super Break multiplier"},BREAK_EFFICIENCY_BOOST:{label:"Break Efficiency boost"},TRUE_DMG_MODIFIER:{label:"True DMG multiplier"},FINAL_DMG_BOOST:{label:"Final DMG multiplier"},BREAK_DMG_MODIFIER:{separated:!0,label:"Break DMG multiplier"},ADDITIONAL_DMG_SCALING:{separated:!0,label:"Additional DMG scaling"},ADDITIONAL_DMG:{flat:!0,separated:!0,label:"Additional DMG"},DMG:{flat:!0,label:"DMG"}},da={BASIC:"Basic",SKILL:"Skill",ULT:"Ult",FUA:"Fua",DOT:"Dot",BREAK:"Break",MEMO_SKILL:"Memo Skill",MEMO_TALENT:"Memo Talent"},ma={...ua,...Object.values(G).filter(t=>typeof t=="number").reduce((t,n)=>{const e=G[n];return Object.entries(bn).forEach(([a,o])=>{t[`${e}_${a}`]={...o,label:`${da[e]} ${o.label}`}}),t},{}),...Object.entries(bn).reduce((t,[n,e])=>(e.separated||(t[n]=e),t),{})},Eo=Object.fromEntries(Object.entries(ma).map(([t,n],e)=>{const a=n;return[t,{name:t,index:e,default:a.default??0,flat:a.flat??!1,whole:a.whole??!1,bool:a.bool??!1,category:a.category??1,label:a.label}]})),cn=Object.fromEntries(Object.entries(Eo).map(([t,n])=>[t,n.default])),rn=Object.values(Eo).sort((t,n)=>t.index-n.index);function Sa(){function t(n){return{name:n,abilityDmg:0,additionalDmg:0,breakDmg:0,superBreakDmg:0,jointDmg:0,trueDmg:0,dotDmg:0,memoDmg:0}}return{BASIC_DMG:t("BASIC_DMG"),SKILL_DMG:t("SKILL_DMG"),ULT_DMG:t("ULT_DMG"),FUA_DMG:t("FUA_DMG"),DOT_DMG:t("DOT_DMG"),BREAK_DMG:t("BREAK_DMG"),MEMO_SKILL_DMG:t("MEMO_SKILL_DMG"),MEMO_TALENT_DMG:t("MEMO_TALENT_DMG")}}const l=Object.keys(cn).reduce((t,n,e)=>(t[n]=e,t),{});class ln{constructor(n=!1,e=!1,a){lt(this,"a",Ea());lt(this,"c");lt(this,"m");lt(this,"summoner");lt(this,"buffs");lt(this,"buffsMemo");lt(this,"trace");lt(this,"dmgSplits");this.c=new Pe(n,!0,()=>this),this.m=e?null:new ln(n,!0,()=>this),this.summoner=e?a:null,this.buffs=[],this.buffsMemo=[],this.trace=n,this.dmgSplits=this.trace?Sa():null,Object.keys(cn).forEach((o,i)=>{const r=(d,p)=>this.trace&&this.buffs.push({stat:o,key:i,value:d,source:p}),c=(d,p)=>this.trace&&this.buffsMemo.push({stat:o,key:i,value:d,source:p}),s=(d,p)=>this.trace&&(this.buffs=this.buffs.filter(_=>_.key!==i).concat({stat:o,key:i,value:d,source:p})),f=(d,p)=>this.trace&&(this.buffsMemo=this.buffsMemo.filter(_=>_.key!==i).concat({stat:o,key:i,value:d,source:p}));Object.defineProperty(this,o,{value:{buff:(d,p)=>{d!=0&&(this.a[i]+=d,r(d,p))},buffSingle:(d,p)=>{d!=0&&(this.a[l.DEPRIORITIZE_BUFFS]||(this.a[l.MEMO_BUFF_PRIORITY]?(this.m.a[i]+=d,c(d,p)):(this.a[i]+=d,r(d,p))))},buffMemo:(d,p)=>{d!=0&&(this.a[l.DEPRIORITIZE_BUFFS]||this.m&&(this.m.a[i]+=d,c(d,p)))},buffTeam:(d,p)=>{d!=0&&(this.a[i]+=d,r(d,p),this.m&&(this.m.a[i]+=d,c(d,p)))},buffDual:(d,p)=>{d!=0&&(this.a[l.DEPRIORITIZE_BUFFS]||(this.a[i]+=d,r(d,p),this.m&&(this.m.a[i]+=d,c(d,p))))},buffBaseDual:(d,p)=>{d!=0&&(this.a[i]+=d,r(d,p),this.m&&(this.m.a[i]+=d,c(d,p)))},buffBaseDualDynamic:(d,p,_,L)=>{if(!(d<.001)){this.a[i]+=d,r(d,p),this.m&&(this.m.a[i]+=d,c(d,p));for(const I of _.conditionalRegistry[Ln[o]]??[])_t(I,this,_,L)}},multiply:(d,p)=>{this.a[i]*=d,r(d,p)},multiplyTeam:(d,p)=>{this.a[i]*=d,r(d,p),this.m&&(this.m.a[i]*=d,c(d,p))},buffDynamic:(d,p,_,L)=>{if(!(d<.001)){this.a[i]+=d,r(d,p);for(const I of _.conditionalRegistry[Ln[o]]||[])_t(I,this,_,L)}},set:(d,p)=>{this.a[i]=d,s(d,p)},config:(d,p)=>{this.a[i]=d,s(d,p),this.m&&(this.m.a[i]=d,f(d,p))},get:()=>this.a[i]},writable:!1,enumerable:!0,configurable:!0}),Object.defineProperty(this,`$${o}`,{get:()=>this.a[i],enumerable:!0,configurable:!0})}),Object.defineProperty(this,"#show",{get:()=>this.toComputedStatsObject(),enumerable:!0,configurable:!0})}setPrecompute(n){this.a.set(n),this.buffs=[],this.buffsMemo=[]}tracePrecompute(n){this.buffs=n.buffs,this.buffsMemo=n.buffsMemo}setBasic(n){this.c=n}get(n){return this.a[n]}toComputedStatsObject(){return Ca(this.a)}}function Ca(t){const n={};for(const e in l){const a=e,o=_a[a]??a,i=l[a];n[o]=t[i]}return n}function Ea(){return Float32Array.from(Object.values(cn))}const _a={ATK_P:g.ATK_P,ATK:g.ATK,BE:g.BE,CD:g.CD,CR:g.CR,DEF_P:g.DEF_P,DEF:g.DEF,EHR:g.EHR,ERR:g.ERR,FIRE_DMG_BOOST:g.Fire_DMG,HP_P:g.HP_P,HP:g.HP,ICE_DMG_BOOST:g.Ice_DMG,IMAGINARY_DMG_BOOST:g.Imaginary_DMG,LIGHTNING_DMG_BOOST:g.Lightning_DMG,OHB:g.OHB,PHYSICAL_DMG_BOOST:g.Physical_DMG,QUANTUM_DMG_BOOST:g.Quantum_DMG,RES:g.RES,SPD_P:g.SPD_P,SPD:g.SPD,WIND_DMG_BOOST:g.Wind_DMG},Ln={ATK_P:g.ATK_P,ATK:g.ATK,BE:g.BE,CD:g.CD,CR:g.CR,DEF_P:g.DEF_P,DEF:g.DEF,EHR:g.EHR,ERR:g.ERR,FIRE_DMG_BOOST:g.Fire_DMG,HP_P:g.HP_P,HP:g.HP,ICE_DMG_BOOST:g.Ice_DMG,IMAGINARY_DMG_BOOST:g.Imaginary_DMG,LIGHTNING_DMG_BOOST:g.Lightning_DMG,OHB:g.OHB,PHYSICAL_DMG_BOOST:g.Physical_DMG,QUANTUM_DMG_BOOST:g.Quantum_DMG,RES:g.RES,SPD_P:g.SPD_P,SPD:g.SPD,WIND_DMG_BOOST:g.Wind_DMG},pa={[Gt.Physical]:l.PHYSICAL_RES_PEN,[Gt.Fire]:l.FIRE_RES_PEN,[Gt.Ice]:l.ICE_RES_PEN,[Gt.Lightning]:l.LIGHTNING_RES_PEN,[Gt.Wind]:l.WIND_RES_PEN,[Gt.Quantum]:l.QUANTUM_RES_PEN,[Gt.Imaginary]:l.IMAGINARY_RES_PEN};function ga(t,n){return t.a[pa[n]]}const _o={[g.Physical_DMG]:l.PHYSICAL_DMG_BOOST,[g.Fire_DMG]:l.FIRE_DMG_BOOST,[g.Ice_DMG]:l.ICE_DMG_BOOST,[g.Lightning_DMG]:l.LIGHTNING_DMG_BOOST,[g.Wind_DMG]:l.WIND_DMG_BOOST,[g.Quantum_DMG]:l.QUANTUM_DMG_BOOST,[g.Imaginary_DMG]:l.IMAGINARY_DMG_BOOST};function Ta(t,n){return t.a[_o[n]]}function On(t,n,e){const a=_o[n];t.a[a]+=e}const on={[g.ATK_P]:l.ATK_P,[g.ATK]:l.ATK,[g.BE]:l.BE,[g.CD]:l.CD,[g.CR]:l.CR,[g.DEF_P]:l.DEF_P,[g.DEF]:l.DEF,[g.EHR]:l.EHR,[g.ERR]:l.ERR,[g.Fire_DMG]:l.FIRE_DMG_BOOST,[g.HP_P]:l.HP_P,[g.HP]:l.HP,[g.Ice_DMG]:l.ICE_DMG_BOOST,[g.Imaginary_DMG]:l.IMAGINARY_DMG_BOOST,[g.Lightning_DMG]:l.LIGHTNING_DMG_BOOST,[g.OHB]:l.OHB,[g.Physical_DMG]:l.PHYSICAL_DMG_BOOST,[g.Quantum_DMG]:l.QUANTUM_DMG_BOOST,[g.RES]:l.RES,[g.SPD_P]:l.SPD_P,[g.SPD]:l.SPD,[g.Wind_DMG]:l.WIND_DMG_BOOST};var ct=(t=>(t[t.MAIN=0]="MAIN",t[t.MEMO=1]="MEMO",t[t.DUAL=2]="DUAL",t[t.TEAM=3]="TEAM",t[t.SINGLE=4]="SINGLE",t))(ct||{});function j(t,n,e,a){switch(t){case 0:n.buff(e,a);break;case 1:n.buffMemo(e,a);break;case 2:n.buffDual(e,a);break;case 3:n.buffTeam(e,a);break;case 4:n.buffSingle(e,a);break}}function Ba(t){return~t}function Aa(t,n,e,a,o=0){e!=0&&(n&t.a[l.BASIC_DMG_TYPE]&&j(o,t.BASIC_TRUE_DMG_MODIFIER,e,a),n&t.a[l.SKILL_DMG_TYPE]&&j(o,t.SKILL_TRUE_DMG_MODIFIER,e,a),n&t.a[l.ULT_DMG_TYPE]&&j(o,t.ULT_TRUE_DMG_MODIFIER,e,a),n&t.a[l.FUA_DMG_TYPE]&&j(o,t.FUA_TRUE_DMG_MODIFIER,e,a),n&t.a[l.DOT_DMG_TYPE]&&j(o,t.DOT_TRUE_DMG_MODIFIER,e,a),n&t.a[l.BREAK_DMG_TYPE]&&j(o,t.BREAK_TRUE_DMG_MODIFIER,e,a),n&t.a[l.MEMO_SKILL_DMG_TYPE]&&j(o,t.MEMO_SKILL_TRUE_DMG_MODIFIER,e,a),n&t.a[l.MEMO_TALENT_DMG_TYPE]&&j(o,t.MEMO_TALENT_TRUE_DMG_MODIFIER,e,a))}function z(t,n,e,a,o=0){e!=0&&(n&t.a[l.BASIC_DMG_TYPE]&&j(o,t.BASIC_DMG_BOOST,e,a),n&t.a[l.SKILL_DMG_TYPE]&&j(o,t.SKILL_DMG_BOOST,e,a),n&t.a[l.ULT_DMG_TYPE]&&j(o,t.ULT_DMG_BOOST,e,a),n&t.a[l.FUA_DMG_TYPE]&&j(o,t.FUA_DMG_BOOST,e,a),n&t.a[l.DOT_DMG_TYPE]&&j(o,t.DOT_DMG_BOOST,e,a),n&t.a[l.BREAK_DMG_TYPE]&&j(o,t.BREAK_DMG_BOOST,e,a),n&t.a[l.MEMO_SKILL_DMG_TYPE]&&j(o,t.MEMO_SKILL_DMG_BOOST,e,a),n&t.a[l.MEMO_TALENT_DMG_TYPE]&&j(o,t.MEMO_TALENT_DMG_BOOST,e,a),n&t.a[l.ADDITIONAL_DMG_TYPE]&&j(o,t.ADDITIONAL_DMG_BOOST,e,a),n&t.a[l.SUPER_BREAK_DMG_TYPE]&&j(o,t.SUPER_BREAK_DMG_BOOST,e,a))}function gt(t,n,e,a,o=0){e!=0&&(n&t.a[l.BASIC_DMG_TYPE]&&j(o,t.BASIC_VULNERABILITY,e,a),n&t.a[l.SKILL_DMG_TYPE]&&j(o,t.SKILL_VULNERABILITY,e,a),n&t.a[l.ULT_DMG_TYPE]&&j(o,t.ULT_VULNERABILITY,e,a),n&t.a[l.FUA_DMG_TYPE]&&j(o,t.FUA_VULNERABILITY,e,a),n&t.a[l.DOT_DMG_TYPE]&&j(o,t.DOT_VULNERABILITY,e,a),n&t.a[l.BREAK_DMG_TYPE]&&j(o,t.BREAK_VULNERABILITY,e,a),n&t.a[l.MEMO_SKILL_DMG_TYPE]&&j(o,t.MEMO_SKILL_VULNERABILITY,e,a),n&t.a[l.MEMO_TALENT_DMG_TYPE]&&j(o,t.MEMO_TALENT_VULNERABILITY,e,a),n&t.a[l.SUPER_BREAK_DMG_TYPE]&&j(o,t.SUPER_BREAK_VULNERABILITY,e,a))}function Kt(t,n,e,a,o=0){e!=0&&(n&t.a[l.BASIC_DMG_TYPE]&&j(o,t.BASIC_RES_PEN,e,a),n&t.a[l.SKILL_DMG_TYPE]&&j(o,t.SKILL_RES_PEN,e,a),n&t.a[l.ULT_DMG_TYPE]&&j(o,t.ULT_RES_PEN,e,a),n&t.a[l.FUA_DMG_TYPE]&&j(o,t.FUA_RES_PEN,e,a),n&t.a[l.DOT_DMG_TYPE]&&j(o,t.DOT_RES_PEN,e,a),n&t.a[l.BREAK_DMG_TYPE]&&j(o,t.BREAK_RES_PEN,e,a),n&t.a[l.MEMO_SKILL_DMG_TYPE]&&j(o,t.MEMO_SKILL_RES_PEN,e,a),n&t.a[l.MEMO_TALENT_DMG_TYPE]&&j(o,t.MEMO_TALENT_RES_PEN,e,a))}function Rt(t,n,e,a,o=0){e!=0&&(n&t.a[l.BASIC_DMG_TYPE]&&j(o,t.BASIC_DEF_PEN,e,a),n&t.a[l.SKILL_DMG_TYPE]&&j(o,t.SKILL_DEF_PEN,e,a),n&t.a[l.ULT_DMG_TYPE]&&j(o,t.ULT_DEF_PEN,e,a),n&t.a[l.FUA_DMG_TYPE]&&j(o,t.FUA_DEF_PEN,e,a),n&t.a[l.DOT_DMG_TYPE]&&j(o,t.DOT_DEF_PEN,e,a),n&t.a[l.BREAK_DMG_TYPE]&&j(o,t.BREAK_DEF_PEN,e,a),n&t.a[l.MEMO_SKILL_DMG_TYPE]&&j(o,t.MEMO_SKILL_DEF_PEN,e,a),n&t.a[l.MEMO_TALENT_DMG_TYPE]&&j(o,t.MEMO_TALENT_DEF_PEN,e,a),n&t.a[l.SUPER_BREAK_DMG_TYPE]&&j(o,t.SUPER_BREAK_DEF_PEN,e,a))}function po(t,n,e,a,o=0){e!=0&&(n&t.a[l.BASIC_DMG_TYPE]&&j(o,t.BASIC_CR_BOOST,e,a),n&t.a[l.SKILL_DMG_TYPE]&&j(o,t.SKILL_CR_BOOST,e,a),n&t.a[l.ULT_DMG_TYPE]&&j(o,t.ULT_CR_BOOST,e,a),n&t.a[l.FUA_DMG_TYPE]&&j(o,t.FUA_CR_BOOST,e,a),n&t.a[l.MEMO_SKILL_DMG_TYPE]&&j(o,t.MEMO_SKILL_CR_BOOST,e,a),n&t.a[l.MEMO_TALENT_DMG_TYPE]&&j(o,t.MEMO_TALENT_CR_BOOST,e,a))}function Ut(t,n,e,a,o=0){e!=0&&(n&t.a[l.BASIC_DMG_TYPE]&&j(o,t.BASIC_CD_BOOST,e,a),n&t.a[l.SKILL_DMG_TYPE]&&j(o,t.SKILL_CD_BOOST,e,a),n&t.a[l.ULT_DMG_TYPE]&&j(o,t.ULT_CD_BOOST,e,a),n&t.a[l.FUA_DMG_TYPE]&&j(o,t.FUA_CD_BOOST,e,a),n&t.a[l.MEMO_SKILL_DMG_TYPE]&&j(o,t.MEMO_SKILL_CD_BOOST,e,a),n&t.a[l.MEMO_TALENT_DMG_TYPE]&&j(o,t.MEMO_TALENT_CD_BOOST,e,a))}const ha={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,n){console&&console[t]&&console[t].apply(console,n)}};class Ie{constructor(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(n,e)}init(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=n||ha,this.options=e,this.debug=e.debug}log(){for(var n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return this.forward(e,"log","",!0)}warn(){for(var n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return this.forward(e,"warn","",!0)}error(){for(var n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return this.forward(e,"error","")}deprecate(){for(var n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(n,e,a,o){return o&&!this.debug?null:(typeof n[0]=="string"&&(n[0]=`${a}${this.prefix} ${n[0]}`),this.logger[e](n))}create(n){return new Ie(this.logger,{prefix:`${this.prefix}:${n}:`,...this.options})}clone(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new Ie(this.logger,n)}}var Ot=new Ie;class ve{constructor(){this.observers={}}on(n,e){return n.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const o=this.observers[a].get(e)||0;this.observers[a].set(e,o+1)}),this}off(n,e){if(this.observers[n]){if(!e){delete this.observers[n];return}this.observers[n].delete(e)}}emit(n){for(var e=arguments.length,a=new Array(e>1?e-1:0),o=1;o<e;o++)a[o-1]=arguments[o];this.observers[n]&&Array.from(this.observers[n].entries()).forEach(r=>{let[c,s]=r;for(let f=0;f<s;f++)c(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(r=>{let[c,s]=r;for(let f=0;f<s;f++)c.apply(c,[n,...a])})}}const oe=()=>{let t,n;const e=new Promise((a,o)=>{t=a,n=o});return e.resolve=t,e.reject=n,e},In=t=>t==null?"":""+t,Da=(t,n,e)=>{t.forEach(a=>{n[a]&&(e[a]=n[a])})},ba=/###/g,Rn=t=>t&&t.indexOf("###")>-1?t.replace(ba,"."):t,Un=t=>!t||typeof t=="string",ie=(t,n,e)=>{const a=typeof n!="string"?n:n.split(".");let o=0;for(;o<a.length-1;){if(Un(t))return{};const i=Rn(a[o]);!t[i]&&e&&(t[i]=new e),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++o}return Un(t)?{}:{obj:t,k:Rn(a[o])}},Mn=(t,n,e)=>{const{obj:a,k:o}=ie(t,n,Object);if(a!==void 0||n.length===1){a[o]=e;return}let i=n[n.length-1],r=n.slice(0,n.length-1),c=ie(t,r,Object);for(;c.obj===void 0&&r.length;)i=`${r[r.length-1]}.${i}`,r=r.slice(0,r.length-1),c=ie(t,r,Object),c&&c.obj&&typeof c.obj[`${c.k}.${i}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${i}`]=e},La=(t,n,e,a)=>{const{obj:o,k:i}=ie(t,n,Object);o[i]=o[i]||[],o[i].push(e)},Re=(t,n)=>{const{obj:e,k:a}=ie(t,n);if(e)return e[a]},Oa=(t,n,e)=>{const a=Re(t,e);return a!==void 0?a:Re(n,e)},go=(t,n,e)=>{for(const a in n)a!=="__proto__"&&a!=="constructor"&&(a in t?typeof t[a]=="string"||t[a]instanceof String||typeof n[a]=="string"||n[a]instanceof String?e&&(t[a]=n[a]):go(t[a],n[a],e):t[a]=n[a]);return t},wt=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ia={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ra=t=>typeof t=="string"?t.replace(/[&<>"'\/]/g,n=>Ia[n]):t;class Ua{constructor(n){this.capacity=n,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(n){const e=this.regExpMap.get(n);if(e!==void 0)return e;const a=new RegExp(n);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(n,a),this.regExpQueue.push(n),a}}const Ma=[" ",",","?","!",";"],ka=new Ua(20),ya=(t,n,e)=>{n=n||"",e=e||"";const a=Ma.filter(r=>n.indexOf(r)<0&&e.indexOf(r)<0);if(a.length===0)return!0;const o=ka.getRegExp(`(${a.map(r=>r==="?"?"\\?":r).join("|")})`);let i=!o.test(t);if(!i){const r=t.indexOf(e);r>0&&!o.test(t.substring(0,r))&&(i=!0)}return i},an=function(t,n){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[n])return t[n];const a=n.split(e);let o=t;for(let i=0;i<a.length;){if(!o||typeof o!="object")return;let r,c="";for(let s=i;s<a.length;++s)if(s!==i&&(c+=e),c+=a[s],r=o[c],r!==void 0){if(["string","number","boolean"].indexOf(typeof r)>-1&&s<a.length-1)continue;i+=s-i+1;break}o=r}return o},Ue=t=>t&&t.indexOf("_")>0?t.replace("_","-"):t;class kn extends ve{constructor(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=n||{},this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}removeNamespaces(n){const e=this.options.ns.indexOf(n);e>-1&&this.options.ns.splice(e,1)}getResource(n,e,a){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,r=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;n.indexOf(".")>-1?c=n.split("."):(c=[n,e],a&&(Array.isArray(a)?c.push(...a):typeof a=="string"&&i?c.push(...a.split(i)):c.push(a)));const s=Re(this.data,c);return!s&&!e&&!a&&n.indexOf(".")>-1&&(n=c[0],e=c[1],a=c.slice(2).join(".")),s||!r||typeof a!="string"?s:an(this.data&&this.data[n]&&this.data[n][e],a,i)}addResource(n,e,a,o){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=[n,e];a&&(c=c.concat(r?a.split(r):a)),n.indexOf(".")>-1&&(c=n.split("."),o=e,e=c[1]),this.addNamespaces(e),Mn(this.data,c,o),i.silent||this.emit("added",n,e,a,o)}addResources(n,e,a){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in a)(typeof a[i]=="string"||Array.isArray(a[i]))&&this.addResource(n,e,i,a[i],{silent:!0});o.silent||this.emit("added",n,e,a)}addResourceBundle(n,e,a,o,i){let r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},c=[n,e];n.indexOf(".")>-1&&(c=n.split("."),o=a,a=e,e=c[1]),this.addNamespaces(e);let s=Re(this.data,c)||{};r.skipCopy||(a=JSON.parse(JSON.stringify(a))),o?go(s,a,i):s={...s,...a},Mn(this.data,c,s),r.silent||this.emit("added",n,e,a)}removeResourceBundle(n,e){this.hasResourceBundle(n,e)&&delete this.data[n][e],this.removeNamespaces(e),this.emit("removed",n,e)}hasResourceBundle(n,e){return this.getResource(n,e)!==void 0}getResourceBundle(n,e){return e||(e=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(n,e)}:this.getResource(n,e)}getDataByLanguage(n){return this.data[n]}hasLanguageSomeTranslations(n){const e=this.getDataByLanguage(n);return!!(e&&Object.keys(e)||[]).find(o=>e[o]&&Object.keys(e[o]).length>0)}toJSON(){return this.data}}var To={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,n,e,a,o){return t.forEach(i=>{this.processors[i]&&(n=this.processors[i].process(n,e,a,o))}),n}};const yn={};class Me extends ve{constructor(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Da(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,this),this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ot.create("translator")}changeLanguage(n){n&&(this.language=n)}exists(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(n==null)return!1;const a=this.resolve(n,e);return a&&a.res!==void 0}extractFromKey(n,e){let a=e.nsSeparator!==void 0?e.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const o=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator;let i=e.ns||this.options.defaultNS||[];const r=a&&n.indexOf(a)>-1,c=!this.options.userDefinedKeySeparator&&!e.keySeparator&&!this.options.userDefinedNsSeparator&&!e.nsSeparator&&!ya(n,a,o);if(r&&!c){const s=n.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:n,namespaces:i};const f=n.split(a);(a!==o||a===o&&this.options.ns.indexOf(f[0])>-1)&&(i=f.shift()),n=f.join(o)}return typeof i=="string"&&(i=[i]),{key:n,namespaces:i}}translate(n,e,a){if(typeof e!="object"&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),typeof e=="object"&&(e={...e}),e||(e={}),n==null)return"";Array.isArray(n)||(n=[String(n)]);const o=e.returnDetails!==void 0?e.returnDetails:this.options.returnDetails,i=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator,{key:r,namespaces:c}=this.extractFromKey(n[n.length-1],e),s=c[c.length-1],f=e.lng||this.language,d=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&f.toLowerCase()==="cimode"){if(d){const U=e.nsSeparator||this.options.nsSeparator;return o?{res:`${s}${U}${r}`,usedKey:r,exactUsedKey:r,usedLng:f,usedNS:s,usedParams:this.getUsedParamsDetails(e)}:`${s}${U}${r}`}return o?{res:r,usedKey:r,exactUsedKey:r,usedLng:f,usedNS:s,usedParams:this.getUsedParamsDetails(e)}:r}const p=this.resolve(n,e);let _=p&&p.res;const L=p&&p.usedKey||r,I=p&&p.exactUsedKey||r,P=Object.prototype.toString.apply(_),H=["[object Number]","[object Function]","[object RegExp]"],F=e.joinArrays!==void 0?e.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject;if(R&&_&&(typeof _!="string"&&typeof _!="boolean"&&typeof _!="number")&&H.indexOf(P)<0&&!(typeof F=="string"&&Array.isArray(_))){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(L,_,{...e,ns:c}):`key '${r} (${this.language})' returned an object instead of string.`;return o?(p.res=U,p.usedParams=this.getUsedParamsDetails(e),p):U}if(i){const U=Array.isArray(_),N=U?[]:{},v=U?I:L;for(const M in _)if(Object.prototype.hasOwnProperty.call(_,M)){const O=`${v}${i}${M}`;N[M]=this.translate(O,{...e,joinArrays:!1,ns:c}),N[M]===O&&(N[M]=_[M])}_=N}}else if(R&&typeof F=="string"&&Array.isArray(_))_=_.join(F),_&&(_=this.extendTranslation(_,n,e,a));else{let U=!1,N=!1;const v=e.count!==void 0&&typeof e.count!="string",M=Me.hasDefaultValue(e),O=v?this.pluralResolver.getSuffix(f,e.count,e):"",h=e.ordinal&&v?this.pluralResolver.getSuffix(f,e.count,{ordinal:!1}):"",T=v&&!e.ordinal&&e.count===0&&this.pluralResolver.shouldUseIntlApi(),B=T&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${O}`]||e[`defaultValue${h}`]||e.defaultValue;!this.isValidLookup(_)&&M&&(U=!0,_=B),this.isValidLookup(_)||(N=!0,_=r);const C=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:_,E=M&&B!==_&&this.options.updateMissing;if(N||U||E){if(this.logger.log(E?"updateKey":"missingKey",f,s,r,E?B:_),i){const D=this.resolve(r,{...e,keySeparator:!1});D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let S=[];const b=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if(this.options.saveMissingTo==="fallback"&&b&&b[0])for(let D=0;D<b.length;D++)S.push(b[D]);else this.options.saveMissingTo==="all"?S=this.languageUtils.toResolveHierarchy(e.lng||this.language):S.push(e.lng||this.language);const k=(D,K,x)=>{const w=M&&x!==_?x:C;this.options.missingKeyHandler?this.options.missingKeyHandler(D,s,K,w,E,e):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(D,s,K,w,E,e),this.emit("missingKey",D,s,K,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&v?S.forEach(D=>{const K=this.pluralResolver.getSuffixes(D,e);T&&e[`defaultValue${this.options.pluralSeparator}zero`]&&K.indexOf(`${this.options.pluralSeparator}zero`)<0&&K.push(`${this.options.pluralSeparator}zero`),K.forEach(x=>{k([D],r+x,e[`defaultValue${x}`]||B)})}):k(S,r,B))}_=this.extendTranslation(_,n,e,p,a),N&&_===r&&this.options.appendNamespaceToMissingKey&&(_=`${s}:${r}`),(N||U)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${r}`:r,U?_:void 0):_=this.options.parseMissingKeyHandler(_))}return o?(p.res=_,p.usedParams=this.getUsedParamsDetails(e),p):_}extendTranslation(n,e,a,o,i){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)n=this.i18nFormat.parse(n,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const f=typeof n=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(f){const _=n.match(this.interpolator.nestingRegexp);d=_&&_.length}let p=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),n=this.interpolator.interpolate(n,p,a.lng||this.language||o.usedLng,a),f){const _=n.match(this.interpolator.nestingRegexp),L=_&&_.length;d<L&&(a.nest=!1)}!a.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(a.lng=this.language||o.usedLng),a.nest!==!1&&(n=this.interpolator.nest(n,function(){for(var _=arguments.length,L=new Array(_),I=0;I<_;I++)L[I]=arguments[I];return i&&i[0]===L[0]&&!a.context?(r.logger.warn(`It seems you are nesting recursively key: ${L[0]} in key: ${e[0]}`),null):r.translate(...L,e)},a)),a.interpolation&&this.interpolator.reset()}const c=a.postProcess||this.options.postProcess,s=typeof c=="string"?[c]:c;return n!=null&&s&&s.length&&a.applyPostProcessor!==!1&&(n=To.handle(s,n,e,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),n}resolve(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,o,i,r,c;return typeof n=="string"&&(n=[n]),n.forEach(s=>{if(this.isValidLookup(a))return;const f=this.extractFromKey(s,e),d=f.key;o=d;let p=f.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const _=e.count!==void 0&&typeof e.count!="string",L=_&&!e.ordinal&&e.count===0&&this.pluralResolver.shouldUseIntlApi(),I=e.context!==void 0&&(typeof e.context=="string"||typeof e.context=="number")&&e.context!=="",P=e.lngs?e.lngs:this.languageUtils.toResolveHierarchy(e.lng||this.language,e.fallbackLng);p.forEach(H=>{this.isValidLookup(a)||(c=H,!yn[`${P[0]}-${H}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(c)&&(yn[`${P[0]}-${H}`]=!0,this.logger.warn(`key "${o}" for languages "${P.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),P.forEach(F=>{if(this.isValidLookup(a))return;r=F;const R=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(R,d,F,H,e);else{let U;_&&(U=this.pluralResolver.getSuffix(F,e.count,e));const N=`${this.options.pluralSeparator}zero`,v=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(R.push(d+U),e.ordinal&&U.indexOf(v)===0&&R.push(d+U.replace(v,this.options.pluralSeparator)),L&&R.push(d+N)),I){const M=`${d}${this.options.contextSeparator}${e.context}`;R.push(M),_&&(R.push(M+U),e.ordinal&&U.indexOf(v)===0&&R.push(M+U.replace(v,this.options.pluralSeparator)),L&&R.push(M+N))}}let y;for(;y=R.pop();)this.isValidLookup(a)||(i=y,a=this.getResource(F,H,y,e))}))})}),{res:a,usedKey:o,exactUsedKey:i,usedLng:r,usedNS:c}}isValidLookup(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}getResource(n,e,a){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(n,e,a,o):this.resourceStore.getResource(n,e,a,o)}getUsedParamsDetails(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=n.replace&&typeof n.replace!="string";let o=a?n.replace:n;if(a&&typeof n.count<"u"&&(o.count=n.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!a){o={...o};for(const i of e)delete o[i]}return o}static hasDefaultValue(n){const e="defaultValue";for(const a in n)if(Object.prototype.hasOwnProperty.call(n,a)&&e===a.substring(0,e.length)&&n[a]!==void 0)return!0;return!1}}const we=t=>t.charAt(0).toUpperCase()+t.slice(1);class Nn{constructor(n){this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ot.create("languageUtils")}getScriptPartFromCode(n){if(n=Ue(n),!n||n.indexOf("-")<0)return null;const e=n.split("-");return e.length===2||(e.pop(),e[e.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(e.join("-"))}getLanguagePartFromCode(n){if(n=Ue(n),!n||n.indexOf("-")<0)return n;const e=n.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(n){if(typeof n=="string"&&n.indexOf("-")>-1){const e=["hans","hant","latn","cyrl","cans","mong","arab"];let a=n.split("-");return this.options.lowerCaseLng?a=a.map(o=>o.toLowerCase()):a.length===2?(a[0]=a[0].toLowerCase(),a[1]=a[1].toUpperCase(),e.indexOf(a[1].toLowerCase())>-1&&(a[1]=we(a[1].toLowerCase()))):a.length===3&&(a[0]=a[0].toLowerCase(),a[1].length===2&&(a[1]=a[1].toUpperCase()),a[0]!=="sgn"&&a[2].length===2&&(a[2]=a[2].toUpperCase()),e.indexOf(a[1].toLowerCase())>-1&&(a[1]=we(a[1].toLowerCase())),e.indexOf(a[2].toLowerCase())>-1&&(a[2]=we(a[2].toLowerCase()))),a.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}isSupportedCode(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}getBestMatchFromCodes(n){if(!n)return null;let e;return n.forEach(a=>{if(e)return;const o=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(o))&&(e=o)}),!e&&this.options.supportedLngs&&n.forEach(a=>{if(e)return;const o=this.getLanguagePartFromCode(a);if(this.isSupportedCode(o))return e=o;e=this.options.supportedLngs.find(i=>{if(i===o)return i;if(!(i.indexOf("-")<0&&o.indexOf("-")<0)&&(i.indexOf("-")>0&&o.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===o||i.indexOf(o)===0&&o.length>1))return i})}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(n,e){if(!n)return[];if(typeof n=="function"&&(n=n(e)),typeof n=="string"&&(n=[n]),Array.isArray(n))return n;if(!e)return n.default||[];let a=n[e];return a||(a=n[this.getScriptPartFromCode(e)]),a||(a=n[this.formatLanguageCode(e)]),a||(a=n[this.getLanguagePartFromCode(e)]),a||(a=n.default),a||[]}toResolveHierarchy(n,e){const a=this.getFallbackCodes(e||this.options.fallbackLng||[],n),o=[],i=r=>{r&&(this.isSupportedCode(r)?o.push(r):this.logger.warn(`rejecting language code not found in supportedLngs: ${r}`))};return typeof n=="string"&&(n.indexOf("-")>-1||n.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(n))):typeof n=="string"&&i(this.formatLanguageCode(n)),a.forEach(r=>{o.indexOf(r)<0&&i(this.formatLanguageCode(r))}),o}}let Na=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Ga={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Pa=["v1","v2","v3"],va=["v4"],Gn={zero:0,one:1,two:2,few:3,many:4,other:5},Ha=()=>{const t={};return Na.forEach(n=>{n.lngs.forEach(e=>{t[e]={numbers:n.nr,plurals:Ga[n.fc]}})}),t};class Fa{constructor(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=n,this.options=e,this.logger=Ot.create("pluralResolver"),(!this.options.compatibilityJSON||va.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Ha(),this.pluralRulesCache={}}addRule(n,e){this.rules[n]=e}clearCache(){this.pluralRulesCache={}}getRule(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const a=Ue(n==="dev"?"en":n),o=e.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:a,type:o});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];const r=new Intl.PluralRules(a,{type:o});return this.pluralRulesCache[i]=r,r}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}needsPlural(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=this.getRule(n,e);return this.shouldUseIntlApi()?a&&a.resolvedOptions().pluralCategories.length>1:a&&a.numbers.length>1}getPluralFormsOfKey(n,e){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,a).map(o=>`${e}${o}`)}getSuffixes(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=this.getRule(n,e);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort((o,i)=>Gn[o]-Gn[i]).map(o=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${o}`):a.numbers.map(o=>this.getSuffix(n,o,e)):[]}getSuffix(n,e){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(n,a);return o?this.shouldUseIntlApi()?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${o.select(e)}`:this.getSuffixRetroCompatible(o,e):(this.logger.warn(`no plural rule found for: ${n}`),"")}getSuffixRetroCompatible(n,e){const a=n.noAbs?n.plurals(e):n.plurals(Math.abs(e));let o=n.numbers[a];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));const i=()=>this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString();return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?`_plural_${o.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?i():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}shouldUseIntlApi(){return!Pa.includes(this.options.compatibilityJSON)}}const Pn=function(t,n,e){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=Oa(t,n,e);return!i&&o&&typeof e=="string"&&(i=an(t,e,a),i===void 0&&(i=an(n,e,a))),i},Ve=t=>t.replace(/\$/g,"$$$$");class Ka{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ot.create("interpolator"),this.options=n,this.format=n.interpolation&&n.interpolation.format||(e=>e),this.init(n)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});const{escape:e,escapeValue:a,useRawValueToEscape:o,prefix:i,prefixEscaped:r,suffix:c,suffixEscaped:s,formatSeparator:f,unescapeSuffix:d,unescapePrefix:p,nestingPrefix:_,nestingPrefixEscaped:L,nestingSuffix:I,nestingSuffixEscaped:P,nestingOptionsSeparator:H,maxReplaces:F,alwaysFormat:R}=n.interpolation;this.escape=e!==void 0?e:Ra,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=i?wt(i):r||"{{",this.suffix=c?wt(c):s||"}}",this.formatSeparator=f||",",this.unescapePrefix=d?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=_?wt(_):L||wt("$t("),this.nestingSuffix=I?wt(I):P||wt(")"),this.nestingOptionsSeparator=H||",",this.maxReplaces=F||1e3,this.alwaysFormat=R!==void 0?R:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const n=(e,a)=>e&&e.source===a?(e.lastIndex=0,e):new RegExp(a,"g");this.regexp=n(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=n(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=n(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(n,e,a,o){let i,r,c;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=L=>{if(L.indexOf(this.formatSeparator)<0){const F=Pn(e,s,L,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(F,void 0,a,{...o,...e,interpolationkey:L}):F}const I=L.split(this.formatSeparator),P=I.shift().trim(),H=I.join(this.formatSeparator).trim();return this.format(Pn(e,s,P,this.options.keySeparator,this.options.ignoreJSONStructure),H,a,{...o,...e,interpolationkey:P})};this.resetRegExp();const d=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,p=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:L=>Ve(L)},{regex:this.regexp,safeValue:L=>this.escapeValue?Ve(this.escape(L)):Ve(L)}].forEach(L=>{for(c=0;i=L.regex.exec(n);){const I=i[1].trim();if(r=f(I),r===void 0)if(typeof d=="function"){const H=d(n,i,o);r=typeof H=="string"?H:""}else if(o&&Object.prototype.hasOwnProperty.call(o,I))r="";else if(p){r=i[0];continue}else this.logger.warn(`missed to pass in variable ${I} for interpolating ${n}`),r="";else typeof r!="string"&&!this.useRawValueToEscape&&(r=In(r));const P=L.safeValue(r);if(n=n.replace(i[0],P),p?(L.regex.lastIndex+=r.length,L.regex.lastIndex-=i[0].length):L.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),n}nest(n,e){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,i,r;const c=(s,f)=>{const d=this.nestingOptionsSeparator;if(s.indexOf(d)<0)return s;const p=s.split(new RegExp(`${d}[ ]*{`));let _=`{${p[1]}`;s=p[0],_=this.interpolate(_,r);const L=_.match(/'/g),I=_.match(/"/g);(L&&L.length%2===0&&!I||I.length%2!==0)&&(_=_.replace(/'/g,'"'));try{r=JSON.parse(_),f&&(r={...f,...r})}catch(P){return this.logger.warn(`failed parsing options string in nesting for key ${s}`,P),`${s}${d}${_}`}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,s};for(;o=this.nestingRegexp.exec(n);){let s=[];r={...a},r=r.replace&&typeof r.replace!="string"?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;let f=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const d=o[1].split(this.formatSeparator).map(p=>p.trim());o[1]=d.shift(),s=d,f=!0}if(i=e(c.call(this,o[1].trim(),r),r),i&&o[0]===n&&typeof i!="string")return i;typeof i!="string"&&(i=In(i)),i||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${n}`),i=""),f&&(i=s.reduce((d,p)=>this.format(d,p,a.lng,{...a,interpolationkey:o[1].trim()}),i.trim())),n=n.replace(o[0],i),this.regexp.lastIndex=0}return n}}const xa=t=>{let n=t.toLowerCase().trim();const e={};if(t.indexOf("(")>-1){const a=t.split("(");n=a[0].toLowerCase().trim();const o=a[1].substring(0,a[1].length-1);n==="currency"&&o.indexOf(":")<0?e.currency||(e.currency=o.trim()):n==="relativetime"&&o.indexOf(":")<0?e.range||(e.range=o.trim()):o.split(";").forEach(r=>{if(r){const[c,...s]=r.split(":"),f=s.join(":").trim().replace(/^'+|'+$/g,""),d=c.trim();e[d]||(e[d]=f),f==="false"&&(e[d]=!1),f==="true"&&(e[d]=!0),isNaN(f)||(e[d]=parseInt(f,10))}})}return{formatName:n,formatOptions:e}},Vt=t=>{const n={};return(e,a,o)=>{let i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i={...i,[o.interpolationkey]:void 0});const r=a+JSON.stringify(i);let c=n[r];return c||(c=t(Ue(a),o),n[r]=c),c(e)}};class wa{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ot.create("formatter"),this.options=n,this.formats={number:Vt((e,a)=>{const o=new Intl.NumberFormat(e,{...a});return i=>o.format(i)}),currency:Vt((e,a)=>{const o=new Intl.NumberFormat(e,{...a,style:"currency"});return i=>o.format(i)}),datetime:Vt((e,a)=>{const o=new Intl.DateTimeFormat(e,{...a});return i=>o.format(i)}),relativetime:Vt((e,a)=>{const o=new Intl.RelativeTimeFormat(e,{...a});return i=>o.format(i,a.range||"day")}),list:Vt((e,a)=>{const o=new Intl.ListFormat(e,{...a});return i=>o.format(i)})},this.init(n)}init(n){const a=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=a.formatSeparator?a.formatSeparator:a.formatSeparator||","}add(n,e){this.formats[n.toLowerCase().trim()]=e}addCached(n,e){this.formats[n.toLowerCase().trim()]=Vt(e)}format(n,e,a){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=e.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(c=>c.indexOf(")")>-1)){const c=i.findIndex(s=>s.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,c)].join(this.formatSeparator)}return i.reduce((c,s)=>{const{formatName:f,formatOptions:d}=xa(s);if(this.formats[f]){let p=c;try{const _=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},L=_.locale||_.lng||o.locale||o.lng||a;p=this.formats[f](c,L,{...d,...o,..._})}catch(_){this.logger.warn(_)}return p}else this.logger.warn(`there was no format function for ${f}`);return c},n)}}const Va=(t,n)=>{t.pending[n]!==void 0&&(delete t.pending[n],t.pendingCount--)};class za extends ve{constructor(n,e,a){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=n,this.store=e,this.services=a,this.languageUtils=a.languageUtils,this.options=o,this.logger=Ot.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(a,o.backend,o)}queueLoad(n,e,a,o){const i={},r={},c={},s={};return n.forEach(f=>{let d=!0;e.forEach(p=>{const _=`${f}|${p}`;!a.reload&&this.store.hasResourceBundle(f,p)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?r[_]===void 0&&(r[_]=!0):(this.state[_]=1,d=!1,r[_]===void 0&&(r[_]=!0),i[_]===void 0&&(i[_]=!0),s[p]===void 0&&(s[p]=!0)))}),d||(c[f]=!0)}),(Object.keys(i).length||Object.keys(r).length)&&this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(i),pending:Object.keys(r),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(s)}}loaded(n,e,a){const o=n.split("|"),i=o[0],r=o[1];e&&this.emit("failedLoading",i,r,e),!e&&a&&this.store.addResourceBundle(i,r,a,void 0,void 0,{skipCopy:!0}),this.state[n]=e?-1:2,e&&a&&(this.state[n]=0);const c={};this.queue.forEach(s=>{La(s.loaded,[i],r),Va(s,n),e&&s.errors.push(e),s.pendingCount===0&&!s.done&&(Object.keys(s.loaded).forEach(f=>{c[f]||(c[f]={});const d=s.loaded[f];d.length&&d.forEach(p=>{c[f][p]===void 0&&(c[f][p]=!0)})}),s.done=!0,s.errors.length?s.callback(s.errors):s.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(s=>!s.done)}read(n,e,a){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,r=arguments.length>5?arguments[5]:void 0;if(!n.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:n,ns:e,fcName:a,tried:o,wait:i,callback:r});return}this.readingCalls++;const c=(f,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(f&&d&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,n,e,a,o+1,i*2,r)},i);return}r(f,d)},s=this.backend[a].bind(this.backend);if(s.length===2){try{const f=s(n,e);f&&typeof f.then=="function"?f.then(d=>c(null,d)).catch(c):c(null,f)}catch(f){c(f)}return}return s(n,e,c)}prepareLoading(n,e){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();typeof n=="string"&&(n=this.languageUtils.toResolveHierarchy(n)),typeof e=="string"&&(e=[e]);const i=this.queueLoad(n,e,a,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach(r=>{this.loadOne(r)})}load(n,e,a){this.prepareLoading(n,e,{},a)}reload(n,e,a){this.prepareLoading(n,e,{reload:!0},a)}loadOne(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const a=n.split("|"),o=a[0],i=a[1];this.read(o,i,"read",void 0,void 0,(r,c)=>{r&&this.logger.warn(`${e}loading namespace ${i} for language ${o} failed`,r),!r&&c&&this.logger.log(`${e}loaded namespace ${i} for language ${o}`,c),this.loaded(n,r,c)})}saveMissing(n,e,a,o,i){let r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)){this.logger.warn(`did not save key "${a}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){const s={...r,isUpdate:i},f=this.backend.create.bind(this.backend);if(f.length<6)try{let d;f.length===5?d=f(n,e,a,o,s):d=f(n,e,a,o),d&&typeof d.then=="function"?d.then(p=>c(null,p)).catch(c):c(null,d)}catch(d){c(d)}else f(n,e,a,o,c,s)}!n||!n[0]||this.store.addResource(n[0],e,a,o)}}}const vn=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let n={};if(typeof t[1]=="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const e=t[3]||t[2];Object.keys(e).forEach(a=>{n[a]=e[a]})}return n},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Hn=t=>(typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),_e=()=>{},ja=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(e=>{typeof t[e]=="function"&&(t[e]=t[e].bind(t))})};class ce extends ve{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Hn(n),this.services={},this.logger=Ot,this.modules={external:[]},ja(this),e&&!this.isInitialized&&!n.isClone){if(!this.options.initImmediate)return this.init(n,e),this;setTimeout(()=>{this.init(n,e)},0)}}init(){var n=this;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof e=="function"&&(a=e,e={}),!e.defaultNS&&e.defaultNS!==!1&&e.ns&&(typeof e.ns=="string"?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const o=vn();this.options={...o,...this.options,...Hn(e)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...o.interpolation,...this.options.interpolation}),e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Ot.init(i(this.modules.logger),this.options):Ot.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=wa);const p=new Nn(this.options);this.store=new kn(this.options.resources,this.options);const _=this.services;_.logger=Ot,_.resourceStore=this.store,_.languageUtils=p,_.pluralResolver=new Fa(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(_.formatter=i(d),_.formatter.init(_,this.options),this.options.interpolation.format=_.formatter.format.bind(_.formatter)),_.interpolator=new Ka(this.options),_.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},_.backendConnector=new za(i(this.modules.backend),_.resourceStore,_,this.options),_.backendConnector.on("*",function(L){for(var I=arguments.length,P=new Array(I>1?I-1:0),H=1;H<I;H++)P[H-1]=arguments[H];n.emit(L,...P)}),this.modules.languageDetector&&(_.languageDetector=i(this.modules.languageDetector),_.languageDetector.init&&_.languageDetector.init(_,this.options.detection,this.options)),this.modules.i18nFormat&&(_.i18nFormat=i(this.modules.i18nFormat),_.i18nFormat.init&&_.i18nFormat.init(this)),this.translator=new Me(this.services,this.options),this.translator.on("*",function(L){for(var I=arguments.length,P=new Array(I>1?I-1:0),H=1;H<I;H++)P[H-1]=arguments[H];n.emit(L,...P)}),this.modules.external.forEach(L=>{L.init&&L.init(this)})}if(this.format=this.options.interpolation.format,a||(a=_e),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return n.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return n.store[d](...arguments),n}});const s=oe(),f=()=>{const d=(p,_)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(_),a(p,_)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),s}loadResources(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e;const o=typeof n=="string"?n:this.language;if(typeof n=="function"&&(a=n),!this.options.resources||this.options.partialBundledLanguages){if(o&&o.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const i=[],r=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&i.indexOf(f)<0&&i.push(f)})};o?r(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(s=>r(s)),this.options.preload&&this.options.preload.forEach(c=>r(c)),this.services.backendConnector.load(i,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(c)})}else a(null)}reloadResources(n,e,a){const o=oe();return typeof n=="function"&&(a=n,n=void 0),typeof e=="function"&&(a=e,e=void 0),n||(n=this.languages),e||(e=this.options.ns),a||(a=_e),this.services.backendConnector.reload(n,e,i=>{o.resolve(),a(i)}),o}use(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&To.addPostProcessor(n),n.type==="formatter"&&(this.modules.formatter=n),n.type==="3rdParty"&&this.modules.external.push(n),this}setResolvedLanguage(n){if(!(!n||!this.languages)&&!(["cimode","dev"].indexOf(n)>-1))for(let e=0;e<this.languages.length;e++){const a=this.languages[e];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}changeLanguage(n,e){var a=this;this.isLanguageChangingTo=n;const o=oe();this.emit("languageChanging",n);const i=s=>{this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.resolvedLanguage=void 0,this.setResolvedLanguage(s)},r=(s,f)=>{f?(i(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,o.resolve(function(){return a.t(...arguments)}),e&&e(s,function(){return a.t(...arguments)})},c=s=>{!n&&!s&&this.services.languageDetector&&(s=[]);const f=typeof s=="string"?s:this.services.languageUtils.getBestMatchFromCodes(s);f&&(this.language||i(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(f)),this.loadResources(f,d=>{r(d,f)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(n),o}getFixedT(n,e,a){var o=this;const i=function(r,c){let s;if(typeof c!="object"){for(var f=arguments.length,d=new Array(f>2?f-2:0),p=2;p<f;p++)d[p-2]=arguments[p];s=o.options.overloadTranslationOptionHandler([r,c].concat(d))}else s={...c};s.lng=s.lng||i.lng,s.lngs=s.lngs||i.lngs,s.ns=s.ns||i.ns,s.keyPrefix!==""&&(s.keyPrefix=s.keyPrefix||a||i.keyPrefix);const _=o.options.keySeparator||".";let L;return s.keyPrefix&&Array.isArray(r)?L=r.map(I=>`${s.keyPrefix}${_}${I}`):L=s.keyPrefix?`${s.keyPrefix}${_}${r}`:r,o.t(L,s)};return typeof n=="string"?i.lng=n:i.lngs=n,i.ns=e,i.keyPrefix=a,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(n){this.options.defaultNS=n}hasLoadedNamespace(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=e.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const r=(c,s)=>{const f=this.services.backendConnector.state[`${c}|${s}`];return f===-1||f===0||f===2};if(e.precheck){const c=e.precheck(this,r);if(c!==void 0)return c}return!!(this.hasResourceBundle(a,n)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||r(a,n)&&(!o||r(i,n)))}loadNamespaces(n,e){const a=oe();return this.options.ns?(typeof n=="string"&&(n=[n]),n.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{a.resolve(),e&&e(o)}),a):(e&&e(),Promise.resolve())}loadLanguages(n,e){const a=oe();typeof n=="string"&&(n=[n]);const o=this.options.preload||[],i=n.filter(r=>o.indexOf(r)<0&&this.services.languageUtils.isSupportedCode(r));return i.length?(this.options.preload=o.concat(i),this.loadResources(r=>{a.resolve(),e&&e(r)}),a):(e&&e(),Promise.resolve())}dir(n){if(n||(n=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!n)return"rtl";const e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new Nn(vn());return e.indexOf(a.getLanguagePartFromCode(n))>-1||n.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new ce(n,e)}cloneInstance(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e;const a=n.forkResourceStore;a&&delete n.forkResourceStore;const o={...this.options,...n,isClone:!0},i=new ce(o);return(n.debug!==void 0||n.prefix!==void 0)&&(i.logger=i.logger.clone(n)),["store","services","language"].forEach(c=>{i[c]=this[c]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},a&&(i.store=new kn(this.store.data,o),i.services.resourceStore=i.store),i.translator=new Me(i.services,o),i.translator.on("*",function(c){for(var s=arguments.length,f=new Array(s>1?s-1:0),d=1;d<s;d++)f[d-1]=arguments[d];i.emit(c,...f)}),i.init(o,e),i.translator.options=o,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const J=ce.createInstance();J.createInstance=ce.createInstance;J.createInstance;J.dir;J.init;J.loadResources;J.reloadResources;J.use;J.changeLanguage;J.getFixedT;J.t;J.exists;J.setDefaultNamespace;J.hasLoadedNamespace;J.loadNamespaces;J.loadLanguages;function $a(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pe={},ze,Fn;function Ya(){if(Fn)return ze;Fn=1;var t,n,e={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},a;function o(L){throw{name:"SyntaxError",message:L,at:t,text:a}}function i(L){return L&&L!==n&&o("Expected '"+L+"' instead of '"+n+"'"),n=a.charAt(t),t+=1,n}function r(){var L,I="";for(n==="-"&&(I="-",i("-"));n>="0"&&n<="9";)I+=n,i();if(n===".")for(I+=".";i()&&n>="0"&&n<="9";)I+=n;if(n==="e"||n==="E")for(I+=n,i(),(n==="-"||n==="+")&&(I+=n,i());n>="0"&&n<="9";)I+=n,i();return L=Number(I),isFinite(L)||o("Bad number"),L}function c(){var L,I,P="",H;if(n==='"')for(;i();){if(n==='"')return i(),P;if(n==="\\")if(i(),n==="u"){for(H=0,I=0;I<4&&(L=parseInt(i(),16),!!isFinite(L));I+=1)H=H*16+L;P+=String.fromCharCode(H)}else if(typeof e[n]=="string")P+=e[n];else break;else P+=n}o("Bad string")}function s(){for(;n&&n<=" ";)i()}function f(){switch(n){case"t":return i("t"),i("r"),i("u"),i("e"),!0;case"f":return i("f"),i("a"),i("l"),i("s"),i("e"),!1;case"n":return i("n"),i("u"),i("l"),i("l"),null;default:o("Unexpected '"+n+"'")}}function d(){var L=[];if(n==="["){if(i("["),s(),n==="]")return i("]"),L;for(;n;){if(L.push(_()),s(),n==="]")return i("]"),L;i(","),s()}}o("Bad array")}function p(){var L,I={};if(n==="{"){if(i("{"),s(),n==="}")return i("}"),I;for(;n;){if(L=c(),s(),i(":"),Object.prototype.hasOwnProperty.call(I,L)&&o('Duplicate key "'+L+'"'),I[L]=_(),s(),n==="}")return i("}"),I;i(","),s()}}o("Bad object")}function _(){switch(s(),n){case"{":return p();case"[":return d();case'"':return c();case"-":return r();default:return n>="0"&&n<="9"?r():f()}}return ze=function(L,I){var P;return a=L,t=0,n=" ",P=_(),s(),n&&o("Syntax error"),typeof I=="function"?function H(F,R){var y,U,N=F[R];if(N&&typeof N=="object")for(y in _)Object.prototype.hasOwnProperty.call(N,y)&&(U=H(N,y),typeof U>"u"?delete N[y]:N[y]=U);return I.call(F,R,N)}({"":P},""):P},ze}var je,Kn;function Wa(){if(Kn)return je;Kn=1;var t=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,e,a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o;function i(c){return t.lastIndex=0,t.test(c)?'"'+c.replace(t,function(s){var f=a[s];return typeof f=="string"?f:"\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+c+'"'}function r(c,s){var f,d,p,_,L=n,I,P=s[c];switch(P&&typeof P=="object"&&typeof P.toJSON=="function"&&(P=P.toJSON(c)),typeof o=="function"&&(P=o.call(s,c,P)),typeof P){case"string":return i(P);case"number":return isFinite(P)?String(P):"null";case"boolean":case"null":return String(P);case"object":if(!P)return"null";if(n+=e,I=[],Object.prototype.toString.apply(P)==="[object Array]"){for(_=P.length,f=0;f<_;f+=1)I[f]=r(f,P)||"null";return p=I.length===0?"[]":n?`[
`+n+I.join(`,
`+n)+`
`+L+"]":"["+I.join(",")+"]",n=L,p}if(o&&typeof o=="object")for(_=o.length,f=0;f<_;f+=1)d=o[f],typeof d=="string"&&(p=r(d,P),p&&I.push(i(d)+(n?": ":":")+p));else for(d in P)Object.prototype.hasOwnProperty.call(P,d)&&(p=r(d,P),p&&I.push(i(d)+(n?": ":":")+p));return p=I.length===0?"{}":n?`{
`+n+I.join(`,
`+n)+`
`+L+"}":"{"+I.join(",")+"}",n=L,p}}return je=function(c,s,f){var d;if(n="",e="",typeof f=="number")for(d=0;d<f;d+=1)e+=" ";else typeof f=="string"&&(e=f);if(o=s,s&&typeof s!="function"&&(typeof s!="object"||typeof s.length!="number"))throw new Error("JSON.stringify");return r("",{"":c})},je}var xn;function Qa(){return xn||(xn=1,pe.parse=Ya(),pe.stringify=Wa()),pe}var Za={}.toString,Ja=Array.isArray||function(t){return Za.call(t)=="[object Array]"},wn=Object.prototype.toString,Bo=function(n){var e=wn.call(n),a=e==="[object Arguments]";return a||(a=e!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&wn.call(n.callee)==="[object Function]"),a},$e,Vn;function Xa(){if(Vn)return $e;Vn=1;var t;if(!Object.keys){var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,a=Bo,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),r=o.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(_){var L=_.constructor;return L&&L.prototype===_},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if(typeof window>"u")return!1;for(var _ in window)try{if(!f["$"+_]&&n.call(window,_)&&window[_]!==null&&typeof window[_]=="object")try{s(window[_])}catch{return!0}}catch{return!0}return!1}(),p=function(_){if(typeof window>"u"||!d)return s(_);try{return s(_)}catch{return!1}};t=function(L){var I=L!==null&&typeof L=="object",P=e.call(L)==="[object Function]",H=a(L),F=I&&e.call(L)==="[object String]",R=[];if(!I&&!P&&!H)throw new TypeError("Object.keys called on a non-object");var y=r&&P;if(F&&L.length>0&&!n.call(L,0))for(var U=0;U<L.length;++U)R.push(String(U));if(H&&L.length>0)for(var N=0;N<L.length;++N)R.push(String(N));else for(var v in L)!(y&&v==="prototype")&&n.call(L,v)&&R.push(String(v));if(i)for(var M=p(L),O=0;O<c.length;++O)!(M&&c[O]==="constructor")&&n.call(L,c[O])&&R.push(c[O]);return R}}return $e=t,$e}var qa=Array.prototype.slice,ti=Bo,zn=Object.keys,he=zn?function(n){return zn(n)}:Xa(),jn=Object.keys;he.shim=function(){if(Object.keys){var n=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);n||(Object.keys=function(a){return ti(a)?jn(qa.call(a)):jn(a)})}else Object.keys=he;return Object.keys||he};var ei=he,Ao={exports:{}},ni="Function.prototype.bind called on incompatible ",oi=Object.prototype.toString,ai=Math.max,ii="[object Function]",$n=function(n,e){for(var a=[],o=0;o<n.length;o+=1)a[o]=n[o];for(var i=0;i<e.length;i+=1)a[i+n.length]=e[i];return a},si=function(n,e){for(var a=[],o=e,i=0;o<n.length;o+=1,i+=1)a[i]=n[o];return a},ci=function(t,n){for(var e="",a=0;a<t.length;a+=1)e+=t[a],a+1<t.length&&(e+=n);return e},ri=function(n){var e=this;if(typeof e!="function"||oi.apply(e)!==ii)throw new TypeError(ni+e);for(var a=si(arguments,1),o,i=function(){if(this instanceof o){var d=e.apply(this,$n(a,arguments));return Object(d)===d?d:this}return e.apply(n,$n(a,arguments))},r=ai(0,e.length-a.length),c=[],s=0;s<r;s++)c[s]="$"+s;if(o=Function("binder","return function ("+ci(c,",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var f=function(){};f.prototype=e.prototype,o.prototype=new f,f.prototype=null}return o},li=ri,fn=Function.prototype.bind||li,fi=Error,ui=EvalError,di=RangeError,mi=ReferenceError,ho=SyntaxError,He=TypeError,Si=URIError,Ci=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var n={},e=Symbol("test"),a=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var o=42;n[e]=o;for(e in n)return!1;if(typeof Object.keys=="function"&&Object.keys(n).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(n).length!==0)return!1;var i=Object.getOwnPropertySymbols(n);if(i.length!==1||i[0]!==e||!Object.prototype.propertyIsEnumerable.call(n,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var r=Object.getOwnPropertyDescriptor(n,e);if(r.value!==o||r.enumerable!==!0)return!1}return!0},Yn=typeof Symbol<"u"&&Symbol,Ei=Ci,_i=function(){return typeof Yn!="function"||typeof Symbol!="function"||typeof Yn("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Ei()},Ye={__proto__:null,foo:{}},pi=Object,gi=function(){return{__proto__:Ye}.foo===Ye.foo&&!(Ye instanceof pi)},Ti=Function.prototype.call,Bi=Object.prototype.hasOwnProperty,Ai=fn,hi=Ai.call(Ti,Bi),X,Di=fi,bi=ui,Li=di,Oi=mi,ne=ho,Xt=He,Ii=Si,Do=Function,We=function(t){try{return Do('"use strict"; return ('+t+").constructor;")()}catch{}},Ht=Object.getOwnPropertyDescriptor;if(Ht)try{Ht({},"")}catch{Ht=null}var Qe=function(){throw new Xt},Ri=Ht?function(){try{return arguments.callee,Qe}catch{try{return Ht(arguments,"callee").get}catch{return Qe}}}():Qe,zt=_i(),Ui=gi(),ft=Object.getPrototypeOf||(Ui?function(t){return t.__proto__}:null),Wt={},Mi=typeof Uint8Array>"u"||!ft?X:ft(Uint8Array),Ft={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?X:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?X:ArrayBuffer,"%ArrayIteratorPrototype%":zt&&ft?ft([][Symbol.iterator]()):X,"%AsyncFromSyncIteratorPrototype%":X,"%AsyncFunction%":Wt,"%AsyncGenerator%":Wt,"%AsyncGeneratorFunction%":Wt,"%AsyncIteratorPrototype%":Wt,"%Atomics%":typeof Atomics>"u"?X:Atomics,"%BigInt%":typeof BigInt>"u"?X:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?X:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?X:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?X:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Di,"%eval%":eval,"%EvalError%":bi,"%Float32Array%":typeof Float32Array>"u"?X:Float32Array,"%Float64Array%":typeof Float64Array>"u"?X:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?X:FinalizationRegistry,"%Function%":Do,"%GeneratorFunction%":Wt,"%Int8Array%":typeof Int8Array>"u"?X:Int8Array,"%Int16Array%":typeof Int16Array>"u"?X:Int16Array,"%Int32Array%":typeof Int32Array>"u"?X:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":zt&&ft?ft(ft([][Symbol.iterator]())):X,"%JSON%":typeof JSON=="object"?JSON:X,"%Map%":typeof Map>"u"?X:Map,"%MapIteratorPrototype%":typeof Map>"u"||!zt||!ft?X:ft(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?X:Promise,"%Proxy%":typeof Proxy>"u"?X:Proxy,"%RangeError%":Li,"%ReferenceError%":Oi,"%Reflect%":typeof Reflect>"u"?X:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?X:Set,"%SetIteratorPrototype%":typeof Set>"u"||!zt||!ft?X:ft(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?X:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":zt&&ft?ft(""[Symbol.iterator]()):X,"%Symbol%":zt?Symbol:X,"%SyntaxError%":ne,"%ThrowTypeError%":Ri,"%TypedArray%":Mi,"%TypeError%":Xt,"%Uint8Array%":typeof Uint8Array>"u"?X:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?X:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?X:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?X:Uint32Array,"%URIError%":Ii,"%WeakMap%":typeof WeakMap>"u"?X:WeakMap,"%WeakRef%":typeof WeakRef>"u"?X:WeakRef,"%WeakSet%":typeof WeakSet>"u"?X:WeakSet};if(ft)try{null.error}catch(t){var ki=ft(ft(t));Ft["%Error.prototype%"]=ki}var yi=function t(n){var e;if(n==="%AsyncFunction%")e=We("async function () {}");else if(n==="%GeneratorFunction%")e=We("function* () {}");else if(n==="%AsyncGeneratorFunction%")e=We("async function* () {}");else if(n==="%AsyncGenerator%"){var a=t("%AsyncGeneratorFunction%");a&&(e=a.prototype)}else if(n==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&ft&&(e=ft(o.prototype))}return Ft[n]=e,e},Wn={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},fe=fn,ke=hi,Ni=fe.call(Function.call,Array.prototype.concat),Gi=fe.call(Function.apply,Array.prototype.splice),Qn=fe.call(Function.call,String.prototype.replace),ye=fe.call(Function.call,String.prototype.slice),Pi=fe.call(Function.call,RegExp.prototype.exec),vi=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Hi=/\\(\\)?/g,Fi=function(n){var e=ye(n,0,1),a=ye(n,-1);if(e==="%"&&a!=="%")throw new ne("invalid intrinsic syntax, expected closing `%`");if(a==="%"&&e!=="%")throw new ne("invalid intrinsic syntax, expected opening `%`");var o=[];return Qn(n,vi,function(i,r,c,s){o[o.length]=c?Qn(s,Hi,"$1"):r||i}),o},Ki=function(n,e){var a=n,o;if(ke(Wn,a)&&(o=Wn[a],a="%"+o[0]+"%"),ke(Ft,a)){var i=Ft[a];if(i===Wt&&(i=yi(a)),typeof i>"u"&&!e)throw new Xt("intrinsic "+n+" exists, but is not available. Please file an issue!");return{alias:o,name:a,value:i}}throw new ne("intrinsic "+n+" does not exist!")},ue=function(n,e){if(typeof n!="string"||n.length===0)throw new Xt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new Xt('"allowMissing" argument must be a boolean');if(Pi(/^%?[^%]*%?$/,n)===null)throw new ne("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var a=Fi(n),o=a.length>0?a[0]:"",i=Ki("%"+o+"%",e),r=i.name,c=i.value,s=!1,f=i.alias;f&&(o=f[0],Gi(a,Ni([0,1],f)));for(var d=1,p=!0;d<a.length;d+=1){var _=a[d],L=ye(_,0,1),I=ye(_,-1);if((L==='"'||L==="'"||L==="`"||I==='"'||I==="'"||I==="`")&&L!==I)throw new ne("property names with quotes must have matching quotes");if((_==="constructor"||!p)&&(s=!0),o+="."+_,r="%"+o+"%",ke(Ft,r))c=Ft[r];else if(c!=null){if(!(_ in c)){if(!e)throw new Xt("base intrinsic for "+n+" exists, but the property is not available.");return}if(Ht&&d+1>=a.length){var P=Ht(c,_);p=!!P,p&&"get"in P&&!("originalValue"in P.get)?c=P.get:c=c[_]}else p=ke(c,_),c=c[_];p&&!s&&(Ft[r]=c)}}return c},Ze,Zn;function un(){if(Zn)return Ze;Zn=1;var t=ue,n=t("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch{n=!1}return Ze=n,Ze}var xi=ue,De=xi("%Object.getOwnPropertyDescriptor%",!0);if(De)try{De([],"length")}catch{De=null}var bo=De,Jn=un(),wi=ho,jt=He,Xn=bo,Vi=function(n,e,a){if(!n||typeof n!="object"&&typeof n!="function")throw new jt("`obj` must be an object or a function`");if(typeof e!="string"&&typeof e!="symbol")throw new jt("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new jt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new jt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new jt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new jt("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,r=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,s=!!Xn&&Xn(n,e);if(Jn)Jn(n,e,{configurable:r===null&&s?s.configurable:!r,enumerable:o===null&&s?s.enumerable:!o,value:a,writable:i===null&&s?s.writable:!i});else if(c||!o&&!i&&!r)n[e]=a;else throw new wi("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},sn=un(),Lo=function(){return!!sn};Lo.hasArrayLengthDefineBug=function(){if(!sn)return null;try{return sn([],"length",{value:1}).length!==1}catch{return!0}};var zi=Lo,ji=ue,qn=Vi,$i=zi(),to=bo,eo=He,Yi=ji("%Math.floor%"),Wi=function(n,e){if(typeof n!="function")throw new eo("`fn` is not a function");if(typeof e!="number"||e<0||e>4294967295||Yi(e)!==e)throw new eo("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],o=!0,i=!0;if("length"in n&&to){var r=to(n,"length");r&&!r.configurable&&(o=!1),r&&!r.writable&&(i=!1)}return(o||i||!a)&&($i?qn(n,"length",e,!0,!0):qn(n,"length",e)),n};(function(t){var n=fn,e=ue,a=Wi,o=He,i=e("%Function.prototype.apply%"),r=e("%Function.prototype.call%"),c=e("%Reflect.apply%",!0)||n.call(r,i),s=un(),f=e("%Math.max%");t.exports=function(_){if(typeof _!="function")throw new o("a function is required");var L=c(n,r,arguments);return a(L,1+f(0,_.length-(arguments.length-1)),!0)};var d=function(){return c(n,i,arguments)};s?s(t.exports,"apply",{value:d}):t.exports.apply=d})(Ao);var Oo=Ao.exports,Io=ue,Ro=Oo,Qi=Ro(Io("String.prototype.indexOf")),Zi=function(n,e){var a=Io(n,!!e);return typeof a=="function"&&Qi(n,".prototype.")>-1?Ro(a):a},ge=(typeof JSON<"u"?JSON:Qa()).stringify,Ji=Ja,Xi=ei,qi=Oo,Uo=Zi,no=Uo("Array.prototype.join"),Je=Uo("Array.prototype.push"),oo=function(n,e){for(var a="",o=0;o<n;o+=1)a+=e;return a},ts=function(t,n,e){return e},es=function(n){var e=arguments.length>1?arguments[1]:void 0,a=e&&e.space||"";typeof a=="number"&&(a=oo(a," "));var o=!!e&&typeof e.cycles=="boolean"&&e.cycles,i=e&&e.replacer?qi(e.replacer):ts,r=typeof e=="function"?e:e&&e.cmp,c=r&&function(f){var d=r.length>2&&function(_){return f[_]};return function(p,_){return r({key:p,value:f[p]},{key:_,value:f[_]},d?{__proto__:null,get:d}:void 0)}},s=[];return function f(d,p,_,L){var I=a?`
`+oo(L,a):"",P=a?": ":":";if(_&&_.toJSON&&typeof _.toJSON=="function"&&(_=_.toJSON()),_=i(d,p,_),_!==void 0){if(typeof _!="object"||_===null)return ge(_);if(Ji(_)){for(var y=[],H=0;H<_.length;H++){var F=f(_,H,_[H],L+1)||ge(null);Je(y,I+a+F)}return"["+no(y,",")+I+"]"}if(s.indexOf(_)!==-1){if(o)return ge("__cycle__");throw new TypeError("Converting circular structure to JSON")}else Je(s,_);for(var R=Xi(_).sort(c&&c(_)),y=[],H=0;H<R.length;H++){var p=R[H],U=f(_,p,_[p],L+1);if(U){var N=ge(p)+P+U;Je(y,I+a+N)}}return s.splice(s.indexOf(_),1),"{"+no(y,",")+I+"}"}}({"":n},"",n,0)},ns=$a(es),dt=[];for(var Xe=0;Xe<256;++Xe)dt.push((Xe+256).toString(16).slice(1));function os(t,n=0){return(dt[t[n+0]]+dt[t[n+1]]+dt[t[n+2]]+dt[t[n+3]]+"-"+dt[t[n+4]]+dt[t[n+5]]+"-"+dt[t[n+6]]+dt[t[n+7]]+"-"+dt[t[n+8]]+dt[t[n+9]]+"-"+dt[t[n+10]]+dt[t[n+11]]+dt[t[n+12]]+dt[t[n+13]]+dt[t[n+14]]+dt[t[n+15]]).toLowerCase()}var Te,as=new Uint8Array(16);function is(){if(!Te&&(Te=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Te))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Te(as)}var ss=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ao={randomUUID:ss};function io(t,n,e){if(ao.randomUUID&&!n&&!t)return ao.randomUUID();t=t||{};var a=t.random||(t.rng||is)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,os(a)}const m={clone(t){return t&&JSON.parse(JSON.stringify(t))},objectHash(t){return ns(t)},sumArray:t=>t.reduce((n,e)=>n+e,0),precisionRound:(t,n=5)=>{const e=Math.pow(10,n);return Math.round(t*e)/e},calculateRelicMainStatValue:(t,n,e)=>nn.MainStatsValues[t][n].base+nn.MainStatsValues[t][n].increment*e,wrappedFixedT:t=>({get:t?J.getFixedT:cs}),flipStringMapping:t=>Object.fromEntries(Object.entries(t).map(([n,e])=>[e,n])),uuid:()=>io(),uuidAlphaOnly:()=>io().replace(/[^a-zA-Z0-9]/g,""),stripTrailingSlashes:t=>t.replace(/\/+$/,""),sleep:t=>new Promise(n=>setTimeout(n,t)),consoleWarnWrapper:t=>{t instanceof Error?console.warn(t.name,t.message):console.warn("An unknown error occurred",t)},validateUuid:t=>{const n=t.trim();return/^\d{9}$/.test(n)?n:null},smoothScrollNearest:(t,n=300)=>{const e=t.getBoundingClientRect(),a=document.documentElement||document.body,o=a.scrollTop,i=e.top+o,r=e.bottom+o,c=a.clientHeight;let s;if(e.top<0)s=i;else if(e.bottom>c)s=r-c+5;else return;const f=performance.now(),d=o,p=s-d;function _(L){const I=L-f,P=Math.min(I/n,1),H=P<.5?2*P*P:1-Math.pow(-2*P+2,2)/2;a.scrollTo(0,d+p*H),I<n&&requestAnimationFrame(_)}requestAnimationFrame(_)}},cs=()=>()=>"";var rs=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Arlan"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1008"),R=a(t,1,1.1),y=o(t,2.4,2.64),U=i(t,3.2,3.456),N=r(t,.72,.792),v={selfCurrentHpPercent:1},M={selfCurrentHpPercent:{id:"selfCurrentHpPercent",formItem:"slider",text:e("Content.selfCurrentHpPercent.text"),content:e("Content.selfCurrentHpPercent.content",{talentMissingHpDmgBoostMax:m.precisionRound(100*N)}),min:.01,max:1,percent:!0}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT],content:()=>Object.values(M),teammateContent:()=>[],defaults:()=>v,teammateDefaults:()=>({}),precomputeEffects:(O,h,T)=>{const B=h.characterConditionals;return O.ELEMENTAL_DMG.buff(Math.min(N,1-B.selfCurrentHpPercent),d),O.BASIC_ATK_SCALING.buff(R,c),O.SKILL_ATK_SCALING.buff(y,s),O.ULT_ATK_SCALING.buff(U,f),z(O,Y,t>=1&&B.selfCurrentHpPercent<=.5?.1:0,I),z(O,$,t>=6&&B.selfCurrentHpPercent<=.5?.2:0,F),O.BASIC_TOUGHNESS_DMG.buff(10,c),O.SKILL_TOUGHNESS_DMG.buff(20,s),O.ULT_TOUGHNESS_DMG.buff(20,f),O},finalizeCalculations:O=>{},gpuFinalizeCalculations:()=>""}},ls=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Asta"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1009"),R=i(t,50,52.8),y=r(t,.14,.154),U=.06,N=t>=1?5:4,v=a(t,1,1.1),M=o(t,.5,.55),O=a(t,.5,.55),h={talentBuffStacks:5,skillExtraDmgHits:N,ultSpdBuff:!0,fireDmgBoost:!0},T={talentBuffStacks:5,ultSpdBuff:!0,fireDmgBoost:!0},B={skillExtraDmgHits:{id:"skillExtraDmgHits",formItem:"slider",text:e("Content.skillExtraDmgHits.text"),content:e("Content.skillExtraDmgHits.content",{skillScaling:m.precisionRound(M*100),skillExtraDmgHitsMax:N}),min:0,max:N},talentBuffStacks:{id:"talentBuffStacks",formItem:"slider",text:e("Content.talentBuffStacks.text"),content:e("Content.talentBuffStacks.content",{talentStacksAtkBuff:m.precisionRound(100*y)}),min:0,max:5},ultSpdBuff:{id:"ultSpdBuff",formItem:"switch",text:e("Content.ultSpdBuff.text"),content:e("Content.ultSpdBuff.content",{ultSpdBuffValue:R})},fireDmgBoost:{id:"fireDmgBoost",formItem:"switch",text:e("Content.fireDmgBoost.text"),content:e("Content.fireDmgBoost.content")}},u={talentBuffStacks:B.talentBuffStacks,ultSpdBuff:B.ultSpdBuff,fireDmgBoost:B.fireDmgBoost};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.DOT],content:()=>Object.values(B),teammateContent:()=>Object.values(u),defaults:()=>h,teammateDefaults:()=>T,precomputeEffects:(C,E,S)=>{const b=E.characterConditionals;return C.DEF_P.buff(b.talentBuffStacks*U,_),C.ERR.buff(t>=4&&b.talentBuffStacks>=2?.15:0,H),C.BASIC_ATK_SCALING.buff(v,c),C.SKILL_ATK_SCALING.buff(M+b.skillExtraDmgHits*M,s),C.DOT_ATK_SCALING.buff(O,_),C.BASIC_TOUGHNESS_DMG.buff(10,c),C.SKILL_TOUGHNESS_DMG.buff(10+5*b.skillExtraDmgHits,s),C.DOT_CHANCE.set(.8,_),C},precomputeMutualEffects:(C,E,S)=>{const b=E.characterConditionals;C.SPD.buffTeam(b.ultSpdBuff?R:0,f),C.ATK_P.buffTeam(b.talentBuffStacks*y,d),C.FIRE_DMG_BOOST.buffTeam(b.fireDmgBoost?.18:0,_)},finalizeCalculations:C=>{},gpuFinalizeCalculations:()=>""}},fs=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.DanHeng"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1002"),R=r(t,.36,.396),y=a(t,1,1.1),U=o(t,2.6,2.86),N=i(t,4,4.32),v=i(t,1.2,1.296),M={talentPenBuff:!0,enemySlowed:!0,spdBuff:!0,e1EnemyHp50:!0},O={talentPenBuff:{id:"talentPenBuff",formItem:"switch",text:e("Content.talentPenBuff.text"),content:e("Content.talentPenBuff.content",{extraPenValue:m.precisionRound(100*R)})},enemySlowed:{id:"enemySlowed",formItem:"switch",text:e("Content.enemySlowed.text"),content:e("Content.enemySlowed.content")},spdBuff:{id:"spdBuff",formItem:"switch",text:e("Content.spdBuff.text"),content:e("Content.spdBuff.content")},e1EnemyHp50:{id:"e1EnemyHp50",formItem:"switch",text:e("Content.e1EnemyHp50.text"),content:e("Content.e1EnemyHp50.content"),disabled:t<1}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT],content:()=>Object.values(O),defaults:()=>M,precomputeEffects:(h,T,B)=>{const u=T.characterConditionals;return h.CR.buff(t>=1&&u.e1EnemyHp50?.12:0,I),h.SPD_P.buff(u.spdBuff?.2:0,_),h.BASIC_ATK_SCALING.buff(y,c),h.SKILL_ATK_SCALING.buff(U,s),h.ULT_ATK_SCALING.buff(N,f),h.ULT_ATK_SCALING.buff(u.enemySlowed?v:0,f),h.RES_PEN.buff(u.talentPenBuff?R:0,d),z(h,st,u.enemySlowed?.4:0,_),h.BASIC_TOUGHNESS_DMG.buff(10,c),h.SKILL_TOUGHNESS_DMG.buff(20,s),h.ULT_TOUGHNESS_DMG.buff(30,f),h},finalizeCalculations:h=>{},gpuFinalizeCalculations:()=>""}};const Mo=t=>t.BASIC_ADDITIONAL_DMG.buff(t.a[l.BASIC_ADDITIONAL_DMG_SCALING]*Zt(t,0),A.NONE),us=t=>t.ULT_ADDITIONAL_DMG.buff(t.a[l.ULT_ADDITIONAL_DMG_SCALING]*Zt(t,0),A.NONE),ds=()=>`x.BASIC_ADDITIONAL_DMG += x.BASIC_ADDITIONAL_DMG_SCALING * (x.ATK + (x.ATK_P_BOOST) * baseATK);
`,ms=()=>`x.ULT_ADDITIONAL_DMG += x.ULT_ADDITIONAL_DMG_SCALING * (x.ATK + (x.ATK_P_BOOST) * baseATK);
`,Ss=t=>t.BASIC_ADDITIONAL_DMG.buff(t.a[l.BASIC_ADDITIONAL_DMG_SCALING]*t.a[l.HP],A.NONE),Cs=t=>t.ULT_ADDITIONAL_DMG.buff(t.a[l.ULT_ADDITIONAL_DMG_SCALING]*t.a[l.HP],A.NONE),Es=t=>t.FUA_ADDITIONAL_DMG.buff(t.a[l.FUA_ADDITIONAL_DMG_SCALING]*t.a[l.HP],A.NONE),_s=()=>`x.BASIC_ADDITIONAL_DMG += x.BASIC_ADDITIONAL_DMG_SCALING * x.HP;
`,ps=()=>`x.ULT_ADDITIONAL_DMG += x.ULT_ADDITIONAL_DMG_SCALING * x.HP;
`,gs=()=>`x.FUA_ADDITIONAL_DMG += x.FUA_ADDITIONAL_DMG_SCALING * x.HP;
`;function At(t){t.BASIC_ADDITIONAL_DMG.buff(t.a[l.BASIC_ADDITIONAL_DMG_SCALING]*Zt(t,0),A.NONE),t.SKILL_ADDITIONAL_DMG.buff(t.a[l.SKILL_ADDITIONAL_DMG_SCALING]*Zt(t,0),A.NONE),t.ULT_ADDITIONAL_DMG.buff(t.a[l.ULT_ADDITIONAL_DMG_SCALING]*Zt(t,0),A.NONE),t.FUA_ADDITIONAL_DMG.buff(t.a[l.FUA_ADDITIONAL_DMG_SCALING]*Zt(t,0),A.NONE)}function bt(){return`
x.BASIC_ADDITIONAL_DMG += x.BASIC_ADDITIONAL_DMG_SCALING * (x.ATK + (x.ATK_P_BOOST) * baseATK);
x.SKILL_ADDITIONAL_DMG += x.SKILL_ADDITIONAL_DMG_SCALING * (x.ATK + (x.ATK_P_BOOST) * baseATK);
x.ULT_ADDITIONAL_DMG += x.ULT_ADDITIONAL_DMG_SCALING * (x.ATK + (x.ATK_P_BOOST) * baseATK);
x.FUA_ADDITIONAL_DMG += x.FUA_ADDITIONAL_DMG_SCALING * (x.ATK + (x.ATK_P_BOOST) * baseATK);
`}function Zt(t,n){return t.a[l.ATK]+(n+t.a[l.ATK_P_BOOST])*t.a[l.BASE_ATK]}function St(t,n,e,a){t.FUA_ATK_P_BOOST.buff(qt(t,n,e,a),A.NONE)}function mt(t){return`x.FUA_ATK_P_BOOST += calculateAshblazingSetP(sets.TheAshblazingGrandDuke, action.setConditionals.valueTheAshblazingGrandDuke, ${t});`}function de(t){t.HEAL_VALUE.buff(t.a[l.HEAL_SCALING]*t.a[l.HP]+t.a[l.HEAL_FLAT],A.NONE)}function ko(t){t.HEAL_VALUE.buff(t.a[l.HEAL_SCALING]*t.a[l.ATK]+t.a[l.HEAL_FLAT],A.NONE)}function Ts(t){t.HEAL_VALUE.buff(t.a[l.HEAL_FLAT],A.NONE)}function yo(){return`
x.HEAL_VALUE += x.HEAL_SCALING * x.ATK + x.HEAL_FLAT;
`}function me(){return`
x.HEAL_VALUE += x.HEAL_SCALING * x.HP + x.HEAL_FLAT;
`}function Bs(){return`
x.HEAL_VALUE += x.HEAL_FLAT;
`}function Fe(t){t.SHIELD_VALUE.buff(t.a[l.SHIELD_SCALING]*t.a[l.DEF]+t.a[l.SHIELD_FLAT],A.NONE)}function Ke(){return`
x.SHIELD_VALUE += x.SHIELD_SCALING * x.DEF + x.SHIELD_FLAT;
`}var As=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Herta"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1013"),R=a(t,1,1.1),y=o(t,1,1.1),U=i(t,2,2.16),N=r(t,.4,.43);function v(T,B){const u=1/T;if(B.enemyCount==1){let C=1,E=0;for(let S=0;S<T;S++)E+=u*C,C=Math.min(8,C+1);return E}if(B.enemyCount==3){let C=2,E=0;for(let S=0;S<T;S++)E+=u*C,C=Math.min(8,C+3);return E}if(B.enemyCount==5){let C=3,E=0;for(let S=0;S<T;S++)E+=u*C,C=Math.min(8,C+5);return E}return 1}function M(T,B){const u=T.characterConditionals,C=v(u.fuaStacks,B);return{1:.06*C,3:.06*C,5:.06*C}[B.enemyCount]}const O={fuaStacks:5,techniqueBuff:!1,targetFrozen:!0,e2TalentCritStacks:5,e6UltAtkBuff:!0,enemyHpGte50:!0,enemyHpLte50:!1},h={fuaStacks:{id:"fuaStacks",formItem:"slider",text:e("Content.fuaStacks.text"),content:e("Content.fuaStacks.content"),min:1,max:5},targetFrozen:{id:"targetFrozen",formItem:"switch",text:e("Content.targetFrozen.text"),content:e("Content.targetFrozen.content")},enemyHpGte50:{id:"enemyHpGte50",formItem:"switch",text:e("Content.enemyHpGte50.text"),content:e("Content.enemyHpGte50.content")},techniqueBuff:{id:"techniqueBuff",formItem:"switch",text:e("Content.techniqueBuff.text"),content:e("Content.techniqueBuff.content")},enemyHpLte50:{id:"enemyHpLte50",formItem:"switch",text:e("Content.enemyHpLte50.text"),content:e("Content.enemyHpLte50.content"),disabled:t<1},e2TalentCritStacks:{id:"e2TalentCritStacks",formItem:"slider",text:e("Content.e2TalentCritStacks.text"),content:e("Content.e2TalentCritStacks.content"),min:0,max:5,disabled:t<2},e6UltAtkBuff:{id:"e6UltAtkBuff",formItem:"switch",text:e("Content.e6UltAtkBuff.text"),content:e("Content.e6UltAtkBuff.content"),disabled:t<6}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.FUA],content:()=>Object.values(h),defaults:()=>O,precomputeEffects:(T,B,u)=>{const C=B.characterConditionals;return T.ATK_P.buff(C.techniqueBuff?.4:0,p),T.CR.buff(t>=2?C.e2TalentCritStacks*.03:0,P),T.ATK_P.buff(t>=6&&C.e6UltAtkBuff?.25:0,F),T.BASIC_ATK_SCALING.buff(R,c),T.BASIC_ADDITIONAL_DMG_SCALING.buff(t>=1&&C.enemyHpLte50?.4:0,I),T.SKILL_ATK_SCALING.buff(y,s),T.ULT_ATK_SCALING.buff(U,f),T.FUA_ATK_SCALING.buff(N*C.fuaStacks,d),z(T,Y,C.enemyHpGte50?.2:0,s),z(T,$,C.targetFrozen?.2:0,f),z(T,Z,t>=4?.1:0,H),T.BASIC_TOUGHNESS_DMG.buff(10,c),T.SKILL_TOUGHNESS_DMG.buff(10,s),T.ULT_TOUGHNESS_DMG.buff(20,f),T.FUA_TOUGHNESS_DMG.buff(5*C.fuaStacks,d),T},finalizeCalculations:(T,B,u)=>{St(T,B,u,M(B,u)),Mo(T)},gpuFinalizeCalculations:(T,B)=>mt(M(T,B))}},hs=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Himeko"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1003"),R=a(t,1,1.1),y=o(t,2,2.2),U=i(t,2.3,2.484),N=r(t,1.4,1.54),v=.3,M={1:.06*(1*.2+2*.2+3*.2+4*.4),3:.06*(2*.2+5*.2+8*.2+8*.4),5:.06*(3*.2+8*.2+8*.2+8*.4)},O={targetBurned:!0,selfCurrentHp80Percent:!0,e1TalentSpdBuff:!1,e2EnemyHp50DmgBoost:!0,e6UltExtraHits:2},h={targetBurned:{id:"targetBurned",formItem:"switch",text:e("Content.targetBurned.text"),content:e("Content.targetBurned.content")},selfCurrentHp80Percent:{id:"selfCurrentHp80Percent",formItem:"switch",text:e("Content.selfCurrentHp80Percent.text"),content:e("Content.selfCurrentHp80Percent.content")},e1TalentSpdBuff:{id:"e1TalentSpdBuff",formItem:"switch",text:e("Content.e1TalentSpdBuff.text"),content:e("Content.e1TalentSpdBuff.content"),disabled:t<1},e2EnemyHp50DmgBoost:{id:"e2EnemyHp50DmgBoost",formItem:"switch",text:e("Content.e2EnemyHp50DmgBoost.text"),content:e("Content.e2EnemyHp50DmgBoost.content"),disabled:t<2},e6UltExtraHits:{id:"e6UltExtraHits",formItem:"slider",text:e("Content.e6UltExtraHits.text"),content:e("Content.e6UltExtraHits.content"),min:0,max:2,disabled:t<6}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.FUA,G.DOT],content:()=>Object.values(h),defaults:()=>O,precomputeEffects:(T,B,u)=>{const C=B.characterConditionals;return T.CR.buff(C.selfCurrentHp80Percent?.15:0,_),T.SPD_P.buff(t>=1&&C.e1TalentSpdBuff?.2:0,I),T.BASIC_ATK_SCALING.buff(R,c),T.SKILL_ATK_SCALING.buff(y,s),T.ULT_ATK_SCALING.buff(U,f),T.ULT_ATK_SCALING.buff(t>=6?C.e6UltExtraHits*U*.4:0,F),T.FUA_ATK_SCALING.buff(N,d),T.DOT_ATK_SCALING.buff(v,_),z(T,Y,C.targetBurned?.2:0,_),T.ELEMENTAL_DMG.buff(t>=2&&C.e2EnemyHp50DmgBoost?.15:0,P),T.BASIC_TOUGHNESS_DMG.buff(10,c),T.SKILL_TOUGHNESS_DMG.buff(20,s),T.ULT_TOUGHNESS_DMG.buff(20,f),T.FUA_TOUGHNESS_DMG.buff(10,d),T.DOT_CHANCE.set(.5,_),T},finalizeCalculations:(T,B,u)=>{St(T,B,u,M[u.enemyCount])},gpuFinalizeCalculations:(T,B)=>mt(M[B.enemyCount])}},Ds=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Kafka"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1005"),R=a(t,1,1.1),y=o(t,1.6,1.76),U=i(t,.8,.864),N=r(t,1.4,1.596),v=i(t,2.9,3.183),M=.06*(1*.15+2*.15+3*.15+4*.15+5*.15+6*.25),O={e1DotDmgReceivedDebuff:!0,e2TeamDotBoost:!0},h={e1DotDmgReceivedDebuff:!0,e2TeamDotBoost:!0},T={e1DotDmgReceivedDebuff:{id:"e1DotDmgReceivedDebuff",formItem:"switch",text:e("Content.e1DotDmgReceivedDebuff.text"),content:e("Content.e1DotDmgReceivedDebuff.content"),disabled:t<1},e2TeamDotBoost:{id:"e2TeamDotBoost",formItem:"switch",text:e("Content.e2TeamDotBoost.text"),content:e("Content.e2TeamDotBoost.content"),disabled:t<2}},B={e1DotDmgReceivedDebuff:T.e1DotDmgReceivedDebuff,e2TeamDotBoost:T.e2TeamDotBoost};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.FUA,G.DOT],content:()=>Object.values(T),teammateContent:()=>Object.values(B),defaults:()=>O,teammateDefaults:()=>h,precomputeEffects:(u,C,E)=>{u.BASIC_ATK_SCALING.buff(R,c),u.SKILL_ATK_SCALING.buff(y,s),u.ULT_ATK_SCALING.buff(U,f),u.FUA_ATK_SCALING.buff(N,d),u.DOT_ATK_SCALING.buff(v,f),u.DOT_ATK_SCALING.buff(t>=6?1.56:0,F),u.BASIC_TOUGHNESS_DMG.buff(10,c),u.SKILL_TOUGHNESS_DMG.buff(20,s),u.ULT_TOUGHNESS_DMG.buff(20,f),u.FUA_TOUGHNESS_DMG.buff(10,d),u.DOT_CHANCE.set(1.3,_)},precomputeMutualEffects:(u,C,E)=>{const S=C.characterConditionals;gt(u,It,t>=1&&S.e1DotDmgReceivedDebuff?.3:0,I,ct.TEAM),z(u,It,t>=2&&S.e2TeamDotBoost?.25:0,P,ct.TEAM)},finalizeCalculations:(u,C,E)=>{St(u,C,E,M)},gpuFinalizeCalculations:(u,C)=>mt(M)}},bs=(t,n)=>{const{basic:e,skill:a,ult:o,talent:i}=V.ULT_BASIC_3_SKILL_TALENT_5,{SOURCE_BASIC:r,SOURCE_SKILL:c,SOURCE_ULT:s,SOURCE_TALENT:f,SOURCE_TECHNIQUE:d,SOURCE_TRACE:p,SOURCE_MEMO:_,SOURCE_E1:L,SOURCE_E2:I,SOURCE_E4:P,SOURCE_E6:H}=A.character("1001"),F=e(t,1,1.1),R=o(t,1.5,1.62),y=i(t,1,1.1),U=.06*(1*1/1),N=a(t,.57,.608),v=a(t,760,845.5);return{activeAbilities:[G.BASIC,G.ULT,G.FUA,G.DOT],content:()=>[],defaults:()=>({}),precomputeEffects:(M,O,h)=>(M.BASIC_ATK_SCALING.buff(F,r),M.ULT_ATK_SCALING.buff(R,s),M.FUA_ATK_SCALING.buff(y,f),M.FUA_DEF_SCALING.buff(t>=4?.3:0,P),M.BASIC_TOUGHNESS_DMG.buff(10,r),M.ULT_TOUGHNESS_DMG.buff(20,s),M.FUA_TOUGHNESS_DMG.buff(10,f),M.SHIELD_SCALING.buff(N,c),M.SHIELD_FLAT.buff(v,c),M),finalizeCalculations:(M,O,h)=>{St(M,O,h,U),Fe(M)},gpuFinalizeCalculations:(M,O)=>mt(U)+Ke()}},Ls=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.SilverWolf"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1006"),R=o(t,.1,.105),y=r(t,.08,.088),U=i(t,.45,.468),N=a(t,1,1.1),v=o(t,1.96,2.156),M=i(t,3.8,4.104),O={skillWeaknessResShredDebuff:!1,skillResShredDebuff:!0,talentDefShredDebuff:!0,ultDefShredDebuff:!0,targetDebuffs:5},h={skillWeaknessResShredDebuff:!1,skillResShredDebuff:!0,talentDefShredDebuff:!0,ultDefShredDebuff:!0,targetDebuffs:5},T={skillResShredDebuff:{id:"skillResShredDebuff",formItem:"switch",text:e("Content.skillResShredDebuff.text"),content:e("Content.skillResShredDebuff.content",{skillResShredValue:m.precisionRound(100*R)})},skillWeaknessResShredDebuff:{id:"skillWeaknessResShredDebuff",formItem:"switch",text:e("Content.skillWeaknessResShredDebuff.text"),content:e("Content.skillWeaknessResShredDebuff.content",{implantChance:m.precisionRound(o(t,85,87))})},talentDefShredDebuff:{id:"talentDefShredDebuff",formItem:"switch",text:e("Content.talentDefShredDebuff.text"),content:e("Content.talentDefShredDebuff.content",{talentDefShredDebuffValue:m.precisionRound(100*y)})},ultDefShredDebuff:{id:"ultDefShredDebuff",formItem:"switch",text:e("Content.ultDefShredDebuff.text"),content:e("Content.ultDefShredDebuff.content",{ultDefShredValue:m.precisionRound(100*U)})},targetDebuffs:{id:"targetDebuffs",formItem:"slider",text:e("Content.targetDebuffs.text"),content:e("Content.targetDebuffs.content"),min:0,max:5}},B={skillResShredDebuff:T.skillResShredDebuff,skillWeaknessResShredDebuff:T.skillWeaknessResShredDebuff,talentDefShredDebuff:T.talentDefShredDebuff,ultDefShredDebuff:T.ultDefShredDebuff,targetDebuffs:T.targetDebuffs};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT],content:()=>Object.values(T),teammateContent:()=>Object.values(B),defaults:()=>O,teammateDefaults:()=>h,precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;return u.BASIC_ATK_SCALING.buff(N,c),u.SKILL_ATK_SCALING.buff(v,s),u.ULT_ATK_SCALING.buff(M,f),u.ULT_ADDITIONAL_DMG_SCALING.buff(t>=4?S.targetDebuffs*.2:0,H),u.ELEMENTAL_DMG.buff(t>=6?S.targetDebuffs*.2:0,F),u.BASIC_TOUGHNESS_DMG.buff(10,c),u.SKILL_TOUGHNESS_DMG.buff(20,s),u.ULT_TOUGHNESS_DMG.buff(30,f),u},precomputeMutualEffects:(u,C,E)=>{const S=C.characterConditionals;u.RES_PEN.buffTeam(S.skillWeaknessResShredDebuff?.2:0,s),u.RES_PEN.buffTeam(S.skillResShredDebuff?R:0,s),u.RES_PEN.buffTeam(S.skillResShredDebuff&&S.targetDebuffs>=3?.03:0,_),u.DEF_PEN.buffTeam(S.ultDefShredDebuff?U:0,f),u.DEF_PEN.buffTeam(S.talentDefShredDebuff?y:0,d)},finalizeCalculations:(u,C,E)=>{At(u)},gpuFinalizeCalculations:()=>"x.ULT_ADDITIONAL_DMG += x.ULT_ADDITIONAL_DMG_SCALING * x.ATK;"}},Os=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Welt"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1004"),R=t>=6?3:2,y=a(t,1,1.1),U=o(t,.72,.792),N=i(t,1.5,1.62),v=r(t,.6,.66),M={enemyDmgTakenDebuff:{id:"enemyDmgTakenDebuff",formItem:"switch",text:e("Content.enemyDmgTakenDebuff.text"),content:e("Content.enemyDmgTakenDebuff.content")},enemySlowed:{id:"enemySlowed",formItem:"switch",text:e("Content.enemySlowed.text"),content:e("Content.enemySlowed.content",{talentScaling:m.precisionRound(100*v)})},skillExtraHits:{id:"skillExtraHits",formItem:"slider",text:e("Content.skillExtraHits.text"),content:e("Content.skillExtraHits.content",{skillScaling:m.precisionRound(100*U)}),min:0,max:R},e1EnhancedState:{id:"e1EnhancedState",formItem:"switch",text:e("Content.e1EnhancedState.text"),content:e("Content.e1EnhancedState.content"),disabled:t<1}},O={enemyDmgTakenDebuff:M.enemyDmgTakenDebuff},h={enemySlowed:!0,enemyDmgTakenDebuff:!0,skillExtraHits:R,e1EnhancedState:!0},T={enemyDmgTakenDebuff:!0};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT],content:()=>Object.values(M),teammateContent:()=>Object.values(O),defaults:()=>h,teammateDefaults:()=>T,precomputeEffects:(B,u,C)=>{const E=u.characterConditionals;return B.ELEMENTAL_DMG.buff(B.a[l.ENEMY_WEAKNESS_BROKEN]?.2:0,_),B.BASIC_ATK_SCALING.buff(y,c),B.SKILL_ATK_SCALING.buff(U,s),B.ULT_ATK_SCALING.buff(N,f),B.BASIC_ADDITIONAL_DMG_SCALING.buff(E.enemySlowed?v:0,d),B.SKILL_ADDITIONAL_DMG_SCALING.buff(E.enemySlowed?v:0,d),B.ULT_ADDITIONAL_DMG_SCALING.buff(E.enemySlowed?v:0,d),B.BASIC_ADDITIONAL_DMG_SCALING.buff(t>=1&&E.e1EnhancedState?.5*y:0,I),B.SKILL_ADDITIONAL_DMG_SCALING.buff(t>=1&&E.e1EnhancedState?.8*U:0,I),B.SKILL_ATK_SCALING.buff(E.skillExtraHits*U,s),B.BASIC_TOUGHNESS_DMG.buff(10,c),B.SKILL_TOUGHNESS_DMG.buff(10+10*E.skillExtraHits,s),B.ULT_TOUGHNESS_DMG.buff(20,f),B},precomputeMutualEffects:(B,u,C)=>{const E=u.characterConditionals;B.VULNERABILITY.buffTeam(E.enemyDmgTakenDebuff?.12:0,_)},finalizeCalculations:B=>{At(B)},gpuFinalizeCalculations:()=>bt()}};const Ne={[g.HP]:{stat:g.HP,key:l.HP,property:"HP",unconvertibleProperty:"UNCONVERTIBLE_HP_BUFF",unconvertibleKey:l.UNCONVERTIBLE_HP_BUFF,percentStat:g.HP_P,percentKey:l.HP_P,baseProperty:"baseHP"},[g.ATK]:{stat:g.ATK,key:l.ATK,property:"ATK",unconvertibleProperty:"UNCONVERTIBLE_ATK_BUFF",unconvertibleKey:l.UNCONVERTIBLE_ATK_BUFF,percentStat:g.ATK_P,percentKey:l.ATK_P,baseProperty:"baseATK"},[g.DEF]:{stat:g.DEF,key:l.DEF,property:"DEF",unconvertibleProperty:"UNCONVERTIBLE_DEF_BUFF",unconvertibleKey:l.UNCONVERTIBLE_DEF_BUFF,percentStat:g.DEF_P,percentKey:l.DEF_P,baseProperty:"baseDEF"},[g.SPD]:{stat:g.SPD,key:l.SPD,property:"SPD",unconvertibleProperty:"UNCONVERTIBLE_SPD_BUFF",unconvertibleKey:l.UNCONVERTIBLE_SPD_BUFF,percentStat:g.SPD_P,percentKey:l.SPD_P,baseProperty:"baseSPD"},[g.CR]:{stat:g.CR,key:l.CR,property:"CR",unconvertibleKey:l.UNCONVERTIBLE_CR_BUFF,unconvertibleProperty:"UNCONVERTIBLE_CR_BUFF"},[g.CD]:{stat:g.CD,key:l.CD,property:"CD",unconvertibleKey:l.UNCONVERTIBLE_CD_BUFF,unconvertibleProperty:"UNCONVERTIBLE_CD_BUFF"},[g.EHR]:{stat:g.EHR,key:l.EHR,property:"EHR",unconvertibleKey:l.UNCONVERTIBLE_EHR_BUFF,unconvertibleProperty:"UNCONVERTIBLE_EHR_BUFF"},[g.BE]:{stat:g.BE,key:l.BE,property:"BE",unconvertibleKey:l.UNCONVERTIBLE_BE_BUFF,unconvertibleProperty:"UNCONVERTIBLE_BE_BUFF"},[g.OHB]:{stat:g.OHB,key:l.OHB,property:"OHB",unconvertibleKey:l.UNCONVERTIBLE_OHB_BUFF,unconvertibleProperty:"UNCONVERTIBLE_OHB_BUFF"},[g.RES]:{stat:g.RES,key:l.RES,property:"RES",unconvertibleKey:l.UNCONVERTIBLE_RES_BUFF,unconvertibleProperty:"UNCONVERTIBLE_RES_BUFF"},[g.ERR]:{stat:g.ERR,key:l.ERR,property:"ERR",unconvertibleKey:l.UNCONVERTIBLE_ERR_BUFF,unconvertibleProperty:"UNCONVERTIBLE_ERR_BUFF"}};function Ct(t,n,e,a,o,i,r,c){var H;const s=Ne[t],f=Ne[n],d=a.a[s.key],p=a.a[s.unconvertibleKey]??0,_=o.conditionalState[e.id]??0,L=d-p;if(L<=0)return;const I=Math.max(0,c(L)),P=I-_;o.conditionalState[e.id]=I,(H=a[f.unconvertibleProperty])==null||H.buff(P,r),a[f.property].buffDynamic(P,r,o,i)}function Et(t,n,e,a,o,i,r,c="true"){const s=Ne[t],f=Ne[n];return ut(e,`
if (!(${r})) {
  return;
}

let stateValue: f32 = (*p_state).${e.id};
let convertibleValue: f32 = x.${s.property} - x.${s.unconvertibleProperty};

if (!(${c}) || convertibleValue <= 0) {
  return;
}

let buffFull = max(0, ${i});
let buffDelta = buffFull - stateValue;

(*p_state).${e.id} += buffDelta;

(*p_x).${f.unconvertibleProperty} += buffDelta;
(*p_x).${f.property} += buffDelta;
`)}var Is=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Bronya"),{basic:a,skill:o,ult:i}=V.ULT_TALENT_3_SKILL_BASIC_5,{SOURCE_BASIC:r,SOURCE_SKILL:c,SOURCE_ULT:s,SOURCE_TALENT:f,SOURCE_TECHNIQUE:d,SOURCE_TRACE:p,SOURCE_MEMO:_,SOURCE_E1:L,SOURCE_E2:I,SOURCE_E4:P,SOURCE_E6:H}=A.character("1101"),F=o(t,.66,.726),R=i(t,.55,.594),y=i(t,.16,.168),U=i(t,.2,.216),N=a(t,1,1.1),v=N*.8,M=.06*(1*1/1),O={teamDmgBuff:!0,skillBuff:!0,ultBuff:!0,battleStartDefBuff:!1,techniqueBuff:!1,e2SkillSpdBuff:!1},h={...O,teammateCDValue:2.5},T={teamDmgBuff:{id:"teamDmgBuff",formItem:"switch",text:e("Content.teamDmgBuff.text"),content:e("Content.teamDmgBuff.content")},skillBuff:{id:"skillBuff",formItem:"switch",text:e("Content.skillBuff.text"),content:e("Content.skillBuff.content",{skillDmgBoostValue:m.precisionRound(100*F)})},ultBuff:{id:"ultBuff",formItem:"switch",text:e("Content.ultBuff.text"),content:e("Content.ultBuff.content",{ultAtkBoostValue:m.precisionRound(100*R),ultCdBoostValue:m.precisionRound(100*y),ultCdBoostBaseValue:m.precisionRound(100*U)})},battleStartDefBuff:{id:"battleStartDefBuff",formItem:"switch",text:e("Content.battleStartDefBuff.text"),content:e("Content.battleStartDefBuff.content")},techniqueBuff:{id:"techniqueBuff",formItem:"switch",text:e("Content.techniqueBuff.text"),content:e("Content.techniqueBuff.content")},e2SkillSpdBuff:{id:"e2SkillSpdBuff",formItem:"switch",text:e("Content.e2SkillSpdBuff.text"),content:e("Content.e2SkillSpdBuff.content"),disabled:t<2}},B={teamDmgBuff:T.teamDmgBuff,skillBuff:T.skillBuff,ultBuff:T.ultBuff,battleStartDefBuff:T.battleStartDefBuff,techniqueBuff:T.techniqueBuff,teammateCDValue:{id:"teammateCDValue",formItem:"slider",text:e("TeammateContent.teammateCDValue.text"),content:e("TeammateContent.teammateCDValue.content",{ultAtkBoostValue:m.precisionRound(100*R),ultCdBoostValue:m.precisionRound(100*y),ultCdBoostBaseValue:m.precisionRound(100*U)}),min:0,max:4,percent:!0},e2SkillSpdBuff:T.e2SkillSpdBuff};return{activeAbilities:[G.BASIC,G.FUA],content:()=>Object.values(T),teammateContent:()=>Object.values(B),defaults:()=>O,teammateDefaults:()=>h,precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;po(u,st,1,p),u.BASIC_ATK_SCALING.buff(N,r),u.FUA_ATK_SCALING.buff(t>=4?v:0,P),S.ultBuff&&(u.CD.buff(U,s),u.UNCONVERTIBLE_CD_BUFF.buff(U,s)),u.BASIC_TOUGHNESS_DMG.buff(10,r),u.FUA_TOUGHNESS_DMG.buff(t>=4?10:0,P)},precomputeMutualEffects:(u,C,E)=>{const S=C.characterConditionals;u.DEF_P.buffTeam(S.battleStartDefBuff?.2:0,p),u.SPD_P.buffSingle(S.e2SkillSpdBuff?.3:0,I),u.ATK_P.buffTeam(S.techniqueBuff?.15:0,d),u.ATK_P.buffTeam(S.ultBuff?R:0,s),u.ELEMENTAL_DMG.buffTeam(S.teamDmgBuff?.1:0,p),u.ELEMENTAL_DMG.buffSingle(S.skillBuff?F:0,c)},precomputeTeammateEffects:(u,C,E)=>{const S=C.characterConditionals,b=S.ultBuff?y*S.teammateCDValue+U:0;u.CD.buffTeam(b,s),u.UNCONVERTIBLE_CD_BUFF.buffTeam(b,s)},finalizeCalculations:(u,C,E)=>{St(u,C,E,M)},gpuFinalizeCalculations:(u,C)=>mt(M),dynamicConditionals:[{id:"BronyaCdConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.CD],chainsTo:[g.CD],condition:function(u,C,E){return C.characterConditionals.ultBuff},effect:function(u,C,E){Ct(g.CD,g.CD,this,u,C,E,s,S=>S*y)},gpu:function(u,C){const E=u.characterConditionals;return Et(g.CD,g.CD,this,u,C,`${y} * convertibleValue`,`${nt(E.ultBuff)}`)}}]}},Rs=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Clara"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1107"),R=i(t,.25,.27),y=i(t,1.6,1.728),U=a(t,1,1.1),N=o(t,1.2,1.32),v=r(t,1.6,1.76),M={1:.06*(1*1/1),3:.06*(2*1/1),5:.06*(2*1/1)},O=.06*(1*1/1),h={ultBuff:!0,talentEnemyMarked:!0,e2UltAtkBuff:!0,e4DmgReductionBuff:!0},T={ultBuff:{id:"ultBuff",formItem:"switch",text:e("Content.ultBuff.text"),content:e("Content.ultBuff.content",{ultFuaExtraScaling:m.precisionRound(100*y),ultDmgReductionValue:m.precisionRound(100*R)})},talentEnemyMarked:{id:"talentEnemyMarked",formItem:"switch",text:e("Content.talentEnemyMarked.text"),content:e("Content.talentEnemyMarked.content",{skillScaling:m.precisionRound(100*N)})},e2UltAtkBuff:{id:"e2UltAtkBuff",formItem:"switch",text:e("Content.e2UltAtkBuff.text"),content:e("Content.e2UltAtkBuff.content"),disabled:t<2},e4DmgReductionBuff:{id:"e4DmgReductionBuff",formItem:"switch",text:e("Content.e4DmgReductionBuff.text"),content:e("Content.e4DmgReductionBuff.content"),disabled:t<4}};return{activeAbilities:[G.BASIC,G.SKILL,G.FUA],content:()=>Object.values(T),defaults:()=>h,precomputeEffects:(B,u,C)=>{const E=u.characterConditionals;return B.ATK_P.buff(t>=2&&E.e2UltAtkBuff?.3:0,P),B.BASIC_ATK_SCALING.buff(U,c),B.SKILL_ATK_SCALING.buff(N,s),B.SKILL_ATK_SCALING.buff(E.talentEnemyMarked?N:0,s),B.FUA_ATK_SCALING.buff(v,d),B.FUA_ATK_SCALING.buff(E.ultBuff?y:0,f),B.DMG_RED_MULTI.multiply(1-.1,d),B.DMG_RED_MULTI.multiply(E.ultBuff?1-R:1,f),B.DMG_RED_MULTI.multiply(t>=4&&E.e4DmgReductionBuff?1-.3:1,H),z(B,Z,.3,_),B.BASIC_TOUGHNESS_DMG.buff(10,c),B.SKILL_TOUGHNESS_DMG.buff(10,s),B.FUA_TOUGHNESS_DMG.buff(10,d),B},finalizeCalculations:(B,u,C)=>{const S=u.characterConditionals.ultBuff?M[C.enemyCount]:O;St(B,u,C,S)},gpuFinalizeCalculations:(B,u)=>{const E=B.characterConditionals.ultBuff?M[u.enemyCount]:O;return mt(E)}}},Us=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Gepard"),{basic:a,skill:o,ult:i}=V.ULT_TALENT_3_SKILL_BASIC_5,{SOURCE_BASIC:r,SOURCE_SKILL:c,SOURCE_ULT:s,SOURCE_TALENT:f,SOURCE_TECHNIQUE:d,SOURCE_TRACE:p,SOURCE_MEMO:_,SOURCE_E1:L,SOURCE_E2:I,SOURCE_E4:P,SOURCE_E6:H}=A.character("1104"),F=a(t,1,1.1),R=o(t,2,2.2),y=i(t,.45,.48),U=i(t,600,667.5),N={e4TeamResBuff:!0},v={e4TeamResBuff:!0},M={e4TeamResBuff:{id:"e4TeamResBuff",formItem:"switch",text:e("Content.e4TeamResBuff.text"),content:e("Content.e4TeamResBuff.content"),disabled:t<4}},O={e4TeamResBuff:M.e4TeamResBuff};return{activeAbilities:[G.BASIC,G.SKILL],content:()=>Object.values(M),teammateContent:()=>Object.values(O),defaults:()=>N,teammateDefaults:()=>v,precomputeEffects:(h,T,B)=>(h.BASIC_ATK_SCALING.buff(F,r),h.SKILL_ATK_SCALING.buff(R,c),h.BASIC_TOUGHNESS_DMG.buff(10,r),h.SKILL_TOUGHNESS_DMG.buff(20,c),h.SHIELD_SCALING.buff(y,s),h.SHIELD_FLAT.buff(U,s),h),precomputeMutualEffects:(h,T,B)=>{const u=T.characterConditionals;h.RES.buffTeam(t>=4&&u.e4TeamResBuff?.2:0,P)},finalizeCalculations:h=>{Fe(h)},gpuFinalizeCalculations:()=>Ke(),dynamicConditionals:[{id:"GepardConversionConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.DEF],chainsTo:[g.ATK],condition:function(h,T,B){return!0},effect:function(h,T,B){Ct(g.DEF,g.ATK,this,h,T,B,p,u=>u*.35)},gpu:function(h,T){return Et(g.DEF,g.ATK,this,h,T,"0.35 * convertibleValue","true")}}]}},Ms=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Hook"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1109"),R=r(t,1,1.1),y=a(t,1,1.1),U=o(t,2.4,2.64),N=o(t,2.8,3.08),v=i(t,4,4.32),M=o(t,.65,.715),O={enhancedSkill:!0,targetBurned:!0},h={enhancedSkill:{id:"enhancedSkill",formItem:"switch",text:e("Content.enhancedSkill.text"),content:e("Content.enhancedSkill.content",{skillEnhancedScaling:m.precisionRound(100*N)})},targetBurned:{id:"targetBurned",formItem:"switch",text:e("Content.targetBurned.text"),content:e("Content.targetBurned.content",{targetBurnedExtraScaling:m.precisionRound(100*R)})}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.DOT],content:()=>Object.values(h),defaults:()=>O,precomputeEffects:(T,B,u)=>{const C=B.characterConditionals;return T.BASIC_ATK_SCALING.buff(y,c),T.SKILL_ATK_SCALING.buff(C.enhancedSkill?N:U,s),T.ULT_ATK_SCALING.buff(v,f),T.BASIC_ADDITIONAL_DMG_SCALING.buff(C.targetBurned?R:0,d),T.SKILL_ADDITIONAL_DMG_SCALING.buff(C.targetBurned?R:0,d),T.ULT_ADDITIONAL_DMG_SCALING.buff(C.targetBurned?R:0,d),T.DOT_ATK_SCALING.buff(M,s),z(T,Y,t>=1&&C.enhancedSkill?.2:0,I),T.ELEMENTAL_DMG.buff(t>=6&&C.targetBurned?.2:0,F),T.BASIC_TOUGHNESS_DMG.buff(10,c),T.SKILL_TOUGHNESS_DMG.buff(20,s),T.ULT_TOUGHNESS_DMG.buff(30,f),T.DOT_CHANCE.set(1,s),T},finalizeCalculations:(T,B,u)=>{At(T)},gpuFinalizeCalculations:()=>bt()}},ks=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Luka"),{basic:a,skill:o,ult:i}=V.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:r,SOURCE_SKILL:c,SOURCE_ULT:s,SOURCE_TALENT:f,SOURCE_TECHNIQUE:d,SOURCE_TRACE:p,SOURCE_MEMO:_,SOURCE_E1:L,SOURCE_E2:I,SOURCE_E4:P,SOURCE_E6:H}=A.character("1111"),F=a(t,.2,.22),R=i(t,.2,.216),y=a(t,1,1.1),U=a(t,.2*3+.8,.22*3+.88),N=o(t,1.2,1.32),v=i(t,3.3,3.564),M=o(t,3.38,3.718),O={basicEnhanced:!0,targetUltDebuffed:!0,e1TargetBleeding:!0,basicEnhancedExtraHits:3,e4TalentStacks:4},h={targetUltDebuffed:!0},T={basicEnhanced:{id:"basicEnhanced",formItem:"switch",text:e("Content.basicEnhanced.text"),content:e("Content.basicEnhanced.content")},targetUltDebuffed:{id:"targetUltDebuffed",formItem:"switch",text:e("Content.targetUltDebuffed.text"),content:e("Content.targetUltDebuffed.content",{targetUltDebuffDmgTakenValue:m.precisionRound(100*R)})},basicEnhancedExtraHits:{id:"basicEnhancedExtraHits",formItem:"slider",text:e("Content.basicEnhancedExtraHits.text"),content:e("Content.basicEnhancedExtraHits.content"),min:0,max:3},e1TargetBleeding:{id:"e1TargetBleeding",formItem:"switch",text:e("Content.e1TargetBleeding.text"),content:e("Content.e1TargetBleeding.content"),disabled:t<1},e4TalentStacks:{id:"e4TalentStacks",formItem:"slider",text:e("Content.e4TalentStacks.text"),content:e("Content.e4TalentStacks.content"),min:0,max:4,disabled:t<4}},B={targetUltDebuffed:T.targetUltDebuffed};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.DOT],content:()=>Object.values(T),teammateContent:()=>Object.values(B),defaults:()=>O,teammateDefaults:()=>h,precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;return u.ATK_P.buff(t>=4?S.e4TalentStacks*.05:0,P),u.BASIC_ATK_SCALING.buff(S.basicEnhanced?U:y,r),u.BASIC_ATK_SCALING.buff((S.basicEnhanced&&S.basicEnhancedExtraHits)*F,r),u.SKILL_ATK_SCALING.buff(N,c),u.ULT_ATK_SCALING.buff(v,s),u.DOT_ATK_SCALING.buff(M,c),u.ELEMENTAL_DMG.buff(t>=1&&S.e1TargetBleeding?.15:0,L),u.BASIC_TOUGHNESS_DMG.buff(S.basicEnhanced?20:10,r),u.SKILL_TOUGHNESS_DMG.buff(20,c),u.ULT_TOUGHNESS_DMG.buff(30,s),u.DOT_CHANCE.set(1,c),u},precomputeMutualEffects:(u,C,E)=>{const S=C.characterConditionals;u.VULNERABILITY.buffTeam(S.targetUltDebuffed?R:0,s)},finalizeCalculations:u=>{},gpuFinalizeCalculations:()=>""}},ys=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Lynx"),a=m.wrappedFixedT(n).get(null,"conditionals","Common.HealAbility"),{basic:o,skill:i,ult:r,talent:c}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:s,SOURCE_SKILL:f,SOURCE_ULT:d,SOURCE_TALENT:p,SOURCE_TECHNIQUE:_,SOURCE_TRACE:L,SOURCE_MEMO:I,SOURCE_E1:P,SOURCE_E2:H,SOURCE_E4:F,SOURCE_E6:R}=A.character("1110"),y=i(t,.075,.08),U=i(t,200,223),N=o(t,.5,.55),v=i(t,.12,.128),M=i(t,320,356),O=r(t,.135,.144),h=r(t,360,400.5),T=c(t,.036,.0384),B=c(t,96,106.8),u=t>=4?.03:0,C={healAbility:{id:"healAbility",formItem:"select",text:a("Text"),content:a("Content"),options:[{display:a("Skill"),value:Y,label:a("Skill")},{display:a("Ult"),value:$,label:a("Ult")},{display:a("Talent"),value:0,label:a("Talent")}],fullWidth:!0},skillBuff:{id:"skillBuff",formItem:"switch",text:e("Content.skillBuff.text"),content:e("Content.skillBuff.content",{skillHpPercentBuff:m.precisionRound(100*y),skillHpFlatBuff:U})}},E={skillBuff:C.skillBuff,teammateHPValue:{id:"teammateHPValue",formItem:"slider",text:e("TeammateContent.teammateHPValue.text"),content:e("TeammateContent.teammateHPValue.content",{skillHpPercentBuff:m.precisionRound(100*y),skillHpFlatBuff:U}),min:0,max:1e4}},S={healAbility:$,skillBuff:!0},b={skillBuff:!0,teammateHPValue:6e3};return{activeAbilities:[G.BASIC],content:()=>Object.values(C),teammateContent:()=>Object.values(E),defaults:()=>S,teammateDefaults:()=>b,precomputeEffects:(k,D,K)=>{const x=D.characterConditionals;return k.BASIC_HP_SCALING.buff(N,s),k.BASIC_TOUGHNESS_DMG.buff(10,s),x.healAbility==Y&&(k.HEAL_TYPE.set(Y,f),k.HEAL_SCALING.buff(v,f),k.HEAL_FLAT.buff(M,f)),x.healAbility==$&&(k.HEAL_TYPE.set($,d),k.HEAL_SCALING.buff(O,d),k.HEAL_FLAT.buff(h,d)),x.healAbility==0&&(k.HEAL_TYPE.set(0,p),k.HEAL_SCALING.buff(T,p),k.HEAL_FLAT.buff(B,p)),x.skillBuff&&(k.HP.buff(U,f),k.UNCONVERTIBLE_HP_BUFF.buff(U,f)),k},precomputeMutualEffects:(k,D,K)=>{const x=D.characterConditionals;k.RES.buffTeam(t>=6&&x.skillBuff?.3:0,R)},precomputeTeammateEffects:(k,D,K)=>{const x=D.characterConditionals;k.HP.buffTeam(x.skillBuff?y*x.teammateHPValue:0,f),k.HP.buffTeam(x.skillBuff?U:0,f),k.HP.buffTeam(t>=6&&x.skillBuff?.06*x.teammateHPValue:0,R);const w=t>=4&&x.skillBuff?.03*x.teammateHPValue:0;k.ATK.buffTeam(w,F)},finalizeCalculations:(k,D,K)=>{de(k)},gpuFinalizeCalculations:()=>me(),dynamicConditionals:[{id:"LynxHpConversionConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.HP],chainsTo:[g.HP],condition:function(k,D,K){return D.characterConditionals.skillBuff},effect:function(k,D,K){const x=y+(t>=6?.06:0);Ct(g.HP,g.HP,this,k,D,K,f,w=>w*x)},gpu:function(k,D){const K=k.characterConditionals,x=y+(t>=6?.06:0);return Et(g.HP,g.HP,this,k,D,`${x} * convertibleValue`,`${nt(K.skillBuff)}`)}},{id:"LynxHpAtkConversionConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.HP],chainsTo:[g.ATK],condition:function(k,D,K){return D.characterConditionals.skillBuff},effect:function(k,D,K){Ct(g.HP,g.ATK,this,k,D,K,F,x=>x*u)},gpu:function(k,D){const K=k.characterConditionals;return Et(g.HP,g.ATK,this,k,D,`${u} * convertibleValue`,`${nt(K.skillBuff)}`)}}]}},Ns=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Common.HealAbility"),{basic:a,skill:o,ult:i}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:r,SOURCE_SKILL:c,SOURCE_ULT:s,SOURCE_TALENT:f,SOURCE_TECHNIQUE:d,SOURCE_TRACE:p,SOURCE_MEMO:_,SOURCE_E1:L,SOURCE_E2:I,SOURCE_E4:P,SOURCE_E6:H}=A.character("1105"),F=a(t,1,1.1),R=i(t,.138,.1472),y=i(t,368,409.4),U=o(t,.105,.112),N=o(t,280,311.5),v={healAbility:{id:"healAbility",formItem:"select",text:e("Text"),content:e("Content"),options:[{display:e("Skill"),value:Y,label:e("Skill")},{display:e("Ult"),value:$,label:e("Ult")}],fullWidth:!0}},M={healAbility:$};return{activeAbilities:[G.BASIC],content:()=>Object.values(v),defaults:()=>M,precomputeEffects:(O,h,T)=>{const B=h.characterConditionals;return O.OHB.buff(.1,p),O.BASIC_ATK_SCALING.buff(F,r),O.BASIC_HP_SCALING.buff(t>=6?.4:0,H),O.BASIC_TOUGHNESS_DMG.buff(10,r),B.healAbility==Y&&(O.HEAL_TYPE.set(Y,c),O.HEAL_SCALING.buff(U,c),O.HEAL_FLAT.buff(N,c)),B.healAbility==$&&(O.HEAL_TYPE.set($,s),O.HEAL_SCALING.buff(R,s),O.HEAL_FLAT.buff(y,s)),O},finalizeCalculations:(O,h,T)=>{de(O)},gpuFinalizeCalculations:()=>me()}},Gs=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Pela"),{basic:a,skill:o,ult:i}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:r,SOURCE_SKILL:c,SOURCE_ULT:s,SOURCE_TALENT:f,SOURCE_TECHNIQUE:d,SOURCE_TRACE:p,SOURCE_MEMO:_,SOURCE_E1:L,SOURCE_E2:I,SOURCE_E4:P,SOURCE_E6:H}=A.character("1106"),F=i(t,.4,.42),R=a(t,1,1.1),y=o(t,2.1,2.31),U=i(t,1,1.08),N={teamEhrBuff:!0,enemyDebuffed:!0,skillRemovedBuff:!1,ultDefPenDebuff:!0,e4SkillResShred:!0},v={teamEhrBuff:!0,ultDefPenDebuff:!0,e4SkillResShred:!0},M={teamEhrBuff:{id:"teamEhrBuff",formItem:"switch",text:e("Content.teamEhrBuff.text"),content:e("Content.teamEhrBuff.content")},enemyDebuffed:{id:"enemyDebuffed",formItem:"switch",text:e("Content.enemyDebuffed.text"),content:e("Content.enemyDebuffed.content")},skillRemovedBuff:{id:"skillRemovedBuff",formItem:"switch",text:e("Content.skillRemovedBuff.text"),content:e("Content.skillRemovedBuff.content")},ultDefPenDebuff:{id:"ultDefPenDebuff",formItem:"switch",text:e("Content.ultDefPenDebuff.text"),content:e("Content.ultDefPenDebuff.content",{ultDefPenValue:m.precisionRound(100*F)})},e4SkillResShred:{id:"e4SkillResShred",formItem:"switch",text:e("Content.e4SkillResShred.text"),content:e("Content.e4SkillResShred.content"),disabled:t<4}},O={teamEhrBuff:M.teamEhrBuff,ultDefPenDebuff:M.ultDefPenDebuff,e4SkillResShred:M.e4SkillResShred};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT],content:()=>Object.values(M),teammateContent:()=>Object.values(O),defaults:()=>N,teammateDefaults:()=>v,precomputeEffects:(h,T,B)=>{const u=T.characterConditionals;return h.SPD_P.buff(t>=2&&u.skillRemovedBuff?.1:0,I),h.BASIC_ATK_SCALING.buff(R,r),h.SKILL_ATK_SCALING.buff(y,c),h.ULT_ATK_SCALING.buff(U,s),z(h,st|Y|$,u.skillRemovedBuff?.2:0,p),h.ELEMENTAL_DMG.buff(u.enemyDebuffed?.2:0,p),h.BASIC_TOUGHNESS_DMG.buff(10,r),h.SKILL_TOUGHNESS_DMG.buff(20,c),h.ULT_TOUGHNESS_DMG.buff(20,s),h.BASIC_ADDITIONAL_DMG_SCALING.buff(t>=6&&u.enemyDebuffed?.4:0,f),h.SKILL_ADDITIONAL_DMG_SCALING.buff(t>=6&&u.enemyDebuffed?.4:0,f),h.ULT_ADDITIONAL_DMG_SCALING.buff(t>=6&&u.enemyDebuffed?.4:0,f),h},precomputeMutualEffects:(h,T,B)=>{const u=T.characterConditionals;h.EHR.buffTeam(u.teamEhrBuff?.1:0,p),h.DEF_PEN.buffTeam(u.ultDefPenDebuff?F:0,s),h.ICE_RES_PEN.buffTeam(t>=4&&u.e4SkillResShred?.12:0,P)},finalizeCalculations:(h,T,B)=>{At(h)},gpuFinalizeCalculations:()=>bt()}},Ps=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Sampo"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1108"),R=i(t,.3,.32),y=a(t,1,1.1),U=o(t,.56,.616),N=i(t,1.6,1.728),v=r(t,.52,.572),M=t<1?4:5,O={targetDotTakenDebuff:!0,skillExtraHits:M,targetWindShear:!0},h={targetDotTakenDebuff:!0},T={targetDotTakenDebuff:{id:"targetDotTakenDebuff",formItem:"switch",text:e("Content.targetDotTakenDebuff.text"),content:e("Content.targetDotTakenDebuff.content",{dotVulnerabilityValue:m.precisionRound(100*R)})},skillExtraHits:{id:"skillExtraHits",formItem:"slider",text:e("Content.skillExtraHits.text"),content:e("Content.skillExtraHits.content"),min:1,max:M},targetWindShear:{id:"targetWindShear",formItem:"switch",text:e("Content.targetWindShear.text"),content:e("Content.targetWindShear.content")}},B={targetDotTakenDebuff:T.targetDotTakenDebuff};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.DOT],content:()=>Object.values(T),teammateContent:()=>Object.values(B),defaults:()=>O,teammateDefaults:()=>h,precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;return u.BASIC_ATK_SCALING.buff(y,c),u.SKILL_ATK_SCALING.buff(U,s),u.SKILL_ATK_SCALING.buff(S.skillExtraHits*U,s),u.ULT_ATK_SCALING.buff(N,f),u.DOT_ATK_SCALING.buff(v,d),u.DOT_ATK_SCALING.buff(t>=6?.15:0,F),u.DMG_RED_MULTI.multiply(S.targetWindShear?1-.15:1,_),u.BASIC_TOUGHNESS_DMG.buff(10,c),u.SKILL_TOUGHNESS_DMG.buff(10+5*S.skillExtraHits,s),u.ULT_TOUGHNESS_DMG.buff(20,f),u.DOT_CHANCE.set(.65,d),u},precomputeMutualEffects:(u,C,E)=>{const S=C.characterConditionals;gt(u,It,S.targetDotTakenDebuff?R:0,f,ct.TEAM)},finalizeCalculations:u=>{},gpuFinalizeCalculations:()=>""}},vs=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Seele"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1102"),R=r(t,.8,.88),y=t>=2?2:1,U=a(t,1,1.1),N=o(t,2.2,2.42),v=i(t,4.25,4.59),M={buffedState:!0,speedBoostStacks:y,e1EnemyHp80CrBoost:!1,e6UltTargetDebuff:!0},O={buffedState:{id:"buffedState",formItem:"switch",text:e("Content.buffedState.text"),content:e("Content.buffedState.content",{buffedStateDmgBuff:m.precisionRound(100*R)})},speedBoostStacks:{id:"speedBoostStacks",formItem:"slider",text:e("Content.speedBoostStacks.text"),content:e("Content.speedBoostStacks.content"),min:0,max:y},e1EnemyHp80CrBoost:{id:"e1EnemyHp80CrBoost",formItem:"switch",text:e("Content.e1EnemyHp80CrBoost.text"),content:e("Content.e1EnemyHp80CrBoost.content"),disabled:t<1},e6UltTargetDebuff:{id:"e6UltTargetDebuff",formItem:"switch",text:e("Content.e6UltTargetDebuff.text"),content:e("Content.e6UltTargetDebuff.content"),disabled:t<6}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT],content:()=>Object.values(O),defaults:()=>M,precomputeEffects:(h,T,B)=>{const u=T.characterConditionals;return h.CR.buff(t>=1&&u.e1EnemyHp80CrBoost?.15:0,I),h.SPD_P.buff(.25*u.speedBoostStacks,s),h.BASIC_ATK_SCALING.buff(U,c),h.SKILL_ATK_SCALING.buff(N,s),h.ULT_ATK_SCALING.buff(v,f),h.BASIC_ADDITIONAL_DMG_SCALING.buff(t>=6&&u.e6UltTargetDebuff?.15*h.a[l.ULT_ATK_SCALING]:0,A.NONE),h.SKILL_ADDITIONAL_DMG_SCALING.buff(t>=6&&u.e6UltTargetDebuff?.15*h.a[l.ULT_ATK_SCALING]:0,A.NONE),h.ULT_ADDITIONAL_DMG_SCALING.buff(t>=6&&u.e6UltTargetDebuff?.15*h.a[l.ULT_ATK_SCALING]:0,A.NONE),h.ELEMENTAL_DMG.buff(u.buffedState?R:0,d),h.RES_PEN.buff(u.buffedState?.2:0,_),h.BASIC_TOUGHNESS_DMG.buff(10,c),h.SKILL_TOUGHNESS_DMG.buff(20,s),h.ULT_TOUGHNESS_DMG.buff(30,f),h},precomputeMutualEffects:(h,T,B)=>{},finalizeCalculations:(h,T,B)=>{At(h)},gpuFinalizeCalculations:(h,T)=>bt()}},Hs=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Serval"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1103"),R=r(t,.72,.792),y=a(t,1,1.1),U=o(t,1.4,1.54),N=i(t,1.8,1.944),v=o(t,1.04,1.144),M={targetShocked:!0,enemyDefeatedBuff:!0},O={targetShocked:{id:"targetShocked",formItem:"switch",text:e("Content.targetShocked.text"),content:e("Content.targetShocked.content",{talentExtraDmgScaling:m.precisionRound(100*R)})},enemyDefeatedBuff:{id:"enemyDefeatedBuff",formItem:"switch",text:e("Content.enemyDefeatedBuff.text"),content:e("Content.enemyDefeatedBuff.content")}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.DOT],content:()=>Object.values(O),defaults:()=>M,precomputeEffects:(h,T,B)=>{const u=T.characterConditionals;return h.ATK_P.buff(u.enemyDefeatedBuff?.2:0,_),h.BASIC_ATK_SCALING.buff(y,c),h.SKILL_ATK_SCALING.buff(U,s),h.ULT_ATK_SCALING.buff(N,f),h.DOT_ATK_SCALING.buff(v,s),h.BASIC_ADDITIONAL_DMG_SCALING.buff(u.targetShocked?R:0,d),h.SKILL_ADDITIONAL_DMG_SCALING.buff(u.targetShocked?R:0,d),h.ULT_ADDITIONAL_DMG_SCALING.buff(u.targetShocked?R:0,d),h.ELEMENTAL_DMG.buff(t>=6&&u.targetShocked?.3:0,f),h.BASIC_TOUGHNESS_DMG.buff(10,c),h.SKILL_TOUGHNESS_DMG.buff(20,s),h.ULT_TOUGHNESS_DMG.buff(20,f),h.DOT_CHANCE.set(1,s),h},finalizeCalculations:h=>{At(h)},gpuFinalizeCalculations:()=>bt()}},Fs=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Topaz"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1112"),R=o(t,.5,.55),y=i(t,1.5,1.65),U=i(t,.25,.275),N=a(t,1,1.1),v=o(t,1.5,1.65),M=r(t,1.5,1.65),O=.06*(1*1/1),h=.06*(1*1/7+2*1/7+3*1/7+4*1/7+5*1/7+6*1/7+7*1/7),T=.06*(1*1/10+2*1/10+3*1/10+4*1/10+5*1/10+6*1/10+7*1/10+8*3/10),B={enemyProofOfDebtDebuff:!0,numbyEnhancedState:!0,e1DebtorStacks:2},u={enemyProofOfDebtDebuff:!0,e1DebtorStacks:2},C={enemyProofOfDebtDebuff:{id:"enemyProofOfDebtDebuff",formItem:"switch",text:e("Content.enemyProofOfDebtDebuff.text"),content:e("Content.enemyProofOfDebtDebuff.content",{proofOfDebtFuaVulnerability:m.precisionRound(100*R)})},numbyEnhancedState:{id:"numbyEnhancedState",formItem:"switch",text:e("Content.numbyEnhancedState.text"),content:e("Content.numbyEnhancedState.content",{enhancedStateFuaCdBoost:m.precisionRound(100*U),enhancedStateFuaScalingBoost:m.precisionRound(100*y)})},e1DebtorStacks:{id:"e1DebtorStacks",formItem:"slider",text:e("Content.e1DebtorStacks.text"),content:e("Content.e1DebtorStacks.content"),min:0,max:2,disabled:t<1}},E={enemyProofOfDebtDebuff:C.enemyProofOfDebtDebuff,e1DebtorStacks:C.e1DebtorStacks};return{activeAbilities:[G.BASIC,G.SKILL,G.FUA],content:()=>Object.values(C),teammateContent:()=>Object.values(E),defaults:()=>B,teammateDefaults:()=>u,initializeConfigurations:(S,b,k)=>{S.BASIC_DMG_TYPE.set(st|Z,_),S.SKILL_DMG_TYPE.set(Y|Z,s),S.SUMMONS.set(1,d)},precomputeEffects:(S,b,k)=>{const D=b.characterConditionals;return Ut(S,Y|Z,D.numbyEnhancedState?U:0,f),Kt(S,Y|Z,t>=6?.1:0,F),Ut(S,st,D.numbyEnhancedState?-U:0,f),Kt(S,st,t>=6?-.1:0,F),S.BASIC_ATK_SCALING.buff(N,c),S.SKILL_ATK_SCALING.buff(v,s),S.SKILL_ATK_SCALING.buff(D.numbyEnhancedState?y:0,f),S.FUA_ATK_SCALING.buff(M,d),S.FUA_ATK_SCALING.buff(D.numbyEnhancedState?y:0,f),S.ELEMENTAL_DMG.buff(k.enemyElementalWeak?.15:0,_),S.BASIC_TOUGHNESS_DMG.buff(10,c),S.SKILL_TOUGHNESS_DMG.buff(20,s),S.FUA_TOUGHNESS_DMG.buff(20,d),S},precomputeMutualEffects:(S,b,k)=>{const D=b.characterConditionals;gt(S,Z,D.enemyProofOfDebtDebuff?R:0,s,ct.TEAM),Ut(S,Z,t>=1&&D.enemyProofOfDebtDebuff?.25*D.e1DebtorStacks:0,I,ct.TEAM)},finalizeCalculations:(S,b,k)=>{const K=b.characterConditionals.numbyEnhancedState?T:h,x=qt(S,b,k,O),w=qt(S,b,k,K);S.BASIC_ATK_P_BOOST.buff(x,A.NONE),S.SKILL_ATK_P_BOOST.buff(w,A.NONE),S.FUA_ATK_P_BOOST.buff(w,A.NONE)},gpuFinalizeCalculations:(S,b)=>{const D=S.characterConditionals.numbyEnhancedState?T:h;return`
x.BASIC_ATK_P_BOOST += calculateAshblazingSetP(sets.TheAshblazingGrandDuke, action.setConditionals.valueTheAshblazingGrandDuke, ${O});
x.SKILL_ATK_P_BOOST += calculateAshblazingSetP(sets.TheAshblazingGrandDuke, action.setConditionals.valueTheAshblazingGrandDuke, ${D});
x.FUA_ATK_P_BOOST += calculateAshblazingSetP(sets.TheAshblazingGrandDuke, action.setConditionals.valueTheAshblazingGrandDuke, ${D});
      `}}},Ks=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Bailu"),a=m.wrappedFixedT(n).get(null,"conditionals","Common.HealAbility"),{basic:o,skill:i,ult:r,talent:c}=V.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:s,SOURCE_SKILL:f,SOURCE_ULT:d,SOURCE_TALENT:p,SOURCE_TECHNIQUE:_,SOURCE_TRACE:L,SOURCE_MEMO:I,SOURCE_E1:P,SOURCE_E2:H,SOURCE_E4:F,SOURCE_E6:R}=A.character("1211"),y=o(t,1,1.1),U=i(t,.117,.1248),N=i(t,312,347.1),v=r(t,.135,.144),M=r(t,360,400.5),O=c(t,.054,.0576),h=c(t,144,160.2),T={healAbility:$,healingMaxHpBuff:!0,talentDmgReductionBuff:!0,e2UltHealingBuff:!0,e4SkillHealingDmgBuffStacks:0},B={healingMaxHpBuff:!0,talentDmgReductionBuff:!0,e4SkillHealingDmgBuffStacks:3},u={healAbility:{id:"healAbility",formItem:"select",text:a("Text"),content:a("Content"),options:[{display:a("Skill"),value:Y,label:a("Skill")},{display:a("Ult"),value:$,label:a("Ult")},{display:a("Talent"),value:0,label:a("Talent")}],fullWidth:!0},healingMaxHpBuff:{id:"healingMaxHpBuff",formItem:"switch",text:e("Content.healingMaxHpBuff.text"),content:e("Content.healingMaxHpBuff.content")},talentDmgReductionBuff:{id:"talentDmgReductionBuff",formItem:"switch",text:e("Content.talentDmgReductionBuff.text"),content:e("Content.talentDmgReductionBuff.content")},e2UltHealingBuff:{id:"e2UltHealingBuff",formItem:"switch",text:e("Content.e2UltHealingBuff.text"),content:e("Content.e2UltHealingBuff.content"),disabled:t<2},e4SkillHealingDmgBuffStacks:{id:"e4SkillHealingDmgBuffStacks",formItem:"slider",text:e("Content.e4SkillHealingDmgBuffStacks.text"),content:e("Content.e4SkillHealingDmgBuffStacks.content"),min:0,max:3,disabled:t<4}},C={healingMaxHpBuff:u.healingMaxHpBuff,talentDmgReductionBuff:u.talentDmgReductionBuff,e4SkillHealingDmgBuffStacks:u.e4SkillHealingDmgBuffStacks};return{activeAbilities:[G.BASIC],content:()=>Object.values(u),teammateContent:()=>Object.values(C),defaults:()=>T,teammateDefaults:()=>B,precomputeEffects:(E,S,b)=>{const k=S.characterConditionals;return E.OHB.buff(t>=2&&k.e2UltHealingBuff?.15:0,H),E.BASIC_ATK_SCALING.buff(y,s),k.healAbility==Y&&(E.HEAL_TYPE.set(Y,f),E.HEAL_SCALING.buff(U,f),E.HEAL_FLAT.buff(N,f)),k.healAbility==$&&(E.HEAL_TYPE.set($,d),E.HEAL_SCALING.buff(v,d),E.HEAL_FLAT.buff(M,d)),k.healAbility==0&&(E.HEAL_TYPE.set(0,p),E.HEAL_SCALING.buff(O,p),E.HEAL_FLAT.buff(h,p)),E.BASIC_TOUGHNESS_DMG.buff(10,s),E},precomputeMutualEffects:(E,S,b)=>{const k=S.characterConditionals;E.HP_P.buffTeam(k.healingMaxHpBuff?.1:0,L),E.ELEMENTAL_DMG.buffTeam(t>=4?k.e4SkillHealingDmgBuffStacks*.1:0,F),E.DMG_RED_MULTI.multiplyTeam(k.talentDmgReductionBuff?1-.1:1,L)},finalizeCalculations:E=>{de(E)},gpuFinalizeCalculations:()=>me()}},xs=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Blade"),{basic:a,skill:o,ult:i,talent:r}=V.ULT_TALENT_3_SKILL_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1205"),R=o(t,.4,.456),y=.9,U=a(t,1,1.1),N=o(t,.4,.44),v=o(t,1,1.1),M=i(t,.4,.432),O=i(t,1,1.08),h=i(t,1,1.08),T=r(t,.44,.484),B=r(t,1.1,1.21),u={1:.06*(1*.33+2*.33+3*.34),3:.06*(2*.33+5*.33+8*.34),5:.06*(3*.33+8*.33+8*.34)},C={enhancedStateActive:!0,hpPercentLostTotal:y,e4MaxHpIncreaseStacks:2},E={enhancedStateActive:{id:"enhancedStateActive",formItem:"switch",text:e("Content.enhancedStateActive.text"),content:e("Content.enhancedStateActive.content",{enhancedStateDmgBoost:m.precisionRound(100*R)})},hpPercentLostTotal:{id:"hpPercentLostTotal",formItem:"slider",text:e("Content.hpPercentLostTotal.text"),content:e("Content.hpPercentLostTotal.content",{hpPercentLostTotalMax:m.precisionRound(100*y)}),min:0,max:y,percent:!0},e4MaxHpIncreaseStacks:{id:"e4MaxHpIncreaseStacks",formItem:"slider",text:e("Content.e4MaxHpIncreaseStacks.text"),content:e("Content.e4MaxHpIncreaseStacks.content"),min:0,max:2,disabled:t<4}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.FUA],content:()=>Object.values(E),defaults:()=>C,precomputeEffects:(S,b,k)=>{const D=b.characterConditionals;return S.CR.buff(t>=2&&D.enhancedStateActive?.15:0,P),S.HP_P.buff(t>=4?D.e4MaxHpIncreaseStacks*.2:0,H),D.enhancedStateActive?(S.BASIC_ATK_SCALING.buff(N,c),S.BASIC_HP_SCALING.buff(v,c)):S.BASIC_ATK_SCALING.buff(U,c),S.ULT_ATK_SCALING.buff(M,f),S.ULT_HP_SCALING.buff(O,f),S.ULT_HP_SCALING.buff(h*D.hpPercentLostTotal,f),S.ULT_HP_SCALING.buff(t>=1&&k.enemyCount==1?1.5*D.hpPercentLostTotal:0,I),S.FUA_ATK_SCALING.buff(T,d),S.FUA_HP_SCALING.buff(B,d),S.FUA_HP_SCALING.buff(t>=6?.5:0,F),S.ELEMENTAL_DMG.buff(D.enhancedStateActive?R:0,s),z(S,Z,.2,_),S.BASIC_TOUGHNESS_DMG.buff(D.enhancedStateActive?20:10,c),S.ULT_TOUGHNESS_DMG.buff(20,f),S.FUA_TOUGHNESS_DMG.buff(10,d),S},finalizeCalculations:(S,b,k)=>{const D=u[k.enemyCount];S.FUA_ATK_P_BOOST.buff(qt(S,b,k,D),A.NONE)},gpuFinalizeCalculations:(S,b)=>mt(u[b.enemyCount])}},ws=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Feixiao"),{basic:a,skill:o,ult:i,talent:r}=V.ULT_BASIC_3_SKILL_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1220"),R=a(t,1,1.1),y=o(t,2,2.2),U=i(t,.6,.648),N=i(t,.3,.33),v=i(t,1.6,1.728),M=r(t,1.1,1.21),O=r(t,.6,.66),h=1*.1285+2*.1285+3*.1285+4*.1285+5*.1285+6*.1285+7*.2285,T=1*.1285*.1+2*.1285*.9+3*.1285*.1+4*.1285*.9+5*.1285*.1+6*.1285*.9+7*.1285*.1+8*.1285*.9+8*.1285*.1+8*.1285*.9+8*.1285*.1+8*.1285*.9+8*.2285;function B(E,S){return E.characterConditionals.weaknessBrokenUlt?.06*T:.06*h}const u={weaknessBrokenUlt:!0,talentDmgBuff:!0,skillAtkBuff:!0,e1OriginalDmgBoost:!0,e4Buffs:!0,e6Buffs:!0},C={weaknessBrokenUlt:{id:"weaknessBrokenUlt",formItem:"switch",text:e("Content.weaknessBrokenUlt.text"),content:e("Content.weaknessBrokenUlt.content")},talentDmgBuff:{id:"talentDmgBuff",formItem:"switch",text:e("Content.talentDmgBuff.text"),content:e("Content.talentDmgBuff.content",{FuaMultiplier:m.precisionRound(100*M),DmgBuff:m.precisionRound(100*O)})},skillAtkBuff:{id:"skillAtkBuff",formItem:"switch",text:e("Content.skillAtkBuff.text"),content:e("Content.skillAtkBuff.content")},e1OriginalDmgBoost:{id:"e1OriginalDmgBoost",formItem:"switch",text:e("Content.e1OriginalDmgBoost.text"),content:e("Content.e1OriginalDmgBoost.content"),disabled:t<1},e4Buffs:{id:"e4Buffs",formItem:"switch",text:e("Content.e4Buffs.text"),content:e("Content.e4Buffs.content"),disabled:t<4},e6Buffs:{id:"e6Buffs",formItem:"switch",text:e("Content.e6Buffs.text"),content:e("Content.e6Buffs.content"),disabled:t<6}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.FUA],content:()=>Object.values(C),defaults:()=>u,initializeConfigurations:(E,S,b)=>{const k=S.characterConditionals;E.ULT_DMG_TYPE.set($|Z,_),k.weaknessBrokenUlt&&E.ENEMY_WEAKNESS_BROKEN.config(1,f),t>=6&&k.e6Buffs&&E.FUA_DMG_TYPE.set($|Z,F)},precomputeEffects:(E,S,b)=>{const k=S.characterConditionals;return k.weaknessBrokenUlt||E.ULT_BREAK_EFFICIENCY_BOOST.buff(1,f),Ut(E,Z,.36,_),E.ATK_P.buff(k.skillAtkBuff?.48:0,_),E.ELEMENTAL_DMG.buff(k.talentDmgBuff?O:0,d),E.BASIC_ATK_SCALING.buff(R,c),E.SKILL_ATK_SCALING.buff(y,s),E.FUA_ATK_SCALING.buff(M,d),E.ULT_ATK_SCALING.buff(6*(U+N)+v,f),E.ULT_FINAL_DMG_BOOST.buff(t>=1&&k.e1OriginalDmgBoost?.3071:0,I),t>=4&&(E.SPD_P.buff(.08,I),E.FUA_TOUGHNESS_DMG.buff(5,I)),t>=6&&k.e6Buffs&&(Kt(E,$,.2,F),E.FUA_ATK_SCALING.buff(1.4,F)),E.BASIC_TOUGHNESS_DMG.buff(10,c),E.SKILL_TOUGHNESS_DMG.buff(20,s),E.ULT_TOUGHNESS_DMG.buff(30,f),E.FUA_TOUGHNESS_DMG.buff(5,d),E},finalizeCalculations:(E,S,b)=>{const k=B(S),D=.06*(1*1),K=qt(E,S,b,k),x=qt(E,S,b,D);E.ULT_ATK_P_BOOST.buff(K,A.NONE),E.FUA_ATK_P_BOOST.buff(x,A.NONE)},gpuFinalizeCalculations:(E,S)=>{const b=B(E),k=.06*(1*1);return`
x.ULT_ATK_P_BOOST += calculateAshblazingSetP(sets.TheAshblazingGrandDuke, action.setConditionals.valueTheAshblazingGrandDuke, ${b});
x.FUA_ATK_P_BOOST += calculateAshblazingSetP(sets.TheAshblazingGrandDuke, action.setConditionals.valueTheAshblazingGrandDuke, ${k});
    `}}},Vs=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Fugue"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1225"),R=o(t,.3,.33),y=o(t,.18,.2),U=a(t,1,1.1),N=i(t,2,2.2),v=r(t,1,1.1),M={torridScorch:!0,foxianPrayer:!1,defReduction:!0,superBreakDmg:!0,e4BreakDmg:!0,e6BreakEfficiency:!0},O={foxianPrayer:!0,be220Buff:!0,weaknessBreakBeStacks:2,defReduction:!0,superBreakDmg:!0,e4BreakDmg:!0},h={torridScorch:{id:"torridScorch",formItem:"switch",text:e("Content.torridScorch.text"),content:e("Content.torridScorch.content")},foxianPrayer:{id:"foxianPrayer",formItem:"switch",text:e("Content.foxianPrayer.text"),content:e("Content.foxianPrayer.content",{BreakBuff:m.precisionRound(100*R)})},defReduction:{id:"defReduction",formItem:"switch",text:e("Content.defReduction.text"),content:e("Content.defReduction.content",{DefShred:m.precisionRound(100*y)})},superBreakDmg:{id:"superBreakDmg",formItem:"switch",text:e("Content.superBreakDmg.text"),content:e("Content.superBreakDmg.content",{SuperBreakMultiplier:m.precisionRound(100*v)})},e4BreakDmg:{id:"e4BreakDmg",formItem:"switch",text:e("Content.e4BreakDmg.text"),content:e("Content.e4BreakDmg.content"),disabled:t<4},e6BreakEfficiency:{id:"e6BreakEfficiency",formItem:"switch",text:e("Content.e6BreakEfficiency.text"),content:e("Content.e6BreakEfficiency.content"),disabled:t<6}},T={foxianPrayer:h.foxianPrayer,be220Buff:{id:"be220Buff",formItem:"switch",text:e("TeammateContent.be220Buff.text"),content:e("TeammateContent.be220Buff.content")},weaknessBreakBeStacks:{id:"weaknessBreakBeStacks",formItem:"slider",text:e("TeammateContent.weaknessBreakBeStacks.text"),content:e("TeammateContent.weaknessBreakBeStacks.content"),min:0,max:2},defReduction:h.defReduction,superBreakDmg:h.superBreakDmg,e4BreakDmg:h.e4BreakDmg};return{activeAbilities:[G.BASIC,G.ULT],content:()=>Object.values(h),teammateContent:()=>Object.values(T),defaults:()=>M,teammateDefaults:()=>O,initializeConfigurations:(B,u,C)=>{u.characterConditionals.superBreakDmg&&B.ENEMY_WEAKNESS_BROKEN.config(1,d)},initializeTeammateConfigurations:(B,u,C)=>{u.characterConditionals.superBreakDmg&&B.ENEMY_WEAKNESS_BROKEN.config(1,d)},precomputeEffects:(B,u,C)=>{const E=u.characterConditionals;B.BE.buff(.3,_),B.BREAK_EFFICIENCY_BOOST.buff(t>=6&&E.e6BreakEfficiency?.5:0,F),B.BASIC_ATK_SCALING.buff(U,c),B.ULT_ATK_SCALING.buff(N,f),B.BASIC_TOUGHNESS_DMG.buff(10,c),B.ULT_TOUGHNESS_DMG.buff(20,f)},precomputeMutualEffects:(B,u,C)=>{const E=u.characterConditionals;B.BE.buffSingle(E.foxianPrayer?R:0,s),B.SUPER_BREAK_MODIFIER.buffTeam(E.superBreakDmg?v:0,d),B.DEF_PEN.buffTeam(E.defReduction?y:0,s),B.BREAK_EFFICIENCY_BOOST.buffSingle(t>=1&&E.foxianPrayer?.5:0,I),z(B,Dt,t>=4&&E.foxianPrayer&&E.e4BreakDmg?.2:0,H,ct.SINGLE)},precomputeTeammateEffects:(B,u,C)=>{const E=u.characterConditionals;B.BE.buffTeam(E.weaknessBreakBeStacks*(.06+(E.be220Buff?.12:0)),_)},finalizeCalculations:(B,u,C)=>{},gpuFinalizeCalculations:(B,u)=>""}},zs=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.FuXuan"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1208"),R=o(t,.12,.132),y=o(t,.06,.066),U=r(t,.18,.196),N=a(t,.5,.55),v=i(t,1,1.08),M=.05,O=133,h={skillActive:!0,talentActive:!0,e6TeamHpLostPercent:1.2},T={skillActive:!0,talentActive:!0,teammateHPValue:8e3},B={talentActive:{id:"talentActive",formItem:"switch",text:e("Content.talentActive.text"),content:e("Content.talentActive.content",{talentDmgReductionValue:m.precisionRound(100*U)})},skillActive:{id:"skillActive",formItem:"switch",text:e("Content.skillActive.text"),content:e("Content.skillActive.content",{skillHpBuffValue:m.precisionRound(100*y),skillCrBuffValue:m.precisionRound(100*R)})},e6TeamHpLostPercent:{id:"e6TeamHpLostPercent",formItem:"slider",text:e("Content.e6TeamHpLostPercent.text"),content:e("Content.e6TeamHpLostPercent.content"),min:0,max:1.2,percent:!0,disabled:t<6}},u={talentActive:B.talentActive,skillActive:B.skillActive,teammateHPValue:{id:"teammateHPValue",formItem:"slider",text:e("TeammateContent.teammateHPValue.text"),content:e("TeammateContent.teammateHPValue.content",{skillHpBuffValue:m.precisionRound(100*y)}),min:0,max:1e4}};return{activeAbilities:[G.BASIC,G.ULT],content:()=>Object.values(B),teammateContent:()=>Object.values(u),defaults:()=>h,teammateDefaults:()=>T,precomputeEffects:(C,E,S)=>{const b=E.characterConditionals;return C.BASIC_HP_SCALING.buff(N,c),C.ULT_HP_SCALING.buff(v,f),C.ULT_HP_SCALING.buff(t>=6?2*b.e6TeamHpLostPercent:0,F),C.BASIC_TOUGHNESS_DMG.buff(10,c),C.ULT_TOUGHNESS_DMG.buff(20,f),C.HEAL_TYPE.set($,_),C.HEAL_SCALING.buff(M,_),C.HEAL_FLAT.buff(O,_),C},precomputeMutualEffects:(C,E,S)=>{const b=E.characterConditionals;C.CR.buffTeam(b.skillActive?R:0,s),C.CD.buffTeam(t>=1&&b.skillActive?.3:0,I),C.DMG_RED_MULTI.multiplyTeam(b.talentActive?1-U:1,d)},precomputeTeammateEffects:(C,E,S)=>{const b=E.characterConditionals,k=b.skillActive?y*b.teammateHPValue:0;C.HP.buffTeam(k,s),C.UNCONVERTIBLE_HP_BUFF.buffTeam(k,s),C.DMG_RED_MULTI.multiplyTeam(b.skillActive?1-.65:1,s)},finalizeCalculations:(C,E,S)=>{de(C)},gpuFinalizeCalculations:()=>me(),dynamicConditionals:[{id:"FuXuanHpConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.HP],chainsTo:[g.HP],condition:function(C,E,S){return E.characterConditionals.skillActive},effect:function(C,E,S){Ct(g.HP,g.HP,this,C,E,S,s,b=>b*y)},gpu:function(C,E){const S=C.characterConditionals;return Et(g.HP,g.HP,this,C,E,`${y} * convertibleValue`,`${nt(S.skillActive)}`)}}]}},js=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Guinaifen"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1210"),R=r(t,.07,.076),y=t>=6?4:3,U=a(t,1,1.1),N=o(t,1.2,1.32),v=i(t,1.2,1.296),M=o(t,2.182,2.4),O={talentDebuffStacks:y,enemyBurned:!0,skillDot:!0,e1EffectResShred:!0,e2BurnMultiBoost:!0},h={talentDebuffStacks:y,e1EffectResShred:!0},T={talentDebuffStacks:{id:"talentDebuffStacks",formItem:"slider",text:e("Content.talentDebuffStacks.text"),content:e("Content.talentDebuffStacks.content",{talentDebuffDmgIncreaseValue:m.precisionRound(R),talentDebuffMax:y}),min:0,max:y},enemyBurned:{id:"enemyBurned",formItem:"switch",text:e("Content.enemyBurned.text"),content:e("Content.enemyBurned.content")},skillDot:{id:"skillDot",formItem:"switch",text:e("Content.skillDot.text"),content:e("Content.skillDot.content")},e1EffectResShred:{id:"e1EffectResShred",formItem:"switch",text:e("Content.e1EffectResShred.text"),content:e("Content.e1EffectResShred.content"),disabled:t<1},e2BurnMultiBoost:{id:"e2BurnMultiBoost",formItem:"switch",text:e("Content.e2BurnMultiBoost.text"),content:e("Content.e2BurnMultiBoost.content"),disabled:t<2}},B={talentDebuffStacks:T.talentDebuffStacks,e1EffectResShred:T.e1EffectResShred};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.DOT],content:()=>Object.values(T),teammateContent:()=>Object.values(B),defaults:()=>O,teammateDefaults:()=>h,precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;return u.BASIC_ATK_SCALING.buff(U,c),u.SKILL_ATK_SCALING.buff(N,s),u.ULT_ATK_SCALING.buff(v,f),u.DOT_ATK_SCALING.buff(M,s),u.DOT_ATK_SCALING.buff(t>=2&&S.e2BurnMultiBoost?.4:0,P),u.ELEMENTAL_DMG.buff(S.enemyBurned?.2:0,_),u.BASIC_TOUGHNESS_DMG.buff(10,c),u.SKILL_TOUGHNESS_DMG.buff(20,s),u.ULT_TOUGHNESS_DMG.buff(20,f),u.DOT_CHANCE.set(S.skillDot?1:.8,S.skillDot?s:_),u},precomputeMutualEffects:(u,C,E)=>{const S=C.characterConditionals;u.VULNERABILITY.buffTeam(S.talentDebuffStacks*R,d),u.EFFECT_RES_PEN.buffTeam(t>=1&&S.e1EffectResShred?.1:0,I)},finalizeCalculations:u=>{},gpuFinalizeCalculations:()=>""}},$s=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Hanya"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1215"),R=i(t,.2,.21),y=i(t,.6,.648);let U=r(t,.3,.33);U+=t>=6?.1:0;const N=a(t,1,1.1),v=o(t,2.4,2.64),M={ultBuff:!0,targetBurdenActive:!0,burdenAtkBuff:!0,e2SkillSpdBuff:!1},O={ultBuff:!0,targetBurdenActive:!0,burdenAtkBuff:!0,teammateSPDValue:160},h={ultBuff:{id:"ultBuff",formItem:"switch",text:e("Content.ultBuff.text"),content:e("Content.ultBuff.content",{ultSpdBuffValue:m.precisionRound(100*R),ultAtkBuffValue:m.precisionRound(100*y)})},targetBurdenActive:{id:"targetBurdenActive",formItem:"switch",text:e("Content.targetBurdenActive.text"),content:e("Content.targetBurdenActive.content",{talentDmgBoostValue:m.precisionRound(100*U)})},burdenAtkBuff:{id:"burdenAtkBuff",formItem:"switch",text:e("Content.burdenAtkBuff.text"),content:e("Content.burdenAtkBuff.content")},e2SkillSpdBuff:{id:"e2SkillSpdBuff",formItem:"switch",text:e("Content.e2SkillSpdBuff.text"),content:e("Content.e2SkillSpdBuff.content"),disabled:t<2}},T={ultBuff:h.ultBuff,teammateSPDValue:{id:"teammateSPDValue",formItem:"slider",text:e("TeammateContent.teammateSPDValue.text"),content:e("TeammateContent.teammateSPDValue.content",{ultSpdBuffValue:m.precisionRound(100*R),ultAtkBuffValue:m.precisionRound(100*y)}),min:0,max:300},targetBurdenActive:h.targetBurdenActive,burdenAtkBuff:h.burdenAtkBuff};return{activeAbilities:[G.BASIC,G.SKILL],content:()=>Object.values(h),teammateContent:()=>Object.values(T),defaults:()=>M,teammateDefaults:()=>O,precomputeEffects:(B,u,C)=>{const E=u.characterConditionals;return B.BASIC_ATK_SCALING.buff(N,c),B.SKILL_ATK_SCALING.buff(v,s),B.SPD_P.buff(t>=2&&E.e2SkillSpdBuff?.2:0,P),B.BASIC_TOUGHNESS_DMG.buff(10,c),B.SKILL_TOUGHNESS_DMG.buff(20,s),B},precomputeMutualEffects:(B,u,C)=>{const E=u.characterConditionals;B.ATK_P.buffTeam(E.burdenAtkBuff?.1:0,_),z(B,st|Y|$,E.targetBurdenActive?U:0,d,ct.TEAM)},precomputeTeammateEffects:(B,u,C)=>{const E=u.characterConditionals,S=E.ultBuff?R*E.teammateSPDValue:0;B.SPD.buffSingle(S,f),B.UNCONVERTIBLE_SPD_BUFF.buffSingle(S,f),B.ATK_P.buffSingle(E.ultBuff?y:0,f)},finalizeCalculations:B=>{},gpuFinalizeCalculations:()=>"",dynamicConditionals:[{id:"HanyaSpdConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.SPD],chainsTo:[g.SPD],condition:function(B,u,C){return u.characterConditionals.ultBuff},effect:function(B,u,C){Ct(g.SPD,g.SPD,this,B,u,C,f,E=>E*R)},gpu:function(B,u){const C=B.characterConditionals;return Et(g.SPD,g.SPD,this,B,u,`${R} * convertibleValue`,`${nt(C.ultBuff)}`)}}]}},Ys=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Huohuo"),a=m.wrappedFixedT(n).get(null,"conditionals","Common.HealAbility"),{basic:o,ult:i,skill:r,talent:c}=V.ULT_TALENT_3_SKILL_BASIC_5,{SOURCE_BASIC:s,SOURCE_SKILL:f,SOURCE_ULT:d,SOURCE_TALENT:p,SOURCE_TECHNIQUE:_,SOURCE_TRACE:L,SOURCE_MEMO:I,SOURCE_E1:P,SOURCE_E2:H,SOURCE_E4:F,SOURCE_E6:R}=A.character("1217"),y=i(t,.4,.432),U=o(t,.5,.55),N=c(t,.21,.224),v=c(t,560,623),M=r(t,.045,.048),O=r(t,120,133.5),h={healAbility:0,ultBuff:!0,skillBuff:!0,e6DmgBuff:!0},T={ultBuff:!0,skillBuff:!0,e6DmgBuff:!0},B={healAbility:{id:"healAbility",formItem:"select",text:a("Text"),content:a("Content"),options:[{display:a("Skill"),value:Y,label:a("Skill")},{display:a("Talent"),value:0,label:a("Talent")}],fullWidth:!0},ultBuff:{id:"ultBuff",formItem:"switch",text:e("Content.ultBuff.text"),content:e("Content.ultBuff.content",{ultBuffValue:m.precisionRound(100*y)})},skillBuff:{id:"skillBuff",formItem:"switch",text:e("Content.skillBuff.text"),content:e("Content.skillBuff.content"),disabled:t<1},e6DmgBuff:{id:"e6DmgBuff",formItem:"switch",text:e("Content.e6DmgBuff.text"),content:e("Content.e6DmgBuff.content"),disabled:t<6}},u={ultBuff:B.ultBuff,skillBuff:B.skillBuff,e6DmgBuff:B.e6DmgBuff};return{activeAbilities:[G.BASIC],content:()=>Object.values(B),teammateContent:()=>Object.values(u),defaults:()=>h,teammateDefaults:()=>T,precomputeEffects:(C,E,S)=>{const b=E.characterConditionals;return C.BASIC_HP_SCALING.buff(U,s),C.BASIC_TOUGHNESS_DMG.buff(10,s),b.healAbility==Y&&(C.HEAL_TYPE.set(Y,f),C.HEAL_SCALING.buff(N,f),C.HEAL_FLAT.buff(v,f)),b.healAbility==0&&(C.HEAL_TYPE.set(0,p),C.HEAL_SCALING.buff(M,p),C.HEAL_FLAT.buff(O,p)),C},precomputeMutualEffects:(C,E,S)=>{const b=E.characterConditionals;C.ATK_P.buffTeam(b.ultBuff?y:0,d),C.SPD_P.buffTeam(t>=1&&b.skillBuff?.12:0,P),C.ELEMENTAL_DMG.buffTeam(t>=6&&b.e6DmgBuff?.5:0,R)},finalizeCalculations:(C,E,S)=>{de(C)},gpuFinalizeCalculations:()=>me()}},Ws=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.ImbibitorLunae"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1213"),R=t>=1?10:6,y=o(t,.12,.132),U=r(t,.1,.11),N=a(t,1,1.1),v=a(t,2.6,2.86),M=a(t,3.8,4.18),O=a(t,5,5.5),h=i(t,3,3.24),T={basicEnhanced:3,skillOutroarStacks:4,talentRighteousHeartStacks:R,e6ResPenStacks:3},B={basicEnhanced:{id:"basicEnhanced",formItem:"slider",text:e("Content.basicEnhanced.text"),content:e("Content.basicEnhanced.content",{basicScaling:m.precisionRound(100*N),basicEnhanced1Scaling:m.precisionRound(100*v),basicEnhanced2Scaling:m.precisionRound(100*M),basicEnhanced3Scaling:m.precisionRound(100*O)}),min:0,max:3},skillOutroarStacks:{id:"skillOutroarStacks",formItem:"slider",text:e("Content.skillOutroarStacks.text"),content:e("Content.skillOutroarStacks.content",{outroarStackCdValue:m.precisionRound(100*y)}),min:0,max:4},talentRighteousHeartStacks:{id:"talentRighteousHeartStacks",formItem:"slider",text:e("Content.talentRighteousHeartStacks.text"),content:e("Content.talentRighteousHeartStacks.content",{righteousHeartDmgValue:m.precisionRound(100*U)}),min:0,max:R},e6ResPenStacks:{id:"e6ResPenStacks",formItem:"slider",text:e("Content.e6ResPenStacks.text"),content:e("Content.e6ResPenStacks.content"),min:0,max:3,disabled:t<6}};return{activeAbilities:[G.BASIC,G.ULT],content:()=>Object.values(B),defaults:()=>T,precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;u.CD.buff(E.enemyElementalWeak?.24:0,_),u.CD.buff(S.skillOutroarStacks*y,s);const b={0:N,1:v,2:M,3:O}[S.basicEnhanced]??0;return u.BASIC_ATK_SCALING.buff(b,c),u.ULT_ATK_SCALING.buff(h,f),u.ELEMENTAL_DMG.buff(S.talentRighteousHeartStacks*U,d),Kt(u,st,t>=6&&S.basicEnhanced==3?.2*S.e6ResPenStacks:0,F),u.BASIC_TOUGHNESS_DMG.buff(10+10*S.basicEnhanced,c),u.ULT_TOUGHNESS_DMG.buff(20,f),u},finalizeCalculations:u=>{},gpuFinalizeCalculations:()=>""}},Qs=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Jiaoqiu"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1218"),R=a(t,1,1.1),y=o(t,1.5,1.65),U=i(t,1,1.08),N=i(t,.15,.162),v=r(t,.15,.165),M=r(t,.05,.055),O=r(t,1.8,1.98),h=t>=6?9:5,T={ashenRoastStacks:h,ultFieldActive:!0,ehrToAtkBoost:!0,e1DmgBoost:!0,e2Dot:!0,e6ResShred:!0},B={ashenRoastStacks:h,ultFieldActive:!0,e1DmgBoost:!0,e6ResShred:!0},u={ashenRoastStacks:{id:"ashenRoastStacks",formItem:"slider",text:e("Content.ashenRoastStacks.text"),content:e("Content.ashenRoastStacks.content",{AshenRoastInitialVulnerability:m.precisionRound(100*v),AshenRoastAdditionalVulnerability:m.precisionRound(100*M),AshenRoastDotMultiplier:m.precisionRound(100*O)}),min:0,max:h},ultFieldActive:{id:"ultFieldActive",formItem:"switch",text:e("Content.ultFieldActive.text"),content:e("Content.ultFieldActive.content",{UltScaling:m.precisionRound(100*U),UltVulnerability:m.precisionRound(100*N),ZoneDebuffChance:m.precisionRound(100*i(t,.6,.62))})},ehrToAtkBoost:{id:"ehrToAtkBoost",formItem:"switch",text:e("Content.ehrToAtkBoost.text"),content:e("Content.ehrToAtkBoost.content")},e1DmgBoost:{id:"e1DmgBoost",formItem:"switch",text:e("Content.e1DmgBoost.text"),content:e("Content.e1DmgBoost.content"),disabled:t<1},e2Dot:{id:"e2Dot",formItem:"switch",text:e("Content.e2Dot.text"),content:e("Content.e2Dot.content"),disabled:t<2},e6ResShred:{id:"e6ResShred",formItem:"switch",text:e("Content.e6ResShred.text"),content:e("Content.e6ResShred.content"),disabled:t<6}},C={ashenRoastStacks:u.ashenRoastStacks,ultFieldActive:u.ultFieldActive,e1DmgBoost:u.e1DmgBoost,e6ResShred:u.e6ResShred};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.DOT],content:()=>Object.values(u),teammateContent:()=>Object.values(C),defaults:()=>T,teammateDefaults:()=>B,precomputeEffects:(E,S,b)=>{const k=S.characterConditionals;return E.BASIC_ATK_SCALING.buff(R,c),E.SKILL_ATK_SCALING.buff(y,s),E.ULT_ATK_SCALING.buff(U,f),E.DOT_ATK_SCALING.buff(k.ashenRoastStacks>0?O:0,d),E.DOT_ATK_SCALING.buff(t>=2&&k.e2Dot&&k.ashenRoastStacks>0?3:0,P),E.DOT_CHANCE.set(100,d),E.BASIC_TOUGHNESS_DMG.buff(10,c),E.SKILL_TOUGHNESS_DMG.buff(20,s),E.ULT_TOUGHNESS_DMG.buff(20,f),E},precomputeMutualEffects:(E,S,b)=>{const k=S.characterConditionals;gt(E,$,k.ultFieldActive?N:0,f,ct.TEAM),E.VULNERABILITY.buffTeam(k.ashenRoastStacks>0?v:0,d),E.VULNERABILITY.buffTeam(Math.max(0,k.ashenRoastStacks-1)*M,d),E.ELEMENTAL_DMG.buffTeam(t>=1&&k.e1DmgBoost&&k.ashenRoastStacks>0?.4:0,I),E.RES_PEN.buffTeam(t>=6&&k.e6ResShred?k.ashenRoastStacks*.03:0,F)},finalizeCalculations:(E,S,b)=>{},gpuFinalizeCalculations:()=>"",dynamicConditionals:[{id:"JiaoqiuConversionConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.EHR],chainsTo:[g.ATK],condition:function(E,S,b){return S.characterConditionals.ehrToAtkBoost&&E.a[l.EHR]>.8},effect:function(E,S,b){Ct(g.EHR,g.ATK,this,E,S,b,_,k=>Math.min(2.4,.6*Math.floor((k-.8)/.15))*b.baseATK)},gpu:function(E,S){const b=E.characterConditionals;return Et(g.EHR,g.ATK,this,E,S,"min(2.40, 0.60 * floor((convertibleValue - 0.80) / 0.15)) * baseATK",`${nt(b.ehrToAtkBoost)} && x.EHR > 0.80`)}}]}},Zs=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Jingliu"),{basic:a,skill:o,ult:i,talent:r}=V.ULT_TALENT_3_SKILL_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1212"),R=r(t,.5,.52),y=a(t,1,1.1),U=o(t,2,2.2),N=o(t,2.5,2.75),v=i(t,3,3.24),M=r(t,1.8,1.98)+(t>=4?.3:0),O={talentEnhancedState:!0,talentHpDrainAtkBuff:M,e1CdBuff:!0,e2SkillDmgBuff:!0},h={talentEnhancedState:{id:"talentEnhancedState",formItem:"switch",text:e("Content.talentEnhancedState.text"),content:e("Content.talentEnhancedState.content",{talentCrBuff:m.precisionRound(100*R)})},talentHpDrainAtkBuff:{id:"talentHpDrainAtkBuff",formItem:"slider",text:e("Content.talentHpDrainAtkBuff.text"),content:e("Content.talentHpDrainAtkBuff.content",{talentHpDrainAtkBuffMax:m.precisionRound(100*M)}),min:0,max:M,percent:!0},e1CdBuff:{id:"e1CdBuff",formItem:"switch",text:e("Content.e1CdBuff.text"),content:e("Content.e1CdBuff.content"),disabled:t<1},e2SkillDmgBuff:{id:"e2SkillDmgBuff",formItem:"switch",text:e("Content.e2SkillDmgBuff.text"),content:e("Content.e2SkillDmgBuff.content"),disabled:t<2}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT],content:()=>Object.values(h),defaults:()=>O,precomputeEffects:(T,B,u)=>{const C=B.characterConditionals;return T.CR.buff(C.talentEnhancedState?R:0,d),T.ATK_P.buff(C.talentEnhancedState?C.talentHpDrainAtkBuff:0,d),T.RES.buff(C.talentEnhancedState?.35:0,_),C.talentEnhancedState&&z(T,$,.2,_),T.CD.buff(t>=1&&C.e1CdBuff?.24:0,I),T.CD.buff(t>=6&&C.talentEnhancedState?.5:0,F),T.BASIC_ATK_SCALING.buff(y,c),T.SKILL_ATK_SCALING.buff(C.talentEnhancedState?N:U,s),T.SKILL_ATK_SCALING.buff(t>=1&&C.talentEnhancedState&&(u.enemyCount??u.enemyCount)==1?1:0,s),T.ULT_ATK_SCALING.buff(v,f),T.ULT_ATK_SCALING.buff(t>=1&&(u.enemyCount??u.enemyCount)==1?1:0,f),z(T,Y,t>=2&&C.talentEnhancedState&&C.e2SkillDmgBuff?.8:0,P),T.BASIC_TOUGHNESS_DMG.buff(10,c),T.SKILL_TOUGHNESS_DMG.buff(20,s),T.ULT_TOUGHNESS_DMG.buff(20,f),T},finalizeCalculations:T=>{},gpuFinalizeCalculations:()=>""}},Js=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.JingYuan"),{basic:a,skill:o,ult:i,talent:r}=V.ULT_BASIC_3_SKILL_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1204"),R=a(t,1,1.1),y=o(t,1,1.1),U=i(t,2,2.16),N=r(t,.66,.726);function v(h,T){const B=h.characterConditionals;let u=0;const C=B.talentHitsPerAction,E=B.talentAttacks,S=T.enemyCount>=3?2:0,b=T.enemyCount>=3?3:1,k=T.enemyCount>=3?2:1;let D=S*(C-E);D+=k;let K=0;for(let x=0;x<E;x++)K+=Math.min(8,D)*(1/E),D+=b;return u=K*.06,u}const M={skillCritBuff:!0,talentHitsPerAction:10,talentAttacks:10,e2DmgBuff:!0,e6FuaVulnerabilityStacks:3},O={skillCritBuff:{id:"skillCritBuff",formItem:"switch",text:e("Content.skillCritBuff.text"),content:e("Content.skillCritBuff.content")},talentHitsPerAction:{id:"talentHitsPerAction",formItem:"slider",text:e("Content.talentHitsPerAction.text"),content:e("Content.talentHitsPerAction.content"),min:3,max:10},talentAttacks:{id:"talentAttacks",formItem:"slider",text:e("Content.talentAttacks.text"),content:e("Content.talentAttacks.content"),min:0,max:10},e2DmgBuff:{id:"e2DmgBuff",formItem:"switch",text:e("Content.e2DmgBuff.text"),content:e("Content.e2DmgBuff.content"),disabled:t<2},e6FuaVulnerabilityStacks:{id:"e6FuaVulnerabilityStacks",formItem:"slider",text:e("Content.e6FuaVulnerabilityStacks.text"),content:e("Content.e6FuaVulnerabilityStacks.content"),min:0,max:3,disabled:t<6}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.FUA],content:()=>Object.values(O),defaults:()=>M,initializeConfigurations:(h,T,B)=>{T.characterConditionals,h.SUMMONS.set(1,d)},precomputeEffects:(h,T,B)=>{const u=T.characterConditionals;u.talentHitsPerAction=Math.max(u.talentHitsPerAction,u.talentAttacks),h.CR.buff(u.skillCritBuff?.1:0,_),h.BASIC_ATK_SCALING.buff(R,c),h.SKILL_ATK_SCALING.buff(y,s),h.ULT_ATK_SCALING.buff(U,f),h.FUA_ATK_SCALING.buff(N*u.talentAttacks,d),Ut(h,Z,u.talentHitsPerAction>=6?.25:0,_),z(h,st|Y|$,t>=2&&u.e2DmgBuff?.2:0,P),gt(h,Z,t>=6?u.e6FuaVulnerabilityStacks*.12:0,F);const C=u.talentAttacks;return h.BASIC_TOUGHNESS_DMG.buff(10,c),h.SKILL_TOUGHNESS_DMG.buff(10,s),h.ULT_TOUGHNESS_DMG.buff(20,f),h.FUA_TOUGHNESS_DMG.buff(5*C,d),h},finalizeCalculations:(h,T,B)=>{St(h,T,B,v(T,B))},gpuFinalizeCalculations:(h,T)=>mt(v(h,T))}},Xs=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Lingsha"),a=m.wrappedFixedT(n).get(null,"conditionals","Common.HealAbility"),{basic:o,skill:i,ult:r,talent:c}=V.ULT_TALENT_3_SKILL_BASIC_5,{SOURCE_BASIC:s,SOURCE_SKILL:f,SOURCE_ULT:d,SOURCE_TALENT:p,SOURCE_TECHNIQUE:_,SOURCE_TRACE:L,SOURCE_MEMO:I,SOURCE_E1:P,SOURCE_E2:H,SOURCE_E4:F,SOURCE_E6:R}=A.character("1222"),y=o(t,1,1.1),U=i(t,.8,.88),N=r(t,1.5,1.65),v=r(t,.25,.27),M=c(t,.75,.825),O=i(t,.14,.148),h=i(t,420,467.25),T=r(t,.12,.128),B=r(t,360,400.5),u=c(t,.12,.128),C=c(t,360,400.5),E={1:.06*(1*1/2+2*1/2),3:.06*(2*1/2+3*1/2),5:.06*(3*1/2+4*1/2)},S={healAbility:0,beConversion:!0,befogState:!0,e1DefShred:!0,e2BeBuff:!0,e6ResShred:!0},b={befogState:!0,e1DefShred:!0,e2BeBuff:!0,e6ResShred:!0},k={healAbility:{id:"healAbility",formItem:"select",text:a("Text"),content:a("Content"),options:[{display:a("Skill"),value:Y,label:a("Skill")},{display:a("Ult"),value:$,label:a("Ult")},{display:a("Talent"),value:0,label:a("Talent")}],fullWidth:!0},beConversion:{id:"beConversion",formItem:"switch",text:e("Content.beConversion.text"),content:e("Content.beConversion.content")},befogState:{id:"befogState",formItem:"switch",text:e("Content.befogState.text"),content:e("Content.befogState.content",{BefogVulnerability:m.precisionRound(100*v)})},e1DefShred:{id:"e1DefShred",formItem:"switch",text:e("Content.e1DefShred.text"),content:e("Content.e1DefShred.content"),disabled:t<1},e2BeBuff:{id:"e2BeBuff",formItem:"switch",text:e("Content.e2BeBuff.text"),content:e("Content.e2BeBuff.content"),disabled:t<2},e6ResShred:{id:"e6ResShred",formItem:"switch",text:e("Content.e6ResShred.text"),content:e("Content.e6ResShred.content"),disabled:t<6}},D={befogState:k.befogState,e1DefShred:k.e1DefShred,e2BeBuff:k.e2BeBuff,e6ResShred:k.e6ResShred};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.FUA],content:()=>Object.values(k),teammateContent:()=>Object.values(D),defaults:()=>S,teammateDefaults:()=>b,initializeConfigurations:(K,x,w)=>{x.characterConditionals,K.SUMMONS.set(1,p)},precomputeEffects:(K,x,w)=>{const W=x.characterConditionals;K.BASIC_ATK_SCALING.buff(y,s),K.SKILL_ATK_SCALING.buff(U,f),K.FUA_ATK_SCALING.buff(M*2,p),K.ULT_ATK_SCALING.buff(N,d),K.BREAK_EFFICIENCY_BOOST.buff(t>=1?.5:0,P),K.FUA_ATK_SCALING.buff(t>=6&&W.e6ResShred?.5:0,R),K.BASIC_TOUGHNESS_DMG.buff(10,s),K.SKILL_TOUGHNESS_DMG.buff(10,f),K.ULT_TOUGHNESS_DMG.buff(20,d),K.FUA_TOUGHNESS_DMG.buff(10*2,p),K.FUA_TOUGHNESS_DMG.buff(t>=6?5:0,R),W.healAbility==Y&&(K.HEAL_TYPE.set(Y,f),K.HEAL_SCALING.buff(O,f),K.HEAL_FLAT.buff(h,f)),W.healAbility==$&&(K.HEAL_TYPE.set($,d),K.HEAL_SCALING.buff(T,d),K.HEAL_FLAT.buff(B,d)),W.healAbility==0&&(K.HEAL_TYPE.set(0,p),K.HEAL_SCALING.buff(u,p),K.HEAL_FLAT.buff(C,p))},precomputeMutualEffects:(K,x,w)=>{const W=x.characterConditionals;K.a[l.ENEMY_WEAKNESS_BROKEN]&&K.DEF_PEN.buffTeam(t>=1&&W.e1DefShred?.2:0,P),gt(K,Dt,W.befogState?v:0,d,ct.TEAM),K.BE.buffTeam(t>=2&&W.e2BeBuff?.4:0,H),K.RES_PEN.buffTeam(t>=6&&W.e6ResShred?.2:0,R)},finalizeCalculations:(K,x,w)=>{St(K,x,w,E[w.enemyCount]),ko(K)},gpuFinalizeCalculations:(K,x)=>mt(E[x.enemyCount])+yo(),dynamicConditionals:[{id:"LingshaConversionConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.BE],chainsTo:[g.ATK,g.OHB],condition:function(K,x,w){return!0},effect:function(K,x,w){if(!x.characterConditionals.beConversion)return;const rt=x.conditionalState[this.id]||0,Mt=Math.min(.5,.25*K.a[l.BE])*w.baseATK,kt=Math.min(.2,.1*K.a[l.BE]),Lt=Math.min(.5,.25*rt)*w.baseATK,xt=Math.min(.2,.1*rt);x.conditionalState[this.id]=K.a[l.BE];const Se=Mt-(rt?Lt:0),Ce=kt-(rt?xt:0);K.ATK.buffDynamic(Se,L,x,w),K.OHB.buffDynamic(Ce,L,x,w)},gpu:function(K,x){const w=K.characterConditionals;return ut(this,`
if (${ee(w.beConversion)}) {
  return;
}

let stateValue: f32 = (*p_state).LingshaConversionConditional;

let buffValueAtk = min(0.50, 0.25 * x.BE) * baseATK;
let buffValueOhb = min(0.20, 0.10 * x.BE);

let stateBuffValueAtk = min(0.50, 0.25 * stateValue) * baseATK;
let stateBuffValueOhb = min(0.20, 0.10 * stateValue);

(*p_state).LingshaConversionConditional = x.BE;

let finalBuffAtk = buffValueAtk - select(0, stateBuffValueAtk, stateValue > 0);
let finalBuffOhb = buffValueOhb - select(0, stateBuffValueOhb, stateValue > 0);

(*p_x).ATK += finalBuffAtk;
(*p_x).OHB += finalBuffOhb;
`)}}]}},qs=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Luocha"),a=m.wrappedFixedT(n).get(null,"conditionals","Common.HealAbility"),{basic:o,skill:i,ult:r,talent:c}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:s,SOURCE_SKILL:f,SOURCE_ULT:d,SOURCE_TALENT:p,SOURCE_TECHNIQUE:_,SOURCE_TRACE:L,SOURCE_MEMO:I,SOURCE_E1:P,SOURCE_E2:H,SOURCE_E4:F,SOURCE_E6:R}=A.character("1203"),y=o(t,1,1.1),U=r(t,2,2.16),N=i(t,.6,.64),v=i(t,800,890),M=c(t,.18,.192),O=c(t,240,267),h={healAbility:0,fieldActive:!0,e6ResReduction:!0},T={fieldActive:!0,e6ResReduction:!0},B={healAbility:{id:"healAbility",formItem:"select",text:a("Text"),content:a("Content"),options:[{display:a("Skill"),value:Y,label:a("Skill")},{display:a("Talent"),value:0,label:a("Talent")}],fullWidth:!0},fieldActive:{id:"fieldActive",formItem:"switch",text:e("Content.fieldActive.text"),content:e("Content.fieldActive.content")},e6ResReduction:{id:"e6ResReduction",formItem:"switch",text:e("Content.e6ResReduction.text"),content:e("Content.e6ResReduction.content"),disabled:t<6}},u={fieldActive:B.fieldActive,e6ResReduction:B.e6ResReduction};return{activeAbilities:[G.BASIC,G.ULT],content:()=>Object.values(B),teammateContent:()=>Object.values(u),defaults:()=>h,teammateDefaults:()=>T,precomputeEffects:(C,E,S)=>{const b=E.characterConditionals;return C.BASIC_ATK_SCALING.buff(y,s),C.ULT_ATK_SCALING.buff(U,d),C.BASIC_TOUGHNESS_DMG.buff(10,s),C.ULT_TOUGHNESS_DMG.buff(20,d),b.healAbility==Y&&(C.HEAL_TYPE.set(Y,f),C.HEAL_SCALING.buff(N,f),C.HEAL_FLAT.buff(v,f)),b.healAbility==0&&(C.HEAL_TYPE.set(0,p),C.HEAL_SCALING.buff(M,p),C.HEAL_FLAT.buff(O,p)),C},precomputeMutualEffects:(C,E,S)=>{const b=E.characterConditionals;C.ATK_P.buffTeam(t>=1&&b.fieldActive?.2:0,P),C.RES_PEN.buffTeam(t>=6&&b.e6ResReduction?.2:0,R)},finalizeCalculations:C=>{ko(C)},gpuFinalizeCalculations:()=>yo()}},tc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.March7thImaginary"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1224"),R=a(t,1,1.1),y=a(t,.8,.88),U=a(t,.2,.22),N=i(t,2.4,2.592),v=r(t,.8,.88),M=o(t,.1,.108),O=.06*(1*.4+2*.6),h={enhancedBasic:!0,basicAttackHits:6,talentDmgBuff:!0,selfSpdBuff:!0,masterAdditionalDmgBuff:!0,masterToughnessRedBuff:!0,e6CdBuff:!0},T={masterBuff:!0,masterCdBeBuffs:!0},B={enhancedBasic:{id:"enhancedBasic",formItem:"switch",text:e("Content.enhancedBasic.text"),content:e("Content.enhancedBasic.content",{BasicEnhancedScaling:m.precisionRound(100*y)})},basicAttackHits:{id:"basicAttackHits",formItem:"slider",text:e("Content.basicAttackHits.text"),content:e("Content.basicAttackHits.content",{BasicEnhancedScaling:m.precisionRound(100*y)}),min:3,max:6},masterAdditionalDmgBuff:{id:"masterAdditionalDmgBuff",formItem:"switch",text:e("Content.masterAdditionalDmgBuff.text"),content:e("Content.masterAdditionalDmgBuff.content",{ShifuDmgBuff:m.precisionRound(100*U)})},masterToughnessRedBuff:{id:"masterToughnessRedBuff",formItem:"switch",text:e("Content.masterToughnessRedBuff.text"),content:e("Content.masterToughnessRedBuff.content")},talentDmgBuff:{id:"talentDmgBuff",formItem:"switch",text:e("Content.talentDmgBuff.text"),content:e("Content.talentDmgBuff.content",{TalentDmgBuff:m.precisionRound(100*v)})},selfSpdBuff:{id:"selfSpdBuff",formItem:"switch",text:e("Content.selfSpdBuff.text"),content:e("Content.selfSpdBuff.content"),disabled:t<1},e6CdBuff:{id:"e6CdBuff",formItem:"switch",text:e("Content.e6CdBuff.text"),content:e("Content.e6CdBuff.content"),disabled:t<6}},u={masterBuff:{id:"masterBuff",formItem:"switch",text:e("TeammateContent.masterBuff.text"),content:e("TeammateContent.masterBuff.content",{ShifuSpeedBuff:m.precisionRound(100*M)})},masterCdBeBuffs:{id:"masterCdBeBuffs",formItem:"switch",text:e("TeammateContent.masterCdBeBuffs.text"),content:e("TeammateContent.masterCdBeBuffs.content")}};return{activeAbilities:[G.BASIC,G.ULT,G.FUA],content:()=>Object.values(B),teammateContent:()=>Object.values(u),defaults:()=>h,teammateDefaults:()=>T,precomputeEffects:(C,E,S)=>{const b=E.characterConditionals;C.SPD_P.buff(t>=1&&b.selfSpdBuff?.1:0,I),z(C,st|Le,b.talentDmgBuff?v:0,d),Ut(C,st|Le,t>=6&&b.e6CdBuff&&b.enhancedBasic?.5:0,F);const k=b.masterAdditionalDmgBuff?U*b.basicAttackHits:0;C.BASIC_ATK_SCALING.buff(b.enhancedBasic?y*b.basicAttackHits:R,c),C.BASIC_ADDITIONAL_DMG_SCALING.buff(b.enhancedBasic?k:U,s),C.ULT_ATK_SCALING.buff(N,f),C.FUA_ATK_SCALING.buff(t>=2?.6:0,P);const D=b.masterToughnessRedBuff?2:1;return C.BASIC_TOUGHNESS_DMG.buff(D*(b.enhancedBasic?5*b.basicAttackHits:10),c),C.ULT_TOUGHNESS_DMG.buff(30,f),C.FUA_TOUGHNESS_DMG.buff(t>=2?10:0,P),C},precomputeTeammateEffects:(C,E,S)=>{const b=E.characterConditionals;C.SPD_P.buff(b.masterBuff?M:0,s),C.CD.buff(b.masterBuff&&b.masterCdBeBuffs?.6:0,_),C.BE.buff(b.masterBuff&&b.masterCdBeBuffs?.36:0,_)},finalizeCalculations:(C,E,S)=>{St(C,E,S,O),At(C)},gpuFinalizeCalculations:(C,E)=>mt(O)+bt()}},ec=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Moze"),{basic:a,skill:o,ult:i,talent:r}=V.ULT_TALENT_3_SKILL_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1223"),R=a(t,1,1.1),y=o(t,1.5,1.65),U=i(t,2.7,2.916),N=r(t,1.6,1.76),v=r(t,.3,.33),M=.06*(1*.08+2*.08+3*.08+4*.08+5*.08+6*.6),O={preyMark:!0,e2CdBoost:!0,e4DmgBuff:!0,e6MultiplierIncrease:!0},h={preyMark:!0,e2CdBoost:!0},T={preyMark:{id:"preyMark",formItem:"switch",text:e("Content.preyMark.text"),content:e("Content.preyMark.content",{PreyAdditionalMultiplier:m.precisionRound(100*v),FuaScaling:m.precisionRound(100*N)})},e2CdBoost:{id:"e2CdBoost",formItem:"switch",text:e("Content.e2CdBoost.text"),content:e("Content.e2CdBoost.content"),disabled:t<2},e4DmgBuff:{id:"e4DmgBuff",formItem:"switch",text:e("Content.e4DmgBuff.text"),content:e("Content.e4DmgBuff.content"),disabled:t<4},e6MultiplierIncrease:{id:"e6MultiplierIncrease",formItem:"switch",text:e("Content.e6MultiplierIncrease.text"),content:e("Content.e6MultiplierIncrease.content"),disabled:t<6}},B={preyMark:T.preyMark,e2CdBoost:T.e2CdBoost};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.FUA],content:()=>Object.values(T),teammateContent:()=>Object.values(B),defaults:()=>O,teammateDefaults:()=>h,initializeConfigurations:(u,C,E)=>{u.ULT_DMG_TYPE.set($|Z,_)},precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;return u.ELEMENTAL_DMG.buff(t>=4&&S.e4DmgBuff?.3:0,H),u.BASIC_ATK_SCALING.buff(R,c),u.SKILL_ATK_SCALING.buff(y,s),u.FUA_ATK_SCALING.buff(N,d),u.FUA_ATK_SCALING.buff(t>=6&&S.e6MultiplierIncrease?.25:0,F),u.ULT_ATK_SCALING.buff(U,f),u.BASIC_ADDITIONAL_DMG_SCALING.buff(S.preyMark?v:0,c),u.SKILL_ADDITIONAL_DMG_SCALING.buff(S.preyMark?v:0,s),u.FUA_ADDITIONAL_DMG_SCALING.buff(S.preyMark?v:0,d),u.ULT_ADDITIONAL_DMG_SCALING.buff(S.preyMark?v:0,f),u.BASIC_TOUGHNESS_DMG.buff(10,c),u.SKILL_TOUGHNESS_DMG.buff(20,s),u.ULT_TOUGHNESS_DMG.buff(30,d),u.FUA_TOUGHNESS_DMG.buff(10,f),u},precomputeMutualEffects:(u,C,E)=>{const S=C.characterConditionals;gt(u,Z,S.preyMark?.25:0,_,ct.TEAM),u.CD.buffTeam(t>=2&&S.preyMark&&S.e2CdBoost?.4:0,P)},finalizeCalculations:(u,C,E)=>{St(u,C,E,M),At(u)},gpuFinalizeCalculations:(u,C)=>mt(M)+bt()}},nc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Qingque"),{basic:a,skill:o,ult:i,talent:r}=V.ULT_TALENT_3_SKILL_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1201"),R=o(t,.38,.408),y=r(t,.72,.792),U=a(t,1,1.1),N=a(t,2.4,2.64),v=i(t,2,2.16),M={1:.06*(1*1/1),3:.06*(2*1/1),5:.06*(2*1/1)},O=.06*(1*1/1);function h(u,C){return u.characterConditionals.basicEnhanced?M[C.enemyCount]:O}const T={basicEnhanced:!0,basicEnhancedSpdBuff:!1,skillDmgIncreaseStacks:4},B={basicEnhanced:{id:"basicEnhanced",formItem:"switch",text:e("Content.basicEnhanced.text"),content:e("Content.basicEnhanced.content",{talentAtkBuff:m.precisionRound(100*y)})},basicEnhancedSpdBuff:{id:"basicEnhancedSpdBuff",formItem:"switch",text:e("Content.basicEnhancedSpdBuff.text"),content:e("Content.basicEnhancedSpdBuff.content")},skillDmgIncreaseStacks:{id:"skillDmgIncreaseStacks",formItem:"slider",text:e("Content.skillDmgIncreaseStacks.text"),content:e("Content.skillDmgIncreaseStacks.content",{skillStackDmg:m.precisionRound(100*R)}),min:0,max:4}};return{activeAbilities:[G.BASIC,G.ULT,G.FUA],content:()=>Object.values(B),defaults:()=>T,precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;return u.ATK_P.buff(S.basicEnhanced?y:0,d),u.SPD_P.buff(S.basicEnhancedSpdBuff?.1:0,_),u.BASIC_ATK_SCALING.buff(S.basicEnhanced?N:U,c),u.ULT_ATK_SCALING.buff(v,f),u.FUA_ATK_SCALING.buff(t>=4?S.basicEnhanced?N:U:0,H),u.ELEMENTAL_DMG.buff(S.skillDmgIncreaseStacks*R,s),z(u,$,t>=1?.1:0,I),u.BASIC_TOUGHNESS_DMG.buff(S.basicEnhanced?20:10,c),u.ULT_TOUGHNESS_DMG.buff(20,f),u.FUA_TOUGHNESS_DMG.buff(t>=4&&S.basicEnhanced?20:10,H),u},finalizeCalculations:(u,C,E)=>{St(u,C,E,h(C,E))},gpuFinalizeCalculations:(u,C)=>mt(h(u,C))}},oc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Sushang"),{basic:a,skill:o,ult:i,talent:r}=V.ULT_TALENT_3_SKILL_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1206"),R=r(t,.2,.21),y=i(t,.3,.324),U=t>=6?2:1,N=a(t,1,1.1),v=o(t,2.1,2.31),M=o(t,1,1.1),O=i(t,3.2,3.456),h={ultBuffedState:!0,e2DmgReductionBuff:!0,skillExtraHits:3,skillTriggerStacks:10,talentSpdBuffStacks:U},T={ultBuffedState:{id:"ultBuffedState",formItem:"switch",text:e("Content.ultBuffedState.text"),content:e("Content.ultBuffedState.content",{ultBuffedAtk:m.precisionRound(100*y)})},skillExtraHits:{id:"skillExtraHits",formItem:"slider",text:e("Content.skillExtraHits.text"),content:e("Content.skillExtraHits.content"),min:0,max:3},skillTriggerStacks:{id:"skillTriggerStacks",formItem:"slider",text:e("Content.skillTriggerStacks.text"),content:e("Content.skillTriggerStacks.content"),min:0,max:10},talentSpdBuffStacks:{id:"talentSpdBuffStacks",formItem:"slider",text:e("Content.talentSpdBuffStacks.text"),content:e("Content.talentSpdBuffStacks.content",{talentSpdBuffValue:m.precisionRound(100*R)}),min:0,max:U},e2DmgReductionBuff:{id:"e2DmgReductionBuff",formItem:"switch",text:e("Content.e2DmgReductionBuff.text"),content:e("Content.e2DmgReductionBuff.content"),disabled:t<2}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT],content:()=>Object.values(T),defaults:()=>h,precomputeEffects:(B,u,C)=>{const E=u.characterConditionals;B.BE.buff(t>=4?.4:0,H),B.ATK_P.buff(E.ultBuffedState?y:0,f),B.SPD_P.buff(E.talentSpdBuffStacks*R,d);const S=v;let b=0;return b+=E.skillExtraHits>=1?M:0,b+=E.ultBuffedState&&E.skillExtraHits>=2?M*.5:0,b+=E.ultBuffedState&&E.skillExtraHits>=3?M*.5:0,B.BASIC_ATK_SCALING.buff(N,c),B.SKILL_ATK_SCALING.buff(S,s),B.SKILL_ADDITIONAL_DMG_SCALING.buff(b,s),B.ULT_ATK_SCALING.buff(O,f),z(B,Le,E.skillTriggerStacks*.025,s),B.DMG_RED_MULTI.multiply(t>=2&&E.e2DmgReductionBuff?1-.2:1,P),B.BASIC_TOUGHNESS_DMG.buff(10,c),B.SKILL_TOUGHNESS_DMG.buff(20,s),B.ULT_TOUGHNESS_DMG.buff(30,f),B},finalizeCalculations:B=>{At(B)},gpuFinalizeCalculations:()=>bt()}},ac=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Tingyun"),{basic:a,skill:o,ult:i,talent:r}=V.ULT_BASIC_3_SKILL_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1202"),R=o(t,.25,.27),y=i(t,.5,.56),U=o(t,.5,.55),N=o(t,.4,.44)+(t>=4?.2:0),v=r(t,.6,.66)+(t>=4?.2:0),M=a(t,1,1.1),O={benedictionBuff:!1,skillSpdBuff:!1,ultSpdBuff:!1,ultDmgBuff:!1},h={benedictionBuff:!0,ultSpdBuff:!1,ultDmgBuff:!0,teammateAtkBuffValue:U},T={benedictionBuff:{id:"benedictionBuff",formItem:"switch",text:e("Content.benedictionBuff.text"),content:e("Content.benedictionBuff.content",{skillAtkBoostScaling:m.precisionRound(100*U),skillAtkBoostMax:m.precisionRound(100*R),skillLightningDmgBoostScaling:m.precisionRound(100*N)})},skillSpdBuff:{id:"skillSpdBuff",formItem:"switch",text:e("Content.skillSpdBuff.text"),content:e("Content.skillSpdBuff.content")},ultDmgBuff:{id:"ultDmgBuff",formItem:"switch",text:e("Content.ultDmgBuff.text"),content:e("Content.ultDmgBuff.content",{ultDmgBoost:m.precisionRound(100*y)})},ultSpdBuff:{id:"ultSpdBuff",formItem:"switch",text:e("Content.ultSpdBuff.text"),content:e("Content.ultSpdBuff.content"),disabled:t<1}},B={benedictionBuff:T.benedictionBuff,teammateAtkBuffValue:{id:"teammateAtkBuffValue",formItem:"slider",text:e("TeammateContent.teammateAtkBuffValue.text"),content:e("TeammateContent.teammateAtkBuffValue.content",{skillAtkBoostScaling:m.precisionRound(100*U),skillAtkBoostMax:m.precisionRound(100*R),skillLightningDmgBoostScaling:m.precisionRound(100*N)}),min:0,max:U,percent:!0},ultDmgBuff:T.ultDmgBuff,ultSpdBuff:T.ultSpdBuff};return{activeAbilities:[G.BASIC],content:()=>Object.values(T),teammateContent:()=>Object.values(B),defaults:()=>O,teammateDefaults:()=>h,precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;return u.SPD_P.buff(S.skillSpdBuff?.2:0,_),u.BASIC_ATK_SCALING.buff(M,c),u.BASIC_ADDITIONAL_DMG_SCALING.buff(S.benedictionBuff?N+v:0,s),z(u,st,.4,_),u.BASIC_TOUGHNESS_DMG.buff(10,c),u},precomputeMutualEffects:(u,C,E)=>{const S=C.characterConditionals;u.SPD_P.buffSingle(t>=1&&S.ultSpdBuff?.2:0,I),u.ELEMENTAL_DMG.buffSingle(S.ultDmgBuff?y:0,f)},precomputeTeammateEffects:(u,C,E)=>{const S=C.characterConditionals;u.ATK_P.buffSingle(S.benedictionBuff?S.teammateAtkBuffValue:0,s)},finalizeCalculations:(u,C,E)=>{At(u)},gpuFinalizeCalculations:(u,C)=>bt(),dynamicConditionals:[{id:"TingyunAtkConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.ATK],chainsTo:[g.ATK],condition:function(u,C,E){return C.characterConditionals.benedictionBuff},effect:function(u,C,E){Ct(g.ATK,g.ATK,this,u,C,E,_,S=>S*R)},gpu:function(u,C){const E=u.characterConditionals;return Et(g.ATK,g.ATK,this,u,C,`${R} * convertibleValue`,`${nt(E.benedictionBuff)}`)}}]}},ic=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Xueyi"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1214"),R=i(t,.6,.648),y=a(t,1,1.1),U=o(t,1.4,1.54),N=i(t,2.5,2.7),v=r(t,.9,.99),M={0:0,1:.06*(1*1/1),2:.06*(1*1/2+2*1/2),3:.06*(1*1/3+2*1/3+3*1/3)},O={beToDmgBoost:!0,enemyToughness50:!0,toughnessReductionDmgBoost:R,fuaHits:3,e4BeBuff:!0},h={beToDmgBoost:{id:"beToDmgBoost",formItem:"switch",text:e("Content.beToDmgBoost.text"),content:e("Content.beToDmgBoost.content")},enemyToughness50:{id:"enemyToughness50",formItem:"switch",text:e("Content.enemyToughness50.text"),content:e("Content.enemyToughness50.content")},toughnessReductionDmgBoost:{id:"toughnessReductionDmgBoost",formItem:"slider",text:e("Content.toughnessReductionDmgBoost.text"),content:e("Content.toughnessReductionDmgBoost.content",{ultBoostMax:m.precisionRound(100*R)}),min:0,max:R,percent:!0},fuaHits:{id:"fuaHits",formItem:"slider",text:e("Content.fuaHits.text"),content:e("Content.fuaHits.content",{fuaScaling:m.precisionRound(100*v)}),min:0,max:3},e4BeBuff:{id:"e4BeBuff",formItem:"switch",text:e("Content.e4BeBuff.text"),content:e("Content.e4BeBuff.content"),disabled:t<4}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.FUA],content:()=>Object.values(h),defaults:()=>O,precomputeEffects:(T,B,u)=>{const C=B.characterConditionals;return T.BE.buff(t>=4&&C.e4BeBuff?.4:0,H),T.BASIC_ATK_SCALING.buff(y,c),T.SKILL_ATK_SCALING.buff(U,s),T.ULT_ATK_SCALING.buff(N,f),T.FUA_ATK_SCALING.buff(v*C.fuaHits,d),z(T,$,C.toughnessReductionDmgBoost,f),z(T,$,C.enemyToughness50?.1:0,_),z(T,Z,t>=1?.4:0,I),T.BASIC_TOUGHNESS_DMG.buff(10,c),T.SKILL_TOUGHNESS_DMG.buff(20,s),T.ULT_TOUGHNESS_DMG.buff(40,f),T.FUA_TOUGHNESS_DMG.buff(5*C.fuaHits,d),T},finalizeCalculations:(T,B,u)=>{const C=B.characterConditionals;T.ELEMENTAL_DMG.buff(C.beToDmgBoost?Math.min(2.4,T.a[l.BE]):0,_),St(T,B,u,M[B.characterConditionals.fuaHits])},gpuFinalizeCalculations:(T,B)=>{const u=T.characterConditionals;return`
if (${nt(u.beToDmgBoost)}) {
  x.ELEMENTAL_DMG += min(2.40, x.BE);
}

${mt(M[T.characterConditionals.fuaHits])}
`}}},sc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Yanqing"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1209"),R=i(t,.5,.54),y=i(t,.3,.33),U=i(t,.2,.21),N=a(t,1,1.1),v=o(t,2.2,2.42),M=i(t,3.5,3.78),O=r(t,.5,.55),h=.06*(1*1/1),T={ultBuffActive:!0,soulsteelBuffActive:!0,critSpdBuff:!0,e1TargetFrozen:!0,e4CurrentHp80:!0},B={ultBuffActive:{id:"ultBuffActive",formItem:"switch",text:e("Content.ultBuffActive.text"),content:e("Content.ultBuffActive.content",{ultCdBuffValue:m.precisionRound(100*R)})},soulsteelBuffActive:{id:"soulsteelBuffActive",formItem:"switch",text:e("Content.soulsteelBuffActive.text"),content:e("Content.soulsteelBuffActive.content",{talentCdBuffValue:m.precisionRound(100*y),talentCrBuffValue:m.precisionRound(100*U),ultCdBuffValue:m.precisionRound(100*R)})},critSpdBuff:{id:"critSpdBuff",formItem:"switch",text:e("Content.critSpdBuff.text"),content:e("Content.critSpdBuff.content")},e1TargetFrozen:{id:"e1TargetFrozen",formItem:"switch",text:e("Content.e1TargetFrozen.text"),content:e("Content.e1TargetFrozen.content"),disabled:t<1},e4CurrentHp80:{id:"e4CurrentHp80",formItem:"switch",text:e("Content.e4CurrentHp80.text"),content:e("Content.e4CurrentHp80.content"),disabled:t<4}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.FUA],content:()=>Object.values(B),defaults:()=>T,precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;return u.CR.buff(S.ultBuffActive?.6:0,f),u.CD.buff(S.ultBuffActive&&S.soulsteelBuffActive?R:0,f),u.CR.buff(S.soulsteelBuffActive?U:0,d),u.CD.buff(S.soulsteelBuffActive?y:0,d),u.RES.buff(S.soulsteelBuffActive?.2:0,_),u.SPD_P.buff(S.critSpdBuff?.1:0,_),u.ERR.buff(t>=2&&S.soulsteelBuffActive?.1:0,P),u.BASIC_ATK_SCALING.buff(N,c),u.SKILL_ATK_SCALING.buff(v,s),u.ULT_ATK_SCALING.buff(M,f),u.FUA_ATK_SCALING.buff(O,d),u.BASIC_ADDITIONAL_DMG_SCALING.buff(E.enemyElementalWeak?.3:0,c),u.SKILL_ADDITIONAL_DMG_SCALING.buff(E.enemyElementalWeak?.3:0,s),u.ULT_ADDITIONAL_DMG_SCALING.buff(E.enemyElementalWeak?.3:0,f),u.FUA_ADDITIONAL_DMG_SCALING.buff(E.enemyElementalWeak?.3:0,d),u.BASIC_ATK_SCALING.buff(t>=1&&S.e1TargetFrozen?.6:0,I),u.SKILL_ATK_SCALING.buff(t>=1&&S.e1TargetFrozen?.6:0,I),u.ULT_ATK_SCALING.buff(t>=1&&S.e1TargetFrozen?.6:0,I),u.FUA_ATK_SCALING.buff(t>=1&&S.e1TargetFrozen?.6:0,I),u.ICE_RES_PEN.buff(t>=4&&S.e4CurrentHp80?.12:0,H),u.BASIC_TOUGHNESS_DMG.buff(10,c),u.SKILL_TOUGHNESS_DMG.buff(20,s),u.ULT_TOUGHNESS_DMG.buff(30,f),u.FUA_TOUGHNESS_DMG.buff(10,d),u},finalizeCalculations:(u,C,E)=>{St(u,C,E,h),At(u)},gpuFinalizeCalculations:(u,C)=>mt(h)+bt()}},cc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Yukong"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1207"),R=o(t,.8,.88),y=o(t,.65,.702),U=o(t,.28,.294),N=r(t,.8,.88),v=a(t,1,1.1),M=i(t,3.8,4.104),O={teamImaginaryDmgBoost:!0,roaringBowstringsActive:!0,ultBuff:!0,initialSpeedBuff:!0},h={teamImaginaryDmgBoost:!0,roaringBowstringsActive:!0,ultBuff:!0,initialSpeedBuff:!0},T={teamImaginaryDmgBoost:{id:"teamImaginaryDmgBoost",formItem:"switch",text:e("Content.teamImaginaryDmgBoost.text"),content:e("Content.teamImaginaryDmgBoost.content")},roaringBowstringsActive:{id:"roaringBowstringsActive",formItem:"switch",text:e("Content.roaringBowstringsActive.text"),content:e("Content.roaringBowstringsActive.content",{skillAtkBuffValue:m.precisionRound(100*R)})},ultBuff:{id:"ultBuff",formItem:"switch",text:e("Content.ultBuff.text"),content:e("Content.ultBuff.content",{ultCrBuffValue:m.precisionRound(100*U),ultCdBuffValue:m.precisionRound(100*y),ultScaling:m.precisionRound(100*M)})},initialSpeedBuff:{id:"initialSpeedBuff",formItem:"switch",text:e("Content.initialSpeedBuff.text"),content:e("Content.initialSpeedBuff.content"),disabled:t<1}},B={teamImaginaryDmgBoost:T.teamImaginaryDmgBoost,roaringBowstringsActive:T.roaringBowstringsActive,ultBuff:T.ultBuff,initialSpeedBuff:T.initialSpeedBuff};return{activeAbilities:[G.BASIC,G.ULT],content:()=>Object.values(T),teammateContent:()=>Object.values(B),defaults:()=>O,teammateDefaults:()=>h,precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;return u.BASIC_ATK_SCALING.buff(v,c),u.BASIC_ATK_SCALING.buff(N,d),u.ULT_ATK_SCALING.buff(M,f),u.ELEMENTAL_DMG.buff(t>=4&&S.roaringBowstringsActive?.3:0,H),u.BASIC_TOUGHNESS_DMG.buff(10,c),u.ULT_TOUGHNESS_DMG.buff(30,f),u},precomputeMutualEffects:(u,C,E)=>{const S=C.characterConditionals;u.ATK_P.buffTeam(S.roaringBowstringsActive?R:0,s),u.CR.buffTeam(S.ultBuff&&S.roaringBowstringsActive?U:0,f),u.CD.buffTeam(S.ultBuff&&S.roaringBowstringsActive?y:0,f),u.SPD_P.buffTeam(t>=1&&S.initialSpeedBuff?.1:0,I),u.IMAGINARY_DMG_BOOST.buffTeam(S.teamImaginaryDmgBoost?.12:0,_)},finalizeCalculations:u=>{},gpuFinalizeCalculations:()=>""}},rc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Yunli"),{basic:a,skill:o,ult:i,talent:r}=V.ULT_BASIC_3_SKILL_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1221"),R=a(t,1,1.1),y=o(t,1.2,1.32),U=i(t,2.2,2.376),N=i(t,2.2,2.376),v=i(t,.72,.7776),M=i(t,1,1.08),O=r(t,1.2,1.32),h=t>=1?9:6,T={1:.06*(1*1/1),3:.06*(2*1/1),5:.06*(3*1/1)},B={1:.06*(1*.12+2*.12+3*.12+4*.12+5*.12+6*.12+7*.12+8*.16),3:.06*(2*.12+5*.12+8*.12+8*.12+8*.12+8*.12+8*.12+8*.16),5:.06*(3*.12+8*.12+8*.12+8*.12+8*.12+8*.12+8*.12+8*.16)};function u(S,b){const k=S.characterConditionals;return k.blockActive&&k.ultCull?B[b.enemyCount]:T[b.enemyCount]}const C={blockActive:!0,ultCull:!0,ultCullHits:h,counterAtkBuff:!0,e1UltBuff:!0,e2DefShred:!0,e4ResBuff:!0,e6Buffs:!0},E={blockActive:{id:"blockActive",formItem:"switch",text:e("Content.blockActive.text"),content:e("Content.blockActive.content")},ultCull:{id:"ultCull",formItem:"switch",text:e("Content.ultCull.text"),content:e("Content.ultCull.content",{CullScaling:m.precisionRound(100*N),CullAdjacentScaling:m.precisionRound(100*.5*N),CullAdditionalScaling:m.precisionRound(100*v)})},ultCullHits:{id:"ultCullHits",formItem:"slider",text:e("Content.ultCullHits.text"),content:e("Content.ultCullHits.content",{CullScaling:m.precisionRound(100*N),CullAdjacentScaling:m.precisionRound(100*.5*N),CullAdditionalScaling:m.precisionRound(100*v)}),min:0,max:h},counterAtkBuff:{id:"counterAtkBuff",formItem:"switch",text:e("Content.counterAtkBuff.text"),content:e("Content.counterAtkBuff.content")},e1UltBuff:{id:"e1UltBuff",formItem:"switch",text:e("Content.e1UltBuff.text"),content:e("Content.e1UltBuff.content"),disabled:t<1},e2DefShred:{id:"e2DefShred",formItem:"switch",text:e("Content.e2DefShred.text"),content:e("Content.e2DefShred.content"),disabled:t<2},e4ResBuff:{id:"e4ResBuff",formItem:"switch",text:e("Content.e4ResBuff.text"),content:e("Content.e4ResBuff.content"),disabled:t<4},e6Buffs:{id:"e6Buffs",formItem:"switch",text:e("Content.e6Buffs.text"),content:e("Content.e6Buffs.content"),disabled:t<6}};return{activeAbilities:[G.BASIC,G.SKILL,G.FUA],content:()=>Object.values(E),defaults:()=>C,initializeConfigurations:(S,b,k)=>{const D=b.characterConditionals;D.blockActive&&D.ultCull&&S.FUA_DMG_TYPE.set($|Z,f)},precomputeEffects:(S,b,k)=>{const D=b.characterConditionals;return S.BASIC_ATK_SCALING.buff(R,c),S.SKILL_ATK_SCALING.buff(y,s),D.blockActive?D.ultCull?S.FUA_ATK_SCALING.buff(N+D.ultCullHits*v,f):S.FUA_ATK_SCALING.buff(U,f):S.FUA_ATK_SCALING.buff(O,d),Ut(S,Z,D.blockActive?M:0,f),S.ATK_P.buff(D.counterAtkBuff?.3:0,_),S.DMG_RED_MULTI.multiply(D.blockActive?1-.2:1,_),z(S,Z,t>=1&&D.e1UltBuff&&D.blockActive?.2:0,I),Rt(S,Z,t>=2&&D.e2DefShred?.2:0,P),S.RES.buff(t>=4&&D.e4ResBuff?.5:0,H),po(S,Z,t>=6&&D.e6Buffs&&D.blockActive?.15:0,F),Kt(S,Z,t>=6&&D.e6Buffs&&D.blockActive?.2:0,F),S.BASIC_TOUGHNESS_DMG.buff(10,c),S.SKILL_TOUGHNESS_DMG.buff(20,s),S.FUA_TOUGHNESS_DMG.buff(D.blockActive?20:10,f),S.FUA_TOUGHNESS_DMG.buff(D.blockActive&&D.ultCull?D.ultCullHits*5:0,f),S},finalizeCalculations:(S,b,k)=>{St(S,b,k,u(b,k))},gpuFinalizeCalculations:(S,b)=>mt(u(S,b))}},lc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Acheron"),{basic:a,skill:o,ult:i,talent:r}=V.ULT_BASIC_3_SKILL_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1308"),R=a(t,1,1.1),y=o(t,1.6,1.76),U=i(t,.24,.2592),N=i(t,.15,.162),v=i(t,1.2,1.296),M=.25,O=r(t,.2,.22),h=9,T={0:0,1:t>=2?.6:.15,2:.6,3:.6,4:.6},B={crimsonKnotStacks:h,nihilityTeammatesBuff:!0,e1EnemyDebuffed:!0,thunderCoreStacks:3,stygianResurgeHitsOnTarget:6,e4UltVulnerability:!0,e6UltBuffs:!0},u={e4UltVulnerability:!0},C={crimsonKnotStacks:{id:"crimsonKnotStacks",formItem:"slider",text:e("Content.crimsonKnotStacks.text"),content:e("Content.crimsonKnotStacks.content",{RainbladeScaling:m.precisionRound(100*U),CrimsonKnotScaling:m.precisionRound(100*N)}),min:0,max:h},nihilityTeammatesBuff:{id:"nihilityTeammatesBuff",formItem:"switch",text:e("Content.nihilityTeammatesBuff.text"),content:e("Content.nihilityTeammatesBuff.content")},thunderCoreStacks:{id:"thunderCoreStacks",formItem:"slider",text:e("Content.thunderCoreStacks.text"),content:e("Content.thunderCoreStacks.content"),min:0,max:3},stygianResurgeHitsOnTarget:{id:"stygianResurgeHitsOnTarget",formItem:"slider",text:e("Content.stygianResurgeHitsOnTarget.text"),content:e("Content.stygianResurgeHitsOnTarget.content"),min:0,max:6},e1EnemyDebuffed:{id:"e1EnemyDebuffed",formItem:"switch",text:e("Content.e1EnemyDebuffed.text"),content:e("Content.e1EnemyDebuffed.content"),disabled:t<1},e4UltVulnerability:{id:"e4UltVulnerability",formItem:"switch",text:e("Content.e4UltVulnerability.text"),content:e("Content.e4UltVulnerability.content"),disabled:t<4},e6UltBuffs:{id:"e6UltBuffs",formItem:"switch",text:e("Content.e6UltBuffs.text"),content:e("Content.e6UltBuffs.content"),disabled:t<6}},E={e4UltVulnerability:C.e4UltVulnerability};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT],content:()=>Object.values(C),teammateContent:()=>Object.values(E),defaults:()=>B,teammateDefaults:()=>u,initializeConfigurations:(S,b,k)=>{const D=b.characterConditionals;t>=6&&D.e6UltBuffs&&(S.BASIC_DMG_TYPE.set($|st,F),S.SKILL_DMG_TYPE.set($|Y,F))},precomputeEffects:(S,b,k)=>{const D=b.characterConditionals;S.CR_BOOST.buff(t>=1&&D.e1EnemyDebuffed?.18:0,I),S.ELEMENTAL_DMG.buff(D.thunderCoreStacks*.3,_),Kt(S,$,O,d),Kt(S,$,t>=6&&D.e6UltBuffs?.2:0,F);const K=D.nihilityTeammatesBuff?T[te(k,Jt.Nihility)-1]:0;return S.BASIC_FINAL_DMG_BOOST.buff(K,_),S.SKILL_FINAL_DMG_BOOST.buff(K,_),S.ULT_FINAL_DMG_BOOST.buff(K,_),S.BASIC_ATK_SCALING.buff(R,c),S.SKILL_ATK_SCALING.buff(y,s),S.ULT_ATK_SCALING.buff(3*U,f),S.ULT_ATK_SCALING.buff(3*N,f),S.ULT_ATK_SCALING.buff(N*D.crimsonKnotStacks,f),S.ULT_ATK_SCALING.buff(v,f),S.ULT_ATK_SCALING.buff(D.stygianResurgeHitsOnTarget*M,f),S.BASIC_TOUGHNESS_DMG.buff(10,c),S.SKILL_TOUGHNESS_DMG.buff(20,s),S.ULT_TOUGHNESS_DMG.buff(35,f),S},precomputeMutualEffects:(S,b,k)=>{const D=b.characterConditionals;gt(S,$,t>=4&&D.e4UltVulnerability?.08:0,H,ct.TEAM)},finalizeCalculations:S=>{},gpuFinalizeCalculations:()=>""}},fc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Argenti"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1302"),R=t>=4?12:10,y=a(t,1,1.1),U=o(t,1.2,1.32),N=i(t,1.6,1.728),v=i(t,2.8,3.024),M=i(t,.95,1.026),O=r(t,.025,.028),h={ultEnhanced:!0,talentStacks:R,ultEnhancedExtraHits:6,e2UltAtkBuff:!0,enemyHp50:!0},T={ultEnhanced:{id:"ultEnhanced",formItem:"switch",text:e("Content.ultEnhanced.text"),content:e("Content.ultEnhanced.content",{ultEnhancedExtraHitScaling:m.precisionRound(100*M),ultEnhancedScaling:m.precisionRound(100*v)})},enemyHp50:{id:"enemyHp50",formItem:"switch",text:e("Content.enemyHp50.text"),content:e("Content.enemyHp50.content")},talentStacks:{id:"talentStacks",formItem:"slider",text:e("Content.talentStacks.text"),content:e("Content.talentStacks.content",{talentMaxStacks:m.precisionRound(100*R),talentCrStackValue:m.precisionRound(100*O)}),min:0,max:R},ultEnhancedExtraHits:{id:"ultEnhancedExtraHits",formItem:"slider",text:e("Content.ultEnhancedExtraHits.text"),content:e("Content.ultEnhancedExtraHits.content",{ultEnhancedExtraHitScaling:m.precisionRound(100*M)}),min:0,max:6},e2UltAtkBuff:{id:"e2UltAtkBuff",formItem:"switch",text:e("Content.e2UltAtkBuff.text"),content:e("Content.e2UltAtkBuff.content"),disabled:t<2}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT],content:()=>Object.values(T),defaults:()=>h,precomputeEffects:(B,u,C)=>{const E=u.characterConditionals;return B.CR.buff(E.talentStacks*O,d),B.CD.buff(t>=1?E.talentStacks*.04:0,I),B.ATK_P.buff(t>=2&&E.e2UltAtkBuff?.4:0,P),B.BASIC_ATK_SCALING.buff(y,c),B.SKILL_ATK_SCALING.buff(U,s),B.ULT_ATK_SCALING.buff(E.ultEnhanced?v:N,f),B.ULT_ATK_SCALING.buff(E.ultEnhancedExtraHits*M,f),B.ELEMENTAL_DMG.buff(E.enemyHp50?.15:0,_),Rt(B,$,t>=6?.3:0,F),B.BASIC_TOUGHNESS_DMG.buff(10,c),B.SKILL_TOUGHNESS_DMG.buff(10,s),B.ULT_TOUGHNESS_DMG.buff(E.ultEnhanced?20+5*E.ultEnhancedExtraHits:20,f),B},finalizeCalculations:B=>{},gpuFinalizeCalculations:()=>""}},uc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Aventurine"),a=m.wrappedFixedT(n).get(null,"conditionals","Common.ShieldAbility"),{basic:o,skill:i,ult:r,talent:c}=V.ULT_BASIC_3_SKILL_TALENT_5,{SOURCE_BASIC:s,SOURCE_SKILL:f,SOURCE_ULT:d,SOURCE_TALENT:p,SOURCE_TECHNIQUE:_,SOURCE_TRACE:L,SOURCE_MEMO:I,SOURCE_E1:P,SOURCE_E2:H,SOURCE_E4:F,SOURCE_E6:R}=A.character("1304"),y=o(t,1,1.1),U=r(t,2.7,2.916),N=r(t,.15,.162),v=c(t,.25,.275),M=c(t,.5,.55),O=t>=4?10:7,h=i(t,.24,.256),T=i(t,320,356),B=.07,u=96,C={shieldAbility:Y,defToCrBoost:!0,fuaHitsOnTarget:O,fortifiedWagerBuff:!0,enemyUnnervedDebuff:!0,e2ResShred:!0,e4DefBuff:!0,e6ShieldStacks:3},E={fortifiedWagerBuff:!0,enemyUnnervedDebuff:!0,e2ResShred:!0},S={shieldAbility:{id:"shieldAbility",formItem:"select",text:a("Text"),content:a("Content"),options:[{display:a("Skill"),value:Y,label:a("Skill")},{display:a("Trace"),value:0,label:a("Trace")}],fullWidth:!0},defToCrBoost:{id:"defToCrBoost",formItem:"switch",text:e("Content.defToCrBoost.text"),content:e("Content.defToCrBoost.content")},fortifiedWagerBuff:{id:"fortifiedWagerBuff",formItem:"switch",text:e("Content.fortifiedWagerBuff.text"),content:e("Content.fortifiedWagerBuff.content",{talentResScaling:m.precisionRound(100*M)})},enemyUnnervedDebuff:{id:"enemyUnnervedDebuff",formItem:"switch",text:e("Content.enemyUnnervedDebuff.text"),content:e("Content.enemyUnnervedDebuff.content",{ultCdBoost:m.precisionRound(100*N)})},fuaHitsOnTarget:{id:"fuaHitsOnTarget",formItem:"slider",text:e("Content.fuaHitsOnTarget.text"),content:e("Content.fuaHitsOnTarget.content",{talentDmgScaling:m.precisionRound(100*v)}),min:0,max:O},e2ResShred:{id:"e2ResShred",formItem:"switch",text:e("Content.e2ResShred.text"),content:e("Content.e2ResShred.content"),disabled:t<2},e4DefBuff:{id:"e4DefBuff",formItem:"switch",text:e("Content.e4DefBuff.text"),content:e("Content.e4DefBuff.content"),disabled:t<4},e6ShieldStacks:{id:"e6ShieldStacks",formItem:"slider",text:e("Content.e6ShieldStacks.text"),content:e("Content.e6ShieldStacks.content"),min:0,max:3,disabled:t<6}},b={fortifiedWagerBuff:S.fortifiedWagerBuff,enemyUnnervedDebuff:S.enemyUnnervedDebuff,e2ResShred:S.e2ResShred};return{activeAbilities:[G.BASIC,G.ULT,G.FUA],content:()=>Object.values(S),teammateContent:()=>Object.values(b),defaults:()=>C,teammateDefaults:()=>E,precomputeEffects:(k,D,K)=>{const x=D.characterConditionals;return k.DEF_P.buff(t>=4&&x.e4DefBuff?.4:0,F),k.ELEMENTAL_DMG.buff(t>=6?Math.min(1.5,.5*x.e6ShieldStacks):0,R),k.BASIC_DEF_SCALING.buff(y,s),k.ULT_DEF_SCALING.buff(U,d),k.FUA_DEF_SCALING.buff(v*x.fuaHitsOnTarget,p),k.BASIC_TOUGHNESS_DMG.buff(10,s),k.ULT_TOUGHNESS_DMG.buff(30,d),k.FUA_TOUGHNESS_DMG.buff(10/3*x.fuaHitsOnTarget,p),x.shieldAbility==Y&&(k.SHIELD_SCALING.buff(h,f),k.SHIELD_FLAT.buff(T,f)),x.shieldAbility==0&&(k.SHIELD_SCALING.buff(B,f),k.SHIELD_FLAT.buff(u,f)),k},precomputeMutualEffects:(k,D,K)=>{const x=D.characterConditionals;k.RES.buffTeam(x.fortifiedWagerBuff?M:0,p),k.CD.buffTeam(x.enemyUnnervedDebuff?N:0,d),k.CD.buffTeam(t>=1&&x.fortifiedWagerBuff?.2:0,P),k.RES_PEN.buffTeam(t>=2&&x.e2ResShred?.12:0,H)},finalizeCalculations:(k,D,K)=>{Fe(k)},gpuFinalizeCalculations:()=>Ke(),dynamicConditionals:[{id:"AventurineConversionConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.DEF],chainsTo:[g.CR],condition:function(k,D,K){return D.characterConditionals.defToCrBoost&&k.a[l.DEF]>1600},effect:function(k,D,K){Ct(g.DEF,g.CR,this,k,D,K,L,x=>Math.min(.48,.02*Math.floor((x-1600)/100)))},gpu:function(k,D){const K=k.characterConditionals;return Et(g.DEF,g.CR,this,k,D,"min(0.48, 0.02 * floor((convertibleValue - 1600) / 100))",`${nt(K.defToCrBoost)} && x.DEF > 1600`)}}]}},dc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.BlackSwan"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1307"),R=r(t,.12,.132),y=i(t,.25,.27),U=o(t,.208,.22),N=a(t,.6,.66),v=o(t,.9,.99),M=i(t,1.2,1.3),O=r(t,2.4,2.64),h=r(t,.65,.68),T={ehrToDmgBoost:!0,epiphanyDebuff:!0,defDecreaseDebuff:!0,arcanaStacks:7,e1ResReduction:!0,e4EffResPen:!0},B={epiphanyDebuff:!0,defDecreaseDebuff:!0,e1ResReduction:!0,e4EffResPen:!0},u={ehrToDmgBoost:{id:"ehrToDmgBoost",formItem:"switch",text:e("Content.ehrToDmgBoost.text"),content:e("Content.ehrToDmgBoost.content")},epiphanyDebuff:{id:"epiphanyDebuff",formItem:"switch",text:e("Content.epiphanyDebuff.text"),content:e("Content.epiphanyDebuff.content",{epiphanyDmgTakenBoost:m.precisionRound(100*y)})},defDecreaseDebuff:{id:"defDecreaseDebuff",formItem:"switch",text:e("Content.defDecreaseDebuff.text"),content:e("Content.defDecreaseDebuff.content",{defShredValue:m.precisionRound(100*U)})},arcanaStacks:{id:"arcanaStacks",formItem:"slider",text:e("Content.arcanaStacks.text"),content:e("Content.arcanaStacks.content",{dotScaling:m.precisionRound(100*O),arcanaStackMultiplier:m.precisionRound(100*R)}),min:1,max:50},e1ResReduction:{id:"e1ResReduction",formItem:"switch",text:e("Content.e1ResReduction.text"),content:e("Content.e1ResReduction.content"),disabled:t<1},e4EffResPen:{id:"e4EffResPen",formItem:"switch",text:e("Content.e4EffResPen.text"),content:e("Content.e4EffResPen.content"),disabled:t<4}},C={epiphanyDebuff:u.epiphanyDebuff,defDecreaseDebuff:u.defDecreaseDebuff,e1ResReduction:u.e1ResReduction,e4EffResPen:u.e4EffResPen};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.DOT],content:()=>Object.values(u),teammateContent:()=>Object.values(C),defaults:()=>T,teammateDefaults:()=>B,precomputeEffects:(E,S,b)=>{const k=S.characterConditionals;E.BASIC_ATK_SCALING.buff(N,c),E.SKILL_ATK_SCALING.buff(v,s),E.ULT_ATK_SCALING.buff(M,f),E.DOT_ATK_SCALING.buff(O+R*k.arcanaStacks,d),Rt(E,It,k.arcanaStacks>=7?.2:0,d),E.BASIC_TOUGHNESS_DMG.buff(10,c),E.SKILL_TOUGHNESS_DMG.buff(20,s),E.ULT_TOUGHNESS_DMG.buff(20,f),E.DOT_CHANCE.set(h,d),E.DOT_SPLIT.set(.05,d),E.DOT_STACKS.set(k.arcanaStacks,d)},precomputeMutualEffects:(E,S,b)=>{const k=S.characterConditionals;gt(E,It,k.epiphanyDebuff?y:0,f,ct.TEAM),E.DEF_PEN.buffTeam(k.defDecreaseDebuff?U:0,s),E.WIND_RES_PEN.buffTeam(t>=1&&k.e1ResReduction?.25:0,I),E.FIRE_RES_PEN.buffTeam(t>=1&&k.e1ResReduction?.25:0,I),E.PHYSICAL_RES_PEN.buffTeam(t>=1&&k.e1ResReduction?.25:0,I),E.LIGHTNING_RES_PEN.buffTeam(t>=1&&k.e1ResReduction?.25:0,I),E.EFFECT_RES_PEN.buffTeam(t>=4&&k.epiphanyDebuff&&k.e4EffResPen?.1:0,H)},finalizeCalculations:(E,S,b)=>{const k=S.characterConditionals;E.ELEMENTAL_DMG.buff(k.ehrToDmgBoost?Math.min(.72,.6*E.a[l.EHR]):0,_)},gpuFinalizeCalculations:(E,S)=>{const b=E.characterConditionals;return`
if (${nt(b.ehrToDmgBoost)}) {
  x.ELEMENTAL_DMG += min(0.72, 0.60 * x.EHR);
}
`}}},mc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Boothill"),{basic:a,skill:o,ult:i,talent:r}=V.ULT_BASIC_3_SKILL_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1315"),R=o(t,.3,.33),y=a(t,1,1.1),U=a(t,2.2,2.42),N=i(t,4,4.32),v={0:0,1:r(t,.7,.77),2:r(t,1.2,1.32),3:r(t,1.7,1.87)},M={standoffActive:!0,pocketTrickshotStacks:3,beToCritBoost:!0,talentBreakDmgScaling:!0,e1DefShred:!0,e2BeBuff:!0,e4TargetStandoffVulnerability:!0,e6AdditionalBreakDmg:!0},O={standoffActive:{id:"standoffActive",formItem:"switch",text:e("Content.standoffActive.text"),content:e("Content.standoffActive.content",{standoffVulnerabilityBoost:m.precisionRound(100*R)})},pocketTrickshotStacks:{id:"pocketTrickshotStacks",formItem:"slider",text:e("Content.pocketTrickshotStacks.text"),content:e("Content.pocketTrickshotStacks.content"),min:0,max:3},beToCritBoost:{id:"beToCritBoost",formItem:"switch",text:e("Content.beToCritBoost.text"),content:e("Content.beToCritBoost.content")},talentBreakDmgScaling:{id:"talentBreakDmgScaling",formItem:"switch",text:e("Content.talentBreakDmgScaling.text"),content:e("Content.talentBreakDmgScaling.content")},e1DefShred:{id:"e1DefShred",formItem:"switch",text:e("Content.e1DefShred.text"),content:e("Content.e1DefShred.content"),disabled:t<1},e2BeBuff:{id:"e2BeBuff",formItem:"switch",text:e("Content.e2BeBuff.text"),content:e("Content.e2BeBuff.content"),disabled:t<2},e4TargetStandoffVulnerability:{id:"e4TargetStandoffVulnerability",formItem:"switch",text:e("Content.e4TargetStandoffVulnerability.text"),content:e("Content.e4TargetStandoffVulnerability.content"),disabled:t<4},e6AdditionalBreakDmg:{id:"e6AdditionalBreakDmg",formItem:"switch",text:e("Content.e6AdditionalBreakDmg.text"),content:e("Content.e6AdditionalBreakDmg.content"),disabled:t<6}};return{activeAbilities:[G.BASIC,G.ULT],content:()=>Object.values(O),defaults:()=>M,initializeConfigurations:(h,T,B)=>{T.characterConditionals.talentBreakDmgScaling&&h.ENEMY_WEAKNESS_BROKEN.config(1,d)},precomputeEffects:(h,T,B)=>{const u=T.characterConditionals;h.BE.buff(t>=2&&u.e2BeBuff?.3:0,P),h.VULNERABILITY.buff(u.standoffActive?R:0,s),h.DEF_PEN.buff(t>=1&&u.e1DefShred?.16:0,I),h.VULNERABILITY.buff(t>=4&&u.standoffActive&&u.e4TargetStandoffVulnerability?.12:0,H),h.BASIC_ATK_SCALING.buff(u.standoffActive?U:y,c),h.BASIC_BREAK_EFFICIENCY_BOOST.buff(u.standoffActive?u.pocketTrickshotStacks*.5:0,d),h.ULT_ATK_SCALING.buff(N,f),h.BASIC_TOUGHNESS_DMG.buff(u.standoffActive?20:10,c),h.ULT_TOUGHNESS_DMG.buff(30,f);const C=Math.min(16*30,B.enemyMaxToughness),E=1/(.5+B.enemyMaxToughness/120),S=.5+C/120;let b=v[u.pocketTrickshotStacks];return b+=t>=6&&u.e6AdditionalBreakDmg?.4:0,h.BASIC_BREAK_DMG_MODIFIER.buff(u.talentBreakDmgScaling&&u.standoffActive?E*S*b:0,d),h},finalizeCalculations:h=>{},gpuFinalizeCalculations:()=>"",dynamicConditionals:[{id:"BoothillConversionConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.BE],chainsTo:[g.CR,g.CD],condition:function(h,T,B){return T.characterConditionals.beToCritBoost},effect:function(h,T,B){const u=T.conditionalState[this.id]||0,C=Math.min(.3,.1*u),E=Math.min(1.5,.5*u),S=Math.min(.3,.1*h.a[l.BE]),b=Math.min(1.5,.5*h.a[l.BE]);T.conditionalState[this.id]=h.a[l.BE],h.CR.buffDynamic(S-C,_,T,B),h.CD.buffDynamic(b-E,_,T,B)},gpu:function(h,T){const B=h.characterConditionals;return ut(this,`
if (${ee(B.beToCritBoost)}) {
  return;
}

let be = x.BE;
let stateValue = (*p_state).BoothillConversionConditional;

let stateCrBuffValue = min(0.30, 0.10 * stateValue);
let stateCdBuffValue = min(1.50, 0.50 * stateValue);

let crBuffValue = min(0.30, 0.10 * be);
let cdBuffValue = min(1.50, 0.50 * be);

(*p_state).BoothillConversionConditional = be;

(*p_x).CR += crBuffValue - stateCrBuffValue;
(*p_x).CD += cdBuffValue - stateCdBuffValue;
    `)}}]}},Sc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.DrRatio"),{basic:a,skill:o,ult:i,talent:r}=V.ULT_BASIC_3_SKILL_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1305"),R=5,y=t>=1?10:6,U=a(t,1,1.1),N=o(t,1.5,1.65),v=i(t,2.4,2.592),M=r(t,2.7,2.97);function O(E,S=!0){return S?M/(M+.2*E):.2/(M+.2*E)}const h=.06*(1*1/1),T={0:.06*(1*1/1),1:.06*(1*O(1,!0)+2*O(1,!1)),2:.06*(1*O(2,!0)+5*O(2,!1)),3:.06*(1*O(3,!0)+9*O(3,!1)),4:.06*(1*O(4,!0)+14*O(4,!1))};function B(E,S){const b=E.characterConditionals;return t>=2?T[Math.min(4,b.enemyDebuffStacks)]:h}const u={enemyDebuffStacks:R,summationStacks:y},C={summationStacks:{id:"summationStacks",formItem:"slider",text:e("Content.summationStacks.text"),content:e("Content.summationStacks.content",{summationStacksMax:y}),min:0,max:y},enemyDebuffStacks:{id:"enemyDebuffStacks",formItem:"slider",text:e("Content.enemyDebuffStacks.text"),content:e("Content.enemyDebuffStacks.content",{FuaScaling:m.precisionRound(100*M)}),min:0,max:R}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT,G.FUA],content:()=>Object.values(C),defaults:()=>u,precomputeEffects:(E,S,b)=>{const k=S.characterConditionals;return E.CR.buff(k.summationStacks*.025,_),E.CD.buff(k.summationStacks*.05,_),E.BASIC_ATK_SCALING.buff(U,c),E.SKILL_ATK_SCALING.buff(N,s),E.ULT_ATK_SCALING.buff(v,f),E.FUA_ATK_SCALING.buff(M,d),E.FUA_ADDITIONAL_DMG_SCALING.buff(t>=2?.2*Math.min(4,k.enemyDebuffStacks):0,P),E.ELEMENTAL_DMG.buff(k.enemyDebuffStacks>=3?Math.min(.5,k.enemyDebuffStacks*.1):0,_),z(E,Z,t>=6?.5:0,F),E.BASIC_TOUGHNESS_DMG.buff(10,c),E.SKILL_TOUGHNESS_DMG.buff(20,s),E.ULT_TOUGHNESS_DMG.buff(30,f),E.FUA_TOUGHNESS_DMG.buff(10,d),E},finalizeCalculations:(E,S,b)=>{St(E,S,b,B(S)),At(E)},gpuFinalizeCalculations:(E,S)=>mt(B(E))+bt()}},Cc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Firefly"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1310"),R=a(t,1,1.1),y=a(t,2,2.2),U=o(t,2,2.2),N=o(t,2,2.2),v=i(t,60,66),M=i(t,.2,.22),O=r(t,.3,.34),h=r(t,.4,.44),T={enhancedStateActive:!0,enhancedStateSpdBuff:!0,superBreakDmg:!0,atkToBeConversion:!0,talentDmgReductionBuff:!0,e1DefShred:!0,e4ResBuff:!0,e6Buffs:!0},B={enhancedStateActive:{id:"enhancedStateActive",formItem:"switch",text:e("Content.enhancedStateActive.text"),content:e("Content.enhancedStateActive.content")},enhancedStateSpdBuff:{id:"enhancedStateSpdBuff",formItem:"switch",text:e("Content.enhancedStateSpdBuff.text"),content:e("Content.enhancedStateSpdBuff.content",{ultSpdBuff:v})},superBreakDmg:{id:"superBreakDmg",formItem:"switch",text:e("Content.superBreakDmg.text"),content:e("Content.superBreakDmg.content")},atkToBeConversion:{id:"atkToBeConversion",formItem:"switch",text:e("Content.atkToBeConversion.text"),content:e("Content.atkToBeConversion.content")},talentDmgReductionBuff:{id:"talentDmgReductionBuff",formItem:"switch",text:e("Content.talentDmgReductionBuff.text"),content:e("Content.talentDmgReductionBuff.content",{talentResBuff:m.precisionRound(100*O),talentDmgReductionBuff:m.precisionRound(100*h)})},e1DefShred:{id:"e1DefShred",formItem:"switch",text:e("Content.e1DefShred.text"),content:e("Content.e1DefShred.content"),disabled:t<1},e4ResBuff:{id:"e4ResBuff",formItem:"switch",text:e("Content.e4ResBuff.text"),content:e("Content.e4ResBuff.content"),disabled:t<4},e6Buffs:{id:"e6Buffs",formItem:"switch",text:e("Content.e6Buffs.text"),content:e("Content.e6Buffs.content"),disabled:t<6}};return{activeAbilities:[G.BASIC,G.SKILL],content:()=>Object.values(B),defaults:()=>T,initializeConfigurations:(u,C,E)=>{C.characterConditionals.superBreakDmg&&u.ENEMY_WEAKNESS_BROKEN.config(1,_)},precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;return u.RES.buff(S.enhancedStateActive?O:0,d),u.SPD.buff(S.enhancedStateActive&&S.enhancedStateSpdBuff?v:0,f),u.BREAK_EFFICIENCY_BOOST.buff(S.enhancedStateActive?.5:0,f),u.DMG_RED_MULTI.multiply(S.enhancedStateActive&&S.talentDmgReductionBuff?1-h:1,d),gt(u,Dt,S.enhancedStateActive&&u.a[l.ENEMY_WEAKNESS_BROKEN]?M:0,f),u.DEF_PEN.buff(t>=1&&S.e1DefShred&&S.enhancedStateActive?.15:0,I),u.RES.buff(t>=4&&S.e4ResBuff&&S.enhancedStateActive?.5:0,H),u.FIRE_RES_PEN.buff(t>=6&&S.e6Buffs&&S.enhancedStateActive?.2:0,F),u.BREAK_EFFICIENCY_BOOST.buff(t>=6&&S.e6Buffs&&S.enhancedStateActive?.5:0,F),u.BASIC_ATK_SCALING.buff(S.enhancedStateActive?y:R,c),u.BASIC_TOUGHNESS_DMG.buff(S.enhancedStateActive?15:10,c),u.SKILL_TOUGHNESS_DMG.buff(S.enhancedStateActive?30:20,s),u},finalizeCalculations:(u,C,E)=>{const S=C.characterConditionals;u.SUPER_BREAK_MODIFIER.buff(S.superBreakDmg&&S.enhancedStateActive&&u.a[l.BE]>=2?.35:0,_),u.SUPER_BREAK_MODIFIER.buff(S.superBreakDmg&&S.enhancedStateActive&&u.a[l.BE]>=3.6?.15:0,_),u.SKILL_ATK_SCALING.buff(S.enhancedStateActive?.2*Math.min(3.6,u.a[l.BE])+N:U,s)},gpuFinalizeCalculations:(u,C)=>{const E=u.characterConditionals;return`
if (x.BE >= 2.00 && ${nt(E.superBreakDmg&&E.enhancedStateActive)}) { x.SUPER_BREAK_MODIFIER += 0.35; }
if (x.BE >= 3.60 && ${nt(E.superBreakDmg&&E.enhancedStateActive)}) { x.SUPER_BREAK_MODIFIER += 0.15; }

if (${nt(E.enhancedStateActive)}) {
  x.SKILL_ATK_SCALING += 0.2 * min(3.60, x.BE) + ${N};
} else {
  x.SKILL_ATK_SCALING += ${U};
}
      `},dynamicConditionals:[{id:"FireflyConversionConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.ATK],chainsTo:[g.BE],condition:function(u,C,E){return C.characterConditionals.atkToBeConversion&&u.a[l.ATK]>1800},effect:function(u,C,E){Ct(g.ATK,g.BE,this,u,C,E,_,S=>.008*Math.floor((S-1800)/10))},gpu:function(u,C){const E=u.characterConditionals;return Et(g.ATK,g.BE,this,u,C,"0.008 * floor((convertibleValue - 1800) / 10)",`${nt(E.atkToBeConversion)} && x.ATK > 1800`)}}]}},Ec=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Gallagher"),a=m.wrappedFixedT(n).get(null,"conditionals","Common.HealAbility"),{basic:o,skill:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1301"),R=o(t,1,1.1),y=o(t,2.5,2.75),U=o(t,1.5,1.65),N=r(t,.12,.132),v=i(t,1600,1768),M=r(t,640,707.2),O={healAbility:0,basicEnhanced:!0,breakEffectToOhbBoost:!0,e1ResBuff:!0,e2ResBuff:!0,e6BeBuff:!0,targetBesotted:!0},h={targetBesotted:!0,e2ResBuff:!0},T={healAbility:{id:"healAbility",formItem:"select",text:a("Text"),content:a("Content"),options:[{display:a("Skill"),value:Y,label:a("Skill")},{display:a("Talent"),value:0,label:a("Talent")}],fullWidth:!0},basicEnhanced:{id:"basicEnhanced",formItem:"switch",text:e("Content.basicEnhanced.text"),content:e("Content.basicEnhanced.content")},breakEffectToOhbBoost:{id:"breakEffectToOhbBoost",formItem:"switch",text:e("Content.breakEffectToOhbBoost.text"),content:e("Content.breakEffectToOhbBoost.content")},targetBesotted:{id:"targetBesotted",formItem:"switch",text:e("Content.targetBesotted.text"),content:e("Content.targetBesotted.content",{talentBesottedScaling:m.precisionRound(100*N)})},e1ResBuff:{id:"e1ResBuff",formItem:"switch",text:e("Content.e1ResBuff.text"),content:e("Content.e1ResBuff.content"),disabled:t<1},e2ResBuff:{id:"e2ResBuff",formItem:"switch",text:e("Content.e2ResBuff.text"),content:e("Content.e2ResBuff.content"),disabled:t<2},e6BeBuff:{id:"e6BeBuff",formItem:"switch",text:e("Content.e6BeBuff.text"),content:e("Content.e6BeBuff.content"),disabled:t<6}},B={targetBesotted:T.targetBesotted,e2ResBuff:T.e2ResBuff};return{activeAbilities:[G.BASIC,G.ULT],content:()=>Object.values(T),teammateContent:()=>Object.values(B),defaults:()=>O,teammateDefaults:()=>h,precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;return u.RES.buff(t>=1&&S.e1ResBuff?.5:0,I),u.BE.buff(t>=6?.2:0,F),u.BREAK_EFFICIENCY_BOOST.buff(t>=6?.2:0,F),u.BASIC_ATK_SCALING.buff(S.basicEnhanced?y:R,c),u.ULT_ATK_SCALING.buff(U,f),u.BASIC_TOUGHNESS_DMG.buff(S.basicEnhanced?30:10,c),u.ULT_TOUGHNESS_DMG.buff(20,f),S.healAbility==Y&&(u.HEAL_TYPE.set(Y,s),u.HEAL_FLAT.buff(v,s)),S.healAbility==0&&(u.HEAL_TYPE.set(0,d),u.HEAL_FLAT.buff(M,d)),u},precomputeMutualEffects:(u,C,E)=>{const S=C.characterConditionals;u.RES.buff(t>=2&&S.e2ResBuff?.3:0,P),gt(u,Dt,S.targetBesotted?N:0,d,ct.TEAM)},finalizeCalculations:u=>{Ts(u)},gpuFinalizeCalculations:()=>Bs(),dynamicConditionals:[{id:"GallagherConversionConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.BE],chainsTo:[g.OHB],condition:function(u,C,E){return C.characterConditionals.breakEffectToOhbBoost},effect:function(u,C,E){C.characterConditionals,Ct(g.BE,g.OHB,this,u,C,E,_,S=>Math.min(.75,.5*S))},gpu:function(u,C){const E=u.characterConditionals;return Et(g.BE,g.OHB,this,u,C,"min(0.75, 0.50 * convertibleValue)",`${nt(E.breakEffectToOhbBoost)}`)}}]}},_c=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Jade"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1314"),R=a(t,.9,.99);o(t,.25,.27);const y=i(t,2.4,2.64),U=i(t,.8,.88),N=r(t,1.2,1.32),v=r(t,.024,.0264),M={1:.06*(1*.25+2*.25+3*.25+4*.25),3:.06*(2*.25+5*.25+8*.25+8*.25),5:.06*(3*.25+8*.25+8*.25+8*.25)},O={1:.06*(1*.1+2*.1+3*.1+4*.1+5*.6),3:.06*(2*.1+5*.1+8*.1+8*.1+8*.6),5:.06*(3*.1+8*.1+8*.1+8*.1+8*.6)};function h(E,S){return E.characterConditionals.enhancedFollowUp?O[S.enemyCount]:M[S.enemyCount]}const T={enhancedFollowUp:!0,pawnedAssetStacks:50,e1FuaDmgBoost:!0,e2CrBuff:!0,e4DefShredBuff:!0,e6ResShredBuff:!0},B={debtCollectorSpdBuff:!0},u={enhancedFollowUp:{id:"enhancedFollowUp",formItem:"switch",text:e("Content.enhancedFollowUp.text"),content:e("Content.enhancedFollowUp.content",{ultFuaScalingBuff:m.precisionRound(100*U)})},pawnedAssetStacks:{id:"pawnedAssetStacks",formItem:"slider",text:e("Content.pawnedAssetStacks.text"),content:e("Content.pawnedAssetStacks.content",{pawnedAssetCdScaling:m.precisionRound(100*v)}),min:0,max:50},e1FuaDmgBoost:{id:"e1FuaDmgBoost",formItem:"switch",text:e("Content.e1FuaDmgBoost.text"),content:e("Content.e1FuaDmgBoost.content"),disabled:t<1},e2CrBuff:{id:"e2CrBuff",formItem:"switch",text:e("Content.e2CrBuff.text"),content:e("Content.e2CrBuff.content"),disabled:t<2},e4DefShredBuff:{id:"e4DefShredBuff",formItem:"switch",text:e("Content.e4DefShredBuff.text"),content:e("Content.e4DefShredBuff.content"),disabled:t<4},e6ResShredBuff:{id:"e6ResShredBuff",formItem:"switch",text:e("Content.e6ResShredBuff.text"),content:e("Content.e6ResShredBuff.content"),disabled:t<6}},C={debtCollectorSpdBuff:{id:"debtCollectorSpdBuff",formItem:"switch",text:e("TeammateContent.debtCollectorSpdBuff.text"),content:e("TeammateContent.debtCollectorSpdBuff.content")}};return{activeAbilities:[G.BASIC,G.ULT,G.FUA],content:()=>Object.values(u),teammateContent:()=>Object.values(C),defaults:()=>T,teammateDefaults:()=>B,precomputeEffects:(E,S,b)=>{const k=S.characterConditionals;return E.CD.buff(k.pawnedAssetStacks*v,d),E.ATK_P.buff(k.pawnedAssetStacks*.005,_),E.CR.buff(t>=2&&k.e2CrBuff&&k.pawnedAssetStacks>=15?.18:0,P),E.BASIC_ATK_SCALING.buff(R,c),E.ULT_ATK_SCALING.buff(y,f),E.FUA_ATK_SCALING.buff(N,d),E.FUA_ATK_SCALING.buff(k.enhancedFollowUp?U:0,f),z(E,Z,t>=1&&k.e1FuaDmgBoost?.32:0,I),E.DEF_PEN.buff(t>=4&&k.e4DefShredBuff?.12:0,H),E.QUANTUM_RES_PEN.buff(t>=6&&k.e6ResShredBuff?.2:0,F),E.BASIC_TOUGHNESS_DMG.buff(10,c),E.ULT_TOUGHNESS_DMG.buff(20,f),E.FUA_TOUGHNESS_DMG.buff(10,d),E},precomputeTeammateEffects:(E,S,b)=>{const k=S.characterConditionals;E.SPD.buffSingle(k.debtCollectorSpdBuff?30:0,s)},finalizeCalculations:(E,S,b)=>{St(E,S,b,h(S,b))},gpuFinalizeCalculations:(E,S)=>mt(h(E,S))}},pc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Misha"),{basic:a,skill:o,ult:i}=V.ULT_BASIC_3_SKILL_TALENT_5,{SOURCE_BASIC:r,SOURCE_SKILL:c,SOURCE_ULT:s,SOURCE_TALENT:f,SOURCE_TECHNIQUE:d,SOURCE_TRACE:p,SOURCE_MEMO:_,SOURCE_E1:L,SOURCE_E2:I,SOURCE_E4:P,SOURCE_E6:H}=A.character("1312"),F=a(t,1,1.1),R=o(t,2,2.2);let y=i(t,.6,.65);y+=t>=4?.06:0;const U={ultHitsOnTarget:10,enemyFrozen:!0,e2DefReduction:!0,e6UltDmgBoost:!0},N={e2DefReduction:!0},v={ultHitsOnTarget:{id:"ultHitsOnTarget",formItem:"slider",text:e("Content.ultHitsOnTarget.text"),content:e("Content.ultHitsOnTarget.content",{ultStackScaling:m.precisionRound(100*y)}),min:1,max:10},enemyFrozen:{id:"enemyFrozen",formItem:"switch",text:e("Content.enemyFrozen.text"),content:e("Content.enemyFrozen.content")},e2DefReduction:{id:"e2DefReduction",formItem:"switch",text:e("Content.e2DefReduction.text"),content:e("Content.e2DefReduction.content"),disabled:t<2},e6UltDmgBoost:{id:"e6UltDmgBoost",formItem:"switch",text:e("Content.e6UltDmgBoost.text"),content:e("Content.e6UltDmgBoost.content"),disabled:t<6}},M={e2DefReduction:v.e2DefReduction};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT],content:()=>Object.values(v),teammateContent:()=>Object.values(M),defaults:()=>U,teammateDefaults:()=>N,precomputeEffects:(O,h,T)=>{const B=h.characterConditionals;return O.CD.buff(B.enemyFrozen?.3:0,p),O.ELEMENTAL_DMG.buff(t>=6&&B.e6UltDmgBoost?.3:0,H),O.BASIC_ATK_SCALING.buff(F,r),O.SKILL_ATK_SCALING.buff(R,c),O.ULT_ATK_SCALING.buff(y*B.ultHitsOnTarget,s),O.BASIC_TOUGHNESS_DMG.buff(10,r),O.SKILL_TOUGHNESS_DMG.buff(20,c),O.ULT_TOUGHNESS_DMG.buff(10+5*(B.ultHitsOnTarget-1),s),O},precomputeMutualEffects:(O,h,T)=>{const B=h.characterConditionals;O.DEF_PEN.buffTeam(t>=2&&B.e2DefReduction?.16:0,I)},finalizeCalculations:(O,h,T)=>{},gpuFinalizeCalculations:()=>""}},gc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Rappa"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1317"),R=a(t,1,1.1),y=a(t,2,2.32),U=o(t,1.2,1.32),N=i(t,.3,.34),v=r(t,.6,.66),M=r(t,.5,.55),O=t>=6?15:10,h={teammateBreakVulnerability:.1,e4SpdBuff:!0},T={sealformActive:!0,atkToBreakVulnerability:!0,chargeStacks:t>=6?10:5,e1DefPen:!0,e2Buffs:!0,e4SpdBuff:!0},B={sealformActive:{id:"sealformActive",formItem:"switch",text:e("Content.sealformActive.text"),content:e("Content.sealformActive.content",{ultBeBuff:m.precisionRound(100*N)})},atkToBreakVulnerability:{id:"atkToBreakVulnerability",formItem:"switch",text:e("Content.atkToBreakVulnerability.text"),content:e("Content.atkToBreakVulnerability.content")},chargeStacks:{id:"chargeStacks",formItem:"slider",text:e("Content.chargeStacks.text"),content:e("Content.chargeStacks.content",{talentChargeMultiplier:m.precisionRound(100*M)}),min:0,max:O},e1DefPen:{id:"e1DefPen",formItem:"switch",text:e("Content.e1DefPen.text"),content:e("Content.e1DefPen.content"),disabled:t<1},e2Buffs:{id:"e2Buffs",formItem:"switch",text:e("Content.e2Buffs.text"),content:e("Content.e2Buffs.content"),disabled:t<2},e4SpdBuff:{id:"e4SpdBuff",formItem:"switch",text:e("Content.e4SpdBuff.text"),content:e("Content.e4SpdBuff.content"),disabled:t<4}},u={teammateBreakVulnerability:{id:"teammateBreakVulnerability",formItem:"slider",text:e("TeammateContent.teammateBreakVulnerability.text"),content:e("TeammateContent.teammateBreakVulnerability.content"),min:0,max:.1,percent:!0},e4SpdBuff:{id:"e4SpdBuff",formItem:"switch",text:e("TeammateContent.e4SpdBuff.text"),content:e("TeammateContent.e4SpdBuff.content"),disabled:t<4}};return{activeAbilities:[G.BASIC,G.SKILL],content:()=>Object.values(B),teammateContent:()=>Object.values(u),defaults:()=>T,teammateDefaults:()=>h,initializeConfigurations:(C,E,S)=>{E.characterConditionals.sealformActive&&C.ENEMY_WEAKNESS_BROKEN.config(1,_)},precomputeEffects:(C,E,S)=>{const b=E.characterConditionals;return C.BE.buff(b.sealformActive?N:0,f),C.BREAK_EFFICIENCY_BOOST.buff(b.sealformActive?.5:0,f),C.DEF_PEN.buff(t>=1&&b.sealformActive&&b.e1DefPen?.15:0,I),C.SPD_P.buff(t>=4&&b.sealformActive&&b.e4SpdBuff?.12:0,H),C.BASIC_SUPER_BREAK_MODIFIER.buff(b.sealformActive?.6:0,_),C.BASIC_BREAK_DMG_MODIFIER.set(v+b.chargeStacks*M,d),C.BASIC_ATK_SCALING.buff(b.sealformActive?y:R,c),C.SKILL_ATK_SCALING.buff(U,s),C.BASIC_TOUGHNESS_DMG.buff(b.sealformActive?25+(2+b.chargeStacks):10,c),C.SKILL_TOUGHNESS_DMG.buff(10,s),C},precomputeMutualEffects:(C,E,S)=>{},precomputeTeammateEffects:(C,E,S)=>{const b=E.characterConditionals;gt(C,Dt,b.teammateBreakVulnerability,_,ct.TEAM),C.SPD_P.buffTeam(t>=4&&b.e4SpdBuff?.12:0,H)},finalizeCalculations:(C,E,S)=>{E.characterConditionals;const b=Math.floor(m.precisionRound((C.a[l.ATK]-2400)/100)),k=Math.min(.08,Math.max(0,b)*.01)+.02;gt(C,Dt,k,_)},gpuFinalizeCalculations:(C,E)=>{const S=C.characterConditionals;return`
if (${nt(S.atkToBreakVulnerability)}) {
  let atkOverStacks: f32 = floor((x.ATK - 2400) / 100);
  let buffValue: f32 = min(0.08, max(0, atkOverStacks) * 0.01) + 0.02;
  
  buffAbilityVulnerability(p_x, BREAK_DMG_TYPE, buffValue, 1);
}
      `}}},Tc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Robin"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_ULT_3_BASIC_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1309"),R=o(t,.5,.55),y=r(t,.2,.23),U=i(t,.228,.2432),N=i(t,200,230),v=a(t,1,1.1),M=i(t,1.2,1.296),O={concertoActive:!0,skillDmgBuff:!0,talentCdBuff:!0,e1UltResPen:!0,e2UltSpdBuff:!1,e4TeamResBuff:!1,e6UltCDBoost:!0},h={concertoActive:!0,skillDmgBuff:!0,talentCdBuff:!0,teammateATKValue:4500,traceFuaCdBoost:!0,e1UltResPen:!0,e2UltSpdBuff:!0,e4TeamResBuff:!0},T={concertoActive:{id:"concertoActive",formItem:"switch",text:e("Content.concertoActive.text"),content:e("Content.concertoActive.content",{ultAtkBuffScalingValue:m.precisionRound(100*U),ultAtkBuffFlatValue:N,ultScaling:m.precisionRound(100*M)})},skillDmgBuff:{id:"skillDmgBuff",formItem:"switch",text:e("Content.skillDmgBuff.text"),content:e("Content.skillDmgBuff.content",{skillDmgBuffValue:m.precisionRound(100*R)})},talentCdBuff:{id:"talentCdBuff",formItem:"switch",text:e("Content.talentCdBuff.text"),content:e("Content.talentCdBuff.content",{talentCdBuffValue:m.precisionRound(100*y)})},e1UltResPen:{id:"e1UltResPen",formItem:"switch",text:e("Content.e1UltResPen.text"),content:e("Content.e1UltResPen.content"),disabled:t<1},e2UltSpdBuff:{id:"e2UltSpdBuff",formItem:"switch",text:e("TeammateContent.e2UltSpdBuff.text"),content:e("TeammateContent.e2UltSpdBuff.content"),disabled:t<2},e4TeamResBuff:{id:"e4TeamResBuff",formItem:"switch",text:e("Content.e4TeamResBuff.text"),content:e("Content.e4TeamResBuff.content"),disabled:t<4},e6UltCDBoost:{id:"e6UltCDBoost",formItem:"switch",text:e("Content.e6UltCDBoost.text"),content:e("Content.e6UltCDBoost.content"),disabled:t<6}},B={concertoActive:T.concertoActive,skillDmgBuff:T.skillDmgBuff,teammateATKValue:{id:"teammateATKValue",formItem:"slider",text:e("TeammateContent.teammateATKValue.text"),content:e("TeammateContent.teammateATKValue.content",{ultAtkBuffFlatValue:m.precisionRound(N),ultAtkBuffScalingValue:m.precisionRound(100*U)}),min:0,max:7e3},talentCdBuff:T.talentCdBuff,traceFuaCdBoost:{id:"traceFuaCdBoost",formItem:"switch",text:e("TeammateContent.traceFuaCdBoost.text"),content:e("TeammateContent.traceFuaCdBoost.content")},e1UltResPen:T.e1UltResPen,e2UltSpdBuff:T.e2UltSpdBuff,e4TeamResBuff:T.e4TeamResBuff};return{activeAbilities:[G.BASIC,G.ULT],content:()=>Object.values(T),teammateContent:()=>Object.values(B),defaults:()=>O,teammateDefaults:()=>h,precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;return u.BASIC_ATK_SCALING.buff(v,c),u.ULT_ADDITIONAL_DMG_SCALING.buff(S.concertoActive?M:0,f),u.BASIC_TOUGHNESS_DMG.buff(10,c),S.concertoActive&&(u.ATK.buff(N,f),u.UNCONVERTIBLE_ATK_BUFF.buff(N,f)),u.ULT_ADDITIONAL_DMG_CR_OVERRIDE.buff(1,f),u.ULT_ADDITIONAL_DMG_CD_OVERRIDE.buff(t>=6&&S.concertoActive&&S.e6UltCDBoost?6:1.5,f),u},precomputeMutualEffects:(u,C,E)=>{const S=C.characterConditionals;u.CD.buffTeam(S.talentCdBuff?y:0,d),u.RES.buffTeam(t>=4&&S.concertoActive&&S.e4TeamResBuff?.5:0,H),u.SPD_P.buffTeam(t>=2&&S.concertoActive&&S.e2UltSpdBuff?.16:0,P),u.ELEMENTAL_DMG.buffTeam(S.skillDmgBuff?R:0,s),u.RES_PEN.buffTeam(t>=1&&S.concertoActive&&S.e1UltResPen?.24:0,I)},precomputeTeammateEffects:(u,C,E)=>{const S=C.characterConditionals,b=S.concertoActive?S.teammateATKValue*U+N:0;u.ATK.buffTeam(b,f),u.UNCONVERTIBLE_ATK_BUFF.buffTeam(b,f),Ut(u,Z,S.traceFuaCdBoost&&S.concertoActive?.25:0,_,ct.TEAM)},finalizeCalculations:(u,C,E)=>{us(u)},gpuFinalizeCalculations:(u,C)=>ms(),dynamicConditionals:[{id:"RobinAtkConversionConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.ATK],chainsTo:[g.ATK],condition:function(u,C,E){return C.characterConditionals.concertoActive},effect:function(u,C,E){Ct(g.ATK,g.ATK,this,u,C,E,f,S=>S*U)},gpu:function(u,C){const E=u.characterConditionals;return Et(g.ATK,g.ATK,this,u,C,`convertibleValue * ${U}`,`${nt(E.concertoActive)}`)}}]}},Bc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.RuanMei"),{basic:a,skill:o,ult:i,talent:r}=V.ULT_TALENT_3_SKILL_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1303"),R=i(t,.25,.27),y=a(t,1,1.1),U=o(t,.32,.352),N=r(t,.1,.104),v={skillOvertoneBuff:!0,teamBEBuff:!0,ultFieldActive:!0,e2AtkBoost:!1,e4BeBuff:!1},M={skillOvertoneBuff:!0,teamSpdBuff:!0,teamBEBuff:!0,ultFieldActive:!0,e2AtkBoost:!1,teamDmgBuff:.36},O={skillOvertoneBuff:{id:"skillOvertoneBuff",formItem:"switch",text:e("Content.skillOvertoneBuff.text"),content:e("Content.skillOvertoneBuff.content",{skillScaling:m.precisionRound(100*U)})},teamBEBuff:{id:"teamBEBuff",formItem:"switch",text:e("Content.teamBEBuff.text"),content:e("Content.teamBEBuff.content")},ultFieldActive:{id:"ultFieldActive",formItem:"switch",text:e("Content.ultFieldActive.text"),content:e("Content.ultFieldActive.content",{fieldResPenValue:m.precisionRound(100*R)})},e2AtkBoost:{id:"e2AtkBoost",formItem:"switch",text:e("Content.e2AtkBoost.text"),content:e("Content.e2AtkBoost.content"),disabled:t<2},e4BeBuff:{id:"e4BeBuff",formItem:"switch",text:e("Content.e4BeBuff.text"),content:e("Content.e4BeBuff.content"),disabled:t<4}},h={skillOvertoneBuff:O.skillOvertoneBuff,teamSpdBuff:{id:"teamSpdBuff",formItem:"switch",text:e("TeammateContent.teamSpdBuff.text"),content:e("TeammateContent.teamSpdBuff.content",{talentSpdScaling:m.precisionRound(100*N)})},teamBEBuff:O.teamBEBuff,teamDmgBuff:{id:"teamDmgBuff",formItem:"slider",text:e("TeammateContent.teamDmgBuff.text"),content:e("TeammateContent.teamDmgBuff.content"),min:0,max:.36,percent:!0},ultFieldActive:O.ultFieldActive,e2AtkBoost:O.e2AtkBoost};return{activeAbilities:[G.BASIC],content:()=>Object.values(O),teammateContent:()=>Object.values(h),defaults:()=>v,teammateDefaults:()=>M,precomputeEffects:(T,B,u)=>{const C=B.characterConditionals;return T.ATK_P.buff(t>=2&&C.e2AtkBoost?.4:0,P),T.BE.buff(t>=4&&C.e4BeBuff?1:0,H),T.BASIC_ATK_SCALING.buff(y,c),T.BASIC_TOUGHNESS_DMG.buff(10,c),T},precomputeMutualEffects:(T,B,u)=>{const C=B.characterConditionals;T.BE.buffTeam(C.teamBEBuff?.2:0,_),T.ELEMENTAL_DMG.buffTeam(C.skillOvertoneBuff?U:0,s),T.BREAK_EFFICIENCY_BOOST.buffTeam(C.skillOvertoneBuff?.5:0,s),T.RES_PEN.buffTeam(C.ultFieldActive?R:0,f),T.DEF_PEN.buffTeam(t>=1&&C.ultFieldActive?.2:0,I)},precomputeTeammateEffects:(T,B,u)=>{const C=B.characterConditionals;T.SPD_P.buffTeam(C.teamSpdBuff?N:0,d),T.ELEMENTAL_DMG.buffTeam(C.teamDmgBuff,_),T.ATK_P_BOOST.buffTeam(t>=2&&C.e2AtkBoost?.4:0,P)},finalizeCalculations:(T,B,u)=>{B.characterConditionals;const C=Math.floor(m.precisionRound((T.a[l.BE]*100-120)/10)),E=Math.min(.36,Math.max(0,C)*.06);T.ELEMENTAL_DMG.buff(E,_)},gpuFinalizeCalculations:()=>`
let beOver = (x.BE * 100 - 120) / 10;
let buffValue: f32 = min(0.36, floor(max(0, beOver)) * 0.06);
x.ELEMENTAL_DMG += buffValue;
      `}},Ac=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Sparkle"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1306"),R=o(t,.24,.264),y=o(t,.45,.486),U=i(t,.1,.108),N=r(t,.06,.066),v=a(t,1,1.1),M={0:0,1:.05,2:.15,3:.3,4:.3},O={skillCdBuff:!1,cipherBuff:!0,talentStacks:3,quantumAlliesAtkBuff:!0},h={...O,skillCdBuff:!0,teammateCDValue:2.5},T={skillCdBuff:{id:"skillCdBuff",formItem:"switch",text:e("Content.skillCdBuff.text"),content:e("Content.skillCdBuff.content",{skillCdBuffScaling:m.precisionRound(100*R),skillCdBuffBase:m.precisionRound(100*y)})},cipherBuff:{id:"cipherBuff",formItem:"switch",text:e("Content.cipherBuff.text"),content:e("Content.cipherBuff.content",{cipherTalentStackBoost:m.precisionRound(100*U)})},talentStacks:{id:"talentStacks",formItem:"slider",text:e("Content.talentStacks.text"),content:e("Content.talentStacks.content",{talentBaseStackBoost:m.precisionRound(100*N)}),min:0,max:3},quantumAlliesAtkBuff:{id:"quantumAlliesAtkBuff",formItem:"switch",text:e("Content.quantumAlliesAtkBuff.text"),content:e("Content.quantumAlliesAtkBuff.content")}},B={skillCdBuff:T.skillCdBuff,teammateCDValue:{id:"teammateCDValue",formItem:"slider",text:e("TeammateContent.teammateCDValue.text"),content:e("TeammateContent.teammateCDValue.content",{skillCdBuffScaling:m.precisionRound(100*R),skillCdBuffBase:m.precisionRound(100*y)}),min:0,max:3.5,percent:!0},cipherBuff:T.cipherBuff,talentStacks:T.talentStacks,quantumAlliesAtkBuff:T.quantumAlliesAtkBuff};return{activeAbilities:[G.BASIC],content:()=>Object.values(T),teammateContent:()=>Object.values(B),defaults:()=>O,teammateDefaults:()=>h,precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;u.BASIC_ATK_SCALING.buff(v,c),u.BASIC_TOUGHNESS_DMG.buff(10,c),S.skillCdBuff&&(u.CD.buff(y,s),u.UNCONVERTIBLE_CD_BUFF.buff(y,s))},precomputeMutualEffects:(u,C,E)=>{const S=C.characterConditionals;u.ATK_P.buffTeam(.15,_),u.ATK_P.buffDual(E.element==Dn.Quantum&&S.quantumAlliesAtkBuff?M[Xo(E,Dn.Quantum)]:0,_),u.ATK_P.buffTeam(t>=1&&S.cipherBuff?.4:0,I),u.ELEMENTAL_DMG.buffTeam(S.cipherBuff?S.talentStacks*(N+U):S.talentStacks*N,d),u.DEF_PEN.buffTeam(t>=2?.08*S.talentStacks:0,P)},precomputeTeammateEffects:(u,C,E)=>{const S=C.characterConditionals,b=S.skillCdBuff?y+(R+(t>=6?.3:0))*S.teammateCDValue:0;t>=6?(u.CD.buffTeam(b,s),u.UNCONVERTIBLE_CD_BUFF.buffTeam(b,s)):(u.CD.buffSingle(b,s),u.UNCONVERTIBLE_CD_BUFF.buffSingle(b,s))},finalizeCalculations:u=>{},gpuFinalizeCalculations:()=>"",dynamicConditionals:[{id:"SparkleCdConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.CD],chainsTo:[g.CD],condition:function(u,C,E){return C.characterConditionals.skillCdBuff},effect:function(u,C,E){Ct(g.CD,g.CD,this,u,C,E,s,S=>S*(R+(t>=6?.3:0)))},gpu:function(u,C){const E=u.characterConditionals;return Et(g.CD,g.CD,this,u,C,`${R+(t>=6?.3:0)} * convertibleValue`,`${nt(E.skillCdBuff)}`)}}]}},hc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Sunday"),{basic:a,skill:o,ult:i,talent:r}=V.ULT_BASIC_3_SKILL_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1313"),R=o(t,.3,.33),y=o(t,.5,.55),U=i(t,.3,.336),N=i(t,.12,.128),v=r(t,.2,.22),M=a(t,1,1.1),O={skillDmgBuff:!1,talentCrBuffStacks:0,techniqueDmgBuff:!1,e1DefPen:!1,e2DmgBuff:!1},h={skillDmgBuff:!0,talentCrBuffStacks:t<6?1:3,beatified:!0,teammateCDValue:2.5,techniqueDmgBuff:!1,e1DefPen:!0,e2DmgBuff:!0,e6CrToCdConversion:!0},T={skillDmgBuff:{id:"skillDmgBuff",formItem:"switch",text:e("Content.skillDmgBuff.text"),content:e("Content.skillDmgBuff.content",{DmgBoost:m.precisionRound(100*R),SummonDmgBoost:m.precisionRound(100*y)})},talentCrBuffStacks:{id:"talentCrBuffStacks",formItem:"slider",text:e("Content.talentCrBuffStacks.text"),content:e("Content.talentCrBuffStacks.content",{CritRateBoost:m.precisionRound(100*v)}),min:0,max:t<6?1:3},techniqueDmgBuff:{id:"techniqueDmgBuff",formItem:"switch",text:e("Content.techniqueDmgBuff.text"),content:e("Content.techniqueDmgBuff.content")},e1DefPen:{id:"e1DefPen",formItem:"switch",text:e("Content.e1DefPen.text"),content:e("Content.e1DefPen.content"),disabled:t<1},e2DmgBuff:{id:"e2DmgBuff",formItem:"switch",text:e("Content.e2DmgBuff.text"),content:e("Content.e2DmgBuff.content"),disabled:t<2}},B={skillDmgBuff:T.skillDmgBuff,talentCrBuffStacks:T.talentCrBuffStacks,beatified:{id:"beatified",formItem:"switch",text:e("TeammateContent.beatified.text"),content:e("TeammateContent.beatified.content",{CritBuffScaling:m.precisionRound(100*U),CritBuffFlat:m.precisionRound(100*N)})},teammateCDValue:{id:"teammateCDValue",formItem:"slider",text:e("TeammateContent.teammateCDValue.text"),content:e("TeammateContent.teammateCDValue.content",{CritBuffScaling:m.precisionRound(100*U),CritBuffFlat:m.precisionRound(100*N)}),min:0,max:4,percent:!0},techniqueDmgBuff:T.techniqueDmgBuff,e1DefPen:T.e1DefPen,e2DmgBuff:T.e2DmgBuff,e6CrToCdConversion:{id:"e6CrToCdConversion",formItem:"switch",text:e("TeammateContent.e6CrToCdConversion.text"),content:e("TeammateContent.e6CrToCdConversion.content"),disabled:t<6}};return{activeAbilities:[G.BASIC],content:()=>Object.values(T),teammateContent:()=>Object.values(B),defaults:()=>O,teammateDefaults:()=>h,precomputeEffects:(u,C,E)=>{u.BASIC_ATK_SCALING.buff(M,c),u.BASIC_TOUGHNESS_DMG.set(10,c)},precomputeMutualEffects:(u,C,E)=>{const S=C.characterConditionals;u.CR.buffDual(S.talentCrBuffStacks*v,d),u.ELEMENTAL_DMG.buffDual(S.skillDmgBuff?R:0,s),u.ELEMENTAL_DMG.buffDual(S.skillDmgBuff&&u.a[l.SUMMONS]>0?y:0,s),u.ELEMENTAL_DMG.buffDual(S.techniqueDmgBuff?.5:0,p),u.DEF_PEN.buffDual(t>=1&&S.e1DefPen&&S.skillDmgBuff?.16:0,I),u.DEF_PEN.buffDual(t>=1&&S.e1DefPen&&S.skillDmgBuff&&u.a[l.SUMMONS]>0?.24:0,I),u.ELEMENTAL_DMG.buffDual(t>=2&&S.e2DmgBuff?.3:0,P)},precomputeTeammateEffects:(u,C,E)=>{const S=C.characterConditionals,b=S.beatified?U*S.teammateCDValue+N:0;u.CD.buffDual(b,f),u.UNCONVERTIBLE_CD_BUFF.buffDual(b,f)},finalizeCalculations:(u,C,E)=>{},gpuFinalizeCalculations:(u,C)=>"",teammateDynamicConditionals:[{id:"SundayMemoCrConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.CR],chainsTo:[g.CD],condition:function(u,C,E){return u.m.a[l.CR]>1},effect:function(u,C,E){const S=C.teammateCharacterConditionals;if(!(t>=6&&S.e6CrToCdConversion&&!u.a[l.DEPRIORITIZE_BUFFS]))return;const b=C.conditionalState[this.id]||0,k=Math.floor((u.m.a[l.CR]-u.m.a[l.UNCONVERTIBLE_CR_BUFF]-1)/.01)*2*.01;C.conditionalState[this.id]=k,u.m.CD.buffDynamic(k-b,F,C,E),u.m.UNCONVERTIBLE_CD_BUFF.buffDynamic(k-b,F,C,E)},gpu:function(u,C){const E=u.teammateCharacterConditionals;return ut(this,`
if (${ee(t>=6&&E.e6CrToCdConversion)}) {
  return;
}

if (x.DEPRIORITIZE_BUFFS > 0) {
  return;
}

let cr = (*p_m).CR;
let unconvertibleCr = (*p_m).UNCONVERTIBLE_CR_BUFF;

if (cr > 1.00) {
  let buffValue: f32 = floor((cr - unconvertibleCr - 1.00) / 0.01) * 2.00 * 0.01;
  let stateValue: f32 = (*p_state).${this.id};

  (*p_state).${this.id} = buffValue;
  (*p_m).CD += buffValue - stateValue;
  (*p_m).UNCONVERTIBLE_CD_BUFF += buffValue - stateValue;
}
          `)}},{id:"SundayCrConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.CR],chainsTo:[g.CD],condition:function(u,C,E){return u.a[l.CR]>1},effect:function(u,C,E){const S=C.teammateCharacterConditionals;if(!(t>=6&&S.e6CrToCdConversion&&!u.a[l.DEPRIORITIZE_BUFFS]))return;const b=C.conditionalState[this.id]||0,k=Math.floor((u.a[l.CR]-u.a[l.UNCONVERTIBLE_CR_BUFF]-1)/.01)*2*.01;C.conditionalState[this.id]=k,u.CD.buffDynamic(k-b,F,C,E),u.UNCONVERTIBLE_CD_BUFF.buffDynamic(k-b,F,C,E)},gpu:function(u,C){const E=u.teammateCharacterConditionals;return ut(this,`
if (${ee(t>=6&&E.e6CrToCdConversion)}) {
  return;
}

if (x.DEPRIORITIZE_BUFFS > 0) {
  return;
}

if (x.CR > 1.00) {
  let buffValue: f32 = floor((x.CR - x.UNCONVERTIBLE_CR_BUFF - 1.00) / 0.01) * 2.00 * 0.01;
  let stateValue: f32 = (*p_state).${this.id};

  (*p_state).${this.id} = buffValue;
  (*p_x).CD += buffValue - stateValue;
  (*p_x).UNCONVERTIBLE_CD_BUFF += buffValue - stateValue;
}
    `)}}]}},Dc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Aglaea"),a=m.wrappedFixedT(n).get(null,"conditionals","Common.BuffPriority"),{basic:o,skill:i,ult:r,talent:c,memoSkill:s,memoTalent:f}=V.SKILL_BASIC_MEMO_TALENT_3_ULT_TALENT_MEMO_SKILL_5,{SOURCE_BASIC:d,SOURCE_SKILL:p,SOURCE_ULT:_,SOURCE_TALENT:L,SOURCE_TECHNIQUE:I,SOURCE_TRACE:P,SOURCE_MEMO:H,SOURCE_E1:F,SOURCE_E2:R,SOURCE_E4:y,SOURCE_E6:U}=A.character("1402"),N=o(t,1,1.1),v=o(t,2,2.2),M=r(t,.15,.16),O=c(t,.66,.704),h=c(t,720,828),T=c(t,.3,.336),B=s(t,1.1,1.21),u=f(t,55,57.2),C=t>=4?7:6,E={buffPriority:ht,supremeStanceState:!0,seamStitch:!0,memoSpdStacks:C,e1Vulnerability:!0,e2DefShredStacks:3,e6Buffs:!0},S={seamStitch:!0,e1Vulnerability:!0},b={buffPriority:{id:"buffPriority",formItem:"select",text:a("Text"),content:a("Content"),options:[{display:a("Self"),value:ht,label:a("Self")},{display:a("Memo"),value:vt,label:a("Memo")}],fullWidth:!0},supremeStanceState:{id:"supremeStanceState",formItem:"switch",text:e("Content.supremeStanceState.text"),content:e("Content.supremeStanceState.content",{SpdBuff:m.precisionRound(M*100)})},seamStitch:{id:"seamStitch",formItem:"switch",text:e("Content.seamStitch.text"),content:e("Content.seamStitch.content",{Scaling:m.precisionRound(T*100)})},memoSpdStacks:{id:"memoSpdStacks",formItem:"slider",text:e("Content.memoSpdStacks.text"),content:e("Content.memoSpdStacks.content",{SpdBuff:u,StackLimit:C}),min:0,max:C},e1Vulnerability:{id:"e1Vulnerability",formItem:"switch",text:e("Content.e1Vulnerability.text"),content:e("Content.e1Vulnerability.content"),disabled:t<1},e2DefShredStacks:{id:"e2DefShredStacks",formItem:"slider",text:e("Content.e2DefShredStacks.text"),content:e("Content.e2DefShredStacks.content"),min:1,max:3,disabled:t<2},e6Buffs:{id:"e6Buffs",formItem:"switch",text:e("Content.e6Buffs.text"),content:e("Content.e6Buffs.content"),disabled:t<6}},k={seamStitch:b.seamStitch,e1Vulnerability:b.e1Vulnerability};return{activeAbilities:[G.BASIC,G.MEMO_SKILL],content:()=>Object.values(b),teammateContent:()=>Object.values(k),defaults:()=>E,teammateDefaults:()=>S,initializeConfigurations:(D,K,x)=>{const w=K.characterConditionals;D.SUMMONS.set(1,L),D.MEMOSPRITE.set(1,L),D.MEMO_BUFF_PRIORITY.set(w.buffPriority==ht?ht:vt,L)},precomputeEffects:(D,K,x)=>{const w=K.characterConditionals;D.BASIC_ATK_SCALING.buff(w.supremeStanceState?v:N,d),D.m.BASIC_ATK_SCALING.buff(v,H),D.SPD_P.buff(w.supremeStanceState?M*w.memoSpdStacks:0,_),D.MEMO_BASE_HP_SCALING.buff(O,H),D.MEMO_BASE_HP_FLAT.buff(h,H),D.MEMO_BASE_SPD_SCALING.buff(.35,H),D.MEMO_BASE_DEF_SCALING.buff(1,H),D.MEMO_BASE_ATK_SCALING.buff(1,H),D.BASIC_ADDITIONAL_DMG_SCALING.buff(w.seamStitch?T:0,L),D.m.MEMO_SKILL_ATK_SCALING.buff(B,H),D.m.SPD.buff(w.memoSpdStacks*u,H),D.DEF_PEN.buff(t>=2?.14*w.e2DefShredStacks:0,R),D.m.DEF_PEN.buff(t>=2?.14*w.e2DefShredStacks:0,R),D.LIGHTNING_RES_PEN.buff(t>=6&&w.e6Buffs&&w.supremeStanceState?.2:0,U),D.m.LIGHTNING_RES_PEN.buff(t>=6&&w.e6Buffs&&w.supremeStanceState?.2:0,U),D.BASIC_TOUGHNESS_DMG.buff(w.supremeStanceState?20:10,d),D.m.MEMO_SKILL_TOUGHNESS_DMG.buff(10,H)},precomputeMutualEffects:(D,K,x)=>{const w=K.characterConditionals;D.VULNERABILITY.buffTeam(t>=1&&w.seamStitch&&w.e1Vulnerability?.15:0,F)},finalizeCalculations:(D,K,x)=>{const w=K.characterConditionals;if(t>=6&&w.supremeStanceState&&w.e6Buffs){let W=0;D.a[l.SPD]>320||D.m.a[l.SPD]>=320?W=.6:D.a[l.SPD]>240||D.m.a[l.SPD]>=240?W=.3:(D.a[l.SPD]>160||D.m.a[l.SPD]>=160)&&(W=.1),D.BASIC_DMG_BOOST.buff(W,U),D.m.BASIC_DMG_BOOST.buff(W,U)}Mo(D)},gpuFinalizeCalculations:(D,K)=>{const x=D.characterConditionals;return`
if (${nt(t>=6&&x.supremeStanceState&&x.e6Buffs)}) {
  if (x.SPD > 320 || m.SPD > 320) {
    x.BASIC_DMG_BOOST += 0.60;
    m.BASIC_DMG_BOOST += 0.60;
  } else if (x.SPD > 240 || m.SPD > 240) {
    x.BASIC_DMG_BOOST += 0.30;
    m.BASIC_DMG_BOOST += 0.30;
  } else if (x.SPD > 160 || m.SPD > 160) {
    x.BASIC_DMG_BOOST += 0.10;
    m.BASIC_DMG_BOOST += 0.10;
  }
}

${ds()}
`},dynamicConditionals:[{id:"AglaeaConversionConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.SPD],chainsTo:[g.ATK],condition:function(D,K,x){return!0},effect:function(D,K,x){if(!K.characterConditionals.supremeStanceState)return;const W=K.conditionalState[this.id]||0,rt=7.2*D.a[l.SPD]+3.6*D.m.a[l.SPD];K.conditionalState[this.id]=rt,D.ATK.buffDynamic(rt-W,P,K,x),D.m.ATK.buffDynamic(rt-W,P,K,x)},gpu:function(D,K){const x=D.characterConditionals;return ut(this,`
if (${ee(x.supremeStanceState)}) {
  return;
}
let spd = x.SPD;
let memoSpd = (*p_m).SPD;
let stateValue: f32 = (*p_state).AglaeaConversionConditional;
let buffValue: f32 = 7.20 * spd + 3.60 * memoSpd;

(*p_state).AglaeaConversionConditional = buffValue;
(*p_x).ATK += buffValue - stateValue;
(*p_m).ATK += buffValue - stateValue;
    `)}}]}},bc=(t,n)=>{m.wrappedFixedT(n).get(null,"conditionals","Common.BuffPriority");const{basic:e,skill:a,ult:o,talent:i}=V.ULT_BASIC_3_SKILL_TALENT_5,{SOURCE_BASIC:r,SOURCE_SKILL:c,SOURCE_ULT:s,SOURCE_TALENT:f,SOURCE_TECHNIQUE:d,SOURCE_TRACE:p,SOURCE_MEMO:_,SOURCE_E1:L,SOURCE_E2:I,SOURCE_E4:P,SOURCE_E6:H}=A.character("1405"),F=e(t,1,1.1),R=a(t,.8,.88),y=o(t,2,2.1),U=i(t,.3,.324),N={skillHits:4,exposedNature:!0,eruditionTeammateBuffs:!0,enemyWeaknessTypes:7,e1DefPen:!0,e2ResPen:!0,e4AtkBuffStacks:2,e6Buffs:!0},v={eruditionTeammateBuffs:!0,e1DefPen:!0,e2ResPen:!0,e6Buffs:!0},M={skillHits:{id:"skillHits",formItem:"slider",text:"Skill additional hits",content:J.t("BetaMessage",{ns:"conditionals",Version:it}),min:0,max:4},exposedNature:{id:"exposedNature",formItem:"switch",text:"Exposed Nature",content:J.t("BetaMessage",{ns:"conditionals",Version:it})},eruditionTeammateBuffs:{id:"eruditionTeammateBuffs",formItem:"switch",text:"Erudition teammate buffs",content:J.t("BetaMessage",{ns:"conditionals",Version:it})},enemyWeaknessTypes:{id:"enemyWeaknessTypes",formItem:"slider",text:"Enemy weaknesses",content:J.t("BetaMessage",{ns:"conditionals",Version:it}),min:0,max:7},e1DefPen:{id:"e1DefPen",formItem:"switch",text:"E1 DEF PEN",content:J.t("BetaMessage",{ns:"conditionals",Version:it}),disabled:t<1},e2ResPen:{id:"e2ResPen",formItem:"switch",text:"E2 RES PEN",content:J.t("BetaMessage",{ns:"conditionals",Version:it}),disabled:t<2},e4AtkBuffStacks:{id:"e4AtkBuffStacks",formItem:"slider",text:"E4 ATK buff stacks",content:J.t("BetaMessage",{ns:"conditionals",Version:it}),min:0,max:2,disabled:t<4},e6Buffs:{id:"e6Buffs",formItem:"switch",text:"E6 buffs",content:J.t("BetaMessage",{ns:"conditionals",Version:it}),disabled:t<6}},O={eruditionTeammateBuffs:M.eruditionTeammateBuffs,e1DefPen:M.e1DefPen,e2ResPen:M.e2ResPen,e6Buffs:M.e6Buffs};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT],content:()=>Object.values(M),teammateContent:()=>Object.values(O),defaults:()=>N,teammateDefaults:()=>v,initializeConfigurations:(h,T,B)=>{T.characterConditionals},precomputeEffects:(h,T,B)=>{const u=T.characterConditionals;h.BASIC_ATK_SCALING.buff(F,r),h.SKILL_ATK_SCALING.buff(R*(1+u.skillHits),c),h.ULT_ATK_SCALING.buff(y,s),h.SKILL_DMG_BOOST.buff(B.enemyCount*.2,c),h.DEF_PEN.buff(u.enemyWeaknessTypes*.04,p),h.ELEMENTAL_DMG.buff(u.exposedNature?U:0,f),h.ATK_P.buff(t>=4?u.e4AtkBuffStacks*.3:0,P),h.FINAL_DMG_BOOST.buff(t>=6&&u.e6Buffs?.3:0,H);const C=te(B,Jt.Erudition);h.CD.buff(u.eruditionTeammateBuffs&&C==1||t>=6&&u.e6Buffs?1.4:0,p),h.BASIC_TOUGHNESS_DMG.buff(10,r),h.SKILL_TOUGHNESS_DMG.buff(10+u.skillHits*10,c),h.ULT_TOUGHNESS_DMG.buff(20,s)},precomputeMutualEffects:(h,T,B)=>{const u=T.characterConditionals,C=te(B,Jt.Erudition);h.ELEMENTAL_DMG.buff(u.eruditionTeammateBuffs&&C>=2||t>=6&&u.e6Buffs?.4:0,p),h.DEF_PEN.buff(t>=1&&u.e1DefPen?.16:0,L),h.RES_PEN.buffTeam(t>=2&&u.e2ResPen?.2:0,I)},finalizeCalculations:h=>{},gpuFinalizeCalculations:()=>""}},Lc=(t,n)=>{m.wrappedFixedT(n).get(null,"conditionals","Characters.Aglaea");const e=m.wrappedFixedT(n).get(null,"conditionals","Common.BuffPriority"),{basic:a,skill:o,ult:i,talent:r,memoSkill:c,memoTalent:s}=V.ULT_BASIC_MEMO_TALENT_3_SKILL_TALENT_MEMO_SKILL_5,{SOURCE_BASIC:f,SOURCE_SKILL:d,SOURCE_ULT:p,SOURCE_TALENT:_,SOURCE_TECHNIQUE:L,SOURCE_TRACE:I,SOURCE_MEMO:P,SOURCE_E1:H,SOURCE_E2:F,SOURCE_E4:R,SOURCE_E6:y}=A.character("1407"),U=a(t,.5,.55),N=o(t,.5,.55),v=o(t,.3,.33),M=o(t,.5,.55),O=r(t,.2,.22),h=i(t,.2,.22),T=c(t,.24,.264),B=c(t,.28,.308),u=c(t,.34,.374),C=s(t,.4,.44),E={buffPriority:vt,memospriteActive:!0,spdBuff:!0,talentDmgStacks:3,memoSkillEnhances:3,memoTalentHits:t>=6?9:6,teamDmgBoost:!0,memoDmgStacks:3,e1EnemyHp50:!0,e6Buffs:!0},S={memospriteActive:!0,teamDmgBoost:!0},b={buffPriority:{id:"buffPriority",formItem:"select",text:e("Text"),content:e("Content"),options:[{display:e("Self"),value:ht,label:e("Self")},{display:e("Memo"),value:vt,label:e("Memo")}],fullWidth:!0},memospriteActive:{id:"memospriteActive",formItem:"switch",text:"Memosprite active",content:J.t("BetaMessage",{ns:"conditionals",Version:it})},spdBuff:{id:"spdBuff",formItem:"switch",text:"SPD buff",content:J.t("BetaMessage",{ns:"conditionals",Version:it})},teamDmgBoost:{id:"teamDmgBoost",formItem:"switch",text:"Team DMG boost",content:J.t("BetaMessage",{ns:"conditionals",Version:it})},talentDmgStacks:{id:"talentDmgStacks",formItem:"slider",text:"Talent DMG stacks",content:J.t("BetaMessage",{ns:"conditionals",Version:it}),min:0,max:3},memoSkillEnhances:{id:"memoSkillEnhances",formItem:"slider",text:"Memo Skill enhances",content:J.t("BetaMessage",{ns:"conditionals",Version:it}),min:1,max:3},memoDmgStacks:{id:"memoDmgStacks",formItem:"slider",text:"Memo DMG stacks",content:J.t("BetaMessage",{ns:"conditionals",Version:it}),min:0,max:6},memoTalentHits:{id:"memoTalentHits",formItem:"slider",text:"Memo Talent hits",content:J.t("BetaMessage",{ns:"conditionals",Version:it}),min:0,max:t>=6?9:6},e1EnemyHp50:{id:"e1EnemyHp50",formItem:"switch",text:"E1 Enemy HP ≤ 50%",content:J.t("BetaMessage",{ns:"conditionals",Version:it}),disabled:t<1},e6Buffs:{id:"e6Buffs",formItem:"switch",text:"E6 buffs",content:J.t("BetaMessage",{ns:"conditionals",Version:it}),disabled:t<6}},k={memospriteActive:b.memospriteActive,teamDmgBoost:b.teamDmgBoost};return{activeAbilities:[G.BASIC,G.SKILL,G.MEMO_SKILL,G.MEMO_TALENT],content:()=>Object.values(b),teammateContent:()=>Object.values(k),defaults:()=>E,teammateDefaults:()=>S,initializeConfigurations:(D,K,x)=>{const w=K.characterConditionals;D.SUMMONS.set(1,_),D.MEMOSPRITE.set(1,_),D.MEMO_BUFF_PRIORITY.set(w.buffPriority==ht?ht:vt,_)},precomputeEffects:(D,K,x)=>{const w=K.characterConditionals;D.SPD_P.buff(w.spdBuff?.4:0,I),D.BASIC_HP_SCALING.buff(U,f),D.SKILL_HP_SCALING.buff(w.memospriteActive?v:N,d),D.m.SKILL_SPECIAL_SCALING.buff(w.memospriteActive?M:0,d),D.ELEMENTAL_DMG.buffBaseDual(O*w.talentDmgStacks,_),t>=1&&D.m.FINAL_DMG_BOOST.buff(w.e1EnemyHp50?.4:.2,H),D.QUANTUM_RES_PEN.buffBaseDual(t>=6&&w.e6Buffs?.2:0,y),D.MEMO_BASE_SPD_FLAT.buff(165,P),D.MEMO_BASE_HP_FLAT.buff(32e3,P),D.m.MEMO_SKILL_SPECIAL_SCALING.buff(w.memoSkillEnhances==1?T:0,P),D.m.MEMO_SKILL_SPECIAL_SCALING.buff(w.memoSkillEnhances==2?B:0,P),D.m.MEMO_SKILL_SPECIAL_SCALING.buff(w.memoSkillEnhances==3?u:0,P),D.m.MEMO_TALENT_SPECIAL_SCALING.buff(w.memoTalentHits*C,P),D.m.ELEMENTAL_DMG.buff(.3*w.memoDmgStacks,I),D.BASIC_TOUGHNESS_DMG.buff(10,f),D.SKILL_TOUGHNESS_DMG.buff(20,f),D.m.MEMO_SKILL_TOUGHNESS_DMG.buff(10,P),D.m.MEMO_TALENT_TOUGHNESS_DMG.buff(5*w.memoTalentHits,P)},precomputeMutualEffects:(D,K,x)=>{const w=K.characterConditionals;D.RES_PEN.buffTeam(w.memospriteActive?h:0,p),D.ELEMENTAL_DMG.buffTeam(w.teamDmgBoost?.1:0,P)},finalizeCalculations:(D,K,x)=>{D.m.SKILL_DMG.buff(D.m.a[l.SKILL_SPECIAL_SCALING]*D.a[l.HP],A.NONE),D.m.MEMO_SKILL_DMG.buff(D.m.a[l.MEMO_SKILL_SPECIAL_SCALING]*D.a[l.HP],A.NONE),D.m.MEMO_TALENT_DMG.buff(D.m.a[l.MEMO_TALENT_SPECIAL_SCALING]*D.a[l.HP],A.NONE)},gpuFinalizeCalculations:(D,K)=>` 
m.SKILL_DMG += m.SKILL_SPECIAL_SCALING * x.HP;
m.MEMO_SKILL_DMG += m.MEMO_SKILL_SPECIAL_SCALING * x.HP;
m.MEMO_TALENT_DMG += m.MEMO_TALENT_SPECIAL_SCALING * x.HP;
`}},Oc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Mydei.Content"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_BASIC_3_ULT_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1404"),R=a(t,.5,.55),y=o(t,.9,.99),U=o(t,1.1,1.21),N=o(t,2.8,3.08),v=i(t,1.6,1.728),M={skillEnhances:2,vendettaState:!0,hpToCrConversion:!0,e1EnhancedSkillBuff:!0,e2DefPen:!0,e4CdBuff:!0},O={},h={skillEnhances:{id:"skillEnhances",formItem:"slider",text:e("skillEnhances.text"),content:e("skillEnhances.content",{SkillPrimaryScaling:m.precisionRound(y*100),SkillAdjacentScaling:m.precisionRound(o(t,50,55)),EnhancedSkillPrimaryScaling:m.precisionRound(U*100),EnhancedSkillAdjacentScaling:m.precisionRound(o(t,66,72.6)),EnhancedSkill2PrimaryScaling:m.precisionRound(N*100),EnhancedSkill2AdjacentScaling:m.precisionRound(o(t,168,184.8))}),min:0,max:2},vendettaState:{id:"vendettaState",formItem:"switch",text:e("vendettaState.text"),content:e("vendettaState.content",{HpRestoration:m.precisionRound(r(t,25,27))})},hpToCrConversion:{id:"hpToCrConversion",formItem:"switch",text:e("hpToCrConversion.text"),content:e("hpToCrConversion.content")},e1EnhancedSkillBuff:{id:"e1EnhancedSkillBuff",formItem:"switch",text:e("e1EnhancedSkillBuff.text"),content:e("e1EnhancedSkillBuff.content"),disabled:t<1},e2DefPen:{id:"e2DefPen",formItem:"switch",text:e("e2DefPen.text"),content:e("e2DefPen.content"),disabled:t<2},e4CdBuff:{id:"e4CdBuff",formItem:"switch",text:e("e4CdBuff.text"),content:e("e4CdBuff.content"),disabled:t<4}},T={};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT],content:()=>Object.values(h),teammateContent:()=>Object.values(T),defaults:()=>M,teammateDefaults:()=>O,precomputeEffects:(B,u,C)=>{const E=u.characterConditionals;B.BASIC_HP_SCALING.buff(R,c),B.SKILL_HP_SCALING.buff(E.skillEnhances==0?y:0,s),B.SKILL_HP_SCALING.buff(E.skillEnhances==1?U:0,s),B.SKILL_HP_SCALING.buff(E.skillEnhances==2?N:0,s),B.SKILL_HP_SCALING.buff(t>=1&&E.e1EnhancedSkillBuff&&E.skillEnhances==2?.3:0,I),B.ULT_HP_SCALING.buff(v,f),B.DEF_PEN.buff(t>=2&&E.e2DefPen&&E.vendettaState?.15:0,P),B.CD.buff(t>=4&&E.e4CdBuff?.3:0,H),B.BASIC_TOUGHNESS_DMG.buff(10,c),B.SKILL_TOUGHNESS_DMG.buff(E.skillEnhances>1?30:20,s),B.ULT_TOUGHNESS_DMG.buff(20,f)},calculateBasicEffects:(B,u,C)=>{const S=u.characterConditionals.hpToCrConversion?Math.max(0,Math.min(.48,.016*Math.floor((B.c.a[l.HP]-5e3)/100))):0;B.CR.buff(S,_),B.UNCONVERTIBLE_CR_BUFF.buff(S,_)},gpuCalculateBasicEffects:(B,u)=>{const C=B.characterConditionals;return`
if (${nt(C.hpToCrConversion)}) {
  let buffValue: f32 = max(0, min(0.48, 0.016 * floor((c.HP - 5000) / 100)));
  x.CR += buffValue;
  x.UNCONVERTIBLE_CR_BUFF += buffValue;
}
`},finalizeCalculations:(B,u,C)=>{u.characterConditionals.vendettaState&&B.DEF.set(0,d)},gpuFinalizeCalculations:(B,u)=>{const C=B.characterConditionals;return`
if (${nt(C.vendettaState)}) {
  x.DEF = 0;
}
`},dynamicConditionals:[{id:"MydeiHpConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.HP],chainsTo:[g.HP],condition:function(B,u,C){return u.characterConditionals.vendettaState},effect:function(B,u,C){u.characterConditionals,Ct(g.HP,g.HP,this,B,u,C,d,E=>E*.5)},gpu:function(B,u){const C=B.characterConditionals;return Et(g.HP,g.HP,this,B,u,"0.50 * convertibleValue",`${nt(C.vendettaState)}`)}}]}},Ic=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.TheHerta"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1401"),R=a(t,1,1.1),y=o(t,.7,.77),U=o(t,.8,.88),N=o(t,.4,.44),v=r(t,.08,.088),M=i(t,2,2.2),O=i(t,.8,.88),h={enhancedSkill:!0,eruditionTeammate:!0,ultAtkBuff:!0,interpretationStacks:42,totalInterpretationStacks:99,e1BonusStacks:!0,e4EruditionSpdBuff:!0,e6Buffs:!0},T={eruditionTeammate:!0,e4EruditionSpdBuff:!0},B={enhancedSkill:{id:"enhancedSkill",formItem:"switch",text:e("Content.enhancedSkill.text"),content:e("Content.enhancedSkill.content")},eruditionTeammate:{id:"eruditionTeammate",formItem:"switch",text:e("Content.eruditionTeammate.text"),content:e("Content.eruditionTeammate.content",{PrimaryScalingBonus:m.precisionRound(v*100),AdjacentScalingBonus:m.precisionRound(v*.5*100)})},ultAtkBuff:{id:"ultAtkBuff",formItem:"switch",text:e("Content.ultAtkBuff.text"),content:e("Content.ultAtkBuff.content",{AtkBuff:m.precisionRound(O*100)})},interpretationStacks:{id:"interpretationStacks",formItem:"slider",text:e("Content.interpretationStacks.text"),content:e("Content.interpretationStacks.content",{PrimaryScalingBonus:m.precisionRound(v*100),AdjacentScalingBonus:m.precisionRound(v*.5*100)}),min:1,max:42},totalInterpretationStacks:{id:"totalInterpretationStacks",formItem:"slider",text:e("Content.totalInterpretationStacks.text"),content:e("Content.totalInterpretationStacks.content"),min:1,max:99},e1BonusStacks:{id:"e1BonusStacks",formItem:"switch",text:e("Content.e1BonusStacks.text"),content:e("Content.e1BonusStacks.content"),disabled:t<1},e4EruditionSpdBuff:{id:"e4EruditionSpdBuff",formItem:"switch",text:e("Content.e4EruditionSpdBuff.text"),content:e("Content.e4EruditionSpdBuff.content"),disabled:t<4},e6Buffs:{id:"e6Buffs",formItem:"switch",text:e("Content.e6Buffs.text"),content:e("Content.e6Buffs.content"),disabled:t<6}},u={eruditionTeammate:B.eruditionTeammate,e4EruditionSpdBuff:B.e4EruditionSpdBuff};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT],content:()=>Object.values(B),teammateContent:()=>Object.values(u),defaults:()=>h,teammateDefaults:()=>T,precomputeEffects:(C,E,S)=>{const b=E.characterConditionals;C.ATK_P.buff(b.ultAtkBuff?O:0,f),C.BASIC_ATK_SCALING.buff(R,c);const k=S.enemyCount==1?4:1.4;C.ULT_ATK_SCALING.buff(M+b.totalInterpretationStacks*.01,_),C.ULT_ATK_SCALING.buff(t>=6&&b.e6Buffs?k:0,F);const D=b.eruditionTeammate?Math.min(2,te(S,Jt.Erudition)):1,K=v*(b.interpretationStacks+(t>=1&&b.e1BonusStacks?b.interpretationStacks*.5:0))*D;C.SKILL_ATK_SCALING.buff(b.enhancedSkill?U*3+K+N:y*3,s),C.SKILL_DMG_BOOST.buff(b.enhancedSkill&&b.interpretationStacks>=(t>=1&&b.e1BonusStacks?28:42)?.5:0,_),C.ICE_RES_PEN.buff(t>=6&&b.e6Buffs?.2:0,F),C.BASIC_TOUGHNESS_DMG.buff(10,c),C.SKILL_TOUGHNESS_DMG.buff(b.enhancedSkill?25:20,s),C.ULT_TOUGHNESS_DMG.buff(20,f)},precomputeMutualEffects:(C,E,S)=>{const b=E.characterConditionals;C.CD.buff(b.eruditionTeammate&&te(S,Jt.Erudition)>=2?.8:0,_),C.SPD_P.buff(t>=4&&b.e4EruditionSpdBuff&&qo(S,Jt.Erudition)?.12:0,H)},precomputeTeammateEffects:(C,E,S)=>{E.characterConditionals},finalizeCalculations:(C,E,S)=>{},gpuFinalizeCalculations:(C,E)=>""}},Rc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.Tribbie.Content"),{basic:a,skill:o,ult:i,talent:r}=V.ULT_BASIC_3_SKILL_TALENT_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("1403"),R=a(t,.3,.33),y=o(t,.24,.264),U=i(t,.3,.33),N=i(t,.3,.33),v=i(t,.12,.132),M=r(t,.18,.198),O={numinosity:!0,ultZone:!0,alliesMaxHp:25e3,talentFuaStacks:3,e1TrueDmg:!0,e2AdditionalDmg:!0,e4DefPen:!0,e6FuaScaling:!0},h={numinosity:!0,ultZone:!0,e1TrueDmg:!0,e4DefPen:!0},T={numinosity:{id:"numinosity",formItem:"switch",text:e("numinosity.text"),content:e("numinosity.content",{ResPen:m.precisionRound(y*100)})},ultZone:{id:"ultZone",formItem:"switch",text:e("ultZone.text"),content:e("ultZone.content",{UltScaling:m.precisionRound(100*U),ZoneVulnerability:m.precisionRound(100*N),AdditionalDmgScaling:m.precisionRound(100*v)})},alliesMaxHp:{id:"alliesMaxHp",formItem:"slider",text:e("alliesMaxHp.text"),content:e("alliesMaxHp.content"),min:0,max:5e4},talentFuaStacks:{id:"talentFuaStacks",formItem:"slider",text:e("talentFuaStacks.text"),content:e("talentFuaStacks.content"),min:0,max:3},e1TrueDmg:{id:"e1TrueDmg",formItem:"switch",text:e("e1TrueDmg.text"),content:e("e1TrueDmg.content"),disabled:t<1},e2AdditionalDmg:{id:"e2AdditionalDmg",formItem:"switch",text:e("e2AdditionalDmg.text"),content:e("e2AdditionalDmg.content"),disabled:t<2},e4DefPen:{id:"e4DefPen",formItem:"switch",text:e("e4DefPen.text"),content:e("e4DefPen.content"),disabled:t<4},e6FuaScaling:{id:"e6FuaScaling",formItem:"switch",text:e("e6FuaScaling.text"),content:e("e6FuaScaling.content"),disabled:t<6}},B={numinosity:T.numinosity,ultZone:T.ultZone,e1TrueDmg:T.e1TrueDmg,e4DefPen:T.e4DefPen};return{activeAbilities:[G.BASIC,G.ULT,G.FUA],content:()=>Object.values(T),teammateContent:()=>Object.values(B),defaults:()=>O,teammateDefaults:()=>h,precomputeEffects:(u,C,E)=>{const S=C.characterConditionals;u.BASIC_HP_SCALING.buff(R,c),u.ULT_HP_SCALING.buff(U,f),u.FUA_HP_SCALING.buff(M,d);const b=(S.ultZone?v:0)*(t>=2&&S.e2AdditionalDmg?1.2*2:1);u.BASIC_ADDITIONAL_DMG_SCALING.buff(b,f),u.ULT_ADDITIONAL_DMG_SCALING.buff(b,f),u.FUA_ADDITIONAL_DMG_SCALING.buff(b,f),u.ELEMENTAL_DMG.buff(S.talentFuaStacks*.72,_),u.FUA_DMG_BOOST.buff(t>=6&&S.e6FuaScaling?7.29:0,F),u.HP.buff(S.ultZone?.09*S.alliesMaxHp:0,_),u.BASIC_TOUGHNESS_DMG.buff(10,c),u.ULT_TOUGHNESS_DMG.buff(20,f),u.FUA_TOUGHNESS_DMG.buff(5,d)},precomputeMutualEffects:(u,C,E)=>{const S=C.characterConditionals;u.RES_PEN.buffTeam(S.numinosity?y:0,s),u.VULNERABILITY.buffTeam(S.ultZone?N:0,f),Aa(u,Ba(It),t>=1&&S.ultZone&&S.e1TrueDmg?.24:0,I,ct.TEAM),u.DEF_PEN.buffTeam(t>=4&&S.numinosity&&S.e4DefPen?.18:0,H)},finalizeCalculations:(u,C,E)=>{Ss(u),Cs(u),Es(u)},gpuFinalizeCalculations:(u,C)=>_s()+ps()+gs()}},so=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.TrailblazerDestruction"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("8002"),R=r(t,.2,.22),y=a(t,1,1.1),U=o(t,1.25,1.375),N=i(t,4.5,4.8),v=i(t,2.7,2.88),M=i(t,1.62,1.728),O={enhancedUlt:!0,talentStacks:2},h={enhancedUlt:{id:"enhancedUlt",formItem:"switch",text:e("Content.enhancedUlt.text"),content:e("Content.enhancedUlt.content",{ultScaling:m.precisionRound(100*N),ultEnhancedScaling:m.precisionRound(100*v),ultEnhancedScaling2:m.precisionRound(100*M)})},talentStacks:{id:"talentStacks",formItem:"slider",text:e("Content.talentStacks.text"),content:e("Content.talentStacks.content",{talentAtkScalingValue:m.precisionRound(100*R)}),min:0,max:2}};return{activeAbilities:[G.BASIC,G.SKILL,G.ULT],content:()=>Object.values(h),defaults:()=>O,precomputeEffects:(T,B,u)=>{const C=B.characterConditionals;return T.ATK_P.buff(C.talentStacks*R,d),T.DEF_P.buff(C.talentStacks*.1,_),T.CR.buff(t>=4&&T.a[l.ENEMY_WEAKNESS_BROKEN]?.25:0,H),T.BASIC_ATK_SCALING.buff(y,c),T.SKILL_ATK_SCALING.buff(U,s),T.ULT_ATK_SCALING.buff(C.enhancedUlt?v:N,f),z(T,Y,.25,_),z(T,$,C.enhancedUlt?.25:0,_),T.BASIC_TOUGHNESS_DMG.buff(10,c),T.SKILL_TOUGHNESS_DMG.buff(20,s),T.ULT_TOUGHNESS_DMG.buff(C.enhancedUlt?20:30,f),T},finalizeCalculations:T=>{},gpuFinalizeCalculations:()=>""}},co=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.TrailblazerHarmony"),{basic:a,skill:o,ult:i}=V.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:r,SOURCE_SKILL:c,SOURCE_ULT:s,SOURCE_TALENT:f,SOURCE_TECHNIQUE:d,SOURCE_TRACE:p,SOURCE_MEMO:_,SOURCE_E1:L,SOURCE_E2:I,SOURCE_E4:P,SOURCE_E6:H}=A.character("8006"),F=a(t,1,1.1),R=o(t,.5,.55),y=i(t,.3,.33),U=t>=6?6:4,N={1:1.6,3:1.4,5:1.2},v={skillHitsOnTarget:U,backupDancer:!0,superBreakDmg:!0,e2EnergyRegenBuff:!1},M={backupDancer:!0,superBreakDmg:!0,teammateBeValue:2},O={backupDancer:{id:"backupDancer",formItem:"switch",text:e("Content.backupDancer.text"),content:e("Content.backupDancer.content",{ultBeScaling:m.precisionRound(100*y)})},superBreakDmg:{id:"superBreakDmg",formItem:"switch",text:e("Content.superBreakDmg.text"),content:e("Content.superBreakDmg.content")},skillHitsOnTarget:{id:"skillHitsOnTarget",formItem:"slider",text:e("Content.skillHitsOnTarget.text"),content:e("Content.skillHitsOnTarget.content"),min:0,max:U},e2EnergyRegenBuff:{id:"e2EnergyRegenBuff",formItem:"switch",text:e("Content.e2EnergyRegenBuff.text"),content:e("Content.e2EnergyRegenBuff.content"),disabled:t<2}},h={backupDancer:O.backupDancer,superBreakDmg:O.superBreakDmg,teammateBeValue:{id:"teammateBeValue",formItem:"slider",text:e("TeammateContent.teammateBeValue.text"),content:e("TeammateContent.teammateBeValue.content"),min:0,max:4,percent:!0,disabled:t<4}};return{activeAbilities:[G.BASIC,G.SKILL],content:()=>Object.values(O),teammateContent:()=>Object.values(h),defaults:()=>v,teammateDefaults:()=>M,initializeConfigurations:(T,B,u)=>{B.characterConditionals.superBreakDmg&&T.ENEMY_WEAKNESS_BROKEN.config(1,s)},initializeTeammateConfigurations:(T,B,u)=>{B.characterConditionals.superBreakDmg&&T.ENEMY_WEAKNESS_BROKEN.config(1,s)},precomputeEffects:(T,B,u)=>{const C=B.characterConditionals;return T.ERR.buff(t>=2&&C.e2EnergyRegenBuff?.25:0,I),T.BASIC_ATK_SCALING.buff(F,r),T.SKILL_ATK_SCALING.buff(R,c),T.SKILL_ATK_SCALING.buff(C.skillHitsOnTarget*R,c),T.BASIC_TOUGHNESS_DMG.buff(10,r),T.SKILL_TOUGHNESS_DMG.buff(10*C.skillHitsOnTarget,c),T},precomputeMutualEffects:(T,B,u)=>{const C=B.characterConditionals;T.BE.buffTeam(C.backupDancer?y:0,s),T.SUPER_BREAK_MODIFIER.buffTeam(C.backupDancer&&C.superBreakDmg?N[u.enemyCount]:0,s)},precomputeTeammateEffects:(T,B,u)=>{const C=B.characterConditionals,E=t>=4?.15*C.teammateBeValue:0;T.BE.buffTeam(E,P),T.UNCONVERTIBLE_BE_BUFF.buffTeam(E,P)},finalizeCalculations:T=>{},gpuFinalizeCalculations:()=>""}},ro=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.TrailblazerPreservation"),{basic:a,skill:o,ult:i,talent:r}=V.SKILL_TALENT_3_ULT_BASIC_5,{SOURCE_BASIC:c,SOURCE_SKILL:s,SOURCE_ULT:f,SOURCE_TALENT:d,SOURCE_TECHNIQUE:p,SOURCE_TRACE:_,SOURCE_MEMO:L,SOURCE_E1:I,SOURCE_E2:P,SOURCE_E4:H,SOURCE_E6:F}=A.character("8004"),R=o(t,.5,.52),y=a(t,1,1.1),U=t>=1?.25:0,N=a(t,1.35,1.463),v=t>=1?.5:0,M=i(t,1,1.1),O=i(t,1.5,1.65),h=r(t,.06,.064),T=r(t,80,89),B={enhancedBasic:!0,skillActive:!0,shieldActive:!0,e6DefStacks:3},u={skillActive:!0},C={enhancedBasic:{id:"enhancedBasic",formItem:"switch",text:e("Content.enhancedBasic.text"),content:e("Content.enhancedBasic.content",{basicEnhancedAtkScaling:m.precisionRound(100*N)})},skillActive:{id:"skillActive",formItem:"switch",text:e("Content.skillActive.text"),content:e("Content.skillActive.content",{skillDamageReductionValue:m.precisionRound(100*R)})},shieldActive:{id:"shieldActive",formItem:"switch",text:e("Content.shieldActive.text"),content:e("Content.shieldActive.content")},e6DefStacks:{id:"e6DefStacks",formItem:"slider",text:e("Content.e6DefStacks.text"),content:e("Content.e6DefStacks.content"),min:0,max:3,disabled:t<6}},E={skillActive:C.skillActive};return{activeAbilities:[G.BASIC,G.ULT],content:()=>Object.values(C),teammateContent:()=>Object.values(E),defaults:()=>B,teammateDefaults:()=>u,precomputeEffects:(S,b,k)=>{const D=b.characterConditionals;return S.DEF_P.buff(t>=6?D.e6DefStacks*.1:0,F),S.ATK_P.buff(D.shieldActive?.15:0,_),D.enhancedBasic?(S.BASIC_ATK_SCALING.buff(N,c),S.BASIC_DEF_SCALING.buff(v,c)):(S.BASIC_ATK_SCALING.buff(y,c),S.BASIC_DEF_SCALING.buff(U,c)),S.ULT_ATK_SCALING.buff(M,A.NONE),S.ULT_DEF_SCALING.buff(O,A.NONE),S.DMG_RED_MULTI.multiply(D.skillActive?1-R:1,s),S.BASIC_TOUGHNESS_DMG.buff(D.enhancedBasic?20:10,c),S.ULT_TOUGHNESS_DMG.buff(20,f),S.SHIELD_SCALING.buff(h,d),S.SHIELD_FLAT.buff(T,d),S},precomputeMutualEffects:(S,b,k)=>{const D=b.characterConditionals;S.DMG_RED_MULTI.multiplyTeam(D.skillActive?1-.15:1,_)},finalizeCalculations:(S,b,k)=>{Fe(S)},gpuFinalizeCalculations:(S,b)=>Ke()}},lo=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Characters.TrailblazerRemembrance"),a=m.wrappedFixedT(n).get(null,"conditionals","Common.BuffPriority"),{basic:o,skill:i,ult:r,talent:c,memoSkill:s,memoTalent:f}=V.SKILL_TALENT_MEMO_TALENT_3_ULT_BASIC_MEMO_SKILL_5,{SOURCE_BASIC:d,SOURCE_SKILL:p,SOURCE_ULT:_,SOURCE_TALENT:L,SOURCE_TECHNIQUE:I,SOURCE_TRACE:P,SOURCE_MEMO:H,SOURCE_E1:F,SOURCE_E2:R,SOURCE_E4:y,SOURCE_E6:U}=A.character("8008"),N=o(t,1,1.1),v=r(t,2.4,2.64),M=c(t,.8,.86),O=c(t,640,688),h=s(t,.36,.396),T=s(t,.9,.99),B=f(t,.12,.132),u=f(t,.24,.264),C=s(t,.28,.3),E={buffPriority:ht,memoSkillHits:4,teamCdBuff:!0,memsSupport:!1,energyTrueDmgValue:!1,e1CrBuff:!1,e4TrueDmgBoost:!1,e6UltCrBoost:!0},S={teamCdBuff:!0,memCDValue:2.5,memsSupport:!0,energyTrueDmgValue:!0,e1CrBuff:!0,e4TrueDmgBoost:!1},b={buffPriority:{id:"buffPriority",formItem:"select",text:a("Text"),content:a("Content"),options:[{display:a("Self"),value:ht,label:a("Self")},{display:a("Memo"),value:vt,label:a("Memo")}],fullWidth:!0},memoSkillHits:{id:"memoSkillHits",formItem:"slider",text:e("Content.memoSkillHits.text"),content:e("Content.memoSkillHits.content",{SingleScaling:m.precisionRound(h*100),AoeScaling:m.precisionRound(T*100)}),min:0,max:4},teamCdBuff:{id:"teamCdBuff",formItem:"switch",text:e("Content.teamCdBuff.text"),content:e("Content.teamCdBuff.content",{ScalingBuff:m.precisionRound(B*100),FlatBuff:m.precisionRound(u*100)})},memsSupport:{id:"memsSupport",formItem:"switch",text:e("Content.memsSupport.text"),content:e("Content.memsSupport.content",{TrueDmgScaling:m.precisionRound(C*100)})},energyTrueDmgValue:{id:"energyTrueDmgValue",formItem:"switch",text:e("Content.energyTrueDmgValue.text"),content:e("Content.energyTrueDmgValue.content")},e1CrBuff:{id:"e1CrBuff",formItem:"switch",text:e("Content.e1CrBuff.text"),content:e("Content.e1CrBuff.content"),disabled:t<1},e4TrueDmgBoost:{id:"e4TrueDmgBoost",formItem:"switch",text:e("Content.e4TrueDmgBoost.text"),content:e("Content.e4TrueDmgBoost.content"),disabled:t<4},e6UltCrBoost:{id:"e6UltCrBoost",formItem:"switch",text:e("Content.e6UltCrBoost.text"),content:e("Content.e6UltCrBoost.content"),disabled:t<6}},k={teamCdBuff:b.teamCdBuff,memCDValue:{id:"memCDValue",formItem:"slider",text:e("TeammateContent.memCDValue.text"),content:e("TeammateContent.memCDValue.content",{ScalingBuff:m.precisionRound(B*100),FlatBuff:m.precisionRound(u*100)}),min:0,max:4,percent:!0},memsSupport:b.memsSupport,energyTrueDmgValue:b.energyTrueDmgValue,e1CrBuff:b.e1CrBuff,e4TrueDmgBoost:b.e4TrueDmgBoost};return{activeAbilities:[G.BASIC,G.ULT,G.MEMO_SKILL],content:()=>Object.values(b),teammateContent:()=>Object.values(k),defaults:()=>E,teammateDefaults:()=>S,initializeConfigurations:(D,K,x)=>{const w=K.characterConditionals;D.SUMMONS.set(1,L),D.MEMOSPRITE.set(1,L),D.MEMO_BUFF_PRIORITY.set(w.buffPriority==ht?ht:vt,L)},precomputeEffects:(D,K,x)=>{const w=K.characterConditionals;D.BASIC_ATK_SCALING.buff(N,d),D.MEMO_BASE_HP_SCALING.buff(M,H),D.MEMO_BASE_HP_FLAT.buff(O,H),D.MEMO_BASE_SPD_SCALING.buff(0,H),D.MEMO_BASE_SPD_FLAT.buff(130,H),D.MEMO_BASE_DEF_SCALING.buff(1,H),D.MEMO_BASE_ATK_SCALING.buff(1,H),D.m.MEMO_SKILL_ATK_SCALING.buff(w.memoSkillHits*h+T,H),D.m.ULT_ATK_SCALING.buff(v,H),D.m.ULT_CR_BOOST.buff(t>=6&&w.e6UltCrBoost?1:0,U),D.BASIC_TOUGHNESS_DMG.buff(10,d),D.ULT_TOUGHNESS_DMG.buff(20,_),D.m.MEMO_SKILL_TOUGHNESS_DMG.buff(15,H)},precomputeMutualEffects:(D,K,x)=>{const w=K.characterConditionals;if(w.memsSupport){const W=Math.min(.2,w.energyTrueDmgValue?Math.max((x.baseEnergy-100)/10,0)*2*.01:0),rt=C+W+(t>=4&&w.e4TrueDmgBoost?.06:0);t>=1?(D.CR.buffDual(w.e1CrBuff?.1:0,F),D.TRUE_DMG_MODIFIER.buffDual(rt,H)):D.TRUE_DMG_MODIFIER.buffSingle(rt,H)}},precomputeTeammateEffects:(D,K,x)=>{const w=K.characterConditionals,W=w.teamCdBuff?B*w.memCDValue+u:0;D.CD.buffTeam(W,A.NONE),D.UNCONVERTIBLE_CD_BUFF.buffTeam(W,H)},finalizeCalculations:(D,K,x)=>{},gpuFinalizeCalculations:(D,K)=>"",dynamicConditionals:[{id:"TrailblazerRemembranceCdConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.CD],chainsTo:[g.CD],condition:function(D,K,x){return!0},effect:function(D,K,x){if(!K.characterConditionals.teamCdBuff)return;if(D.a[l.MEMOSPRITE])return this.effect(D.m,K,x);const W=K.conditionalState[this.id]||0,rt=D.a[l.CD]-D.a[l.UNCONVERTIBLE_CD_BUFF],Mt=B*rt+u,kt=B*W+u;K.conditionalState[this.id]=rt;const Lt=Math.max(0,Mt-(W?kt:0));D.UNCONVERTIBLE_CD_BUFF.buff(Lt,H),D.CD.buffDynamic(Lt,H,K,x),D.summoner().CD.buffDynamic(Lt,H,K,x)},gpu:function(D,K){const x=D.characterConditionals;return ut(this,`
if (${ee(x.teamCdBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).TrailblazerRemembranceCdConditional;
let convertibleCdValue: f32 = (*p_m).CD - (*p_m).UNCONVERTIBLE_CD_BUFF;

var buffCD: f32 = ${B} * convertibleCdValue + ${u};
var stateBuffCD: f32 = ${B} * stateValue + ${u};

(*p_state).TrailblazerRemembranceCdConditional = (*p_m).CD;

let finalBuffCd = max(0, buffCD - select(0, stateBuffCD, stateValue > 0));
(*p_m).UNCONVERTIBLE_CD_BUFF += finalBuffCd;

(*p_m).CD += finalBuffCd;
(*p_x).CD += finalBuffCd;
`)}}]}};const Uc={1001:bs,1002:fs,1003:hs,1004:Os,1005:Ds,1006:Ls,1008:rs,1009:ls,1013:As,1101:Is,1102:vs,1103:Hs,1104:Us,1105:Ns,1106:Gs,1107:Rs,1108:Ps,1109:Ms,1110:ys,1111:ks,1112:Fs,1201:nc,1202:ac,1203:qs,1204:Js,1205:xs,1206:oc,1207:cc,1208:zs,1209:sc,1210:js,1211:Ks,1212:Zs,1213:Ws,1214:ic,1215:$s,1217:Ys,1218:Qs,1220:ws,1221:rc,1222:Xs,1223:ec,1224:tc,1225:Vs,1301:Ec,1302:fc,1303:Bc,1304:uc,1305:Sc,1306:Ac,1307:dc,1308:lc,1309:Tc,1310:Cc,1312:pc,1313:hc,1314:_c,1315:mc,1317:gc,1401:Ic,1402:Dc,1403:Rc,1404:Oc,8001:so,8002:so,8003:ro,8004:ro,8005:co,8006:co,8007:lo,8008:lo,1405:bc,1407:Lc},Ge={get:(t,n=!1)=>{const e=Uc[t.characterId];return e(t.characterEidolon,n)}};var Mc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.Adversarial"),{SOURCE_LC:a}=A.lightCone("20014"),o=[.1,.12,.14,.16,.18],i={defeatedEnemySpdBuff:!0},r={defeatedEnemySpdBuff:{lc:!0,id:"defeatedEnemySpdBuff",formItem:"switch",text:e("Content.defeatedEnemySpdBuff.text"),content:e("Content.defeatedEnemySpdBuff.content",{SpdBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.SPD_P.buff(d.defeatedEnemySpdBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},kc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.Amber"),{SOURCE_LC:a}=A.lightCone("20003"),o=[.16,.2,.24,.28,.32],i={hp50DefBuff:!0},r={hp50DefBuff:{lc:!0,id:"hp50DefBuff",formItem:"switch",text:e("Content.hp50DefBuff.text"),content:e("Content.hp50DefBuff.content",{DefBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.DEF_P.buff(d.hp50DefBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},yc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.Arrows"),{SOURCE_LC:a}=A.lightCone("20000"),o=[.12,.15,.18,.21,.24],i={critBuff:!0},r={critBuff:{lc:!0,id:"critBuff",formItem:"switch",text:e("Content.critBuff.text"),content:e("Content.critBuff.content",{CritBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.CR.buff(d.critBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Nc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.Chorus"),{SOURCE_LC:a}=A.lightCone("20005"),o=[.08,.09,.1,.11,.12],i={inBattleAtkBuff:!0},r={inBattleAtkBuff:{lc:!0,id:"inBattleAtkBuff",formItem:"switch",text:e("Content.inBattleAtkBuff.text"),content:e("Content.inBattleAtkBuff.content",{AtkBuff:m.precisionRound(100*o[t])})}},c={inBattleAtkBuff:r.inBattleAtkBuff};return{content:()=>Object.values(r),teammateContent:()=>Object.values(c),defaults:()=>i,teammateDefaults:()=>({inBattleAtkBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(s,f,d)=>{const p=f.lightConeConditionals;s.ATK_P.buffTeam(p.inBattleAtkBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Gc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.CollapsingSky"),{SOURCE_LC:a}=A.lightCone("20002"),o=[.2,.25,.3,.35,.4],i={basicSkillDmgBuff:!0},r={basicSkillDmgBuff:{lc:!0,formItem:"switch",id:"basicSkillDmgBuff",text:e("Content.basicSkillDmgBuff.text"),content:e("Content.basicSkillDmgBuff.content",{DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;z(c,st|Y,d.basicSkillDmgBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Pc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.Cornucopia"),{SOURCE_LC:a}=A.lightCone("20001"),o=[.12,.15,.18,.21,.24],i={healingBuff:!0},r={healingBuff:{lc:!0,id:"healingBuff",formItem:"switch",text:e("Content.healingBuff.text"),content:e("Content.healingBuff.content",{HealingBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.SKILL_OHB.buff(d.healingBuff?o[t]:0,a),c.ULT_OHB.buff(d.healingBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},vc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.DartingArrow"),{SOURCE_LC:a}=A.lightCone("20007"),o=[.24,.3,.36,.42,.48],i={defeatedEnemyAtkBuff:!0},r={defeatedEnemyAtkBuff:{lc:!0,id:"defeatedEnemyAtkBuff",formItem:"switch",text:e("Content.defeatedEnemyAtkBuff.text"),content:e("Content.defeatedEnemyAtkBuff.content",{AtkBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ATK_P.buff(d.defeatedEnemyAtkBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Hc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.DataBank"),{SOURCE_LC:a}=A.lightCone("20006"),o=[.28,.35,.42,.49,.56],i={ultDmgBuff:!0},r={ultDmgBuff:{lc:!0,id:"ultDmgBuff",formItem:"switch",text:e("Content.ultDmgBuff.text"),content:e("Content.ultDmgBuff.content",{DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;z(c,$,d.ultDmgBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Fc=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Kc=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),xc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.HiddenShadow");A.lightCone("20018");const a=[.6,.75,.9,1.05,1.2],o={basicAtkBuff:!0},i={basicAtkBuff:{lc:!0,id:"basicAtkBuff",formItem:"switch",text:e("Content.basicAtkBuff.text"),content:e("Content.basicAtkBuff.content",{MultiplierBonus:m.precisionRound(100*a[t])})}};return{content:()=>Object.values(i),defaults:()=>o,precomputeEffects:(r,c,s)=>{c.lightConeConditionals},finalizeCalculations:(r,c,s)=>{const f=c.lightConeConditionals;r.BASIC_ADDITIONAL_DMG.buff((f.basicAtkBuff?a[t]:0)*r.a[l.ATK],A.NONE)},gpuFinalizeCalculations:(r,c)=>{const s=r.lightConeConditionals;return`
if (${nt(s.basicAtkBuff)}) {
  x.BASIC_ADDITIONAL_DMG += ${a[t]} * x.ATK;
}
      `}}},wc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.Loop"),{SOURCE_LC:a}=A.lightCone("20011"),o=[.24,.3,.36,.42,.48],i={enemySlowedDmgBuff:!0},r={enemySlowedDmgBuff:{lc:!0,id:"enemySlowedDmgBuff",formItem:"switch",text:e("Content.enemySlowedDmgBuff.text"),content:e("Content.enemySlowedDmgBuff.content",{DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ELEMENTAL_DMG.buff(d.enemySlowedDmgBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Vc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.Mediation"),{SOURCE_LC:a}=A.lightCone("20019"),o=[12,14,16,18,20],i={initialSpdBuff:!1},r={initialSpdBuff:!1},c={initialSpdBuff:{lc:!0,id:"initialSpdBuff",formItem:"switch",text:e("Content.initialSpdBuff.text"),content:e("Content.initialSpdBuff.content",{SpdBuff:o[t]})}},s={initialSpdBuff:c.initialSpdBuff};return{content:()=>Object.values(c),teammateContent:()=>Object.values(s),defaults:()=>i,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(f,d,p)=>{const _=d.lightConeConditionals;f.SPD.buffTeam(_.initialSpdBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},zc=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),jc=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),$c=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.MutualDemise"),{SOURCE_LC:a}=A.lightCone("20016"),o=[.12,.15,.18,.21,.24],i={selfHp80CrBuff:!0},r={selfHp80CrBuff:{lc:!0,id:"selfHp80CrBuff",formItem:"switch",text:e("Content.selfHp80CrBuff.text"),content:e("Content.selfHp80CrBuff.content",{CritBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.CR.buff(d.selfHp80CrBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Yc=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Wc=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Qc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.Reminiscence"),{SOURCE_LC:a}=A.lightCone("20022"),o=[.08,.09,.1,.11,.12],i={dmgStacks:4},r={dmgStacks:{lc:!0,id:"dmgStacks",formItem:"slider",text:e("Content.dmgStacks.text"),content:e("Content.dmgStacks.content",{DmgBuff:m.precisionRound(o[t]*100)}),min:0,max:4}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ELEMENTAL_DMG.buffDual(d.dmgStacks*o[t],a)},finalizeCalculations:()=>{}}},Zc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.Sagacity"),{SOURCE_LC:a}=A.lightCone("20020"),o=[.24,.3,.36,.42,.48],i={postUltAtkBuff:!0},r={postUltAtkBuff:{lc:!0,id:"postUltAtkBuff",formItem:"switch",text:e("Content.postUltAtkBuff.text"),content:e("Content.postUltAtkBuff.content",{AtkBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ATK_P.buff(d.postUltAtkBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Jc=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Xc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.ShatteredHome"),{SOURCE_LC:a}=A.lightCone("20009"),o=[.2,.25,.3,.35,.4],i={enemyHp50Buff:!0},r={enemyHp50Buff:{lc:!0,id:"enemyHp50Buff",formItem:"switch",text:e("Content.enemyHp50Buff.text"),content:e("Content.enemyHp50Buff.content",{DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ELEMENTAL_DMG.buff(d.enemyHp50Buff?o[t]:0,a)},finalizeCalculations:()=>{}}},qc=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.Void"),{SOURCE_LC:a}=A.lightCone("20004"),o=[.2,.25,0,30,.35,.4],i={initialEhrBuff:!0},r={initialEhrBuff:{lc:!0,id:"initialEhrBuff",formItem:"switch",text:e("Content.initialEhrBuff.text"),content:e("Content.initialEhrBuff.content",{EhrBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.EHR.buff(d.initialEhrBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},tr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.AfterTheCharmonyFall"),{SOURCE_LC:a}=A.lightCone("21045"),o=[.08,.1,.12,.14,.16],i={spdBuff:!0},r={spdBuff:{lc:!0,id:"spdBuff",formItem:"switch",text:e("Content.spdBuff.text"),content:e("Content.spdBuff.content",{SpdBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.SPD_P.buff(d.spdBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},er=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.ASecretVow"),{SOURCE_LC:a}=A.lightCone("21012"),o=[.2,.25,.3,.35,.4],i={enemyHpHigherDmgBoost:!0},r={enemyHpHigherDmgBoost:{lc:!0,id:"enemyHpHigherDmgBoost",formItem:"switch",text:e("Content.enemyHpHigherDmgBoost.text"),content:e("Content.enemyHpHigherDmgBoost.content",{DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ELEMENTAL_DMG.buff(o[t],a),c.ELEMENTAL_DMG.buff(d.enemyHpHigherDmgBoost?o[t]:0,a)},finalizeCalculations:()=>{}}},nr=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),or=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.BoundlessChoreo"),{SOURCE_LC:a}=A.lightCone("21044"),o=[.24,.3,.36,.42,.48],i={enemyDefReducedSlowed:!0},r={enemyDefReducedSlowed:{lc:!0,id:"enemyDefReducedSlowed",formItem:"switch",text:e("Content.enemyDefReducedSlowed.text"),content:e("Content.enemyDefReducedSlowed.content",{CritBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.CD.buff(d.enemyDefReducedSlowed?o[t]:0,a)},finalizeCalculations:()=>{}}},ar=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.CarveTheMoonWeaveTheClouds"),{SOURCE_LC:a}=A.lightCone("21032"),o=[.1,.125,.15,.175,.2],i=[.12,.15,.18,.21,.24],r=[.06,.075,.09,.105,.12],c={atkBuffActive:!0,cdBuffActive:!1,errBuffActive:!1},s={atkBuffActive:!0,cdBuffActive:!1,errBuffActive:!1},f={atkBuffActive:{lc:!0,id:"atkBuffActive",formItem:"switch",text:e("Content.atkBuffActive.text"),content:e("Content.atkBuffActive.content",{AtkBuff:m.precisionRound(100*o[t]),CritBuff:m.precisionRound(100*i[t]),RegenBuff:m.precisionRound(100*r[t])})},cdBuffActive:{lc:!0,id:"cdBuffActive",formItem:"switch",text:e("Content.cdBuffActive.text"),content:e("Content.cdBuffActive.content",{AtkBuff:m.precisionRound(100*o[t]),CritBuff:m.precisionRound(100*i[t]),RegenBuff:m.precisionRound(100*r[t])})},errBuffActive:{lc:!0,id:"errBuffActive",formItem:"switch",text:e("Content.errBuffActive.text"),content:e("Content.errBuffActive.content",{AtkBuff:m.precisionRound(100*o[t]),CritBuff:m.precisionRound(100*i[t]),RegenBuff:m.precisionRound(100*r[t])})}},d={atkBuffActive:f.atkBuffActive,cdBuffActive:f.cdBuffActive,errBuffActive:f.errBuffActive};return{content:()=>Object.values(f),teammateContent:()=>Object.values(d),defaults:()=>c,teammateDefaults:()=>s,precomputeEffects:()=>{},precomputeMutualEffects:(p,_,L)=>{const I=_.lightConeConditionals;p.ATK_P.buffTeam(I.atkBuffActive?o[t]:0,a),p.CD.buffTeam(I.cdBuffActive?i[t]:0,a),p.ERR.buffTeam(I.errBuffActive?r[t]:0,a)},finalizeCalculations:()=>{}}},ir=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.ConcertForTwo"),{SOURCE_LC:a}=A.lightCone("21043"),o=[.04,.05,.06,.07,.08],i={teammateShieldStacks:4},r={teammateShieldStacks:{lc:!0,id:"teammateShieldStacks",formItem:"slider",text:e("Content.teammateShieldStacks.text"),content:e("Content.teammateShieldStacks.content",{DmgBuff:m.precisionRound(100*o[t])}),min:0,max:4}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ELEMENTAL_DMG.buff(d.teammateShieldStacks*o[t],a)},finalizeCalculations:()=>{}}},sr=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),cr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.DayOneOfMyNewLife"),{SOURCE_LC:a}=A.lightCone("21002"),o=[.08,.09,.1,.11,.12],i={dmgResBuff:!0},r={dmgResBuff:!0},c={dmgResBuff:{lc:!0,id:"dmgResBuff",formItem:"switch",text:e("Content.dmgResBuff.text"),content:e("Content.dmgResBuff.content",{ResBuff:m.precisionRound(100*o[t])})}},s={dmgResBuff:c.dmgResBuff};return{content:()=>Object.values(c),teammateContent:()=>Object.values(s),defaults:()=>i,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(f,d,p)=>{const _=d.lightConeConditionals;f.DMG_RED_MULTI.multiplyTeam(_.dmgResBuff?1-o[t]:1,a)},finalizeCalculations:()=>{}}},rr=(t,n)=>{const{SOURCE_LC:e}=A.lightCone("21039"),a=[.008,.009,.01,.011,.012],o=[.32,.36,.4,.44,.48];return{content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:(i,r,c)=>{i.ELEMENTAL_DMG.buff(Math.min(o[t],Math.floor(i.a[l.DEF]/100)*a[t]),e)},gpuFinalizeCalculations:()=>`
x.ELEMENTAL_DMG += min(${o[t]}, floor(x.DEF / 100) * ${a[t]});
      `}},lr=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),fr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.DreamvilleAdventure"),{SOURCE_LC:a}=A.lightCone("21036"),o=[.12,.14,.16,.18,.2],i={ultDmgBuff:!1,skillDmgBuff:!1,basicDmgBuff:!1},r={ultDmgBuff:!1,skillDmgBuff:!1,basicDmgBuff:!1},c={ultDmgBuff:{lc:!0,id:"ultDmgBuff",formItem:"switch",text:e("Content.ultDmgBuff.text"),content:e("Content.ultDmgBuff.content",{DmgBuff:m.precisionRound(100*o[t])})},skillDmgBuff:{lc:!0,id:"skillDmgBuff",formItem:"switch",text:e("Content.skillDmgBuff.text"),content:e("Content.skillDmgBuff.content",{DmgBuff:m.precisionRound(100*o[t])})},basicDmgBuff:{lc:!0,id:"basicDmgBuff",formItem:"switch",text:e("Content.basicDmgBuff.text"),content:e("Content.basicDmgBuff.content",{DmgBuff:m.precisionRound(100*o[t])})}},s={ultDmgBuff:c.ultDmgBuff,skillDmgBuff:c.skillDmgBuff,basicDmgBuff:c.basicDmgBuff};return{content:()=>Object.values(c),teammateContent:()=>Object.values(s),defaults:()=>i,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(f,d,p)=>{const _=d.lightConeConditionals;z(f,st,_.basicDmgBuff?o[t]:0,a,ct.TEAM),z(f,Y,_.skillDmgBuff?o[t]:0,a,ct.TEAM),z(f,$,_.ultDmgBuff?o[t]:0,a,ct.TEAM)},finalizeCalculations:()=>{}}},ur=(t,n)=>{const{SOURCE_LC:e}=A.lightCone("21008"),a=[.24,.3,.36,.42,.48];return{content:()=>[],defaults:()=>({}),precomputeEffects:o=>{z(o,It,a[t],e)},finalizeCalculations:()=>{}}},dr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.Fermata"),{SOURCE_LC:a}=A.lightCone("21022"),o=[.16,.2,.24,.28,.32],i={enemyShockWindShear:!0},r={enemyShockWindShear:{lc:!0,id:"enemyShockWindShear",formItem:"switch",text:e("Content.enemyShockWindShear.text"),content:e("Content.enemyShockWindShear.content",{DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ELEMENTAL_DMG.buff(d.enemyShockWindShear?o[t]:0,a)},finalizeCalculations:()=>{}}},mr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.FinalVictor"),{SOURCE_LC:a}=A.lightCone("21037"),o=[.08,.09,.1,.11,.12],i={goodFortuneStacks:4},r={goodFortuneStacks:{lc:!0,id:"goodFortuneStacks",formItem:"slider",text:e("Content.goodFortuneStacks.text"),content:e("Content.goodFortuneStacks.content",{CritBuff:m.precisionRound(100*o[t])}),min:0,max:4}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.CD.buff(d.goodFortuneStacks*o[t],a)},finalizeCalculations:()=>{}}},Sr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.FlamesAfar"),{SOURCE_LC:a}=A.lightCone("21038"),o=[.25,.3125,.375,.4375,.5],i={dmgBuff:!0},r={dmgBuff:{lc:!0,id:"dmgBuff",formItem:"switch",text:e("Content.dmgBuff.text"),content:e("Content.dmgBuff.content",{DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ELEMENTAL_DMG.buff(d.dmgBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Cr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.ForTomorrowsJourney"),{SOURCE_LC:a}=A.lightCone("22002"),o=[.18,.21,.24,.27,.3],i={ultDmgBuff:!0},r={ultDmgBuff:{lc:!0,id:"ultDmgBuff",formItem:"switch",text:e("Content.ultDmgBuff.text"),content:e("Content.ultDmgBuff.content",{DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ELEMENTAL_DMG.buff(d.ultDmgBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Er=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.GeniusesGreetings"),{SOURCE_LC:a}=A.lightCone("21051"),o=[.2,.25,.3,.35,.4],i={basicDmgBoost:!0},r={basicDmgBoost:{lc:!0,id:"basicDmgBoost",formItem:"switch",text:e("Content.basicDmgBoost.text"),content:e("Content.basicDmgBoost.content",{DmgBuff:m.precisionRound(o[t]*100)})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.BASIC_DMG_BOOST.buffDual(d.basicDmgBoost?o[t]:0,a)},finalizeCalculations:()=>{}}},_r=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.GeniusesRepose"),{SOURCE_LC:a}=A.lightCone("21020"),o=[.24,.3,.36,.42,.48],i={defeatedEnemyCdBuff:!0},r={defeatedEnemyCdBuff:{lc:!0,id:"defeatedEnemyCdBuff",formItem:"switch",text:e("Content.defeatedEnemyCdBuff.text"),content:e("Content.defeatedEnemyCdBuff.content",{DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.CD.buff(d.defeatedEnemyCdBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},pr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.GoodNightAndSleepWell"),{SOURCE_LC:a}=A.lightCone("21001"),o=[.12,.15,.18,.21,.24],i={debuffStacksDmgIncrease:3},r={debuffStacksDmgIncrease:{lc:!0,id:"debuffStacksDmgIncrease",formItem:"slider",text:e("Content.debuffStacksDmgIncrease.text"),content:e("Content.debuffStacksDmgIncrease.content",{DmgBuff:m.precisionRound(100*o[t])}),min:0,max:3}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ELEMENTAL_DMG.buff(d.debuffStacksDmgIncrease*o[t],a)},finalizeCalculations:()=>{}}},gr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.HeyOverHere"),{SOURCE_LC:a}=A.lightCone("22001"),o=[.16,.19,.22,.25,.28],i={postSkillHealBuff:!0},r={postSkillHealBuff:{lc:!0,id:"postSkillHealBuff",formItem:"switch",text:e("Content.postSkillHealBuff.text"),content:e("Content.postSkillHealBuff.content",{HealingBoost:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.OHB.buff(d.postSkillHealBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Tr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.IndeliblePromise"),{SOURCE_LC:a}=A.lightCone("21042"),o=[.15,.1875,.225,.2625,.3],i={crBuff:!0},r={crBuff:{lc:!0,id:"crBuff",formItem:"switch",text:e("Content.crBuff.text"),content:e("Content.crBuff.content",{CritBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.CR.buff(d.crBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Br=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.ItsShowtime"),{SOURCE_LC:a}=A.lightCone("21041"),o=[.06,.07,.08,.09,.1],i=[.2,.24,.28,.32,.36],r={trickStacks:3},c={trickStacks:{lc:!0,id:"trickStacks",formItem:"slider",text:e("Content.trickStacks.text"),content:e("Content.trickStacks.content",{DmgBuff:m.precisionRound(100*o[t]),AtkBuff:m.precisionRound(100*i[t])}),min:0,max:3}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;s.ELEMENTAL_DMG.buff(p.trickStacks*o[t],a)},finalizeCalculations:()=>{},dynamicConditionals:[{id:"ItsShowtimeConversionConditional",type:tt.ABILITY,activation:q.SINGLE,dependsOn:[g.EHR],chainsTo:[g.ATK],condition:function(s,f,d){return s.a[l.EHR]>=.8},effect:function(s,f,d){s.ATK.buffDynamic(i[t]*d.baseATK,a,f,d)},gpu:function(s,f){return ut(this,`
if (
  (*p_state).ItsShowtimeConversionConditional == 0.0 &&
  x.EHR >= 0.80
) {
  (*p_state).ItsShowtimeConversionConditional = 1.0;
  (*p_x).ATK += ${i[t]} * baseATK;
}
    `)}}]}},Ar=(t,n)=>{const{SOURCE_LC:e}=A.lightCone("21009"),a=[.16,.18,.2,.22,.24];return{content:()=>[],defaults:()=>({}),precomputeEffects:o=>{o.DMG_RED_MULTI.multiply(1-a[t],e)},finalizeCalculations:()=>{}}},hr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.MakeTheWorldClamor"),{SOURCE_LC:a}=A.lightCone("21013"),o=[.32,.4,.48,.56,.64],i=[20,23,26,29,32],r={ultDmgBuff:!0},c={ultDmgBuff:{lc:!0,id:"ultDmgBuff",formItem:"switch",text:e("Content.ultDmgBuff.text"),content:e("Content.ultDmgBuff.content",{Energy:i[t],DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;z(s,$,p.ultDmgBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Dr=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),br=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.NinjaRecordSoundHunt"),{SOURCE_LC:a}=A.lightCone("22003"),o=[.18,.225,.27,.315,.36],i={cdBuff:!0},r={cdBuff:{lc:!0,id:"cdBuff",formItem:"switch",text:e("Content.cdBuff.text"),content:e("Content.cdBuff.content",{sValuesCd:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.CD.buff(d.cdBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Lr=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Or=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.OnlySilenceRemains"),{SOURCE_LC:a}=A.lightCone("21003"),o=[.12,.15,.18,.21,.24],i={enemies2CrBuff:!0},r={enemies2CrBuff:{lc:!0,id:"enemies2CrBuff",formItem:"switch",text:e("Content.enemies2CrBuff.text"),content:e("Content.enemies2CrBuff.content",{CritBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.CR.buff(d.enemies2CrBuff&&f.enemyCount<=2?o[t]:0,a)},finalizeCalculations:()=>{}}},Ir=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.PastAndFuture"),{SOURCE_LC:a}=A.lightCone("21025"),o=[.16,.2,.24,.28,.32],i={postSkillDmgBuff:!0},r={postSkillDmgBuff:{lc:!0,id:"postSkillDmgBuff",formItem:"switch",text:e("Content.postSkillDmgBuff.text"),content:e("Content.postSkillDmgBuff.content",{DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>[],teammateContent:()=>Object.values(r),defaults:()=>({}),teammateDefaults:()=>i,precomputeEffects:()=>{},precomputeTeammateEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ELEMENTAL_DMG.buffSingle(d.postSkillDmgBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Rr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.PerfectTiming"),{SOURCE_LC:a}=A.lightCone("21014"),o=[.33,.36,.39,.42,.45],i=[.15,.18,.21,.24,.27],r={resToHealingBoost:!0},c={resToHealingBoost:{lc:!0,id:"resToHealingBoost",formItem:"switch",text:e("Content.resToHealingBoost.text"),content:e("Content.resToHealingBoost.content",{Scaling:m.precisionRound(100*o[t]),Limit:m.precisionRound(100*i[t])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:()=>{},finalizeCalculations:(s,f)=>{},dynamicConditionals:[{id:"PerfectTimingConditional",type:tt.ABILITY,activation:q.CONTINUOUS,dependsOn:[g.RES],chainsTo:[g.OHB],condition:function(s,f,d){return f.lightConeConditionals.resToHealingBoost},effect:function(s,f,d){Ct(g.RES,g.OHB,this,s,f,d,a,p=>Math.min(i[t],o[t]*p))},gpu:function(s,f){const d=s.lightConeConditionals;return Et(g.RES,g.OHB,this,s,f,`min(${i[t]}, ${o[t]} * convertibleValue)`,`${nt(d.resToHealingBoost)}`)}}]}},Ur=(t,n,e)=>{const a=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.PlanetaryRendezvous"),{SOURCE_LC:o}=A.lightCone("21011"),i=[.12,.15,.18,.21,.24],r={alliesSameElement:!0},c={alliesSameElement:!0},s={alliesSameElement:{lc:!0,id:"alliesSameElement",formItem:"switch",text:a("Content.alliesSameElement.text"),content:a("Content.alliesSameElement.content",{DmgBuff:m.precisionRound(100*i[t])})}},f={alliesSameElement:s.alliesSameElement};return{content:()=>Object.values(s),teammateContent:()=>Object.values(f),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:(d,p,_)=>{},precomputeMutualEffects:(d,p,_)=>{const L=p.lightConeConditionals;e.element==_.element&&d.ELEMENTAL_DMG.buffTeam(L.alliesSameElement?i[t]:0,o)},finalizeCalculations:()=>{}}},Mr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.PoisedToBloom"),{SOURCE_LC:a}=A.lightCone("21046"),o=[.16,.2,.24,.28,.32],i={cdBuff:!0},r={cdBuff:!0},c={cdBuff:{lc:!0,id:"cdBuff",formItem:"switch",text:e("Content.cdBuff.text"),content:e("Content.cdBuff.content",{CritBuff:m.precisionRound(100*o[t])})}},s={cdBuff:c.cdBuff};return{content:()=>Object.values(c),teammateContent:()=>Object.values(s),defaults:()=>i,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(f,d,p)=>{const _=d.lightConeConditionals;f.CD.buff(_.cdBuff&&te(p,p.path)>=2?o[t]:0,a)},finalizeCalculations:()=>{}}},kr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.PostOpConversation"),{SOURCE_LC:a}=A.lightCone("21000"),o=[.12,.15,.18,.21,.24],i={postUltHealingBoost:!0},r={postUltHealingBoost:{lc:!0,id:"postUltHealingBoost",formItem:"switch",text:e("Content.postUltHealingBoost.text"),content:e("Content.postUltHealingBoost.content",{HealingBoost:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ULT_OHB.buff(d.postUltHealingBoost?o[t]:0,a)},finalizeCalculations:()=>{}}},yr=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Nr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.ResolutionShinesAsPearlsOfSweat"),{SOURCE_LC:a}=A.lightCone("21015"),o=[.12,.13,.14,.15,.16],i={targetEnsnared:!0},r={targetEnsnared:!0},c={targetEnsnared:{lc:!0,id:"targetEnsnared",formItem:"switch",text:e("Content.targetEnsnared.text"),content:e("Content.targetEnsnared.content",{BaseChance:m.precisionRound(60+10*t),DefShred:m.precisionRound(100*o[t])})}},s={targetEnsnared:c.targetEnsnared};return{content:()=>Object.values(c),teammateContent:()=>Object.values(s),defaults:()=>i,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(f,d,p)=>{const _=d.lightConeConditionals;f.DEF_PEN.buffTeam(_.targetEnsnared?o[t]:0,a)},finalizeCalculations:()=>{}}},Gr=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Pr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.RiverFlowsInSpring"),{SOURCE_LC:a}=A.lightCone("21024"),o=[.08,.09,.1,.11,.12],i=[.12,.15,.18,.21,.24],r={spdDmgBuff:!0},c={spdDmgBuff:{lc:!0,id:"spdDmgBuff",formItem:"switch",text:e("Content.spdDmgBuff.text"),content:e("Content.spdDmgBuff.content",{SpdBuff:m.precisionRound(100*o[t]),DmgBuff:m.precisionRound(100*i[t])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;s.SPD_P.buff(p.spdDmgBuff?o[t]:0,a),s.ELEMENTAL_DMG.buff(p.spdDmgBuff?i[t]:0,a)},finalizeCalculations:()=>{}}},vr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.ShadowedByNight"),{SOURCE_LC:a}=A.lightCone("21047"),o=[.08,.09,.1,.11,.12],i={spdBuff:!0},r={spdBuff:{lc:!0,id:"spdBuff",formItem:"switch",text:e("Content.spdBuff.text"),content:e("Content.spdBuff.content",{SpdBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.SPD_P.buff(d.spdBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Hr=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Fr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.SubscribeForMore"),{SOURCE_LC:a}=A.lightCone("21017"),o=[.24,.3,.36,.42,.48],i={maxEnergyDmgBoost:!0},r={maxEnergyDmgBoost:{lc:!0,id:"maxEnergyDmgBoost",formItem:"switch",text:e("Content.maxEnergyDmgBoost.text"),content:e("Content.maxEnergyDmgBoost.content",{DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;z(c,st|Y,o[t],a),z(c,st|Y,d.maxEnergyDmgBoost?o[t]:0,a)},finalizeCalculations:()=>{}}},Kr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.SweatNowCryLess"),{SOURCE_LC:a}=A.lightCone("21052"),o=[.24,.27,.3,.33,.36],i={dmgBoost:!0},r={dmgBoost:{lc:!0,id:"dmgBoost",formItem:"switch",text:e("Content.dmgBoost.text"),content:e("Content.dmgBoost.content",{DmgBuff:m.precisionRound(o[t]*100)})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ELEMENTAL_DMG.buffDual(d.dmgBoost?o[t]:0,a)},finalizeCalculations:()=>{}}},xr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.Swordplay"),{SOURCE_LC:a}=A.lightCone("21010"),o=[.08,.1,.12,.14,.16],i={sameTargetHitStacks:5},r={sameTargetHitStacks:{lc:!0,id:"sameTargetHitStacks",formItem:"slider",text:e("Content.sameTargetHitStacks.text"),content:e("Content.sameTargetHitStacks.content",{DmgBuff:m.precisionRound(100*o[t])}),min:0,max:5}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ELEMENTAL_DMG.buff(d.sameTargetHitStacks*o[t],a)},finalizeCalculations:()=>{}}},wr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.TheBirthOfTheSelf"),{SOURCE_LC:a}=A.lightCone("21006"),o=[.24,.3,.36,.42,.48],i={enemyHp50FuaBuff:!0},r={enemyHp50FuaBuff:{lc:!0,id:"enemyHp50FuaBuff",formItem:"switch",text:e("Content.enemyHp50FuaBuff.text"),content:e("Content.enemyHp50FuaBuff.content",{DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;z(c,Z,o[t],a),z(c,Z,d.enemyHp50FuaBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Vr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.TheDayTheCosmosFell"),{SOURCE_LC:a}=A.lightCone("21040"),o=[.2,.25,.3,.35,.4],i={cdBuffActive:!0},r={cdBuffActive:{lc:!0,id:"cdBuffActive",formItem:"switch",text:e("Content.cdBuffActive.text"),content:e("Content.cdBuffActive.content",{CritBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.CD.buff(d.cdBuffActive?o[t]:0,a)},finalizeCalculations:()=>{}}},zr=(t,n)=>{const{SOURCE_LC:e}=A.lightCone("22004"),a=[.04,.05,.06,.07,.08],o={weaknessTypes:7},i={weaknessTypes:{lc:!0,id:"weaknessTypes",formItem:"slider",text:"Weakness types",content:J.t("BetaMessage",{ns:"conditionals",Version:it}),min:0,max:7}};return{content:()=>Object.values(i),defaults:()=>o,precomputeEffects:(r,c,s)=>{const f=c.lightConeConditionals;r.ELEMENTAL_DMG.buff(f.weaknessTypes*a[t],e)},finalizeCalculations:()=>{}}},jr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.TheMolesWelcomeYou"),{SOURCE_LC:a}=A.lightCone("21005"),o=[.12,.15,.18,.21,.24],i={atkBuffStacks:3},r={atkBuffStacks:{lc:!0,id:"atkBuffStacks",formItem:"slider",text:e("Content.atkBuffStacks.text"),content:e("Content.atkBuffStacks.content",{AtkBuff:m.precisionRound(100*o[t])}),min:0,max:3}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ATK_P.buff(d.atkBuffStacks*o[t],a)},finalizeCalculations:()=>{}}},$r=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.TheSeriousnessOfBreakfast"),{SOURCE_LC:a}=A.lightCone("21027"),o=[.12,.15,.18,.21,.24],i=[.04,.05,.06,.07,.08],r={dmgBoost:!0,defeatedEnemyAtkStacks:3},c={dmgBoost:{lc:!0,id:"dmgBoost",formItem:"switch",text:e("Content.dmgBoost.text"),content:e("Content.dmgBoost.content",{DmgBuff:m.precisionRound(100*o[t])})},defeatedEnemyAtkStacks:{lc:!0,id:"defeatedEnemyAtkStacks",formItem:"slider",text:e("Content.defeatedEnemyAtkStacks.text"),content:e("Content.defeatedEnemyAtkStacks.content",{AtkBuff:m.precisionRound(100*i[t])}),min:0,max:3}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;s.ATK_P.buff(p.defeatedEnemyAtkStacks*i[t],a),s.ELEMENTAL_DMG.buff(p.dmgBoost?o[t]:0,a)},finalizeCalculations:()=>{}}},Yr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.ThisIsMe");A.lightCone("21030");const a=[.6,.75,.9,1.05,1.2],o={defScalingUltDmg:!1},i={defScalingUltDmg:{lc:!0,id:"defScalingUltDmg",formItem:"switch",text:e("Content.defScalingUltDmg.text"),content:e("Content.defScalingUltDmg.content",{Multiplier:m.precisionRound(100*a[t])})}};return{content:()=>Object.values(i),defaults:()=>o,precomputeEffects:()=>{},finalizeCalculations:()=>{}}},Wr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.TodayIsAnotherPeacefulDay"),{SOURCE_LC:a}=A.lightCone("21034"),o=[.002,.0025,.003,.0035,.004],i={maxEnergyDmgBoost:!0},r={maxEnergyDmgBoost:{lc:!0,id:"maxEnergyDmgBoost",formItem:"switch",text:e("Content.maxEnergyDmgBoost.text"),content:e("Content.maxEnergyDmgBoost.content",{DmgStep:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{s.lightConeConditionals.maxEnergyDmgBoost&&c.ELEMENTAL_DMG.buff(Math.min(160,f.baseEnergy)*o[t],a)},finalizeCalculations:()=>{}}},Qr=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Zr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.UnderTheBlueSky"),{SOURCE_LC:a}=A.lightCone("21019"),o=[.12,.15,.18,.21,.24],i={defeatedEnemyCrBuff:!0},r={defeatedEnemyCrBuff:{lc:!0,id:"defeatedEnemyCrBuff",formItem:"switch",text:e("Content.defeatedEnemyCrBuff.text"),content:e("Content.defeatedEnemyCrBuff.content",{CritBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.CR.buff(d.defeatedEnemyCrBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Jr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.VictoryInABlink"),{SOURCE_LC:a}=A.lightCone("21050"),o=[.08,.1,.12,.14,.16],i={teamDmgBuff:!0},r={teamDmgBuff:!0},c={teamDmgBuff:{lc:!0,id:"teamDmgBuff",formItem:"switch",text:e("Content.teamDmgBuff.text"),content:e("Content.teamDmgBuff.content",{DmgBuff:m.precisionRound(o[t]*100)})}},s={teamDmgBuff:c.teamDmgBuff};return{content:()=>Object.values(c),teammateContent:()=>Object.values(s),defaults:()=>i,teammateDefaults:()=>r,precomputeEffects:(f,d,p)=>{},precomputeMutualEffects:(f,d,p)=>{const _=d.lightConeConditionals;f.ELEMENTAL_DMG.buffTeam(_.teamDmgBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Xr=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),qr=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.WeAreWildfire"),{SOURCE_LC:a}=A.lightCone("21023"),o=[.08,.1,.12,.14,.16],i=[.3,.35,.4,.45,.5],r={initialDmgReductionBuff:!1},c={initialDmgReductionBuff:!1},s={initialDmgReductionBuff:{lc:!0,id:"initialDmgReductionBuff",formItem:"switch",text:e("Content.initialDmgReductionBuff.text"),content:e("Content.initialDmgReductionBuff.content",{Healing:m.precisionRound(100*i[t]),DmgReduction:o[t]})}},f={initialDmgReductionBuff:s.initialDmgReductionBuff};return{content:()=>Object.values(s),teammateContent:()=>Object.values(f),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:()=>{},precomputeMutualEffects:(d,p,_)=>{const L=p.lightConeConditionals;d.DMG_RED_MULTI.multiplyTeam(L.initialDmgReductionBuff?1-o[t]:1,a)},finalizeCalculations:()=>{}}},tl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.WeWillMeetAgain");A.lightCone("21029");const a=[.48,.6,.72,.84,.96],o={extraDmgProc:!0},i={extraDmgProc:{lc:!0,id:"extraDmgProc",formItem:"switch",text:e("Content.extraDmgProc.text"),content:e("Content.extraDmgProc.content",{Multiplier:m.precisionRound(100*a[t])})}};return{content:()=>Object.values(i),defaults:()=>o,precomputeEffects:(r,c,s)=>{c.lightConeConditionals},finalizeCalculations:(r,c,s)=>{const f=c.lightConeConditionals;r.BASIC_ADDITIONAL_DMG.buff((f.extraDmgProc?a[t]:0)*r.a[l.ATK],A.NONE),r.SKILL_ADDITIONAL_DMG.buff((f.extraDmgProc?a[t]:0)*r.a[l.ATK],A.NONE)},gpuFinalizeCalculations:(r,c)=>{const s=r.lightConeConditionals;return`
if (${nt(s.extraDmgProc)}) {
  x.BASIC_ADDITIONAL_DMG += ${a[t]} * x.ATK;
  x.SKILL_ADDITIONAL_DMG += ${a[t]} * x.ATK;
}
      `}}},el=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),nl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.WoofWalkTime"),{SOURCE_LC:a}=A.lightCone("21026"),o=[.16,.2,.24,.28,.32],i={enemyBurnedBleeding:!0},r={enemyBurnedBleeding:{lc:!0,id:"enemyBurnedBleeding",formItem:"switch",text:e("Content.enemyBurnedBleeding.text"),content:e("Content.enemyBurnedBleeding.content",{DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ELEMENTAL_DMG.buff(d.enemyBurnedBleeding?o[t]:0,a)},finalizeCalculations:()=>{}}},ol=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.AGroundedAscent"),{SOURCE_LC:a}=A.lightCone("23034"),o=[.15,.1725,.195,.2175,.24],i={dmgBuffStacks:3},r={dmgBuffStacks:3},c={dmgBuffStacks:{lc:!0,id:"dmgBuffStacks",formItem:"slider",text:e("Content.dmgBuffStacks.text"),content:e("Content.dmgBuffStacks.content",{DmgBuff:m.precisionRound(100*o[t])}),min:0,max:3}},s={dmgBuffStacks:c.dmgBuffStacks};return{content:()=>Object.values(c),teammateContent:()=>Object.values(s),defaults:()=>i,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(f,d,p)=>{const _=d.lightConeConditionals;d.actorId=="1313"?f.ELEMENTAL_DMG.buffDual(_.dmgBuffStacks*o[t],a):f.ELEMENTAL_DMG.buffSingle(_.dmgBuffStacks*o[t],a)},finalizeCalculations:()=>{}}},al=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.AlongThePassingShore"),{SOURCE_LC:a}=A.lightCone("23024"),o=[.24,.28,.32,.36,.4],i=[.24,.28,.32,.36,.4],r={emptyBubblesDebuff:!0},c={emptyBubblesDebuff:{lc:!0,id:"emptyBubblesDebuff",formItem:"switch",text:e("Content.emptyBubblesDebuff.text"),content:e("Content.emptyBubblesDebuff.content",{UltDmgBoost:m.precisionRound(100*i[t]),DmgBoost:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;s.ELEMENTAL_DMG.buff(p.emptyBubblesDebuff?o[t]:0,a),z(s,$,p.emptyBubblesDebuff?i[t]:0,a)},finalizeCalculations:()=>{}}},il=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.AnInstantBeforeAGaze"),{SOURCE_LC:a}=A.lightCone("23018"),o=[.0036,.0042,.0048,.0054,.006],i={maxEnergyUltDmgStacks:180},r={maxEnergyUltDmgStacks:{lc:!0,id:"maxEnergyUltDmgStacks",formItem:"slider",text:e("Content.maxEnergyUltDmgStacks.text"),content:e("Content.maxEnergyUltDmgStacks.content",{DmgStep:m.precisionRound(100*o[t])}),min:0,max:180}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;z(c,$,d.maxEnergyUltDmgStacks*o[t],a)},finalizeCalculations:()=>{}}},sl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.BaptismOfPureThought"),{SOURCE_LC:a}=A.lightCone("23020"),o=[.08,.09,.1,.11,.12],i=[.36,.42,.48,.54,.6],r=[.24,.28,.32,.36,.4],c={debuffCdStacks:3,postUltBuff:!0},s={debuffCdStacks:{lc:!0,id:"debuffCdStacks",formItem:"slider",text:e("Content.debuffCdStacks.text"),content:e("Content.debuffCdStacks.content",{DmgStep:m.precisionRound(100*o[t])}),min:0,max:3},postUltBuff:{lc:!0,id:"postUltBuff",formItem:"switch",text:e("Content.postUltBuff.text"),content:e("Content.postUltBuff.content",{DmgStep:m.precisionRound(100*i[t]),DefIgnore:m.precisionRound(100*r[t])})}};return{content:()=>Object.values(s),defaults:()=>c,precomputeEffects:(f,d,p)=>{const _=d.lightConeConditionals;f.CD.buff(_.debuffCdStacks*o[t],a),f.ELEMENTAL_DMG.buff(_.postUltBuff?i[t]:0,a),Rt(f,Z,_.postUltBuff?r[t]:0,a)},finalizeCalculations:()=>{}}},cl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.BeforeDawn"),{SOURCE_LC:a}=A.lightCone("23010"),o=[.18,.21,.24,.27,.3],i=[.48,.56,.64,.72,.8],r={fuaDmgBoost:!0},c={fuaDmgBoost:{lc:!0,id:"fuaDmgBoost",formItem:"switch",text:e("Content.fuaDmgBoost.text"),content:e("Content.fuaDmgBoost.content",{DmgBuff:m.precisionRound(100*i[t])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;z(s,Y|$,o[t],a),z(s,Z,p.fuaDmgBoost?i[t]:0,a)},finalizeCalculations:()=>{}}},rl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.BrighterThanTheSun"),{SOURCE_LC:a}=A.lightCone("23015"),o=[.18,.21,.24,.27,.3],i=[.06,.07,.08,.09,.1],r={dragonsCallStacks:2},c={dragonsCallStacks:{lc:!0,id:"dragonsCallStacks",formItem:"slider",text:e("Content.dragonsCallStacks.text"),content:e("Content.dragonsCallStacks.content",{AtkBuff:m.precisionRound(100*o[t]),RegenBuff:m.precisionRound(100*i[t])}),min:0,max:2}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;s.ATK_P.buff(p.dragonsCallStacks*o[t],a),s.ERR.buff(p.dragonsCallStacks*i[t],a)},finalizeCalculations:()=>{}}},ll=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.ButTheBattleIsntOver"),{SOURCE_LC:a}=A.lightCone("23003"),o=[.3,.35,.4,.45,.5],i={postSkillDmgBuff:!0},r={postSkillDmgBuff:{lc:!0,formItem:"switch",id:"postSkillDmgBuff",text:e("Content.postSkillDmgBuff.text"),content:e("Content.postSkillDmgBuff.content",{DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>[],teammateContent:()=>Object.values(r),defaults:()=>({}),teammateDefaults:()=>i,precomputeEffects:()=>{},precomputeTeammateEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ELEMENTAL_DMG.buffSingle(d.postSkillDmgBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},fl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.CruisingInTheStellarSea"),{SOURCE_LC:a}=A.lightCone("24001"),o=[.08,.1,.12,.14,.16],i=[.2,.25,.3,.35,.4],r={enemyHp50CrBoost:!1,enemyDefeatedAtkBuff:!0},c={enemyHp50CrBoost:{lc:!0,id:"enemyHp50CrBoost",formItem:"switch",text:e("Content.enemyHp50CrBoost.text"),content:e("Content.enemyHp50CrBoost.content",{CritBuff:m.precisionRound(100*o[t])})},enemyDefeatedAtkBuff:{lc:!0,id:"enemyDefeatedAtkBuff",formItem:"switch",text:e("Content.enemyDefeatedAtkBuff.text"),content:e("Content.enemyDefeatedAtkBuff.content",{AtkBuff:m.precisionRound(100*i[t])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;s.CR.buff(p.enemyHp50CrBoost?o[t]:0,a),s.ATK_P.buff(p.enemyDefeatedAtkBuff?i[t]:0,a)},finalizeCalculations:()=>{}}},ul=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.DanceAtSunset"),{SOURCE_LC:a}=A.lightCone("23030"),o=[.36,.42,.48,.54,.6],i={fuaDmgStacks:2},r={fuaDmgStacks:{lc:!0,formItem:"slider",id:"fuaDmgStacks",text:e("Content.fuaDmgStacks.text"),content:e("Content.fuaDmgStacks.content",{DmgBoost:m.precisionRound(100*o[t])}),min:0,max:2}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;z(c,Z,d.fuaDmgStacks*o[t],a)},finalizeCalculations:()=>{}}},dl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.EarthlyEscapade"),{SOURCE_LC:a}=A.lightCone("23021"),o=[.1,.11,.12,.13,.14],i=[.28,.35,.42,.49,.56],r={maskActive:!1},c={maskActive:!0},s={maskActive:{lc:!0,id:"maskActive",formItem:"switch",text:e("Content.maskActive.text"),content:e("Content.maskActive.content",{CritRateBuff:m.precisionRound(100*o[t]),CritDmgBuff:m.precisionRound(100*i[t])})}},f={maskActive:s.maskActive};return{content:()=>Object.values(s),teammateContent:()=>Object.values(f),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:()=>{},precomputeTeammateEffects:(d,p,_)=>{const L=p.lightConeConditionals;d.CR.buffTeam(L.maskActive?o[t]:0,a),d.CD.buffTeam(L.maskActive?i[t]:0,a)},finalizeCalculations:()=>{}}},ml=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.EchoesOfTheCoffin"),{SOURCE_LC:a}=A.lightCone("23008"),o=[12,14,16,18,20],i=[3,3.5,4,4.5,5],r={postUltSpdBuff:!1},c={postUltSpdBuff:!1},s={postUltSpdBuff:{lc:!0,id:"postUltSpdBuff",formItem:"switch",text:e("Content.postUltSpdBuff.text"),content:e("Content.postUltSpdBuff.content",{EnergyRecovered:m.precisionRound(i[t]),SpdBuff:m.precisionRound(o[t])})}},f={postUltSpdBuff:s.postUltSpdBuff};return{content:()=>Object.values(s),teammateContent:()=>Object.values(f),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:()=>{},precomputeMutualEffects:(d,p,_)=>{const L=p.lightConeConditionals;d.SPD.buffTeam(L.postUltSpdBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Sl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.EternalCalculus"),{SOURCE_LC:a}=A.lightCone("24004"),o=[.04,.05,.06,.07,.08],i=[.08,.1,.12,.14,.16],r={atkBuffStacks:5,spdBuff:!1},c={atkBuffStacks:{lc:!0,id:"atkBuffStacks",formItem:"slider",text:e("Content.atkBuffStacks.text"),content:e("Content.atkBuffStacks.content",{AtkBuff:m.precisionRound(100*o[t])}),min:0,max:5},spdBuff:{lc:!0,id:"spdBuff",formItem:"switch",text:e("Content.spdBuff.text"),content:e("Content.spdBuff.content",{SpdBuff:m.precisionRound(100*i[t])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;s.ATK_P.buff(p.atkBuffStacks*o[t],a),s.SPD_P.buff(p.spdBuff?i[t]:0,a)},finalizeCalculations:()=>{}}},Cl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.FlameOfBloodBlazeMyPath.Content"),{SOURCE_LC:a}=A.lightCone("23039"),o=[.3,.35,.4,.45,.5],i={skillUltDmgBoost:!0,bonusBoost:!0},r={skillUltDmgBoost:{lc:!0,id:"skillUltDmgBoost",formItem:"switch",text:e("skillUltDmgBoost.text"),content:e("skillUltDmgBoost.content",{DmgBoost:m.precisionRound(o[t]*100)})},bonusBoost:{lc:!0,id:"bonusBoost",formItem:"switch",text:e("bonusBoost.text"),content:e("bonusBoost.content",{HpConsumption:m.precisionRound((.06+.005*t)*100),BonusDmgBoost:m.precisionRound(o[t]*100)})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;z(c,Y|$,d.skillUltDmgBoost?o[t]:0,a),z(c,Y|$,d.skillUltDmgBoost&&d.bonusBoost?o[t]:0,a)},finalizeCalculations:()=>{}}},El=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.FlowingNightglow"),{SOURCE_LC:a}=A.lightCone("23026"),o=[.03,.035,.04,.045,.05],i=[.48,.6,.72,.84,.96],r=[.24,.28,.32,.36,.4],c={cantillationStacks:5,cadenzaActive:!0},s={cadenzaActive:!0},f={cadenzaActive:{lc:!0,id:"cadenzaActive",formItem:"switch",text:e("Content.cadenzaActive.text"),content:e("Content.cadenzaActive.content",{RegenBuff:m.precisionRound(100*o[t]),AtkBuff:m.precisionRound(100*i[t]),DmgBuff:m.precisionRound(100*r[t])})},cantillationStacks:{lc:!0,id:"cantillationStacks",formItem:"slider",text:e("Content.cantillationStacks.text"),content:e("Content.cantillationStacks.content",{RegenBuff:m.precisionRound(100*o[t]),AtkBuff:m.precisionRound(100*i[t]),DmgBuff:m.precisionRound(100*r[t])}),min:0,max:5}},d={cadenzaActive:f.cadenzaActive};return{content:()=>Object.values(f),teammateContent:()=>Object.values(d),defaults:()=>c,teammateDefaults:()=>s,precomputeTeammateEffects:(p,_,L)=>{const I=_.lightConeConditionals;p.ELEMENTAL_DMG.buffTeam(I.cadenzaActive?r[t]:0,a)},precomputeEffects:(p,_,L)=>{const I=_.lightConeConditionals;p.ERR.buff(I.cantillationStacks*o[t],a),p.ATK_P.buff(I.cadenzaActive?i[t]:0,a)},finalizeCalculations:()=>{}}},_l=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.IfTimeWereAFlower.Content"),{SOURCE_LC:a}=A.lightCone("23038"),o=[.48,.6,.72,.84,.96],i={presage:!0},r={presage:!0},c={presage:{lc:!0,id:"presage",formItem:"switch",text:e("presage.text"),content:e("presage.content",{CdBuff:m.precisionRound(o[t]*100)})}},s={presage:c.presage};return{content:()=>Object.values(c),teammateContent:()=>Object.values(s),defaults:()=>i,teammateDefaults:()=>r,precomputeEffects:(f,d,p)=>{},precomputeMutualEffects:(f,d,p)=>{const _=d.lightConeConditionals;f.CD.buffTeam(_.presage?o[t]:0,a)},finalizeCalculations:()=>{}}},pl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.IncessantRain"),{SOURCE_LC:a}=A.lightCone("23007"),o=[.12,.14,.16,.18,.2],i=[.12,.14,.16,.18,.2],r={enemy3DebuffsCrBoost:!0,targetCodeDebuff:!0},c={targetCodeDebuff:!0},s={enemy3DebuffsCrBoost:{lc:!0,id:"enemy3DebuffsCrBoost",formItem:"switch",text:e("Content.enemy3DebuffsCrBoost.text"),content:e("Content.enemy3DebuffsCrBoost.content",{CritBuff:m.precisionRound(100*o[t])})},targetCodeDebuff:{lc:!0,id:"targetCodeDebuff",formItem:"switch",text:e("Content.targetCodeDebuff.text"),content:e("Content.targetCodeDebuff.content",{DmgIncrease:m.precisionRound(100*i[t])})}},f={targetCodeDebuff:s.targetCodeDebuff};return{content:()=>Object.values(s),teammateContent:()=>Object.values(f),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:(d,p,_)=>{const L=p.lightConeConditionals;d.CR.buff(L.enemy3DebuffsCrBoost?o[t]:0,a)},precomputeMutualEffects:(d,p,_)=>{const L=p.lightConeConditionals;d.VULNERABILITY.buffTeam(L.targetCodeDebuff?i[t]:0,a)},finalizeCalculations:()=>{}}},gl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.InherentlyUnjustDestiny"),{SOURCE_LC:a}=A.lightCone("23023"),o=[.4,.46,.52,.58,.64],i=[.1,.115,.13,.145,.16],r={shieldCdBuff:!0,targetVulnerability:!0},c={targetVulnerability:!0},s={shieldCdBuff:{lc:!0,id:"shieldCdBuff",formItem:"switch",text:e("Content.shieldCdBuff.text"),content:e("Content.shieldCdBuff.content",{CritBuff:m.precisionRound(100*o[t])})},targetVulnerability:{lc:!0,id:"targetVulnerability",formItem:"switch",text:e("Content.targetVulnerability.text"),content:e("Content.targetVulnerability.content",{baseChance:m.precisionRound(100+15*t),Vulnerability:m.precisionRound(100*i[t])})}},f={targetVulnerability:s.targetVulnerability};return{content:()=>Object.values(s),teammateContent:()=>Object.values(f),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:(d,p,_)=>{const L=p.lightConeConditionals;d.CD.buff(L.shieldCdBuff?o[t]:0,a)},precomputeMutualEffects:(d,p,_)=>{const L=p.lightConeConditionals;d.VULNERABILITY.buffTeam(L.targetVulnerability?i[t]:0,a)},finalizeCalculations:()=>{}}},Tl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.InTheNameOfTheWorld"),{SOURCE_LC:a}=A.lightCone("23004"),o=[.24,.28,.32,.36,.4],i=[.24,.28,.32,.36,.4],r=[.18,.21,.24,.27,.3],c={enemyDebuffedDmgBoost:!0,skillAtkBoost:!1},s={enemyDebuffedDmgBoost:{lc:!0,id:"enemyDebuffedDmgBoost",formItem:"switch",text:e("Content.enemyDebuffedDmgBoost.text"),content:e("Content.enemyDebuffedDmgBoost.content",{DmgBuff:m.precisionRound(100*o[t])})},skillAtkBoost:{lc:!0,id:"skillAtkBoost",formItem:"switch",text:e("Content.skillAtkBoost.text"),content:e("Content.skillAtkBoost.content",{EhrBuff:m.precisionRound(100*r[t]),AtkBuff:m.precisionRound(100*i[t])})}};return{content:()=>Object.values(s),defaults:()=>c,precomputeEffects:(f,d,p)=>{const _=d.lightConeConditionals;f.ELEMENTAL_DMG.buff(_.enemyDebuffedDmgBoost?o[t]:0,a)},finalizeCalculations:()=>{}}},Bl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.InTheNight"),{SOURCE_LC:a}=A.lightCone("23001"),o=[.06,.07,.08,.09,.1],i=[.12,.14,.16,.18,.2],r={spdScalingBuffs:!0},c={spdScalingBuffs:{lc:!0,id:"spdScalingBuffs",formItem:"switch",text:e("Content.spdScalingBuffs.text"),content:e("Content.spdScalingBuffs.content",{DmgBuff:m.precisionRound(100*o[t]),CritBuff:m.precisionRound(100*i[t])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:()=>{},finalizeCalculations:(s,f,d)=>{const p=f.lightConeConditionals,_=Math.max(0,Math.min(6,Math.floor((s.a[l.SPD]-100)/10)));z(s,st|Y,p.spdScalingBuffs?_*o[t]:0,a),Ut(s,$,p.spdScalingBuffs?_*i[t]:0,a)},gpuFinalizeCalculations:(s,f)=>{const d=s.lightConeConditionals;return`
if (${nt(d.spdScalingBuffs)}) {
  let stacks = max(0, min(6, floor((x.SPD - 100) / 10)));

  buffAbilityDmg(p_x, BASIC_DMG_TYPE | SKILL_DMG_TYPE, stacks * ${o[t]}, 1);
  buffAbilityCd(p_x, ULT_DMG_TYPE, stacks * ${i[t]}, 1);
}
    `}}},Al=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.IntoTheUnreachableVeil"),{SOURCE_LC:a}=A.lightCone("23037"),o=[.6,.7,.8,.9,1],i={skillUltDmgBoost:!0},r={skillUltDmgBoost:{lc:!0,id:"skillUltDmgBoost",formItem:"switch",text:e("Content.skillUltDmgBoost.text"),content:e("Content.skillUltDmgBoost.content",{DmgBuff:m.precisionRound(o[t]*100)})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;z(c,Y|$,d.skillUltDmgBoost?o[t]:0,a)},finalizeCalculations:()=>{}}},hl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.IShallBeMyOwnSword"),{SOURCE_LC:a}=A.lightCone("23014"),o=[.14,.165,.19,.215,.24],i=[.12,.14,.16,.18,.2],r={eclipseStacks:3,maxStackDefPen:!0},c={eclipseStacks:{lc:!0,id:"eclipseStacks",formItem:"slider",text:e("Content.eclipseStacks.text"),content:e("Content.eclipseStacks.content",{DmgBuff:m.precisionRound(100*o[t])}),min:0,max:3},maxStackDefPen:{lc:!0,id:"maxStackDefPen",formItem:"switch",text:e("Content.maxStackDefPen.text"),content:e("Content.maxStackDefPen.content",{DefIgnore:m.precisionRound(100*i[t])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;s.ELEMENTAL_DMG.buff(p.eclipseStacks*o[t],a),s.DEF_PEN.buff(p.maxStackDefPen&&p.eclipseStacks==3?i[t]:0,a)},finalizeCalculations:()=>{}}},Dl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.IVentureForthToHunt"),{SOURCE_LC:a}=A.lightCone("23031"),o=[.27,.3,.33,.36,.39],i={luminfluxUltStacks:2},r={luminfluxUltStacks:{lc:!0,id:"luminfluxUltStacks",formItem:"slider",text:e("Content.luminfluxUltStacks.text"),content:e("Content.luminfluxUltStacks.content",{DefIgnore:m.precisionRound(100*o[t])}),min:0,max:2}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;Rt(c,$,d.luminfluxUltStacks*o[t],a)},finalizeCalculations:()=>{}}},bl=(t,n)=>{const{SOURCE_LC:e}=A.lightCone("23041"),a=[.6,.7,.8,.9,1],o=[.12,.15,.18,.21,.24],i={defPen:!0,dmgBoost:!0},r={defPen:!0},c={dmgBoost:{lc:!0,id:"dmgBoost",formItem:"switch",text:"DMG boost",content:J.t("BetaMessage",{ns:"conditionals",Version:it})},defPen:{lc:!0,id:"defPen",formItem:"switch",text:"DEF PEN",content:J.t("BetaMessage",{ns:"conditionals",Version:it})}},s={defPen:c.defPen};return{content:()=>Object.values(c),teammateContent:()=>Object.values(s),defaults:()=>i,teammateDefaults:()=>r,precomputeEffects:(f,d,p)=>{const _=d.lightConeConditionals;f.ELEMENTAL_DMG.buff(_.dmgBoost?a[t]:0,e)},precomputeMutualEffects:(f,d,p)=>{const _=d.lightConeConditionals;f.DEF_PEN.buffTeam(_.defPen?o[t]:0,e)},finalizeCalculations:()=>{}}},Ll=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.LongRoadLeadsHome"),{SOURCE_LC:a}=A.lightCone("23035"),o=[.18,.21,.24,.27,.3],i={breakVulnerabilityStacks:2},r={breakVulnerabilityStacks:2},c={breakVulnerabilityStacks:{lc:!0,id:"breakVulnerabilityStacks",formItem:"slider",text:e("Content.breakVulnerabilityStacks.text"),content:e("Content.breakVulnerabilityStacks.content",{breakVulnerability:m.precisionRound(100*o[t])}),min:0,max:2}},s={breakVulnerabilityStacks:c.breakVulnerabilityStacks};return{content:()=>Object.values(c),teammateContent:()=>Object.values(s),defaults:()=>i,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(f,d,p)=>{const _=d.lightConeConditionals;gt(f,Dt,_.breakVulnerabilityStacks*o[t],a,ct.TEAM)},finalizeCalculations:()=>{}}},Ol=(t,n)=>{const{SOURCE_LC:e}=A.lightCone("23040"),a=[.3,.35,.4,.45,.5],o={deathFlower:!0},i={deathFlower:{lc:!0,id:"deathFlower",formItem:"switch",text:"Death Flower DEF PEN",content:J.t("BetaMessage",{ns:"conditionals",Version:it})}};return{content:()=>Object.values(i),defaults:()=>o,precomputeEffects:(r,c,s)=>{const f=c.lightConeConditionals;r.DEF_PEN.buffDual(f.deathFlower?a[t]:0,e)},finalizeCalculations:()=>{}}},Il=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.MemorysCurtainNeverFalls.Content"),{SOURCE_LC:a}=A.lightCone("24005"),o=[.08,.1,.12,.14,.16],i={teamDmgBoost:!0},r={teamDmgBoost:!0},c={teamDmgBoost:{lc:!0,id:"teamDmgBoost",formItem:"switch",text:e("teamDmgBoost.text"),content:e("teamDmgBoost.content",{DmgBoost:m.precisionRound(o[t]*100)})}},s={teamDmgBoost:c.teamDmgBoost};return{content:()=>Object.values(c),teammateContent:()=>Object.values(s),defaults:()=>i,teammateDefaults:()=>r,precomputeEffects:(f,d,p)=>{d.lightConeConditionals},precomputeMutualEffects:(f,d,p)=>{const _=d.lightConeConditionals;f.ELEMENTAL_DMG.buffTeam(_.teamDmgBoost?o[t]:0,a)},finalizeCalculations:()=>{}}},Rl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.MomentOfVictory"),{SOURCE_LC:a}=A.lightCone("23005"),o=[.24,.28,.32,.36,.4],i={selfAttackedDefBuff:!0},r={selfAttackedDefBuff:{lc:!0,id:"selfAttackedDefBuff",formItem:"switch",text:e("Content.selfAttackedDefBuff.text"),content:e("Content.selfAttackedDefBuff.content",{DefBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.DEF_P.buff(d.selfAttackedDefBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Ul=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.NightOfFright"),{SOURCE_LC:a}=A.lightCone("23017"),o=[.024,.028,.032,.036,.04],i={atkBuffStacks:5},r={atkBuffStacks:5},c={atkBuffStacks:{lc:!0,id:"atkBuffStacks",formItem:"slider",text:e("Content.atkBuffStacks.text"),content:e("Content.atkBuffStacks.content",{AtkBuff:m.precisionRound(100*o[t])}),min:0,max:5}},s={atkBuffStacks:c.atkBuffStacks};return{content:()=>Object.values(c),teammateContent:()=>Object.values(s),defaults:()=>i,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(f,d,p)=>{const _=d.lightConeConditionals;f.ATK_P.buffTeam(_.atkBuffStacks*o[t],a)},finalizeCalculations:()=>{}}},Ml=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.NightOnTheMilkyWay"),{SOURCE_LC:a}=A.lightCone("23000"),o=[.09,.105,.12,.135,.15],i=[.3,.35,.4,.45,.5],r={enemyCountAtkBuff:!0,enemyWeaknessBreakDmgBuff:!0},c={enemyCountAtkBuff:{lc:!0,id:"enemyCountAtkBuff",formItem:"switch",text:e("Content.enemyCountAtkBuff.text"),content:e("Content.enemyCountAtkBuff.content",{AtkBuff:m.precisionRound(100*o[t])})},enemyWeaknessBreakDmgBuff:{lc:!0,id:"enemyWeaknessBreakDmgBuff",formItem:"switch",text:e("Content.enemyWeaknessBreakDmgBuff.text"),content:e("Content.enemyWeaknessBreakDmgBuff.content",{DmgBuff:m.precisionRound(100*i[t])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;s.ATK_P.buff(p.enemyCountAtkBuff?d.enemyCount*o[t]:0,a),s.ELEMENTAL_DMG.buff(p.enemyWeaknessBreakDmgBuff?i[t]:0,a)},finalizeCalculations:()=>{}}},kl=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),yl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.OnTheFallOfAnAeon"),{SOURCE_LC:a}=A.lightCone("24000"),o=[.08,.1,.12,.14,.16],i=[.12,.15,.18,.21,.24],r={atkBoostStacks:4,weaknessBreakDmgBuff:!0},c={atkBoostStacks:{lc:!0,id:"atkBoostStacks",formItem:"slider",text:e("Content.atkBoostStacks.text"),content:e("Content.atkBoostStacks.content",{AtkBuff:m.precisionRound(100*o[t])}),min:0,max:4},weaknessBreakDmgBuff:{lc:!0,id:"weaknessBreakDmgBuff",formItem:"switch",text:e("Content.weaknessBreakDmgBuff.text"),content:e("Content.weaknessBreakDmgBuff.content",{DmgBuff:m.precisionRound(100*i[t])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;s.ATK_P.buff(p.atkBoostStacks*o[t],a),s.ELEMENTAL_DMG.buff(p.weaknessBreakDmgBuff?i[t]:0,a)},finalizeCalculations:()=>{}}},Nl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.PastSelfInTheMirror"),{SOURCE_LC:a}=A.lightCone("23019"),o=[.24,.28,.32,.36,.4],i={postUltDmgBuff:!0},r={postUltDmgBuff:!0},c={postUltDmgBuff:{lc:!0,id:"postUltDmgBuff",formItem:"switch",text:e("Content.postUltDmgBuff.text"),content:e("Content.postUltDmgBuff.content",{DmgBuff:m.precisionRound(100*o[t])})}},s={postUltDmgBuff:c.postUltDmgBuff};return{content:()=>Object.values(c),teammateContent:()=>Object.values(s),defaults:()=>i,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(f,d,p)=>{const _=d.lightConeConditionals;f.ELEMENTAL_DMG.buffTeam(_.postUltDmgBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Gl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.PatienceIsAllYouNeed"),{SOURCE_LC:a}=A.lightCone("23006"),o=[.24,.28,.32,.36,.4],i=[.048,.056,.064,.072,.08],r=[.6,.7,.8,.9,1],c={spdStacks:3,dotEffect:!1},s={spdStacks:{lc:!0,id:"spdStacks",formItem:"slider",text:e("Content.spdStacks.text"),content:e("Content.spdStacks.content",{SpdBuff:m.precisionRound(100*i[t])}),min:0,max:3},dotEffect:{lc:!0,id:"dotEffect",formItem:"switch",text:e("Content.dotEffect.text"),content:e("Content.dotEffect.content",{Multiplier:m.precisionRound(100*r[t])})}};return{content:()=>Object.values(s),defaults:()=>c,precomputeEffects:(f,d,p)=>{const _=d.lightConeConditionals;f.SPD_P.buff(_.spdStacks*i[t],a),f.ELEMENTAL_DMG.buff(o[t],a)},finalizeCalculations:()=>{}}},Pl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.ReforgedRemembrance"),{SOURCE_LC:a}=A.lightCone("23022"),o=[.05,.06,.07,.08,.09],i=[.072,.079,.086,.093,.1],r={prophetStacks:4},c={prophetStacks:{lc:!0,id:"prophetStacks",formItem:"slider",text:e("Content.prophetStacks.text"),content:e("Content.prophetStacks.content",{AtkBuff:m.precisionRound(100*o[t]),DefIgnore:m.precisionRound(100*i[t])}),min:0,max:4}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;s.ATK_P.buff(p.prophetStacks*o[t],a),Rt(s,It,p.prophetStacks*i[t],a)},finalizeCalculations:()=>{}}},vl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.SailingTowardsASecondLife"),{SOURCE_LC:a}=A.lightCone("23027"),o=[.12,.14,.16,.18,.2],i=[.2,.23,.26,.29,.32],r={breakDmgDefShred:!0,spdBuffConditional:!0},c={breakDmgDefShred:{lc:!0,id:"breakDmgDefShred",formItem:"switch",text:e("Content.breakDmgDefShred.text"),content:e("Content.breakDmgDefShred.content",{DefIgnore:m.precisionRound(100*i[t])})},spdBuffConditional:{lc:!0,id:"spdBuffConditional",formItem:"switch",text:e("Content.spdBuffConditional.text"),content:e("Content.spdBuffConditional.content",{SpdBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;Rt(s,Dt,p.breakDmgDefShred?i[t]:0,a)},finalizeCalculations:(s,f,d)=>{},dynamicConditionals:[{id:"SailingTowardsASecondLifeConditional",type:tt.ABILITY,activation:q.SINGLE,dependsOn:[g.BE],chainsTo:[g.SPD],condition:function(s,f,d){return f.lightConeConditionals.spdBuffConditional&&s.a[l.BE]>=1.5},effect:(s,f,d)=>{s.SPD.buffDynamic(o[t]*d.baseSPD,a,f,d)},gpu:function(s,f){return ut(this,`
if (
  (*p_state).SailingTowardsASecondLifeConditional == 0.0 &&
  x.BE >= 1.50
) {
  (*p_state).SailingTowardsASecondLifeConditional = 1.0;
  (*p_x).SPD += ${o[t]} * baseSPD;
}
    `)}}]}},Hl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.ScentAloneStaysTrue"),{SOURCE_LC:a}=A.lightCone("23032"),o=[.1,.12,.14,.16,.18],i=[.08,.1,.12,.14,.16],r={woefreeState:!0},c={woefreeState:!0,additionalVulnerability:!0},s={woefreeState:{lc:!0,id:"woefreeState",formItem:"switch",text:e("Content.woefreeState.text"),content:e("Content.woefreeState.content",{Vulnerability:m.precisionRound(100*o[t]),AdditionalVulnerability:m.precisionRound(100*i[t])})}},f={woefreeState:s.woefreeState,additionalVulnerability:{lc:!0,id:"additionalVulnerability",formItem:"switch",text:e("TeammateContent.additionalVulnerability.text"),content:e("TeammateContent.additionalVulnerability.content",{Vulnerability:m.precisionRound(100*o[t]),AdditionalVulnerability:m.precisionRound(100*i[t])})}};return{content:()=>Object.values(s),teammateContent:()=>Object.values(f),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:(d,p,_)=>{},precomputeMutualEffects:(d,p,_)=>{const L=p.lightConeConditionals;d.VULNERABILITY.buffTeam(L.woefreeState?o[t]:0,a)},precomputeTeammateEffects:(d,p,_)=>{const L=p.lightConeConditionals;d.VULNERABILITY.buffTeam(L.woefreeState&&L.additionalVulnerability?i[t]:0,a)},finalizeCalculations:(d,p,_)=>{const L=p.lightConeConditionals;d.VULNERABILITY.buff(L.woefreeState&&d.a[l.BE]>=1.5?i[t]:0,a)},gpuFinalizeCalculations:(d,p)=>{const _=d.lightConeConditionals;return`
if (${nt(_.woefreeState)} && x.BE >= 1.50) {
  x.VULNERABILITY += ${i[t]};
}
      `}}},Fl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.SheAlreadyShutHerEyes"),{SOURCE_LC:a}=A.lightCone("23011"),o=[.09,.105,.12,.135,.15],i={hpLostDmgBuff:!0},r={hpLostDmgBuff:!0},c={hpLostDmgBuff:{lc:!0,id:"hpLostDmgBuff",formItem:"switch",text:e("Content.hpLostDmgBuff.text"),content:e("Content.hpLostDmgBuff.content",{DmgBuff:m.precisionRound(100*o[t])})}},s={hpLostDmgBuff:c.hpLostDmgBuff};return{content:()=>Object.values(c),teammateContent:()=>Object.values(s),defaults:()=>i,teammateDefaults:()=>r,precomputeEffects:()=>{},precomputeMutualEffects:(f,d,p)=>{const _=d.lightConeConditionals;f.ELEMENTAL_DMG.buffTeam(_.hpLostDmgBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Kl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.SleepLikeTheDead"),{SOURCE_LC:a}=A.lightCone("23012"),o=[.36,.42,.48,.54,.6],i={missedCritCrBuff:!1},r={missedCritCrBuff:{lc:!0,id:"missedCritCrBuff",formItem:"switch",text:e("Content.missedCritCrBuff.text"),content:e("Content.missedCritCrBuff.content",{CritBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.CR.buff(d.missedCritCrBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},xl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.SolitaryHealing"),{SOURCE_LC:a}=A.lightCone("24003"),o=[.24,.3,.36,.42,.48],i={postUltDotDmgBuff:!0},r={postUltDotDmgBuff:{lc:!0,formItem:"switch",id:"postUltDotDmgBuff",text:e("Content.postUltDotDmgBuff.text"),content:e("Content.postUltDotDmgBuff.content",{DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;z(c,It,d.postUltDotDmgBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},wl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.SomethingIrreplaceable"),{SOURCE_LC:a}=A.lightCone("23002"),o=[.24,.28,.32,.36,.4],i=[.08,.09,.1,.11,.12],r={dmgBuff:!0},c={dmgBuff:{lc:!0,id:"dmgBuff",formItem:"switch",text:e("Content.dmgBuff.text"),content:e("Content.dmgBuff.content",{Multiplier:m.precisionRound(100*i[t]),DmgBuff:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;s.ELEMENTAL_DMG.buff(p.dmgBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},Vl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.TextureOfMemories"),{SOURCE_LC:a}=A.lightCone("24002"),o=[.12,.15,.18,.21,.24],i=[.16,.2,.24,.28,.32],r={activeShieldDmgDecrease:!0},c={activeShieldDmgDecrease:{lc:!0,id:"activeShieldDmgDecrease",formItem:"switch",text:e("Content.activeShieldDmgDecrease.text"),content:e("Content.activeShieldDmgDecrease.content",{ShieldHp:m.precisionRound(100*i[t]),DmgReduction:m.precisionRound(100*o[t])})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;s.DMG_RED_MULTI.multiply(p.activeShieldDmgDecrease?1-o[t]:1,a)},finalizeCalculations:()=>{}}},zl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.TheUnreachableSide"),{SOURCE_LC:a}=A.lightCone("23009"),o=[.24,.28,.32,.36,.4],i={dmgBuff:!0},r={dmgBuff:{lc:!0,id:"dmgBuff",formItem:"switch",text:e("Content.dmgBuff.text"),content:e("Content.dmgBuff.content",{DmgBuff:m.precisionRound(o[t]*100)})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.ELEMENTAL_DMG.buff(d.dmgBuff?o[t]:0,a)},finalizeCalculations:()=>{}}},jl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.ThoseManySprings"),{SOURCE_LC:a}=A.lightCone("23029"),o=[.1,.12,.14,.16,.18],i=[.14,.16,.18,.2,.22],r={unarmoredVulnerability:!0,corneredVulnerability:!0},c={unarmoredVulnerability:!0,corneredVulnerability:!0},s={unarmoredVulnerability:{lc:!0,id:"unarmoredVulnerability",formItem:"switch",text:e("Content.unarmoredVulnerability.text"),content:e("Content.unarmoredVulnerability.content",{UnarmoredVulnerability:m.precisionRound(o[t]*100),CorneredVulnerability:m.precisionRound(i[t]*100)})},corneredVulnerability:{lc:!0,id:"corneredVulnerability",formItem:"switch",text:e("Content.corneredVulnerability.text"),content:e("Content.corneredVulnerability.content",{UnarmoredVulnerability:m.precisionRound(o[t]*100),CorneredVulnerability:m.precisionRound(i[t]*100)})}},f={unarmoredVulnerability:s.unarmoredVulnerability,corneredVulnerability:s.corneredVulnerability};return{content:()=>Object.values(s),teammateContent:()=>Object.values(f),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:()=>{},precomputeMutualEffects:(d,p,_)=>{const L=p.lightConeConditionals;d.VULNERABILITY.buffTeam(L.unarmoredVulnerability||L.corneredVulnerability?o[t]:0,a),d.VULNERABILITY.buffTeam(L.corneredVulnerability?i[t]:0,a)},finalizeCalculations:()=>{}}},$l=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.TimeWaitsForNoOne");A.lightCone("23013");const a=[.36,.42,.48,.54,.6],o={healingBasedDmgProc:!1},i={healingBasedDmgProc:{lc:!0,id:"healingBasedDmgProc",formItem:"switch",text:e("Content.healingBasedDmgProc.text"),content:e("Content.healingBasedDmgProc.content",{Multiplier:m.precisionRound(a[t]*100)})}};return{content:()=>Object.values(i),defaults:()=>o,precomputeEffects:()=>{},finalizeCalculations:()=>{}}},Yl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.TimeWovenIntoGold"),{SOURCE_LC:a}=A.lightCone("23036"),o=[.09,.105,.12,.135,.15],i=[.09,.105,.12,.135,.15],r={brocadeStacks:6,maxStacksBasicDmgBoost:!0},c={brocadeStacks:{lc:!0,id:"brocadeStacks",formItem:"slider",text:e("Content.brocadeStacks.text"),content:e("Content.brocadeStacks.content",{CdBuff:m.precisionRound(o[t]*100),DmgBuff:m.precisionRound(i[t]*100)}),min:0,max:6},maxStacksBasicDmgBoost:{lc:!0,id:"maxStacksBasicDmgBoost",formItem:"switch",text:e("Content.maxStacksBasicDmgBoost.text"),content:e("Content.maxStacksBasicDmgBoost.content",{CdBuff:m.precisionRound(o[t]*100),DmgBuff:m.precisionRound(i[t]*100)})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;s.CD.buffDual(p.brocadeStacks*o[t],a),s.BASIC_DMG_BOOST.buffDual(p.brocadeStacks>=6&&p.maxStacksBasicDmgBoost?p.brocadeStacks*i[t]:0,a)},finalizeCalculations:()=>{}}},Wl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.WhereaboutsShouldDreamsRest"),{SOURCE_LC:a}=A.lightCone("23025"),o=[.24,.28,.32,.36,.4],i={routedVulnerability:!0},r={routedVulnerability:{lc:!0,id:"routedVulnerability",formItem:"switch",text:e("Content.routedVulnerability.text"),content:e("Content.routedVulnerability.content",{Vulnerability:o[t]*100})}};return{content:()=>Object.values(r),defaults:()=>i,precomputeEffects:(c,s,f)=>{const d=s.lightConeConditionals;c.VULNERABILITY.buff(d.routedVulnerability?o[t]:0,a)},finalizeCalculations:()=>{}}},Ql=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.WorrisomeBlissful"),{SOURCE_LC:a}=A.lightCone("23016"),o=[.3,.35,.4,.45,.5],i=[.12,.14,.16,.18,.2],r={targetTameStacks:2},c={targetTameStacks:2},s={targetTameStacks:{lc:!0,id:"targetTameStacks",formItem:"slider",text:e("Content.targetTameStacks.text"),content:e("Content.targetTameStacks.content",{CritBuff:m.precisionRound(100*i[t])}),min:0,max:2}},f={targetTameStacks:s.targetTameStacks};return{content:()=>Object.values(s),teammateContent:()=>Object.values(f),defaults:()=>r,teammateDefaults:()=>c,precomputeEffects:(d,p,_)=>{z(d,Z,o[t],a)},precomputeMutualEffects:(d,p,_)=>{const L=p.lightConeConditionals;d.CD.buffTeam(L.targetTameStacks*i[t],a)},finalizeCalculations:()=>{}}},Zl=(t,n)=>{const e=m.wrappedFixedT(n).get(null,"conditionals","Lightcones.YetHopeIsPriceless"),{SOURCE_LC:a}=A.lightCone("23028"),o=[.12,.14,.16,.18,.2],i=[.2,.24,.28,.32,.36],r={fuaDmgBoost:!0,ultFuaDefShred:!0},c={fuaDmgBoost:{lc:!0,id:"fuaDmgBoost",formItem:"switch",text:e("Content.fuaDmgBoost.text"),content:e("Content.fuaDmgBoost.content",{DmgBuff:m.precisionRound(o[t]*100)})},ultFuaDefShred:{lc:!0,id:"ultFuaDefShred",formItem:"switch",text:e("Content.ultFuaDefShred.text"),content:e("Content.ultFuaDefShred.content",{DefShred:m.precisionRound(o[t]*100)})}};return{content:()=>Object.values(c),defaults:()=>r,precomputeEffects:(s,f,d)=>{const p=f.lightConeConditionals;Rt(s,$|Z,p.ultFuaDefShred?i[t]:0,a)},finalizeCalculations:(s,f,d)=>{const p=f.lightConeConditionals;z(s,Z,p.fuaDmgBoost?o[t]*Math.min(4,Math.floor(s.a[l.CD]-1.2)/.2):0,a)},gpuFinalizeCalculations:(s,f)=>{const d=s.lightConeConditionals;return`
if (${nt(d.fuaDmgBoost)}) {
  buffAbilityDmg(p_x, FUA_DMG_TYPE, ${o[t]} * min(4, floor(x.CD - 1.20) / 0.20), 1);
}
    `}}};const Jl={23e3:Ml,23001:Bl,23002:wl,23003:ll,23004:Tl,23005:Rl,23006:Gl,23007:pl,23008:ml,23009:zl,23010:cl,23011:Fl,23012:Kl,23013:$l,23014:hl,23015:rl,23016:Ql,23017:Ul,23018:il,23019:Nl,23020:sl,23021:dl,23022:Pl,23023:gl,23024:al,23025:Wl,23026:El,23027:vl,23028:Zl,23029:jl,23030:ul,23031:Dl,23032:Hl,23033:kl,23034:ol,23035:Ll,24e3:yl,24001:fl,24002:Vl,24003:xl,24004:Sl,23036:Yl,23037:Al,23038:_l,23039:Cl,23040:Ol,23041:bl,24005:Il},Xl={21e3:kr,21001:pr,21002:cr,21003:Or,21004:Dr,21005:jr,21006:wr,21007:Hr,21008:ur,21009:Ar,21010:xr,21011:Ur,21012:er,21013:hr,21014:Rr,21015:Nr,21016:Qr,21017:Fr,21018:sr,21019:Zr,21020:_r,21021:yr,21022:dr,21023:qr,21024:Pr,21025:Ir,21026:nl,21027:$r,21028:Xr,21029:tl,21030:Yr,21031:Gr,21032:ar,21033:Lr,21034:Wr,21035:el,21036:fr,21037:mr,21038:Sr,21039:rr,21040:Vr,21041:Br,21042:Tr,21043:ir,21044:or,21045:tr,21046:Mr,21047:vr,21048:lr,21050:Jr,21051:Er,21052:Kr,22e3:nr,22001:gr,22002:Cr,22003:br,22004:zr},ql={2e4:yc,20001:Pc,20002:Gc,20003:kc,20004:qc,20005:Nc,20006:Hc,20007:vc,20008:Kc,20009:Xc,20010:Fc,20011:wc,20012:zc,20013:Yc,20014:Mc,20015:jc,20016:$c,20017:Wc,20018:xc,20019:Vc,20020:Zc,20021:Jc,20022:Qc},tf={...Jl,...Xl,...ql},No={get:(t,n=!1)=>{const e=tf[t.lightCone];return!e||t.lightConePath!==t.path&&!(window!=null&&window.WEBGPU_DEBUG)?{content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}:e(t.lightConeSuperimposition-1,n,{element:t.element})}},Be=65,Go={extractCharacter:(t,n,e)=>(n=n*Be,{id:t[n]+e,HP:t[n+1],ATK:t[n+2],DEF:t[n+3],SPD:t[n+4],"CRIT Rate":t[n+5],"CRIT DMG":t[n+6],"Effect Hit Rate":t[n+7],"Effect RES":t[n+8],"Break Effect":t[n+9],"Energy Regeneration Rate":t[n+10],"Outgoing Healing Boost":t[n+11],ED:t[n+12],WEIGHT:t[n+13],EHP:t[n+14],HEAL:t[n+15],SHIELD:t[n+16],BASIC:t[n+17],SKILL:t[n+18],ULT:t[n+19],FUA:t[n+20],MEMO_SKILL:t[n+21],MEMO_TALENT:t[n+22],DOT:t[n+23],BREAK:t[n+24],COMBO:t[n+25],xHP:t[n+26],xATK:t[n+27],xDEF:t[n+28],xSPD:t[n+29],xCR:t[n+30],xCD:t[n+31],xEHR:t[n+32],xRES:t[n+33],xBE:t[n+34],xERR:t[n+35],xOHB:t[n+36],xELEMENTAL_DMG:t[n+37],relicSetIndex:t[n+38],ornamentSetIndex:t[n+39],mHP:t[n+40],mATK:t[n+41],mDEF:t[n+42],mSPD:t[n+43],mCR:t[n+44],mCD:t[n+45],mEHR:t[n+46],mRES:t[n+47],mBE:t[n+48],mERR:t[n+49],mOHB:t[n+50],mELEMENTAL_DMG:t[n+51],mxHP:t[n+52],mxATK:t[n+53],mxDEF:t[n+54],mxSPD:t[n+55],mxCR:t[n+56],mxCD:t[n+57],mxEHR:t[n+58],mxRES:t[n+59],mxBE:t[n+60],mxERR:t[n+61],mxOHB:t[n+62],mxELEMENTAL_DMG:t[n+63],mxEHP:t[n+64]}),extractArrayToResults:(t,n,e,a)=>{for(let o=0;o<n&&t[o*Be+1];o++){const i=Go.extractCharacter(t,o,a);e.fixedSizePush(i)}},packCharacter:(t,n,e)=>{n=n*Be;const a=e.c,o=e.a,i=a.a;if(t[n]=a.id,t[n+1]=i[l.HP],t[n+2]=i[l.ATK],t[n+3]=i[l.DEF],t[n+4]=i[l.SPD],t[n+5]=i[l.CR],t[n+6]=i[l.CD],t[n+7]=i[l.EHR],t[n+8]=i[l.RES],t[n+9]=i[l.BE],t[n+10]=i[l.ERR],t[n+11]=i[l.OHB],t[n+12]=i[l.ELEMENTAL_DMG],t[n+13]=a.weight,t[n+14]=o[l.EHP],t[n+15]=o[l.HEAL_VALUE],t[n+16]=o[l.SHIELD_VALUE],t[n+17]=o[l.BASIC_DMG],t[n+18]=o[l.SKILL_DMG],t[n+19]=o[l.ULT_DMG],t[n+20]=o[l.FUA_DMG],t[n+21]=o[l.MEMO_SKILL_DMG],t[n+22]=o[l.MEMO_TALENT_DMG],t[n+23]=o[l.DOT_DMG],t[n+24]=o[l.BREAK_DMG],t[n+25]=o[l.COMBO_DMG],t[n+26]=o[l.HP],t[n+27]=o[l.ATK],t[n+28]=o[l.DEF],t[n+29]=o[l.SPD],t[n+30]=o[l.CR],t[n+31]=o[l.CD],t[n+32]=o[l.EHR],t[n+33]=o[l.RES],t[n+34]=o[l.BE],t[n+35]=o[l.ERR],t[n+36]=o[l.OHB],t[n+37]=o[l.ELEMENTAL_DMG],t[n+38]=a.relicSetIndex,t[n+39]=a.ornamentSetIndex,e.a[l.MEMOSPRITE]){const r=e.m.c.a;t[n+40]=r[l.HP],t[n+41]=r[l.ATK],t[n+42]=r[l.DEF],t[n+43]=r[l.SPD],t[n+44]=r[l.CR],t[n+45]=r[l.CD],t[n+46]=r[l.EHR],t[n+47]=r[l.RES],t[n+48]=r[l.BE],t[n+49]=r[l.ERR],t[n+50]=r[l.OHB],t[n+51]=r[l.ELEMENTAL_DMG];const c=e.m.a;t[n+52]=c[l.HP],t[n+53]=c[l.ATK],t[n+54]=c[l.DEF],t[n+55]=c[l.SPD],t[n+56]=c[l.CR],t[n+57]=c[l.CD],t[n+58]=c[l.EHR],t[n+59]=c[l.RES],t[n+60]=c[l.BE],t[n+61]=c[l.ERR],t[n+62]=c[l.OHB],t[n+63]=c[l.ELEMENTAL_DMG],t[n+64]=c[l.EHP]}},cleanFloatBuffer:t=>{new Float32Array(t).fill(0)},createFloatBuffer:t=>new Float32Array(t*Be).buffer},dn={SpaceSealingStation:{key:"SpaceSealingStation",index:0,p2c:(t,n)=>{t.ATK_P.buff(.12,A.SpaceSealingStation)}},FleetOfTheAgeless:{key:"FleetOfTheAgeless",index:1,p2c:(t,n)=>{t.HP_P.buff(.12,A.FleetOfTheAgeless)}},PanCosmicCommercialEnterprise:{key:"PanCosmicCommercialEnterprise",index:2,p2c:(t,n)=>{t.EHR.buff(.1,A.PanCosmicCommercialEnterprise)}},BelobogOfTheArchitects:{key:"BelobogOfTheArchitects",index:3,p2c:(t,n)=>{t.DEF_P.buff(.15,A.BelobogOfTheArchitects)}},CelestialDifferentiator:{key:"CelestialDifferentiator",index:4,p2c:(t,n)=>{t.CD.buff(.16,A.CelestialDifferentiator)},p2x:(t,n,e)=>{e.enabledCelestialDifferentiator&&t.c.a[l.CD]>=1.2&&t.CR.buff(.6,A.CelestialDifferentiator)}},InertSalsotto:{key:"InertSalsotto",index:5,p2c:(t,n)=>{t.CR.buff(.08,A.InertSalsotto)}},TaliaKingdomOfBanditry:{key:"TaliaKingdomOfBanditry",index:6,p2c:(t,n)=>{t.BE.buff(.16,A.TaliaKingdomOfBanditry)}},SprightlyVonwacq:{key:"SprightlyVonwacq",index:7,p2c:(t,n)=>{t.ERR.buff(.05,A.SprightlyVonwacq)}},RutilantArena:{key:"RutilantArena",index:8,p2c:(t,n)=>{t.CR.buff(.08,A.RutilantArena)}},BrokenKeel:{key:"BrokenKeel",index:9,p2c:(t,n)=>{t.RES.buff(.1,A.BrokenKeel)}},FirmamentFrontlineGlamoth:{key:"FirmamentFrontlineGlamoth",index:10,p2c:(t,n)=>{t.ATK_P.buff(.12,A.FirmamentFrontlineGlamoth)}},PenaconyLandOfTheDreams:{key:"PenaconyLandOfTheDreams",index:11,p2c:(t,n)=>{t.ERR.buff(.05,A.PenaconyLandOfTheDreams)},p2x:(t,n,e)=>{e.enabledPenaconyLandOfTheDreams&&t.ELEMENTAL_DMG.buffMemo(.1,A.PenaconyLandOfTheDreams)}},SigoniaTheUnclaimedDesolation:{key:"SigoniaTheUnclaimedDesolation",index:12,p2c:(t,n)=>{t.CR.buff(.04,A.SigoniaTheUnclaimedDesolation)},p2x:(t,n,e)=>{t.CD.buff(.04*e.valueSigoniaTheUnclaimedDesolation,A.SigoniaTheUnclaimedDesolation)}},IzumoGenseiAndTakamaDivineRealm:{key:"IzumoGenseiAndTakamaDivineRealm",index:13,p2c:(t,n)=>{t.ATK_P.buff(.12,A.IzumoGenseiAndTakamaDivineRealm)},p2x:(t,n,e)=>{e.enabledIzumoGenseiAndTakamaDivineRealm&&t.CR.buff(.12,A.IzumoGenseiAndTakamaDivineRealm)}},DuranDynastyOfRunningWolves:{key:"DuranDynastyOfRunningWolves",index:14,p2c:(t,n)=>{},p2x:(t,n,e)=>{z(t,Z,.05*e.valueDuranDynastyOfRunningWolves,A.DuranDynastyOfRunningWolves),e.valueDuranDynastyOfRunningWolves>=5&&t.CD.buff(.25,A.DuranDynastyOfRunningWolves)}},ForgeOfTheKalpagniLantern:{key:"ForgeOfTheKalpagniLantern",index:15,p2c:(t,n)=>{t.SPD_P.buff(.06,A.ForgeOfTheKalpagniLantern)},p2x:(t,n,e)=>{e.enabledForgeOfTheKalpagniLantern&&t.BE.buff(.4,A.ForgeOfTheKalpagniLantern)}},LushakaTheSunkenSeas:{key:"LushakaTheSunkenSeas",index:16,p2c:(t,n)=>{t.ERR.buff(.05,A.LushakaTheSunkenSeas)}},TheWondrousBananAmusementPark:{key:"TheWondrousBananAmusementPark",index:17,p2c:(t,n)=>{t.CD.buff(.16,A.TheWondrousBananAmusementPark)},p2x:(t,n,e)=>{e.enabledTheWondrousBananAmusementPark&&t.CD.buff(.32,A.TheWondrousBananAmusementPark)}},BoneCollectionsSereneDemesne:{key:"BoneCollectionsSereneDemesne",index:18,p2c:(t,n)=>{t.HP_P.buff(.12,A.BoneCollectionsSereneDemesne)}},GiantTreeOfRaptBrooding:{key:"GiantTreeOfRaptBrooding",index:19,p2c:(t,n)=>{t.SPD_P.buff(.06,A.GiantTreeOfRaptBrooding)}}},mn={PasserbyOfWanderingCloud:{key:"PasserbyOfWanderingCloud",index:0,p2c:(t,n)=>{t.OHB.buff(.1,A.PasserbyOfWanderingCloud)}},MusketeerOfWildWheat:{key:"MusketeerOfWildWheat",index:1,p2c:(t,n)=>{t.ATK_P.buff(.12,A.MusketeerOfWildWheat)},p4c:(t,n)=>{t.SPD_P.buff(.06,A.MusketeerOfWildWheat)},p4x:(t,n,e)=>{z(t,st,.1,A.MusketeerOfWildWheat)}},KnightOfPurityPalace:{key:"KnightOfPurityPalace",index:2,p2c:(t,n)=>{t.DEF_P.buff(.15,A.KnightOfPurityPalace)},p4x:(t,n,e)=>{t.SHIELD_BOOST.buff(.2,A.KnightOfPurityPalace)}},HunterOfGlacialForest:{key:"HunterOfGlacialForest",index:3,p2c:(t,n)=>{n.elementalDamageType==g.Ice_DMG&&t.ICE_DMG_BOOST.buff(.1,A.HunterOfGlacialForest)},p4x:(t,n,e)=>{e.enabledHunterOfGlacialForest&&t.CD.buff(.25,A.HunterOfGlacialForest)}},ChampionOfStreetwiseBoxing:{key:"ChampionOfStreetwiseBoxing",index:4,p2c:(t,n)=>{n.elementalDamageType==g.Physical_DMG&&t.PHYSICAL_DMG_BOOST.buff(.1,A.ChampionOfStreetwiseBoxing)},p4x:(t,n,e)=>{t.ATK_P.buff(.05*e.valueChampionOfStreetwiseBoxing,A.ChampionOfStreetwiseBoxing)}},GuardOfWutheringSnow:{key:"GuardOfWutheringSnow",index:5,p2c:(t,n)=>{},p2x:(t,n,e)=>{t.DMG_RED_MULTI.multiply(1-.08,A.GuardOfWutheringSnow)}},FiresmithOfLavaForging:{key:"FiresmithOfLavaForging",index:6,p2c:(t,n)=>{n.elementalDamageType==g.Fire_DMG&&t.FIRE_DMG_BOOST.buff(.1,A.FiresmithOfLavaForging)},p4x:(t,n,e)=>{z(t,Y,.12,A.FiresmithOfLavaForging),e.enabledFiresmithOfLavaForging&&t.FIRE_DMG_BOOST.buff(.12,A.FiresmithOfLavaForging)}},GeniusOfBrilliantStars:{key:"GeniusOfBrilliantStars",index:7,p2c:(t,n)=>{n.elementalDamageType==g.Quantum_DMG&&t.QUANTUM_DMG_BOOST.buff(.1,A.GeniusOfBrilliantStars)},p4x:(t,n,e)=>{t.DEF_PEN.buff(e.enabledGeniusOfBrilliantStars?.2:.1,A.GeniusOfBrilliantStars)}},BandOfSizzlingThunder:{key:"BandOfSizzlingThunder",index:8,p2c:(t,n)=>{n.elementalDamageType==g.Lightning_DMG&&t.LIGHTNING_DMG_BOOST.buff(.1,A.BandOfSizzlingThunder)},p4x:(t,n,e)=>{e.enabledBandOfSizzlingThunder&&t.ATK_P.buff(.2,A.BandOfSizzlingThunder)}},EagleOfTwilightLine:{key:"EagleOfTwilightLine",index:9,p2c:(t,n)=>{n.elementalDamageType==g.Wind_DMG&&t.WIND_DMG_BOOST.buff(.1,A.EagleOfTwilightLine)}},ThiefOfShootingMeteor:{key:"ThiefOfShootingMeteor",index:10,p2c:(t,n)=>{t.BE.buff(.16,A.ThiefOfShootingMeteor)},p4c:(t,n)=>{t.BE.buff(.16,A.ThiefOfShootingMeteor)}},WastelanderOfBanditryDesert:{key:"WastelanderOfBanditryDesert",index:11,p2c:(t,n)=>{n.elementalDamageType==g.Imaginary_DMG&&t.IMAGINARY_DMG_BOOST.buff(.1,A.WastelanderOfBanditryDesert)},p4x:(t,n,e)=>{t.CD_BOOST.buff(.1*(e.valueWastelanderOfBanditryDesert==2?1:0),A.WastelanderOfBanditryDesert),e.valueWastelanderOfBanditryDesert>0&&t.CR_BOOST.buff(.1,A.WastelanderOfBanditryDesert)}},LongevousDisciple:{key:"LongevousDisciple",index:12,p2c:(t,n)=>{t.HP_P.buff(.12,A.LongevousDisciple)},p4x:(t,n,e)=>{t.CR.buff(.08*e.valueLongevousDisciple,A.LongevousDisciple)}},MessengerTraversingHackerspace:{key:"MessengerTraversingHackerspace",index:13,p2c:(t,n)=>{t.SPD_P.buff(.06,A.MessengerTraversingHackerspace)},p4x:(t,n,e)=>{e.enabledMessengerTraversingHackerspace&&t.SPD_P.buffTeam(.12,A.MessengerTraversingHackerspace)}},TheAshblazingGrandDuke:{key:"TheAshblazingGrandDuke",index:14,p2c:(t,n)=>{},p2x:(t,n,e)=>{z(t,Z,.2,A.TheAshblazingGrandDuke)},p4x:(t,n,e)=>{t.ATK_P.buff(.06*e.valueTheAshblazingGrandDuke,A.TheAshblazingGrandDuke)}},PrisonerInDeepConfinement:{key:"PrisonerInDeepConfinement",index:15,p2c:(t,n)=>{t.ATK_P.buff(.12,A.PrisonerInDeepConfinement)},p4x:(t,n,e)=>{t.DEF_PEN.buff(.06*e.valuePrisonerInDeepConfinement,A.PrisonerInDeepConfinement)}},PioneerDiverOfDeadWaters:{key:"PioneerDiverOfDeadWaters",index:16,p2x:(t,n,e)=>{e.valuePioneerDiverOfDeadWaters>=0&&t.ELEMENTAL_DMG.buff(.12,A.PioneerDiverOfDeadWaters)},p4c:(t,n)=>{t.CR.buff(.04,A.PioneerDiverOfDeadWaters)},p4x:(t,n,e)=>{t.CD_BOOST.buff(nf[e.valuePioneerDiverOfDeadWaters],A.PioneerDiverOfDeadWaters),e.valuePioneerDiverOfDeadWaters>2&&t.CR.buff(.04,A.PioneerDiverOfDeadWaters)}},WatchmakerMasterOfDreamMachinations:{key:"WatchmakerMasterOfDreamMachinations",index:17,p2c:(t,n)=>{t.BE.buff(.16,A.WatchmakerMasterOfDreamMachinations)},p4x:(t,n,e)=>{e.enabledWatchmakerMasterOfDreamMachinations&&t.BE.buffTeam(.3,A.WatchmakerMasterOfDreamMachinations)}},IronCavalryAgainstTheScourge:{key:"IronCavalryAgainstTheScourge",index:18,p2c:(t,n)=>{t.BE.buff(.16,A.IronCavalryAgainstTheScourge)}},TheWindSoaringValorous:{key:"TheWindSoaringValorous",index:19,p2c:(t,n)=>{t.ATK_P.buff(.12,A.TheWindSoaringValorous)},p4c:(t,n)=>{t.CR.buff(.06,A.TheWindSoaringValorous)},p4x:(t,n,e)=>{e.enabledTheWindSoaringValorous&&z(t,$,.36,A.TheWindSoaringValorous)}},SacerdosRelivedOrdeal:{key:"SacerdosRelivedOrdeal",index:20,p2c:(t,n)=>{t.SPD_P.buff(.06,A.SacerdosRelivedOrdeal)},p4x:(t,n,e)=>{t.CD.buff(.18*e.valueSacerdosRelivedOrdeal,A.SacerdosRelivedOrdeal)}},ScholarLostInErudition:{key:"ScholarLostInErudition",index:21,p2c:(t,n)=>{t.CR.buff(.08,A.ScholarLostInErudition)},p4x:(t,n,e)=>{z(t,$|Y,.2,A.ScholarLostInErudition),e.enabledScholarLostInErudition&&z(t,Y,.25,A.ScholarLostInErudition)}},HeroOfTriumphantSong:{key:"HeroOfTriumphantSong",index:22,p2c:(t,n)=>{t.ATK_P.buff(.12,A.HeroOfTriumphantSong)},p4x:(t,n,e)=>{e.enabledHeroOfTriumphantSong&&(t.SPD_P.buff(.06,A.HeroOfTriumphantSong),t.CD.buffDual(.3,A.HeroOfTriumphantSong))}},PoetOfMourningCollapse:{key:"PoetOfMourningCollapse",index:23,p2c:(t,n)=>{n.elementalDamageType==g.Quantum_DMG&&t.QUANTUM_DMG_BOOST.buff(.1,A.PoetOfMourningCollapse)},p4c:(t,n)=>{t.SPD_P.buff(-.08,A.PoetOfMourningCollapse)},p4x:(t,n,e)=>{t.CR.buffBaseDual((t.c.a[l.SPD]<110?.2:0)+(t.c.a[l.SPD]<95?.12:0),A.PoetOfMourningCollapse)}}},ef={...mn,...dn},ot=Object.fromEntries(Object.keys(ef).map(t=>[t,t])),nf={[-1]:0,0:0,1:.08,2:.12,3:.16,4:.24},Po=Object.entries(dn).sort((t,n)=>t[1].index-n[1].index).map(t=>t[1]),of=Object.entries(dn).sort((t,n)=>t[1].index-n[1].index).map(t=>t[0]),ae=Object.entries(mn).sort((t,n)=>t[1].index-n[1].index).map(t=>t[1]),vo=Object.entries(mn).sort((t,n)=>t[1].index-n[1].index).map(t=>t[0]);function af(t){const n=Object.create(null);for(let e=0;e<4;e++){const a=vo[t[e]];n[a]=(n[a]??0)+1}return t[4]==t[5]&&(n[of[t[4]]]=2),n}function sf(t,n,e,a){const o={};for(let i=0;i<4;i++){const r=a[i];if(o[r])continue;o[r]=!0;const c=vo[r],s=e[c]??0;if(s>=2){const f=ae[r];s>=2&&f.p2c&&f.p2c(t,n),s>=4&&f.p4c&&f.p4c(t,n)}}if(a[4]==a[5]){const i=Po[a[4]];i.p2c&&i.p2c(t,n)}}function cf(t,n){const e=t.a,a=n.characterStatsBreakdown.base,o=n.characterStatsBreakdown.lightCone,i=n.characterStatsBreakdown.traces;switch(e[l.ELEMENTAL_DMG]=0,n.elementalDamageType){case g.Physical_DMG:e[l.ELEMENTAL_DMG]=pt(g.Physical_DMG,a,o,i,t,0);break;case g.Fire_DMG:e[l.ELEMENTAL_DMG]=pt(g.Fire_DMG,a,o,i,t,0);break;case g.Ice_DMG:e[l.ELEMENTAL_DMG]=pt(g.Ice_DMG,a,o,i,t,0);break;case g.Lightning_DMG:e[l.ELEMENTAL_DMG]=pt(g.Lightning_DMG,a,o,i,t,0);break;case g.Wind_DMG:e[l.ELEMENTAL_DMG]=pt(g.Wind_DMG,a,o,i,t,0);break;case g.Quantum_DMG:e[l.ELEMENTAL_DMG]=pt(g.Quantum_DMG,a,o,i,t,0);break;case g.Imaginary_DMG:e[l.ELEMENTAL_DMG]=pt(g.Imaginary_DMG,a,o,i,t,0);break}}function rf(t,n){const e=n.characterStatsBreakdown.base,a=n.characterStatsBreakdown.lightCone,o=n.characterStatsBreakdown.traces,i=t.a;i[l.SPD]=Ae(g.SPD,g.SPD_P,n.baseSPD,a,o,t,0),i[l.HP]=Ae(g.HP,g.HP_P,n.baseHP,a,o,t,0),i[l.ATK]=Ae(g.ATK,g.ATK_P,n.baseATK,a,o,t,0),i[l.DEF]=Ae(g.DEF,g.DEF_P,n.baseDEF,a,o,t,0),i[l.CR]=pt(g.CR,e,a,o,t,0),i[l.CD]=pt(g.CD,e,a,o,t,0),i[l.EHR]=pt(g.EHR,e,a,o,t,0),i[l.RES]=pt(g.RES,e,a,o,t,0),i[l.BE]=pt(g.BE,e,a,o,t,0),i[l.ERR]=pt(g.ERR,e,a,o,t,0),i[l.OHB]=pt(g.OHB,e,a,o,t,0)}function lf(t,n,e){const a=e.lightConeConditionalController,o=e.characterConditionalController;a.calculateBasicEffects&&a.calculateBasicEffects(t,n,e),o.calculateBasicEffects&&o.calculateBasicEffects(t,n,e)}function ff(t,n,e){const a=n.setConditionals,o=t.a,i=t.c,r=i.sets,c=i.setsArray,s=e.combatBuffs;if(o[l.ATK]+=i.a[l.ATK]+s.ATK+s.ATK_P*e.baseATK,o[l.DEF]+=i.a[l.DEF]+s.DEF+s.DEF_P*e.baseDEF,o[l.HP]+=i.a[l.HP]+s.HP+s.HP_P*e.baseHP,o[l.SPD]+=i.a[l.SPD]+s.SPD+s.SPD_P*e.baseSPD,o[l.CD]+=i.a[l.CD]+s.CD,o[l.CR]+=i.a[l.CR]+s.CR,o[l.BE]+=i.a[l.BE]+s.BE,o[l.EHR]+=i.a[l.EHR],o[l.RES]+=i.a[l.RES],o[l.ERR]+=i.a[l.ERR],o[l.OHB]+=i.a[l.OHB],o[l.BASE_ATK]=e.baseATK,o[l.BASE_DEF]=e.baseDEF,o[l.BASE_HP]=e.baseHP,o[l.BASE_SPD]=e.baseSPD,t.a[l.MEMOSPRITE]){const f=t.m.c,d=t.m.c.a,p=t.m.a;d[l.ATK]=t.a[l.MEMO_BASE_ATK_SCALING]*i.a[l.ATK]+t.a[l.MEMO_BASE_ATK_FLAT],d[l.DEF]=t.a[l.MEMO_BASE_DEF_SCALING]*i.a[l.DEF]+t.a[l.MEMO_BASE_DEF_FLAT],d[l.HP]=t.a[l.MEMO_BASE_HP_SCALING]*i.a[l.HP]+t.a[l.MEMO_BASE_HP_FLAT],d[l.SPD]=t.a[l.MEMO_BASE_SPD_SCALING]*i.a[l.SPD]+t.a[l.MEMO_BASE_SPD_FLAT],p[l.BASE_ATK]=f.a[l.ATK],p[l.BASE_DEF]=f.a[l.DEF],p[l.BASE_HP]=f.a[l.HP],p[l.BASE_SPD]=f.a[l.SPD],p[l.ATK]+=f.a[l.ATK],p[l.DEF]+=f.a[l.DEF],p[l.HP]+=f.a[l.HP],p[l.SPD]+=f.a[l.SPD],p[l.CD]+=i.a[l.CD],p[l.CR]+=i.a[l.CR],p[l.BE]+=i.a[l.BE],p[l.EHR]+=i.a[l.EHR],p[l.RES]+=i.a[l.RES],p[l.ERR]+=i.a[l.ERR],p[l.OHB]+=i.a[l.OHB]}if(o[l.ELEMENTAL_DMG]+=s.DMG_BOOST,o[l.EFFECT_RES_PEN]+=s.EFFECT_RES_PEN,o[l.VULNERABILITY]+=s.VULNERABILITY,o[l.BREAK_EFFICIENCY_BOOST]+=s.BREAK_EFFICIENCY,On(t,e.elementalDamageType,i.a[l.ELEMENTAL_DMG]),t.a[l.MEMOSPRITE]&&On(t.m,e.elementalDamageType,i.a[l.ELEMENTAL_DMG]),uf(t,e,a,r,c),o[l.SPD]+=o[l.SPD_P]*e.baseSPD,o[l.ATK]+=o[l.ATK_P]*e.baseATK,o[l.DEF]+=o[l.DEF_P]*e.baseDEF,o[l.HP]+=o[l.HP_P]*e.baseHP,t.a[l.MEMOSPRITE]){const f=t.m.a;f[l.SPD]+=f[l.SPD_P]*f[l.BASE_SPD],f[l.ATK]+=f[l.ATK_P]*f[l.BASE_ATK],f[l.DEF]+=f[l.DEF_P]*f[l.BASE_DEF],f[l.HP]+=f[l.HP_P]*f[l.BASE_HP]}c[4]==c[5]&&(at(ot.SpaceSealingStation,r)&&_t(Ho,t,n,e),at(ot.FleetOfTheAgeless,r)&&_t(Fo,t,n,e),at(ot.BelobogOfTheArchitects,r)&&_t(Ko,t,n,e),at(ot.PanCosmicCommercialEnterprise,r)&&_t(xo,t,n,e),at(ot.BrokenKeel,r)&&_t(wo,t,n,e),at(ot.TaliaKingdomOfBanditry,r)&&_t(Vo,t,n,e),at(ot.BoneCollectionsSereneDemesne,r)&&_t($o,t,n,e),at(ot.GiantTreeOfRaptBrooding,r)&&_t(zo,t,n,e),at(ot.GiantTreeOfRaptBrooding,r)&&_t(jo,t,n,e));for(const f of e.characterConditionalController.dynamicConditionals??[])_t(f,t,n,e);for(const f of e.lightConeConditionalController.dynamicConditionals??[])_t(f,t,n,e);for(const f of n.teammateDynamicConditionals??[])_t(f,t,n,e);return c[4]==c[5]&&(at(ot.FirmamentFrontlineGlamoth,r)&&t.a[l.SPD]>=135&&t.ELEMENTAL_DMG.buff(t.a[l.SPD]>=160?.18:.12,A.FirmamentFrontlineGlamoth),at(ot.RutilantArena,r)&&t.a[l.CR]>=.7&&z(t,st|Y,.2,A.RutilantArena),at(ot.InertSalsotto,r)&&t.a[l.CR]>=.5&&z(t,$|Z,.15,A.InertSalsotto)),df(ot.IronCavalryAgainstTheScourge,r)&&t.a[l.BE]>=1.5&&(Rt(t,Dt,.1,A.IronCavalryAgainstTheScourge),Rt(t,uo,t.a[l.BE]>=2.5?.15:0,A.IronCavalryAgainstTheScourge)),t}function uf(t,n,e,a,o){const[i,r,c,s,f,d]=o;if(f==d){const p=Po[f];p.p2x&&p.p2x(t,n,e)}if(i===r&&r===c&&c===s){const p=ae[i];p.p2x&&p.p2x(t,n,e),p.p4x&&p.p4x(t,n,e);return}if(i===r||i===c||i===s){const p=ae[i];p.p2x&&p.p2x(t,n,e)}if((r===c||r===s)&&r!==i){const p=ae[r];p.p2x&&p.p2x(t,n,e)}if(c===s&&c!==i&&c!==r){const p=ae[c];p.p2x&&p.p2x(t,n,e)}}function at(t,n){return n[t]>>1}function df(t,n){return n[t]>>2}function mf(t,n,e,a,o,i,r,c){const s=t.a;if(n!=null&&n.condensedStats)for(const f of n.condensedStats)s[f[0]]+=f[1];if(e!=null&&e.condensedStats)for(const f of e.condensedStats)s[f[0]]+=f[1];if(a!=null&&a.condensedStats)for(const f of a.condensedStats)s[f[0]]+=f[1];if(o!=null&&o.condensedStats)for(const f of o.condensedStats)s[f[0]]+=f[1];if(i!=null&&i.condensedStats)for(const f of i.condensedStats)s[f[0]]+=f[1];if(r!=null&&r.condensedStats)for(const f of r.condensedStats)s[f[0]]+=f[1];t.setWeight(n.weightScore+e.weightScore+a.weightScore+o.weightScore+i.weightScore+r.weightScore)}function pt(t,n,e,a,o,i){return n[t]+e[t]+o.a[on[t]]+a[t]+i}function Ae(t,n,e,a,o,i,r){return e*(1+r+i.a[on[n]]+o[n]+a[n])+i.a[on[t]]+o[t]}const Ho={id:"SpaceSealingStationConditional",type:tt.SET,activation:q.SINGLE,dependsOn:[g.SPD],chainsTo:[g.ATK],condition:function(t,n,e){return at(ot.SpaceSealingStation,t.c.sets)&&t.a[l.SPD]>=120},effect:(t,n,e)=>{t.ATK.buffDynamic(.12*e.baseATK,A.SpaceSealingStation,n,e)},gpu:function(){return ut(this,`
if (
  p2((*p_sets).SpaceSealingStation) >= 1 &&
  (*p_state).SpaceSealingStationConditional == 0.0 &&
  x.SPD >= 120
) {
  (*p_state).SpaceSealingStationConditional = 1.0;
  (*p_x).ATK += 0.12 * baseATK;
}
    `)}},Fo={id:"FleetOfTheAgelessConditional",type:tt.SET,activation:q.SINGLE,dependsOn:[g.SPD],chainsTo:[g.ATK],condition:function(t,n,e){return at(ot.FleetOfTheAgeless,t.c.sets)&&t.a[l.SPD]>=120},effect:(t,n,e)=>{t.ATK.buffDynamic(.08*t.a[l.BASE_ATK],A.FleetOfTheAgeless,n,e),t.a[l.MEMOSPRITE]&&t.m.ATK.buffDynamic(.08*t.a[l.BASE_ATK],A.FleetOfTheAgeless,n,e)},gpu:function(){return ut(this,`
if (
  p2((*p_sets).FleetOfTheAgeless) >= 1 &&
  (*p_state).FleetOfTheAgelessConditional == 0.0 &&
  x.SPD >= 120
) {
  (*p_state).FleetOfTheAgelessConditional = 1.0;
  (*p_x).ATK += 0.08 * baseATK;
  (*p_m).ATK += 0.08 * baseATK;
}
    `)}},Ko={id:"BelobogOfTheArchitectsConditional",type:tt.SET,activation:q.SINGLE,dependsOn:[g.EHR],chainsTo:[g.DEF],condition:function(t,n,e){return at(ot.BelobogOfTheArchitects,t.c.sets)&&t.a[l.EHR]>=.5},effect:(t,n,e)=>{t.DEF.buffDynamic(.15*e.baseDEF,A.BelobogOfTheArchitects,n,e)},gpu:function(){return ut(this,`
if (
  p2((*p_sets).BelobogOfTheArchitects) >= 1 &&
  (*p_state).BelobogOfTheArchitectsConditional == 0.0 &&
  x.EHR >= 0.50
) {
  (*p_state).BelobogOfTheArchitectsConditional = 1.0;
  (*p_x).DEF += 0.15 * baseDEF;
}
    `)}},xo={id:"PanCosmicCommercialEnterpriseConditional",type:tt.SET,activation:q.CONTINUOUS,dependsOn:[g.EHR],chainsTo:[g.ATK],condition:function(t,n,e){return at(ot.PanCosmicCommercialEnterprise,t.c.sets)},effect:function(t,n,e){const a=n.conditionalState[this.id]||0,o=Math.min(.25,.25*t.a[l.EHR])*e.baseATK;return n.conditionalState[this.id]=o,t.ATK.buffDynamic(o-a,A.PanCosmicCommercialEnterprise,n,e),o},gpu:function(){return ut(this,`
if (
  p2((*p_sets).PanCosmicCommercialEnterprise) >= 1
) {
  let stateValue: f32 = (*p_state).PanCosmicCommercialEnterpriseConditional;
  let buffValue: f32 = min(0.25, 0.25 * x.EHR) * baseATK;

  (*p_state).PanCosmicCommercialEnterpriseConditional = buffValue;
  (*p_x).ATK += buffValue - stateValue;
}
    `)}},wo={id:"BrokenKeelConditional",type:tt.SET,activation:q.SINGLE,dependsOn:[g.RES],chainsTo:[g.CD],condition:function(t,n,e){return at(ot.BrokenKeel,t.c.sets)&&t.a[l.RES]>=.3},effect:function(t,n,e){t.CD.buffDynamic(.1,A.BrokenKeel,n,e),t.a[l.MEMOSPRITE]&&t.m.CD.buffDynamic(.1,A.BrokenKeel,n,e)},gpu:function(){return ut(this,`
if (
  p2((*p_sets).BrokenKeel) >= 1 &&
  (*p_state).BrokenKeelConditional == 0.0 &&
  x.RES >= 0.30
) {
  (*p_state).BrokenKeelConditional = 1.0;
  (*p_x).CD += 0.10;
  (*p_m).CD += 0.10;
}
    `)}},Vo={id:"TaliaKingdomOfBanditryConditional",type:tt.SET,activation:q.SINGLE,dependsOn:[g.SPD],chainsTo:[g.BE],condition:function(t,n,e){return at(ot.TaliaKingdomOfBanditry,t.c.sets)&&t.a[l.SPD]>=145},effect:function(t,n,e){t.BE.buffDynamic(.2,A.TaliaKingdomOfBanditry,n,e)},gpu:function(){return ut(this,`
if (
  p2((*p_sets).TaliaKingdomOfBanditry) >= 1 &&
  (*p_state).TaliaKingdomOfBanditryConditional == 0.0 &&
  x.SPD >= 145
) {
  (*p_state).TaliaKingdomOfBanditryConditional = 1.0;
  (*p_x).BE += 0.20;
}
    `)}},zo={id:"GiantTreeOfRaptBrooding135Conditional",type:tt.SET,activation:q.SINGLE,dependsOn:[g.SPD],chainsTo:[g.OHB],condition:function(t,n,e){return at(ot.GiantTreeOfRaptBrooding,t.c.sets)&&t.a[l.SPD]>=135},effect:(t,n,e)=>{t.OHB.buffDynamic(.12,A.GiantTreeOfRaptBrooding,n,e),t.m.OHB.buffDynamic(.12,A.GiantTreeOfRaptBrooding,n,e)},gpu:function(){return ut(this,`
if (
  p2((*p_sets).GiantTreeOfRaptBrooding) >= 1 &&
  (*p_state).GiantTreeOfRaptBrooding135Conditional == 0.0 &&
  x.SPD >= 135
) {
  (*p_state).GiantTreeOfRaptBrooding135Conditional = 1.0;
  (*p_x).OHB += 0.12;
  (*p_m).OHB += 0.12;
}
    `)}},jo={id:"GiantTreeOfRaptBrooding180Conditional",type:tt.SET,activation:q.SINGLE,dependsOn:[g.SPD],chainsTo:[g.OHB],condition:function(t,n,e){return at(ot.GiantTreeOfRaptBrooding,t.c.sets)&&t.a[l.SPD]>=180},effect:(t,n,e)=>{t.OHB.buffDynamic(.08,A.GiantTreeOfRaptBrooding,n,e),t.m.OHB.buffDynamic(.08,A.GiantTreeOfRaptBrooding,n,e)},gpu:function(){return ut(this,`
if (
  p2((*p_sets).GiantTreeOfRaptBrooding) >= 1 &&
  (*p_state).GiantTreeOfRaptBrooding180Conditional == 0.0 &&
  x.SPD >= 180
) {
  (*p_state).GiantTreeOfRaptBrooding180Conditional = 1.0;
  (*p_x).OHB += 0.08;
  (*p_m).OHB += 0.08;
}
    `)}},$o={id:"BoneCollectionsSereneDemesneConditional",type:tt.SET,activation:q.SINGLE,dependsOn:[g.HP],chainsTo:[g.CD],condition:function(t,n,e){return at(ot.BoneCollectionsSereneDemesne,t.c.sets)&&t.a[l.HP]>=5e3},effect:(t,n,e)=>{t.CD.buffBaseDualDynamic(.28,A.BoneCollectionsSereneDemesne,n,e)},gpu:function(){return ut(this,`
if (
  p2((*p_sets).BoneCollectionsSereneDemesne) >= 1 &&
  (*p_state).BoneCollectionsSereneDemesneConditional == 0.0 &&
  x.HP >= 5000
) {
  (*p_state).BoneCollectionsSereneDemesneConditional = 1.0;
  (*p_x).CD += 0.28;
  (*p_m).CD += 0.28;
}
    `)}},Sf=[Ho,Fo,Ko,xo,wo,Vo,zo,jo,$o];function Cf(t,n){const e=Ge.get(n),a=No.get(n),o=Ef();be(o,a.dynamicConditionals??[]),be(o,e.dynamicConditionals??[]),be(o,Sf||[]),qe(o,n.teammate0Metadata,t,0),qe(o,n.teammate1Metadata,t,1),qe(o,n.teammate2Metadata,t,2),t.conditionalRegistry=o,t.conditionalState={}}function qe(t,n,e,a){if(n){const i=(Ge.get(n).teammateDynamicConditionals??[]).map(r=>{const c=Yo(r,a);return e.teammateDynamicConditionals.push(c),c});be(t,i)}}function Yo(t,n){const e={...t,teammateIndex:n};return e.id+=`_Teammate${n}`,e}function Ef(){return{[g.HP]:[],[g.ATK]:[],[g.DEF]:[],[g.SPD]:[],[g.CR]:[],[g.CD]:[],[g.EHR]:[],[g.RES]:[],[g.BE]:[],[g.OHB]:[],[g.ERR]:[]}}function be(t,n){for(const e of n)for(const a of e.dependsOn)t[a].push(e)}function _f(t,n,e){const a=e.lightConeConditionalController,o=e.characterConditionalController;a.finalizeCalculations&&a.finalizeCalculations(t,n,e),o.finalizeCalculations&&o.finalizeCalculations(t,n,e)}function Wo(t,n,e){t.a[l.MEMOSPRITE]&&Wo(t.m,n,e);const a=e.enemyLevel,o=t.a;pf(t,e),gf(t),Tf(t),o[l.CR]+=o[l.CR_BOOST],o[l.CD]+=o[l.CD_BOOST],o[l.ATK]+=o[l.ATK_P_BOOST]*e.baseATK,o[l.ELEMENTAL_DMG]+=Ta(t,e.elementalDamageType);const i=1+o[l.ELEMENTAL_DMG],r=o[l.DEF_PEN]+e.combatBuffs.DEF_PEN,c=o[l.ENEMY_WEAKNESS_BROKEN]?1:.9,s=e.enemyDamageResistance-o[l.RES_PEN]-e.combatBuffs.RES_PEN-ga(t,e.elementalResPenType),f=1+o[l.BREAK_EFFICIENCY_BOOST];o[l.BREAK_DMG]=c*3767.5533*e.elementalBreakScaling*se(a,r+o[l.BREAK_DEF_PEN])*(.5+e.enemyMaxToughness/120)*(1+o[l.VULNERABILITY]+o[l.BREAK_VULNERABILITY])*(1-s)*(1+o[l.BE])*(1+o[l.BREAK_DMG_BOOST]);const d=c*3767.5533/10*se(a,r+o[l.SUPER_BREAK_DEF_PEN])*(1+o[l.VULNERABILITY]+o[l.SUPER_BREAK_VULNERABILITY])*(1-s)*(1+o[l.BE])*(1+o[l.SUPER_BREAK_DMG_BOOST]);if(n.actionType=="DEFAULT"){const _=i+o[l.DOT_DMG_BOOST],L=se(a,r+o[l.DOT_DEF_PEN]),I=1+o[l.VULNERABILITY]+o[l.DOT_VULNERABILITY],P=1-(s-o[l.DOT_RES_PEN]),H=Df(t,e),F=o[l.TRUE_DMG_MODIFIER]+o[l.DOT_TRUE_DMG_MODIFIER],R=Pt(o,e,o[l.DOT_DMG],o[l.DOT_HP_SCALING],o[l.DOT_DEF_SCALING],o[l.DOT_ATK_SCALING],o[l.DOT_ATK_P_BOOST]);o[l.DOT_DMG]=hf(t,n,l.DOT_DMG,R,c,_,L,I,P,H,F)}if((n.actionType=="BASIC"||n.actionType=="DEFAULT")&&e.activeAbilityFlags&G.BASIC){const _=Pt(o,e,o[l.BASIC_DMG],o[l.BASIC_HP_SCALING],o[l.BASIC_DEF_SCALING],o[l.BASIC_ATK_SCALING],o[l.BASIC_ATK_P_BOOST]);o[l.BASIC_DMG]=$t(t,n,e,c,i,r,s,d,f,l.BASIC_DMG,_,o[l.BASIC_DMG_BOOST],o[l.BASIC_VULNERABILITY],o[l.BASIC_DEF_PEN],o[l.BASIC_RES_PEN],o[l.BASIC_CR_BOOST],o[l.BASIC_CD_BOOST],o[l.BASIC_FINAL_DMG_BOOST],o[l.BASIC_BREAK_EFFICIENCY_BOOST],o[l.BASIC_SUPER_BREAK_MODIFIER],o[l.BASIC_BREAK_DMG_MODIFIER],o[l.BASIC_TOUGHNESS_DMG],o[l.BASIC_ADDITIONAL_DMG],0,0,o[l.BASIC_TRUE_DMG_MODIFIER],t.a[l.MEMOSPRITE]?t.m.a[l.BASIC_DMG]:0)}if((n.actionType=="SKILL"||n.actionType=="DEFAULT")&&e.activeAbilityFlags&G.SKILL){const _=Pt(o,e,o[l.SKILL_DMG],o[l.SKILL_HP_SCALING],o[l.SKILL_DEF_SCALING],o[l.SKILL_ATK_SCALING],o[l.SKILL_ATK_P_BOOST]);o[l.SKILL_DMG]=$t(t,n,e,c,i,r,s,d,f,l.SKILL_DMG,_,o[l.SKILL_DMG_BOOST],o[l.SKILL_VULNERABILITY],o[l.SKILL_DEF_PEN],o[l.SKILL_RES_PEN],o[l.SKILL_CR_BOOST],o[l.SKILL_CD_BOOST],o[l.SKILL_FINAL_DMG_BOOST],0,0,0,o[l.SKILL_TOUGHNESS_DMG],o[l.SKILL_ADDITIONAL_DMG],0,0,o[l.SKILL_TRUE_DMG_MODIFIER],t.a[l.MEMOSPRITE]?t.m.a[l.SKILL_DMG]:0)}if((n.actionType=="ULT"||n.actionType=="DEFAULT")&&e.activeAbilityFlags&G.ULT){const _=Pt(o,e,o[l.ULT_DMG],o[l.ULT_HP_SCALING],o[l.ULT_DEF_SCALING],o[l.ULT_ATK_SCALING],o[l.ULT_ATK_P_BOOST]);o[l.ULT_DMG]=$t(t,n,e,c,i,r,s,d,f,l.ULT_DMG,_,o[l.ULT_DMG_BOOST],o[l.ULT_VULNERABILITY],o[l.ULT_DEF_PEN],o[l.ULT_RES_PEN],o[l.ULT_CR_BOOST],o[l.ULT_CD_BOOST],o[l.ULT_FINAL_DMG_BOOST],o[l.ULT_BREAK_EFFICIENCY_BOOST],0,0,o[l.ULT_TOUGHNESS_DMG],o[l.ULT_ADDITIONAL_DMG],o[l.ULT_ADDITIONAL_DMG_CR_OVERRIDE],o[l.ULT_ADDITIONAL_DMG_CD_OVERRIDE],o[l.ULT_TRUE_DMG_MODIFIER],t.a[l.MEMOSPRITE]?t.m.a[l.ULT_DMG]:0)}if((n.actionType=="FUA"||n.actionType=="DEFAULT")&&e.activeAbilityFlags&G.FUA){const _=Pt(o,e,o[l.FUA_DMG],o[l.FUA_HP_SCALING],o[l.FUA_DEF_SCALING],o[l.FUA_ATK_SCALING],o[l.FUA_ATK_P_BOOST]);o[l.FUA_DMG]=$t(t,n,e,c,i,r,s,d,f,l.FUA_DMG,_,o[l.FUA_DMG_BOOST],o[l.FUA_VULNERABILITY],o[l.FUA_DEF_PEN],o[l.FUA_RES_PEN],o[l.FUA_CR_BOOST],o[l.FUA_CD_BOOST],0,0,0,0,o[l.FUA_TOUGHNESS_DMG],o[l.FUA_ADDITIONAL_DMG],0,0,o[l.FUA_TRUE_DMG_MODIFIER],t.a[l.MEMOSPRITE]?t.m.a[l.FUA_DMG]:0)}if((n.actionType=="MEMO_SKILL"||n.actionType=="DEFAULT")&&e.activeAbilityFlags&G.MEMO_SKILL)if(t.a[l.MEMOSPRITE])o[l.MEMO_SKILL_DMG]+=t.m.a[l.MEMO_SKILL_DMG];else{const _=Pt(o,e,o[l.MEMO_SKILL_DMG],o[l.MEMO_SKILL_HP_SCALING],o[l.MEMO_SKILL_DEF_SCALING],o[l.MEMO_SKILL_ATK_SCALING],o[l.MEMO_SKILL_ATK_P_BOOST]);o[l.MEMO_SKILL_DMG]=$t(t,n,e,c,i,r,s,d,f,l.MEMO_SKILL_DMG,_,o[l.MEMO_SKILL_DMG_BOOST],0,0,0,0,0,0,0,0,0,o[l.MEMO_SKILL_TOUGHNESS_DMG],0,0,0,o[l.MEMO_SKILL_TRUE_DMG_MODIFIER],0)}if((n.actionType=="MEMO_TALENT"||n.actionType=="DEFAULT")&&e.activeAbilityFlags&G.MEMO_TALENT)if(t.a[l.MEMOSPRITE])o[l.MEMO_TALENT_DMG]+=t.m.a[l.MEMO_TALENT_DMG];else{const _=Pt(o,e,o[l.MEMO_TALENT_DMG],o[l.MEMO_TALENT_HP_SCALING],o[l.MEMO_TALENT_DEF_SCALING],o[l.MEMO_TALENT_ATK_SCALING],o[l.MEMO_TALENT_ATK_P_BOOST]);o[l.MEMO_TALENT_DMG]=$t(t,n,e,c,i,r,s,d,f,l.MEMO_TALENT_DMG,_,o[l.MEMO_TALENT_DMG_BOOST],0,0,0,0,0,0,0,0,0,o[l.MEMO_TALENT_TOUGHNESS_DMG],0,0,0,o[l.MEMO_TALENT_TRUE_DMG_MODIFIER],0)}const p=o[l.BREAK_DMG]*(o[l.TRUE_DMG_MODIFIER]+o[l.BREAK_TRUE_DMG_MODIFIER]);if(t.trace&&n.actionType=="DEFAULT"){const _=rn[l.BREAK_DMG].name,L=t.dmgSplits[_];L.breakDmg=o[l.BREAK_DMG],L.trueDmg=p}o[l.BREAK_DMG]+=p}const fo=100;function Pt(t,n,e,a,o,i,r){return e+a*t[l.HP]+o*t[l.DEF]+i*(t[l.ATK]+r*n.baseATK)}function se(t,n){return fo/((t+20)*Math.max(0,1-n)+fo)}function pf(t,n){const e=t.a;let a=e[l.HP]/(1-e[l.DEF]/(e[l.DEF]+200+10*n.enemyLevel));a*=1/e[l.DMG_RED_MULTI],e[l.EHP]=a}function gf(t,n){const e=t.a;e[l.HEAL_VALUE]=e[l.HEAL_VALUE]*(1+e[l.OHB]+e[l.SKILL_OHB]*(e[l.HEAL_TYPE]==Y?1:0)+e[l.ULT_OHB]*(e[l.HEAL_TYPE]==$?1:0))}function Tf(t,n){const e=t.a;e[l.SHIELD_VALUE]=e[l.SHIELD_VALUE]*(1+e[l.SHIELD_BOOST])}function $t(t,n,e,a,o,i,r,c,s,f,d,p,_,L,I,P,H,F,R,y,U,N,v,M,O,h,T){const B=t.a,u=e.enemyLevel;let C=0;if(d){const w=Math.min(1,B[l.CR]+P),W=B[l.CD]+B[l.CD_BOOST]+H,rt=w*(1+W)+(1-w),Mt=1+B[l.VULNERABILITY]+_,kt=se(u,i+L),Lt=1-(r-I),xt=1+F+B[l.FINAL_DMG_BOOST];C=Af(d,a,o+p,kt,Mt,rt,Lt,xt)}let E=0;U&&(E=U*B[l.BREAK_DMG]);let S=0;const b=B[l.SUPER_BREAK_MODIFIER]+y;b>0&&(S=Bf(c,b,s+R,N));let k=0;if(v>0){const w=M||Math.min(1,B[l.CR]),W=O||B[l.CD],rt=w*(1+W)+(1-w);k=bf(v,a,o+B[l.ADDITIONAL_DMG_BOOST],se(u,i),1+B[l.VULNERABILITY],rt,1-r)}const D=C+E+S+k,K=(B[l.TRUE_DMG_MODIFIER]+h)*D;let x=0;if(T>0&&(x=T),t.trace&&n.actionType=="DEFAULT"){const w=rn[f].name,W=t.dmgSplits[w];W.abilityDmg=C,W.breakDmg=E,W.superBreakDmg=S,W.additionalDmg=k,W.trueDmg=K,W.jointDmg=x}return D+K+x}function Bf(t,n,e,a){return t*n*e*a}function Af(t,n,e,a,o,i,r,c){return t*n*e*a*o*i*r*c}function hf(t,n,e,a,o,i,r,c,s,f,d){const p=a*o*i*r*c*s*f,_=p*d;if(t.trace&&n.actionType=="DEFAULT"){const L=rn[e].name,I=t.dmgSplits[L];I.dotDmg=p,I.trueDmg=_}return p+_}function Df(t,n){const e=t.a,a=n.enemyEffectResistance,o=Math.min(1,e[l.DOT_CHANCE]*(1+e[l.EHR])*(1-a+e[l.EFFECT_RES_PEN]));return e[l.DOT_SPLIT]?(1+e[l.DOT_SPLIT]*o*(e[l.DOT_STACKS]-1))/(1+e[l.DOT_SPLIT]*(e[l.DOT_STACKS]-1)):o}function bf(t,n,e,a,o,i,r){return t*n*e*a*o*i*r}const Lf={ATK:{key:"ATK",gpuProperty:"ATK",basicProperty:"ATK",combatProperty:"ATK",basicGridColumn:"ATK",combatGridColumn:"xATK",memoBasicGridColumn:"mATK",memoCombatGridColumn:"mxATK",optimizerKey:l.ATK},DEF:{key:"DEF",gpuProperty:"DEF",basicProperty:"DEF",combatProperty:"DEF",basicGridColumn:"DEF",combatGridColumn:"xDEF",memoBasicGridColumn:"mATK",memoCombatGridColumn:"mxATK",optimizerKey:l.DEF},HP:{key:"HP",gpuProperty:"HP",basicProperty:"HP",combatProperty:"HP",basicGridColumn:"HP",combatGridColumn:"xHP",memoBasicGridColumn:"mATK",memoCombatGridColumn:"mxATK",optimizerKey:l.HP},SPD:{key:"SPD",gpuProperty:"SPD",basicProperty:"SPD",combatProperty:"SPD",basicGridColumn:"SPD",combatGridColumn:"xSPD",memoBasicGridColumn:"mSPD",memoCombatGridColumn:"mxSPD",optimizerKey:l.SPD},CR:{key:"CR",gpuProperty:"CR",basicProperty:"CRIT Rate",combatProperty:"CRIT Rate",basicGridColumn:"CRIT Rate",combatGridColumn:"xCR",memoBasicGridColumn:"mCR",memoCombatGridColumn:"mxCR",optimizerKey:l.CR},CD:{key:"CD",gpuProperty:"CD",basicProperty:"CRIT DMG",combatProperty:"CRIT DMG",basicGridColumn:"CRIT DMG",combatGridColumn:"xCD",memoBasicGridColumn:"mCD",memoCombatGridColumn:"mxCD",optimizerKey:l.CD},EHR:{key:"EHR",gpuProperty:"EHR",basicProperty:"Effect Hit Rate",combatProperty:"Effect Hit Rate",basicGridColumn:"Effect Hit Rate",combatGridColumn:"xEHR",memoBasicGridColumn:"mEHR",memoCombatGridColumn:"mxEHR",optimizerKey:l.EHR},RES:{key:"RES",gpuProperty:"RES",basicProperty:"Effect RES",combatProperty:"Effect RES",basicGridColumn:"Effect RES",combatGridColumn:"xRES",memoBasicGridColumn:"mRES",memoCombatGridColumn:"mxRES",optimizerKey:l.RES},BE:{key:"BE",gpuProperty:"BE",basicProperty:"Break Effect",combatProperty:"Break Effect",basicGridColumn:"Break Effect",combatGridColumn:"xBE",memoBasicGridColumn:"mBE",memoCombatGridColumn:"mxBE",optimizerKey:l.BE},OHB:{key:"OHB",gpuProperty:"OHB",basicProperty:"Outgoing Healing Boost",combatProperty:"Outgoing Healing Boost",basicGridColumn:"Outgoing Healing Boost",combatGridColumn:"xOHB",memoBasicGridColumn:"mOHB",memoCombatGridColumn:"mxOHB",optimizerKey:l.OHB},ERR:{key:"ERR",gpuProperty:"ERR",basicProperty:"Energy Regeneration Rate",combatProperty:"Energy Regeneration Rate",basicGridColumn:"Energy Regeneration Rate",combatGridColumn:"xERR",memoBasicGridColumn:"mERR",memoCombatGridColumn:"mxERR",optimizerKey:l.ERR},ELEMENTAL_DMG:{key:"ELEMENTAL_DMG",gpuProperty:"ELEMENTAL_DMG",basicProperty:"ELEMENTAL_DMG",combatProperty:"ELEMENTAL_DMG",basicGridColumn:"ED",combatGridColumn:"xELEMENTAL_DMG",memoBasicGridColumn:"mELEMENTAL_DMG",memoCombatGridColumn:"mxELEMENTAL_DMG",optimizerKey:l.ELEMENTAL_DMG,isComputedRating:!0},EHP:{key:"EHP",gpuProperty:"EHP",basicProperty:"EHP",combatProperty:"EHP",basicGridColumn:"EHP",combatGridColumn:"EHP",memoBasicGridColumn:"mxEHP",memoCombatGridColumn:"mxEHP",optimizerKey:l.EHP,isComputedRating:!0},BASIC:{key:"BASIC",gpuProperty:"BASIC_DMG",basicProperty:"BASIC_DMG",combatProperty:"BASIC_DMG",basicGridColumn:"BASIC",combatGridColumn:"BASIC",memoBasicGridColumn:"BASIC",memoCombatGridColumn:"BASIC",optimizerKey:l.BASIC_DMG,isComputedRating:!0},SKILL:{key:"SKILL",gpuProperty:"SKILL_DMG",basicProperty:"SKILL_DMG",combatProperty:"SKILL_DMG",basicGridColumn:"SKILL",combatGridColumn:"SKILL",memoBasicGridColumn:"SKILL",memoCombatGridColumn:"SKILL",optimizerKey:l.SKILL_DMG,isComputedRating:!0},ULT:{key:"ULT",gpuProperty:"ULT_DMG",basicProperty:"ULT_DMG",combatProperty:"ULT_DMG",basicGridColumn:"ULT",combatGridColumn:"ULT",memoBasicGridColumn:"ULT",memoCombatGridColumn:"ULT",optimizerKey:l.ULT_DMG,isComputedRating:!0},FUA:{key:"FUA",gpuProperty:"FUA_DMG",basicProperty:"FUA_DMG",combatProperty:"FUA_DMG",basicGridColumn:"FUA",combatGridColumn:"FUA",memoBasicGridColumn:"FUA",memoCombatGridColumn:"FUA",optimizerKey:l.FUA_DMG,isComputedRating:!0},MEMO_SKILL:{key:"MEMO_SKILL",gpuProperty:"MEMO_SKILL_DMG",basicProperty:"MEMO_SKILL_DMG",combatProperty:"MEMO_SKILL_DMG",basicGridColumn:"MEMO_SKILL",combatGridColumn:"MEMO_SKILL",memoBasicGridColumn:"MEMO_SKILL",memoCombatGridColumn:"MEMO_SKILL",optimizerKey:l.MEMO_SKILL_DMG,isComputedRating:!0},MEMO_TALENT:{key:"MEMO_TALENT",gpuProperty:"MEMO_TALENT_DMG",basicProperty:"MEMO_TALENT_DMG",combatProperty:"MEMO_TALENT_DMG",basicGridColumn:"MEMO_TALENT",combatGridColumn:"MEMO_TALENT",memoBasicGridColumn:"MEMO_TALENT",memoCombatGridColumn:"MEMO_TALENT",optimizerKey:l.MEMO_TALENT_DMG,isComputedRating:!0},DOT:{key:"DOT",gpuProperty:"DOT_DMG",basicProperty:"DOT_DMG",combatProperty:"DOT_DMG",basicGridColumn:"DOT",combatGridColumn:"DOT",memoBasicGridColumn:"DOT",memoCombatGridColumn:"DOT",optimizerKey:l.DOT_DMG,isComputedRating:!0},BREAK:{key:"BREAK",gpuProperty:"BREAK_DMG",basicProperty:"BREAK_DMG",combatProperty:"BREAK_DMG",basicGridColumn:"BREAK",combatGridColumn:"BREAK",memoBasicGridColumn:"BREAK",memoCombatGridColumn:"BREAK",optimizerKey:l.BREAK_DMG,isComputedRating:!0},COMBO:{key:"COMBO",gpuProperty:"COMBO_DMG",basicProperty:"COMBO_DMG",combatProperty:"COMBO_DMG",basicGridColumn:"COMBO",combatGridColumn:"COMBO",memoBasicGridColumn:"COMBO",memoCombatGridColumn:"COMBO",optimizerKey:l.COMBO_DMG,isComputedRating:!0},HEAL:{key:"HEAL",gpuProperty:"HEAL_VALUE",basicProperty:"HEAL_VALUE",combatProperty:"HEAL_VALUE",basicGridColumn:"HEAL",combatGridColumn:"HEAL",memoBasicGridColumn:"HEAL",memoCombatGridColumn:"HEAL",optimizerKey:l.HEAL_VALUE,isComputedRating:!0},SHIELD:{key:"SHIELD",gpuProperty:"SHIELD_VALUE",basicProperty:"SHIELD_VALUE",combatProperty:"SHIELD_VALUE",basicGridColumn:"SHIELD",combatGridColumn:"SHIELD",memoBasicGridColumn:"SHIELD",memoCombatGridColumn:"SHIELD",optimizerKey:l.SHIELD_VALUE,isComputedRating:!0}},Yt=Object.values(re).length,Of=Object.values(le).length;function If(t){var C,E,S;const n=t.data,e=n.request,a=n.context,o=n.relics,i=new Float32Array(n.buffer),r=o.LinkRope.length,c=o.PlanarSphere.length,s=o.Feet.length,f=o.Body.length,d=o.Hands.length,p=o.Head.length,_=n.relicSetSolutions,L=n.ornamentSetSolutions,I=e.statDisplay=="combat",P=!I,H=e.memoDisplay=="memo",F=!H;let R=0;n.isFirefox;const{failsBasicThresholdFilter:y,failsCombatThresholdFilter:U}=kf(e,I);for(const b of a.actions)Cf(b,a);a.characterConditionalController=Ge.get(a),a.lightConeConditionalController=No.get(a);function N(b,k,D){k!=null&&k.characterId&&(Ge.get(k).teammateDynamicConditionals??[]).map(x=>{const w=Yo(x,D);return b.teammateDynamicConditionals.push(w),w})}for(const b of a.actions)b.teammateDynamicConditionals=[],(C=a.teammate0Metadata)!=null&&C.characterId&&N(b,a.teammate0Metadata,0),(E=a.teammate1Metadata)!=null&&E.characterId&&N(b,a.teammate1Metadata,1),(S=a.teammate2Metadata)!=null&&S.characterId&&N(b,a.teammate2Metadata,2),b.precomputedX.a=new Float32Array(Object.values(b.precomputedX.a)),b.precomputedM.a=new Float32Array(Object.values(b.precomputedM.a));const v=Math.min(n.permutations,n.WIDTH),M=new Pe(!1),O=new ln(!1),h=O.m,T=Uf(e),B=Rf(e),u=Mf(e);for(let b=0;b<v;b++){const k=n.skip+b;if(k>=n.permutations)break;const D=k%r,K=(k-D)/r%c,x=(k-K*r-D)/(r*c)%s,w=(k-x*c*r-K*r-D)/(r*c*s)%f,W=(k-w*s*c*r-x*c*r-K*r-D)/(r*c*s*f)%d,rt=(k-W*f*s*c*r-w*s*c*r-x*c*r-K*r-D)/(r*c*s*f*d)%p,Mt=o.Head[rt],kt=o.Hands[W],Lt=o.Body[w],xt=o.Feet[x],Se=o.PlanarSphere[K],Ce=o.LinkRope[D],Sn=Qt[Mt.set],Cn=Qt[kt.set],En=Qt[Lt.set],_n=Qt[xt.set],pn=Oe[Se.set],gn=Oe[Ce.set],Tn=Sn+En*Yt+Cn*Yt*Yt+_n*Yt*Yt*Yt,Bn=pn+gn*Of;if(_[Tn]!=1||L[Bn]!=1)continue;const xe=[Sn,Cn,En,_n,pn,gn],An=af(xe);if(M.init(Tn,Bn,An,xe,b),sf(M,a,An,xe),mf(M,Mt,kt,Lt,xt,Se,Ce),rf(M,a),cf(M,a),P&&F&&(y(M.a)||B(M.a)))continue;O.setBasic(M),O.a[l.MEMOSPRITE]&&(h.setBasic(M.m),M.initMemo());let yt=0;for(let Ee=a.actions.length-1;Ee>=0;Ee--){const Bt=yf(M,Ee,a),Nt=O.a;O.setPrecompute(Bt.precomputedX.a),O.a[l.MEMOSPRITE]&&h.setPrecompute(Bt.precomputedM.a),lf(O,Bt,a),ff(O,Bt,a),_f(O,Bt,a),Wo(O,Bt,a),Bt.actionType==="BASIC"?yt+=Nt[l.BASIC_DMG]:Bt.actionType==="SKILL"?yt+=Nt[l.SKILL_DMG]:Bt.actionType==="ULT"?yt+=Nt[l.ULT_DMG]:Bt.actionType==="FUA"?yt+=Nt[l.FUA_DMG]:Bt.actionType==="MEMO_SKILL"?yt+=Nt[l.MEMO_SKILL_DMG]:Bt.actionType==="MEMO_TALENT"&&(yt+=Nt[l.MEMO_TALENT_DMG]),Ee===0&&(yt+=a.comboDot*Nt[l.DOT_DMG]+a.comboBreak*Nt[l.BREAK_DMG],O.COMBO_DMG.set(yt,A.NONE))}P&&H&&(y(O.m.c.a)||B(O.m.c.a))||I&&F&&(U(O.a)||T(O.a))||I&&H&&(U(O.m.a)||T(O.m.a))||F&&u(O.a)||H&&u(O.m.a)||(Go.packCharacter(i,R,O),R++)}self.postMessage({rows:[],buffer:n.buffer},[n.buffer])}function et(t,n,e,a){(e!==0||a!==nn.MAX_INT)&&t.push(o=>o[n]<e||o[n]>a)}function Rf(t){const n=[];return et(n,l.HP,t.minHp,t.maxHp),et(n,l.ATK,t.minAtk,t.maxAtk),et(n,l.DEF,t.minDef,t.maxDef),et(n,l.SPD,t.minSpd,t.maxSpd),et(n,l.CR,t.minCr,t.maxCr),et(n,l.CD,t.minCd,t.maxCd),et(n,l.EHR,t.minEhr,t.maxEhr),et(n,l.RES,t.minRes,t.maxRes),et(n,l.BE,t.minBe,t.maxBe),et(n,l.ERR,t.minErr,t.maxErr),e=>n.some(a=>a(e))}function Uf(t){const n=[];return et(n,l.HP,t.minHp,t.maxHp),et(n,l.ATK,t.minAtk,t.maxAtk),et(n,l.DEF,t.minDef,t.maxDef),et(n,l.SPD,t.minSpd,t.maxSpd),et(n,l.CR,t.minCr,t.maxCr),et(n,l.CD,t.minCd,t.maxCd),et(n,l.EHR,t.minEhr,t.maxEhr),et(n,l.RES,t.minRes,t.maxRes),et(n,l.BE,t.minBe,t.maxBe),et(n,l.ERR,t.minErr,t.maxErr),e=>n.some(a=>a(e))}function Mf(t){const n=[];return et(n,l.EHP,t.minEhp,t.maxEhp),et(n,l.BASIC_DMG,t.minBasic,t.maxBasic),et(n,l.SKILL_DMG,t.minSkill,t.maxSkill),et(n,l.ULT_DMG,t.minUlt,t.maxUlt),et(n,l.FUA_DMG,t.minFua,t.maxFua),et(n,l.MEMO_SKILL_DMG,t.minMemoSkill,t.maxMemoSkill),et(n,l.MEMO_TALENT_DMG,t.minMemoTalent,t.maxMemoTalent),et(n,l.DOT_DMG,t.minDot,t.maxDot),et(n,l.BREAK_DMG,t.minBreak,t.maxBreak),et(n,l.HEAL_VALUE,t.minHeal,t.maxHeal),et(n,l.SHIELD_VALUE,t.minShield,t.maxShield),e=>n.some(a=>a(e))}function kf(t,n){const e=t.resultMinFilter,a=Lf[t.resultSort],o=a.isComputedRating;if(n||o){const i=a.optimizerKey;return{failsBasicThresholdFilter:()=>!1,failsCombatThresholdFilter:r=>r[i]<e}}else{const i=a.gpuProperty,r=l[i];return{failsBasicThresholdFilter:c=>c[r]<e,failsCombatThresholdFilter:()=>!1}}}function yf(t,n,e){const a=e.actions[n];return{characterConditionals:a.characterConditionals,lightConeConditionals:a.lightConeConditionals,teammate0:a.teammate0,teammate1:a.teammate1,teammate2:a.teammate2,teammateDynamicConditionals:a.teammateDynamicConditionals,setConditionals:a.setConditionals,conditionalRegistry:a.conditionalRegistry,actionType:a.actionType,actionIndex:a.actionIndex,precomputedX:a.precomputedX,precomputedM:a.precomputedM,conditionalState:{}}}var Qo=(t=>(t[t.OPTIMIZER=0]="OPTIMIZER",t[t.EST_TBP=1]="EST_TBP",t))(Qo||{});self.onmessage=function(t){switch(t.data.workerType){case Qo.OPTIMIZER:If(t);break}};
